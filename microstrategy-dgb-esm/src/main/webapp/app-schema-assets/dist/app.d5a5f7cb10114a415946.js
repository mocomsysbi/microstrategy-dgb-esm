webpackJsonp([1],[function(e,t,i){e.exports=i(380)},,,,,,,,,function(e,t,i){e.exports={default:i(1390),__esModule:!0}},,function(e,t,i){var n=i(19),r=i(100),a=i(70),o=i(71),s=i(89),l="prototype",u=function(e,t,i){var c,d,h,f,p=e&u.F,g=e&u.G,v=e&u.S,m=e&u.P,b=e&u.B,y=g?n:v?n[t]||(n[t]={}):(n[t]||{})[l],w=g?r:r[t]||(r[t]={}),x=w[l]||(w[l]={});g&&(i=t);for(c in i)d=!p&&y&&void 0!==y[c],h=(d?y:i)[c],f=b&&d?s(h,n):m&&"function"==typeof h?s(Function.call,h):h,y&&o(y,c,h,e&u.U),w[c]!=h&&a(w,c,f),m&&x[c]!=h&&(x[c]=h)};n.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},,,,,,[2319,25],,68,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.workspaceManager=void 0;var a=i(28),o=r(a),s=i(46),l=r(s),u=i(584),c=r(u),d=i(117),h=r(d),f=i(583),p=r(f),g=i(7),v=r(g),m=i(2),b=r(m),y=i(6),w=r(y),x=i(85),E=i(131),_=i(133),A=i(52),C=i(87),S=i(84),T=i(227),I=i(29),D=i(38),O=i(96),M=i(379),k=r(M),N=i(575),P=r(N),L=i(184),R=n(L),F=i(60),j=i(150),B=i(15),H=r(B),V=i(224),U=i(22),W=i(127),z=i(154),G=function(e){return e.map(function(e){return{dsId:e.datasource.id,name:e.name,namespace:e.ns}})},$=function(){function e(){var t=this;(0,b.default)(this,e),this.setPendingTable=function(e){return(0,I.dispatchAction)((0,W.setTablesPendingStatus)(G(e)))},this.unsetPendingTable=function(e){return(0,I.dispatchAction)((0,W.unsetTablesPendingStatus)(G(e)))},this.addTables=function(e,t){var i=this,n=q.currentWorkspaceMode===R.WORKSPACE_MODE.EDIT,r=n?x.pipelineManager.pipelineVisual.pegraph:x.pipelineManager.pipelineVisual.graph,a=n?x.pipelineManager.selectedPipelineId:null,o=t?r.getZoomPoint(t):r.getNodeLayerPoint(R.NODE_LOCATION.LOCAL_DEFAULT,!0),s=e.map(function(e){return(0,v.default)({},e,{requestId:q.generateRequestId()})});this.setPendingTable(s);var l=[];(0,E.addSourceTables)(this.initialWorkspaceId,a,s,o,{topics:{delayedResponse:function(e){var t=e.status,n=e.tableInfo,r=e.requestId,a=e.pipelineId;if(t===C.SERVICE_RESPONSE.STATUS.ERROR){var o=e.requestId,u=e.message;x.pipelineManager.removeTempTableNode(o),i.unsetPendingTable([s.find(function(e){return e.requestId===o})]),(0,z.openNotification)("Error in adding table",u)}else x.pipelineManager.updateTempTableNode(r,a,n),l.push(r),q.debounceUpdateWorkspaceDefinition(q.initialWorkspaceId,s.filter(function(e){return l.indexOf(e.requestId)>=0})),(0,I.getAllState)().dpState.isEditPipelineMode||(0,I.dispatchAction)((0,D.updateRightPanel)({display:!0}))}},error:function(e){var t=e.jobInfo.message,n=e.requestId;x.pipelineManager.removeTempTableNode(n),i.unsetPendingTable([s.find(function(e){return e.requestId===n})]),(0,z.openNotification)("Add table failure",t)}}).then(function(e){if(e&&Array.isArray(e.responses)){for(var t=0;t<e.responses.length;t++){var i=e.responses[t];i&&i.status===C.SERVICE_RESPONSE.TYPE.IMMEDIATE&&x.pipelineManager.updateTempTableNode(i.requestId,i.pipelineId,i.tableInfo)}x.pipelineManager.pipelineEdited=!0}}).catch(function(e){throw i.unsetPendingTable(s),s.forEach(function(e){x.pipelineManager.removeTempTableNode(e.requestId)}),(0,z.openNotification)("Add Table To Workspace",e.message),e})},this.removePipelines=function(){var e=(0,p.default)(c.default.mark(function e(t,i){var n,r,a,o,s,l,u=this;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,r=!1,a=void 0,e.prev=3,o=c.default.mark(function e(){var i,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.value,e.prev=1,e.next=4,(0,_.removePipeline)(t,i);case 4:n=e.sent,n&&n.status===C.SERVICE_RESPONSE.TYPE.IMMEDIATE&&(r=(0,I.getAllState)().dpState.tableList.filter(function(e){return e.pipelineId===i}),(0,I.dispatchAction)((0,A.updateTableList)({type:"DELETE",list:r})),console.log("pipeline removed",n.pipelineId)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error in deleting pipelines "+e.t0.message);case 11:case"end":return e.stop()}},e,u,[[1,8]])}),s=(0,h.default)(i);case 6:if(n=(l=s.next()).done){e.next=11;break}return e.delegateYield(o(),"t0",8);case 8:n=!0,e.next=6;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),r=!0,a=e.t1;case 17:e.prev=17,e.prev=18,!n&&s.return&&s.return();case 20:if(e.prev=20,!r){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:q.updateWorkspaceDefinition(t);case 26:case"end":return e.stop()}},e,this,[[3,13,17,25],[18,,20,24]])}));return function(t,i){return e.apply(this,arguments)}}(),this.debounceUpdateWorkspaceDefinition=H.default.debounce(this.updateWorkspaceDefinition.bind(this),300),this.updateModelInstanceDefinition=function(){var e=(0,p.default)(c.default.mark(function e(t){var i,n,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null,q.currentDatamodelMapping&&q.currentDatamodelMapping.id?i=q.currentDatamodelMapping.id:mstrAppSchema.modelInstanceId&&(i=mstrAppSchema.modelInstanceId),!i){e.next=14;break}return e.prev=3,e.next=6,(0,T.updateDatasetInstance)(t,i);case 6:n=e.sent,n&&n.status===C.SERVICE_RESPONSE.TYPE.IMMEDIATE&&((0,I.dispatchAction)((0,S.setImportSource)(n.modelInstance)),this.updateSelectedObjects(),console.log("updated model",q.currentDatamodelMapping)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,(0,T.createDatasetInstance)(t);case 17:r=e.sent,r&&r.status===C.SERVICE_RESPONSE.TYPE.IMMEDIATE&&((0,I.dispatchAction)((0,S.setImportSource)(r.modelInstance)),this.updateSelectedObjects(),console.log("new model",q.currentDatamodelMapping)),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),(0,I.dispatchAction)((0,D.showErrorDialog)(e.t1.message,e.t1.errorMessage));case 24:case"end":return e.stop()}},e,this,[[3,10],[14,21]])}));return function(t){return e.apply(this,arguments)}}(),this.updateSelectedObjects=function(){this.updateSelectedAttributes(I.dispatchAction,I.getAllState),this.updateSelectedMetrics(I.dispatchAction,I.getAllState)},this.updateSelectedAttributes=function(e,t){var i=[],n=(0,F.getSelectedAttributesOnPanel)(t());if(n.length>0){var r=(0,F.selectedAttributes)(t());i=H.default.filter(r,function(e){return H.default.findIndex(n,function(t){return t.id===e.id})>=0}),e((0,S.setSelectAttributesOnPanel)(i))}},this.updateSelectedMetrics=function(e,t){var i=[],n=(0,F.getSelectedMetricsOnPanel)(t());if(n.length>0){var r=(0,F.selectedMetrics)(t());i=H.default.filter(r,function(e){return H.default.findIndex(n,function(t){return t.id===e.id})>=0}),e((0,S.setSelectMetricsOnPanel)(i))}},this.removeCacheRecursively=function(e,i){if(i){(0,I.dispatchAction)((0,A.removeTablePreviewFromMap)({tableId:i})),V.facetManager.removeTableFacetBuilder(i);var n=(0,U.selectTableMetadata)(e).filter(function(e){return e.id===i})[0];n&&t.removeCacheRecursively(e,n.parentTgId)}},this.initialWorkspaceId=null,this.currentWorkspaceDefinition=null,this.countWorkspaceDefinitionUpdate=0,this.currentPreviewRequestId=null,this.currentPublishRequestId=null,this.currentAddTableRequestIds={},this.currentPreviewTableId=null,this.currentDatamodelMapping=null,this.currentClientId=null,this.attributeTableMap=null,this.currentWorkspaceMode=R.WORKSPACE_MODE.OVERVIEW,this.datasourceColorDic={},this.featureFlags={version:"0",list:[]},this.requestIdCounter=1,this.userId=this.randomString(10)}return(0,w.default)(e,[{key:"generateRequestId",value:function(){return"sdp_"+this.randomString(16)+"_"+this.requestIdCounter++}},{key:"getUserId",value:function(){return this.userId}},{key:"getDataSourceColor",value:function(e){if(!this.datasourceColorDic[e]){var t=(0,I.getAllState)().dpState.tableList.filter(function(t){return t.id===e})[0];t&&t.datasource?this.datasourceColorDic[e]=j.dataSouceColorPallette.dataTypeColorPalette[t.datasource.databaseType]:this.datasourceColorDic[e]=j.dataSouceColorPallette.dataTypeColorPalette[-2]}return this.datasourceColorDic[e]}},{key:"getDataSourceColorPalette",value:function(e){var t=this,i={},n=[];e&&e.forEach(function(n){var r=t.getDataSourceColor(n);if(r){var a=r.backgroundColor;i[a]?i[a]+=1/e.length:i[a]=1/e.length}});for(var r in i)n.push({color:r,ratio:i[r]});return n}},{key:"getSourceTableIds",value:function(e){var t=[];if(e)for(var i in e){var n=e[i];n.tables?t.push.apply(t,(0,l.default)(this.getSourceTableIds(n.tables))):t.push(n.id)}return t}},{key:"randomString",value:function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}},{key:"updateWorkspaceDefinition",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,_.getWorkspaceDefinition)(e).then(function(n){n.status===C.SERVICE_RESPONSE.TYPE.IMMEDIATE&&(q.currentWorkspaceDefinition=n.data,q.refreshWorkspaceGraph(q.currentWorkspaceDefinition),console.log("updated workspace",q.currentWorkspaceDefinition,++q.countWorkspaceDefinitionUpdate),(0,I.dispatchAction)((0,A.setDefinition)(q.currentWorkspaceDefinition)),t.unsetPendingTable(i),i.splice(0),q.currentWorkspaceMode===R.WORKSPACE_MODE.OVERVIEW&&t.updateModelInstanceDefinition(e))})}},{key:"updateWorkspaceLink",value:function(){if(q.currentDatamodelMapping&&q.currentDatamodelMapping.defn){q.attributeTableMap={};var e={};q.currentDatamodelMapping.defn.objects&&q.currentDatamodelMapping.defn.objects.dbTable&&q.currentDatamodelMapping.defn.objects.dbTable.forEach(function(t){e[t.id]=t.sparkDef.pipelineId});var t={};q.currentDatamodelMapping.defn.objects&&q.currentDatamodelMapping.defn.objects.attribute&&q.currentDatamodelMapping.defn.objects.attribute.forEach(function(e){t[e.id]=e.name}),q.currentDatamodelMapping.defn.objects&&q.currentDatamodelMapping.defn.objects.table&&q.currentDatamodelMapping.defn.objects.table.forEach(function(t){t.attributes&&t.attributes.forEach(function(i){q.attributeTableMap[i.objectId]?q.attributeTableMap[i.objectId].push(e[t.dbTable]):q.attributeTableMap[i.objectId]=[e[t.dbTable]]})});var i={},n={},r=x.pipelineManager.pipelineVisual.graph.allNodes();r.forEach(function(e){i[e.sessionId]=e.id}),x.pipelineManager.pipelineVisual.graph.clearEdges();for(var a in q.attributeTableMap){var o=q.attributeTableMap[a].sort();if(o.length>1)for(var s=0;s<o.length;s++)for(var l=s+1;l<o.length;l++){var u=o[s],c=o[l];n[u]||(n[u]={}),n[u][c]||(n[u][c]=[]),n[u][c].push(t[a])}}for(var d in n){var h=n[d];for(var f in h){var p=h[f],g=new k.default(i[d],i[f],p);g.linewidth=p?Math.min(17,Math.floor(p.length/5)+1):1,x.pipelineManager.pipelineVisual.graph.addEdge(g);var v=x.pipelineManager.pipelineVisual.graph.graph.getEdge(i[d],i[f]);v&&v.setTooltip(p.sort().join("\n"))}}}(0,I.getAllState)().dpState.enableAutoLayout&&x.pipelineManager.pipelineVisual.graph.setLayout(O.GRAPH_LAYOUT.FORCE_DIRECTED)}},{key:"constructWorkspaceGraph",value:function(e){if(e&&e.id===q.initialWorkspaceId&&e.pipelines&&e.pipelines.length>0){var t=[],i=[],n=0;if(e.pipelines.forEach(function(e){var i=e.id;if(e.tableGroup&&e.tableGroup.tables)for(var r in e.tableGroup.tables){var a=e.tableGroup.tables[r],o=i+":"+r,s=new P.default(o,a);s.name=e.name,s.sessionId=i,s.pos={x:100+100*n++,y:100},s.size={w:O.NODE_STYLE.DEFAULT_SIZE.W,h:O.NODE_STYLE.DEFAULT_SIZE.H},s.labelpos=2,s.type="circle",s.tabletype="mt",t.push(s)}}),t.length>0&&x.pipelineManager.pipelineVisual&&x.pipelineManager.pipelineVisual.graph){x.pipelineManager.pipelineVisual.graph.init(t,i);var r=x.pipelineManager.pipelineVisual.graph.allNodes();r&&r.forEach(function(e){if(e.data.tables)e.setTableIconType(O.NODE_STYLE.ICON_TYPE.DERIVED_TABLE,q.getDataSourceColorPalette(q.getSourceTableIds(e.data.tables)));else{var t=q.getDataSourceColor(e.data.id);t&&(e.fillcolor=t.backgroundColor,e.setTableIconType(O.NODE_STYLE.ICON_TYPE.SOURCE_TABLE,t.tableColor))}e.showWrangleIcon(e.data.operationList&&e.data.operationList.operations.length>0)}),(0,I.dispatchAction)((0,D.updateRightPanel)({display:!0})),(0,I.getAllState)().dpState.isEditPipelineMode||(0,I.dispatchAction)((0,D.updateRightPanel)({display:!0}))}}q.restoreTableListStateFromWorkspace()}},{key:"refreshWorkspaceGraph",value:function(e){e&&e.id===q.initialWorkspaceId&&e.pipelines&&e.pipelines.length>0&&e.pipelines.forEach(function(e){var t=e.id;if(e.tableGroup&&e.tableGroup.tables)for(var i in e.tableGroup.tables){var n=e.tableGroup.tables[i],r=t+":"+i,a=x.pipelineManager.pipelineVisual.graph.getNode(r);if(a){if(a.data=n,a.data.tables){var o=q.getSourceTableIds(a.data.tables);a.targetsize=x.pipelineManager.pipelineVisual.getPipelineNodeSize(o),a.setTableIconType(O.NODE_STYLE.ICON_TYPE.DERIVED_TABLE,q.getDataSourceColorPalette(o))}else{var s=q.getDataSourceColor(a.data.id);s&&(a.targetsize=x.pipelineManager.pipelineVisual.getTableNodeSize(a.data.id),a.fillcolor=s.backgroundColor,a.setTableIconType(O.NODE_STYLE.ICON_TYPE.SOURCE_TABLE,s.tableColor))}a.showWrangleIcon(a.data.operationList&&a.data.operationList.operations.length>0)}q.currentWorkspaceMode===R.WORKSPACE_MODE.EDIT&&x.pipelineManager.selectedPipelineId===t&&x.pipelineManager.refreshPipeline(t,n)}}),q.restoreTableListStateFromWorkspace()}},{key:"isWorkspaceEmpty",value:function(){var e=!0;return q.currentWorkspaceDefinition&&q.currentWorkspaceDefinition.pipelines&&q.currentWorkspaceDefinition.pipelines.forEach(function(t){if(t&&t.tableGroup&&t.tableGroup.tables){var i=(0,o.default)(t.tableGroup.tables);i&&i.length>0&&(e=!1)}}),e}},{key:"restoreTableListFromWorkspace",value:function(){var e=this,t=[];return this.currentWorkspaceDefinition.pipelines.forEach(function(i){e.restoreTableListFromPipelineInstance(i,t)}),t}},{key:"restoreTableListFromPipeline",value:function(e){var t=this.currentWorkspaceDefinition.pipelines.find(function(t){return t.id===e}),i=[];return this.restoreTableListFromPipelineInstance(t,i)}},{key:"restoreTableListFromPipelineInstance",value:function(e,t){return e.tableGroup.tables&&this.addTableRecursively(t,e.tableGroup.tables,e.id,e.tableGroup),e.tableGroup.pipelineId=e.id,t.push(e.tableGroup),t}},{key:"addTableRecursively",value:function(e,t,i,n){var r=this;if(t){var a=(0,o.default)(t);a.length>0&&a.forEach(function(a){var o=t[a];o.pipelineId=i,o.parentTableId=n.id,e.push(o),r.addTableRecursively(e,o.tables,i,o)})}}},{key:"restoreTableListStateFromWorkspace",value:function(e){this.replaceTableList(this.restoreTableListFromWorkspace(e))}},{key:"replaceTableList",value:function(e){(0,I.dispatchAction)((0,A.updateTableList)({type:"REPLACE_ALL",list:e}))}},{key:"restoreTableListStateFromPipeline",value:function(e){this.replaceTableList(this.restoreTableListFromPipeline(e))}}]),e}(),q=t.workspaceManager=new $},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectCurrentTableScrollState=t.selectCurrentTableHeader=t.selectDataModel=t.selectShowObjectInfoHeader=t.selectCurrentPreviewTableColumns=t.selectCurrentPreviewTableData=t.selectTablePreviewMap=t.selectCurrentPipelineId=t.selectTableMetadata=t.selectPreviewTableWranglerStatus=t.selectPreviewTableRowLimit=t.selectPreviewTableRawRowCount=t.selectPreviewTableType=t.selectPreviewTableOperationsList=t.currentPreviewTableMetadata=t.selectSelectedTableIds=t.selectCurrentPreviewTableId=t.selectDetailFacetColumn=t.selectDataGridFormColumn=t.selectDataGridFormFunc=t.selectDWExpFormValues=t.selectDWExpForm=t.selectTablePreviewState=t.selectDW=t.selectDataModelRoot=t.selectLayoutRoot=t.selectDataPreparationRoot=t.selectDataWranglerRoot=t.EXP_FORM_ID=void 0;var n=i(82),r=i(178),a=t.EXP_FORM_ID="EXPRESSION_FORM",o=t.selectDataWranglerRoot=function(e){return e.dataWrangler},s=t.selectDataPreparationRoot=function(e){return e.dpState},l=t.selectLayoutRoot=function(e){return e.layout},u=t.selectDataModelRoot=function(e){return e.dmState},c=(t.selectDW=(0,n.createSelector)(o,function(e){return e.opts}),t.selectTablePreviewState=(0,n.createSelector)(l,s,function(e,t){return t.selectedTableIds.length>0&&e.previewPanel.enabled}),t.selectDWExpForm=(0,n.createSelector)(o,function(e){return e.expForm})),d=t.selectDWExpFormValues=function(e){return(0,r.getFormValues)(a,c)(e)||{}},h=(t.selectDataGridFormFunc=(0,n.createSelector)(d,function(e){return e.funcStr}),t.selectDataGridFormColumn=(0,n.createSelector)(d,function(e){return e.column||[]})),f=(t.selectDetailFacetColumn=(0,n.createSelector)(h,function(e){return e&&1===e.length?e[0]:null}),t.selectCurrentPreviewTableId=(0,n.createSelector)(s,function(e){return e.currentPreviewTableId})),p=(t.selectSelectedTableIds=(0,n.createSelector)(s,function(e){return e.selectedTableIds}),t.currentPreviewTableMetadata=(0,n.createSelector)(f,s,function(e,t){if(t.tableList){var i=t.tableList.filter(function(t){return t.id===e});if(i)return i[0]}})),g=(t.selectPreviewTableOperationsList=(0,n.createSelector)(p,function(e){return e.operationList&&e.operationList.operations?e.operationList.operations:[]}),t.selectPreviewTableType=(0,n.createSelector)(p,function(e){return e.groupType||""}),t.selectPreviewTableRawRowCount=(0,n.createSelector)(p,function(e){return e.rawTotalCount||0}),t.selectPreviewTableRowLimit=(0,n.createSelector)(p,function(e){return e.rowLimit||0}),t.selectPreviewTableWranglerStatus=(0,n.createSelector)(p,function(e){var t=e.operationList?e.operationList.operations||[]:[];return!!t.length&&!t.every(function(e){return e.disabled})}),t.selectTableMetadata=(0,n.createSelector)(s,function(e){return e.tableList}),t.selectCurrentPipelineId=(0,n.createSelector)(p,function(e){if(e)return e.pipelineId}),t.selectTablePreviewMap=(0,n.createSelector)(s,function(e){return e.tablePreviewMap})),v=t.selectCurrentPreviewTableData=(0,n.createSelector)(g,f,function(e,t){return e[t]});t.selectCurrentPreviewTableColumns=(0,n.createSelector)(v,function(e){return e.previewHeader}),t.selectShowObjectInfoHeader=(0,n.createSelector)(s,function(e){return e.showObjectInfoHeader}),t.selectDataModel=(0,n.createSelector)(u,function(e){return e.importSources}),t.selectCurrentTableHeader=(0,n.createSelector)(g,f,function(e,t){if(e[t])return e[t].previewHeader}),t.selectCurrentTableScrollState=(0,n.createSelector)(g,f,function(e,t){if(e[t])return e[t].scrollState})},,192,98,function(e,t,i){var n,r;/*!
	 * jQuery JavaScript Library v3.3.1
	 * https://jquery.com/
	 *
	 * Includes Sizzle.js
	 * https://sizzlejs.com/
	 *
	 * Copyright JS Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2018-01-20T17:24Z
	 */
!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,a){"use strict";function o(e,t,i){t=t||ce;var n,r=t.createElement("script");if(r.text=e,i)for(n in Ae)i[n]&&(r[n]=i[n]);t.head.appendChild(r).parentNode.removeChild(r)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[me.call(e)]||"object":typeof e}function l(e){var t=!!e&&"length"in e&&e.length,i=s(e);return!Ee(e)&&!_e(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,i){return Ee(t)?Se.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?Se.grep(e,function(e){return e===t!==i}):"string"!=typeof t?Se.grep(e,function(e){return ge.call(t,e)>-1!==i}):Se.filter(t,e,i)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return Se.each(e.match(je)||[],function(e,i){t[i]=!0}),t}function f(e){return e}function p(e){throw e}function g(e,t,i,n){var r;try{e&&Ee(r=e.promise)?r.call(e).done(t).fail(i):e&&Ee(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}function v(){ce.removeEventListener("DOMContentLoaded",v),i.removeEventListener("load",v),Se.ready()}function m(e,t){return t.toUpperCase()}function b(e){return e.replace(Ue,"ms-").replace(We,m)}function y(){this.expando=Se.expando+y.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function x(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Ye,"-$&").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i=w(i)}catch(e){}$e.set(e,t,i)}else i=void 0;return i}function E(e,t,i,n){var r,a,o=20,s=n?function(){return n.cur()}:function(){return Se.css(e,t,"")},l=s(),u=i&&i[3]||(Se.cssNumber[t]?"":"px"),c=(Se.cssNumber[t]||"px"!==u&&+l)&&Ke.exec(Se.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)Se.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,Se.style(e,t,c+u),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function _(e){var t,i=e.ownerDocument,n=e.nodeName,r=et[n];return r?r:(t=i.body.appendChild(i.createElement(n)),r=Se.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),et[n]=r,r)}function A(e,t){for(var i,n,r=[],a=0,o=e.length;a<o;a++)n=e[a],n.style&&(i=n.style.display,t?("none"===i&&(r[a]=Ge.get(n,"display")||null,r[a]||(n.style.display="")),""===n.style.display&&Qe(n)&&(r[a]=_(n))):"none"!==i&&(r[a]="none",Ge.set(n,"display",i)));for(a=0;a<o;a++)null!=r[a]&&(e[a].style.display=r[a]);return e}function C(e,t){var i;return i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?Se.merge([e],i):i}function S(e,t){for(var i=0,n=e.length;i<n;i++)Ge.set(e[i],"globalEval",!t||Ge.get(t[i],"globalEval"))}function T(e,t,i,n,r){for(var a,o,l,u,c,d,h=t.createDocumentFragment(),f=[],p=0,g=e.length;p<g;p++)if(a=e[p],a||0===a)if("object"===s(a))Se.merge(f,a.nodeType?[a]:a);else if(at.test(a)){for(o=o||h.appendChild(t.createElement("div")),l=(it.exec(a)||["",""])[1].toLowerCase(),u=rt[l]||rt._default,o.innerHTML=u[1]+Se.htmlPrefilter(a)+u[2],d=u[0];d--;)o=o.lastChild;Se.merge(f,o.childNodes),o=h.firstChild,o.textContent=""}else f.push(t.createTextNode(a));for(h.textContent="",p=0;a=f[p++];)if(n&&Se.inArray(a,n)>-1)r&&r.push(a);else if(c=Se.contains(a.ownerDocument,a),o=C(h.appendChild(a),"script"),c&&S(o),i)for(d=0;a=o[d++];)nt.test(a.type||"")&&i.push(a);return h}function I(){return!0}function D(){return!1}function O(){try{return ce.activeElement}catch(e){}}function M(e,t,i,n,r,a){var o,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(s in t)M(e,s,i,n,t[s],a);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=D;else if(!r)return e;return 1===a&&(o=r,r=function(e){return Se().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Se.guid++)),e.each(function(){Se.event.add(this,t,r,n,i)})}function k(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?Se(e).children("tbody")[0]||e:e}function N(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function P(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function L(e,t){var i,n,r,a,o,s,l,u;if(1===t.nodeType){if(Ge.hasData(e)&&(a=Ge.access(e),o=Ge.set(t,a),u=a.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)Se.event.add(t,r,u[r][i])}$e.hasData(e)&&(s=$e.access(e),l=Se.extend({},s),$e.set(t,l))}}function R(e,t){var i=t.nodeName.toLowerCase();"input"===i&&tt.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function F(e,t,i,n){t=fe.apply([],t);var r,a,s,l,u,c,d=0,h=e.length,f=h-1,p=t[0],g=Ee(p);if(g||h>1&&"string"==typeof p&&!xe.checkClone&&ht.test(p))return e.each(function(r){var a=e.eq(r);g&&(t[0]=p.call(this,r,a.html())),F(a,t,i,n)});if(h&&(r=T(t,e[0].ownerDocument,!1,e,n),a=r.firstChild,1===r.childNodes.length&&(r=a),a||n)){for(s=Se.map(C(r,"script"),N),l=s.length;d<h;d++)u=r,d!==f&&(u=Se.clone(u,!0,!0),l&&Se.merge(s,C(u,"script"))),i.call(e[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,Se.map(s,P),d=0;d<l;d++)u=s[d],nt.test(u.type||"")&&!Ge.access(u,"globalEval")&&Se.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Se._evalUrl&&Se._evalUrl(u.src):o(u.textContent.replace(ft,""),c,u))}return e}function j(e,t,i){for(var n,r=t?Se.filter(t,e):e,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||Se.cleanData(C(n)),n.parentNode&&(i&&Se.contains(n.ownerDocument,n)&&S(C(n,"script")),n.parentNode.removeChild(n));return e}function B(e,t,i){var n,r,a,o,s=e.style;return i=i||gt(e),i&&(o=i.getPropertyValue(t)||i[t],""!==o||Se.contains(e.ownerDocument,e)||(o=Se.style(e,t)),!xe.pixelBoxStyles()&&pt.test(o)&&vt.test(t)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function H(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function V(e){if(e in Et)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=xt.length;i--;)if(e=xt[i]+t,e in Et)return e}function U(e){var t=Se.cssProps[e];return t||(t=Se.cssProps[e]=V(e)||e),t}function W(e,t,i){var n=Ke.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function z(e,t,i,n,r,a){var o="width"===t?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=Se.css(e,i+Xe[o],!0,r)),n?("content"===i&&(l-=Se.css(e,"padding"+Xe[o],!0,r)),"margin"!==i&&(l-=Se.css(e,"border"+Xe[o]+"Width",!0,r))):(l+=Se.css(e,"padding"+Xe[o],!0,r),"padding"!==i?l+=Se.css(e,"border"+Xe[o]+"Width",!0,r):s+=Se.css(e,"border"+Xe[o]+"Width",!0,r));return!n&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))),l}function G(e,t,i){var n=gt(e),r=B(e,t,n),a="border-box"===Se.css(e,"boxSizing",!1,n),o=a;if(pt.test(r)){if(!i)return r;r="auto"}return o=o&&(xe.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===Se.css(e,"display",!1,n))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),r=parseFloat(r)||0,r+z(e,t,i||(a?"border":"content"),o,n,r)+"px"}function $(e,t,i,n,r){return new $.prototype.init(e,t,i,n,r)}function q(){At&&(ce.hidden===!1&&i.requestAnimationFrame?i.requestAnimationFrame(q):i.setTimeout(q,Se.fx.interval),Se.fx.tick())}function Y(){return i.setTimeout(function(){_t=void 0}),_t=Date.now()}function J(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)i=Xe[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function K(e,t,i){for(var n,r=(Z.tweeners[t]||[]).concat(Z.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,t,e))return n}function X(e,t,i){var n,r,a,o,s,l,u,c,d="width"in t||"height"in t,h=this,f={},p=e.style,g=e.nodeType&&Qe(e),v=Ge.get(e,"fxshow");i.queue||(o=Se._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,Se.queue(e,"fx").length||o.empty.fire()})}));for(n in t)if(r=t[n],Ct.test(r)){if(delete t[n],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;g=!0}f[n]=v&&v[n]||Se.style(e,n)}if(l=!Se.isEmptyObject(t),l||!Se.isEmptyObject(f)){d&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=v&&v.display,null==u&&(u=Ge.get(e,"display")),c=Se.css(e,"display"),"none"===c&&(u?c=u:(A([e],!0),u=e.style.display||u,c=Se.css(e,"display"),A([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===Se.css(e,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(v?"hidden"in v&&(g=v.hidden):v=Ge.access(e,"fxshow",{display:u}),a&&(v.hidden=!g),g&&A([e],!0),h.done(function(){g||A([e]),Ge.remove(e,"fxshow");for(n in f)Se.style(e,n,f[n])})),l=K(g?v[n]:0,n,h),n in v||(v[n]=l.start,g&&(l.end=l.start,l.start=0))}}function Q(e,t){var i,n,r,a,o;for(i in e)if(n=b(i),r=t[n],a=e[i],Array.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),o=Se.cssHooks[n],o&&"expand"in o){a=o.expand(a),delete e[n];for(i in a)i in e||(e[i]=a[i],t[i]=r)}else t[n]=r}function Z(e,t,i){var n,r,a=0,o=Z.prefilters.length,s=Se.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=_t||Y(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,a=1-n,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(a);return s.notifyWith(e,[u,a,i]),a<1&&l?i:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Se.extend({},t),opts:Se.extend(!0,{specialEasing:{},easing:Se.easing._default},i),originalProperties:t,originalOptions:i,startTime:_t||Y(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Se.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(Q(c,u.opts.specialEasing);a<o;a++)if(n=Z.prefilters[a].call(u,e,c,u.opts))return Ee(n.stop)&&(Se._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return Se.map(c,K,u),Ee(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Se.fx.timer(Se.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function ee(e){var t=e.match(je)||[];return t.join(" ")}function te(e){return e.getAttribute&&e.getAttribute("class")||""}function ie(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function ne(e,t,i,n){var r;if(Array.isArray(t))Se.each(t,function(t,r){i||Ft.test(e)?n(e,r):ne(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==s(t))n(e,t);else for(r in t)ne(e+"["+r+"]",t[r],i,n)}function re(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,a=t.toLowerCase().match(je)||[];if(Ee(i))for(;n=a[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function ae(e,t,i,n){function r(s){var l;return a[s]=!0,Se.each(e[s]||[],function(e,s){var u=s(t,i,n);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var a={},o=e===Jt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function oe(e,t){var i,n,r=Se.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&Se.extend(!0,e,n),e}function se(e,t,i){for(var n,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}function le(e,t,i,n){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(r in u)if(s=r.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[r]:u[r]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}var ue=[],ce=i.document,de=Object.getPrototypeOf,he=ue.slice,fe=ue.concat,pe=ue.push,ge=ue.indexOf,ve={},me=ve.toString,be=ve.hasOwnProperty,ye=be.toString,we=ye.call(Object),xe={},Ee=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},_e=function(e){return null!=e&&e===e.window},Ae={type:!0,src:!0,noModule:!0},Ce="3.3.1",Se=function(e,t){return new Se.fn.init(e,t)},Te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Se.fn=Se.prototype={jquery:Ce,constructor:Se,length:0,toArray:function(){return he.call(this)},get:function(e){return null==e?he.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Se.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Se.each(this,e)},map:function(e){return this.pushStack(Se.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(he.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:pe,sort:ue.sort,splice:ue.splice},Se.extend=Se.fn.extend=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||Ee(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=o[t],n=e[t],o!==n&&(u&&n&&(Se.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,a=i&&Array.isArray(i)?i:[]):a=i&&Se.isPlainObject(i)?i:{},o[t]=Se.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},Se.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==me.call(e))&&(!(t=de(e))||(i=be.call(t,"constructor")&&t.constructor,"function"==typeof i&&ye.call(i)===we))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){o(e)},each:function(e,t){var i,n=0;if(l(e))for(i=e.length;n<i&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(t.call(e[n],n,e[n])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Te,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(l(Object(e))?Se.merge(i,"string"==typeof e?[e]:e):pe.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:ge.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],a=0,o=e.length,s=!i;a<o;a++)n=!t(e[a],a),n!==s&&r.push(e[a]);return r},map:function(e,t,i){var n,r,a=0,o=[];if(l(e))for(n=e.length;a<n;a++)r=t(e[a],a,i),null!=r&&o.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&o.push(r);return fe.apply([],o)},guid:1,support:xe}),"function"==typeof Symbol&&(Se.fn[Symbol.iterator]=ue[Symbol.iterator]),Se.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var Ie=/*!
	 * Sizzle CSS Selector Engine v2.3.3
	 * https://sizzlejs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2016-08-08
	 */
function(e){function t(e,t,i,n){var r,a,o,s,l,u,c,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:V)!==N&&k(t),t=t||N,L)){if(11!==p&&(l=me.exec(e)))if(r=l[1]){if(9===p){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(h&&(o=h.getElementById(r))&&B(t,o)&&o.id===r)return i.push(o),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(r)),i}if(E.qsa&&!$[e+" "]&&(!R||!R.test(e))){if(1!==p)h=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(xe,Ee):t.setAttribute("id",s=H),u=S(e),a=u.length;a--;)u[a]="#"+s+" "+f(u[a]);c=u.join(","),h=be.test(e)&&d(t.parentNode)||t}if(c)try{return Q.apply(i,h.querySelectorAll(c)),i}catch(e){}finally{s===H&&t.removeAttribute("id")}}}return I(e.replace(se,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[H]=!0,e}function r(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var r,a=e([],i.length,t),o=a.length;o--;)i[r=a[o]]&&(i[r]=!(n[r]=i[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,r=t.next,a=r||n,o=i&&"parentNode"===a,s=W++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r);return!1}:function(t,i,l){var u,c,d,h=[U,s];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(d=t[H]||(t[H]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[a])&&u[0]===U&&u[1]===s)return h[2]=u[2];if(c[a]=h,h[2]=e(t,i,l))return!0}return!1}}function g(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function v(e,i,n){for(var r=0,a=i.length;r<a;r++)t(e,i[r],n);return n}function m(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(i&&!i(a,n,r)||(o.push(a),u&&t.push(s)));return o}function b(e,t,i,r,a,o){return r&&!r[H]&&(r=b(r)),a&&!a[H]&&(a=b(a,o)),n(function(n,o,s,l){var u,c,d,h=[],f=[],p=o.length,g=n||v(t||"*",s.nodeType?[s]:s,[]),b=!e||!n&&t?g:m(g,h,e,s,l),y=i?a||(n?e:p||r)?[]:o:b;if(i&&i(b,y,s,l),r)for(u=m(y,f),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(b[f[c]]=d));if(n){if(a||e){if(a){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);a(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=a?ee(n,d):h[c])>-1&&(n[u]=!(o[u]=d))}}else y=m(y===o?y.splice(p,y.length):y),a?a(null,o,y,l):Q.apply(o,y)})}function y(e){for(var t,i,n,r=e.length,a=_.relative[e[0].type],o=a||_.relative[" "],s=a?1:0,l=p(function(e){return e===t},o,!0),u=p(function(e){return ee(t,e)>-1},o,!0),c=[function(e,i,n){var r=!a&&(n||i!==D)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r}];s<r;s++)if(i=_.relative[e[s].type])c=[p(g(c),i)];else{if(i=_.filter[e[s].type].apply(null,e[s].matches),i[H]){for(n=++s;n<r&&!_.relative[e[n].type];n++);return b(s>1&&g(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),i,s<n&&y(e.slice(s,n)),n<r&&y(e=e.slice(n)),n<r&&f(e))}c.push(i)}return g(c)}function w(e,i){var r=i.length>0,a=e.length>0,o=function(n,o,s,l,u){var c,d,h,f=0,p="0",g=n&&[],v=[],b=D,y=n||a&&_.find.TAG("*",u),w=U+=null==b?1:Math.random()||.1,x=y.length;for(u&&(D=o===N||o||u);p!==x&&null!=(c=y[p]);p++){if(a&&c){for(d=0,o||c.ownerDocument===N||(k(c),s=!L);h=e[d++];)if(h(c,o||N,s)){l.push(c);break}u&&(U=w)}r&&((c=!h&&c)&&f--,n&&g.push(c))}if(f+=p,r&&p!==f){for(d=0;h=i[d++];)h(g,v,o,s);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}Q.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}return u&&(U=w,D=b),g};return r?n(o):o}var x,E,_,A,C,S,T,I,D,O,M,k,N,P,L,R,F,j,B,H="sizzle"+1*new Date,V=e.document,U=0,W=0,z=i(),G=i(),$=i(),q=function(e,t){return e===t&&(M=!0),0},Y={}.hasOwnProperty,J=[],K=J.pop,X=J.push,Q=J.push,Z=J.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",ae=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),se=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(ae),he=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),we=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ee=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},_e=function(){k()},Ae=p(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(J=Z.call(V.childNodes),V.childNodes),J[V.childNodes.length].nodeType}catch(e){Q={apply:J.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}E=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},k=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:V;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,P=N.documentElement,L=!C(N),V!==N&&(i=N.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),E.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=r(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ve.test(N.getElementsByClassName),E.getById=r(function(e){return P.appendChild(e).id=H,!N.getElementsByName||!N.getElementsByName(H).length}),E.getById?(_.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var i=t.getElementById(e);return i?[i]:[]}}):(_.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var i,n,r,a=t.getElementById(e);if(a){if(i=a.getAttributeNode("id"),i&&i.value===e)return[a];for(r=t.getElementsByName(e),n=0;a=r[n++];)if(i=a.getAttributeNode("id"),i&&i.value===e)return[a]}return[]}}),_.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;i=a[r++];)1===i.nodeType&&n.push(i);return n}return a},_.find.CLASS=E.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},F=[],R=[],(E.qsa=ve.test(N.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||R.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ie+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),P.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(E.matchesSelector=ve.test(j=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){E.disconnectedMatch=j.call(e,"*"),j.call(e,"[s!='']:x"),F.push("!=",ae)}),R=R.length&&new RegExp(R.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(P.compareDocumentPosition),B=t||ve.test(P.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return M=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!E.sortDetached&&t.compareDocumentPosition(e)===i?e===N||e.ownerDocument===V&&B(V,e)?-1:t===N||t.ownerDocument===V&&B(V,t)?1:O?ee(O,e)-ee(O,t):0:4&i?-1:1)}:function(e,t){if(e===t)return M=!0,0;var i,n=0,r=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!r||!a)return e===N?-1:t===N?1:r?-1:a?1:O?ee(O,e)-ee(O,t):0;if(r===a)return o(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?o(s[n],l[n]):s[n]===V?-1:l[n]===V?1:0},N):N},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==N&&k(e),i=i.replace(ce,"='$1']"),E.matchesSelector&&L&&!$[i+" "]&&(!F||!F.test(i))&&(!R||!R.test(i)))try{var n=j.call(e,i);if(n||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&k(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&k(e);var i=_.attrHandle[t.toLowerCase()],n=i&&Y.call(_.attrHandle,t.toLowerCase())?i(e,t,!L):void 0;return void 0!==n?n:E.attributes||!L?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(xe,Ee)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(M=!E.detectDuplicates,O=!E.sortStable&&e.slice(0),e.sort(q),M){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return O=null,e},A=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=A(t);return i},_=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=S(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var a=t.attr(r,e);return null==a?"!="===i:!i||(a+="","="===i?a===n:"!="===i?a!==n:"^="===i?n&&0===a.indexOf(n):"*="===i?n&&a.indexOf(n)>-1:"$="===i?n&&a.slice(-n.length)===n:"~="===i?(" "+a.replace(oe," ")+" ").indexOf(n)>-1:"|="===i&&(a===n||a.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,d,h,f,p,g=a!==o?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(v){if(a){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&b){for(h=v,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],f=u[0]===U&&u[1],y=f&&u[2],h=f&&v.childNodes[f];h=++f&&h&&h[g]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){c[e]=[U,f,y];break}}else if(b&&(h=t,d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[e]||[],f=u[0]===U&&u[1],y=f),y===!1)for(;(h=++f&&h&&h[g]||(y=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++y||(b&&(d=h[H]||(h[H]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[e]=[U,y]),h!==t)););return y-=r,y===n||y%n===0&&y/n>=0}}},PSEUDO:function(e,i){var r,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[H]?a(i):a.length>1?(r=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)n=ee(e,r[o]),e[n]=!(t[n]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:n(function(e){var t=[],i=[],r=T(e.replace(se,"$1"));return r[H]?n(function(e,t,i,n){for(var a,o=r(e,null,n,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,n,a){return t[0]=e,r(t,null,a,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:n(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var i;do if(i=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[i<0?i+t:i]}),even:c(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,S=t.tokenize=function(e,i){var n,r,a,o,s,l,u,c=G[e+" "];if(c)return i?0:c.slice(0);for(s=e,l=[],u=_.preFilter;s;){n&&!(r=le.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=ue.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(se," ")}),s=s.slice(n.length));for(o in _.filter)!(r=fe[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):G(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],r=[],a=$[e+" "];if(!a){for(t||(t=S(e)),i=t.length;i--;)a=y(t[i]),a[H]?n.push(a):r.push(a);a=$(e,w(r,n)),a.selector=e}return a},I=t.select=function(e,t,i,n){var r,a,o,s,l,u="function"==typeof e&&e,c=!n&&S(e=u.selector||e);if(i=i||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&L&&_.relative[a[1].type]){if(t=(_.find.ID(o.matches[0].replace(ye,we),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=fe.needsContext.test(e)?0:a.length;r--&&(o=a[r],!_.relative[s=o.type]);)if((l=_.find[s])&&(n=l(o.matches[0].replace(ye,we),be.test(a[0].type)&&d(t.parentNode)||t))){if(a.splice(r,1),e=n.length&&f(a),!e)return Q.apply(i,n),i;break}}return(u||T(e,c))(n,t,!L,i,!t||be.test(e)&&d(t.parentNode)||t),i},E.sortStable=H.split("").sort(q).join("")===H,E.detectDuplicates=!!M,k(),E.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,i){var n;if(!i)return e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(i);Se.find=Ie,Se.expr=Ie.selectors,Se.expr[":"]=Se.expr.pseudos,Se.uniqueSort=Se.unique=Ie.uniqueSort,Se.text=Ie.getText,Se.isXMLDoc=Ie.isXML,Se.contains=Ie.contains,Se.escapeSelector=Ie.escape;var De=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Se(e).is(i))break;n.push(e)}return n},Oe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},Me=Se.expr.match.needsContext,ke=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Se.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Se.find.matchesSelector(n,e)?[n]:[]:Se.find.matches(e,Se.grep(t,function(e){return 1===e.nodeType}))},Se.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(Se(e).filter(function(){for(t=0;t<n;t++)if(Se.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)Se.find(e,r[t],i);return n>1?Se.uniqueSort(i):i},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Me.test(e)?Se(e):e||[],!1).length}});var Ne,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Le=Se.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||Ne,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Se?t[0]:t,Se.merge(this,Se.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ce,!0)),ke.test(n[1])&&Se.isPlainObject(t))for(n in t)Ee(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=ce.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ee(e)?void 0!==i.ready?i.ready(e):e(Se):Se.makeArray(e,this)};Le.prototype=Se.fn,Ne=Se(ce);var Re=/^(?:parents|prev(?:Until|All))/,Fe={children:!0,contents:!0,next:!0,prev:!0};Se.fn.extend({has:function(e){var t=Se(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(Se.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,a=[],o="string"!=typeof e&&Se(e);if(!Me.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&Se.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(a.length>1?Se.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?ge.call(Se(e),this[0]):ge.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Se.uniqueSort(Se.merge(this.get(),Se(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Se.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return De(e,"parentNode")},parentsUntil:function(e,t,i){return De(e,"parentNode",i)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return De(e,"nextSibling")},prevAll:function(e){return De(e,"previousSibling")},nextUntil:function(e,t,i){return De(e,"nextSibling",i)},prevUntil:function(e,t,i){return De(e,"previousSibling",i)},siblings:function(e){return Oe((e.parentNode||{}).firstChild,e)},children:function(e){return Oe(e.firstChild)},contents:function(e){return u(e,"iframe")?e.contentDocument:(u(e,"template")&&(e=e.content||e),Se.merge([],e.childNodes))}},function(e,t){Se.fn[e]=function(i,n){var r=Se.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Se.filter(n,r)),this.length>1&&(Fe[e]||Se.uniqueSort(r),Re.test(e)&&r.reverse()),this.pushStack(r)}});var je=/[^\x20\t\r\n\f]+/g;Se.Callbacks=function(e){e="string"==typeof e?h(e):Se.extend({},e);var t,i,n,r,a=[],o=[],l=-1,u=function(){for(r=r||e.once,n=t=!0;o.length;l=-1)for(i=o.shift();++l<a.length;)a[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=a.length,i=!1);e.memory||(i=!1),t=!1,r&&(a=i?[]:"")},c={add:function(){return a&&(i&&!t&&(l=a.length-1,o.push(i)),function t(i){Se.each(i,function(i,n){Ee(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==s(n)&&t(n)})}(arguments),i&&!t&&u()),this},remove:function(){return Se.each(arguments,function(e,t){for(var i;(i=Se.inArray(t,a,i))>-1;)a.splice(i,1),i<=l&&l--}),this},has:function(e){return e?Se.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=o=[],i||t||(a=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=i||[],i=[e,i.slice?i.slice():i],o.push(i),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},Se.extend({Deferred:function(e){var t=[["notify","progress",Se.Callbacks("memory"),Se.Callbacks("memory"),2],["resolve","done",Se.Callbacks("once memory"),Se.Callbacks("once memory"),0,"resolved"],["reject","fail",Se.Callbacks("once memory"),Se.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return Se.Deferred(function(i){Se.each(t,function(t,n){var r=Ee(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=r&&r.apply(this,arguments);e&&Ee(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){function a(e,t,n,r){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(e<o)){if(i=n.apply(s,l),i===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,Ee(u)?r?u.call(i,a(o,t,f,r),a(o,t,p,r)):(o++,u.call(i,a(o,t,f,r),a(o,t,p,r),a(o,t,f,t.notifyWith))):(n!==f&&(s=void 0,l=[i]),(r||t.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(i){Se.Deferred.exceptionHook&&Se.Deferred.exceptionHook(i,c.stackTrace),e+1>=o&&(n!==p&&(s=void 0,l=[i]),t.rejectWith(s,l))}};e?c():(Se.Deferred.getStackHook&&(c.stackTrace=Se.Deferred.getStackHook()),i.setTimeout(c))}}var o=0;return Se.Deferred(function(i){t[0][3].add(a(0,i,Ee(r)?r:f,i.notifyWith)),t[1][3].add(a(0,i,Ee(e)?e:f)),t[2][3].add(a(0,i,Ee(n)?n:p))}).promise()},promise:function(e){return null!=e?Se.extend(e,r):r}},a={};return Se.each(t,function(e,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,i=t,n=Array(i),r=he.call(arguments),a=Se.Deferred(),o=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?he.call(arguments):i,--t||a.resolveWith(n,r)}};if(t<=1&&(g(e,a.done(o(i)).resolve,a.reject,!t),"pending"===a.state()||Ee(r[i]&&r[i].then)))return a.then();for(;i--;)g(r[i],o(i),a.reject);return a.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Se.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Be.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Se.readyException=function(e){i.setTimeout(function(){throw e})};var He=Se.Deferred();Se.fn.ready=function(e){return He.then(e).catch(function(e){Se.readyException(e)}),this},Se.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Se.readyWait:Se.isReady)||(Se.isReady=!0,e!==!0&&--Se.readyWait>0||He.resolveWith(ce,[Se]))}}),Se.ready.then=He.then,"complete"===ce.readyState||"loading"!==ce.readyState&&!ce.documentElement.doScroll?i.setTimeout(Se.ready):(ce.addEventListener("DOMContentLoaded",v),i.addEventListener("load",v));var Ve=function(e,t,i,n,r,a,o){var l=0,u=e.length,c=null==i;if("object"===s(i)){r=!0;for(l in i)Ve(e,t,l,i[l],!0,a,o)}else if(void 0!==n&&(r=!0,Ee(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(Se(e),i)})),t))for(;l<u;l++)t(e[l],i,o?n:n.call(e[l],l,t(e[l],i)));return r?e:c?t.call(e):u?t(e[0],i):a},Ue=/^-ms-/,We=/-([a-z])/g,ze=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};y.uid=1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ze(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[b(t)]=i;else for(n in t)r[b(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(b):(t=b(t),t=t in n?[t]:t.match(je)||[]),i=t.length;for(;i--;)delete n[t[i]]}(void 0===t||Se.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Se.isEmptyObject(t)}};var Ge=new y,$e=new y,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ye=/[A-Z]/g;Se.extend({hasData:function(e){return $e.hasData(e)||Ge.hasData(e)},data:function(e,t,i){return $e.access(e,t,i)},removeData:function(e,t){$e.remove(e,t)},_data:function(e,t,i){return Ge.access(e,t,i)},_removeData:function(e,t){Ge.remove(e,t)}}),Se.fn.extend({data:function(e,t){var i,n,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=$e.get(a),1===a.nodeType&&!Ge.get(a,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=b(n.slice(5)),x(a,n,r[n])));Ge.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){$e.set(this,e)}):Ve(this,function(t){var i;if(a&&void 0===t){if(i=$e.get(a,e),void 0!==i)return i;if(i=x(a,e),void 0!==i)return i}else this.each(function(){$e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$e.remove(this,e)})}}),Se.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Ge.get(e,t),i&&(!n||Array.isArray(i)?n=Ge.access(e,t,Se.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=Se.queue(e,t),n=i.length,r=i.shift(),a=Se._queueHooks(e,t),o=function(){Se.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ge.get(e,i)||Ge.access(e,i,{empty:Se.Callbacks("once memory").add(function(){Ge.remove(e,[t+"queue",i])})})}}),Se.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Se.queue(this[0],e):void 0===t?this:this.each(function(){var i=Se.queue(this,e,t);Se._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Se.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Se.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=Se.Deferred(),a=this,o=this.length,s=function(){--n||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=Ge.get(a[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),r.promise(t)}});var Je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+Je+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Qe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Se.contains(e.ownerDocument,e)&&"none"===Se.css(e,"display")},Ze=function(e,t,i,n){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=i.apply(e,n||[]);for(a in t)e.style[a]=o[a];return r},et={};Se.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Qe(this)?Se(this).show():Se(this).hide()})}});var tt=/^(?:checkbox|radio)$/i,it=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,nt=/^$|^module$|\/(?:java|ecma)script/i,rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td;var at=/<|&#?\w+;/;!function(){var e=ce.createDocumentFragment(),t=e.appendChild(ce.createElement("div")),i=ce.createElement("input");i.setAttribute("type","radio"),
i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),xe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ot=ce.documentElement,st=/^key/,lt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ut=/^([^.]*)(?:\.(.+)|)/;Se.event={global:{},add:function(e,t,i,n,r){var a,o,s,l,u,c,d,h,f,p,g,v=Ge.get(e);if(v)for(i.handler&&(a=i,i=a.handler,r=a.selector),r&&Se.find.matchesSelector(ot,r),i.guid||(i.guid=Se.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(t){return"undefined"!=typeof Se&&Se.event.triggered!==t.type?Se.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],u=t.length;u--;)s=ut.exec(t[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(d=Se.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=Se.event.special[f]||{},c=Se.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Se.expr.match.needsContext.test(r),namespace:p.join(".")},a),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,n,p,o)!==!1||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),Se.event.global[f]=!0)},remove:function(e,t,i,n,r){var a,o,s,l,u,c,d,h,f,p,g,v=Ge.hasData(e)&&Ge.get(e);if(v&&(l=v.events)){for(t=(t||"").match(je)||[""],u=t.length;u--;)if(s=ut.exec(t[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(d=Se.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!r&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));o&&!h.length&&(d.teardown&&d.teardown.call(e,p,v.handle)!==!1||Se.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)Se.event.remove(e,f+t[u],i,n,!0);Se.isEmptyObject(l)&&Ge.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,a,o,s=Se.event.fix(e),l=new Array(arguments.length),u=(Ge.get(this,"events")||{})[s.type]||[],c=Se.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(o=Se.event.handlers.call(this,s,u),t=0;(r=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,n=((Se.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l),void 0!==n&&(s.result=n)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var i,n,r,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||u.disabled!==!0)){for(a=[],o={},i=0;i<l;i++)n=t[i],r=n.selector+" ",void 0===o[r]&&(o[r]=n.needsContext?Se(r,this).index(u)>-1:Se.find(r,this,null,[u]).length),o[r]&&a.push(n);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(Se.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ee(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Se.expando]?e:new Se.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==O()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===O()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(e){return u(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Se.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},Se.Event=function(e,t){return this instanceof Se.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?I:D,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Se.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Se.expando]=!0)):new Se.Event(e,t)},Se.Event.prototype={constructor:Se.Event,isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=I,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=I,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=I,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Se.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&st.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&lt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Se.event.addProp),Se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Se.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===n||Se.contains(n,r))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),Se.fn.extend({on:function(e,t,i,n){return M(this,e,t,i,n)},one:function(e,t,i,n){return M(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Se(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=D),this.each(function(){Se.event.remove(this,e,i,t)})}});var ct=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,dt=/<script|<style|<link/i,ht=/checked\s*(?:[^=]|=\s*.checked.)/i,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Se.extend({htmlPrefilter:function(e){return e.replace(ct,"<$1></$2>")},clone:function(e,t,i){var n,r,a,o,s=e.cloneNode(!0),l=Se.contains(e.ownerDocument,e);if(!(xe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Se.isXMLDoc(e)))for(o=C(s),a=C(e),n=0,r=a.length;n<r;n++)R(a[n],o[n]);if(t)if(i)for(a=a||C(e),o=o||C(s),n=0,r=a.length;n<r;n++)L(a[n],o[n]);else L(e,s);return o=C(s,"script"),o.length>0&&S(o,!l&&C(e,"script")),s},cleanData:function(e){for(var t,i,n,r=Se.event.special,a=0;void 0!==(i=e[a]);a++)if(ze(i)){if(t=i[Ge.expando]){if(t.events)for(n in t.events)r[n]?Se.event.remove(i,n):Se.removeEvent(i,n,t.handle);i[Ge.expando]=void 0}i[$e.expando]&&(i[$e.expando]=void 0)}}}),Se.fn.extend({detach:function(e){return j(this,e,!0)},remove:function(e){return j(this,e)},text:function(e){return Ve(this,function(e){return void 0===e?Se.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.appendChild(e)}})},prepend:function(){return F(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=k(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return F(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Se.cleanData(C(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Se.clone(this,e,t)})},html:function(e){return Ve(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!dt.test(e)&&!rt[(it.exec(e)||["",""])[1].toLowerCase()]){e=Se.htmlPrefilter(e);try{for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(Se.cleanData(C(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return F(this,arguments,function(t){var i=this.parentNode;Se.inArray(this,e)<0&&(Se.cleanData(C(this)),i&&i.replaceChild(t,this))},e)}}),Se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Se.fn[e]=function(e){for(var i,n=[],r=Se(e),a=r.length-1,o=0;o<=a;o++)i=o===a?this:this.clone(!0),Se(r[o])[t](i),pe.apply(n,i.get());return this.pushStack(n)}});var pt=new RegExp("^("+Je+")(?!px)[a-z%]+$","i"),gt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},vt=new RegExp(Xe.join("|"),"i");!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ot.appendChild(l).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,s=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",a=36===u.offsetWidth||"absolute",ot.removeChild(l),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,a,o,s,l=ce.createElement("div"),u=ce.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle="content-box"===u.style.backgroundClip,Se.extend(xe,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),a}}))}();var mt=/^(none|table(?!-c[ea]).+)/,bt=/^--/,yt={position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","Moz","ms"],Et=ce.createElement("div").style;Se.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=B(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=b(t),l=bt.test(t),u=e.style;return l||(t=U(s)),o=Se.cssHooks[t]||Se.cssHooks[s],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:u[t]:(a=typeof i,"string"===a&&(r=Ke.exec(i))&&r[1]&&(i=E(e,t,r),a="number"),null!=i&&i===i&&("number"===a&&(i+=r&&r[3]||(Se.cssNumber[s]?"":"px")),xe.clearCloneStyle||""!==i||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?u.setProperty(t,i):u[t]=i)),void 0)}},css:function(e,t,i,n){var r,a,o,s=b(t),l=bt.test(t);return l||(t=U(s)),o=Se.cssHooks[t]||Se.cssHooks[s],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=B(e,t,n)),"normal"===r&&t in wt&&(r=wt[t]),""===i||i?(a=parseFloat(r),i===!0||isFinite(a)?a||0:r):r}}),Se.each(["height","width"],function(e,t){Se.cssHooks[t]={get:function(e,i,n){if(i)return!mt.test(Se.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?G(e,t,n):Ze(e,yt,function(){return G(e,t,n)})},set:function(e,i,n){var r,a=gt(e),o="border-box"===Se.css(e,"boxSizing",!1,a),s=n&&z(e,t,n,o,a);return o&&xe.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-z(e,t,"border",!1,a)-.5)),s&&(r=Ke.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=Se.css(e,t)),W(e,i,s)}}}),Se.cssHooks.marginLeft=H(xe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(B(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Se.each({margin:"",padding:"",border:"Width"},function(e,t){Se.cssHooks[e+t]={expand:function(i){for(var n=0,r={},a="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Xe[n]+t]=a[n]||a[n-2]||a[0];return r}},"margin"!==e&&(Se.cssHooks[e+t].set=W)}),Se.fn.extend({css:function(e,t){return Ve(this,function(e,t,i){var n,r,a={},o=0;if(Array.isArray(t)){for(n=gt(e),r=t.length;o<r;o++)a[t[o]]=Se.css(e,t[o],!1,n);return a}return void 0!==i?Se.style(e,t,i):Se.css(e,t)},e,t,arguments.length>1)}}),Se.Tween=$,$.prototype={constructor:$,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||Se.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(Se.cssNumber[i]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,i=$.propHooks[this.prop];return this.options.duration?this.pos=t=Se.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Se.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Se.fx.step[e.prop]?Se.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Se.cssProps[e.prop]]&&!Se.cssHooks[e.prop]?e.elem[e.prop]=e.now:Se.style(e.elem,e.prop,e.now+e.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Se.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Se.fx=$.prototype.init,Se.fx.step={};var _t,At,Ct=/^(?:toggle|show|hide)$/,St=/queueHooks$/;Se.Animation=Se.extend(Z,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return E(i.elem,e,Ke.exec(t),i),i}]},tweener:function(e,t){Ee(e)?(t=e,e=["*"]):e=e.match(je);for(var i,n=0,r=e.length;n<r;n++)i=e[n],Z.tweeners[i]=Z.tweeners[i]||[],Z.tweeners[i].unshift(t)},prefilters:[X],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),Se.speed=function(e,t,i){var n=e&&"object"==typeof e?Se.extend({},e):{complete:i||!i&&t||Ee(e)&&e,duration:e,easing:i&&t||t&&!Ee(t)&&t};return Se.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in Se.fx.speeds?n.duration=Se.fx.speeds[n.duration]:n.duration=Se.fx.speeds._default),null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){Ee(n.old)&&n.old.call(this),n.queue&&Se.dequeue(this,n.queue)},n},Se.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Qe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=Se.isEmptyObject(e),a=Se.speed(t,i,n),o=function(){var t=Z(this,Se.extend({},e),a);(r||Ge.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=Se.timers,o=Ge.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&St.test(r)&&n(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(i),t=!1,a.splice(r,1));!t&&i||Se.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=Ge.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],a=Se.timers,o=n?n.length:0;for(i.finish=!0,Se.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Se.each(["toggle","show","hide"],function(e,t){var i=Se.fn[t];Se.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(J(t,!0),e,n,r)}}),Se.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Se.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Se.timers=[],Se.fx.tick=function(){var e,t=0,i=Se.timers;for(_t=Date.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Se.fx.stop(),_t=void 0},Se.fx.timer=function(e){Se.timers.push(e),Se.fx.start()},Se.fx.interval=13,Se.fx.start=function(){At||(At=!0,q())},Se.fx.stop=function(){At=null},Se.fx.speeds={slow:600,fast:200,_default:400},Se.fn.delay=function(e,t){return e=Se.fx?Se.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=ce.createElement("input"),t=ce.createElement("select"),i=t.appendChild(ce.createElement("option"));e.type="checkbox",xe.checkOn=""!==e.value,xe.optSelected=i.selected,e=ce.createElement("input"),e.value="t",e.type="radio",xe.radioValue="t"===e.value}();var Tt,It=Se.expr.attrHandle;Se.fn.extend({attr:function(e,t){return Ve(this,Se.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Se.removeAttr(this,e)})}}),Se.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?Se.prop(e,t,i):(1===a&&Se.isXMLDoc(e)||(r=Se.attrHooks[t.toLowerCase()]||(Se.expr.match.bool.test(t)?Tt:void 0)),void 0!==i?null===i?void Se.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=Se.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!xe.radioValue&&"radio"===t&&u(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(je);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),Tt={set:function(e,t,i){return t===!1?Se.removeAttr(e,i):e.setAttribute(i,i),i}},Se.each(Se.expr.match.bool.source.match(/\w+/g),function(e,t){var i=It[t]||Se.find.attr;It[t]=function(e,t,n){var r,a,o=t.toLowerCase();return n||(a=It[o],It[o]=r,r=null!=i(e,t,n)?o:null,It[o]=a),r}});var Dt=/^(?:input|select|textarea|button)$/i,Ot=/^(?:a|area)$/i;Se.fn.extend({prop:function(e,t){return Ve(this,Se.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Se.propFix[e]||e]})}}),Se.extend({prop:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&Se.isXMLDoc(e)||(t=Se.propFix[t]||t,r=Se.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=Se.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(Se.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Se.propFix[this.toLowerCase()]=this}),Se.fn.extend({addClass:function(e){var t,i,n,r,a,o,s,l=0;if(Ee(e))return this.each(function(t){Se(this).addClass(e.call(this,t,te(this)))});if(t=ie(e),t.length)for(;i=this[l++];)if(r=te(i),n=1===i.nodeType&&" "+ee(r)+" "){for(o=0;a=t[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");s=ee(n),r!==s&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,r,a,o,s,l=0;if(Ee(e))return this.each(function(t){Se(this).removeClass(e.call(this,t,te(this)))});if(!arguments.length)return this.attr("class","");if(t=ie(e),t.length)for(;i=this[l++];)if(r=te(i),n=1===i.nodeType&&" "+ee(r)+" "){for(o=0;a=t[o++];)for(;n.indexOf(" "+a+" ")>-1;)n=n.replace(" "+a+" "," ");s=ee(n),r!==s&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):Ee(e)?this.each(function(i){Se(this).toggleClass(e.call(this,i,te(this),t),t)}):this.each(function(){var t,r,a,o;if(n)for(r=0,a=Se(this),o=ie(e);t=o[r++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==i||(t=te(this),t&&Ge.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ge.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ee(te(i))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;Se.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=Ee(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,Se(this).val()):e,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=Se.map(r,function(e){return null==e?"":e+""})),t=Se.valHooks[this.type]||Se.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=Se.valHooks[r.type]||Se.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Mt,""):null==i?"":i)}}}),Se.extend({valHooks:{option:{get:function(e){var t=Se.find.attr(e,"value");return null!=t?t:ee(Se.text(e))}},select:{get:function(e){var t,i,n,r=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:r.length;for(n=a<0?l:o?a:0;n<l;n++)if(i=r[n],(i.selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!u(i.parentNode,"optgroup"))){if(t=Se(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,a=Se.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=Se.inArray(Se.valHooks.option.get(n),a)>-1)&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),Se.each(["radio","checkbox"],function(){Se.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Se.inArray(Se(e).val(),t)>-1}},xe.checkOn||(Se.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),xe.focusin="onfocusin"in i;var kt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};Se.extend(Se.event,{trigger:function(e,t,n,r){var a,o,s,l,u,c,d,h,f=[n||ce],p=be.call(e,"type")?e.type:e,g=be.call(e,"namespace")?e.namespace.split("."):[];if(o=h=s=n=n||ce,3!==n.nodeType&&8!==n.nodeType&&!kt.test(p+Se.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Se.expando]?e:new Se.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:Se.makeArray(t,[e]),d=Se.event.special[p]||{},r||!d.trigger||d.trigger.apply(n,t)!==!1)){if(!r&&!d.noBubble&&!_e(n)){for(l=d.delegateType||p,kt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(n.ownerDocument||ce)&&f.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=f[a++])&&!e.isPropagationStopped();)h=o,e.type=a>1?l:d.bindType||p,c=(Ge.get(o,"events")||{})[e.type]&&Ge.get(o,"handle"),c&&c.apply(o,t),c=u&&o[u],c&&c.apply&&ze(o)&&(e.result=c.apply(o,t),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),t)!==!1||!ze(n)||u&&Ee(n[p])&&!_e(n)&&(s=n[u],s&&(n[u]=null),Se.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,Nt),n[p](),e.isPropagationStopped()&&h.removeEventListener(p,Nt),Se.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,i){var n=Se.extend(new Se.Event,i,{type:e,isSimulated:!0});Se.event.trigger(n,null,t)}}),Se.fn.extend({trigger:function(e,t){return this.each(function(){Se.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return Se.event.trigger(e,t,i,!0)}}),xe.focusin||Se.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Se.event.simulate(t,e.target,Se.event.fix(e))};Se.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Ge.access(n,t);r||n.addEventListener(e,i,!0),Ge.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Ge.access(n,t)-1;r?Ge.access(n,t,r):(n.removeEventListener(e,i,!0),Ge.remove(n,t))}}});var Pt=i.location,Lt=Date.now(),Rt=/\?/;Se.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Se.error("Invalid XML: "+e),t};var Ft=/\[\]$/,jt=/\r?\n/g,Bt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;Se.param=function(e,t){var i,n=[],r=function(e,t){var i=Ee(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!Se.isPlainObject(e))Se.each(e,function(){r(this.name,this.value)});else for(i in e)ne(i,e[i],t,r);return n.join("&")},Se.fn.extend({serialize:function(){return Se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Se.prop(this,"elements");return e?Se.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Se(this).is(":disabled")&&Ht.test(this.nodeName)&&!Bt.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=Se(this).val();return null==i?null:Array.isArray(i)?Se.map(i,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:i.replace(jt,"\r\n")}}).get()}});var Vt=/%20/g,Ut=/#.*$/,Wt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,qt=/^\/\//,Yt={},Jt={},Kt="*/".concat("*"),Xt=ce.createElement("a");Xt.href=Pt.href,Se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:Gt.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?oe(oe(e,Se.ajaxSettings),t):oe(Se.ajaxSettings,e)},ajaxPrefilter:re(Yt),ajaxTransport:re(Jt),ajax:function(e,t){function n(e,t,n,s){var u,h,f,w,x,E=t;c||(c=!0,l&&i.clearTimeout(l),r=void 0,o=s||"",_.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(w=se(p,_,n)),w=le(p,w,_,u),u?(p.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(Se.lastModified[a]=x),x=_.getResponseHeader("etag"),x&&(Se.etag[a]=x)),204===e||"HEAD"===p.type?E="nocontent":304===e?E="notmodified":(E=w.state,h=w.data,f=w.error,u=!f)):(f=E,!e&&E||(E="error",e<0&&(e=0))),_.status=e,_.statusText=(t||E)+"",u?m.resolveWith(g,[h,E,_]):m.rejectWith(g,[_,E,f]),_.statusCode(y),y=void 0,d&&v.trigger(u?"ajaxSuccess":"ajaxError",[_,p,u?h:f]),b.fireWith(g,[_,E]),d&&(v.trigger("ajaxComplete",[_,p]),--Se.active||Se.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,a,o,s,l,u,c,d,h,f,p=Se.ajaxSetup({},t),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?Se(g):Se.event,m=Se.Deferred(),b=Se.Callbacks("once memory"),y=p.statusCode||{},w={},x={},E="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=zt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)_.always(e[_.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),n(0,t),this}};if(m.promise(_),p.url=((e||p.url||Pt.href)+"").replace(qt,Pt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(je)||[""],null==p.crossDomain){u=ce.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Xt.protocol+"//"+Xt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Se.param(p.data,p.traditional)),ae(Yt,p,t,_),c)return _;d=Se.event&&p.global,d&&0===Se.active++&&Se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$t.test(p.type),a=p.url.replace(Ut,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Vt,"+")):(f=p.url.slice(a.length),p.data&&(p.processData||"string"==typeof p.data)&&(a+=(Rt.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(a=a.replace(Wt,"$1"),f=(Rt.test(a)?"&":"?")+"_="+Lt++ +f),p.url=a+f),p.ifModified&&(Se.lastModified[a]&&_.setRequestHeader("If-Modified-Since",Se.lastModified[a]),Se.etag[a]&&_.setRequestHeader("If-None-Match",Se.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Kt+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)_.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(g,_,p)===!1||c))return _.abort();if(E="abort",b.add(p.complete),_.done(p.success),_.fail(p.error),r=ae(Jt,p,t,_)){if(_.readyState=1,d&&v.trigger("ajaxSend",[_,p]),c)return _;p.async&&p.timeout>0&&(l=i.setTimeout(function(){_.abort("timeout")},p.timeout));try{c=!1,r.send(w,n)}catch(e){if(c)throw e;n(-1,e)}}else n(-1,"No Transport");return _},getJSON:function(e,t,i){return Se.get(e,t,i,"json")},getScript:function(e,t){return Se.get(e,void 0,t,"script")}}),Se.each(["get","post"],function(e,t){Se[t]=function(e,i,n,r){return Ee(i)&&(r=r||n,n=i,i=void 0),Se.ajax(Se.extend({url:e,type:t,dataType:r,data:i,success:n},Se.isPlainObject(e)&&e))}}),Se._evalUrl=function(e){return Se.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Se.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ee(e)&&(e=e.call(this[0])),t=Se(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Ee(e)?this.each(function(t){Se(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Se(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ee(e);return this.each(function(i){Se(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Se(this).replaceWith(this.childNodes)}),this}}),Se.expr.pseudos.hidden=function(e){return!Se.expr.pseudos.visible(e)},Se.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Se.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Zt=Se.ajaxSettings.xhr();xe.cors=!!Zt&&"withCredentials"in Zt,xe.ajax=Zt=!!Zt,Se.ajaxTransport(function(e){var t,n;if(xe.cors||Zt&&!e.crossDomain)return{send:function(r,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),
e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Se.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Se.globalEval(e),e}}}),Se.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Se.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=Se("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),ce.head.appendChild(t[0])},abort:function(){i&&i()}}}});var ei=[],ti=/(=)\?(?=&|$)|\?\?/;Se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ei.pop()||Se.expando+"_"+Lt++;return this[e]=!0,e}}),Se.ajaxPrefilter("json jsonp",function(e,t,n){var r,a,o,s=e.jsonp!==!1&&(ti.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Ee(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(ti,"$1"+r):e.jsonp!==!1&&(e.url+=(Rt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||Se.error(r+" was not called"),o[0]},e.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===a?Se(i).removeProp(r):i[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,ei.push(r)),o&&Ee(a)&&a(o[0]),o=a=void 0}),"script"}),xe.createHTMLDocument=function(){var e=ce.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Se.parseHTML=function(e,t,i){if("string"!=typeof e)return[];"boolean"==typeof t&&(i=t,t=!1);var n,r,a;return t||(xe.createHTMLDocument?(t=ce.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=ce.location.href,t.head.appendChild(n)):t=ce),r=ke.exec(e),a=!i&&[],r?[t.createElement(r[1])]:(r=T([e],t,a),a&&a.length&&Se(a).remove(),Se.merge([],r.childNodes))},Se.fn.load=function(e,t,i){var n,r,a,o=this,s=e.indexOf(" ");return s>-1&&(n=ee(e.slice(s)),e=e.slice(0,s)),Ee(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&Se.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(n?Se("<div>").append(Se.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this},Se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Se.fn[t]=function(e){return this.on(t,e)}}),Se.expr.pseudos.animated=function(e){return Se.grep(Se.timers,function(t){return e===t.elem}).length},Se.offset={setOffset:function(e,t,i){var n,r,a,o,s,l,u,c=Se.css(e,"position"),d=Se(e),h={};"static"===c&&(e.style.position="relative"),s=d.offset(),a=Se.css(e,"top"),l=Se.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,u?(n=d.position(),o=n.top,r=n.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),Ee(t)&&(t=t.call(e,i,Se.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},Se.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Se.offset.setOffset(this,e,t)});var t,i,n=this[0];if(n)return n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===Se.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===Se.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&(r=Se(e).offset(),r.top+=Se.css(e,"borderTopWidth",!0),r.left+=Se.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-Se.css(n,"marginTop",!0),left:t.left-r.left-Se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Se.css(e,"position");)e=e.offsetParent;return e||ot})}}),Se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;Se.fn[e]=function(n){return Ve(this,function(e,n,r){var a;return _e(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r?a?a[t]:e[n]:void(a?a.scrollTo(i?a.pageXOffset:r,i?r:a.pageYOffset):e[n]=r)},e,n,arguments.length)}}),Se.each(["top","left"],function(e,t){Se.cssHooks[t]=H(xe.pixelPosition,function(e,i){if(i)return i=B(e,t),pt.test(i)?Se(e).position()[t]+"px":i})}),Se.each({Height:"height",Width:"width"},function(e,t){Se.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Se.fn[n]=function(r,a){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||a===!0?"margin":"border");return Ve(this,function(t,i,r){var a;return _e(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?Se.css(t,i,s):Se.style(t,i,r,s)},t,o?r:void 0,o)}})}),Se.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Se.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Se.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Se.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),Se.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),Ee(e))return n=he.call(arguments,2),r=function(){return e.apply(t||this,n.concat(he.call(arguments)))},r.guid=e.guid=e.guid||Se.guid++,r},Se.holdReady=function(e){e?Se.readyWait++:Se.ready(!0)},Se.isArray=Array.isArray,Se.parseJSON=JSON.parse,Se.nodeName=u,Se.isFunction=Ee,Se.isWindow=_e,Se.camelCase=b,Se.type=s,Se.now=Date.now,Se.isNumeric=function(e){var t=Se.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},n=[],r=function(){return Se}.apply(t,n),!(void 0!==r&&(e.exports=r));var ii=i.jQuery,ni=i.$;return Se.noConflict=function(e){return i.$===Se&&(i.$=ni),e&&i.jQuery===Se&&(i.jQuery=ii),Se},a||(i.jQuery=i.$=Se),Se})},,function(e,t,i){e.exports={default:i(1392),__esModule:!0}},function(e,t,i){"use strict";function n(e){return a.store.dispatch(e)}function r(){return a.store.getState()}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchAction=n,t.getAllState=r;var a=i(380)},,,,,,,[2368,299,168,19],,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){return{type:y.SET_TABLE_PANEL_VIEW,panelView:"TREE"}}function a(){return{type:y.SET_TABLE_PANEL_VIEW,panelView:"FLAT"}}function o(e,t){return(0,w.openAlertDialog)({message:e,details:t})}function s(e,t,i){return{type:y.SHOW_CONFIRMATION_DIALOG,title:e,header:t,details:i}}function l(){return{type:y.CLOSE_CONFIRMATION_DIALOG}}function u(){var e=(0,E.getAllState)().uiComponentState.confirmDialog.title;if("Select Final Table"===e){var t=(0,E.getAllState)().uiComponentState.confirmDialog.details.value,i=(0,E.getAllState)().uiComponentState.confirmDialog.details.options.filter(function(e){return e.value!==t});x.pipelineManager.removeFinalTables(x.pipelineManager.selectedPipelineId,i.map(function(e){return e.value})).then(function(e){x.pipelineManager.pipelineEdited=!0,x.pipelineManager.pipelineVisual.checkFinalTables()})}return{type:y.CLOSE_CONFIRMATION_DIALOG}}function c(e){return{type:y.LEFT_PANEL_UPDATE,value:e}}function d(){return{type:"MOJO_SERVICE",method:"openDataImport"}}function h(){return{type:"MOJO_SERVICE",method:"exitApp"}}function f(e){return{type:y.RIGHT_PANEL_UPDATE,value:e}}function p(e){return{type:y.WORKSPACE_PANEL_UPDATE,value:e}}function g(e){return{type:y.WRANGLER_PANEL_UPDATE,value:e}}function v(e){return{type:y.SET_EXP_BUILDER_HEIGHT,value:e}}function m(e){return{type:y.TOOLBAR_UPDATE,value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updatePreviewPanel=void 0,t.showTablePanelTreeView=r,t.showTablePanelFlatView=a,t.showErrorDialog=o,t.showConfirmationDialog=s,t.closeConfirmationDialog=l,t.confirmConfirmationDialog=u,t.updateLeftPanel=c,t.openDI=d,t.exitApp=h,t.updateRightPanel=f,t.updateWorkspacePanel=p,t.updateWranglerPanel=g,t.setExpBuilderHeight=v,t.updateToolbar=m;var b=i(371),y=n(b),w=i(271),x=i(85),E=i(29);t.updatePreviewPanel=function(e){return{type:y.PREVIEW_PANEL_UPDATE,value:e}}},function(e,t){},,[2324,24],[2343,17,618,104,41],[2363,103],,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var i=(0,o.default)(t).reduce(function(e,i){return e["@{"+i+"}"]=t[i],e},{}),n=[],r=-1;(r=e.search(/@{\w+}/))>-1;){n.push(e.substr(0,r)),e=e.substr(r);var a=e.substr(0,e.search("}")+1);n.push(l.default.createElement("span",{className:(0,c.default)("param",a.substr(2,a.length-3))},i[a])),e=e.substr(e.search("}")+1)}return n.push(e),n}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=n(a);t.parse=r;var s=i(1),l=n(s),u=i(8),c=n(u)},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.joinDataEvent=t.joinDataSubject=t.JOIN_EXCEPTION=t.JOIN_MODE=t.JOB_STATUS=t.DimConstant=void 0;var r=i(179),a=n(r);t.DimConstant={JOINPANEL:{JOININFO_VIEW:{h:110},JOINRESULT_VIEW_TOOLBAR:{h:28},JOINRESULT_VIEW_TABLE:{h:244},JOIN_VIEW:{w:400,minH:400,headerH:28,joinTypeH:80,derivedTabH:84,joinActionH:46,joinToolbarH:38,recommendationViewH:164,recommendationViewW:320},JOININFO_TABLEBOX:{diameter:96},JOININFO_DATABOX:{diameter:300,lineLength:200},JOIN_TYPE:{INNER_JOIN:"Inner Join",FULL_OUTER_JOIN:"Full Outer Join",LEFT_JOIN:"Left Join",RIGHT_JOIN:"Right Join"},HISTOGRAM_HEADER:{h:28}}},t.JOB_STATUS={ERROR:"ERROR"},t.JOIN_MODE={NEW_JOIN:"NEW_JOIN",EDIT_JOIN:"EDIT_JOIN"},t.JOIN_EXCEPTION={SUMMARY:"Table join failed",MESSAGE:"Unable to perform Join operation. Please try again later"},t.joinDataSubject=new a.default.Subject,t.joinDataEvent={PREVIEW:"PREVIEW",DELAY:"DELAY"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDBTypeName=t.isHadoopType=t.HADOOP_DB_TYPES=t.DBTYPES=void 0;var r=i(28),a=n(r),o=t.DBTYPES={ALL:{v:-1},DERIVED_TABLES:{v:-2,n:"Derived Tables"},MS_ACCESS:{v:100,n:"MS Access"},ORACLE:{v:200,n:"ORACLE"},SQL_SERVER:{v:300,n:"SQL Server"},INFORMIX:{v:400,n:"Informix"},SYBASE:{v:500,n:"Sybase"},REDBRICK:{v:600,n:"RedBrick"},DB2:{v:700,n:"DB2"},TANDEM:{v:800,n:"Tandem"},TERADATA:{v:900,n:"Tera data"},UNKNOWN:{v:1e3,n:"Unknow"},GENERIC:{v:1100,n:"Generic"},SAP:{v:1200,n:"SAP"},NETEZZA:{v:1300,n:"Netezza"},EXCEL:{v:1400,n:"Excel"},MSFT_AS:{v:1500,n:"msft as"},ESSBASE:{v:1600,n:"Essbase"},MYSQL:{v:1700,n:"Mysql"},POSTGRESQL:{v:1800,n:"Postgre sql"},HPNEOVIEW:{v:1900,n:"HPNEOVIEW"},METAMATRIX:{v:2e3,n:"META MATRIX"},DATALLEGRO:{v:2100,n:"DATALLEGRO"},COMPOSITE:{v:2200,n:"COMPOSITE"},ASTER:{v:2300,n:"aster"},VERTICA:{v:2400,n:"vertica"},OPENACCESS:{v:2500,n:"openaccess"},SYBASE_SQL_ANY:{v:2600,n:"sybase sql any"},SYBASE_IQ:{v:2700,n:"sybase iq"},PARACCEL:{v:2800,n:"paraccel"},TM1:{v:2900,n:"tm1"},XQUERY:{v:3e3,n:"xquery"},HIVE:{v:3100,n:"hive"},SAND:{v:3200,n:"sand"},SALESFORCE:{v:3300,n:"salesforce"},HIVETHRIFT:{v:3400,n:"hive thrift"},VECTORWISE:{v:3500,n:"vector wise"},ENTERPRISEDB:{v:3600,n:"enterprise db"},KOGNITIOWX2:{v:3700,n:"kognition wx2"},EXASOLUTION:{v:3800,n:"exa solution"},INFORMATICA:{v:3900,n:"informatica"},SAPHANA:{v:4e3,n:"SAP HANA"},IMPALA:{v:4100,n:"Impala"},AMAZON_REDSHIFT:{v:4200,n:"Red Shift"},DENODO:{v:4300,n:"DENODO"},GOOGLE_DRIVE:{v:4400,n:"Google Drive"},DROPBOX:{v:4500,n:"Dropbox"},GOOGLE_ANALYTICS:{v:4600,n:"Google Analytics"},GOOGLE_BIGQUERY:{v:4700,n:"Google BigQuery"},CONNECTION_CLOUD:{v:4800,n:"Connection Cloud"},GOOGLE_BIG_QUERY_FFSQL_MODEL:{v:4900,n:"Google Big Query FFSQL Model"},PARSTREAM:{v:5100,n:"PARSTREAM"},MONGODB:{v:5200,n:"MongoDB"},MARKLOGIC:{v:5300,n:"MARK LOGIC"},BIG_DATA_ENGINE:{v:5400,n:"Big data engine"},SEARCH_ENGINE_SOLR:{v:5500,n:"Search Engine Solr"},SPLUNK:{v:5600,n:"Splunk"},TWITTER:{v:5700,n:"Twitter"},FACEBOOK:{v:5800,n:"Facebook"},ELASTICSEARCH:{v:6200,n:"ELASTIC SEARCH"},DYNAMICCRM:{v:6300,n:"DYNAMIC CRM"},PIG:{v:6400,n:"PIG"},DATADIRECTCLOUD:{v:6500,n:"DATADIRECT CLOUD"},ARCADIAPLATFORM:{v:6600,n:"ARCADIA PLATFORM"},MEMSQL:{v:6700,n:"MEMSQL"},PHOENIX:{v:6800,n:"PHOENIX"},PIVOTALHAWQ:{v:6900,n:"PIVOTALHAWQ"},ALTIBASE:{v:7e3,n:"ALTI BASE"},CASSANDRA:{v:7100,n:"CASSANDRA"},PRESTO:{v:7200,n:"PRESTO"},DRILL:{v:7300,n:"Drill"},ACCESS64:{v:7400,n:"ACCESS 64"},CIRRO:{v:7500,n:"CIRRO"},SNOWFLAKE:{v:7600,n:"SNOWFLAKE"},URL:{v:7700,n:"File from Url"},AURORA:{v:7800,n:"AURORA"},newConnector:{v:7900,n:"New Connector"},Athena:{v:8e3,n:"Amazon Athena"},SPARKSQL:{v:8100,n:"Spark SQL"},LOCALFILE:{v:8200,n:"File from disk"}},s="HADOOP",l=t.HADOOP_DB_TYPES=[o.HIVE.v,o.GENERIC.v,o.IMPALA.v,o.DRILL.v,o.PHOENIX.v,o.PIG.v,o.SPARKSQL.v],u=t.isHadoopType=function(e){return l.indexOf(e)>-1};t.getDBTypeName=function(e){if(u(e))return s;var t="";return(0,a.default)(o).forEach(function(i){if(o[i].v===e)return t=o[i].n,!1}),t}},[2364,101],,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(e.objectType===O.TABLE_GROUP_TYPE)(0,m.default)(e.tables).forEach(function(i){var n=e.tables[i];a(n,t)});else{var i=e.datasource,n=i.dbRoleId;t[n]=t[n]||{id:i.dbRoleId,name:i.dbRoleName||"",type:i.databaseType,tables:[]},t[n].tables.push({name:e.name,ns:i.namespace,namespace:i.namespace,sheetIndex:i.sheetIndex,url:i.url,sql:i.sql,type:i.type})}}function o(){return{type:y.TOGGLE_OBJECT_INFO_HEADER}}function s(e){return{type:y.UPDATE_OVERVIEW_ZOOM_SCALE,scale:e}}function l(e){return{type:y.UPDATE_EDIT_PIPELINE_ZOOM_SCALE,scale:e}}function u(e){return{type:y.SET_DW_UPDATE_FLAG,tableId:(0,S.getAllState)().dpState.currentPreviewTableId,dwUpdateFlag:e}}function c(e,t){return{type:y.UPDATE_TABLE_ROW_COUNT,tableId:e,rawTotalCount:t}}function d(e,t){return{type:y.UPDATE_OPERATION_LIST,tableId:e,operations:t}}function h(e){return{type:y.SET_DW_NEW_SCRIPT,tableId:(0,S.getAllState)().dpState.currentPreviewTableId,idx:e}}function f(e){return{type:y.UNSET_DW_NEW_SCRIPT,tableId:(0,S.getAllState)().dpState.currentPreviewTableId,idx:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleAutoLayout=t.updateGridScrollState=t.updateGridOnResize=t.getValidTableName=t.getTableOperationInfo=t.intersectTable=t.differenceTable=t.unionTable=t.joinTable=t.removeTablePreviewFromMap=t.updateTableStatus=t.updateTablePreviewMap=t.updatePreviewTableId=t.updateTableList=t.updateTableSelection=t.updateTableSelectionUsingNodeIds=t.populateLeftPanelWithWS=t.setDefinition=t.toggleEditPipelineMode=t.disableDPToolbar=t.enableDPToolbar=void 0;var p=i(7),g=r(p),v=i(28),m=r(v);t.toggleObjectInfoHeader=o,t.setOverviewCanvasZoomScale=s,t.setEditPipelineCanvasZoomScale=l,t.setDWUpdateFlag=u,t.updateRawTableRowCount=c,t.updateOperationList=d,t.setNewScript=h,t.unSetNewScript=f;var b=i(370),y=n(b),w=i(114),x=i(47),E=n(x),_=i(85),A=i(20),C=i(131),S=i(29),T=i(38),I=i(127),D=i(269),O=i(373),M=i(364),k=(n(M),t.enableDPToolbar=function(){return{type:y.DP_ENABLE_TOOLBAR}},t.disableDPToolbar=function(){return{type:y.DP_DISABLE_TOOLBAR}},t.toggleEditPipelineMode=function(e){return{type:y.DP_TOGGLE_EDIT_PIPELINE_MODE,value:e}},t.setDefinition=function(e){return{type:y.DP_SET_WSDEFINITION,value:e}},t.populateLeftPanelWithWS=function(e){return function(t,i){var n=e.pipelines,r={};n.forEach(function(e){var t=e.tableGroup;a(t,r)}),(0,m.default)(r).forEach(function(e){t((0,I.addOrUpdateDatasource)((0,g.default)({},r[e],{expanded:!0})))}),t((0,I.setActiveTab)(D.TABLES_TAB_KEY))}},t.updateTableSelectionUsingNodeIds=function(e){return function(t,i){t(k(e.map(function(e){return e&&e.split(":")[1]})))}},t.updateTableSelection=function(e){return function(t,i){0===e.length?N(t,!1):i().layout.previewPanel.enabled&&N(t,!0),t({type:y.UPDATE_TABLE_SELECTION,value:e})}}),N=(t.updateTableList=function(e){return function(t,i){t({type:y.UPDATE_TABLE_LIST,value:e}),0===i().dpState.selectedTableIds.length&&N(t,!1)}},function(e,t){var i={display:t};e((0,T.updatePreviewPanel)(i))}),P=(t.updatePreviewTableId=function(e){return{type:y.UPDATE_PREVIEW_TABLE_ID,value:e}},t.updateTablePreviewMap=function(e){return{type:y.UPDATE_TABLE_PREVIEW_MAP,value:e}},t.updateTableStatus=function(e){return{type:y.UPDATE_TABLE_STATUS,value:e}},t.removeTablePreviewFromMap=function(e){return{type:y.REMOVE_TABLE_PREVIEW_FROM_MAP,value:e}},t.joinTable=function(){return function(e,t){return e((0,w.toggleJoinPanel)(E.JOIN_MODE.NEW_JOIN)),{type:y.JOIN_TABLES_OPERATION}}},t.unionTable=function(e){return function(t,i){var n=P(e?"unionAll":"union",i().dpState.isEditPipelineMode);return(0,C.unionTables)(A.workspaceManager.initialWorkspaceId,n.pipelineId,n.tableIds,n.nodeIds,e,n.tableName),{type:y.UNION_TABLES_OPERATION}}},t.differenceTable=function(){return function(e,t){var i=P("diff",t().dpState.isEditPipelineMode);return(0,C.diffTables)(A.workspaceManager.initialWorkspaceId,i.pipelineId,i.tableIds,i.nodeIds,i.tableName),{type:y.DIFFERENCE_TABLES_OPERATION}}},t.intersectTable=function(){return function(e,t){var i=P("intersect",t().dpState.isEditPipelineMode);return(0,C.intersectTables)(A.workspaceManager.initialWorkspaceId,i.pipelineId,i.tableIds,i.nodeIds,i.tableName),{type:y.INTERSECT_TABLES_OPERATION}}},t.getTableOperationInfo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t?_.pipelineManager.pipelineVisual.pegraph:_.pipelineManager.pipelineVisual.graph,n=i?i.getSelectedNodes():[],r=[],a=[],o="",s=e?e[0].toUpperCase()+e.substr(1):"";return n.forEach(function(e){a.push(e);var t=i.getNode(e);t&&t.data&&(r.push(t.data.id),""===o&&(o=t.sessionId))}),s=L(s),{tableIds:r,nodeIds:a,pipelineId:o,tableName:s}}),L=t.getValidTableName=function(e){var t={};(0,S.getAllState)().dpState.tableList.forEach(function(e){t[e.name]=!0});for(var i=1,n=e+i;t[n];)n=e+i++;return n};t.updateGridOnResize=function(e){return{type:y.UPDATE_GRID_ON_RESIZE,value:e}},t.updateGridScrollState=function(e){return{type:y.UPDATE_GRID_SCROLL_STATE,value:e}},t.toggleAutoLayout=function(e){return{type:y.DP_TOGGLE_AUTOLAYOUT,value:e}}},function(e,t,i){e.exports={default:i(1380),__esModule:!0}},,,,283,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALL="all",t.ATTRIBUTES="attribute",t.METRICS="metric",t.MFA="MFA",t.HIERARCHY="hierarchy",t.DRAGGING_INDEX_FORBIDDEN="banned",t.DRAGGING_INDEX_ADD="plus",t.DRAGGING_INDEX_CONVERT="convert",t.DRAGGING_INDEX_NONE="none",t.DRAGGING_INDEX_CROSS="cross",t.DRAGGING_INDEX_FLIPPED="flipped"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AllAttributesInMFA=t.attributesFromMFA=t.getSelectedObjectOnPanel=t.getSelectedMetricsOnPanel=t.getSelectedAttributesOnPanel=t.selectedMetrics=t.selectedAttributes=t.selectedTableIds=t.attributes=void 0;var r=i(117),a=n(r),o=i(7),s=n(o),l=i(82),u=i(459),c=n(u),d=i(15),h=n(d),f=i(59),p=i(217),g=i(1071),v=t.attributes=(0,l.createSelector)(p.allAttributes,p.srcTables,p.allColumns,p.allHierarchies,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=function(e){return function(t){var i=function(e){return function(t){return h.default.some(t.attributes?t.attributes:[],function(t){return t.objectId===e})}},n=c.default.filter(function(e){return i(t)(e)}),r=c.default.map(function(e){return{id:e.id,name:e.name}});return c.default.flow(n,r)(e)}},o=function(e,t){return function(i){var n=function(e){return function(t){return h.default.some(t.attributes?t.attributes:[],function(t){return t.objectId===e})}},r=c.default.find(function(e){return n(i)(e)})(e),a=h.default.find(r.attributes,function(e){return e.objectId===i});if(a&&a.attributeForms.length>1)return null;var o=h.default.result(a,"attributeForms[0].expression.columnId"),s=h.default.find(t,function(e){return e.id===o});return h.default.result(s,"dataType.dataType")}},l=c.default.map(function(e){var n=r(t)(e.id);return(0,s.default)({},e,{tid:n,isLinked:n.length>1||void 0,isMFA:e.forms.length>1,dataType:o(t,i)(e.id)})}),u=c.default.filter(function(e){var t=!0,i=!0,r=!1,o=void 0;try{for(var s,l=(0,a.default)(n);!(i=(s=l.next()).done);i=!0){var u=s.value;if(u.attributes[e.id]){t=!1;break}}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return t}),d=c.default.sortBy(["name"]),p=c.default.flow(l,u,d)(e);e=c.default.flow(l)(e);var v=n.map(function(t){var i=(0,g.isGraphHierarchy)(t.attributes),n=i?h.default.values(t.attributes):(0,g.getSortedHierAttr)(t.attributes),r=n.map(function(n){var r=h.default.find(e,function(e){return e.id===n.objectId});return r.isInLinearHierarchy=!i,r.isInGraphHierarchy=i,r.hierarchyName=t.name,r.relation=n.relationships,r});return{id:t.id,name:t.name,isCreate:t.isCreate,type:f.HIERARCHY,tid:h.default.uniqBy(h.default.flatMap(h.default.map(r,function(e){return e.tid})),function(e){return e.id}),attributes:r,isGraphHier:i}});return h.default.concat(p,v)}),m=(0,l.createSelector)(p.allMetrics,p.srcTables,p.allColumns,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=function(e){return function(t){var i=function(e){return function(t){return h.default.some(t.metrics?t.metrics:[],function(t){return t.objectId===e})}},n=c.default.filter(function(e){return i(t)(e)}),r=c.default.map(function(e){return{id:e.id,name:e.name}});return c.default.flow(n,r)(e)}},r=function(e,t){return function(i){var n=function(e){return function(t){return h.default.some(t.metrics?t.metrics:[],function(t){return t.objectId===e})}},r=c.default.find(function(e){return n(i)(e)})(e),a=h.default.find(r.metrics,function(e){return e.objectId===i}),o=h.default.result(a,"expression.columnId"),s=h.default.find(t,function(e){return e.id===o});return h.default.result(s,"dataType.dataType")}},a=c.default.map(function(e){var a=n(t)(e.id);return(0,s.default)({},e,{tid:n(t)(e.id),isLinked:a.length>1||void 0,dataType:r(t,i)(e.id)})}),o=c.default.sortBy(["name"]);return c.default.flow(a,o)(e)}),b=function(e){return e.dpState.selectedTableIds},y=(0,l.createSelector)(b,p.dbTables,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=c.default.filter(function(t){return h.default.indexOf(e,t.sparkDef&&t.sparkDef.finalTableId)>=0}),n=c.default.map(function(e){return e.id});return c.default.flow(i,n)(t)}),w=t.selectedTableIds=(0,l.createSelector)(y,p.srcTables,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=c.default.filter(function(t){return h.default.some(e,function(e){return e===t.dbTable})}),n=c.default.map(function(e){return e.id});return c.default.flow(i,n)(t)}),x=(t.selectedAttributes=(0,l.createSelector)(w,v,function(e,t){return h.default.filter(t,function(t){return!e.length||h.default.intersection(h.default.map(t.tid,function(e){return e.id}),e).length})}),t.selectedMetrics=(0,l.createSelector)(w,m,function(e,t){return h.default.filter(t,function(t){return!e.length||h.default.intersection(h.default.map(t.tid,function(e){return e.id}),e).length})}),t.getSelectedAttributesOnPanel=function(e){return e.dmState.selectedObjects.selectedAttributes}),E=t.getSelectedMetricsOnPanel=function(e){return e.dmState.selectedObjects.selectedMetrics};t.getSelectedObjectOnPanel=function(e,t){return t===f.ATTRIBUTES?x(e):E(e)},t.attributesFromMFA=(0,l.createSelector)(x,p.srcTables,p.allColumns,p.allForms,p.mfaDialog,function(e,t,i,n,r){if(h.default.isEmpty(r)||!r.showMFADialog)return{};if(1!==e.length||!e[0].isMFA)return{};var a={};return h.default.forEach(e[0].tid,function(r){var o=e[0].id,s=h.default.find(t,function(e){return e.id===r.id}),l=h.default.filter(s.attributes,function(e){return e.objectId===o});l[0].attributeForms=h.default.filter(l[0].attributeForms,function(e){return e.objectId&&e.expression&&e.expression.columnId});var u=h.default.map(e[0].forms,function(e){return e.objectId}),c=h.default.map(e[0].forms,function(e){return e.displayForm}),d=h.default.zipObject(u,c);h.default.forEach(d,function(e,t){e={displayForm:e},d[t]=e});var f=h.default.reduce(l[0].attributeForms,function(e,t){return e[t.expression.columnId]=t.objectId,e},{}),p=h.default.reduce(l[0].attributeForms,function(e,t){return e[t.objectId]={colId:t.expression.columnId,id:t.objectId},e},{}),g=h.default.reduce(i,function(e,t){return t.id in f&&u.includes(f[t.id])&&(e[f[t.id]]={name:t.name}),e},{}),v=h.default.reduce(n,function(e,t){return u.includes(t.id)&&(e[t.id]={formCategory:t.name}),e},{}),m=h.default.merge({},d,p,g,v);m=h.default.filter(m,function(e){return e.name}),a[r.id]=m}),a}),t.AllAttributesInMFA=(0,l.createSelector)(p.srcTables,p.allColumns,p.allForms,function(e,t,i){var n=h.default.filter(h.default.flatten(h.default.map(e,function(e){return e.attributes})),function(e){return e&&e.attributeForms.length>1}),r=h.default.map(i,function(e){return e.id}),a={},o=h.default.map(t,function(e){return e.name}),s=h.default.remove(o,function(e,t,i){return h.default.findLastIndex(i,function(t){return t===e})!==t});return h.default.forEach(n,function(n){h.default.forEach(e,function(e){if(h.default.findIndex(e.attributes,function(e){return e.objectId===n.objectId})>=0){var o=e.id,l=h.default.flatten(h.default.map(h.default.filter(h.default.flatten(e.attributes),function(e){return e&&e.objectId===n.objectId}),function(e){return e.attributeForms})),u=h.default.reduce(l,function(e,t){return t&&t.expression&&t.expression.columnId&&(e[t.expression.columnId]=t.objectId),e},{}),c=h.default.reduce(i,function(e,t){return e[t.id]={formName:t.name},e},{}),d=h.default.reduce(t,function(e,t){return t.id in u&&r.includes(u[t.id])&&(e[u[t.id]]={name:t.name,linked:s.includes(t.name)}),e},{}),f=h.default.intersection(h.default.keys(d),h.default.keys(c));a[n.objectId]||(a[n.objectId]={}),a[n.objectId][o]=h.default.merge({},h.default.pick(c,f),d),a[n.objectId][o].tname=e.name}})}),a})},,,,,[2315,1754],,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.name,i=e.control,n=e.validate,r=e.config,a=e.onChange,l=e.onBlur,c=e.values;return o.default.createElement(s.Field,{name:t,component:u.default,control:i,validate:n,props:{config:r},onChange:a,onBlur:l,values:c})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(1),o=n(a),s=i(178),l=i(264),u=n(l)},,156,[2328,42,164,41],function(e,t,i){var n=i(19),r=i(70),a=i(69),o=i(168)("src"),s="toString",l=Function[s],u=(""+l).split(s);i(100).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,i,s){var l="function"==typeof i;l&&(a(i,"name")||r(i,"name",t)),e[t]!==i&&(l&&(a(i,o)||r(i,o,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=i:s?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||l.call(this)})},function(e,t,i){var n=i(11),r=i(24),a=i(101),o=/"/g,s=function(e,t,i,n){var r=String(a(e)),s="<"+t;return""!==i&&(s+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var i={};i[e]=t(s),n(n.P+n.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",i)}},,,,,[2345,235,164,79,104,69,618,41],[2348,69,49,419],[2362,234,101],,,function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function n(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,r=null;return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return null!==i&&i.length===a.length&&a.every(function(e,n){return t(e,i[n])})||(r=e.apply(void 0,a)),i=a,r}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var i=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+i+"]"))}return t}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,l=r.pop(),u=a(r),c=e.apply(void 0,[function(){return s++,l.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o=u.map(function(i){return i.apply(void 0,[e,t].concat(r))});return c.apply(void 0,i(o))};return d.resultFunc=l,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var i=Object.keys(e);return t(i.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[i[n]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=o,t.createStructuredSelector=s;var l=t.createSelector=o(r)},,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.createHierarchyObj=t.togglePublishProgress=t.setPublishJobId=t.setMsgId=t.setDataSetName=t.setDirty=t.setImportSource=t.setLastSelectedObject=t.setSelectMetricsOfOneTable=t.setSelectAttributesOfOneTable=t.setSelectMetrics=t.setSelectAttributes=t.setSelectMetricsOnPanel=t.setSelectAttributesOnPanel=void 0;var r=i(112),a=n(r),o=i(20),s=t.setSelectAttributesOnPanel=function(e){return{type:a.SET_SELECTED_ATTRIBUTES_ON_PANEL,payload:e}},l=t.setSelectMetricsOnPanel=function(e){return{type:a.SET_SELECTED_METRICS_ON_PANEL,payload:e}},u=(t.setSelectAttributes=function(e,t){return function(i,n){i(s(e)),t&&i(u(t))}},t.setSelectMetrics=function(e,t){return function(i,n){
i(l(e)),t&&i(u(t))}},t.setSelectAttributesOfOneTable=function(e){return{type:a.SET_ATTRIBUTES_SELECTION_OF_ONE_TABLE,payload:e}},t.setSelectMetricsOfOneTable=function(e){return{type:a.SET_METRICS_SELECTION_OF_ONE_TABLE,payload:e}},t.setLastSelectedObject=function(e){return{type:a.SET_LAST_OBJECT_SELECTED,object:e}});t.setImportSource=function(e){return o.workspaceManager.currentDatamodelMapping=e,o.workspaceManager.updateWorkspaceLink(),{type:a.SET_IMPORTSOURCE,model:e}},t.setDirty=function(e){return{type:a.SET_DIRTY,dirty:e}},t.setDataSetName=function(e){return{type:a.SET_DATASET_NAME,dataSetName:e}},t.setMsgId=function(e){return{type:a.SETMSGID,msgId:e}},t.setPublishJobId=function(e){return{type:a.SET_PUBLISH_JOB_ID,jobId:e}},t.togglePublishProgress=function(e){return{type:a.TOGGLE_PUBLISH_PROGRESS,payload:e}},t.createHierarchyObj=function(e){return{type:a.CREATE_HIERARCHY_OBJ,hierarchy:e}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PipelineVisual=t.pipelineManager=void 0;var a=i(46),o=r(a),s=i(1336),l=r(s),u=i(117),c=r(u),d=i(2),h=r(d),f=i(6),p=r(f),g=i(20),v=i(184),m=n(v),b=i(96),y=i(575),w=r(y),x=i(379),E=r(x),_=i(29),A=i(52),C=i(133),S=i(87),T=n(S),I=i(38),D=i(131),O=i(154),M=i(84),k=function(){function e(){(0,h.default)(this,e),this.pipelineVisual=null,this.selectedPipelineId="",this.selectedNodeId="",this.selectedTableId="",this.pipelineEdited=!1,this.pipelineNodes=[],this.pipelineEdges=[],this.tableRowCountDic={}}return(0,p.default)(e,[{key:"addDerivedTable",value:function(e,t,i,n,r,a){if(N.pipelineVisual.pegraph&&t){var o={x:0,y:0},s=r+":"+e,l=new w.default(s,n);l.name=a;for(var u=[],c=0;c<t.length;c++){var d=t[c],h=N.pipelineVisual.pegraph.getNode(d);if(h){i===m.TABLE_OPERATION.DIFF?h.showRightIcon(c>0,"minus"):[m.TABLE_OPERATION.INNER_JOIN,m.TABLE_OPERATION.RIGHT_JOIN,m.TABLE_OPERATION.FULL_JOIN,m.TABLE_OPERATION.LEFT_JOIN].indexOf(i)>-1?h.showRightIcon(!0,0===c?"ltable":"rtable"):h.showRightIcon(!1),o={x:h.pos.x,y:h.pos.y};var f=new E.default(d,s,null);f.linewidth=1.2,u.push(f)}}if(l.pos=o,l.labelpos=2,l.tabletype=i,l.sessionId=r,l.type="tableicon",l.data.tables){var p=g.workspaceManager.getSourceTableIds(l.data.tables);l.targetsize=N.pipelineVisual.getPipelineNodeSize(p)}N.pipelineVisual.pegraph.addNode(l),N.pipelineVisual.pegraph.addEdges(u),l.setTableIconType(b.NODE_STYLE.ICON_TYPE.DERIVED_TABLE),N.pipelineVisual.pegraph.setLayoutWithoutZoom(b.GRAPH_LAYOUT.SEQUENCE),N.pipelineVisual.pegraph.selectNode(l.id),g.workspaceManager.updateWorkspaceDefinition(g.workspaceManager.initialWorkspaceId).then(function(){(0,_.dispatchAction)((0,A.updateTableSelection)([e]))})}}},{key:"findNonCollisionPoint",value:function(e,t){if(t)for(var i=t.findNodesByPoint(e,30);i.length>0;)e.x+=m.GAP_BETWEEN_NODES,i=t.findNodesByPoint(e,30);return e}},{key:"addTempTableNode",value:function(e,t,i,n,r){var a=new w.default(t,null),o=g.workspaceManager.currentWorkspaceMode===m.WORKSPACE_MODE.EDIT,s=o?N.pipelineVisual.pegraph:N.pipelineVisual.graph,l=this.findNonCollisionPoint(i?{x:i.x,y:i.y}:{x:0,y:0},s);if(a.name=e,a.sessionId=n,a.pos=l,a.targetpos={x:a.pos.x,y:a.pos.y},a.startpos={x:a.pos.x,y:a.pos.y},a.status="loading",a.size={w:b.NODE_STYLE.DEFAULT_SIZE.W,h:b.NODE_STYLE.DEFAULT_SIZE.H},a.labelpos=2,a.tabletype="mt",g.workspaceManager.currentAddTableRequestIds[t]=!0,s)if(o){a.type="tableicon",a.tabletype="table";var u=N.pipelineVisual.pegraph.allNodes();1===u.length&&u[0].name===this.pipelineVisual.titlename.value&&(this.pipelineVisual.titlename.value=this.getNewPipelineName()),N.pipelineVisual.pegraph.addNode(a)}else a.type="circle",N.pipelineVisual.graph.addNode(a),a.showIcon(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.ICON_DISPLAY_ZOOM_LIMIT),a.showLabel(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.LABEL_DISPLAY_ZOOM_LIMIT);r&&(a.fillcolor=r.backgroundColor,a.changeTableIconColor(r.tableColor),a.refresh()),a.setInProgress(!0)}},{key:"updateTempTableNode",value:function(e,t,i){if(i&&i.id){var n=e,r=t+":"+i.id;if(i.pipelineId=t,(0,_.dispatchAction)((0,A.updateTableList)({type:"ADD",list:[i]})),N.pipelineVisual.graph){N.pipelineVisual.graph.updateNodeId(n,r,i);var a=N.pipelineVisual.graph.getNode(r);if(a){a.sessionId=t,a.setInProgress(!1);var o=g.workspaceManager.getDataSourceColor(a.data.id);o&&(a.fillcolor=o.backgroundColor,a.changeTableIconColor(o.tableColor)),a.showIcon(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.ICON_DISPLAY_ZOOM_LIMIT),a.showLabel(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.LABEL_DISPLAY_ZOOM_LIMIT)}}if(N.pipelineVisual.pegraph){N.pipelineVisual.pegraph.updateNodeId(n,r,i);var s=N.pipelineVisual.pegraph.getNode(r);if(s){s.sessionId=t,s.setInProgress(!1);var l=g.workspaceManager.getDataSourceColor(s.data.id);l&&s.changeTableIconColor(l.tableColor)}}N.updateTableRowCount(t,i.id,i.rawTotalCount)}}},{key:"updateTableRowCount",value:function(e,t,i){(0,_.dispatchAction)((0,A.updateRawTableRowCount)(t,i)),N.tableRowCountDic[t]=null!==i?i:-1;var n=N.pipelineVisual.pegraph.getNode(e+":"+t);if(n&&(n.targetsize=N.pipelineVisual.getTableNodeSize(t),n.refresh()),n=N.pipelineVisual.graph.allNodes().filter(function(t){return t.sessionId===e})[0],n&&n.data){if(n.data.tables){var r=g.workspaceManager.getSourceTableIds(n.data.tables);n.targetsize=N.pipelineVisual.getPipelineNodeSize(r)}else n.targetsize=N.pipelineVisual.getTableNodeSize(n.data.id);n.refresh()}}},{key:"removeTempTableNode",value:function(e){var t=e;if(N.pipelineVisual.graph){var i=N.pipelineVisual.graph.getNode(t);i&&(i.setInProgress(!1),N.pipelineVisual.graph.removeNode(t))}if(N.pipelineVisual.pegraph){var n=N.pipelineVisual.pegraph.getNode(t);n&&(n.setInProgress(!1),N.pipelineVisual.pegraph.removeNode(t))}g.workspaceManager.currentAddTableRequestIds[e]&&delete g.workspaceManager.currentAddTableRequestIds[e]}},{key:"hasTempTableNode",value:function(e){for(var t=e?N.pipelineVisual.pegraph.allNodes():N.pipelineVisual.graph.allNodes(),i=0;i<t.length;i++)if(t[i].inprogress)return!0;return!1}},{key:"isValidPipelineName",value:function(e,t){var i={};if(N.pipelineVisual.graph){var n=N.pipelineVisual.graph.allNodes();n.forEach(function(t){t.sessionId!==e&&(i[t.name]=!0)})}return null==i[t]}},{key:"getNewPipelineName",value:function(e,t){var i="";if(t){var n=!0,r=!1,a=void 0;try{for(var o,s=(0,c.default)(t);!(n=(o=s.next()).done);n=!0){var l=o.value,u=N.pipelineVisual.graph.getNode(l);if(u)if(u.sessionId===e){if(u.data.tables){i=u.name;break}}else u.data.tables&&(i=u.name)}}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}}if(""===i){var d={};if(N.pipelineVisual.graph){var h=N.pipelineVisual.graph.allNodes();h.forEach(function(e){d[e.name]=!0})}var f=1;for(i="Pipeline"+f;d[i];)i="Pipeline"+ ++f}return i}},{key:"mergePipelines",value:function(e,t,i,n){if(t){var r=null,a=[],o=!0,s=!1,l=void 0;try{for(var u,d=(0,c.default)(t);!(o=(u=d.next()).done);o=!0){var h=u.value,f=N.pipelineVisual.graph.getNode(h);if(f)if(f.sessionId===e){var p=e+":"+i.id;N.pipelineVisual.graph.updateNodeId(h,p,i);var v=g.workspaceManager.getSourceTableIds(i.tables),m=g.workspaceManager.getDataSourceColorPalette(v);f.targetsize=N.pipelineVisual.getPipelineNodeSize(v),f.setTitle(n||i.name),f.setTableIconType(b.NODE_STYLE.ICON_TYPE.DERIVED_TABLE,m),r=f,i.pipelineId=e,(0,_.dispatchAction)((0,A.updateTableList)({type:"ADD",list:[i]}))}else a.push(f)}}catch(e){s=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw l}}if(r&&a.length>0){var y={},w=[];a.forEach(function(e){y[e.id]={startpos:e.pos,targetpos:r.pos},w.push(e.sessionId)}),(0,_.dispatchAction)((0,A.updateTableList)({type:"DELETE",list:t.map(function(e){return e.split(":")[1]})})),N.pipelineVisual.graph.layout.callback=function(){g.workspaceManager.removePipelines(g.workspaceManager.initialWorkspaceId,w);for(var e in y)N.pipelineVisual.graph.removeNode(e);(0,_.dispatchAction)((0,A.updateTableSelection)(N.pipelineVisual.graph.getSelectedNodes().map(function(e){return e.split(":")[1]}))),r.setInProgress(!1),N.pipelineVisual.graph.showIcon(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.ICON_DISPLAY_ZOOM_LIMIT),N.pipelineVisual.graph.showLabel(N.pipelineVisual.graph.zoomhandler.getScale()>b.NODE_STYLE.LABEL_DISPLAY_ZOOM_LIMIT)},N.pipelineVisual.graph.setLayoutWithoutZoom(b.GRAPH_LAYOUT.MANUAL,y)}}}},{key:"refreshChildTableNodes",value:function(e,t,i){var n=this;i&&t&&t.forEach(function(t){var r=i[t],a=e.split(":");if(a&&2===a.length){var o=a[0],s=o+":"+t,l=new w.default(s,r);l.name=r.name,l.sessionId=o,l.pos={x:0,y:0},l.labelpos=2,l.size={w:b.NODE_STYLE.DEFAULT_SIZE.W,h:b.NODE_STYLE.DEFAULT_SIZE.H},l.type="tableicon",n.updateNodeIcons(l,r),n.pipelineNodes.push(l);var u=new E.default(s,e,null);if(u.linewidth=1.2,n.pipelineEdges.push(u),r.tables&&r.tablesOrder){var c=g.workspaceManager.getSourceTableIds(r.tables);l.targetsize=N.pipelineVisual.getPipelineNodeSize(c),n.refreshChildTableNodes(s,r.tablesOrder,r.tables)}else l.targetsize=N.pipelineVisual.getTableNodeSize(t)}})}},{key:"updateNodeIcons",value:function(e,t){e&&t&&("source"===t.groupType?e.tabletype="table":"join"===t.groupType?e.tabletype=t.joinType:e.tabletype=t.groupType,t.operationList&&t.operationList.operations&&t.operationList.operations.forEach(function(t){t&&("addFilters"===t.type?e.hasFilter=!0:e.hasWrangle=!0)}))}},{key:"refreshPipeline",value:function(e,t){if(t){var i=e+":"+t.id,n=N.pipelineVisual.pegraph.getNode(i);if(n&&(n.showWrangleIcon(t.operationList&&t.operationList.operations.length>0),t.tables))for(var r in t.tables){var a=t.tables[r];this.refreshPipeline(e,a)}}}},{key:"constructPipeline",value:function(e){if(g.workspaceManager.currentWorkspaceDefinition){var t=g.workspaceManager.currentWorkspaceDefinition,i=t.pipelines.filter(function(t){return t.id===e});if(i.length>0){var n=i[0],r=n.id;if(this.pipelineNodes=[],this.pipelineEdges=[],n.tableGroup&&n.tableGroup.tables)for(var a in n.tableGroup.tables){var o=n.tableGroup.tables[a],s=r+":"+a,l=new w.default(s,o);if(l.name=o.name,l.sessionId=r,l.pos={x:0,y:0},l.labelpos=2,l.size={w:b.NODE_STYLE.DEFAULT_SIZE.W,h:b.NODE_STYLE.DEFAULT_SIZE.H},l.type="tableicon",this.updateNodeIcons(l,o),this.pipelineNodes.push(l),o.tables&&o.tablesOrder){var u=g.workspaceManager.getSourceTableIds(o.tables);l.targetsize=N.pipelineVisual.getPipelineNodeSize(u),this.refreshChildTableNodes(s,o.tablesOrder,o.tables)}else l.targetsize=N.pipelineVisual.getTableNodeSize(a)}this.pipelineNodes.length>0&&this.pipelineVisual&&this.pipelineVisual.pegraph&&(N.pipelineVisual.pegraph.init(this.pipelineNodes,this.pipelineEdges),this.pipelineNodes.forEach(function(e){var t=g.workspaceManager.getDataSourceColor(e.data.id);if(t&&e.changeTableIconColor(t.tableColor),e.inedges&&e.inedges.length>0){e.setTableIconType(b.NODE_STYLE.ICON_TYPE.DERIVED_TABLE);for(var i=e.inedges.map(function(e){return e.fromnode}),n=0;n<i.length;n++){var r=i[n];e.data.groupType===m.TABLE_OPERATION.DIFF?r.showRightIcon(n>0,"minus"):e.data.groupType===m.TABLE_OPERATION.JOIN?r.showRightIcon(!0,0===n?"ltable":"rtable"):r.showRightIcon(!1)}}0===e.outedges.length&&e.select(),e.showWrangleIcon(e.hasWrangle),e.resize(e.targetsize)}),1===this.pipelineNodes.length&&this.pipelineNodes[0].select(),N.pipelineVisual.pegraph.setLayoutWithoutZoom(b.GRAPH_LAYOUT.SEQUENCE),(0,_.dispatchAction)((0,A.setEditPipelineCanvasZoomScale)(1)))}}}},{key:"getFinalDerivedTables",value:function(e){var t=[];if(e&&e.tableGroup&&e.tableGroup.tables){var i=[];for(var n in e.tableGroup.tables)i.push({tid:n,count:this.countChildTables(e.tableGroup.tables[n])});i.sort(function(e,t){return t.count-e.count}),t=i.map(function(t){return e.tableGroup.tables[t.tid]})}return t}},{key:"countChildTables",value:function(e){var t=1;if(e.tables)for(var i in e.tables)t+=this.countChildTables(e.tables[i]);return t}},{key:"removeFinalTables",value:function(e,t){return(0,D.removeFinalTables)(g.workspaceManager.initialWorkspaceId,e,t,!0)}}]),e}(),N=t.pipelineManager=new k;t.PipelineVisual=function(){function e(t,i){var n=this;(0,h.default)(this,e),this.graphElement=t,this.graphContainer=i,this.pipelineGraphElement=document.createElementNS(b.SVG_NS,"svg"),this.pipelineGraphElement.id="editnetviz",this.backbutton=document.createElement("button"),this.backbutton.id="backtooverview",this.backbutton.className="backtooverview btn-normal",this.backbutton.innerHTML="&#8592;  Back",this.backbutton.onclick=function(e){var t=n.getTableInProgress();t.length>0?(0,_.dispatchAction)((0,I.showErrorDialog)("In Progress","Please wait until table loading is complete.")):n.checkFinalTables()},this.nameheader=document.createElement("div"),this.nameheader.id="pipelineeditheader",this.titlename=document.createElement("input"),this.titlename.setAttribute("type","text"),this.titlename.id="pipelineeditheadertitle",this.titlename.value="PIPELINE NAME",this.nameheader.appendChild(this.titlename),this.titlename.onkeyup=function(e){if(27===e.keyCode){var t=N.pipelineVisual.graph.getNode(N.selectedNodeId);t&&(n.titlename.value=t.name,n.removeTitleFocus())}else 13===e.keyCode&&(n.checkPipelineTitle(),n.removeTitleFocus())},this.titlename.onblur=function(e){n.checkPipelineTitle()}}return(0,p.default)(e,[{key:"editPipelineView",value:function(e){if(e){var t=e.sessionId;this.graphElement&&this.graphElement.parentNode===this.graphContainer&&e&&(this.graphElement.parentNode.removeChild(this.graphElement),this.pipelineGraphElement&&(this.titlename.value=e.name,this.graphContainer.appendChild(this.pipelineGraphElement),this.graphContainer.appendChild(this.nameheader),this.graphContainer.appendChild(this.backbutton),this.pegraph&&this.pegraph.updateSize(),N.selectedPipelineId=t,N.pipelineEdited=!1,N.selectedNodeId=e.id,N.constructPipeline(t),g.workspaceManager.currentWorkspaceMode=m.WORKSPACE_MODE.EDIT)),g.workspaceManager.restoreTableListStateFromPipeline(t),this.enterEditMode()}}},{key:"getTableNodeSize",value:function(e){var t=N.tableRowCountDic[e]||-1;return this.getNodeSize(t)}},{key:"getPipelineNodeSize",value:function(e){var t=0;return e&&e.forEach(function(e){N.tableRowCountDic[e]&&N.tableRowCountDic[e]>0&&(t+=N.tableRowCountDic[e])}),this.getNodeSize(t)}},{key:"getNodeSize",value:function(e){var t={w:b.NODE_STYLE.DEFAULT_SIZE.W,h:b.NODE_STYLE.DEFAULT_SIZE.H},i=g.workspaceManager.featureFlags.list.filter(function(e){return"table-size-job-notification"===e.id})[0];if(i&&i.enabled){var n=e<1?0:Math.round(3*(0,l.default)(e));t.w=Math.min(t.w+n,64),t.h=Math.min(t.h+n,64)}return t}},{key:"checkFinalTables",value:function(){var e=this;this.pipelineGraphElement&&this.pipelineGraphElement.parentNode===this.graphContainer&&(0,C.getPipelineDefinition)(g.workspaceManager.initialWorkspaceId,N.selectedPipelineId).then(function(t){if(t&&t.status===T.SERVICE_RESPONSE_TYPE_IMMEDIATE){var i=N.getFinalDerivedTables(t.data);if(1===i.length)e.backToOverview(t.data.tableGroup.tables);else if(i.length>1){var n={type:"radio",value:i[0].id,options:i.map(function(e){return{value:e.id,name:e.name}}),onRadioChange:function(e){n.value=e.target.value,(0,_.dispatchAction)((0,I.showConfirmationDialog)("Select Final Table","Select table to be kept as final table in this pipeline",n))}};(0,_.dispatchAction)((0,I.showConfirmationDialog)("Select Final Table","Select table to be kept as final table in this pipeline",n))}else(0,_.dispatchAction)((0,I.showErrorDialog)("No final tables found","Please add a table to this pipeline"))}})}},{key:"getTableInProgress",value:function(){var e=[];if(N.pipelineVisual.pegraph){var t=N.pipelineVisual.pegraph.allNodes().filter(function(e){return e.inprogress});e=[].concat((0,o.default)(t))}return e}},{key:"removeTitleFocus",value:function(){document.activeElement&&"pipelineeditheadertitle"===document.activeElement.id&&this.backbutton.focus()}},{key:"checkPipelineTitle",value:function(){var e=N.pipelineVisual.graph.getNode(N.selectedNodeId);if(e){var t=this.titlename.value.trim();0===t.length?(this.titlename.value=e.name,(0,O.openNotification)("Rename Pipeline","Invalid pipeline name")):N.isValidPipelineName(e.sessionId,t)||(this.titlename.value=e.name,(0,O.openNotification)("Rename Pipeline",t+" is already used for other pipeline name"))}}},{key:"backToOverview",value:function(e){this.pipelineGraphElement.parentNode.removeChild(this.pipelineGraphElement),this.backbutton&&this.backbutton.parentNode&&this.backbutton.parentNode.removeChild(this.backbutton),this.nameheader&&this.nameheader.parentNode&&this.nameheader.parentNode.removeChild(this.nameheader);var t=this.titlename.value.trim();if(this.graphElement){g.workspaceManager.currentWorkspaceMode=m.WORKSPACE_MODE.OVERVIEW,this.graphContainer.appendChild(this.graphElement),this.graph&&this.graph.updateSize();var i=N.pipelineVisual.graph.getNode(N.selectedNodeId);if(i){for(var n in e){var r=e[n];if(r){var a=i.id,o=N.selectedPipelineId+":"+r.id;a!==o&&N.pipelineVisual.graph.updateNodeId(a,o,r)}}t.length>0&&t!==i.name?N.isValidPipelineName(i.sessionId,t)?(0,C.editPipeline)(g.workspaceManager.initialWorkspaceId,i.sessionId,t).then(function(e){e&&e.status===T.SERVICE_RESPONSE_TYPE_IMMEDIATE&&(i.setTitle(t),g.workspaceManager.updateWorkspaceDefinition(g.workspaceManager.initialWorkspaceId))}):(0,O.openNotification)("Rename Pipeline",t+" is already used for other pipeline name"):N.pipelineEdited?g.workspaceManager.updateWorkspaceDefinition(g.workspaceManager.initialWorkspaceId):g.workspaceManager.refreshWorkspaceGraph(g.workspaceManager.currentWorkspaceDefinition),(0,_.dispatchAction)((0,A.updateTableSelection)([i.id.split(":")[1]]))}this.exitEditMode()}}},{key:"enterEditMode",value:function(){this.isObjectPanelOpen=(0,_.getAllState)().layout.rightPanel.display,this.showObjectInfoHeader=(0,_.getAllState)().dpState.showObjectInfoHeader,(0,_.dispatchAction)((0,A.toggleEditPipelineMode)(!0)),(0,_.dispatchAction)((0,I.updateRightPanel)({display:!1})),this.showObjectInfoHeader&&(0,_.dispatchAction)((0,A.toggleObjectInfoHeader)()),(0,_.dispatchAction)((0,M.setLastSelectedObject)(null))}},{key:"exitEditMode",value:function(){(0,_.dispatchAction)((0,A.toggleEditPipelineMode)(!1)),this.isObjectPanelOpen&&(0,_.dispatchAction)((0,I.updateRightPanel)({display:!0})),this.showObjectInfoHeader&&(0,_.dispatchAction)((0,A.toggleObjectInfoHeader)())}}]),e}()},function(e,t,i){"use strict";function n(e,t){return u.HttpProxy.post(e,t)}function r(e,t){return u.HttpProxy.get(e,t)}function a(e,t){return u.HttpProxy.del(e,t)}function o(e,t){return u.HttpProxy.put(e,t)}function s(e,t){return u.HttpProxy.patch(e,t)}function l(e,t){return c.connectionBackend.task(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.post=n,t.get=r,t.del=a,t.put=o,t.patch=s,t.task=l;var u=i(380),c=i(381)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SERVICE_RESPONSE_TYPE_IMMEDIATE="immediateResponse",t.SERVICE_RESPONSE_TYPE_DELAYED="delayedResponse",t.SERVICE_RESPONSE_DO_NOTHING="doNothingToResponse",t.SERVICE_RESPONSE={TYPE:{IMMEDIATE:"immediateResponse",DELAYED:"delayedResponse",JOB_NOTIFICATION:"jobNotification",POLL_CUBE_STATUS:"pollCubeStatus",WS_HANDSHAKE:"handshake",TABLE_ROW_COUNT:"tableTotalCount"},STATUS:{APPROVED:"approved",ERROR:"ERROR"}},t.MAX_ZOOM=4,t.MIN_ZOOM=.25},228,[2323,57],function(e,t,i){"use strict";var n=i(24);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},,,,[2316,1763],function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(66),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(94);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(8),x=n(w);i(1844);var E=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.state={searchPattern:"",selectedValue:""===e.value?void 0:e.value},i.handleSelectionChange=i.handleSelectionChange.bind(i),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"handleSelectionChange",value:function(e){""!==e&&(e!==this.props.value&&this.props.onChange(e),this.setState({selectedValue:e}))}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({selectedValue:""===e.value?void 0:e.value})}},{key:"render",value:function(){var e=this,t=this.props,i=t.style,n=t.datasource,r=t.className,o=t.placeholder,s=t.showSearch,l=t.hasGroups,u=t.mode,c=t.disabled,d=function(e){return e.map(function(e){return m.default.createElement(a.default.Option,{value:e.value,key:e.value,title:e.text,disabled:!!e.disabled},e.prefix,e.text)})};return m.default.createElement(a.default,{style:i,mode:u,showSearch:s,notFoundContent:"",className:(0,x.default)(r,"mstr-as-select",{showSearchIcon:(void 0===this.state.selectedValue||"multiple"===this.props.mode)&&!this.state.searchPattern}),placeholder:o,optionFilterProp:"children",onSelect:this.handleSelectionChange,onBlur:function(t){e.handleSelectionChange(t),e.setState({searchPattern:""})},onChange:this.handleSelectionChange,onSearch:function(t){e.setState({searchPattern:t})},value:this.state.selectedValue,dropdownClassName:"mstr-as-select-dropdown",disabled:c,filterOption:function(e,t){return t.props.title.toLowerCase().indexOf(e.toLowerCase())>=0}},l?n.map(function(e){return m.default.createElement(a.default.OptGroup,{label:e.title,key:e.category},d(e.items))}):d(n))}}]),t}(v.Component);t.default=E,E.propTypes={datasource:y.default.array.isRequired,onChange:y.default.func.isRequired,className:y.default.string,showSearch:y.default.bool,placeholder:y.default.string,value:y.default.oneOfType([y.default.string,y.default.array,y.default.number]),hasGroups:y.default.bool,mode:y.default.string},E.defaultProps={className:"",showSearch:!0,placeholder:"",value:void 0,hasGroups:!1,mode:""}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i,n,r){this.graph=null,this.svg=e,this.zoompanlayer=null,this.nodelayer=null,this.edgelayer=null,this.w=500,this.h=500,this.dragging=null,this.lasso=null,this.lasso_sp=null,this.lasso_rect=null,this.svgnodes=[],this.svglabels=[],this.svgedges=[],this.nodedic={},this.edgedic={},this.layout=null,this.zoomhandler=null,this.targetnode=null,this.targetedge=null,this.nodetitleinput=null,this.selectededgecolor="#000000",this.edgecolor="#000000",this.last_node_mousedown_time=new Date,this.last_node_mousedown_pos=null,this.node_selected_index=0,void 0===n?(this.zoompanlayer=document.createElementNS(m,"g"),this.nodelayer=document.createElementNS(m,"g"),this.edgelayer=document.createElementNS(m,"g"),this.zoompanlayer.appendChild(this.edgelayer),this.zoompanlayer.appendChild(this.nodelayer)):this.zoompanlayer=n,void 0===r?(this.zoomhandler=new u.default(this.svg,this.zoompanlayer),this.zoomhandler.enableDrag=0,this.zoomhandler.graphviz=this):this.zoomhandler=r,this.svg&&this.svg.appendChild(this.zoompanlayer),this.updateSize(),this.init(t,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.GRAPH_LAYOUT=t.GRAPH_EVENT=t.DEFAULT_LASSO_STYLE=t.EDGE_STYLE=t.NODE_STYLE=t.SVG_XLINK_NS=t.SVG_NS=void 0;var a=i(55),o=n(a);t.default=r;var s=i(116),l=i(1322),u=n(l),c=i(1321),d=n(c),h=i(1320),f=n(h),p=i(1323),g=n(p),v=i(574),m=t.SVG_NS="http://www.w3.org/2000/svg",b=t.SVG_XLINK_NS="http://www.w3.org/1999/xlink",y=t.NODE_STYLE={HALO_STROKE_WIDTH:8,HALO_STROKE_OPACITY:1,DEFAULT_SIZE:{W:32,H:32},DEFAULT_FILLOPACITY:1,GRAYOUT_OPACITY:.2,ICON_TYPE:{DERIVED_TABLE:"derivedtable",SOURCE_TABLE:"sourcetable"},ICON_PADDING:{HORIZONTAL:12,VERTICAL:8,BORDER_RADIUS:4},ICON_DISPLAY_ZOOM_LIMIT:.25,LABEL_DISPLAY_ZOOM_LIMIT:.5,TOOLTIP:{FONT_SIZE:12,BORDER_RADIUS:2,PADDING:1,V_PADDING:1,H_PADDING:3,TRUNCATE_LENGTH:12,TRUNCATEMIDDLE_START_LENGTH:7,TRUNCATEMIDDLE_END_LENGTH:5},INPUTTEXT:{FONT_SIZE:12,TEXT_ALIGN:"center",BORDER:"solid 1px #46B8F8",HEIGHT:19,MIN_WIDTH:30,MAX_WIDTH:200,PADDING:15,BORDER_RADIUS:2},SELECTION_STROKE_WIDTH:2,SELECTION_STROKE_COLOR:"#46B8F8",SELECTION_FILL_COLOR:"#FFFFFF",SELECTION_FILL_OPACITY:1,SELECTION_TEXT_BACKGROUND:"#3892ED",SELECTION_TEXT:"#FFFFFF",OPERATION_ICON:{SIZE:{W:30,H:30},POS:{X:-14,Y:-14}},RIGHT_ICON:{SIZE:{W:18,H:18},POS:{X:10,Y:-9}}},w=t.EDGE_STYLE={STROKE_OPACITY:.5,STROKE_COLOR:"#999999",HIGHLIGHT_STROKE_COLOR:"#999999",HIGHLIGHT_STROKE_OPACITY:1,GRAYOUT_OPACITY:.2},x=t.DEFAULT_LASSO_STYLE={stroke:"#3892ED",strokeWidth:1,strokeOpacity:1,strokeLinecap:"round",fill:"#3892ED",fillOpacity:.05},E=t.GRAPH_EVENT={TYPE:{NODE_EVENT:"nodeevent",EDGE_EVENT:"edgeevent",CANVAS_EVENT:"canvasevent"},NAME:{NODE_NAMECHANGE:"node_namechange",NODE_NAME_EDIT_REQUEST:"node_namechangerequest",NODE_CLICKED:"node_clicked",NODE_DOUBLE_CLICKED:"node_doubleclick",NODE_SELECTION_CHANGED:"node_selection_changed",NODE_CONTEXT_MENU:"node_contextmenu",NODE_ICON_CONTEXT_MENU:"node_iconcontextmenu",EDGE_CLICKED:"edge_clicked",EDGE_SELECTION_CHANGED:"edge_selection_changed",EDGE_CONTEXT_MENU:"edge_contextmenu",EDGE_MOUSE_ENTER:"edge_mouseenter",EDGE_MOUSE_OUT:"edge_mouseout",LASSO_SELECTION_STARTED:"lasso_started",BACKGROUND_CLICKED:"background_clicked",PAN_STARTED:"pan_started",ZOOM_CHANGED:"zoom_changed"}},_=t.GRAPH_LAYOUT={PAIRWISE:"pairwise",LINEAR:"linear",CIRCULAR:"circular",FORCE_DIRECTED:"force-directed",SEQUENCE:"sequence",TREE:"tree",STATIC_TREE:"tree_static",MANUAL:"manual"};r.prototype.clearAll=function(){this.svgnodes&&this.svgnodes.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),this.svgedges&&this.svgedges.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),this.svgnodes=[],this.svgedges=[],this.nodedic={},this.edgedic={},this.graph=null,this.layout&&(this.layout.stop(),this.layout=null),this.zoomhandler&&this.zoomhandler.setZoom(1,{x:.5*this.w,y:.5*this.h},"manual")},r.prototype.clearEdges=function(){for(var e=0;e<this.svgedges.length;e++){var t=this.svgedges[e];t.parentNode&&t.parentNode.removeChild(t)}this.svgedges=[],this.edgedic={},this.graph.edges=[],this.graph.graphmatrix={}},r.prototype.setLayout=function(e,t){this.layout||(this.layout=new d.default(this)),this.layout.changeLayout(e,t),e===_.STATIC_TREE?this.layout.render():this.layout.start(300)},r.prototype.setLayoutWithoutZoom=function(e,t){this.layout||(this.layout=new d.default(this)),this.layout.changeLayoutWithoutZoom(e,t),e===_.STATIC_TREE?this.layout.render():this.layout.start(300)},r.prototype.getSelectedNodes=function(){var e=[];if(this.graph){for(var t=[],i=0;i<this.graph.nodes.length;i++){var n=this.graph.nodes[i];n.selected&&t.push({id:n.id,index:n.selectedindex})}for(var r=t.sort(function(e,t){return e.index-t.index}),a=0;a<r.length;a++){var o=r[a];e.push(o.id)}}return e},r.prototype.findEdges=function(e){var t=[];if(this.graph&&this.graph.edges&&e){var i={};e.forEach(function(e){i[e]=!0}),this.graph.edges.forEach(function(e){var n=e.entities[0].filter(function(e){return i[e]});n.length>0&&t.push(e.id)})}return t},r.prototype.getSelectedEdges=function(){var e=[];if(this.graph)for(var t=0;t<this.graph.edges.length;t++){var i=this.graph.edges[t];i.selected&&e.push(i.id)}return e},r.prototype.updateNodesOpacity=function(e){this.graph.nodes&&this.graph.nodes.forEach(function(t){t.svg&&(t.svg.style.opacity=e,t.tooltip.style.opacity=e)})},r.prototype.highlightNodes=function(e,t){if(e&&e.length>0){this.updateNodesOpacity(y.GRAYOUT_OPACITY),this.updateEdgeOpacity(w.GRAYOUT_OPACITY);for(var i=0;i<e.length;i++){var n=this.nodedic[e[i]];if(n&&n.svg&&(n.svg.style.opacity=1,n.tooltip.style.opacity=1,t)){var r=void 0;if(n.inedges)for(var a=0;a<n.inedges.length;a++)r=n.inedges[a],r&&r.svg&&(r.svg.style.opacity=1);if(n.outedges)for(var o=0;o<n.outedges.length;o++)r=n.outedges[o],r&&r.svg&&(r.svg.style.opacity=1)}if(t){var s=this.graph.getNeighbors(e[i]);if(s)for(var l in s)n=this.nodedic[l],n&&n.svg&&(n.svg.style.opacity=1,n.tooltip.style.opacity=1)}}}else this.updateNodesOpacity(1),this.updateEdgeOpacity(1)},r.prototype.dispatchCustomEvent=function(e,t){if(this.svg){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,t),this.svg.dispatchEvent(i)}},r.prototype.editNodeTitle=function(e){var t=this;if(e){var i=void 0;this.nodetitleinput?(this.removeNodeTitleInput(this.targetnode),i=this.nodetitleinput.childNodes[0]):(this.nodetitleinput=document.createElementNS(m,"foreignObject"),i=document.createElement("div"),i.id="nodetitleinput",i.contentEditable=!0,i.style.minWidth="12px",i.style.maxWidth=2*(e.size.w+y.TOOLTIP.H_PADDING)+"px",i.style.border=y.INPUTTEXT.BORDER,i.style.borderRadius=y.INPUTTEXT.BORDER_RADIUS+"px",i.style.textAlign=y.INPUTTEXT.TEXT_ALIGN,i.style.fontSize=y.INPUTTEXT.FONT_SIZE+"px",i.onmousedown=function(e){e.stopPropagation()},i.onfocus=function(e){document.execCommand("selectAll",!1,null)},i.onkeydown=function(e){13===e.keyCode&&e.preventDefault()},i.onkeyup=function(e){27===e.keyCode?t.removeNodeTitleInput(t.targetnode):13===e.keyCode&&(t.removeNodeTitleInput(t.targetnode),t.targetnode.resetTooltip(),t.dispatchCustomEvent(E.NAME.NODE_NAMECHANGE,{node:t.targetnode,name:i.innerHTML,type:E.TYPE.NODE_EVENT}))},i.oninput=function(e){var n=i.getBoundingClientRect(),r=t.zoomhandler.getScale();t.nodetitleinput.setAttribute("x",-Math.round(.5*n.width/r))},this.nodetitleinput.appendChild(i)),i.innerHTML=e.name,this.allNodes().forEach(function(e){e.tooltip&&"visible"!==e.tooltip.style.visibility&&(e.tooltip.style.visibility="visible")}),e.tooltip.style.visibility="hidden",e.tooltipbackground.style.fill="none",e.svg.appendChild(this.nodetitleinput);var n=this.getLabelPos(e),r=i.getBoundingClientRect().width;this.nodetitleinput.setAttribute("y",n.y-y.TOOLTIP.FONT_SIZE-y.TOOLTIP.PADDING);var a=this.zoomhandler.getScale();this.nodetitleinput.setAttribute("x",-Math.round(.5*r/a)),i.focus()}},r.prototype.hideNodeTitleInput=function(){var e=this;if(this.nodetitleinput&&this.nodetitleinput.parentNode){var t=this.allNodes().filter(function(t){return t.svg===e.nodetitleinput.parentNode});if(1===t.length){var i=t[0],n=this.nodetitleinput.childNodes[0];this.removeNodeTitleInput(i),i.name!==n.innerHTML&&(i.resetTooltip(),this.dispatchCustomEvent(E.NAME.NODE_NAMECHANGE,{node:i,name:n.innerHTML,type:E.TYPE.NODE_EVENT}))}}},r.prototype.isNodeTitleInEdit=function(){var e=this,t=!1;if(this.nodetitleinput&&this.nodetitleinput.parentNode){var i=this.allNodes().filter(function(t){return t.svg===e.nodetitleinput.parentNode});t=i.length>0}return t},r.prototype.removeNodeTitleInput=function(e){e&&this.nodetitleinput&&(this.nodetitleinput.parentNode&&(this.nodetitleinput.parentNode.removeChild(this.nodetitleinput),e.tooltip.style.visibility="visible"),e.refresh())},r.prototype.updateEdgeOpacity=function(e){this.graph.edges&&this.graph.edges.forEach(function(t){t.svg&&(t.svg.style.opacity=e)})},r.prototype.highlightEdges=function(e){if(this.updateEdgeOpacity(w.GRAYOUT_OPACITY),e&&e.length>0)for(var t=0;t<e.length;t++){var i=this.edgedic[e[t]];i&&(i.svg.style.opacity=1)}},r.prototype.selectNodesByLasso=function(e,t,i){var n=!1;if(e&&t)for(var r in this.nodedic){var a=this.nodedic[r];e.x<=a.pos.x&&a.pos.x<=t.x&&e.y<=a.pos.y&&a.pos.y<=t.y?a.selected||a.inprogress||(n=!0,a.select(++this.node_selected_index,this)):a.selected&&!i&&(n=!0,a.unselect())}return n},r.prototype.setNodesInProgress=function(e,t){var i=this;e&&e.forEach(function(e){var n=i.nodedic[e];n&&n.setInProgress(t)})},r.prototype.hasNodesInProgress=function(){var e=!1;return this.graph.nodes.forEach(function(t){t.inprogress&&(e=!0)}),e},r.prototype.selectNodes=function(e){if(e)for(var t=0;t<e.length;t++){var i=this.nodedic[e[t]];i&&i.select(++this.node_selected_index,this)}},r.prototype.selectEdges=function(e){if(e)for(var t=0;t<e.length;t++){var i=this.edgedic[e[t]];i&&(i.selected=!0)}},r.prototype.deselectNodes=function(e){if(e)for(var t=0;t<e.length;t++){var i=this.nodedic[e[t]];
i&&(i.selected=!1,i.selectedindex=0)}},r.prototype.deselectEdges=function(e){if(e)for(var t=0;t<e.length;t++){var i=this.edgedic[e[t]];i&&(i.selected=!1)}},r.prototype.clearNodeSelection=function(){if(this.graph){this.node_selected_index=0;for(var e=0;e<this.graph.nodes.length;e++){var t=this.graph.nodes[e];t.selectedindex=0,t.selected&&(t.selected=!1,t.refresh())}}},r.prototype.clearEdgeSelection=function(){if(this.graph)for(var e=0;e<this.graph.edges.length;e++){var t=this.graph.edges[e];t.selected&&(t.selected=!1)}},r.prototype.getNode=function(e){return this.nodedic[e]?this.nodedic[e]:null},r.prototype.getEdge=function(e){return this.edgedic[e]?this.edgedic[e]:null},r.prototype.init=function(e,t){this.clearAll(),this.graph=new f.default,null==this.layout&&(this.layout=new d.default(this)),e&&this.addNodes(e),t&&this.addEdges(t),this.updateEdges(this.graph.edges)},r.prototype.allNodes=function(){return this.graph?this.graph.nodes:[]},r.prototype.addNodes=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t];this.addNode(i)}},r.prototype.updateNodeId=function(e,t,i){if(this.graph){var n=this.nodedic[e];n&&(n.id=t,n.svg.id=t,this.nodedic[t]=n,delete this.nodedic[e]);var r=this.graph.nodedic[e];r&&(r.id=t,r.data=i,this.graph.nodedic[t]=r,delete this.graph.nodedic[e])}},r.prototype.getWrangleIcon=function(){var e=document.createElementNS(m,"g");e.setAttribute("transform","translate(-22, -2)");var t=document.createElementNS(m,"circle");t.setAttribute("cx",9),t.setAttribute("cy",9),t.setAttribute("r",8),t.setAttribute("stroke","#5A65D9"),t.setAttribute("fill","#FFFFFF"),e.appendChild(t);var i=document.createElementNS(m,"path"),n="M12.6676303,10.6188478 L6.4763472,8.36533702 L7.49741283,6.80287476 L9.77260358,6.3685229 L10.9987254,3 L12.6519725,3.60176929 L11.4258507,6.97029218 L12.8900003,8.76551284 L12.6676303,10.6188478 Z M11.4479823,10.9541343 L12.4363774,11.3136602 C12.264895,11.7787254 12.1399341,12.1016664 11.9857656,12.4696234 C11.7117551,13.1224309 11.4531012,13.6389859 11.2070939,13.9942963 C11.1974584,14.0084485 11.1876723,14.0219984 11.1781873,14.0355484 C10.6093896,14.8307812 10.1619394,15.0596251 9.59615285,14.8053373 C9.37513776,14.7058203 8.22881017,14.4717069 8.05205832,14.414797 C6.23862048,13.8307933 4.81602404,12.941614 3.74632907,11.6393112 C3.50890346,11.3505463 3.44311082,11.1944205 3.54895115,10.9500693 C3.55949002,10.9259805 3.57529832,10.9039994 3.59607494,10.8833734 C3.64470429,10.8344429 3.71892802,10.7916852 3.85066385,10.7305598 C3.87821546,10.7177626 4.15102155,10.596114 4.24587135,10.551098 C4.64318662,10.3635061 4.97395648,10.1623643 5.2950908,9.88745048 C5.58596352,9.638131 5.84386465,9.34259107 6.0680414,8.99586236 L7.27413941,9.43488143 C6.47393832,10.3725395 5.59153407,11.2282954 5.06082685,11.4541283 C5.65386394,12.1835684 6.86598416,12.0004932 7.09076313,11.908504 C7.3155421,11.8168159 6.78980321,12.677239 6.81163372,12.701629 C7.02256161,12.9383018 7.30951989,13.1197209 7.88433979,13.0829854 C8.26765342,13.0582943 8.92407426,12.6329758 9.85330119,11.8064275 L9.75604251,12.0915792 C9.60292783,12.5409865 8.97767193,13.5209506 8.96607917,13.5385656 C9.0531001,13.573946 9.77636747,13.7531068 9.82951346,13.7729801 C10.1127079,13.8795732 11.0895103,12.2448444 11.4479823,10.9541343 Z";return i.setAttribute("fill","#5A65D9"),i.setAttribute("d",n),e.appendChild(i),e},r.prototype.getCheckIcon=function(){var e=document.createElementNS(m,"rect");return e.setAttribute("x",-y.DEFAULT_SIZE.W-1),e.setAttribute("y",-y.DEFAULT_SIZE.H-1),e.setAttribute("rx",y.ICON_PADDING.BORDER_RADIUS),e.setAttribute("ry",y.ICON_PADDING.BORDER_RADIUS),e.setAttribute("width",2*y.DEFAULT_SIZE.W+2),e.setAttribute("height",2*y.DEFAULT_SIZE.H+2),e.style.strokeWidth=y.SELECTION_STROKE_WIDTH,e.style.stroke=y.SELECTION_STROKE_COLOR,e.style.fill=y.SELECTION_FILL_COLOR,e.style.fillOpacity=y.SELECTION_FILL_OPACITY,e},r.prototype.getTableIcon=function(){var e=document.createElementNS(m,"g");e.setAttribute("transform","translate(-14,-12)");var t=document.createElementNS(m,"g"),i=document.createElementNS(m,"rect");i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",28),i.setAttribute("height",24),i.setAttribute("fill","#FFFFFF"),t.appendChild(i);var n=document.createElementNS(m,"path"),r="M28,0 C26.6989418,0 25.8015248,0 25.307749,0 L2.6923689,0 C2.19878954,0 1.30133324,0 0,0 C0,1.31815886 0,2.22729365 0,2.72740434 L0,21.2730136 C0,21.7731641 0,22.6821596 0,24 C1.30129395,24 2.19875025,24 2.6923689,24 L25.307749,24 C25.8014855,24 26.6989025,24 28,24 C28,22.6819207 28,21.7729253 28,21.2730136 L28,2.72740434 C28,2.22729365 28,1.31815886 28,0 Z M8.61555689,21.8176825 C8.36126255,21.8176825 8.18170056,21.8176825 8.07687094,21.8176825 L2.6923689,21.8176825 C2.58777502,21.8176825 2.40831127,21.8176825 2.15397763,21.8176825 C2.15397763,21.5605623 2.15397763,21.378807 2.15397763,21.2724165 L2.15397763,17.9995075 C2.15397763,17.8932762 2.15397763,17.711501 2.15397763,17.4541818 C2.40831127,17.4541818 2.58777502,17.4541818 2.6923689,17.4541818 L8.07704775,17.4541818 C8.18183808,17.4541818 8.36134113,17.4541818 8.61555689,17.4541818 C8.61555689,17.711501 8.61555689,17.8932762 8.61555689,17.9995075 L8.61555689,21.2724165 L8.61555689,21.8176825 Z M8.61561583,15.272521 C8.36128219,15.272521 8.18170056,15.272521 8.07687094,15.272521 L2.6923689,15.272521 C2.58777502,15.272521 2.40831127,15.272521 2.15397763,15.272521 C2.15397763,15.0150028 2.15397763,14.8332475 2.15397763,14.7272551 L2.15397763,11.4544057 C2.15397763,11.3483735 2.15397763,11.1666381 2.15397763,10.9091995 C2.40831127,10.9091995 2.58777502,10.9091995 2.6923689,10.9091995 L8.07704775,10.9091995 C8.18183808,10.9091995 8.36136078,10.9091995 8.61561583,10.9091995 C8.61557654,11.1666381 8.61555689,11.3483735 8.61555689,11.4544057 L8.61555689,14.7272551 L8.61561583,15.272521 Z M8.61561583,8.72718046 C8.36128219,8.72718046 8.18170056,8.72718046 8.07687094,8.72718046 L2.6923689,8.72718046 C2.58777502,8.72718046 2.40831127,8.72718046 2.15397763,8.72718046 C2.15397763,8.46970206 2.15397763,8.28790694 2.15397763,8.18179511 L2.15397763,4.90906513 C2.15397763,4.8029533 2.15397763,4.62115819 2.15397763,4.36367978 C2.40831127,4.36367978 2.58777502,4.36367978 2.6923689,4.36367978 L8.07704775,4.36367978 C8.18183808,4.36367978 8.36136078,4.36367978 8.61561583,4.36367978 C8.61557654,4.62115819 8.61555689,4.8029533 8.61555689,4.90906513 L8.61555689,8.18179511 L8.61561583,8.72718046 Z M17.2305834,21.8176825 C16.9769177,21.8176825 16.7976307,21.8176825 16.6927225,21.8176825 L11.30769,21.8176825 C11.2030569,21.8176825 11.0235931,21.8176825 10.7692988,21.8176825 C10.7692988,21.5605623 10.7692988,21.378807 10.7692988,21.2724165 L10.7692988,17.9995075 C10.7692988,17.8932762 10.7692988,17.711501 10.7692988,17.4541818 C11.0235931,17.4541818 11.2030569,17.4541818 11.30769,17.4541818 L16.6924868,17.4541818 C16.7973557,17.4541818 16.9768587,17.4541818 17.2309959,17.4541818 C17.2307209,17.711501 17.2305834,17.8932762 17.2305834,17.9995075 L17.2305834,21.2723568 L17.2305834,21.8176825 Z M17.2305834,15.272521 C16.9769177,15.272521 16.7976307,15.272521 16.6927225,15.272521 L11.30769,15.272521 C11.2030569,15.272521 11.0235931,15.272521 10.7692988,15.272521 C10.7692988,15.0150028 10.7692988,14.8332475 10.7692988,14.7272551 L10.7692988,11.4544057 C10.7692988,11.3483735 10.7692988,11.1666381 10.7692988,10.9091995 C11.0235931,10.9091995 11.2030569,10.9091995 11.30769,10.9091995 L16.6924868,10.9091995 C16.7973557,10.9091995 16.9768587,10.9091995 17.2309959,10.9091995 C17.2307209,11.1666381 17.2305834,11.3483735 17.2305834,11.4544057 L17.2305834,14.7272551 L17.2305834,15.272521 Z M17.2309959,8.72718046 C16.9770552,8.72718046 16.7976307,8.72718046 16.6927225,8.72718046 L11.30769,8.72718046 C11.2030569,8.72718046 11.0235931,8.72718046 10.7692988,8.72718046 C10.7692988,8.46970206 10.7692988,8.28790694 10.7692988,8.18179511 L10.7692988,4.90906513 C10.7692988,4.8029533 10.7692988,4.62115819 10.7692988,4.36367978 C11.0235931,4.36367978 11.2030569,4.36367978 11.30769,4.36367978 L16.6924868,4.36367978 C16.7973557,4.36367978 16.9767212,4.36367978 17.2305834,4.36367978 C17.2305834,4.62115819 17.2305834,4.8029533 17.2305834,4.90906513 L17.2305834,8.18179511 L17.2309959,8.72718046 Z M25.8460813,21.2724165 C25.8460813,21.378807 25.8460813,21.5605623 25.8460813,21.8176825 C25.5918655,21.8176825 25.4124411,21.8176825 25.3078079,21.8176825 L19.9236595,21.8176825 C19.8186334,21.8176825 19.6392679,21.8176825 19.3855629,21.8176825 C19.3855629,21.5605623 19.3855629,21.378807 19.3855629,21.2724165 L19.3855629,17.9995075 C19.3855629,17.8932762 19.3855629,17.711501 19.3855629,17.4541818 C19.6392679,17.4541818 19.8186334,17.4541818 19.9236595,17.4541818 L25.3078079,17.4541818 C25.4124411,17.4541818 25.5918655,17.4541818 25.8460813,17.4541818 C25.8460813,17.711501 25.8460813,17.8932762 25.8460813,17.9995075 L25.8460813,21.2724165 Z M25.8460813,14.7272551 C25.8460813,14.8332475 25.8460813,15.0150028 25.8460813,15.272521 C25.5918655,15.272521 25.4124411,15.272521 25.3078079,15.272521 L19.9236595,15.272521 C19.8186334,15.272521 19.6392679,15.272521 19.3855629,15.272521 C19.3855629,15.0150028 19.3855629,14.8332475 19.3855629,14.7272551 L19.3855629,11.4544057 C19.3855629,11.3483735 19.3855629,11.1666381 19.3855629,10.9091995 C19.6392679,10.9091995 19.8186334,10.9091995 19.9236595,10.9091995 L25.3078079,10.9091995 C25.4124411,10.9091995 25.5918655,10.9091995 25.8460813,10.9091995 C25.8460813,11.1666381 25.8460813,11.3483735 25.8460813,11.4544057 L25.8460813,14.7272551 Z M25.8460813,8.18179511 C25.8460813,8.28790694 25.8460813,8.46970206 25.8460813,8.72718046 C25.5918655,8.72718046 25.4124411,8.72718046 25.3078079,8.72718046 L19.9236595,8.72718046 C19.8186334,8.72718046 19.6392679,8.72718046 19.3855629,8.72718046 C19.3855629,8.46970206 19.3855629,8.28790694 19.3855629,8.18179511 L19.3855629,4.90906513 C19.3855629,4.8029533 19.3855629,4.62115819 19.3855629,4.36367978 C19.6392679,4.36367978 19.8186334,4.36367978 19.9236595,4.36367978 L25.3078079,4.36367978 C25.4124411,4.36367978 25.5918655,4.36367978 25.8460813,4.36367978 C25.8460813,4.62115819 25.8460813,4.8029533 25.8460813,4.90906513 L25.8460813,8.18179511 Z";n.setAttribute("fill","#CDCDCE"),n.setAttribute("d",r),t.appendChild(n);var a=document.createElementNS(m,"g"),o=document.createElementNS(m,"rect");o.setAttribute("x",0),o.setAttribute("y",0),o.setAttribute("width",28),o.setAttribute("height",24),o.setAttribute("fill","#FFFFFF"),a.appendChild(o);var s=document.createElementNS(m,"path"),l="M28,0 C26.6989418,0 25.8015248,0 25.307749,0 L2.6923689,0 C2.19878954,0 1.30133324,0 0,0 C0,1.31815886 0,2.22729365 0,2.72740434 L0,21.2730136 C0,21.7731641 0,22.6821596 0,24 C1.30129395,24 2.19875025,24 2.6923689,24 L25.307749,24 C25.8014855,24 26.6989025,24 28,24 C28,22.6819207 28,21.7729253 28,21.2730136 L28,2.72740434 C28,2.22729365 28,1.31815886 28,0 Z M8.61555689,21.8176825 C8.36126255,21.8176825 8.18170056,21.8176825 8.07687094,21.8176825 L2.6923689,21.8176825 C2.58777502,21.8176825 2.40831127,21.8176825 2.15397763,21.8176825 C2.15397763,21.5605623 2.15397763,21.378807 2.15397763,21.2724165 L2.15397763,17.9995075 C2.15397763,17.8932762 2.15397763,17.711501 2.15397763,17.4541818 C2.40831127,17.4541818 2.58777502,17.4541818 2.6923689,17.4541818 L8.07704775,17.4541818 C8.18183808,17.4541818 8.36134113,17.4541818 8.61555689,17.4541818 C8.61555689,17.711501 8.61555689,17.8932762 8.61555689,17.9995075 L8.61555689,21.2724165 L8.61555689,21.8176825 Z M8.61561583,15.272521 C8.36128219,15.272521 8.18170056,15.272521 8.07687094,15.272521 L2.6923689,15.272521 C2.58777502,15.272521 2.40831127,15.272521 2.15397763,15.272521 C2.15397763,15.0150028 2.15397763,14.8332475 2.15397763,14.7272551 L2.15397763,11.4544057 C2.15397763,11.3483735 2.15397763,11.1666381 2.15397763,10.9091995 C2.40831127,10.9091995 2.58777502,10.9091995 2.6923689,10.9091995 L8.07704775,10.9091995 C8.18183808,10.9091995 8.36136078,10.9091995 8.61561583,10.9091995 C8.61557654,11.1666381 8.61555689,11.3483735 8.61555689,11.4544057 L8.61555689,14.7272551 L8.61561583,15.272521 Z M8.61561583,8.72718046 C8.36128219,8.72718046 8.18170056,8.72718046 8.07687094,8.72718046 L2.6923689,8.72718046 C2.58777502,8.72718046 2.40831127,8.72718046 2.15397763,8.72718046 C2.15397763,8.46970206 2.15397763,8.28790694 2.15397763,8.18179511 L2.15397763,4.90906513 C2.15397763,4.8029533 2.15397763,4.62115819 2.15397763,4.36367978 C2.40831127,4.36367978 2.58777502,4.36367978 2.6923689,4.36367978 L8.07704775,4.36367978 C8.18183808,4.36367978 8.36136078,4.36367978 8.61561583,4.36367978 C8.61557654,4.62115819 8.61555689,4.8029533 8.61555689,4.90906513 L8.61555689,8.18179511 L8.61561583,8.72718046 Z M17.2305834,21.8176825 C16.9769177,21.8176825 16.7976307,21.8176825 16.6927225,21.8176825 L11.30769,21.8176825 C11.2030569,21.8176825 11.0235931,21.8176825 10.7692988,21.8176825 C10.7692988,21.5605623 10.7692988,21.378807 10.7692988,21.2724165 L10.7692988,17.9995075 C10.7692988,17.8932762 10.7692988,17.711501 10.7692988,17.4541818 C11.0235931,17.4541818 11.2030569,17.4541818 11.30769,17.4541818 L16.6924868,17.4541818 C16.7973557,17.4541818 16.9768587,17.4541818 17.2309959,17.4541818 C17.2307209,17.711501 17.2305834,17.8932762 17.2305834,17.9995075 L17.2305834,21.2723568 L17.2305834,21.8176825 Z M17.2305834,15.272521 C16.9769177,15.272521 16.7976307,15.272521 16.6927225,15.272521 L11.30769,15.272521 C11.2030569,15.272521 11.0235931,15.272521 10.7692988,15.272521 C10.7692988,15.0150028 10.7692988,14.8332475 10.7692988,14.7272551 L10.7692988,11.4544057 C10.7692988,11.3483735 10.7692988,11.1666381 10.7692988,10.9091995 C11.0235931,10.9091995 11.2030569,10.9091995 11.30769,10.9091995 L16.6924868,10.9091995 C16.7973557,10.9091995 16.9768587,10.9091995 17.2309959,10.9091995 C17.2307209,11.1666381 17.2305834,11.3483735 17.2305834,11.4544057 L17.2305834,14.7272551 L17.2305834,15.272521 Z M17.2309959,8.72718046 C16.9770552,8.72718046 16.7976307,8.72718046 16.6927225,8.72718046 L11.30769,8.72718046 C11.2030569,8.72718046 11.0235931,8.72718046 10.7692988,8.72718046 C10.7692988,8.46970206 10.7692988,8.28790694 10.7692988,8.18179511 L10.7692988,4.90906513 C10.7692988,4.8029533 10.7692988,4.62115819 10.7692988,4.36367978 C11.0235931,4.36367978 11.2030569,4.36367978 11.30769,4.36367978 L16.6924868,4.36367978 C16.7973557,4.36367978 16.9767212,4.36367978 17.2305834,4.36367978 C17.2305834,4.62115819 17.2305834,4.8029533 17.2305834,4.90906513 L17.2305834,8.18179511 L17.2309959,8.72718046 Z M25.8460813,21.2724165 C25.8460813,21.378807 25.8460813,21.5605623 25.8460813,21.8176825 C25.5918655,21.8176825 25.4124411,21.8176825 25.3078079,21.8176825 L19.9236595,21.8176825 C19.8186334,21.8176825 19.6392679,21.8176825 19.3855629,21.8176825 C19.3855629,21.5605623 19.3855629,21.378807 19.3855629,21.2724165 L19.3855629,17.9995075 C19.3855629,17.8932762 19.3855629,17.711501 19.3855629,17.4541818 C19.6392679,17.4541818 19.8186334,17.4541818 19.9236595,17.4541818 L25.3078079,17.4541818 C25.4124411,17.4541818 25.5918655,17.4541818 25.8460813,17.4541818 C25.8460813,17.711501 25.8460813,17.8932762 25.8460813,17.9995075 L25.8460813,21.2724165 Z M25.8460813,14.7272551 C25.8460813,14.8332475 25.8460813,15.0150028 25.8460813,15.272521 C25.5918655,15.272521 25.4124411,15.272521 25.3078079,15.272521 L19.9236595,15.272521 C19.8186334,15.272521 19.6392679,15.272521 19.3855629,15.272521 C19.3855629,15.0150028 19.3855629,14.8332475 19.3855629,14.7272551 L19.3855629,11.4544057 C19.3855629,11.3483735 19.3855629,11.1666381 19.3855629,10.9091995 C19.6392679,10.9091995 19.8186334,10.9091995 19.9236595,10.9091995 L25.3078079,10.9091995 C25.4124411,10.9091995 25.5918655,10.9091995 25.8460813,10.9091995 C25.8460813,11.1666381 25.8460813,11.3483735 25.8460813,11.4544057 L25.8460813,14.7272551 Z M25.8460813,8.18179511 C25.8460813,8.28790694 25.8460813,8.46970206 25.8460813,8.72718046 C25.5918655,8.72718046 25.4124411,8.72718046 25.3078079,8.72718046 L19.9236595,8.72718046 C19.8186334,8.72718046 19.6392679,8.72718046 19.3855629,8.72718046 C19.3855629,8.46970206 19.3855629,8.28790694 19.3855629,8.18179511 L19.3855629,4.90906513 C19.3855629,4.8029533 19.3855629,4.62115819 19.3855629,4.36367978 C19.6392679,4.36367978 19.8186334,4.36367978 19.9236595,4.36367978 L25.3078079,4.36367978 C25.4124411,4.36367978 25.5918655,4.36367978 25.8460813,4.36367978 C25.8460813,4.62115819 25.8460813,4.8029533 25.8460813,4.90906513 L25.8460813,8.18179511 Z";return s.setAttribute("fill","#5A65D9"),s.setAttribute("d",l),a.appendChild(s),e.appendChild(t),e.appendChild(a),e},r.prototype.addNode=function(e){if(this.graph&&e&&null==this.graph.nodedic[e.id]){this.graph.addNode(e),e.selected=!1,e.selectedindex=0,""===e.name&&(e.name=e.id),this.nodedic[e.id]=e,e.parent=this,e.svg||this.createSVGNode(e);var t=e.svg,i=e.svgbackground,n=e.svgshape;if(t.id=e.id,"circle"===e.type){var r="translate("+Math.floor(e.pos.x)+","+Math.floor(e.pos.y)+")";n.setAttribute("r",e.size.w),t.setAttribute("transform",r),e.svgicon||(e.svgicon=this.getTableIcon()),t.appendChild(e.svgicon)}else if("rect"===e.type){var a="translate("+Math.floor(e.pos.x)+","+Math.floor(e.pos.y)+")";n.setAttribute("width",e.size.w),n.setAttribute("height",e.size.h),n.setAttribute("x",Math.floor(.5*-e.size.w)),n.setAttribute("y",Math.floor(.5*-e.size.h)),i.setAttribute("rx",y.ICON_PADDING.BORDER_RADIUS),i.setAttribute("ry",y.ICON_PADDING.BORDER_RADIUS),t.setAttribute("transform",a)}else if("image"===e.type){var o="translate("+Math.floor(e.pos.x)+","+Math.floor(e.pos.y)+")";n.setAttribute("width",e.size.w),n.setAttribute("height",e.size.h),n.setAttribute("x",Math.floor(.5*-e.size.w)),n.setAttribute("y",Math.floor(.5*-e.size.h)),n.setAttributeNS(b,"href",e.imagepath),t.setAttribute("transform",o)}else if("tableicon"===e.type){var l="translate("+Math.floor(e.pos.x)+","+Math.floor(e.pos.y)+")";n.setAttribute("r",0),i.setAttribute("width",e.size.w+y.ICON_PADDING.HORIZONTAL),i.setAttribute("height",e.size.h+y.ICON_PADDING.VERTICAL),i.setAttribute("x",Math.floor(-.5*(e.size.w+y.ICON_PADDING.HORIZONTAL))),i.setAttribute("y",Math.floor(-.5*(e.size.h+y.ICON_PADDING.VERTICAL))),i.setAttribute("rx",y.ICON_PADDING.BORDER_RADIUS),i.setAttribute("ry",y.ICON_PADDING.BORDER_RADIUS),t.setAttribute("transform",l),e.svgicon||(e.svgicon=this.getTableIcon()),t.appendChild(e.svgicon)}"tableicon"===e.type?n.style.fillOpacity=0:n.style.fill=e.fillcolor,this.nodelayer.appendChild(t),this.svgnodes.push(t),e.tooltip||this.createTooltip(e),e.icon||"table"===e.tabletype||"attribute"===e.tabletype||"metric"===e.tabletype||"mt"===e.tabletype||(e.icon=document.createElementNS(m,"image"),e.icon.setAttribute("width",y.OPERATION_ICON.SIZE.W),e.icon.setAttribute("height",y.OPERATION_ICON.SIZE.H),e.icon.setAttributeNS(b,"href",(0,v.getIconByTableType)(e.tabletype)),e.icon.setAttribute("x",Math.floor(y.OPERATION_ICON.POS.X-.5*e.size.w-y.OPERATION_ICON.SIZE.W)),e.icon.setAttribute("y",y.OPERATION_ICON.POS.Y)),e.icon&&t.appendChild(e.icon),null===e.wrangleicon&&(e.wrangleicon=this.getWrangleIcon()),null===e.checkicon&&(e.checkicon=this.getCheckIcon()),e.tooltip&&e.tooltipbackground&&(t.appendChild(e.tooltipbackground),t.appendChild(e.tooltip),e.svgbackground&&t.appendChild(e.svgbackground));var u=this.getLabelPos(e);e.tooltip.setAttribute("x",u.x),e.tooltip.setAttribute("y",u.y);var c=e.tooltip.getBBox?e.tooltip.getBBox():{};e.tooltipbackground.setAttribute("x",u.x-y.TOOLTIP.H_PADDING-y.TOOLTIP.PADDING),e.tooltipbackground.setAttribute("y",u.y-y.TOOLTIP.FONT_SIZE),e.tooltipbackground.setAttribute("width",c.width+2*(y.TOOLTIP.H_PADDING+y.TOOLTIP.PADDING)),e.tooltipbackground.setAttribute("height",c.height+2*y.TOOLTIP.V_PADDING+y.TOOLTIP.PADDING),e.tooltipbackground.style.fill="none",this.svglabels.push(e.tooltip);var d=this;t.onmousedown=function(e){var t=new Date,i={x:e.pageX,y:e.pageY};if(0===e.button&&t-d.last_node_mousedown_time<200&&d.last_node_mousedown_pos&&Math.abs(d.last_node_mousedown_pos.x-i.x)<2&&Math.abs(d.last_node_mousedown_pos.y-i.y)<2){var n=d.nodedic[this.id];return void(n&&!n.inprogress&&d.dispatchCustomEvent(E.NAME.NODE_DOUBLE_CLICKED,{node:n,type:E.TYPE.NODE_EVENT}))}if(d.last_node_mousedown_time=t,d.last_node_mousedown_pos=i,0!==e.button||s.OSValue===s.OS_TYPE.MAC&&e.ctrlKey){if(2===e.button||s.OSValue===s.OS_TYPE.MAC&&e.ctrlKey){var r=d.nodedic[this.id];if(d.targetnode=r,r&&!r.inprogress){var a=[];r&&r.selected?a=d.getSelectedNodes():(d.clearNodeSelection(),a.push(r.id),d.selectNodes(a),d.dispatchCustomEvent(E.NAME.NODE_SELECTION_CHANGED,{selectednode:a,type:E.TYPE.NODE_EVENT})),"image"===e.target.tagName&&"image"===e.srcElement.tagName?d.dispatchCustomEvent(E.NAME.NODE_ICON_CONTEXT_MENU,{selectednode:a,targetnode:r.id,tabletype:r.tabletype,type:E.TYPE.NODE_EVENT,pos:{x:e.clientX,y:e.clientY}}):d.dispatchCustomEvent(E.NAME.NODE_CONTEXT_MENU,{selectednode:a,targetnode:r.id,tabletype:r.tabletype,type:E.TYPE.NODE_EVENT,pos:{x:e.clientX,y:e.clientY}})}}}else{var o=!1,l=d.nodedic[this.id];d.targetnode=l,d.targetnode.selectionchanged=!1,l.inprogress||((0,s.multiSelectKey)(e)||e.shiftKey?l.selected||(l.selected=!0,l.selectedindex=++d.node_selected_index,l.selectionchanged=!0,o=!0,l.refresh()):l.selected||(d.clearNodeSelection(),l.select(++d.node_selected_index,d),l.selectionchanged=!0,o=!0));var u=d.getNodeSVGPos(this),c=l.inprogress?[l.id]:d.getSelectedNodes(),h={};c.forEach(function(e){var t=d.getNode(e);if(t&&t.svg){var i=d.getNodeSVGPos(t.svg);h[e]=i}}),d.dragging={sx:e.pageX,sy:e.pageY,px:u.x,py:u.y,svg:this,selectedNodesPos:h},d.nodelayer.appendChild(this),window.onmousemove=function(e){if(d.dragging){var t=d.zoompanlayer.getCTM().a,i=(e.pageX-d.dragging.sx)/t,n=(e.pageY-d.dragging.sy)/t;if(d.dragging.selectedNodesPos){for(var r in d.dragging.selectedNodesPos){var a=d.getNode(r),o=d.dragging.selectedNodesPos[r];if(a){var s=a.svg;if(s){a.fixed=!0,a.pos.x=o.x+i,a.pos.y=o.y+n,a.targetpos.x=a.pos.x,a.targetpos.y=a.pos.y;var l="translate("+Math.floor(a.pos.x)+","+Math.floor(a.pos.y)+")";s.setAttribute("transform",l),d.updateEdges(a.outedges),d.updateEdges(a.inedges)}}}d.layout.layout===_.FORCE_DIRECTED&&d.layout.forceDirected.damper<=0}}},window.onmouseup=function(e){if(d.dragging.selectedNodesPos)for(var t in d.dragging.selectedNodesPos){var i=d.getNode(t);i&&(i.fixed=!1)}var n=!1,r=Math.abs(e.pageX-d.dragging.sx)>1||Math.abs(e.pageY-d.dragging.sy)>1;if(r||(0,s.multiSelectKey)(e)||e.shiftKey)!r&&((0,s.multiSelectKey)(e)||e.shiftKey)&&d.targetnode&&d.targetnode.selected&&!d.targetnode.selectionchanged&&(d.targetnode.selected=!1,d.targetnode.selectedindex=0,d.targetnode.refresh(),n=!0);else{var a=d.getSelectedNodes();a.length>1&&d.targetnode&&d.targetnode.selected?(d.clearNodeSelection(),d.targetnode.select(++d.node_selected_index,d),n=!0):1!==a.length||!d.targetnode||!d.targetnode.selected||d.targetnode.selectionchanged||"text"!==e.target.tagName&&"tspan"!==e.target.tagName&&e.target!==d.targetnode.tooltipbackground||d.dispatchCustomEvent(E.NAME.NODE_NAME_EDIT_REQUEST,{node:d.targetnode,type:E.TYPE.NODE_EVENT})}n&&d.dispatchCustomEvent(E.NAME.NODE_SELECTION_CHANGED,{selectednode:d.getSelectedNodes(),type:E.TYPE.NODE_EVENT}),d.targetnode.selectionchanged=!1,d.dragging=null,window.onmousemove=null,window.onmouseup=null},d.dispatchCustomEvent(E.NAME.NODE_CLICKED,{node:l,type:E.TYPE.NODE_EVENT}),o&&d.dispatchCustomEvent(E.NAME.NODE_SELECTION_CHANGED,{selectednode:d.getSelectedNodes(),type:E.TYPE.NODE_EVENT})}}}},r.prototype.createSVGNode=function(e){var t=this,i=document.createElementNS(m,"g"),n=document.createElementNS(m,"rect");n.setAttribute("width",2*e.size.w),n.setAttribute("height",2*e.size.h),n.setAttribute("x",-e.size.w),n.setAttribute("y",-e.size.h),n.setAttribute("rx",e.size.w),n.setAttribute("ry",e.size.h),n.style.fill="#FFFFFF",n.style.fillOpacity=.1,n.style.strokeWidth=0,n.onmouseenter=function(e){if(e.currentTarget&&e.currentTarget.parentNode){var i=t.nodedic[e.currentTarget.parentNode.id];i&&i.highlight(!0)}},n.onmouseleave=function(e){if(e.currentTarget&&e.currentTarget.parentNode){var i=t.nodedic[e.currentTarget.parentNode.id];i&&i.highlight(!1)}};var r="tableicon"===e.type?document.createElementNS(m,"circle"):document.createElementNS(m,e.type);i.appendChild(r),i.appendChild(n),e.svg=i,e.svgbackground=n,e.svgshape=r},r.prototype.createTooltip=function(e){e.tooltip=document.createElementNS(m,"text"),e.tooltip.setAttribute("font-size",y.TOOLTIP.FONT_SIZE),e.tooltip.innerHTML=(0,v.generateMultilineText)(e.name,y.TOOLTIP.TRUNCATE_LENGTH),e.tooltip.style.cursor="default",e.tooltiptitle=document.createElementNS(m,"title"),e.tooltiptitle.textContent=e.name,e.tooltip.appendChild(e.tooltiptitle),e.tooltipbackground=document.createElementNS(m,"rect"),e.tooltipbackground.setAttribute("rx",y.TOOLTIP.BORDER_RADIUS),e.tooltipbackground.setAttribute("ry",y.TOOLTIP.BORDER_RADIUS)},r.prototype.selectNode=function(e){this.clearNodeSelection(),this.nodedic[e]&&this.nodedic[e].select(++this.node_selected_index,this)},r.prototype.getNodeSVGPos=function(e){var t={x:0,y:0};if(e){var i=e.getAttribute("transform"),n=i.replace("translate(","").split(",");n&&2===n.length&&(t.x=parseInt(n[0]),t.y=parseInt(n[1]))}return t},r.prototype.startLassoSelection=function(e){var t=this;if(e){if(!this.lasso){var i=document.createElementNS(m,"rect");(0,o.default)(i.style,x),this.lasso=i}this.lasso.setAttribute("width",0),this.lasso.setAttribute("height",0),this.lasso.setAttribute("x",e.x),this.lasso.setAttribute("y",e.y),this.svg.appendChild(this.lasso),this.lasso_sp=e,this.lasso_rect={x:e.x,y:e.y,w:0,h:0},window.onmousemove=function(e){if(t.lasso_sp){var i={x:t.lasso_sp.x,y:t.lasso_sp.y};e.clientX>t.lasso_sp.x?i.w=e.clientX-t.lasso_sp.x:(i.x=e.clientX,i.w=t.lasso_sp.x-e.clientX),e.clientY>t.lasso_sp.y?i.h=e.clientY-t.lasso_sp.y:(i.y=e.clientY,i.h=t.lasso_sp.y-e.clientY);var n=t.getLocalPoint({x:i.x,y:i.y});t.lasso.setAttribute("x",n.x),t.lasso.setAttribute("y",n.y),t.lasso.setAttribute("width",i.w),t.lasso.setAttribute("height",i.h),t.lasso_rect=i}},window.onmouseup=function(e){if(t.lasso_sp){t.lasso_sp=null;var i=t.lasso_rect,n=t.getNodeLayerPoint({x:i.x,y:i.y}),r=t.getNodeLayerPoint({x:i.x+i.w,y:i.y+i.h});0===i.w&&0===i.h&&t.isNodeTitleInEdit()?t.hideNodeTitleInput():t.selectNodesByLasso(n,r,(0,s.multiSelectKey)(e)||e.shiftKey)&&t.dispatchCustomEvent(E.NAME.NODE_SELECTION_CHANGED,{selectednode:t.getSelectedNodes(),type:E.TYPE.NODE_EVENT})}window.onmousemove=null,window.onmouseup=null,t.lasso&&t.lasso.parentNode&&t.lasso.parentNode.removeChild(t.lasso)}}},r.prototype.addEdges=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t];this.addEdge(i)}},r.prototype.addEdge=function(e){if(this.graph&&e){this.graph.addEdge(e.from,e.to,e.data);var t=this.graph.graphmatrix[e.from][e.to],i=t.svg?t.svg:document.createElementNS(m,"path");t.svg=i,t.selected=!1,t.linewidth=e.linewidth,i.id=t.from+"-"+t.to,this.edgedic[t.from+"-"+t.to]=t,i.style.stroke=t.stroke,i.style.strokeOpacity=w.STROKE_OPACITY,i.style.strokeWidth=t.linewidth,"dot"===e.strokestyle?(i.style.strokeLinecap="round",i.style.strokeDasharray="0 5"):"dash"===e.strokestyle&&(i.style.strokeDasharray="4 4"),this.edgelayer.appendChild(i),this.svgedges.push(i),this.updateEdges([t]);var n=this;i.onmouseenter=function(e){this.style.strokeOpacity=w.HIGHLIGHT_STROKE_OPACITY,this.style.stroke=w.HIGHLIGHT_STROKE_COLOR,this.style.strokeWidth=t.linewidth+4,this.parentNode&&this.parentNode.appendChild(this),n.dispatchCustomEvent(E.NAME.EDGE_MOUSE_ENTER,{edge:n.edgedic[this.id],type:E.TYPE.EDGE_EVENT})},i.onmouseout=function(e){this.style.stroke=n.edgedic[this.id].selected?n.selectededgecolor:n.edgecolor,this.style.strokeOpacity=w.STROKE_OPACITY,this.style.stroke=w.STROKE_COLOR,this.style.strokeWidth=t.linewidth,n.dispatchCustomEvent(E.NAME.EDGE_MOUSE_OUT,{edge:n.edgedic[this.id],type:E.TYPE.EDGE_EVENT})}}},r.prototype.removeNode=function(e){var t=this.nodedic[e];if(t){if(t.svg){t.svg.parentNode&&t.svg.parentNode.removeChild(t.svg);var i=this.svgnodes.indexOf(t.svg);i>-1&&i<this.svgnodes.length&&this.svgnodes.splice(i,1)}delete this.nodedic[e];for(var n=t.inedges.length-1;n>=0;n--){var r=t.inedges[n];this.removeEdge(r.id)}for(var a=t.outedges.length-1;a>=0;a--){var o=t.outedges[a];this.removeEdge(o.id)}}this.graph&&(this.graph.removeNode(e),this.graph.updateNodeDegree())},r.prototype.removeEdge=function(e){var t=this.edgedic[e];if(t){if(t.svg){t.svg.parentNode&&t.svg.parentNode.removeChild(t.svg);var i=this.svgedges.indexOf(t.svg);i>-1&&i<this.svgedges.length&&this.svgedges.splice(i,1)}delete this.edgedic[e],this.graph&&this.graph.removeEdge(t)}},r.prototype.updateSize=function(){if(this.svg&&this.svg.parentNode){var e=this.svg.parentNode.getBoundingClientRect();this.w=e.width,this.h=e.height}},r.prototype.getLabelPos=function(e){var t={x:0,y:0},i=e.tooltip.getBBox?e.tooltip.getBBox():{};return 0===e.labelpos?(t.x-=.5*i.width,t.y+=5):1===e.labelpos?(t.x-=.5*i.width,"circle"===e.type||"tableicon"===e.type?t.y-=e.size.h+5:"rect"!==e.type&&"image"!==e.type||(t.y-=.5*e.size.h+5)):2===e.labelpos?(t.x-=.5*i.width,"circle"===e.type?t.y+=e.size.h+19:"rect"!==e.type&&"image"!==e.type&&"tableicon"!==e.type||(t.y+=.5*e.size.h+20)):3===e.labelpos?(t.x-=i.width+30,t.y+=5):4===e.labelpos&&(t.x+=30,t.y+=5),t},r.prototype.updateEdges=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(this.edgedic[i.from+"-"+i.to]){var n=void 0,r=void 0,a=void 0;if(this.layout.layout===_.PAIRWISE)i.fromnode.pos.x<i.tonode.pos.x?(n=i.fromnode.pos,r=i.tonode.pos):(r=i.fromnode.pos,n=i.tonode.pos),a="M "+n.x+","+n.y+" C "+(n.x+50)+","+n.y+" "+(r.x-50)+","+r.y+" "+r.x+","+r.y;else if(this.layout.layout===_.LINEAR)n=i.fromnode.pos,r=i.tonode.pos,a="M "+n.x+","+n.y+" A "+.5*Math.abs(n.x-r.x)+","+.5*Math.abs(n.x-r.x)+" 0, 1, 1,"+r.x+","+r.y;else if(this.layout.layout===_.CIRCULAR)n=i.fromnode.pos,r=i.tonode.pos,a="M "+n.x+","+n.y+" Q "+.5*this.w+","+.5*this.h+","+r.x+","+r.y;else if("sequence"===this.layout.layout)n={x:i.fromnode.pos.x+.5*i.fromnode.size.w,y:i.fromnode.pos.y},r={x:i.tonode.pos.x-.5*i.tonode.size.w,y:i.tonode.pos.y},a="M "+n.x+","+n.y+" C "+(n.x+50)+","+n.y+" "+(r.x-50)+","+r.y+" "+r.x+","+r.y;else if(n=i.fromnode.pos,r=i.tonode.pos,this.edgedic[i.to+"-"+i.from]){var o=new g.default(r.x,r.y),s=new g.default(n.x,n.y),l=void 0,u=void 0,c=void 0;c=o.subtract(s),o.rotate(Math.PI/2),o.scale(i.curvature),l=o.add(s),u=o.add(c),a="M "+n.x+" "+n.y+" C "+l.x+" "+l.y+","+u.x+" "+u.y+","+r.x+" "+r.y}else a="M "+n.x+","+n.y+" L "+r.x+","+r.y;i.svg.setAttribute("d",a),"dash"===i.strokestyle?i.svg.setAttribute("stroke-dasharray","7,7"):"dot"===i.strokestyle&&(i.svg.style.strokeDasharray="4,4"),i.svg.style.fill="none",i.svg.style.strokeWidth=i.linewidth}}},r.prototype.moveCanvas=function(e,t,i){if(i){if(this.graph.nodes){var n={};this.graph.nodes.forEach(function(i){n[i.id]={startpos:{x:i.pos.x,y:i.pos.y},targetpos:{x:i.pos.x+e,y:i.pos.y+t}}}),this.setLayoutWithoutZoom(_.MANUAL,n)}}else this.moveNodes(e,t),this.updateNodes(this.graph.nodes),this.updateEdges(this.graph.edges)},r.prototype.moveNodes=function(e,t){this.graph.nodes&&this.graph.nodes.forEach(function(i){i.pos.x+=e,i.pos.y+=t,i.targetpos.x+=e,i.targetpos.y+=t})},r.prototype.updateNodes=function(e){if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i.svg){var n="translate("+Math.floor(i.pos.x)+","+Math.floor(i.pos.y)+")";i.svg.setAttribute("transform",n)}}},r.prototype.showLabel=function(e){this.allNodes().forEach(function(t){t.showLabel(e)})},r.prototype.showIcon=function(e){this.allNodes().forEach(function(t){t.showIcon(e)})},r.prototype.showNodes=function(e){e?this.nodelayer.parentNode||this.zoompanlayer.appendChild(this.nodelayer):this.nodelayer.parentNode&&this.zoompanlayer.removeChild(this.nodelayer)},r.prototype.showEdges=function(e){e?(this.edgelayer.parentNode||this.zoompanlayer.appendChild(this.edgelayer),this.nodelayer.parentNode===this.zoompanlayer&&this.zoompanlayer.appendChild(this.nodelayer)):this.edgelayer.parentNode&&this.zoompanlayer.removeChild(this.edgelayer);
},r.prototype.getZoomPoint=function(e){var t=this.zoomhandler.svgRoot,i=this.zoomhandler.getEventPoint(e);return i=i.matrixTransform(t.getCTM().inverse())},r.prototype.getNodeLayerPoint=function(e,t){var i=this.zoomhandler.svgRoot,n=this.zoomhandler.getLocalPoint(t?this.zoomhandler.getClientPoint(e):e);return n=n.matrixTransform(i.getCTM().inverse())},r.prototype.findNodesByPoint=function(e,t){var i=[];for(var n in this.nodedic){var r=this.nodedic[n];Math.sqrt((r.pos.x-e.x)*(r.pos.x-e.x)+(r.pos.y-e.y)*(r.pos.y-e.y))<2*t&&i.push(r.id)}return i},r.prototype.getLocalPoint=function(e){var t=this.zoomhandler.getLocalPoint(e);return{x:t.x,y:t.y}}},,,function(e,t,i){var n=i(89),r=i(234),a=i(49),o=i(43),s=i(404);e.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var g,v,m=a(t),b=r(m),y=n(s,p,3),w=o(b.length),x=0,E=i?f(t,w):l?f(t,0):void 0;w>x;x++)if((h||x in b)&&(g=b[x],v=y(g,x,m),e))if(i)E[x]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return x;case 2:E.push(g)}else if(c)return!1;return d?-1:u||c?c:E}}},31,388,[2351,11,100,24],397,[2365,25],,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(878);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return n(r).default}});var a=i(2166);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return n(a).default}});var o=i(2167);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return n(o).default}});var s=i(2168);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return n(s).default}});var l=i(2169);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return n(l).default}})},,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADDED="ADDED",t.CREATED="CREATED",t.MAPPED="MAPPED",t.FETCH="FETCH",t.MSG_POPUP="MSG_POPUP",t.MSG_MESSAGE="MSG_MESSAGE",t.SHOW_MESSAGE="SHOW_MESSAGE",t.READ_MESSAGE="READ_MESSAGE",t.TOGGLE_PUBLISH_PROGRESS="TOGGLE_PUBLISH_PROGRESS",t.UPDATE_PUBLISH_PROGRESS="UPDATE_PUBLISH_PROGRESS",t.SET_LAYOUT="SET_LAYOUT",t.SELECT_TABLE="SELECT_TABLE",t.SELECT_ATTRIBUTE="SELECT_ATTRIBUTE",t.SELECT_METRIC="SELECT_METRIC",t.DESELECT_ATTRIBUTE="DESELECT_ATTRIBUTE",t.DESELECT_METRIC="DESELECT_METRIC",t.SELECT_OBJECTS="SELECT_OBJECTS",t.TOGGLE_TABLEPREVIEW="TOGGLE_TABLEPREVIEW",t.CLOSE_PUBLISHDIALOG="CLOSE_PUBLISHDIALOG",t.OPEN_PUBLISHDIALOG="OPEN_PUBLISHDIALOG",t.SET_PUBLISH_JOB_ID="SET_PUBLISH_JOB_ID",t.SET_ATTRIBUTES="SET_ATTRIBUTES",t.SET_METRICS="SET_METRICS",t.SETMSGID="SET_MSG_ID",t.SET_IMPORTSOURCE="SET_IMPORTSOURCE",t.SET_DIRTY="SET_DIRTY",t.SET_DATASET_NAME="SET_DATASET_NAME",t.SET_SELECTED_METRICS_ON_PANEL="SET_SELECTED_METRICS_ON_PANEL",t.SET_SELECTED_ATTRIBUTES_ON_PANEL="SET_SELECTED_ATTRIBUTES_ON_PANEL",t.SET_ATTRIBUTES_SELECTION_OF_ONE_TABLE="SET_ATTRIBUTES_SELECTION_OF_ONE_TABLE",t.SET_METRICS_SELECTION_OF_ONE_TABLE="SET_METRICS_SELECTION_OF_ONE_TABLE",t.SET_LAST_OBJECT_SELECTED="SET_LAST_OBJECT_SELECTED",t.CREATE=0,t.EDIT=1,t.REFRESH=2,t.SUBSCRIBE=3,t.ENTERCREDENTIALS=4,t.OAUTH=5,t.PICKTABLE=6,t.HADOOPPICKTABLE=7,t.OVERWRITE="Overwrite",t.NONE="None",t.INMEMORY="InMemory",t.LIVE="DDA",t.CREATE_HIERARCHY_OBJ="CREATE_HIERARCHY_OBJ"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RECOMMENDATION_TAB_KEY="RECOMMENDATION_TAB",t.HISTORY_TAB_KEY="HISTORY_TAB",t.COLUMN_DETAILS_TAB_KEY="COLUMN_DETAILS_TAB"},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{type:P.FETCH_JOIN_RECOMMENDATIONS,recData:e}}function o(){return function(e,t){var i=t().joinPanelReducer.recData;i&&i.length>0?e(a(i.concat())):(0,L.getJoinRecommendations)().then(function(t){e(a(t))})}}function s(e){return{type:P.LOAD_JOIN_CONTEXT,joinContext:e}}function l(e){return function(t,i){var n=i().joinPanelReducer.joinList,r=i().joinPanelReducer.joinInfoData,a=u(n,e);e.leftCol&&e.rightCol?(t(T()),t(S((0,R.isJoinEdited)(a.joinList))),t(v((0,R.getInterimJoinInfoData)(a.joinList,r,"ADD",a.joinId))),(0,R.getJoinInfo)(a.joinList,r,"ADD",a.joinId).then(function(e){t(v(e)),t(x(a.joinList)),t(I())},function(e){console.log(e),t(f(n)),t(v(r)),t((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),t(I())})):t(x(a.joinList))}}function u(e,t){var i={},n=JSON.parse((0,k.default)(e)),r=JSON.parse((0,k.default)(t));if(t.leftCol||t.rightCol){var a=n.findIndex(function(e){return!e.leftCol&&!e.rightCol});a>-1?(n[a]=r,i.joinId=a):(n[e.length]=r,i.joinId=e.length)}else n.push(t),i.joinId=e.length;return i.joinList=n,i}function c(e){return function(t,i){var n=i().joinPanelReducer.joinList,r=i().joinPanelReducer.joinInfoData,a=d(n,e),o=i().joinPanelReducer.joinType.newVal,s=n[e];s&&(s.leftCol||s.rightCol?(t(T()),t(f(a)),t(v((0,R.getInterimJoinInfoData)(n,r,"REMOVE",e))),(0,R.getJoinInfo)(n,r,"REMOVE",e).then(function(e){t(S((0,R.isJoinEdited)(n))),t(v(e)),s.viewOnly===!0?t(C(-1)):null,t(x(n)),t(I())},function(e){console.log(e),t(f(n)),t(v(r)),(0,z.previewJoinData)(n,o),t((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),t(I())})):a.length>0&&t(x(a)))}}function d(e,t){var i=JSON.parse((0,k.default)(e));return i.splice(t,1),i}function h(e,t){return function(i,n){if(n().joinPanelReducer.showJoinPanel)i(b()),i(y());else if(F.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.OVERVIEW){var r=H.pipelineManager.pipelineVisual.graph.getSelectedNodes();e===W.JOIN_MODE.NEW_JOIN&&r&&2===r.length?(0,R.getJoinContext)().then(function(e){e.exception?i((0,V.showErrorDialog)(e.exception.summary,e.exception.message)):(0,G.tableRefreshStatusCheck)([e.leftTable.id,e.rightTable.id],W.JOIN_MODE.NEW_JOIN)&&(i(s(e)),i(y()))},function(e){console.log(e)}):i((0,V.showErrorDialog)("Invalid Join Operation","Incorrect table selection"))}else if(F.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.EDIT){var a=H.pipelineManager.pipelineVisual.pegraph.getSelectedNodes();e===W.JOIN_MODE.EDIT_JOIN&&H.pipelineManager.pipelineVisual.pegraph.targetnode?(0,R.getEditJoinContext)(t).then(function(e){i(s(e)),i(y()),i(T()),i(v((0,R.getInterimJoinInfoData)(e.joinList,e.joinInfoData,null,null,"EDITMODE"))),(0,R.getJoinInfo)(e.joinList,{},"ADD",0).then(function(e){i(v(e)),i(I())},function(t){console.log(t),i((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),i(v((0,R.getOnExceptionJoinInfo)(e.joinInfoData))),i(I())})},function(e){console.log(e)}):e===W.JOIN_MODE.NEW_JOIN&&a&&2===a.length?(0,R.getJoinContext)().then(function(e){e.exception?i((0,V.showErrorDialog)(e.exception.summary,e.exception.message)):(i(s(e)),i(y()))},function(e){console.log(e)}):i((0,V.showErrorDialog)("Invalid Join Operation","Incorrect table selection"))}}}function f(e){return{type:P.JOIN_CONDITION_UPDATED,joinList:e}}function p(e,t,i){return function(n,r){n(T());var a=r().joinPanelReducer.joinList,o=r().joinPanelReducer.joinInfoData,s=r().joinPanelReducer.joinType.newVal,l=g(a,t,e,i);n(f(l)),n(S((0,R.isJoinEdited)(l))),n(v((0,R.getInterimJoinInfoData)(l,o,"EDIT",t))),(0,R.getJoinInfo)(l,o,"EDIT",t,s).then(function(e){n(v(e)),n(x(l)),n(I())},function(e){console.log(e),n(f(a)),n(v(o)),(0,z.previewJoinData)(a,s),n((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),n(I())})}}function g(e,t,i,n){var r=JSON.parse((0,k.default)(e)),a=r[t];return a&&(a.changed=!0,"LEFT"===n?a.leftCol=i:"RIGHT"===n&&(a.rightCol=i)),r}function v(e){return{type:P.LOAD_JOIN_INFO_PREVIEW,joinInfoData:e}}function m(e){return function(t,i){t(T()),(0,R.applyJoin)(e,i().joinPanelReducer.derivedTableName.newVal,t).then(function(){t(h()),t(I())}).catch(function(e){t((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),t(I())})}}function b(){return{type:P.RESET_JOIN_PANEL}}function y(){return{type:P.TOGGLE_JOIN_PANEL}}function w(e){return{type:P.SET_DERIVED_TAB_NAME,tabName:e}}function x(e){return{type:P.JOIN_OPERATION_COMPLETED,joinList:e}}function E(e){return{type:P.EDIT_JOIN_TYPE,joinType:e}}function _(e){return function(t,i){var n=i().joinPanelReducer.joinList,r=i().joinPanelReducer.joinType.currentVal,a=A(n);if(a>=0){t(T());var o=i().joinPanelReducer.joinInfoData;t(E(e)),t(v((0,R.getInterimJoinInfoData)(n,o,null,null,e))),(0,R.getJoinInfo)(n,o,"EDIT",a,e).then(function(e){t(v(e)),t(x(n)),t(I())},function(e){console.log(e),t(E(r)),t(v(o)),(0,z.previewJoinData)(n,r),t((0,V.showErrorDialog)(W.JOIN_EXCEPTION.SUMMARY,W.JOIN_EXCEPTION.MESSAGE)),t(I())})}else t(E(e))}}function A(e){var t=-1;return e.every(function(e,i){return!e.leftCol||!e.rightCol||(t=i,!1)}),t}function C(e){return function(t,i){var n=i().joinPanelReducer.joinList,r=[].concat((0,O.default)(n));r.forEach(function(e){e.viewOnly=!1}),e!==-1&&r.length>0&&r[e]&&(r[e].viewOnly=!0),t({type:P.QUICK_VIEW_JOIN,joinId:e,newJoinList:r})}}function S(e){return{type:P.JOIN_OPERATION_EDITED,joinEdited:e}}function T(){return{type:P.SET_JOIN_PROGRESS}}function I(){return{type:P.UNSET_JOIN_PROGRESS}}Object.defineProperty(t,"__esModule",{value:!0});var D=i(46),O=r(D),M=i(53),k=r(M);t.loadRecommendations=o,t.loadJoinContext=s,t.addJoin=l,t.removeJoinOperation=c,t.toggleJoinPanel=h,t.editJoinOperation=p,t.joinInfoPreviewAction=v,t.applyJoinOperations=m,t.resetJoinPanel=b,t.toggleJoinPanelAction=y,t.setDerivedTableName=w,t.joinOperationCompleted=x,t.editJoinType=_,t.quickPreviewHistogram=C,t.joinOperationEdited=S,t.setJoinInprogress=T,t.unsetJoinInprogress=I;var N=i(547),P=n(N),L=i(1229),R=i(1228),F=i(20),j=i(184),B=n(j),H=i(85),V=i(38),U=i(47),W=n(U),z=i(548),G=i(131)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.webix=t.$$=void 0;var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(13),m=n(v);i(1867),i(1847),i(1284),i(1283);var b=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return g.default.createElement("div",{ref:"root"})}},{key:"setWebixData",value:function(e){var t=this.ui;t.setValues?t.setValues(e):t.parse?t.parse(e):t.setValue&&t.setValue(e)}},{key:"componentWillUnmount",value:function(){this.ui.destructor(),this.ui=null}},{key:"componentWillUpdate",value:function(e){e.data&&this.setWebixData(e.data),e.select&&this.select(e.select)}},{key:"componentDidMount",value:function(){this.ui=window.webix.ui(this.props.ui,m.default.findDOMNode(this.refs.root)),this.componentWillUpdate(this.props)}}]),t}(p.Component);t.default=b;t.$$=window.webix.$$,t.webix=window.webix},function(e,t,i){"use strict";function n(){(0,f.dispatchAction)((0,h.toggleLoading)({show:!0}))}function r(){(0,f.dispatchAction)((0,h.toggleLoading)({show:!1}))}function a(e,t){var i=[],n=e.rows;if(n)for(var r=0;r<n.length;r++){var a=n[r];if(a&&a.length===t.length){for(var o={},s=0;s<t.length;s++){var l=t[s].id;o[l]=a[s]}i.push(o)}}return i}function o(e,t){if(e&&t&&Array.isArray(t.gridColumns)){var i=e.getHeader();if(Array.isArray(i)&&i.length>0){i.forEach(function(e){e.needFacet=!1});for(var n=t.gridWidth,r=0,a=t.posX-300,o=t.posX+n+300,s=[],l=0;l<t.gridColumns.length;l++){var u=r;r+=t.gridColumns[l].width;var c=r;u<a&&c<a||u>o&&c>o||s.push({colId:t.gridColumns[l].colId,width:t.gridColumns[l].width})}s.forEach(function(e){var t=i.findIndex(function(t){return t.id===e.colId});t>=0&&(i[t].needFacet=!0,i[t].width=e.width)});var d=(0,p.selectDetailFacetColumn)((0,f.getAllState)());if(null!=d){var h=i.findIndex(function(e){return e.id===d});h>=0&&(i[h].needFacet=!0,t.gridColumns[h]&&t.gridColumns[h].colId===d&&(i[h].width=t.gridColumns[h].width))}e.renderFacet()}}}function s(){var e=window.navigator.userAgent,t=window.navigator.platform,i=["Macintosh","MacIntel","MacPPC","Mac68K"],n=["Win32","Win64","Windows","WinCE"],r=["iPhone","iPad","iPod"],a=null;return a=i.indexOf(t)!==-1?w.MAC:r.indexOf(t)!==-1?w.IOS:n.indexOf(t)!==-1?w.WINDOWS:/Android/.test(e)?w.ANDROID:/Linux/.test(t)?w.LINUX:w.LINUX}function l(e){return e.ctrlKey&&x===w.WINDOWS||e.ctrlKey&&x===w.LINUX||e.metaKey&&x===w.MAC}function u(e){return e?c(e)?e.toUpperCase():d(e)?v:g:g}function c(e){return[g,m,b,y].indexOf(e.toUpperCase())>-1}function d(e){return["LONG","INTEGER","DOUBLE","DECIMAL","SHORT","BIGDECIMAL"].indexOf(e.toUpperCase())>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.OSValue=t.OS_TYPE=t.FACET_TYPE_TIMESTAMP=t.FACET_TYPE_TIME=t.FACET_TYPE_DATE=t.FACET_TYPE_NUMERIC=t.FACET_TYPE_STRING=void 0,t.showLoader=n,t.hideLoader=r,t.transformRows=a,t.renderVisibleFacets=o,t.multiSelectKey=l,t.getFacetType=u;var h=i(272),f=i(29),p=i(22),g=t.FACET_TYPE_STRING="STRING",v=t.FACET_TYPE_NUMERIC="NUMERIC",m=t.FACET_TYPE_DATE="DATE",b=t.FACET_TYPE_TIME="TIME",y=t.FACET_TYPE_TIMESTAMP="TIMESTAMP",w=t.OS_TYPE={MAC:"Mac",WINDOWS:"Windows",IOS:"iOS",ANDROID:"Android",LINUX:"Linux"},x=t.OSValue=s()},,,,function(e,t,i){var n=i(639),r=i(11),a=i(299)("metadata"),o=a.store||(a.store=new(i(642))),s=function(e,t,i){var r=o.get(e);if(!r){if(!i)return;o.set(e,r=new n)}var a=r.get(t);if(!a){if(!i)return;r.set(t,a=new n)}return a},l=function(e,t,i){var n=s(t,i,!1);return void 0!==n&&n.has(e)},u=function(e,t,i){var n=s(t,i,!1);return void 0===n?void 0:n.get(e)},c=function(e,t,i,n){s(i,n,!0).set(e,t)},d=function(e,t){var i=s(e,t,!1),n=[];return i&&i.forEach(function(e,t){n.push(t)}),n},h=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},f=function(e){r(r.S,"Reflect",e)};e.exports={store:o,map:s,has:l,get:u,set:c,keys:d,key:h,exp:f}},function(e,t,i){"use strict";if(i(41)){var n=i(160),r=i(19),a=i(24),o=i(11),s=i(301),l=i(425),u=i(89),c=i(158),d=i(164),h=i(70),f=i(165),p=i(103),g=i(43),v=i(637),m=i(167),b=i(104),y=i(69),w=i(233),x=i(25),E=i(49),_=i(411),A=i(161),C=i(78),S=i(162).f,T=i(428),I=i(168),D=i(36),O=i(99),M=i(288),k=i(300),N=i(429),P=i(196),L=i(294),R=i(166),F=i(403),j=i(610),B=i(42),H=i(77),V=B.f,U=H.f,W=r.RangeError,z=r.TypeError,G=r.Uint8Array,$="ArrayBuffer",q="Shared"+$,Y="BYTES_PER_ELEMENT",J="prototype",K=Array[J],X=l.ArrayBuffer,Q=l.DataView,Z=O(0),ee=O(2),te=O(3),ie=O(4),ne=O(5),re=O(6),ae=M(!0),oe=M(!1),se=N.values,le=N.keys,ue=N.entries,ce=K.lastIndexOf,de=K.reduce,he=K.reduceRight,fe=K.join,pe=K.sort,ge=K.slice,ve=K.toString,me=K.toLocaleString,be=D("iterator"),ye=D("toStringTag"),we=I("typed_constructor"),xe=I("def_constructor"),Ee=s.CONSTR,_e=s.TYPED,Ae=s.VIEW,Ce="Wrong length!",Se=O(1,function(e,t){return Me(k(e,e[xe]),t)}),Te=a(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ie=!!G&&!!G[J].set&&a(function(){new G(1).set({})}),De=function(e,t){var i=p(e);if(i<0||i%t)throw W("Wrong offset!");return i},Oe=function(e){if(x(e)&&_e in e)return e;throw z(e+" is not a typed array!")},Me=function(e,t){if(!(x(e)&&we in e))throw z("It is not a typed array constructor!");return new e(t)},ke=function(e,t){return Ne(k(e,e[xe]),t)},Ne=function(e,t){for(var i=0,n=t.length,r=Me(e,n);n>i;)r[i]=t[i++];return r},Pe=function(e,t,i){V(e,t,{get:function(){return this._d[i]}})},Le=function(e){var t,i,n,r,a,o,s=E(e),l=arguments.length,c=l>1?arguments[1]:void 0,d=void 0!==c,h=T(s);if(void 0!=h&&!_(h)){for(o=h.call(s),n=[],t=0;!(a=o.next()).done;t++)n.push(a.value);s=n}for(d&&l>2&&(c=u(c,arguments[2],2)),t=0,i=g(s.length),r=Me(this,i);i>t;t++)r[t]=d?c(s[t],t):s[t];return r},Re=function(){for(var e=0,t=arguments.length,i=Me(this,t);t>e;)i[e]=arguments[e++];return i},Fe=!!G&&a(function(){me.call(new G(1))}),je=function(){return me.apply(Fe?ge.call(Oe(this)):Oe(this),arguments)},Be={copyWithin:function(e,t){return j.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Oe(this),arguments)},filter:function(e){return ke(this,ee(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ae(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return fe.apply(Oe(this),arguments)},lastIndexOf:function(e){return ce.apply(Oe(this),arguments)},map:function(e){return Se(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return de.apply(Oe(this),arguments)},reduceRight:function(e){return he.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,i=Oe(t).length,n=Math.floor(i/2),r=0;r<n;)e=t[r],t[r++]=t[--i],t[i]=e;return t},some:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Oe(this),e)},subarray:function(e,t){var i=Oe(this),n=i.length,r=m(e,n);return new(k(i,i[xe]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===t?n:m(t,n))-r))}},He=function(e,t){return ke(this,ge.call(Oe(this),e,t))},Ve=function(e){Oe(this);var t=De(arguments[1],1),i=this.length,n=E(e),r=g(n.length),a=0;if(r+t>i)throw W(Ce);for(;a<r;)this[t+a]=n[a++]},Ue={entries:function(){return ue.call(Oe(this))},keys:function(){return le.call(Oe(this))},values:function(){return se.call(Oe(this))}},We=function(e,t){return x(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},ze=function(e,t){return We(e,t=b(t,!0))?d(2,e[t]):U(e,t)},Ge=function(e,t,i){return!(We(e,t=b(t,!0))&&x(i)&&y(i,"value"))||y(i,"get")||y(i,"set")||i.configurable||y(i,"writable")&&!i.writable||y(i,"enumerable")&&!i.enumerable?V(e,t,i):(e[t]=i.value,e)};Ee||(H.f=ze,B.f=Ge),o(o.S+o.F*!Ee,"Object",{getOwnPropertyDescriptor:ze,defineProperty:Ge}),a(function(){ve.call({})})&&(ve=me=function(){return fe.call(this)});var $e=f({},Be);f($e,Ue),h($e,be,Ue.values),f($e,{slice:He,set:Ve,constructor:function(){},toString:ve,toLocaleString:je}),Pe($e,"buffer","b"),Pe($e,"byteOffset","o"),Pe($e,"byteLength","l"),Pe($e,"length","e"),V($e,ye,{get:function(){return this[_e]}}),e.exports=function(e,t,i,l){l=!!l;var u=e+(l?"Clamped":"")+"Array",d="get"+e,f="set"+e,p=r[u],m=p||{},b=p&&C(p),y=!p||!s.ABV,E={},_=p&&p[J],T=function(e,i){var n=e._d;return n.v[d](i*t+n.o,Te)},I=function(e,i,n){var r=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[f](i*t+r.o,n,Te)},D=function(e,t){V(e,t,{get:function(){return T(this,t)},set:function(e){return I(this,t,e)},enumerable:!0})};y?(p=i(function(e,i,n,r){c(e,p,u,"_d");var a,o,s,l,d=0,f=0;if(x(i)){if(!(i instanceof X||(l=w(i))==$||l==q))return _e in i?Ne(p,i):Le.call(p,i);a=i,f=De(n,t);var m=i.byteLength;if(void 0===r){if(m%t)throw W(Ce);if(o=m-f,o<0)throw W(Ce)}else if(o=g(r)*t,o+f>m)throw W(Ce);s=o/t}else s=v(i),o=s*t,a=new X(o);for(h(e,"_d",{b:a,o:f,l:o,e:s,v:new Q(a)});d<s;)D(e,d++)}),_=p[J]=A($e),h(_,"constructor",p)):a(function(){p(1)})&&a(function(){new p(-1)})&&L(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=i(function(e,i,n,r){c(e,p,u);var a;return x(i)?i instanceof X||(a=w(i))==$||a==q?void 0!==r?new m(i,De(n,t),r):void 0!==n?new m(i,De(n,t)):new m(i):_e in i?Ne(p,i):Le.call(p,i):new m(v(i))}),Z(b!==Function.prototype?S(m).concat(S(b)):S(m),function(e){e in p||h(p,e,m[e])}),p[J]=_,n||(_.constructor=p));var O=_[be],M=!!O&&("values"==O.name||void 0==O.name),k=Ue.values;h(p,we,!0),h(_,_e,u),h(_,Ae,!0),h(_,xe,p),(l?new p(1)[ye]==u:ye in _)||V(_,ye,{get:function(){return u}}),E[u]=p,o(o.G+o.W+o.F*(p!=m),E),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a(function(){m.of.call(p,1)}),u,{from:Le,of:Re}),Y in _||h(_,Y,t),o(o.P,u,Be),R(u),o(o.P+o.F*Ie,u,{set:Ve}),o(o.P+o.F*!M,u,Ue),n||_.toString==ve||(_.toString=ve),o(o.P+o.F*a(function(){new p(1).slice()}),u,{slice:He}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!a(function(){_.toLocaleString.call([1,2])})),u,{toLocaleString:je}),P[u]=M?O:k,n||M||h(_,be,k)}}else e.exports=function(){}},,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){return(0,l.change)(u.EXP_FORM_ID,e,t)}function a(e){return r("column",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleDataWrangler=void 0,t.setExpFormField=r,t.setSelectedColumns=a;var o=i(262),s=n(o),l=i(178),u=i(22),c=i(52),d=i(20),h=i(149),f=i(183),p=i(382),g=i(113);t.toggleDataWrangler=function(){return function(e,t){e(a([]));var i=t(),n=(0,u.currentPreviewTableMetadata)(t()),r="derivedtableview_"+n.id;i.dataWrangler.opts.showWrangler?((0,h.dwTableListenerRemove)(r),d.workspaceManager.updateWorkspaceDefinition(d.workspaceManager.initialWorkspaceId),n.dwUpdateFlag&&i.dataWrangler&&i.dataWrangler.opts.showWrangler&&d.workspaceManager.removeCacheRecursively(i,n.parentTgId)):(e((0,c.setDWUpdateFlag)(!1)),(0,p.loadDwHistory)(n.id),e((0,f.setDWRecommendations)([])),e((0,f.setActiveTab)(g.HISTORY_TAB_KEY))),e({type:s.TOGGLE_DATA_WRANGLER})}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return{type:w.ADD_DATASOURCE,datasource:e}}function a(e){return{type:w.ADD_OR_UPDATE_DATASOURCE,datasource:e}}function o(e){return{type:w.UPDATE_DATASOURCE,datasource:e}}function s(e){return{type:w.REMOVE_TABLES_FROM_DATASOURCE,tables:e}}function l(e){return{type:w.EXPAND_DATASOURCE,dsId:e}}function u(e){return{type:w.COLLAPSE_DATASOURCE,dsId:e}}function c(){return{type:w.EXPAND_ALL_DATASOURCE}}function d(e){return{type:w.COLLAPSE_ALL_DATASOURCE}}function h(e){return{type:w.SET_TABLE_PANEL_ACTIVE_TAB,activeTab:e}}function f(e){return{type:w.UPDATE_SELECTED_TABLE,tables:e}}function p(e){return{type:w.ADD_SELECTED_TABLE,tables:e}}function g(e){return{type:w.REMOVE_SELECTED_TABLE,tables:e}}function v(){return{type:w.CLEAN_SELECTED_TABLE}}function m(e){return{type:w.SET_TABLES_PENDING_STATUS,tables:e}}function b(e){return{type:w.UNSET_TABLES_PENDING_STATUS,tables:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addDatasource=r,t.addOrUpdateDatasource=a,t.updateDatasource=o,t.removeTablesFromDataSource=s,t.expandDataSource=l,t.collapseDataSource=u,t.expandAllDatasource=c,t.collapseAllDatasource=d,t.setActiveTab=h,t.updateSelectedTable=f,t.addSelectedTable=p,t.removeSelectedTable=g,t.cleanSelectedTable=v,t.setTablesPendingStatus=m,t.unsetTablesPendingStatus=b,i(915);var y=i(366),w=n(y)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return e.sort(function(e,i){return e[t].toUpperCase()>i[t].toUpperCase()?1:-1})}Object.defineProperty(t,"__esModule",{value:!0}),t.selectActiveTabKey=t.selectTabs=t.selectAllDataSourceTypesFiltered=t.selectAllDataSourceTypes=t.selectFilteredDataSources=t.selectFilter=t.selectAllAddedDataSources=t.selectAllDatasourcesFilter=t.selectAllDatasources=t.selectAllDatasourcesRoot=t.selectTablesPanel=void 0;var a=i(28),o=n(a),s=i(7),l=n(s),u=i(82),c=i(48),d=i(15),h=n(d),f=i(270),p=i(368),g=t.selectTablesPanel=function(e){return e.tablesPanel},v=t.selectAllDatasourcesRoot=(0,u.createSelector)(g,function(e){return e.allDatasources}),m=t.selectAllDatasources=(0,u.createSelector)(v,function(e){return r(e.datasources,"n")}),b=t.selectAllDatasourcesFilter=(0,u.createSelector)(v,function(e){return e.filter}),y=t.selectAllAddedDataSources=(0,u.createSelector)([g,f.selectWorkSpaceSourceTables],function(e,t){var i=e.datasources.map(function(e){var i=e.id,n=e.tables;return t[i]&&t[i].length&&(n=n.map(function(e){return(0,l.default)({},e,{used:t[i].some(function(t){return t.name===e.name&&t.namespace===e.ns})})})),(0,l.default)({},e,{tables:n.map(function(e){return(0,l.default)({},e,{pending:e.pending||0})})})});return r(i,"name")}),w=t.selectFilter=(0,u.createSelector)(g,function(e){return e.filter}),x=(t.selectFilteredDataSources=(0,u.createSelector)([y,w,f.selectWorkSpaceSourceTables],function(e,t,i){var n=e.filter(function(e){return t.dsId==-1||!t.dsId||t.dsId===e.id}).filter(function(e){return t.tableFilteringStatus!==p.DERIVED||e.type===c.DBTYPES.DERIVED_TABLES.v}).map(function(e){var i=e.tables;return t.searchPattern&&(i=i.filter(function(e){return e.name.toUpperCase().indexOf(t.searchPattern.toUpperCase())>-1})),(0,l.default)({},e,{tables:i})}).map(function(e){var i=e.tables,n=t.tableFilteringStatus;return i=i.filter(function(t){switch(n){case p.USED:return t.used&&e.type!==c.DBTYPES.DERIVED_TABLES.v;case p.UNUSED:return!t.used;default:return!0}}),(0,l.default)({},e,{tables:i})}).filter(function(e){return e.tables.length});return r(n,"name")}),t.selectAllDataSourceTypes=(0,u.createSelector)(m,function(e){var t={};(0,o.default)(c.DBTYPES).forEach(function(e){t[c.DBTYPES[e].v]=c.DBTYPES[e].n});var i=e.map(function(e){var i=t[e.dbtp];return{v:e.dbtp,n:i}}).filter(function(e){return e.n});return r(h.default.uniqBy(i,"v"),"n")}),t.selectAllDataSourceTypesFiltered=(0,u.createSelector)(m,b,function(e,t){var i=t.searchPattern,n=t.dstp;return e.filter(function(e){return n===-1||!n||e.dbtp===n}).filter(function(e){return!i||e.n.toUpperCase().indexOf(i.toUpperCase())>-1})}),t.selectTabs=(0,u.createSelector)(g,function(e){return e.tabs}));t.selectActiveTabKey=(0,u.createSelector)(x,function(e){return e.activeTab})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(30),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=i(8),_=n(E);i(1837);var A=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.enabled,n=t.className,r=t.type,o=t.onClick,l=t.children,u=t.htmlType,c=(0,s.default)(t,["enabled","className","type","onClick","children","htmlType"]),d=(0,_.default)("mstr-as-button",n,r,i?"":"disabled"),h=o&&i?{onClick:o}:{};return y.default.createElement("button",(0,a.default)({},c,{type:u,className:d},h,{ref:function(t){return e.domNode=t}}),l)}},{key:"focus",value:function(){this.domNode.focus()}}]),t}(y.default.Component);t.default=A,A.TYPES={PRIMARY:"primary",SECONDARY:"secondary"},A.propTypes={children:x.default.node,className:x.default.string,onClick:x.default.func,enabled:x.default.bool,type:x.default.oneOf([A.TYPES.PRIMARY,A.TYPES.SECONDARY]),htmlType:x.default.string},A.defaultProps={type:A.TYPES.SECONDARY,enabled:!0,onClick:function(){},className:"",htmlType:"button"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.TYPE_VALUES={BINARY:"binary",DECIMAL:"decimal",STRING:"string",LONG:"long",INTEGER:"integer",SHORT:"short",BYTE:"byte",FLOAT:"float",DOUBLE:"double",BOOLEAN:"boolean",DATE:"date",TIMESTAMP:"timestamp",TIME:"time",CALENDAR_INTERVAL:"calendarInterval"};t.default=[{text:"Text",value:i.STRING},{text:"Long",value:i.LONG},{text:"Integer",value:i.INTEGER},{text:"Short",value:i.SHORT},{text:"Double",value:i.DOUBLE},{text:"Date",value:i.DATE},{text:"Date Time",value:i.TIMESTAMP},{text:"Time",value:i.TIME},{text:"Big Decimal",value:i.DECIMAL},{text:"Boolean",value:i.BOOLEAN}].sort(function(e,t){return e.text>t.text?1:-1})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t,i,n){var r=n?[{type:"addFilters",workspaceId:e,pipelineId:t,tableId:i,filters:n}]:[{type:"addFilters",pipelineId:t,tableId:i}];return w.post("/manipulations",r)}function o(e,t,i,n,r,a,o,s,l){if(t&&i&&n&&r.length>0){for(var u="/derivedtables/"+s+"/joins",c=[],d=0;d<r.length;d++){var h=r[d];c.push({leftColumnId:h.lColumnId,rightColumnId:h.rColumnId})}var f={type:"applyJoin",joinType:a,workspaceId:e,pipelineId:t,leftTableId:i,rightTableId:n,joinColumnList:c};return s&&(f.tableGroupId=s),w.put(u,f)}}function s(e,t,i,n,r){if(i&&n){var a=u(e,t,i,"join",r);return w.post("/derivedtables",a)}}function l(e,t,i,n){var r="/derivedtables/"+i,a={type:"editTableGroup",workspaceId:e,pipelineId:t,groupType:n};return w.put(r,a).then(function(e){if(e&&e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE)return e})}function u(e,t,i,n,r){var a=i||[],o={type:"addTableGroup",workspaceId:e,pipelineId:t,groupType:n,tables:a};return r&&(o.name=r),o}function c(e){if("undefined"!=typeof mstrmojo&&mstrmojo){var t=mstrmojo.DI.DIConstants,i=[t.dataSourceType.SALESFORCE,t.dataSourceType.GOOGLE_DRIVE,t.dataSourceType.GOOGLE_ANALYTICS,t.dataSourceType.GOOGLE_BIGQUERY,t.dataSourceType.DROPBOX];return i.indexOf(e)>-1}return!1}function d(e,t){var i=(0,P.getAllState)().dpState.tableList,n=i?i.filter(function(t){return e.indexOf(t.id)>-1&&t.datasource&&("fileLocal"===t.datasource.type&&t.fileAvailable===!1||c(t.datasource.type)&&t.isOAuthMissing===!0)&&"undefined"!=typeof mstrmojo&&mstrmojo}):[];return!(n.length>0)||D.default.openRefreshFileDialog(n,function(e){switch((0,P.dispatchAction)((0,L.updateTableStatus)(e)),t){case j.JOIN_MODE.NEW_JOIN:(0,P.dispatchAction)((0,R.toggleJoinPanel)(t));break;case"previewTable":var i=n[0];i&&(0,B.previewTable)(i.id,null,i.pipelineId,null)}})}function h(e,t,i,n,r,a){if(d(i),i&&n){var o=u(e,t,i,N.TABLE_OPERATION.UNION,a);return A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!0),r&&(o.groupType=N.TABLE_OPERATION.UNION_ALL),w.post("/derivedtables",o).then(function(i){if(i&&i.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE){var a=i.tableGroup;if(A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph){var o=_.pipelineManager.getNewPipelineName(t,n);(0,T.editPipeline)(e,t,o).then(function(e){e&&e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE&&_.pipelineManager.mergePipelines(t,n,a,o)})}else A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.EDIT&&_.pipelineManager.pipelineVisual.pegraph&&_.pipelineManager.addDerivedTable(a.id,n,r?N.TABLE_OPERATION.UNION_ALL:N.TABLE_OPERATION.UNION,a,t,a.name)}}).catch(function(e){(0,S.openNotification)("Union Error",e.message),A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!1)})}}function f(e,t,i,n,r){if(d(i),i&&n){var a=u(e,t,i,N.TABLE_OPERATION.DIFF,r);return A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!0),w.post("/derivedtables",a).then(function(i){if(i&&i.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE){var r=i.tableGroup;if(A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph){var a=_.pipelineManager.getNewPipelineName(t,n);(0,T.editPipeline)(e,t,a).then(function(e){e&&e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE&&_.pipelineManager.mergePipelines(t,n,r,a)})}else A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.EDIT&&_.pipelineManager.pipelineVisual.pegraph&&_.pipelineManager.addDerivedTable(r.id,n,N.TABLE_OPERATION.DIFF,r,t,r.name)}}).catch(function(e){(0,S.openNotification)("Diff Error",e.message),A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!1)})}}function p(e,t,i,n,r){if(d(i),i&&n){var a=u(e,t,i,N.TABLE_OPERATION.INTERSECTION,r);
return A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!0),w.post("/derivedtables",a).then(function(i){if(i&&i.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE){var r=i.tableGroup;if(A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph){var a=_.pipelineManager.getNewPipelineName(t,n);(0,T.editPipeline)(e,t,a).then(function(e){e&&e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE&&_.pipelineManager.mergePipelines(t,n,r,a)})}else A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.EDIT&&_.pipelineManager.pipelineVisual.pegraph&&_.pipelineManager.addDerivedTable(r.id,n,N.TABLE_OPERATION.INTERSECTION,r,t,r.name)}}).catch(function(e){(0,S.openNotification)("Intersect Error",e.message),A.workspaceManager.currentWorkspaceMode===N.WORKSPACE_MODE.OVERVIEW&&_.pipelineManager.pipelineVisual.graph&&_.pipelineManager.pipelineVisual.graph.setNodesInProgress(n,!1)})}}function g(e,t,i){if(_.pipelineManager.pipelineVisual.pegraph){var n=_.pipelineManager.pipelineVisual.pegraph.getNode(t);if(n){var r=0===n.inedges.length,a=(r||i?"/tables/":"/derivedtables/")+n.data.id,o={workspaceId:e,pipelineId:n.sessionId};return w.del(a,o).then(function(e){if(e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE&&e.tableId)return n.id})}}}function v(e,t,i,n){var r="/tables/list",a={workspaceId:e,delAllChildren:n,tables:[]};return i&&i.forEach(function(i){a.tables.push({workspaceId:e,pipelineId:t,tableId:i})}),w.del(r,a).then(function(e){if(e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE){var t=[];return e.responses&&e.responses.length>0&&e.responses.forEach(function(e){e.status===M.SERVICE_RESPONSE_TYPE_IMMEDIATE&&t.push(e.tableId)}),t}console.log(e)}).catch(function(e){(0,S.openNotification)("Error in removing tables",e.message)})}function m(e,t,i,n,r){if(i&&i.length>0){for(var a=[],o=0;o<i.length;o++){var s,l=i[o],u=l.name,c=l.datasource,d=l.ns,h=l.requestId,f=c,p=c.type;switch(p){case C.DBTYPES.AMAZON_REDSHIFT.v:s={dbRoleId:f.id,namespace:d};break;case C.DBTYPES.LOCALFILE.v:case C.DBTYPES.URL.v:s={dbRoleId:f.id,url:l.url,type:l.type,sheetIndex:l.sheetIndex,fileName:l.fileName,namespace:d};break;case C.DBTYPES.GOOGLE_ANALYTICS.v:s={dbRoleId:f.id,url:l.url,accountId:l.account_id};break;case C.DBTYPES.GOOGLE_DRIVE.v:case C.DBTYPES.SALESFORCE.v:case C.DBTYPES.DROPBOX.v:s={dbRoleId:f.id,url:l.url,accountId:l.account_id,sheetIndex:l.sheetIndex};break;case C.DBTYPES.GOOGLE_BIGQUERY.v:s={dbRoleId:f.id,accountId:l.account_id,namespace:l.ns};break;default:s=s={dbRoleId:f.id,namespace:d}}s&&l&&l.accountId&&(s.accountId=l.accountId),s&&l&&l.sql&&(s.sql=l.sql),s&&(s.databaseType=p,a.push({type:"addTable",pipelineId:t,datasource:s,tableName:u,requestId:h}))}if(a.length){for(var g=0;g<a.length;g++){var v=a[g],m=H.dataSouceColorPallette.dataTypeColorPalette[a[g].datasource.databaseType];_.pipelineManager.addTempTableNode(v.tableName,v.requestId,n,t,m)}var b={clientId:A.workspaceManager.currentClientId,workspaceId:e,sourceTables:a};return E.post("/sourcetables/list",b,r)}}}function b(e,t,i,n){var r="/derivedtables/"+e,a={type:"renameDerivedTable",workspaceId:t,pipelineId:i,name:n};return w.put(r,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.addFilters=a,t.addJoinOperation=o,t.joinTables=s,t.updateTableManipulation=l,t.isOAuthSource=c,t.tableRefreshStatusCheck=d,t.unionTables=h,t.diffTables=f,t.intersectTables=p,t.removeTable=g,t.removeFinalTables=v,t.addSourceTables=m,t.renameDerivedTable=b;var y=i(86),w=r(y),x=i(384),E=r(x),_=i(85),A=i(20),C=i(48),S=i(154),T=i(133),I=i(132),D=n(I),O=i(87),M=r(O),k=i(184),N=r(k),P=i(29),L=i(52),R=i(114),F=i(47),j=r(F),B=i(148),H=i(150);i(38)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){mstrApp.rootController||(mstrApp.rootController=new mstrmojo.DI.DIRootController({dataService:new mstrmojo.DI.DIDataService,oAuthController:new mstrmojo.DI.controller.DIOAuthController,navigationController:new mstrmojo.DI.DINavigationController,model:new mstrmojo.DI.DIModel({id:"DIModel"+(new Date).getTime(),workspaceId:mstrAppSchema.workspaceManager.initialWorkspaceId,importSources:{}}),rootView:new mstrmojo.Box}),mstrApp.diParams={isSparkCube:!0},e&&(mstrApp.rootController.model.operationMode=e),mstrApp.rootController.model.populateExternalSources())}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=n(a);t.initDIController=r;var s=i(86),l=i(112),u=i(529),c="mstr-dda"+(new Date).getTime(),d="mstr-publish"+(new Date).getTime(),h="mstr-confirm-save"+(new Date).getTime();t.default={exitApp:function(){mstrAppSchema&&mstrAppSchema.close()},openDataImport:function(){var e=mstrmojo.AS.DIActions;return e.openDataImport()},openDBTableList:function(e){var t=mstrmojo.AS.DIActions;return t.openDBTableList(e)},openHadoopTableList:function(e){var t=mstrmojo.AS.DIActions;return t.openHadoopTableList(e)},openFFSQL:function(e){var t=mstrmojo.AS.DIActions;return t.openFFSQL(e)},openHadoopFFSQL:function(e){var t=mstrmojo.AS.DIActions;return t.openHadoopFFSQL(e)},getDBRoles:function(){var e="undefined"!=typeof mstrApp&&mstrApp?mstrApp.disabledSources||[]:[];return(0,s.task)("arch.getDBRoles",{sessionState:mstrAppSchema.sessionState}).then(function(t){return(0,o.default)({},t,{dbRoles:t.dbRoles.filter(function(t){return e.indexOf(t.dbtp)<0})})})},openDDAConfirm:function(e){var t=mstrmojo.all[c];t||(t=new mstrmojo.DI.ui.dialogs.DIDirectAccessConfirmDialog({handleContinue:function(i){e(i&&i.dda),t.close()}})),t.open()},closeMojoPublishDialog:function(){var e=mstrmojo.all[d];e&&e.close()},openMojoPublishDialog:function(e,t,i,n,a,o,s){var c=mstrmojo.all[d],h=void 0,f=void 0;o&&o.serverPublishInfo&&(h=o.serverPublishInfo.forceFullPublish,f=o.serverPublishInfo.ignoreAll),!f&(0,u.hasUnavailableTable)(o)?(t=l.REFRESH,r(l.REFRESH)):r(),c||(c=new mstrmojo.AS.DIPublishAppSchemaEditor({id:d,cubeName:e,operationMode:t,cubeId:n,items:o,messageID:i,publishCube:a,simpleProgressMode:f,forceFullPublish:h,closeAppSchema:s})),c.open()},updatePublishStatus:function(e){window.mstrmojo.all[d]&&window.mstrmojo.all[d].updatePublishStatus&&window.mstrmojo.all[d].updatePublishStatus(e)},setMsgIdToMojoPublishDialog:function(e){mstrmojo.all[d].set("messageID",e)},openSaveConfirm:function(e,t){var i=mstrmojo.all[h];i||(i=new mstrmojo.DI.DIConfirmSaveEditor({onDonotSave:t,onSave:e})),i.open()},onMojoPublishDialogFinish:function(e,t){window.mstrmojo.all[d]&&window.mstrmojo.all[d].finishPublish&&window.mstrmojo.all[d].finishPublish(e,t)},openRefreshFileDialog:function(e,t){mstrApp.rootController&&mstrApp.rootController instanceof mstrmojo.DI.DIRootController||r(l.REFRESH);var i=new mstrmojo.AS.DIAppSchemaRefreshFileEditor({onOpen:function(){var t=[],i=[],n=[];this.postData=[],e.forEach(function(e,r,a){var o={name:e.tableName,isSubNode:!1,isDerivedTable:!1,tableId:e.id,pipelineId:e.pipelineId,fileId:e.datasource.fileId,sheetIndex:e.datasource.sheetIndex,sourceType:e.datasource.type};t.push(o),n.push(o);var s={name:e.tableName,isSubNode:!0,tableId:e.id,pipelineId:e.pipelineId,fileId:e.datasource.fileId,sheetIndex:e.datasource.sheetIndex,sourceType:e.datasource.type};t.push(s),i.push(s)}),this.sourceData={fileData:i,tableData:n},this.localFileList.set("items",t)},callback:t});i.open()}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){var e={userId:v.workspaceManager.getUserId(),mstrSessionState:(0,y.getSessionState)(),mstrIdToken:(0,y.getIdToken)()};return g.post("/workspaces",e)}function a(e){return g.get("/workspaces/"+e)}function o(e,t){var i={workspace_id:e};return g.get("/pipelines/"+t,i)}function s(e){var t={workspaceId:e};return g.post("/pipelines",t)}function l(e,t){var i={workspaceId:e};return t&&(i.name=t),g.post("/pipelines",i)}function u(e,t,i){var n="/workspaces/"+e,r={workspaceId:e,pipelineId:t,requestId:v.workspaceManager.generateRequestId(),tables:i};return g.patch(n,r)}function c(e,t,i){var n="/pipelines/"+t,r={workspaceId:e,pipelineId:t,name:i};return g.put(n,r)}function d(e,t,i){var n="/pipelines/"+t+"/isCached",r={workspaceId:e,pipelineId:t,isCached:i};return g.put(n,r)}function h(e,t){var i="/pipelines/"+t,n={type:"deleteDataSession",workspaceId:e,pipelineId:t};return g.del(i,n)}function f(e,t,i,n,r,a){var o="/workspaces/"+e+"/join-data-previews",s=[];r.forEach(function(e){if(e.leftCol&&e.rightCol){var t={};t.leftColumnId=e.leftCol,t.rightColumnId=e.rightCol,t.requiredData=!0,s.push(t)}});var l={requestId:v.workspaceManager.generateRequestId(),joinType:t,leftTableId:i,rightTableId:n,joinColumnList:s,facetRequired:!1};return b.post(o,l,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.initWorkspace=r,t.getWorkspaceDefinition=a,t.getPipelineDefinition=o,t.initPipeline=s,t.createPipeline=l,t.moveTables=u,t.editPipeline=c,t.setPipelineCache=d,t.removePipeline=h,t.previewJoinDataService=f;var p=i(86),g=n(p),v=i(20),m=i(384),b=n(m),y=i(374)},,,function(e,t,i){var n=i(36)("unscopables"),r=Array.prototype;void 0==r[n]&&i(70)(r,n,{}),e.exports=function(e){r[n][e]=!0}},[2338,168,25,69,42,24],,,,,[2314,1750],,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OBJECT_ROW="OBJECT_ROW"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectTableColumnSelection=t.selectColumnNameObjectIdMap=t.selectObjectIdColumnMap=t.selectObjects=t.selectedEditingCell=t.selectSelecetdText=t.selectDataGrid=void 0;var r=i(28),a=n(r),o=i(82),s=i(15),l=n(s),u=i(22),c=i(60),d=i(217),h=t.selectDataGrid=(0,o.createSelector)(u.selectDataWranglerRoot,function(e){return e.grid}),f=(t.selectSelecetdText=(0,o.createSelector)(h,function(e){return e.selText}),t.selectedEditingCell=(0,o.createSelector)(h,function(e){return e.editCell}),t.selectObjects=function(e){return e.dmState.selectedObjects}),p=t.selectObjectIdColumnMap=(0,o.createSelector)(d.importSources,c.AllAttributesInMFA,c.selectedAttributes,c.selectedMetrics,function(e,t,i,n){var r=e.defn,a={},o={},s={},u={};if(r){var c=function(e){return r.objects&&r.objects.column&&r.objects.column.filter(function(t){return e.filter(function(e){return e.columnId===t.id}).length>0}).map(function(t){var i=e.find(function(e){return e.columnId===t.id});return{columnName:t.columnName,tableId:i.tableId,formName:i.formName}})};r.objects&&r.objects.attribute&&r.objects.attribute.forEach(function(e){var n=[];r.objects.table.forEach(function(i){if(i.attributes&&i.attributes.filter(function(t){return t.objectId===e.id}).length>0){var a=i.attributes.find(function(t){return t.objectId===e.id});a&&a.attributeForms&&(n=n.concat(a.attributeForms.map(function(n){var a=void 0;if(e.forms.length>1){a=l.default.get(t,e.id+"."+i.id+"."+n.objectId);var o=l.default.get(a,"formName",""),d=l.default.get(a,"name",""),h=[{columnId:n.expression.columnId}];s[e.name+c(h)[0].columnName]=d+"@"+o}var f=r.objects.dbTable.find(function(e){return e.id===i.dbTable}).sparkDef.finalTableId;return u[f]=i.id,{columnId:n.expression.columnId,tableId:f,formName:a?a.formName:void 0}})))}});var d=i.find(function(t){return t.id===e.id});d&&(a[d.id]=c(n),o[d.id]={name:d.name,type:d.type,isLinked:d.isLinked})}),r.objects&&r.objects.metric&&r.objects.metric.forEach(function(e){var t=[];r.objects.table.forEach(function(i){var n=i.metrics&&i.metrics.find(function(t){return t.objectId===e.id});if(n){var a=r.objects.dbTable.find(function(e){return e.id===i.dbTable}).sparkDef.finalTableId;u[a]=i.id,t.push({columnId:n.expression.columnId,tableId:a})}});var i=n.find(function(t){return t.id===e.id});i&&(a[i.id]=c(t),o[i.id]={name:i.name,type:i.type,isLinked:i.isLinked})})}return{objectIdColumnMap:a,objectIdObjectMap:o,objectColumnFormMap:s,tableIdMap:u}});t.selectColumnNameObjectIdMap=(0,o.createSelector)(p,function(e){var t=e.objectIdColumnMap,i=e.objectIdObjectMap,n=e.objectColumnFormMap,r=e.tableIdMap,o={};return(0,a.default)(t).forEach(function(e){t[e].forEach(function(t){o[t.tableId+t.columnName]=e})}),{columnNameObjectIdMap:o,objectIdObjectMap:i,objectColumnFormMap:n,tableIdMap:r}}),t.selectTableColumnSelection=(0,o.createSelector)(f,p,function(e,t){var i=t.objectIdColumnMap,n=e.selectedAttributes.map(function(e){return e.id}).concat(e.selectedMetrics.map(function(e){return e.id})),r=n.map(function(e){return i[e]}),a=[];r.forEach(function(e){a=a.concat(e)});var o={};return a.forEach(function(e){e&&(o[e.tableId]||(o[e.tableId]=[]),o[e.tableId].find(function(t){return t===e.columnName})||o[e.tableId].push(e.columnName))}),o})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectFilterTime=exports.selectFacetData=exports.selectActiveTabKey=exports.selectCurrentWranglerStatus=exports.selectFormattedHistory=exports.selectHistory=exports.selectRecommendations=exports.selectTabs=exports.selectPanelOpened=exports.selectTabsPanel=void 0;var _extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2),_reselect=__webpack_require__(82),_selectors=__webpack_require__(22),_dwHelpers=__webpack_require__(149),selectTabsPanel=exports.selectTabsPanel=(0,_reselect.createSelector)(_selectors.selectDataWranglerRoot,function(e){return e.panel}),selectPanelOpened=exports.selectPanelOpened=(0,_reselect.createSelector)(selectTabsPanel,function(e){return e.opened}),selectTabs=exports.selectTabs=(0,_reselect.createSelector)(selectTabsPanel,function(e){return e.tabs}),selectRecommendations=exports.selectRecommendations=(0,_reselect.createSelector)(selectTabsPanel,function(e){return e.recommendations}),selectHistory=exports.selectHistory=(0,_reselect.createSelector)(_selectors.selectPreviewTableOperationsList,function(history){return history.map(function(op){return(0,_extends3.default)({},op,{frontendInfo:op.frontendInfo?eval("("+op.frontendInfo+")"):void 0})})}),selectFormattedHistory=exports.selectFormattedHistory=(0,_reselect.createSelector)(selectHistory,function(e){return e.map(function(e){return(0,_extends3.default)({},e,{frontendInfo:e.frontendInfo?(0,_dwHelpers.transform4ReduxStore)(e.frontendInfo):{name:"MTDICube",description:e.description||""}})})}),selectCurrentWranglerStatus=exports.selectCurrentWranglerStatus=(0,_reselect.createSelector)(selectFormattedHistory,function(e){return!!e.length&&!e.every(function(e){return e.disabled})}),selectActiveTabKey=exports.selectActiveTabKey=(0,_reselect.createSelector)(selectTabs,function(e){return e.activeTab}),selectFacetData=exports.selectFacetData=(0,_reselect.createSelector)(selectTabsPanel,function(e){return e.facetData}),selectFilterTime=exports.selectFilterTime=(0,_reselect.createSelector)(selectFacetData,function(e){return e.filterTime})},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){N.evictKey(e)}function o(e){(0,w.dispatchAction)((0,x.updateTablePreviewMap)({tableId:e,tablePreviewResult:N.get(e)})),(0,w.dispatchAction)((0,x.updatePreviewTableId)(e))}function s(e,t,i,n){var r=v.workspaceManager.initialWorkspaceId;if(e){u(e);var a=N.get(e);return a.dataPreviewFacet={},a.timestamp=Date.now().toString(),a.dpWorkerCount=0,a.delayedResults=[],a.sortedDelayedResult=[],a.previewHeader=null,d(r,i,e).then(function(t){if(t&&t.status===b.SERVICE_RESPONSE_TYPE_IMMEDIATE){v.workspaceManager.currentPreviewRequestId=t.requestId;try{var i=t.results[1];a.originalHeader=i.header,a.previewHeader=l(i.header,null,e),a.options={};var n=(0,A.transformRows)(i,a.previewHeader);a.previewResult.splice(0),[].push.apply(a.previewResult,n),o(e)}catch(t){console.dir(t),u(e),(0,w.dispatchAction)((0,y.showErrorDialog)("No Data",t.message))}}else t&&t.status===b.SERVICE_RESPONSE_TYPE_DELAYED?v.workspaceManager.currentPreviewRequestId=t.requestId:t&&t.status===b.SERVICE_RESPONSE_DO_NOTHING||(0,w.dispatchAction)((0,y.showErrorDialog)("Error in Getting Preview",t.message))}).catch(function(e){return e.sessionExpired||(0,w.dispatchAction)((0,y.showErrorDialog)("Error in Getting Preview",e.message)),g.default.reject(new Error(e))})}}function l(e,t,i){for(var n=function(t){return e.filter(function(e){return e.name===t})[0].datatype},r=function(e){return e?"linked":""},a=[],o=0;o<e.length;o++){var s,l;"object"===(0,f.default)(e[o])?(s=e[o].name,l=e[o].datatype?e[o].datatype:""):s=e[o];var u=[];if((0,w.getAllState)().dpState.showObjectInfoHeader&&!(0,w.getAllState)().dataWrangler.opts.showWrangler){var c=(0,C.selectColumnNameObjectIdMap)((0,w.getAllState)()),d=c.columnNameObjectIdMap,h=c.objectIdObjectMap,p=c.objectColumnFormMap,g=h[d[i+s]]||{},v=p[g.name+s];u.push({text:"<div class='grid-column-header'><div class='table-header-text col-name-row'><div class='header-data-type-icon "+n(s)+"'></div><div class='text-wrapper '>"+_.default.escape(s)+"</div><div class='header-menu-button '></div></div><div class='table-header-text object-row'><div class='header-object-icon "+g.type+"'></div><div class='text-wrapper object-type "+r(g.isLinked)+"'>"+_.default.escape(v?v:g.name)+"</div><div class='header-object-icon "+r(g.isLinked)+"'><id></div></div></div>",height:46})}else u.push({text:"<div class='grid-column-header'><div class='table-header-text col-name-row'><div class='header-data-type-icon "+n(s)+"'></div><div class='text-wrapper '>"+_.default.escape(s)+"</div><div class='header-menu-button '></div></div></div>",height:26});u.push({content:P,elId:i+"_column"+o,colname:s,height:86});var m={id:s,type:l,header:u,width:S.gridColumnWidth,facetId:i+"_column"+o};a.push(m)}return a}function u(e){N.put(e,{previewHeader:[],previewResult:[],sortedDelayedResult:[],workerCount:0})}function c(e){if(e&&e.results){var t=e.results[0],i=e.tableId,n=N.get(i);n.originalHeader=t.header,n.previewHeader=null!==n.previewHeader&&n.previewHeader.length>0?n.previewHeader:l(t.header,null,i),n.options=null!=n.options?n.options:{};var r=(0,A.transformRows)(t,n.previewHeader);if([].push.apply(n.previewResult,r),0===n.workerCount&&o(i),n.sortedDelayedResult[e.workerNodeId]=r,n||(n.workerCount=0),++n.workerCount,console.log(e.totalWorkerNodes+" "+e.workerNodeId+" "+r.length+" rows"),e.totalWorkerNodes===n.workerCount){n.previewResult.splice(0);for(var a=0;a<=n.workerCount;++a)[].push.apply(n.previewResult,n.sortedDelayedResult[a]);n.timestamp=Date.now().toString(),N.put(i,n),o(i)}}}function d(e,t,i){var n=!0;try{n=(0,D.tableRefreshStatusCheck)([i],"previewTable")}catch(e){n=!1,console.log("error occur during checking table refresh status")}if(n){var r="/tables/"+i+"/previews",a={type:"previewTable",previewTypes:["sql","data","schema"],pipelineId:t,workspaceId:e,requestId:v.workspaceManager.generateRequestId()};return M.post(r,a,c)}return g.default.resolve({status:b.SERVICE_RESPONSE_DO_NOTHING})}Object.defineProperty(t,"__esModule",{value:!0}),t.tablePreviewMap=void 0;var h=i(35),f=r(h),p=i(155),g=r(p);t.evictTableCache=a,t.previewTable=s,t.createDatagridHeaders=l,t.previewTableService=d;var v=i(20),m=i(87),b=n(m),y=i(38),w=i(29),x=i(52),E=i(15),_=r(E),A=i(116),C=i(146),S=i(186),T=i(1188),I=r(T),D=i(131),O=i(384),M=n(O),k=function(e){console.log("evict callback! "+e),(0,w.dispatchAction)((0,x.updateTablePreviewMap)({tableId:e,tablePreviewResult:null}))},N=t.tablePreviewMap=new I.default(null,2e8,k),P="previewFacetContainer"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){(0,Z.dispatchAction)((0,U.setActiveTab)(e))}function a(){return(0,te.selectCurrentPreviewTableId)((0,Z.getAllState)())}function o(e){j.mbde.dwWebixEvent.forEach(function(e){F.webix.eventRemove(e)}),j.mbde.dwTableEvent.forEach(function(t){(0,F.$$)(e).detachEvent(t)}),j.mbde.dwTableEvent=[],j.mbde.dwWebixEvent=[],(0,F.$$)(e).enableListener=!1}function s(e){var t=(0,F.$$)(e),i=t.getNode().getElementsByClassName("webix_ss_body")[0],n=t.getNode().getElementsByClassName("webix_ss_header")[0],a=$.default.debounce(function(e,t,i){x("onItemClick",e,t,i)},20),o=$.default.debounce(function(e){var i=(0,ee.getColumnName)(e,n);i&&x("onItemClick",t,{column:i},e)},20);t.enableListener||(t.enableListener=!0,j.mbde.dwTableEvent.push(t.attachEvent("onItemClick",function(e,t){r(V.RECOMMENDATION_TAB_KEY),a(this,e,t)})),j.mbde.dwWebixEvent.push(F.webix.event(n,"click",function(e){var t=(0,Y.default)(e.target).closest(".preview-facet-container",n);t&&t.length>0||(r(V.RECOMMENDATION_TAB_KEY),o(e))})),j.mbde.dwWebixEvent.push(F.webix.event(n,"dblclick",function(e){var t=(0,Y.default)(e.target).closest(".grid-column-header",n).find(".text-wrapper");1===t.length&&(l(t),console.log("header double click DW"))})),j.mbde.dwTableEvent.push(t.attachEvent("onItemDblClick",function(e,t){console.log("mouse double click DW"),x("onItemDblClick",this,e,t)})),j.mbde.dwWebixEvent.push(F.webix.event(i,F.webix.env.mouse.down,function(e){re.textSelected=null})),j.mbde.dwWebixEvent.push(F.webix.event(i,F.webix.env.mouse.up,function(e){2!==e.button&&(x("onmouseup",t,t.locate(e.srcElement),e),(0,Y.default)(e.srcElement).hasClass("webix_cell")&&!(0,Y.default)(document.body).hasClass("webix_noselect")&&e.stopPropagation())})))}function l(e){var t=e.text();e.attr("contentEditable",!0).on("keypress",function(e){13===e.which&&e.preventDefault()}).on("keyup",function(i){u(e,t,i)}).on("blur",function(i){c(e,t,i)}).focus().selText()}function u(e,t,i){if(13===i.which||27===i.which){if(!e.attr("contentEditable"))return;d(e),13===i.which?f(e,t,i):w(e,t)}}function c(e,t,i){e.attr("contentEditable")&&(d(e),t!==e.text()&&f(e,t,i))}function d(e){e.removeAttr("contentEditable").off()}function h(){ne.workspaceManager.updateWorkspaceDefinition(ne.workspaceManager.initialWorkspaceId);var e=(0,te.currentPreviewTableMetadata)((0,Z.getAllState)());ne.workspaceManager.removeCacheRecursively((0,Z.getAllState)(),e.parentTgId)}function f(e,t){return(0,X.executeTransform)((0,X.newTransform)("set_name",{column:[t],names:[e.text()]})).then(h).catch(function(){return w(e,t)})}function p(e){return(0,X.executeTransform)((0,X.newTransform)("drop",{column:e})).then(h)}function g(e){return(0,X.executeTransform)((0,X.newTransform)("keepColumns",{column:e})).then(h)}function v(e,t){return(0,X.executeTransform)((0,X.newTransform)("set_type",{column:e,types:t})).then(h)}function m(e){return(0,X.executeTransform)((0,X.newTransform)("filter",{src:"Facet",filter:(0,R.default)(e)}))}function b(e,t){var i=e.columnName,n=e.from;return(0,X.executeTransform)((0,X.newTransform)("mass_edit",{columnName:i,from:n,to:t})).then(h)}function y(e,t){var i=e.col,n=e.row;return(0,X.executeTransform)((0,X.newTransform)("single_edit",{col:i,row:n,to:t})).then(h)}function w(e,t){e.text(t)}function x(e,t,i,n){if("onItemClick"===e){if(console.log("user interaction item click"),t.selectingTextFlag)return void(t.selectingTextFlag=!1);A(),re.cellDblClick=!1,re.textSelected=null,re.row_id=-1,re.columnId=(0,ee.idColumnCheck)(t.getSelectedId(!0,!0),a())}else if("onmouseup"===e){if(window.getSelection&&!window.getSelection().isCollapsed&&(t.selectingTextFlag=!0,re.textSelected=Y.default.extend(!0,{},window.getSelection())),window.getSelection().isCollapsed||window.getSelection().anchorNode!=window.getSelection().extentNode)return void window.getSelection().empty();var r=t.locate(re.textSelected.anchorNode.parentElement);if(!r)return;re.cellDblClick=!1,re.row_id=r.rind,re.columnId=(0,ee.idColumnCheck)([r.column],a()),E(re.textSelected),(0,Z.dispatchAction)((0,z.setHighlightedText)({row:r.rind,column:re.columnId,rowWebix:r.row,columnWebix:r.column,startOffset:re.textSelected.anchorOffset,endOffset:re.textSelected.extentOffset})),document.body.addEventListener("mouseup",A)}else"onItemDblClick"===e&&(A(),(0,Z.dispatchAction)((0,z.toggleEditCell)(!0,i.column,(0,Y.default)(n.target),(0,Y.default)(n.target).text())))}function E(e){if(e.anchorOffset>e.extentOffset){var t=e.extentOffset;e.extentOffset=e.anchorOffset,e.anchorOffset=t}}function _(){var e=window.getSelection?window.getSelection():document.selection;e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}function A(e){Y.default.isEmptyObject((0,ie.selectSelecetdText)((0,Z.getAllState)()))||(e&&e.srcElement&&("INPUT"===e.srcElement.tagName||e.srcElement.hasAttribute("contenteditable"))||_(),e&&e.srcElement&&(0,Y.default)(e.srcElement).closest(".ignore-clear-text-selection").length||((0,Z.dispatchAction)((0,z.setHighlightedText)({})),document.body.removeEventListener("mouseup",A)))}function C(e){T(e,!1)}function S(e){e&&T(e,!0)}function T(e,t){var i,n="object"===(0,P.default)(e.func)&&null!==e.func?e.func:W.transformMenuList.find(function(t){return t.text==e.func}),r=n.func.toLowerCase().split(" "),a=r[0]||"",o=r[1]||"",s=r[2]||"",l="",u=H.default[a],c=e.cols||[],d=[];if(e.col)for(var h=0;h<c.length;h++)d.push(e.col["col"+h]);if("function"==typeof u){if("set_name"===a||"set_type"===a){if(t)return;i=u(d,e.para1)}else i=u(d);if(void 0==e.para2){if(i.hasOwnProperty("_"+o)){if("update_method"===o)s=s.toUpperCase(),l=e.para1,i["_"+o]=s,s.includes("PAD")&&(i._pad=l);else{var f=e.para1_input?e.para1_input:e.para1;i.isRegExp=!1,"Regex"===e.para1&&(i.isRegExp=!0),i["_"+o]=void 0==e.para1?s:f}i._on=void 0==i._on?/.*/:i._on}}else if(n.paraText.length>1&&"After"===n.paraText[0]){if("Regex"===e.para1^"Regex"===e.para2)return(0,Q.openNotification)("Parameters of split between function must be all regex or all string");i.isRegExp="Regex"===e.para1,i._after=e.para1_input?e.para1_input:e.para1,i._before=e.para2_input?e.para2_input:e.para2,i._on=/.*/}else i.hasOwnProperty("_positions")&&(i._positions=[e.para1,e.para2]);if(t){if("function"==typeof i.apply){for(var p=["_on","_before","_after"],g=0;g<p.length;g++){var v=p[g];if(i.isRegExp||"string"!=typeof i[v]||(i[v]=i[v].replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")),i.isRegExp&&"string"==typeof i[v])try{new RegExp(i[v])}catch(e){return}}B.AllExports.preview(i)}}else{for(var m=["_on","_before","_after"],b=0;b<m.length;b++){var y=m[b];if(i.isRegExp&&"string"==typeof i[y])try{i[y]=new RegExp(i[y])}catch(e){(0,Q.openNotification)("Wrong regular expression")}}B.AllExports.execute_transform(i)}}else console.log("Other functions: "+u)}function I(e,t){var i=I.canvas||(I.canvas=document.createElement("canvas")),n=i.getContext("2d");n.font=t||"normal 13px Helvetica";var r=n.measureText(e);return r.width}function D(e){return e.map(O).filter(function(e){return(0,k.default)(X.SupportedTransforms).indexOf(e.name)>-1})}function O(e){var t={};for(var i in e)e.hasOwnProperty(i)&&"_"===i.charAt(0)&&"function"!=typeof e[i]&&(t[i.substr(1)]=e[i]);return t.name=e.name,t.transform=e,t}Object.defineProperty(t,"__esModule",{value:!0});var M=i(28),k=n(M),N=i(35),P=n(N),L=i(53),R=n(L);t.dwTableListenerRemove=o,t.dwTableListener=s,t.enableHeaderRename=l,t.submitRemoveColumn=p,t.submitKeepColumns=g,t.submitChangeDataType=v,t.submitFilterExpression=m,t.submitApplyToAll=b,t.submitApplyToCell=y,t.userInteraction=x,t.clearTextSelectionUI=_,t.clearTextSelection=A,t.wranglerFormApply=C,t.wranglerFormPreview=S,t.wranglerFormFunc=T,t.getTextWidth=I,t.transform4Render=D,t.transform4ReduxStore=O;var F=i(115),j=i(276),B=i(222),H=n(B),V=i(113),U=i(183),W=i(1191),z=i(263),G=i(15),$=n(G),q=i(26),Y=n(q),J=i(1895),K=n(J),X=i(267),Q=i(154),Z=i(29),ee=i(357),te=i(22),ie=i(146),ne=(i(116),i(20)),re={};Y.default.fn.selText=function(e){var t=this[0];if(K.default.msie){var i=t.offsetParent.createTextRange();i.moveToElementText(t),i.select()}else if(K.default.webkit||K.default.mozilla||K.default.opera){var n=t.ownerDocument.defaultView.getSelection(),i=t.ownerDocument.createRange();e&&t.childNodes&&t.childNodes[0]?(i.setStart(t.childNodes[0],e.startOffset),i.setEnd(t.childNodes[0],e.endOffset)):i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i)}else if(K.default.safari){var n=t.ownerDocument.defaultView.getSelection();n.setBaseAndExtent(t,0,t,1)}return this}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dataSouceColorPallette=void 0;var r=i(12),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=function(){function e(){var t;(0,s.default)(this,e),this.genericColorPalette={tableColor:"#00B8ED",backgroundColor:"#7FDBF6"},this.dataTypeColorPalette=(t={3500:{tableColor:"#000000",backgroundColor:"#7F7F7F"},2800:{tableColor:"#000000",backgroundColor:"#7F7F7F"}},(0,a.default)(t,"3500",{tableColor:"#000000",backgroundColor:"#7F7F7F"}),(0,a.default)(t,"7000",{tableColor:"#003F7E",backgroundColor:"#7F9FBE"}),(0,a.default)(t,"8000",{tableColor:"#F37327",backgroundColor:"#F9B993"}),(0,a.default)(t,"7800",{tableColor:"#205B99",backgroundColor:"#8FADCC"}),(0,a.default)(t,"4200",{tableColor:"#205B99",backgroundColor:"#8FADCC"}),(0,a.default)(t,"7100",{tableColor:"#9ECDDE",backgroundColor:"#CEE6EE"}),(0,a.default)(t,"3100",{tableColor:"#EDDF24",backgroundColor:"#F6EF91"}),(0,a.default)(t,"6600",{tableColor:"#000000",backgroundColor:"#7F7F7F"}),(0,a.default)(t,"2300",{tableColor:"#951B28",backgroundColor:"#CA8D93"}),(0,a.default)(t,"7700",{tableColor:"#21CE5C",backgroundColor:"#90E6AD"}),(0,a.default)(t,"6500",{tableColor:"#5CE400",backgroundColor:"#ADF17F"}),(0,a.default)(t,"4300",{tableColor:"#EF5049",backgroundColor:"#F7A7A4"}),(0,a.default)(t,"4500",{tableColor:"#0077D8",backgroundColor:"#7FBAEB"}),(0,a.default)(t,"3800",{tableColor:"#4DA31A",backgroundColor:"#A6D18C"}),(0,a.default)(t,"3600",{tableColor:"#ED7324",backgroundColor:"#F6B991"}),(0,a.default)(t,"1400",{tableColor:"#34C496",backgroundColor:"#99E1CA"}),(0,a.default)(t,"5800",{tableColor:"#3C5A99",backgroundColor:"#9DACCC"}),(0,a.default)(t,"8200",{tableColor:"#34C496",backgroundColor:"#99E1CA"}),(0,a.default)(t,"7700",{tableColor:"#21CE5C",backgroundColor:"#90E6AD"}),(0,a.default)(t,"4600",{tableColor:"#F19104",backgroundColor:"#F8C881"}),(0,a.default)(t,"4700",{tableColor:"#548DF0",backgroundColor:"#A9C6F7"}),(0,a.default)(t,"4400",{tableColor:"#03A85A",backgroundColor:"#80D3AC"}),(0,a.default)(t,"2400",{tableColor:"#00B286",backgroundColor:"#7FD8C2"}),(0,a.default)(t,"700",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"700",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"700",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"400",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"400",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"1300",{tableColor:"#464646",backgroundColor:"#A2A2A2"}),(0,a.default)(t,"4100",{tableColor:"#832778",backgroundColor:"#C193BB"}),(0,a.default)(t,"3900",{tableColor:"#FF7D00",backgroundColor:"#FFBE7F"}),(0,a.default)(t,"7300",{tableColor:"#CA0828",backgroundColor:"#E48393"}),(0,a.default)(t,"6700",{tableColor:"#000000",backgroundColor:"#7F7F7F"}),(0,a.default)(t,"1500",{tableColor:"#F1AF00",backgroundColor:"#F8D77F"}),(0,a.default)(t,"300",{tableColor:"#F1AF00",backgroundColor:"#F8D77F"}),(0,a.default)(t,"5200",{tableColor:"#498327",backgroundColor:"#A3C193"}),(0,a.default)(t,"1700",{tableColor:"#0C76A2",backgroundColor:"#85BAD0"}),(0,a.default)(t,"9800",{tableColor:"#FE8C00",backgroundColor:"#FEC57F"}),(0,a.default)(t,"200",{tableColor:"#ED2213",backgroundColor:"#F69089"}),(0,a.default)(t,"200",{tableColor:"#ED2213",backgroundColor:"#F69089"}),(0,a.default)(t,"5100",{tableColor:"#30B1F8",backgroundColor:"#97D7FB"}),(0,a.default)(t,"6800",{tableColor:"#F24A23",backgroundColor:"#F8A491"}),(0,a.default)(t,"6400",{tableColor:"#832778",backgroundColor:"#C193BB"}),(0,a.default)(t,"6900",{tableColor:"#17394B",backgroundColor:"#8B9CA5"}),(0,a.default)(t,"1800",{tableColor:"#316091",backgroundColor:"#98AFC8"}),(0,a.default)(t,"7200",{
tableColor:"#000000",backgroundColor:"#7F7F7F"}),(0,a.default)(t,"1200",{tableColor:"#1870C5",backgroundColor:"#8BB7E2"}),(0,a.default)(t,"4000",{tableColor:"#1870C5",backgroundColor:"#8BB7E2"}),(0,a.default)(t,"2600",{tableColor:"#1870C5",backgroundColor:"#8BB7E2"}),(0,a.default)(t,"2700",{tableColor:"#1870C5",backgroundColor:"#8BB7E2"}),(0,a.default)(t,"3300",{tableColor:"#0099D4",backgroundColor:"#7FCBE9"}),(0,a.default)(t,"7600",{tableColor:"#17BEEC",backgroundColor:"#8BDEF5"}),(0,a.default)(t,"41",{tableColor:"#D35116",backgroundColor:"#E8A88A"}),(0,a.default)(t,"900",{tableColor:"#FC7C26",backgroundColor:"#FDBD92"}),(0,a.default)(t,"5700",{tableColor:"#1DA1F2",backgroundColor:"#8ED0F8"}),(0,a.default)(t,"5500",{tableColor:"#FFC74F",backgroundColor:"#FFE2A7"}),(0,a.default)(t,"7900",{tableColor:"#FF9661",backgroundColor:"#FFCAB0"}),(0,a.default)(t,"7500",{tableColor:"#0099D8",backgroundColor:"#7FCCEB"}),(0,a.default)(t,"5600",{tableColor:"#4485F5",backgroundColor:"#A1C2FA"}),(0,a.default)(t,"5300",{tableColor:"#D92433",backgroundColor:"#EC9199"}),(0,a.default)(t,"6200",{tableColor:"#3CBEB1",backgroundColor:"#9DDED8"}),(0,a.default)(t,"-2",{tableColor:"#909193",backgroundColor:"#7FDBF6"}),t)}return(0,u.default)(e,[{key:"getTableIconColor",value:function(e){var t=this.dataTypeColorPalette[e];return t?t.tableColor:this.genericColorPalette.tableColor}},{key:"getTableBackgroundColor",value:function(e){var t=this.dataTypeColorPalette[e];return t?t.backgroundColor:this.genericColorPalette.backgroundColor}}]),e}();t.dataSouceColorPallette=new c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(181),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(253);var b=i(1),y=n(b),w=i(5),x=n(w),E=i(26),_=n(E),A=i(372),C=n(A),S=i(1279),T=n(S),I=i(1278),D=n(I);i(1843);var O=function(e){function t(){var e,i,n,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=n=(0,g.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),M.call(n),r=i,(0,g.default)(n,r)}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:"mstr-menu-wrapper"},y.default.createElement(a.default,(0,s.default)({className:"mstr-as-menu",selectable:!1,onOpenChange:this.onOpenChangeWrapper},this.props),this.props.children))}}]),t}(y.default.Component),M=function(){var e=this;this.onOpenChangeWrapper=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=e.props.onSubMenuChange;r&&r(i),e.subMenuPopupVerticalAlign()},this.subMenuPopupVerticalAlign=function(){var e=(0,_.default)(".ant-menu-submenu.ant-menu-submenu-popup:not(.ant-menu-submenu-hidden)");e.length&&e.offset().top+e.height()>window.innerHeight&&e.css({top:window.innerHeight-e.height()})}};t.default=O,O.Item=T.default,O.SubMenu=C.default,O.Divider=D.default,O.propTypes={onSubMenuChange:x.default.func}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1287),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(572),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.openNotification=void 0;var r=i(500),a=n(r);i(974);t.openNotification=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";a.default[i]({style:{maxHeight:"200px",overflowY:"scroll",wordWrap:"break-word"},message:e,description:t})}},function(e,t,i){e.exports={default:i(1396),__esModule:!0}},,,function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},[2327,89,621,411,17,43,428],function(e,t){e.exports=!1},[2342,17,627,407,419,406,409],[2347,629,407],[2350,629,407],230,function(e,t,i){var n=i(71);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},function(e,t,i){"use strict";var n=i(19),r=i(42),a=i(41),o=i(36)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},[2361,103],286,,39,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.manipulateModel=void 0;var r=i(272),a=i(38),o=i(20),s=i(227),l=i(84),u=i(60),c=i(15),d=n(c),h=(t.manipulateModel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please wait...",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.workspaceManager.initialWorkspaceId,n=arguments[3];return function(o,u){if(e.length){var c=u().dmState.importSources.id;return(0,r.delayToggleLoading)(!0,t),n||(n=function(e){return o((0,a.showErrorDialog)(e.message,e.errorMessage)),!1}),(0,s.patchDataModel)(i,c,e).then(function(e){return(0,r.delayToggleLoading)(!1),e.modelInstance&&(o((0,l.setImportSource)(e.modelInstance)),h(e.modelInstance.defn.highlightedObjects,o,u)),!0}).catch(function(e){(0,r.delayToggleLoading)(!1),n(e)})}}},function(e,t,i){var n=[],r=[];if(e&&e.attribute){var a=(0,u.selectedAttributes)(i());n=d.default.filter(a,function(t){return d.default.findIndex(e.attribute,function(e){return e===t.id})>=0})}if(t((0,l.setSelectAttributesOnPanel)(n)),e&&e.metric){var o=(0,u.selectedMetrics)(i());r=d.default.filter(o,function(t){return d.default.findIndex(e.metric,function(e){return e===t.id})>=0})}t((0,l.setSelectMetricsOnPanel)(r))})},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{type:f.SET_TABLE_PANEL_ACTIVE_TAB,activeTab:e}}function o(e){return{type:f.SET_DW_RECOMMENDATIONS,recommendations:e}}function s(e){return function(t,i){(0,g.setAllDWHistory)((0,p.selectHistory)(i()).map(function(t,i){return(0,d.default)({},t,{disabled:e<i})}))}}function l(){return function(e,t){(0,g.setAllDWHistory)((0,p.selectHistory)(t()).filter(function(e){return!e.disabled}))}}function u(){return function(e,t){(0,g.setAllDWHistory)((0,p.selectHistory)(t()).map(function(e){return(0,d.default)({},e,{disabled:!0})}))}}Object.defineProperty(t,"__esModule",{value:!0});var c=i(7),d=r(c);t.setActiveTab=a,t.setDWRecommendations=o,t.splitDisabledHistory=s,t.clearDisabledHistory=l,t.disableAllHistory=u;var h=i(364),f=n(h),p=i(147),g=i(382)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WORKSPACE_MODE={OVERVIEW:"overview",EDIT:"edit"},t.TABLE_OPERATION={UNION:"union",UNION_ALL:"unionAll",DIFF:"diff",INTERSECTION:"intersection",JOIN:"join",INNER_JOIN:"innerJoin",LEFT_JOIN:"leftJoin",RIGHT_JOIN:"rightJoin",FULL_JOIN:"fullJoin"},t.TABLE_OPERATION_NAME={UNION:"Union",UNION_ALL:"Union All",DIFF:"Difference",INTERSECTION:"Intersect",JOIN:"Join",EDIT_JOIN:"Edit Join",DELETE:"Delete",RENAME:"Rename",WRANGLE:"Wrangle",EDIT_PIPELINE:"Edit Pipeline"},t.GAP_BETWEEN_NODES=120,t.NODE_LOCATION={CLIENT_DEFAULT:{clientX:300,clientY:100},LOCAL_DEFAULT:{x:50,y:50}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(180),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(251);var b=i(1),y=n(b),w=i(13),x=n(w),E=i(5),_=n(E),A=i(650),C=n(A),S=i(26),T=n(S);i(1839);var I=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.handleCXMVisibleChange=function(e){i.setState({cxmVisible:e})},i.state={cxmVisible:!1,mouseX:0,mouseY:0,cxmX:0,cxmY:0},i.scrollHideHandler=i.scrollHideHandler.bind(i),i.onContextMenu=i.onContextMenu.bind(i),i.handleCXMVisibleChange=i.handleCXMVisibleChange.bind(i),i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"onContextMenu",value:function(e){this.props.canActivate&&!this.props.canActivate(e)||this.setState({cxmVisible:!0,mouseX:e.clientX,mouseY:e.clientY})}},{key:"scrollHideHandler",value:function(){this.setState({cxmVisible:!1});var e=this.props.getScrollHideTargetNode?this.props.getScrollHideTargetNode():void 0;e.removeEventListener("scroll",this.scrollHideHandler,!0)}},{key:"render",value:function(){var e=this,t=this,i=this.props,n=i.children,r=i.menu,o=i.getScrollHideTargetNode,l=this.state,u=l.mouseX,c=l.mouseY,d=l.cxmVisible,h=[],f=["click"],p=o?o():void 0;return p&&d&&p.addEventListener("scroll",this.scrollHideHandler,!0),y.default.createElement("div",{style:{height:"100%"},onContextMenu:this.onContextMenu},y.default.createElement(a.default,{ref:function(e){t.dropdown=e},overlay:y.default.createElement("div",{onClick:function(){e.handleCXMVisibleChange(!1)}},r.props&&r.props.children.length>0?r:null),overlayClassName:"mstr-as-cxm",trigger:h,onVisibleChange:this.handleCXMVisibleChange,visible:d,minOverlayWidthMatchTrigger:!1,hideAction:f,onPopupAlign:function(t,i){var n=(0,T.default)(x.default.findDOMNode(e)),r=(0,T.default)(t).width(),a=(0,T.default)(t).height();(0,C.default)(t,n[0],(0,s.default)({},i,{points:["tl","bl"],offset:[u-n.offset().left,c-n.offset().top-n.height()]}));var o=r+u>window.innerWidth,l=a+c>window.innerHeight;if(o||l){var d=l?c-a:c,h=o?u-r:u;(0,C.default)(t,window,{points:["tl","tl"],overflow:{adjustX:0,adjustY:0},offset:[h,d],targetOffset:[0,0]})}}},n))}}]),t}(b.Component);t.default=I,I.propTypes={menu:_.default.element.isRequired,children:_.default.element.isRequired,canActivate:_.default.func,onContextMenu:_.default.func}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PANEL_VIEW_TREE="TREE",t.gridColumnWidth=180},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e)return e.map(function(e){var t={};for(var i in e)t[i]=p.default.escape(e[i]);return t})}function a(e,t){var i=Math.pow(10,t||0);return String(Math.round(e*i)/i)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TODO_fdjasokfewqur9-321rejoewjfi",i=JSON.parse((0,h.default)(e.header)),n=(0,c.default)({},e,{header:i,data:e.data});return n.header&&n.data&&n.header.forEach(function(e){if(e.originalId=e.id,"id"===e.id){var i="id_"+t;return e.id=i,n.data.forEach(function(e){e[i]=e.id,delete e.id}),!0}}),n}function s(e){return e=(0,c.default)({},e,{data:r(e.data)})}function l(e,t){for(var i=[],n=0;n<e.length;n++)p.default.forOwn(e[n],function(e,n){var r=p.default.toString(e);n===t&&i.indexOf(r)<0&&""!==r&&i.push(r)});return i}Object.defineProperty(t,"__esModule",{value:!0});var u=i(7),c=n(u),d=i(53),h=n(d);t.previewHTMLEncode=r,t.toFixed=a,t.resolveWebixIdForGrid=o,t.encodeGridData=s,t.getEditCellSuggest=l;var f=i(15),p=n(f)},,,function(e,t,i){!function(t,i){e.exports=i()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function i(e,i){return t(e).appendChild(i)}function n(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)r.appendChild(t[a]);return r}function r(e,t,i,r){var a=n(e,t,i,r);return a.setAttribute("role","presentation"),a}function a(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function o(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,i){var n=t.className;e(i).test(n)||(t.className+=(n?" ":"")+i)}function l(t,i){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!e(n[r]).test(i)&&(i+=" "+n[r]);return i}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,i){t||(t={});for(var n in e)!e.hasOwnProperty(n)||i===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function d(e,t,i,n,r){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var a=n||0,o=r||0;;){var s=e.indexOf("\t",a);if(s<0||s>=t)return o+(t-a);o+=s-a,o+=i-o%i,a=s+1}}function h(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}function f(e,t,i){for(var n=0,r=0;;){var a=e.indexOf("\t",n);a==-1&&(a=e.length);var o=a-n;if(a==e.length||r+o>=t)return n+Math.min(o,t-r);if(r+=a-n,r+=i-r%i,n=a+1,r>=t)return n}}function p(e){for(;Jo.length<=e;)Jo.push(g(Jo)+" ");return Jo[e]}function g(e){return e[e.length-1]}function v(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function m(e,t,i){for(var n=0,r=i(t);n<e.length&&i(e[n])<=r;)n++;e.splice(n,0,t)}function b(){}function y(e,t){var i;return Object.create?i=Object.create(e):(b.prototype=e,i=new b),t&&c(t,i),i}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ko.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function E(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function _(e){return e.charCodeAt(0)>=768&&Xo.test(e)}function A(e,t,i){for(;(i<0?t>0:t<e.length)&&_(e.charAt(t));)t+=i;return t}function C(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var r=(t+i)/2,a=n<0?Math.ceil(r):Math.floor(r);if(a==t)return e(a)?t:i;e(a)?i=a:t=a+n}}function S(e,t,i){var a=this;this.input=i,a.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=r("div",null,"CodeMirror-code"),a.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=n("div",null,"CodeMirror-cursors"),a.measure=n("div",null,"CodeMirror-measure"),a.lineMeasure=n("div",null,"CodeMirror-measure"),a.lineSpace=r("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var o=r("div",[a.lineSpace],"CodeMirror-lines");a.mover=n("div",[o],null,"position: relative"),a.sizer=n("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=n("div",null,null,"position: absolute; height: "+zo+"px; width: 1px;"),a.gutters=n("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=n("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=n("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),wo&&xo<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),Eo||vo&&Mo||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,i.init(a)}function T(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],a=r.chunkSize();if(t<a){i=r;break}t-=a}return i.lines[t]}function I(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var a=e.text;r==i.line&&(a=a.slice(0,i.ch)),r==t.line&&(a=a.slice(t.ch)),n.push(a),++r}),n}function D(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function O(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function M(e){if(null==e.parent)return null;for(var t=e.parent,i=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function k(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],a=r.height;if(t<a){e=r;continue e}t-=a,i+=r.chunkSize()}return i}while(!e.lines);for(var o=0;o<e.lines.length;++o){var s=e.lines[o],l=s.height;if(t<l)break;t-=l}return i+o}function N(e,t){return t>=e.first&&t<e.first+e.size}function P(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function L(e,t,i){return void 0===i&&(i=null),this instanceof L?(this.line=e,this.ch=t,void(this.sticky=i)):new L(e,t,i)}function R(e,t){return e.line-t.line||e.ch-t.ch}function F(e,t){return e.sticky==t.sticky&&0==R(e,t)}function j(e){return L(e.line,e.ch)}function B(e,t){return R(e,t)<0?t:e}function H(e,t){return R(e,t)<0?e:t}function V(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return L(e.first,0);var i=e.first+e.size-1;return t.line>i?L(i,T(e,i).text.length):W(t,T(e,t.line).text.length)}function W(e,t){var i=e.ch;return null==i||i>t?L(e.line,t):i<0?L(e.line,0):e}function z(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=U(e,t[n]);return i}function G(){Qo=!0}function $(){Zo=!0}function q(e,t,i){this.marker=e,this.from=t,this.to=i}function Y(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function J(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function K(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function X(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var a=e[r],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!i||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(n||(n=[])).push(new q(o,a.from,l?null:a.to))}}return n}function Q(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var a=e[r],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!i||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(n||(n=[])).push(new q(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return n}function Z(e,t){if(t.full)return null;var i=N(e,t.from.line)&&T(e,t.from.line).markedSpans,n=N(e,t.to.line)&&T(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,a=t.to.ch,o=0==R(t.from,t.to),s=X(i,r,o),l=Q(n,a,o),u=1==t.text.length,c=g(t.text).length+(u?r:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var f=Y(l,h.marker);f?u&&(h.to=null==f.to?null:f.to+c):h.to=r}}if(l)for(var p=0;p<l.length;++p){var v=l[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=Y(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=ee(s)),l&&l!=s&&(l=ee(l));var b=[s];if(!u){var y,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new q(s[x].marker,null,null));for(var E=0;E<w;++E)b.push(y);b.push(l)}return b}function ee(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function te(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&h(n,i)!=-1||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],a=0;a<n.length;++a)for(var o=n[a],s=o.find(0),l=0;l<r.length;++l){var u=r[l];if(!(R(u.to,s.from)<0||R(u.from,s.to)>0)){var c=[l,1],d=R(u.from,s.from),f=R(u.to,s.to);(d<0||!o.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!o.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),r.splice.apply(r,c),l+=c.length-3}}return r}function ie(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function re(e){return e.inclusiveLeft?-1:0}function ae(e){return e.inclusiveRight?1:0}function oe(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),a=R(n.from,r.from)||re(e)-re(t);if(a)return-a;var o=R(n.to,r.to)||ae(e)-ae(t);return o?o:t.id-e.id}function se(e,t){var i,n=Zo&&e.markedSpans;if(n)for(var r=void 0,a=0;a<n.length;++a)r=n[a],r.marker.collapsed&&null==(t?r.from:r.to)&&(!i||oe(i,r.marker)<0)&&(i=r.marker);return i}function le(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,t,i,n,r){var a=T(e,t),o=Zo&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var u=l.marker.find(0),c=R(u.from,i)||re(l.marker)-re(r),d=R(u.to,n)||ae(l.marker)-ae(r);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?R(u.to,i)>=0:R(u.to,i)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?R(u.from,n)<=0:R(u.from,n)<0)))return!0}}}function de(e){for(var t;t=le(e);)e=t.find(-1,!0).line;return e}function he(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function fe(e){for(var t,i;t=ue(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}function pe(e,t){var i=T(e,t),n=de(i);return i==n?t:M(n)}function ge(e,t){if(t>e.lastLine())return t;var i,n=T(e,t);if(!ve(e,n))return t;for(;i=ue(n);)n=i.find(1,!0).line;return M(n)+1}function ve(e,t){var i=Zo&&t.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if(n=i[r],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&me(e,t,n))return!0}}function me(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return me(e,n.line,Y(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r=void 0,a=0;a<t.markedSpans.length;++a)if(r=t.markedSpans[a],r.marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&me(e,t,r))return!0}function be(e){e=de(e);for(var t=0,i=e.parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var a=i.parent;a;i=a,a=i.parent)for(var o=0;o<a.children.length;++o){var s=a.children[o];if(s==i)break;t+=s.height}return t}function ye(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=le(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=ue(n);){var a=t.find(0,!0);i-=n.text.length-a.from.ch,n=a.to.line,i+=n.text.length-a.to.ch}return i}function we(e){var t=e.display,i=e.doc;t.maxLine=T(i,i.first),t.maxLineLength=ye(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=ye(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}function xe(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,a=0;a<e.length;++a){var o=e[a];(o.from<i&&o.to>t||t==i&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,i),1==o.level?"rtl":"ltr",a),r=!0)}r||n(t,i,"ltr")}function Ee(e,t,i){var n;es=null;for(var r=0;r<e.length;++r){var a=e[r];if(a.from<t&&a.to>t)return r;a.to==t&&(a.from!=a.to&&"before"==i?n=r:es=r),a.from==t&&(a.from!=a.to&&"before"!=i?n=r:es=r)}return null!=n?n:es}function _e(e,t){var i=e.order;return null==i&&(i=e.order=ts(e.text,t)),i}function Ae(e,t){return e._handlers&&e._handlers[t]||is}function Ce(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,r=n&&n[t];if(r){var a=h(r,i);a>-1&&(n[t]=r.slice(0,a).concat(r.slice(a+1)))}}}function Se(e,t){var i=Ae(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function Te(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Se(e,i||t.type,e,t),Ne(t)||t.codemirrorIgnore}function Ie(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(i,t[n])==-1&&i.push(t[n])}function De(e,t){return Ae(e,t).length>0}function Oe(e){e.prototype.on=function(e,t){ns(this,e,t)},e.prototype.off=function(e,t){Ce(this,e,t)}}function Me(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function ke(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ne(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Pe(e){Me(e),ke(e)}function Le(e){return e.target||e.srcElement}function Re(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ko&&e.ctrlKey&&1==t&&(t=3),t}function Fe(e){if(null==Uo){var t=n("span","​");i(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Uo=t.offsetWidth<=1&&t.offsetHeight>2&&!(wo&&xo<8))}var r=Uo?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function je(e){if(null!=Wo)return Wo;var n=i(e,document.createTextNode("AخA")),r=Ro(n,0,1).getBoundingClientRect(),a=Ro(n,1,2).getBoundingClientRect();return t(e),!(!r||r.left==r.right)&&(Wo=a.right-r.right<3)}function Be(e){if(null!=ls)return ls;var t=i(e,n("span","x")),r=t.getBoundingClientRect(),a=Ro(t,0,1).getBoundingClientRect();return ls=Math.abs(r.left-a.left)>1}function He(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),us[e]=t}function Ve(e,t){cs[e]=t}function Ue(e){if("string"==typeof e&&cs.hasOwnProperty(e))e=cs[e];else if(e&&"string"==typeof e.name&&cs.hasOwnProperty(e.name)){var t=cs[e.name];"string"==typeof t&&(t={name:t}),e=y(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=Ue(t);var i=us[t.name];if(!i)return We(e,"text/plain");var n=i(e,t);if(ds.hasOwnProperty(t.name)){var r=ds[t.name];for(var a in r)r.hasOwnProperty(a)&&(n.hasOwnProperty(a)&&(n["_"+a]=n[a]),n[a]=r[a])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n}function ze(e,t){var i=ds.hasOwnProperty(e)?ds[e]:ds[e]={};c(t,i)}function Ge(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function $e(e,t){for(var i;e.innerMode&&(i=e.innerMode(t),i&&i.mode!=e);)t=i.state,e=i.mode;return i||{mode:e,state:t}}function qe(e,t,i){return!e.startState||e.startState(t,i)}function Ye(e,t,i,n){var r=[e.state.modeGen],a={};it(e,t.text,e.doc.mode,i,function(e,t){return r.push(e,t)},a,n);for(var o=i.state,s=function(n){i.baseTokens=r;var s=e.state.overlays[n],l=1,u=0;i.state=!0,it(e,t.text,s.mode,i,function(e,t){for(var i=l;u<e;){var n=r[l];n>e&&r.splice(l,1,e,r[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)r.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var a=r[i+1];r[i+1]=(a?a+" ":"")+"overlay "+t}},a),i.state=o,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:a.bgClass||a.textClass?a:null}}function Je(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ke(e,M(t)),r=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,n.state),a=Ye(e,t,n);r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ke(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return new ps(n,!0,t);var a=nt(e,t,i),o=a>n.first&&T(n,a-1).stateAfter,s=o?ps.fromSaved(n,o,a):new ps(n,qe(n.mode),a);return n.iter(a,t,function(i){Xe(e,i.text,s);var n=s.line;i.stateAfter=n==t-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?s.save():null,s.nextLine()}),i&&(n.modeFrontier=s.line),s}function Xe(e,t,i,n){var r=e.doc.mode,a=new hs(t,e.options.tabSize,i);for(a.start=a.pos=n||0,""==t&&Qe(r,i.state);!a.eol();)Ze(r,a,i.state),a.start=a.pos}function Qe(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=$e(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Ze(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=$e(e,i).mode);var a=e.token(t,i);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function et(e,t,i,n){var r,a=e.doc,o=a.mode;t=U(a,t);var s,l=T(a,t.line),u=Ke(e,t.line,i),c=new hs(l.text,e.options.tabSize,u);for(n&&(s=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,r=Ze(o,c,u.state),n&&s.push(new gs(c,r,Ge(a.mode,u.state)));return n?s:new gs(c,r,u.state)}function tt(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+i[2])}return e}function it(e,t,i,n,r,a,o){var s=i.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,d=new hs(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&tt(Qe(i,n.state),a);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&Xe(e,t,n,d.pos),d.pos=t.length,l=null):l=tt(Ze(i,d,n.state,h),a),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<d.start;)u=Math.min(d.start,u+5e3),r(u,c);c=l}d.start=d.pos}for(;u<d.pos;){var p=Math.min(d.pos,u+5e3);r(p,c),u=p}}function nt(e,t,i){for(var n,r,a=e.doc,o=i?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=T(a,s-1),u=l.stateAfter;if(u&&(!i||s+(u instanceof fs?u.lookAhead:0)<=a.modeFrontier))return s;var c=d(l.text,null,e.options.tabSize);(null==r||n>c)&&(r=s-1,n=c)}return r}function rt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var r=T(e,n).stateAfter;if(r&&(!(r instanceof fs)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}}function at(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ie(e),ne(e,i);var r=n?n(e):1;r!=e.height&&O(e,r)}function ot(e){e.parent=null,ie(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?ys:bs;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function lt(e,t){var i=r("span",null,null,Eo?"padding-right: .1px":null),n={pre:r("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(wo||Eo)&&e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var o=a?t.rest[a-1]:t.line,s=void 0;n.pos=0,n.addToken=ct,je(e.display.measure)&&(s=_e(o,e.doc.direction))&&(n.addToken=ht(n.addToken,s)),n.map=[];var u=t!=e.display.externalMeasured&&M(o);pt(o,n,Je(e,o,u)),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=l(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=l(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Fe(e.display.measure))),0==a?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Eo){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Se(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=l(n.pre.className,n.textClass||"")),n}function ut(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,i,r,a,o,s){if(t){var l,u=e.splitSpaces?dt(t,e.trailingSpace):t,c=e.cm.state.specialChars,d=!1;if(c.test(t)){l=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var f=c.exec(t),g=f?f.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));wo&&xo<9?l.appendChild(n("span",[v])):l.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!f)break;h+=g+1;var m=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;
m=l.appendChild(n("span",p(y),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?(m=l.appendChild(n("span","\r"==f[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",f[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(f[0]),m.setAttribute("cm-text",f[0]),wo&&xo<9?l.appendChild(n("span",[m])):l.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),wo&&xo<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),i||r||a||d||s){var w=i||"";r&&(w+=r),a&&(w+=a);var x=n("span",[l],w,s);return o&&(x.title=o),e.content.appendChild(x)}e.content.appendChild(l)}}function dt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var a=e.charAt(r);" "!=a||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(a=" "),n+=a,i=" "==a}return n}function ht(e,t){return function(i,n,r,a,o,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=i.pos,c=u+n.length;;){for(var d=void 0,h=0;h<t.length&&(d=t[h],!(d.to>u&&d.from<=u));h++);if(d.to>=c)return e(i,n,r,a,o,s,l);e(i,n.slice(0,d.to-u),r,a,null,s,l),a=null,n=n.slice(d.to-u),u=d.to}}}function ft(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,i){var n=e.markedSpans,r=e.text,a=0;if(n)for(var o,s,l,u,c,d,h,f=r.length,p=0,g=1,v="",m=0;;){if(m==p){l=u=c=d=s="",h=null,m=1/0;for(var b=[],y=void 0,w=0;w<n.length;++w){var x=n[w],E=x.marker;"bookmark"==E.type&&x.from==p&&E.widgetNode?b.push(E):x.from<=p&&(null==x.to||x.to>p||E.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),E.className&&(l+=" "+E.className),E.css&&(s=(s?s+";":"")+E.css),E.startStyle&&x.from==p&&(c+=" "+E.startStyle),E.endStyle&&x.to==m&&(y||(y=[])).push(E.endStyle,x.to),E.title&&!d&&(d=E.title),E.collapsed&&(!h||oe(h.marker,E)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(y)for(var _=0;_<y.length;_+=2)y[_+1]==m&&(u+=" "+y[_]);if(!h||h.from==p)for(var A=0;A<b.length;++A)ft(t,0,b[A]);if(h&&(h.from||0)==p){if(ft(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var C=Math.min(f,m);;){if(v){var S=p+v.length;if(!h){var T=S>C?v.slice(0,C-p):v;t.addToken(t,T,o?o+l:l,c,p+T.length==m?u:"",d,s)}if(S>=C){v=v.slice(C-p),p=C;break}p=S,c=""}v=r.slice(a,a=i[g++]),o=st(i[g++],t.cm.options)}}else for(var I=1;I<i.length;I+=2)t.addToken(t,r.slice(a,a=i[I]),st(i[I+1],t.cm.options))}function gt(e,t,i){this.line=t,this.rest=fe(t),this.size=this.rest?M(g(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ve(e,t)}function vt(e,t,i){for(var n,r=[],a=t;a<i;a=n){var o=new gt(e.doc,T(e.doc,a),a);n=a+o.size,r.push(o)}return r}function mt(e){ws?ws.ops.push(e):e.ownsGroup=ws={ops:[e],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}function yt(e,t){var i=e.ownsGroup;if(i)try{bt(i)}finally{ws=null,t(i)}}function wt(e,t){var i=Ae(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);ws?n=ws.delayedCallbacks:xs?n=xs:(n=xs=[],setTimeout(xt,0));for(var a=function(e){n.push(function(){return i[e].apply(null,r)})},o=0;o<i.length;++o)a(o)}}function xt(){var e=xs;xs=null;for(var t=0;t<e.length;++t)e[t]()}function Et(e,t,i,n){for(var r=0;r<t.changes.length;r++){var a=t.changes[r];"text"==a?St(e,t):"gutter"==a?It(e,t,i,n):"class"==a?Tt(e,t):"widget"==a&&Dt(e,t,n)}t.changes=null}function _t(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),wo&&xo<8&&(e.node.style.zIndex=2)),e.node}function At(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var r=_t(t);t.background=r.insertBefore(n("div",null,i),r.firstChild),e.display.input.setUneditable(t.background)}}function Ct(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):lt(e,t)}function St(e,t){var i=t.text.className,n=Ct(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Tt(e,t)):i&&(t.text.className=i)}function Tt(e,t){At(e,t),t.line.wrapClass?_t(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function It(e,t,i,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=_t(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=_t(t),l=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(n("div",P(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],d=o.hasOwnProperty(c)&&o[c];d&&l.appendChild(n("div",[d],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Dt(e,t,i){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,r=void 0;n;n=r)r=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Mt(e,t,i)}function Ot(e,t,i,n){var r=Ct(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),Tt(e,t),It(e,t,i,n),Mt(e,t,n),t.node}function Mt(e,t,i){if(kt(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)kt(e,t.rest[n],t,i,!1)}function kt(e,t,i,r,a){if(t.widgets)for(var o=_t(i),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Nt(u,c,i,r),e.display.input.setUneditable(c),a&&u.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),wt(u,"redraw")}}function Nt(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Pt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!a(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),i(t.display.measure,n("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Lt(e,t){for(var i=Le(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Rt(e){return e.lineSpace.offsetTop}function Ft(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function jt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=i(e.measure,n("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,a={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(a.left)||isNaN(a.right)||(e.cachedPaddingH=a),a}function Bt(e){return zo-e.display.nativeBarWidth}function Ht(e){return e.display.scroller.clientWidth-Bt(e)-e.display.barWidth}function Vt(e){return e.display.scroller.clientHeight-Bt(e)-e.display.barHeight}function Ut(e,t,i){var n=e.options.lineWrapping,r=n&&Ht(e);if(!t.measure.heights||n&&t.measure.width!=r){var a=t.measure.heights=[];if(n){t.measure.width=r;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],u=o[s+1];Math.abs(l.bottom-u.bottom)>2&&a.push((l.bottom+u.top)/2-i.top)}}a.push(i.bottom-i.top)}}function Wt(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(M(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function zt(e,t){t=de(t);var n=M(t),r=e.display.externalMeasured=new gt(e.doc,t,n);r.lineN=n;var a=r.built=lt(e,r);return r.text=a.pre,i(e.display.lineMeasure,a.pre),r}function Gt(e,t,i,n){return Yt(e,qt(e,t),i,n)}function $t(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ci(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function qt(e,t){var i=M(t),n=$t(e,i);n&&!n.text?n=null:n&&n.changes&&(Et(e,n,i,wi(e)),e.curOp.forceUpdate=!0),n||(n=zt(e,t));var r=Wt(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Yt(e,t,i,n,r){t.before&&(i=-1);var a,o=i+(n||"");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ut(e,t.view,t.rect),t.hasHeights=!0),a=Xt(e,t,i,n),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:r?a.rtop:a.top,bottom:r?a.rbottom:a.bottom}}function Jt(e,t,i){for(var n,r,a,o,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(r=0,a=1,o="left"):t<l?(r=t-s,a=r+1):(u==e.length-3||t==l&&e[u+3]>t)&&(a=l-s,r=a-1,t>=l&&(o="right")),null!=r){if(n=e[u+2],s==l&&i==(n.insertLeft?"left":"right")&&(o=i),"left"==i&&0==r)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],o="left";if("right"==i&&r==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],o="right";break}return{node:n,start:r,end:a,collapse:o,coverStart:s,coverEnd:l}}function Kt(e,t){var i=Es;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var r=e.length-1;r>=0&&(i=e[r]).left==i.right;r--);return i}function Xt(e,t,i,n){var r,a=Jt(t.map,i,n),o=a.node,s=a.start,l=a.end,u=a.collapse;if(3==o.nodeType){for(var c=0;c<4;c++){for(;s&&_(t.line.text.charAt(a.coverStart+s));)--s;for(;a.coverStart+l<a.coverEnd&&_(t.line.text.charAt(a.coverStart+l));)++l;if(r=wo&&xo<9&&0==s&&l==a.coverEnd-a.coverStart?o.parentNode.getBoundingClientRect():Kt(Ro(o,s,l).getClientRects(),n),r.left||r.right||0==s)break;l=s,s-=1,u="right"}wo&&xo<11&&(r=Qt(e.display.measure,r))}else{s>0&&(u=n="right");var d;r=e.options.lineWrapping&&(d=o.getClientRects()).length>1?d["right"==n?d.length-1:0]:o.getBoundingClientRect()}if(wo&&xo<9&&!s&&(!r||!r.left&&!r.right)){var h=o.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+yi(e.display),top:h.top,bottom:h.bottom}:Es}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(f+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var b=m?v[m-1]:0,y=v[m],w={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:b,bottom:y};return r.left||r.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=p),w}function Qt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}function Zt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ei(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var i=0;i<e.display.view.length;i++)Zt(e.display.view[i])}function ti(e){ei(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ii(){return Ao&&Oo?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ni(){return Ao&&Oo?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ri(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=Pt(e.widgets[i]));return t}function ai(e,t,i,n,r){if(!r){var a=ri(t);i.top+=a,i.bottom+=a}if("line"==n)return i;n||(n="local");var o=be(t);if("local"==n?o+=Rt(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==n?0:ni());var l=s.left+("window"==n?0:ii());i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function oi(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=ii(),r-=ni();else if("local"==i||!i){var a=e.display.sizer.getBoundingClientRect();n+=a.left,r+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:r-o.top}}function si(e,t,i,n,r){return n||(n=T(e.doc,t.line)),ai(e,n,Gt(e,n,t.ch,r),i)}function li(e,t,i,n,r,a){function o(t,o){var s=Yt(e,r,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,ai(e,n,s,i)}function s(e,t,i){var n=l[t],r=1==n.level;return o(i?e-1:e,r!=i)}n=n||T(e.doc,t.line),r||(r=qt(e,n));var l=_e(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return o("before"==c?u-1:u,"before"==c);var d=Ee(l,u,c),h=es,f=s(u,d,"before"==c);return null!=h&&(f.other=s(u,h,"before"!=c)),f}function ui(e,t){var i=0;t=U(e.doc,t),e.options.lineWrapping||(i=yi(e.display)*t.ch);var n=T(e.doc,t.line),r=be(n)+Rt(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function ci(e,t,i,n,r){var a=L(e,t,i);return a.xRel=r,n&&(a.outside=!0),a}function di(e,t,i){var n=e.doc;if(i+=e.display.viewOffset,i<0)return ci(n.first,0,null,!0,-1);var r=k(n,i),a=n.first+n.size-1;if(r>a)return ci(n.first+n.size-1,T(n,a).text.length,null,!0,1);t<0&&(t=0);for(var o=T(n,r);;){var s=gi(e,o,r,t,i),l=ue(o),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;r=M(o=u.to.line)}}function hi(e,t,i,n){n-=ri(t);var r=t.text.length,a=C(function(t){return Yt(e,i,t-1).bottom<=n},r,0);return r=C(function(t){return Yt(e,i,t).top>n},a,r),{begin:a,end:r}}function fi(e,t,i,n){i||(i=qt(e,t));var r=ai(e,t,Yt(e,i,n),"line").top;return hi(e,t,i,r)}function pi(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function gi(e,t,i,n,r){r-=be(t);var a=qt(e,t),o=ri(t),s=0,l=t.text.length,u=!0,c=_e(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?mi:vi)(e,t,i,a,c,n,r);u=1!=d.level,s=u?d.from:d.to-1,l=u?d.to:d.from-1}var h,f,p=null,g=null,v=C(function(t){var i=Yt(e,a,t);return i.top+=o,i.bottom+=o,!!pi(i,n,r,!1)&&(i.top<=r&&i.left<=n&&(p=t,g=i),!0)},s,l),m=!1;if(g){var b=n-g.left<g.right-n,y=b==u;v=p+(y?0:1),f=y?"after":"before",h=b?g.left:g.right}else{u||v!=l&&v!=s||v++,f=0==v?"after":v==t.text.length?"before":Yt(e,a,v-(u?1:0)).bottom+o<=r==u?"after":"before";var w=li(e,L(i,v,f),"line",t,a);h=w.left,m=r<w.top||r>=w.bottom}return v=A(t.text,v,1),ci(i,v,f,m,n-h)}function vi(e,t,i,n,r,a,o){var s=C(function(s){var l=r[s],u=1!=l.level;return pi(li(e,L(i,u?l.to:l.from,u?"before":"after"),"line",t,n),a,o,!0)},0,r.length-1),l=r[s];if(s>0){var u=1!=l.level,c=li(e,L(i,u?l.from:l.to,u?"after":"before"),"line",t,n);pi(c,a,o,!0)&&c.top>o&&(l=r[s-1])}return l}function mi(e,t,i,n,r,a,o){var s=hi(e,t,n,o),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,h=0;h<r.length;h++){var f=r[h];if(!(f.from>=u||f.to<=l)){var p=1!=f.level,g=Yt(e,n,p?Math.min(u,f.to)-1:Math.max(l,f.from)).right,v=g<a?a-g+1e9:g-a;(!c||d>v)&&(c=f,d=v)}}return c||(c=r[r.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function bi(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==ms){ms=n("pre");for(var r=0;r<49;++r)ms.appendChild(document.createTextNode("x")),ms.appendChild(n("br"));ms.appendChild(document.createTextNode("x"))}i(e.measure,ms);var a=ms.offsetHeight/50;return a>3&&(e.cachedTextHeight=a),t(e.measure),a||1}function yi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),r=n("pre",[t]);i(e.measure,r);var a=t.getBoundingClientRect(),o=(a.right-a.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function wi(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o)i[e.options.gutters[o]]=a.offsetLeft+a.clientLeft+r,n[e.options.gutters[o]]=a.clientWidth;return{fixedPos:xi(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function xi(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Ei(e){var t=bi(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/yi(e.display)-3);return function(r){if(ve(e.doc,r))return 0;var a=0;if(r.widgets)for(var o=0;o<r.widgets.length;o++)r.widgets[o].height&&(a+=r.widgets[o].height);return i?a+(Math.ceil(r.text.length/n)||1)*t:a+t}}function _i(e){var t=e.doc,i=Ei(e);t.iter(function(e){var t=i(e);t!=e.height&&O(e,t)})}function Ai(e,t,i,n){var r=e.display;if(!i&&"true"==Le(t).getAttribute("cm-not-content"))return null;var a,o,s=r.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,o=t.clientY-s.top}catch(e){return null}var l,u=di(e,a,o);if(n&&1==u.xRel&&(l=T(e.doc,u.line).text).length==u.ch){var c=d(l,l.length,e.options.tabSize)-l.length;u=L(u.line,Math.max(0,Math.round((a-jt(e.display).left)/yi(e.display))-c))}return u}function Ci(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if(t-=i[n].size,t<0)return n}function Si(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ti(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),a=n.selection=document.createDocumentFragment(),o=0;o<i.sel.ranges.length;o++)if(t||o!=i.sel.primIndex){var s=i.sel.ranges[o];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&Ii(e,s.head,r),l||Oi(e,s,a)}}return n}function Ii(e,t,i){var r=li(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=i.appendChild(n("div"," ","CodeMirror-cursor"));if(a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=i.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Di(e,t){return e.top-t.top||e.left-t.left}function Oi(e,t,i){function r(e,t,i,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),l.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?d-e:i)+"px;\n                             height: "+(r-t)+"px"))}function a(t,i,n){function a(i,n){return si(e,L(t,i),"div",f,n)}function o(t,i,n){var r=fi(e,f,null,t),o="ltr"==i==("after"==n)?"left":"right",s="after"==n?r.begin:r.end-(/\s/.test(f.text.charAt(r.end-1))?2:1);return a(s,o)[o]}var l,u,f=T(s,t),p=f.text.length,g=_e(f,s.direction);return xe(g,i||0,null==n?p:n,function(e,t,s,f){var v="ltr"==s,m=a(e,v?"left":"right"),b=a(t-1,v?"right":"left"),y=null==i&&0==e,w=null==n&&t==p,x=0==f,E=!g||f==g.length-1;if(b.top-m.top<=3){var _=(h?y:w)&&x,A=(h?w:y)&&E,C=_?c:(v?m:b).left,S=A?d:(v?b:m).right;r(C,m.top,S-C,m.bottom)}else{var T,I,D,O;v?(T=h&&y&&x?c:m.left,I=h?d:o(e,s,"before"),D=h?c:o(t,s,"after"),O=h&&w&&E?d:b.right):(T=h?o(e,s,"before"):c,I=!h&&y&&x?d:m.right,D=!h&&w&&E?c:b.left,O=h?o(t,s,"after"):d),r(T,m.top,I-T,m.bottom),m.bottom<b.top&&r(c,m.bottom,null,b.top),r(D,b.top,O-D,b.bottom)}(!l||Di(m,l)<0)&&(l=m),Di(b,l)<0&&(l=b),(!u||Di(m,u)<0)&&(u=m),Di(b,u)<0&&(u=b)}),{start:l,end:u}}var o=e.display,s=e.doc,l=document.createDocumentFragment(),u=jt(e.display),c=u.left,d=Math.max(o.sizerWidth,Ht(e)-o.sizer.offsetLeft)-u.right,h="ltr"==s.direction,f=t.from(),p=t.to();if(f.line==p.line)a(f.line,f.ch,p.ch);else{var g=T(s,f.line),v=T(s,p.line),m=de(g)==de(v),b=a(f.line,f.ch,m?g.text.length+1:null).end,y=a(p.line,m?0:null,p.ch).start;m&&(b.top<y.top-2?(r(b.right,b.top,null,b.bottom),r(c,y.top,y.left,y.bottom)):r(b.right,b.top,y.left-b.right,b.bottom)),b.bottom<y.top&&r(c,b.bottom,null,y.top)}i.appendChild(l)}function Mi(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ki(e){e.state.focused||(e.display.input.focus(),Pi(e))}function Ni(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Li(e))},100)}function Pi(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Se(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Eo&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Mi(e))}function Li(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Se(e,"blur",e,t),e.state.focused=!1,Bo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ri(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r=t.view[n],a=void 0;if(!r.hidden){if(wo&&xo<8){var o=r.node.offsetTop+r.node.offsetHeight;a=o-i,i=o}else{var s=r.node.getBoundingClientRect();a=s.bottom-s.top}var l=r.line.height-a;if(a<2&&(a=bi(t)),(l>.005||l<-.005)&&(O(r.line,a),Fi(r.line),r.rest))for(var u=0;u<r.rest.length;u++)Fi(r.rest[u])}}}function Fi(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function ji(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Rt(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,a=k(t,n),o=k(t,r);if(i&&i.ensure){var s=i.ensure.from.line,l=i.ensure.to.line;s<a?(a=s,o=k(t,be(T(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=o&&(a=k(t,be(T(t,l))-e.wrapper.clientHeight),o=l)}return{from:a,to:Math.max(o,a+1)}}function Bi(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=xi(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,a=n+"px",o=0;o<i.length;o++)if(!i[o].hidden){e.options.fixedGutter&&(i[o].gutter&&(i[o].gutter.style.left=a),i[o].gutterBackground&&(i[o].gutterBackground.style.left=a));var s=i[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function Hi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=P(e.options,t.first+t.size-1),r=e.display;if(i.length!=r.lineNumChars){var a=r.measure.appendChild(n("div",[n("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=a.firstChild.offsetWidth,s=a.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",kn(e),!0}return!1}function Vi(e,t){if(!Te(e,"scrollCursorIntoView")){var i=e.display,r=i.sizer.getBoundingClientRect(),a=null;if(t.top+r.top<0?a=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(a=!1),null!=a&&!Io){var o=n("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Rt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Bt(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(a),e.display.lineSpace.removeChild(o)}}}function Ui(e,t,i,n){null==n&&(n=0);var r;e.options.lineWrapping||t!=i||(t=t.ch?L(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,i="before"==t.sticky?L(t.line,t.ch+1,"before"):t);for(var a=0;a<5;a++){var o=!1,s=li(e,t),l=i&&i!=t?li(e,i):s;r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n};var u=zi(e,r),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(Xi(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=u.scrollLeft&&(Zi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(o=!0)),!o)break}return r}function Wi(e,t){var i=zi(e,t);null!=i.scrollTop&&Xi(e,i.scrollTop),null!=i.scrollLeft&&Zi(e,i.scrollLeft)}function zi(e,t){var i=e.display,n=bi(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,a=Vt(e),o={};t.bottom-t.top>a&&(t.bottom=t.top+a);var s=e.doc.height+Ft(i),l=t.top<n,u=t.bottom>s-n;if(t.top<r)o.scrollTop=l?0:t.top;else if(t.bottom>r+a){var c=Math.min(t.top,(u?s:t.bottom)-a);c!=r&&(o.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,h=Ht(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),f=t.right-t.left>h;return f&&(t.right=t.left+h),t.left<10?o.scrollLeft=0:t.left<d?o.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>h+d-3&&(o.scrollLeft=t.right+(f?0:10)-h),o}function Gi(e,t){null!=t&&(Ji(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function $i(e){Ji(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function qi(e,t,i){null==t&&null==i||Ji(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function Yi(e,t){Ji(e),e.curOp.scrollToPos=t}function Ji(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var i=ui(e,t.from),n=ui(e,t.to);Ki(e,i,n,t.margin)}}function Ki(e,t,i,n){var r=zi(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});qi(e,r.scrollLeft,r.scrollTop)}function Xi(e,t){Math.abs(e.doc.scrollTop-t)<2||(vo||On(e,{top:t}),Qi(e,t,!0),vo&&On(e),_n(e,100))}function Qi(e,t,i){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Zi(e,t,i,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Bi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function en(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Ft(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+Bt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}function tn(e,t){t||(t=en(e));var i=e.display.barWidth,n=e.display.barHeight;nn(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&Ri(e),nn(e,en(e)),i=e.display.barWidth,n=e.display.barHeight}function nn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}function rn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Bo(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Cs[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ns(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Zi(e,t):Xi(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function an(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ss},mt(e.curOp)}function on(e){var t=e.curOp;yt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;sn(e)})}function sn(e){for(var t=e.ops,i=0;i<t.length;i++)ln(t[i]);for(var n=0;n<t.length;n++)un(t[n]);for(var r=0;r<t.length;r++)cn(t[r]);for(var a=0;a<t.length;a++)dn(t[a]);for(var o=0;o<t.length;o++)hn(t[o])}function ln(e){var t=e.cm,i=t.display;Cn(t),e.updateMaxLine&&we(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Ts(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function un(e){e.updatedDisplay=e.mustUpdate&&In(e.cm,e.update)}function cn(e){var t=e.cm,i=t.display;e.updatedDisplay&&Ri(t),e.barMeasure=en(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Gt(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+Bt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Ht(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function dn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Zi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==o();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&tn(t,e.barMeasure),e.updatedDisplay&&Nn(t,e.barMeasure),e.selectionChanged&&Mi(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&ki(e.cm)}function hn(e){var t=e.cm,i=t.display,n=t.doc;if(e.updatedDisplay&&Dn(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&Qi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Zi(t,e.scrollLeft,!0,!0),
e.scrollToPos){var r=Ui(t,U(n,e.scrollToPos.from),U(n,e.scrollToPos.to),e.scrollToPos.margin);Vi(t,r)}var a=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(a)for(var s=0;s<a.length;++s)a[s].lines.length||Se(a[s],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&Se(o[l],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Se(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function fn(e,t){if(e.curOp)return t();an(e);try{return t()}finally{on(e)}}function pn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);an(e);try{return t.apply(e,arguments)}finally{on(e)}}}function gn(e){return function(){if(this.curOp)return e.apply(this,arguments);an(this);try{return e.apply(this,arguments)}finally{on(this)}}}function vn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);an(t);try{return e.apply(this,arguments)}finally{on(t)}}}function mn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Zo&&pe(e.doc,t)<r.viewTo&&yn(e);else if(i<=r.viewFrom)Zo&&ge(e.doc,i+n)>r.viewFrom?yn(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)yn(e);else if(t<=r.viewFrom){var a=wn(e,i,i+n,1);a?(r.view=r.view.slice(a.index),r.viewFrom=a.lineN,r.viewTo+=n):yn(e)}else if(i>=r.viewTo){var o=wn(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):yn(e)}else{var s=wn(e,t,t,-1),l=wn(e,i,i+n,1);s&&l?(r.view=r.view.slice(0,s.index).concat(vt(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):yn(e)}var u=r.externalMeasured;u&&(i<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(r.externalMeasured=null))}function bn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var a=n.view[Ci(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);h(o,i)==-1&&o.push(i)}}}function yn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function wn(e,t,i,n){var r,a=Ci(e,t),o=e.display.view;if(!Zo||i==e.doc.first+e.doc.size)return{index:a,lineN:i};for(var s=e.display.viewFrom,l=0;l<a;l++)s+=o[l].size;if(s!=t){if(n>0){if(a==o.length-1)return null;r=s+o[a].size-t,a++}else r=s-t;t+=r,i+=r}for(;pe(e.doc,i)!=i;){if(a==(n<0?0:o.length-1))return null;i+=n*o[a-(n<0?1:0)].size,a+=n}return{index:a,lineN:i}}function xn(e,t,i){var n=e.display,r=n.view;0==r.length||t>=n.viewTo||i<=n.viewFrom?(n.view=vt(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=vt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Ci(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(vt(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Ci(e,i)))),n.viewTo=i}function En(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function _n(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(An,e))}function An(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=Ke(e,t.highlightFrontier),r=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(n.line>=e.display.viewFrom){var o=a.styles,s=a.text.length>e.options.maxHighlightLength?Ge(t.mode,n.state):null,l=Ye(e,a,n,!0);s&&(n.state=s),a.styles=l.styles;var u=a.styleClasses,c=l.classes;c?a.styleClasses=c:u&&(a.styleClasses=null);for(var d=!o||o.length!=a.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!d&&h<o.length;++h)d=o[h]!=a.styles[h];d&&r.push(n.line),a.stateAfter=n.save(),n.nextLine()}else a.text.length<=e.options.maxHighlightLength&&Xe(e,a.text,n),a.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return _n(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),r.length&&fn(e,function(){for(var t=0;t<r.length;t++)bn(e,r[t],"text")})}}function Cn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Bt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Bt(e)+"px",t.scrollbarsClipped=!0)}function Sn(e){if(e.hasFocus())return null;var t=o();if(!t||!a(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&a(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Tn(e){if(e&&e.activeElt&&e.activeElt!=o()&&(e.activeElt.focus(),e.anchorNode&&a(document.body,e.anchorNode)&&a(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}function In(e,i){var n=e.display,r=e.doc;if(i.editorIsHidden)return yn(e),!1;if(!i.force&&i.visible.from>=n.viewFrom&&i.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==En(e))return!1;Hi(e)&&(yn(e),i.dims=wi(e));var a=r.first+r.size,o=Math.max(i.visible.from-e.options.viewportMargin,r.first),s=Math.min(a,i.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(a,n.viewTo)),Zo&&(o=pe(e.doc,o),s=ge(e.doc,s));var l=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=i.wrapperHeight||n.lastWrapWidth!=i.wrapperWidth;xn(e,o,s),n.viewOffset=be(T(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=En(e);if(!l&&0==u&&!i.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Sn(e);return u>4&&(n.lineDiv.style.display="none"),Mn(e,n.updateLineNumbers,i.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Tn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=i.wrapperHeight,n.lastWrapWidth=i.wrapperWidth,_n(e,400)),n.updateLineNumbers=null,!0}function Dn(e,t){for(var i=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Ht(e)||(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Ft(e.display)-Vt(e),i.top)}),t.visible=ji(e.display,e.doc,i),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&In(e,t);n=!1){Ri(e);var r=en(e);Si(e),tn(e,r),Nn(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function On(e,t){var i=new Ts(e,t);if(In(e,i)){Ri(e),Dn(e,i);var n=en(e);Si(e),tn(e,n),Nn(e,n),i.finish()}}function Mn(e,i,n){function r(t){var i=t.nextSibling;return Eo&&ko&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var a=e.display,o=e.options.lineNumbers,s=a.lineDiv,l=s.firstChild,u=a.view,c=a.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;l!=f.node;)l=r(l);var p=o&&null!=i&&i<=c&&f.lineNumber;f.changes&&(h(f.changes,"gutter")>-1&&(p=!1),Et(e,f,c,n)),p&&(t(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(P(e.options,c)))),l=f.node.nextSibling}else{var g=Ot(e,f,c,n);s.insertBefore(g,l)}c+=f.size}for(;l;)l=r(l)}function kn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Nn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Bt(e)+"px"}function Pn(e){var i=e.display.gutters,r=e.options.gutters;t(i);for(var a=0;a<r.length;++a){var o=r[a],s=i.appendChild(n("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}i.style.display=a?"":"none",kn(e)}function Ln(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Rn(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function Fn(e){var t=Rn(e);return t.x*=Ds,t.y*=Ds,t}function jn(e,t){var i=Rn(t),n=i.x,r=i.y,a=e.display,o=a.scroller,s=o.scrollWidth>o.clientWidth,l=o.scrollHeight>o.clientHeight;if(n&&s||r&&l){if(r&&ko&&Eo)e:for(var u=t.target,c=a.view;u!=o;u=u.parentNode)for(var d=0;d<c.length;d++)if(c[d].node==u){e.display.currentWheelTarget=u;break e}if(n&&!vo&&!Co&&null!=Ds)return r&&l&&Xi(e,Math.max(0,o.scrollTop+r*Ds)),Zi(e,Math.max(0,o.scrollLeft+n*Ds)),(!r||r&&l)&&Me(t),void(a.wheelStartX=null);if(r&&null!=Ds){var h=r*Ds,f=e.doc.scrollTop,p=f+a.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),On(e,{top:f,bottom:p})}Is<20&&(null==a.wheelStartX?(a.wheelStartX=o.scrollLeft,a.wheelStartY=o.scrollTop,a.wheelDX=n,a.wheelDY=r,setTimeout(function(){if(null!=a.wheelStartX){var e=o.scrollLeft-a.wheelStartX,t=o.scrollTop-a.wheelStartY,i=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,i&&(Ds=(Ds*Is+i)/(Is+1),++Is)}},200)):(a.wheelDX+=n,a.wheelDY+=r))}}function Bn(e,t){var i=e[t];e.sort(function(e,t){return R(e.from(),t.from())}),t=h(e,i);for(var n=1;n<e.length;n++){var r=e[n],a=e[n-1];if(R(a.to(),r.from())>=0){var o=H(a.from(),r.from()),s=B(a.to(),r.to()),l=a.empty()?r.from()==r.head:a.from()==a.head;n<=t&&--t,e.splice(--n,2,new Ms(l?s:o,l?o:s))}}return new Os(e,t)}function Hn(e,t){return new Os([new Ms(e,t||e)],0)}function Vn(e){return e.text?L(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Un(e,t){if(R(e,t.from)<0)return e;if(R(e,t.to)<=0)return Vn(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Vn(t).ch-t.to.ch),L(i,n)}function Wn(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new Ms(Un(r.anchor,t),Un(r.head,t)))}return Bn(i,e.sel.primIndex)}function zn(e,t,i){return e.line==t.line?L(i.line,e.ch-t.ch+i.ch):L(i.line+(e.line-t.line),e.ch)}function Gn(e,t,i){for(var n=[],r=L(e.first,0),a=r,o=0;o<t.length;o++){var s=t[o],l=zn(s.from,r,a),u=zn(Vn(s),r,a);if(r=s.to,a=u,"around"==i){var c=e.sel.ranges[o],d=R(c.head,c.anchor)<0;n[o]=new Ms(d?u:l,d?l:u)}else n[o]=new Ms(l,l)}return new Os(n,e.sel.primIndex)}function $n(e){e.doc.mode=We(e.options,e.doc.modeOption),qn(e)}function qn(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,_n(e,100),e.state.modeGen++,e.curOp&&mn(e)}function Yn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Jn(e,t,i,n){function r(e){return i?i[e]:null}function a(e,i,r){at(e,i,r,n),wt(e,"change",e,t)}function o(e,t){for(var i=[],a=e;a<t;++a)i.push(new vs(u[a],r(a),n));return i}var s=t.from,l=t.to,u=t.text,c=T(e,s.line),d=T(e,l.line),h=g(u),f=r(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yn(e,t)){var v=o(0,u.length-1);a(d,d.text,f),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==d)if(1==u.length)a(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),f);else{var m=o(1,u.length-1);m.push(new vs(h+c.text.slice(l.ch),f,n)),a(c,c.text.slice(0,s.ch)+u[0],r(0)),e.insert(s.line+1,m)}else if(1==u.length)a(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(l.ch),r(0)),e.remove(s.line+1,p);else{a(c,c.text.slice(0,s.ch)+u[0],r(0)),a(d,h+d.text.slice(l.ch),f);var b=o(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,b)}wt(e,"change",e,t)}function Kn(e,t,i){function n(e,r,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=r){var l=a&&s.sharedHist;i&&!l||(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function Xn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,_i(e),$n(e),Qn(e),e.options.lineWrapping||we(e),e.options.mode=t.modeOption,mn(e)}function Qn(e){("rtl"==e.doc.direction?s:Bo)(e.display.lineDiv,"CodeMirror-rtl")}function Zn(e){fn(e,function(){Qn(e),mn(e)})}function er(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function tr(e,t){var i={from:j(t.from),to:Vn(t),text:I(e,t.from,t.to)};return lr(e,i,t.from.line,t.to.line+1),Kn(e,function(e){return lr(e,i,t.from.line,t.to.line+1)},!0),i}function ir(e){for(;e.length;){var t=g(e);if(!t.ranges)break;e.pop()}}function nr(e,t){return t?(ir(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function rr(e,t,i,n){var r=e.history;r.undone.length=0;var a,o,s=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=nr(r,r.lastOp==n)))o=g(a.changes),0==R(t.from,t.to)&&0==R(t.from,o.to)?o.to=Vn(t):a.changes.push(tr(e,t));else{var l=g(r.done);for(l&&l.ranges||sr(e.sel,r.done),a={changes:[tr(e,t)],generation:r.generation},r.done.push(a);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,o||Se(e,"historyAdded")}function ar(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function or(e,t,i,n){var r=e.history,a=n&&n.origin;i==r.lastSelOp||a&&r.lastSelOrigin==a&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==a||ar(e,a,g(r.done),t))?r.done[r.done.length-1]=t:sr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=a,r.lastSelOp=i,n&&n.clearRedo!==!1&&ir(r.undone)}function sr(e,t){var i=g(t);i&&i.ranges&&i.equals(e)||t.push(e)}function lr(e,t,i,n){var r=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[a]=i.markedSpans),++a})}function ur(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function cr(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],r=0;r<t.text.length;++r)n.push(ur(i[r]));return n}function dr(e,t){var i=cr(e,t),n=Z(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var a=i[r],o=n[r];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],u=0;u<a.length;++u)if(a[u].marker==l.marker)continue e;a.push(l)}else o&&(i[r]=o)}return i}function hr(e,t,i){for(var n=[],r=0;r<e.length;++r){var a=e[r];if(a.ranges)n.push(i?Os.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];n.push({changes:s});for(var l=0;l<o.length;++l){var u=o[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[d]=u[d],delete u[d])}}}return n}function fr(e,t,i,n){if(n){var r=e.anchor;if(i){var a=R(t,r)<0;a!=R(i,r)<0?(r=t,t=i):a!=R(t,i)<0&&(t=i)}return new Ms(r,t)}return new Ms(i||t,t)}function pr(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),wr(e,new Os([fr(e.sel.primary(),t,i,r)],0),n)}function gr(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)n[a]=fr(e.sel.ranges[a],t[a],null,r);var o=Bn(n,e.sel.primIndex);wr(e,o,i)}function vr(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,wr(e,Bn(r,e.sel.primIndex),n)}function mr(e,t,i,n){wr(e,Hn(t,i),n)}function br(e,t,i){var n={ranges:t.ranges,update:function(t){var i=this;this.ranges=[];for(var n=0;n<t.length;n++)i.ranges[n]=new Ms(U(e,t[n].anchor),U(e,t[n].head))},origin:i&&i.origin};return Se(e,"beforeSelectionChange",e,n),e.cm&&Se(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Bn(n.ranges,n.ranges.length-1):t}function yr(e,t,i){var n=e.history.done,r=g(n);r&&r.ranges?(n[n.length-1]=t,xr(e,t,i)):wr(e,t,i)}function wr(e,t,i){xr(e,t,i),or(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function xr(e,t,i){(De(e,"beforeSelectionChange")||e.cm&&De(e.cm,"beforeSelectionChange"))&&(t=br(e,t,i));var n=i&&i.bias||(R(t.primary().head,e.sel.primary().head)<0?-1:1);Er(e,Ar(e,t,n,!0)),i&&i.scroll===!1||!e.cm||$i(e.cm)}function Er(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ie(e.cm)),wt(e,"cursorActivity",e))}function _r(e){Er(e,Ar(e,e.sel,null,!1))}function Ar(e,t,i,n){for(var r,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=Sr(e,o.anchor,s&&s.anchor,i,n),u=Sr(e,o.head,s&&s.head,i,n);(r||l!=o.anchor||u!=o.head)&&(r||(r=t.ranges.slice(0,a)),r[a]=new Ms(l,u))}return r?Bn(r,t.primIndex):t}function Cr(e,t,i,n,r){var a=T(e,t.line);if(a.markedSpans)for(var o=0;o<a.markedSpans.length;++o){var s=a.markedSpans[o],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(Se(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--o;continue}break}if(!l.atomic)continue;if(i){var u=l.find(n<0?1:-1),c=void 0;if((n<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Tr(e,u,-n,u&&u.line==t.line?a:null)),u&&u.line==t.line&&(c=R(u,i))&&(n<0?c<0:c>0))return Cr(e,u,t,n,r)}var d=l.find(n<0?-1:1);return(n<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Tr(e,d,n,d.line==t.line?a:null)),d?Cr(e,d,t,n,r):null}}return t}function Sr(e,t,i,n,r){var a=n||1,o=Cr(e,t,i,a,r)||!r&&Cr(e,t,i,a,!0)||Cr(e,t,i,-a,r)||!r&&Cr(e,t,i,-a,!0);return o?o:(e.cantEdit=!0,L(e.first,0))}function Tr(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?U(e,L(t.line-1)):null:i>0&&t.ch==(n||T(e,t.line)).text.length?t.line<e.first+e.size-1?L(t.line+1,0):null:new L(t.line,t.ch+i)}function Ir(e){e.setSelection(L(e.firstLine(),0),L(e.lastLine()),$o)}function Dr(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,r,a){t&&(n.from=U(e,t)),i&&(n.to=U(e,i)),r&&(n.text=r),void 0!==a&&(n.origin=a)}),Se(e,"beforeChange",e,n),e.cm&&Se(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Or(e,t,i){if(e.cm){if(!e.cm.curOp)return pn(e.cm,Or)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"))||(t=Dr(e,t,!0))){var n=Qo&&!i&&te(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)Mr(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else Mr(e,t)}}function Mr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=R(t.from,t.to)){var i=Wn(e,t);rr(e,t,i,e.cm?e.cm.curOp.id:NaN),Pr(e,t,i,Z(e,t));var n=[];Kn(e,function(e,i){i||h(n,e.history)!=-1||(Br(e.history,t),n.push(e.history)),Pr(e,t,null,Z(e,t))})}}function kr(e,t,i){if(!e.cm||!e.cm.state.suppressEdits||i){for(var n,r=e.history,a=e.sel,o="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<o.length&&(n=o[l],i?!n.ranges||n.equals(e.sel):n.ranges);l++);if(l!=o.length){for(r.lastOrigin=r.lastSelOrigin=null;n=o.pop(),n.ranges;){if(sr(n,s),i&&!n.equals(e.sel))return void wr(e,n,{clearRedo:!1});a=n}var u=[];sr(a,s),s.push({changes:u,generation:r.generation}),r.generation=n.generation||++r.maxGeneration;for(var c=De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"),d=function(i){var r=n.changes[i];if(r.origin=t,c&&!Dr(e,r,!1))return o.length=0,{};u.push(tr(e,r));var a=i?Wn(e,r):g(o);Pr(e,r,a,dr(e,r)),!i&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Vn(r)});var s=[];Kn(e,function(e,t){t||h(s,e.history)!=-1||(Br(e.history,r),s.push(e.history)),Pr(e,r,null,dr(e,r))})},f=n.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function Nr(e,t){if(0!=t&&(e.first+=t,e.sel=new Os(v(e.sel.ranges,function(e){return new Ms(L(e.anchor.line+t,e.anchor.ch),L(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)bn(e.cm,n,"gutter")}}function Pr(e,t,i,n){if(e.cm&&!e.cm.curOp)return pn(e.cm,Pr)(e,t,i,n);if(t.to.line<e.first)return void Nr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Nr(e,r),t={from:L(e.first,0),to:L(t.to.line+r,t.to.ch),text:[g(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:L(a,T(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=I(e,t.from,t.to),i||(i=Wn(e,t)),e.cm?Lr(e.cm,t,n):Jn(e,t,n),xr(e,i,$o)}}function Lr(e,t,i){var n=e.doc,r=e.display,a=t.from,o=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=M(de(T(n,a.line))),n.iter(l,o.line+1,function(e){if(e==r.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Ie(e),Jn(n,t,i,Ei(e)),e.options.lineWrapping||(n.iter(l,a.line+t.text.length,function(e){var t=ye(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),rt(n,a.line),_n(e,400);var u=t.text.length-(o.line-a.line)-1;t.full?mn(e):a.line!=o.line||1!=t.text.length||Yn(e.doc,t)?mn(e,a.line,o.line+1,u):bn(e,a.line,"text");var c=De(e,"changes"),d=De(e,"change");if(d||c){var h={from:a,to:o,text:t.text,removed:t.removed,origin:t.origin};d&&wt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Rr(e,t,i,n,r){if(n||(n=i),R(n,i)<0){var a;a=[n,i],i=a[0],n=a[1],a}"string"==typeof t&&(t=e.splitLines(t)),Or(e,{from:i,to:n,text:t,origin:r})}function Fr(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function jr(e,t,i,n){for(var r=0;r<e.length;++r){var a=e[r],o=!0;if(a.ranges){a.copied||(a=e[r]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)Fr(a.ranges[s].anchor,t,i,n),Fr(a.ranges[s].head,t,i,n)}else{for(var l=0;l<a.changes.length;++l){var u=a.changes[l];if(i<u.from.line)u.from=L(u.from.line+n,u.from.ch),u.to=L(u.to.line+n,u.to.ch);else if(t<=u.to.line){o=!1;break}}o||(e.splice(0,r+1),r=0)}}}function Br(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;jr(e.done,i,n,r),jr(e.undone,i,n,r)}function Hr(e,t,i,n){var r=t,a=t;return"number"==typeof t?a=T(e,V(e,t)):r=M(t),null==r?null:(n(a,r)&&e.cm&&bn(e.cm,r,i),a)}function Vr(e){var t=this;this.lines=e,this.parent=null;for(var i=0,n=0;n<e.length;++n)e[n].parent=t,i+=e[n].height;this.height=i}function Ur(e){var t=this;this.children=e;for(var i=0,n=0,r=0;r<e.length;++r){var a=e[r];i+=a.chunkSize(),n+=a.height,a.parent=t}this.size=i,this.height=n,this.parent=null}function Wr(e,t,i){be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Gi(e,i)}function zr(e,t,i,n){var r=new ks(e,i,n),a=e.cm;return a&&r.noHScroll&&(a.display.alignWidgets=!0),Hr(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,a&&!ve(e,t)){var n=be(t)<e.scrollTop;O(t,t.height+Pt(r)),n&&Gi(a,r.height),a.curOp.forceUpdate=!0}return!0}),wt(a,"lineWidgetAdded",a,r,"number"==typeof t?t:M(t)),r}function Gr(e,t,i,n,a){if(n&&n.shared)return $r(e,t,i,n,a);if(e.cm&&!e.cm.curOp)return pn(e.cm,Gr)(e,t,i,n,a);var o=new Ps(e,a),s=R(t,i);if(n&&c(n,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=r("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ce(e,t.line,t,i,o)||t.line!=i.line&&ce(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");$()}o.addToHistory&&rr(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var l,u=t.line,d=e.cm;if(e.iter(u,i.line+1,function(e){d&&o.collapsed&&!d.options.lineWrapping&&de(e)==d.display.maxLine&&(l=!0),o.collapsed&&u!=t.line&&O(e,0),K(e,new q(o,u==t.line?t.ch:null,u==i.line?i.ch:null)),++u}),o.collapsed&&e.iter(t.line,i.line+1,function(t){ve(e,t)&&O(t,0)}),o.clearOnEnter&&ns(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(G(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Ns,o.atomic=!0),d){if(l&&(d.curOp.updateMaxLine=!0),o.collapsed)mn(d,t.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var h=t.line;h<=i.line;h++)bn(d,h,"text");o.atomic&&_r(d.doc),wt(d,"markerAdded",d,o)}return o}function $r(e,t,i,n,r){n=c(n),n.shared=!1;var a=[Gr(e,t,i,n,r)],o=a[0],s=n.widgetNode;return Kn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),a.push(Gr(e,U(e,t),U(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=g(a)}),new Ls(a,o)}function qr(e){return e.findMarks(L(e.first,0),e.clipPos(L(e.lastLine())),function(e){return e.parent})}function Yr(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),a=e.clipPos(r.from),o=e.clipPos(r.to);if(R(a,o)){var s=Gr(e,a,o,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Jr(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];Kn(i.primary.doc,function(e){return n.push(e)});for(var r=0;r<i.markers.length;r++){var a=i.markers[r];h(n,a.doc)==-1&&(a.parent=null,i.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}function Kr(e){var t=this;if(Zr(t),!Te(t,e)&&!Lt(t.display,e)){Me(e),wo&&(js=+new Date);var i=Ai(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,a=Array(r),o=0,s=function(e,n){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=pn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[n]=e,++o==r){i=U(t.doc,i);var l={from:i,to:i,text:t.doc.splitLines(a.join(t.doc.lineSeparator())),origin:"paste"};Or(t.doc,l),yr(t.doc,Hn(i,Vn(l)))}}),s.readAsText(e)}},l=0;l<r;++l)s(n[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),xr(t.doc,Hn(i,i)),c)for(var d=0;d<c.length;++d)Rr(t.doc,"",c[d].anchor,c[d].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Xr(e,t){if(wo&&(!e.state.draggingText||+new Date-js<100))return void Pe(t);if(!Te(e,t)&&!Lt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!So)){var i=n("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Co&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),Co&&i.parentNode.removeChild(i)}}function Qr(e,t){var r=Ai(e,t);if(r){var a=document.createDocumentFragment();Ii(e,r,a),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),i(e.display.dragCursor,a)}}function Zr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ea(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),i=0;i<t.length;i++){var n=t[i].CodeMirror;n&&e(n)}}function ta(){Bs||(ia(),Bs=!0)}function ia(){var e;ns(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ea(na)},100))}),ns(window,"blur",function(){return ea(Li)})}function na(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function ra(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var i,n,r,a,o=0;o<t.length-1;o++){var s=t[o];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))i=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return i&&(e="Alt-"+e),n&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function aa(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=v(i.split(" "),ra),a=0;a<r.length;a++){var o=void 0,s=void 0;a==r.length-1?(s=r.join(" "),o=n):(s=r.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[i]}for(var u in t)e[u]=t[u];return e}function oa(e,t,i,n){t=ca(t);var r=t.call?t.call(e,n):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return oa(e,t.fallthrough,i,n);for(var a=0;a<t.fallthrough.length;a++){var o=oa(e,t.fallthrough[a],i,n);if(o)return o}}}function sa(e){var t="string"==typeof e?e:Hs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function la(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Fo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Fo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function ua(e,t){if(Co&&34==e.keyCode&&e.char)return!1;var i=Hs[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),la(i,e,t))}function ca(e){return"string"==typeof e?zs[e]:e}function da(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var a=t(i[r]);n.length&&R(a.from,g(n).to)<=0;){var o=n.pop();if(R(o.from,a.from)<0){a.from=o.from;break}}n.push(a)}fn(e,function(){for(var t=n.length-1;t>=0;t--)Rr(e.doc,"",n[t].from,n[t].to,"+delete");$i(e)})}function ha(e,t,i){var n=A(e.text,t+i,i);return n<0||n>e.text.length?null:n}function fa(e,t,i){var n=ha(e,t.ch,i);return null==n?null:new L(t.line,n,i<0?"after":"before")}function pa(e,t,i,n,r){if(e){var a=_e(i,t.doc.direction);if(a){var o,s=r<0?g(a):a[0],l=r<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=qt(t,i);o=r<0?i.text.length-1:0;var d=Yt(t,c,o).top;o=C(function(e){return Yt(t,c,e).top==d},r<0==(1==s.level)?s.from:s.to-1,o),"before"==u&&(o=ha(i,o,1))}else o=r<0?s.to:s.from;return new L(n,o,u)}}return new L(n,r<0?i.text.length:0,r<0?"before":"after")}function ga(e,t,i,n){var r=_e(t,e.doc.direction);if(!r)return fa(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var a=Ee(r,i.ch,i.sticky),o=r[a];if("ltr"==e.doc.direction&&o.level%2==0&&(n>0?o.to>i.ch:o.from<i.ch))return fa(t,i,n);var s,l=function(e,i){return ha(t,e instanceof L?e.ch:e,i)},u=function(i){return e.options.lineWrapping?(s=s||qt(e,t),fi(e,t,s,i)):{begin:0,end:t.text.length}},c=u("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==o.level){var d=1==o.level==n<0,h=l(i,d?1:-1);if(null!=h&&(d?h<=o.to&&h<=c.end:h>=o.from&&h>=c.begin)){var f=d?"before":"after";return new L(i.line,h,f)}}var p=function(e,t,n){for(var a=function(e,t){return t?new L(i.line,l(e,1),"before"):new L(i.line,e,"after")};e>=0&&e<r.length;e+=t){var o=r[e],s=t>0==(1!=o.level),u=s?n.begin:l(n.end,-1);if(o.from<=u&&u<o.to)return a(u,s);if(u=s?o.from:l(o.to,-1),n.begin<=u&&u<n.end)return a(u,s)}},g=p(a+n,n,c);if(g)return g;var v=n>0?c.end:l(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:r.length-1,n,u(v)))?null:g}function va(e,t){var i=T(e.doc,t),n=de(i);return n!=i&&(t=M(n)),pa(!0,e,n,t,1)}function ma(e,t){var i=T(e.doc,t),n=he(i);return n!=i&&(t=M(n)),pa(!0,e,i,t,-1)}function ba(e,t){var i=va(e,t.line),n=T(e.doc,i.line),r=_e(n,e.doc.direction);
if(!r||0==r[0].level){var a=Math.max(0,n.text.search(/\S/)),o=t.line==i.line&&t.ch<=a&&t.ch;return L(i.line,o?0:a,i.sticky)}return i}function ya(e,t,i){if("string"==typeof t&&(t=Gs[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=Go}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}function wa(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=oa(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&oa(t,e.options.extraKeys,i,e)||oa(t,e.options.keyMap,i,e)}function xa(e,t,i,n){var r=e.state.keySeq;if(r){if(sa(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:$s.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),Ea(e,r+" "+t,i,n))return!0}return Ea(e,t,i,n)}function Ea(e,t,i,n){var r=wa(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&wt(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(Me(i),Mi(e)),!!r}function _a(e,t){var i=ua(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?xa(e,"Shift-"+i,t,function(t){return ya(e,t,!0)})||xa(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ya(e,t)}):xa(e,i,t,function(t){return ya(e,t)}))}function Aa(e,t,i){return xa(e,"'"+i+"'",t,function(t){return ya(e,t,!0)})}function Ca(e){var t=this;if(t.curOp.focus=o(),!Te(t,e)){wo&&xo<11&&27==e.keyCode&&(e.returnValue=!1);var i=e.keyCode;t.display.shift=16==i||e.shiftKey;var n=_a(t,e);Co&&(qs=n?i:null,!n&&88==i&&!ss&&(ko?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Sa(t)}}function Sa(e){function t(e){18!=e.keyCode&&e.altKey||(Bo(i,"CodeMirror-crosshair"),Ce(document,"keyup",t),Ce(document,"mouseover",t))}var i=e.display.lineDiv;s(i,"CodeMirror-crosshair"),ns(document,"keyup",t),ns(document,"mouseover",t)}function Ta(e){16==e.keyCode&&(this.doc.sel.shift=!1),Te(this,e)}function Ia(e){var t=this;if(!(Lt(t.display,e)||Te(t,e)||e.ctrlKey&&!e.altKey||ko&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(Co&&i==qs)return qs=null,void Me(e);if(!Co||e.which&&!(e.which<10)||!_a(t,e)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(Aa(t,e,r)||t.display.input.onKeyPress(e))}}}function Da(e,t){var i=+new Date;return Xs&&Xs.compare(i,e,t)?(Ks=Xs=null,"triple"):Ks&&Ks.compare(i,e,t)?(Xs=new Js(i,e,t),Ks=null,"double"):(Ks=new Js(i,e,t),Xs=null,"single")}function Oa(e){var t=this,i=t.display;if(!(Te(t,e)||i.activeTouch&&i.input.supportsTouch())){if(i.input.ensurePolled(),i.shift=e.shiftKey,Lt(i,e))return void(Eo||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100)));if(!Ba(t,e)){var n=Ai(t,e),r=Re(e),a=n?Da(n,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),n&&Ma(t,r,n,a,e)||(1==r?n?Na(t,n,a,e):Le(e)==i.scroller&&Me(e):2==r?(n&&pr(t.doc,n),setTimeout(function(){return i.input.focus()},20)):3==r&&(jo?Ha(t,e):Ni(t)))}}}function Ma(e,t,i,n,r){var a="Click";return"double"==n?a="Double"+a:"triple"==n&&(a="Triple"+a),a=(1==t?"Left":2==t?"Middle":"Right")+a,xa(e,la(a,r),r,function(t){if("string"==typeof t&&(t=Gs[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=Go}finally{e.state.suppressEdits=!1}return n})}function ka(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};if(null==r.unit){var a=No?i.shiftKey&&i.metaKey:i.altKey;r.unit=a?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||i.shiftKey),null==r.addNew&&(r.addNew=ko?i.metaKey:i.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(ko?i.altKey:i.ctrlKey)),r}function Na(e,t,i,n){wo?setTimeout(u(ki,e),0):e.curOp.focus=o();var r,a=ka(e,i,n),s=e.doc.sel;e.options.dragDrop&&rs&&!e.isReadOnly()&&"single"==i&&(r=s.contains(t))>-1&&(R((r=s.ranges[r]).from(),t)<0||t.xRel>0)&&(R(r.to(),t)>0||t.xRel<0)?Pa(e,n,t,a):Ra(e,n,t,a)}function Pa(e,t,i,n){var r=e.display,a=!1,o=pn(e,function(t){Eo&&(r.scroller.draggable=!1),e.state.draggingText=!1,Ce(document,"mouseup",o),Ce(document,"mousemove",s),Ce(r.scroller,"dragstart",l),Ce(r.scroller,"drop",o),a||(Me(t),n.addNew||pr(e.doc,i,null,null,n.extend),Eo||wo&&9==xo?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())}),s=function(e){a=a||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return a=!0};Eo&&(r.scroller.draggable=!0),e.state.draggingText=o,o.copy=!n.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),ns(document,"mouseup",o),ns(document,"mousemove",s),ns(r.scroller,"dragstart",l),ns(r.scroller,"drop",o),Ni(e),setTimeout(function(){return r.input.focus()},20)}function La(e,t,i){if("char"==i)return new Ms(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new Ms(L(t.line,0),U(e.doc,L(t.line+1,0)));var n=i(e,t);return new Ms(n.from,n.to)}function Ra(e,t,i,n){function r(t){if(0!=R(m,t))if(m=t,"rectangle"==n.unit){for(var r=[],a=e.options.tabSize,o=d(T(u,i.line).text,i.ch,a),s=d(T(u,t.line).text,t.ch,a),l=Math.min(o,s),g=Math.max(o,s),v=Math.min(i.line,t.line),b=Math.min(e.lastLine(),Math.max(i.line,t.line));v<=b;v++){var y=T(u,v).text,w=f(y,l,a);l==g?r.push(new Ms(L(v,w),L(v,w))):y.length>w&&r.push(new Ms(L(v,w),L(v,f(y,g,a))))}r.length||r.push(new Ms(i,i)),wr(u,Bn(p.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,E=c,_=La(e,t,n.unit),A=E.anchor;R(_.anchor,A)>0?(x=_.head,A=H(E.from(),_.anchor)):(x=_.anchor,A=B(E.to(),_.head));var C=p.ranges.slice(0);C[h]=Fa(e,new Ms(U(u,A),x)),wr(u,Bn(C,h),qo)}}function a(t){var i=++y,s=Ai(e,t,!0,"rectangle"==n.unit);if(s)if(0!=R(s,m)){e.curOp.focus=o(),r(s);var c=ji(l,u);(s.line>=c.to||s.line<c.from)&&setTimeout(pn(e,function(){y==i&&a(t)}),150)}else{var d=t.clientY<b.top?-20:t.clientY>b.bottom?20:0;d&&setTimeout(pn(e,function(){y==i&&(l.scroller.scrollTop+=d,a(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,Me(t),l.input.focus(),Ce(document,"mousemove",w),Ce(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Me(t);var c,h,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(h=u.sel.contains(i),c=h>-1?g[h]:new Ms(i,i)):(c=u.sel.primary(),h=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Ms(i,i)),i=Ai(e,t,!0,!0),h=-1;else{var v=La(e,i,n.unit);c=n.extend?fr(c,v.anchor,v.head,n.extend):v}n.addNew?h==-1?(h=g.length,wr(u,Bn(g.concat([c]),h),{scroll:!1,origin:"*mouse"})):g.length>1&&g[h].empty()&&"char"==n.unit&&!n.extend?(wr(u,Bn(g.slice(0,h).concat(g.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):vr(u,h,c,qo):(h=0,wr(u,new Os([c],0),qo),p=u.sel);var m=i,b=l.wrapper.getBoundingClientRect(),y=0,w=pn(e,function(e){Re(e)?a(e):s(e)}),x=pn(e,s);e.state.selectingText=x,ns(document,"mousemove",w),ns(document,"mouseup",x)}function Fa(e,t){var i=t.anchor,n=t.head,r=T(e.doc,i.line);if(0==R(i,n)&&i.sticky==n.sticky)return t;var a=_e(r);if(!a)return t;var o=Ee(a,i.ch,i.sticky),s=a[o];if(s.from!=i.ch&&s.to!=i.ch)return t;var l=o+(s.from==i.ch==(1!=s.level)?0:1);if(0==l||l==a.length)return t;var u;if(n.line!=i.line)u=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Ee(a,n.ch,n.sticky),d=c-o||(n.ch-i.ch)*(1==s.level?-1:1);u=c==l-1||c==l?d<0:d>0}var h=a[l+(u?-1:0)],f=u==(1==h.level),p=f?h.from:h.to,g=f?"after":"before";return i.ch==p&&i.sticky==g?t:new Ms(new L(i.line,p,g),n)}function ja(e,t,i,n){var r,a;if(t.touches)r=t.touches[0].clientX,a=t.touches[0].clientY;else try{r=t.clientX,a=t.clientY}catch(e){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&Me(t);var o=e.display,s=o.lineDiv.getBoundingClientRect();if(a>s.bottom||!De(e,i))return Ne(t);a-=s.top-o.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=o.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r){var c=k(e.doc,a),d=e.options.gutters[l];return Se(e,i,e,c,d,t),Ne(t)}}}function Ba(e,t){return ja(e,t,"gutterClick",!0)}function Ha(e,t){Lt(e.display,t)||Va(e,t)||Te(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Va(e,t){return!!De(e,"gutterContextMenu")&&ja(e,t,"gutterContextMenu",!1)}function Ua(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ti(e)}function Wa(e){function t(t,n,r,a){e.defaults[t]=n,r&&(i[t]=a?function(e,t,i){i!=Qs&&r(e,t,i)}:r)}var i=e.optionHandlers;e.defineOption=t,e.Init=Qs,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$n(e)},!0),t("indentUnit",2,$n,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){qn(e),ti(e),mn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var a=e.text.indexOf(t,r);if(a==-1)break;r=a+t.length,i.push(L(n,a))}n++});for(var r=i.length-1;r>=0;r--)Rr(e.doc,t,i[r],L(i[r].line,i[r].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=Qs&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Mo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Po),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Ua(e),za(e)},!0),t("keyMap","default",function(e,t,i){var n=ca(t),r=i!=Qs&&ca(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,$a,!0),t("gutters",[],function(e){Ln(e.options),za(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?xi(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return tn(e)},!0),t("scrollbarStyle","native",function(e){rn(e),tn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Ln(e.options),za(e)},!0),t("firstLineNumber",1,za,!0),t("lineNumberFormatter",function(e){return e},za,!0),t("showCursorWhenSelecting",!1,Si,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Li(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Ga),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Si,!0),t("singleCursorHeightPerLine",!0,Si,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,qn,!0),t("addModeClass",!1,qn,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,qn,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}function za(e){Pn(e),mn(e),Bi(e)}function Ga(e,t,i){var n=i&&i!=Qs;if(!t!=!n){var r=e.display.dragFunctions,a=t?ns:Ce;a(e.display.scroller,"dragstart",r.start),a(e.display.scroller,"dragenter",r.enter),a(e.display.scroller,"dragover",r.over),a(e.display.scroller,"dragleave",r.leave),a(e.display.scroller,"drop",r.drop)}}function $a(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Bo(e.display.wrapper,"CodeMirror-wrap"),we(e)),_i(e),mn(e),ti(e),setTimeout(function(){return tn(e)},100)}function qa(e,t){var i=this;if(!(this instanceof qa))return new qa(e,t);this.options=t=t?c(t):{},c(Zs,t,!1),Ln(t);var n=t.value;"string"==typeof n&&(n=new Fs(n,t.mode,null,t.lineSeparator,t.direction)),this.doc=n;var r=new qa.inputStyles[t.inputStyle](this),a=this.display=new S(e,n,r);a.wrapper.CodeMirror=this,Pn(this),Ua(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),rn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Vo,keySeq:null,specialChars:null},t.autofocus&&!Mo&&a.input.focus(),wo&&xo<11&&setTimeout(function(){return i.display.input.reset(!0)},20),Ya(this),ta(),an(this),this.curOp.forceUpdate=!0,Xn(this,n),t.autofocus&&!Mo||this.hasFocus()?setTimeout(u(Pi,this),20):Li(this);for(var o in el)el.hasOwnProperty(o)&&el[o](i,t[o],Qs);Hi(this),t.finishInit&&t.finishInit(this);for(var s=0;s<tl.length;++s)tl[s](i);on(this),Eo&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Ya(e){function t(){r.activeTouch&&(a=setTimeout(function(){return r.activeTouch=null},1e3),o=r.activeTouch,o.end=+new Date)}function i(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}var r=e.display;ns(r.scroller,"mousedown",pn(e,Oa)),wo&&xo<11?ns(r.scroller,"dblclick",pn(e,function(t){if(!Te(e,t)){var i=Ai(e,t);if(i&&!Ba(e,t)&&!Lt(e.display,t)){Me(t);var n=e.findWordAt(i);pr(e.doc,n.anchor,n.head)}}})):ns(r.scroller,"dblclick",function(t){return Te(e,t)||Me(t)}),jo||ns(r.scroller,"contextmenu",function(t){return Ha(e,t)});var a,o={end:0};ns(r.scroller,"touchstart",function(t){if(!Te(e,t)&&!i(t)&&!Ba(e,t)){r.input.ensurePolled(),clearTimeout(a);var n=+new Date;r.activeTouch={start:n,moved:!1,prev:n-o.end<=300?o:null},1==t.touches.length&&(r.activeTouch.left=t.touches[0].pageX,r.activeTouch.top=t.touches[0].pageY)}}),ns(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),ns(r.scroller,"touchend",function(i){var a=r.activeTouch;if(a&&!Lt(r,i)&&null!=a.left&&!a.moved&&new Date-a.start<300){var o,s=e.coordsChar(r.activeTouch,"page");o=!a.prev||n(a,a.prev)?new Ms(s,s):!a.prev.prev||n(a,a.prev.prev)?e.findWordAt(s):new Ms(L(s.line,0),U(e.doc,L(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),Me(i)}t()}),ns(r.scroller,"touchcancel",t),ns(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Xi(e,r.scroller.scrollTop),Zi(e,r.scroller.scrollLeft,!0),Se(e,"scroll",e))}),ns(r.scroller,"mousewheel",function(t){return jn(e,t)}),ns(r.scroller,"DOMMouseScroll",function(t){return jn(e,t)}),ns(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){Te(e,t)||Pe(t)},over:function(t){Te(e,t)||(Qr(e,t),Pe(t))},start:function(t){return Xr(e,t)},drop:pn(e,Kr),leave:function(t){Te(e,t)||Zr(e)}};var s=r.input.getField();ns(s,"keyup",function(t){return Ta.call(e,t)}),ns(s,"keydown",pn(e,Ca)),ns(s,"keypress",pn(e,Ia)),ns(s,"focus",function(t){return Pi(e,t)}),ns(s,"blur",function(t){return Li(e,t)})}function Ja(e,t,i,n){var r,a=e.doc;null==i&&(i="add"),"smart"==i&&(a.mode.indent?r=Ke(e,t).state:i="prev");var o=e.options.tabSize,s=T(a,t),l=d(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==i&&(u=a.mode.indent(r,s.text.slice(c.length),s.text),u==Go||u>150)){if(!n)return;i="prev"}}else u=0,i="not";"prev"==i?u=t>a.first?d(T(a,t-1).text,null,o):0:"add"==i?u=l+e.options.indentUnit:"subtract"==i?u=l-e.options.indentUnit:"number"==typeof i&&(u=l+i),u=Math.max(0,u);var h="",f=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/o);g;--g)f+=o,h+="\t";if(f<u&&(h+=p(u-f)),h!=c)return Rr(a,h,L(t,0),L(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<a.sel.ranges.length;v++){var m=a.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var b=L(t,c.length);vr(a,v,new Ms(b,b));break}}}function Ka(e){il=e}function Xa(e,t,i,n,r){var a=e.doc;e.display.shift=!1,n||(n=a.sel);var o=e.state.pasteIncoming||"paste"==r,s=as(t),l=null;if(o&&n.ranges.length>1)if(il&&il.text.join("\n")==t){if(n.ranges.length%il.text.length==0){l=[];for(var u=0;u<il.text.length;u++)l.push(a.splitLines(il.text[u]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=v(s,function(e){return[e]}));for(var c,d=n.ranges.length-1;d>=0;d--){var h=n.ranges[d],f=h.from(),p=h.to();h.empty()&&(i&&i>0?f=L(f.line,f.ch-i):e.state.overwrite&&!o?p=L(p.line,Math.min(T(a,p.line).text.length,p.ch+g(s).length)):il&&il.lineWise&&il.text.join("\n")==t&&(f=p=L(f.line,0))),c=e.curOp.updateInput;var m={from:f,to:p,text:l?l[d%l.length]:s,origin:r||(o?"paste":e.state.cutIncoming?"cut":"+input")};Or(e.doc,m),wt(e,"inputRead",e,m)}t&&!o&&Za(e,t),$i(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Qa(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||fn(t,function(){return Xa(t,i,0,null,"paste")}),!0}function Za(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var a=e.getModeAt(r.head),o=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){o=Ja(e,r.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(T(e.doc,r.head.line).text.slice(0,r.head.ch))&&(o=Ja(e,r.head.line,"smart"));o&&wt(e,"electricInput",e,r.head.line)}}}function eo(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,a={anchor:L(r,0),head:L(r+1,0)};i.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:i}}function to(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function io(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Eo?e.style.width="1000px":e.setAttribute("wrap","off"),Do&&(e.style.border="1px solid black"),to(e),t}function no(e,t,i,n,r){function a(){var n=t.line+i;return!(n<e.first||n>=e.first+e.size)&&(t=new L(n,t.ch,t.sticky),u=T(e,n))}function o(n){var o;if(o=r?ga(e.cm,u,t,i):fa(u,t,i),null==o){if(n||!a())return!1;t=pa(r,e.cm,u,t.line,i)}else t=o;return!0}var s=t,l=i,u=T(e,t.line);if("char"==n)o();else if("column"==n)o(!0);else if("word"==n||"group"==n)for(var c=null,d="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(i<0)||o(!f);f=!1){var p=u.text.charAt(t.ch)||"\n",g=x(p,h)?"w":d&&"\n"==p?"n":!d||/\s/.test(p)?null:"p";if(!d||f||g||(g="s"),c&&c!=g){i<0&&(i=1,o(),t.sticky="after");break}if(g&&(c=g),i>0&&!o(!f))break}var v=Sr(e,t,s,l,!0);return F(s,v)&&(v.hitSide=!0),v}function ro(e,t,i,n){var r,a=e.doc,o=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*bi(e.display),3);r=(i>0?t.bottom:t.top)+i*l}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(var u;u=di(e,o,r),u.outside;){if(i<0?r<=0:r>=a.height){u.hitSide=!0;break}r+=5*i}return u}function ao(e,t){var i=$t(e,t.line);if(!i||i.hidden)return null;var n=T(e.doc,t.line),r=Wt(i,n,t.line),a=_e(n,e.doc.direction),o="left";if(a){var s=Ee(a,t.ch);o=s%2?"right":"left"}var l=Jt(r.map,t.ch,o);return l.offset="right"==l.collapse?l.end:l.start,l}function oo(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function so(e,t){return t&&(e.bad=!0),e}function lo(e,t,i,n,r){function a(e){return function(t){return t.id==e}}function o(){c&&(u+=d,c=!1)}function s(e){e&&(o(),u+=e)}function l(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(null!=i)return void s(i||t.textContent.replace(/\u200b/g,""));var u,h=t.getAttribute("cm-marker");if(h){var f=e.findMarks(L(n,0),L(r+1,0),a(+h));return void(f.length&&(u=f[0].find(0))&&s(I(e.doc,u.from,u.to).join(d)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&o();for(var g=0;g<t.childNodes.length;g++)l(t.childNodes[g]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,d=e.doc.lineSeparator();l(t),t!=i;)t=t.nextSibling;return u}function uo(e,t,i){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[i],!n)return so(e.clipPos(L(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var a=e.display.view[r];if(a.node==n)return co(a,t,i)}}function co(e,t,i){function n(t,i,n){for(var r=-1;r<(d?d.length:0);r++)for(var a=r<0?c.map:d[r],o=0;o<a.length;o+=3){var s=a[o+2];if(s==t||s==i){var l=M(r<0?e.line:e.rest[r]),u=a[o]+n;return(n<0||s!=t)&&(u=a[o+(n?1:0)]),L(l,u)}}}var r=e.text.firstChild,o=!1;if(!t||!a(r,t))return so(L(M(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[i],i=0,!t)){var s=e.rest?g(e.rest):e.line;return so(L(M(s),s.text.length),o)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,i&&(i=l.nodeValue.length));u.parentNode!=r;)u=u.parentNode;var c=e.measure,d=c.maps,h=n(l,u,i);if(h)return so(h,o);for(var f=u.nextSibling,p=l?l.nodeValue.length-i:0;f;f=f.nextSibling){if(h=n(f,f.firstChild,0))return so(L(h.line,h.ch-p),o);p+=f.textContent.length}for(var v=u.previousSibling,m=i;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return so(L(h.line,h.ch+m),o);m+=v.textContent.length}}function ho(e,t){function i(){e.value=l.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=o();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var r;if(e.form&&(ns(e.form,"submit",i),!t.leaveSubmitMethodAlone)){var a=e.form;r=a.submit;try{var s=a.submit=function(){i(),a.submit=r,a.submit(),a.submit=s}}catch(e){}}t.finishInit=function(t){t.save=i,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,i(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Ce(e.form,"submit",i),"function"==typeof e.form.submit&&(e.form.submit=r))}},e.style.display="none";var l=qa(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}function fo(e){e.off=Ce,e.on=ns,e.wheelEventPixels=Fn,e.Doc=Fs,e.splitLines=as,e.countColumn=d,e.findColumn=f,e.isWordChar=w,e.Pass=Go,e.signal=Se,e.Line=vs,e.changeEnd=Vn,e.scrollbarModel=Cs,e.Pos=L,e.cmpPos=R,e.modes=us,e.mimeModes=cs,e.resolveMode=Ue,e.getMode=We,e.modeExtensions=ds,e.extendMode=ze,e.copyState=Ge,e.startState=qe,e.innerMode=$e,e.commands=Gs,e.keyMap=zs,e.keyName=ua,e.isModifierKey=sa,e.lookupKey=oa,e.normalizeKeyMap=aa,e.StringStream=hs,e.SharedTextMarker=Ls,e.TextMarker=Ps,e.LineWidget=ks,e.e_preventDefault=Me,e.e_stopPropagation=ke,e.e_stop=Pe,e.addClass=s,e.contains=a,e.rmClass=Bo,e.keyNames=Hs}var po=navigator.userAgent,go=navigator.platform,vo=/gecko\/\d/i.test(po),mo=/MSIE \d/.test(po),bo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(po),yo=/Edge\/(\d+)/.exec(po),wo=mo||bo||yo,xo=wo&&(mo?document.documentMode||6:+(yo||bo)[1]),Eo=!yo&&/WebKit\//.test(po),_o=Eo&&/Qt\/\d+\.\d+/.test(po),Ao=!yo&&/Chrome\//.test(po),Co=/Opera\//.test(po),So=/Apple Computer/.test(navigator.vendor),To=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(po),Io=/PhantomJS/.test(po),Do=!yo&&/AppleWebKit/.test(po)&&/Mobile\/\w+/.test(po),Oo=/Android/.test(po),Mo=Do||Oo||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(po),ko=Do||/Mac/.test(go),No=/\bCrOS\b/.test(po),Po=/win/i.test(go),Lo=Co&&po.match(/Version\/(\d*\.\d*)/);Lo&&(Lo=Number(Lo[1])),Lo&&Lo>=15&&(Co=!1,Eo=!0);var Ro,Fo=ko&&(_o||Co&&(null==Lo||Lo<12.11)),jo=vo||wo&&xo>=9,Bo=function(t,i){var n=t.className,r=e(i).exec(n);if(r){var a=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(a?r[1]+a:"")}};Ro=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var Ho=function(e){e.select()};Do?Ho=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:wo&&(Ho=function(e){try{e.select()}catch(e){}});var Vo=function(){this.id=null};Vo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Uo,Wo,zo=30,Go={toString:function(){return"CodeMirror.Pass"}},$o={scroll:!1},qo={origin:"*mouse"},Yo={origin:"+move"},Jo=[""],Ko=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Xo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Qo=!1,Zo=!1,es=null,ts=function(){function e(e){return e<=247?i.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,i){this.level=e,this.from=t,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(i,n){var u="ltr"==n?"L":"R";if(0==i.length||"ltr"==n&&!r.test(i))return!1;for(var c=i.length,d=[],h=0;h<c;++h)d.push(e(i.charCodeAt(h)));for(var f=0,p=u;f<c;++f){var v=d[f];"m"==v?d[f]=p:p=v}for(var m=0,b=u;m<c;++m){var y=d[m];"1"==y&&"r"==b?d[m]="n":o.test(y)&&(b=y,"r"==y&&(d[m]="R"))}for(var w=1,x=d[0];w<c-1;++w){var E=d[w];"+"==E&&"1"==x&&"1"==d[w+1]?d[w]="1":","!=E||x!=d[w+1]||"1"!=x&&"n"!=x||(d[w]=x),x=E}for(var _=0;_<c;++_){var A=d[_];if(","==A)d[_]="N";else if("%"==A){var C=void 0;for(C=_+1;C<c&&"%"==d[C];++C);for(var S=_&&"!"==d[_-1]||C<c&&"1"==d[C]?"1":"N",T=_;T<C;++T)d[T]=S;_=C-1}}for(var I=0,D=u;I<c;++I){var O=d[I];"L"==D&&"1"==O?d[I]="L":o.test(O)&&(D=O)}for(var M=0;M<c;++M)if(a.test(d[M])){var k=void 0;for(k=M+1;k<c&&a.test(d[k]);++k);for(var N="L"==(M?d[M-1]:u),P="L"==(k<c?d[k]:u),L=N==P?N?"L":"R":u,R=M;R<k;++R)d[R]=L;M=k-1}for(var F,j=[],B=0;B<c;)if(s.test(d[B])){var H=B;for(++B;B<c&&s.test(d[B]);++B);j.push(new t(0,H,B))}else{var V=B,U=j.length;for(++B;B<c&&"L"!=d[B];++B);for(var W=V;W<B;)if(l.test(d[W])){V<W&&j.splice(U,0,new t(1,V,W));var z=W;for(++W;W<B&&l.test(d[W]);++W);j.splice(U,0,new t(2,z,W)),V=W}else++W;V<B&&j.splice(U,0,new t(1,V,B))}return"ltr"==n&&(1==j[0].level&&(F=i.match(/^\s+/))&&(j[0].from=F[0].length,j.unshift(new t(0,0,F[0].length))),1==g(j).level&&(F=i.match(/\s+$/))&&(g(j).to-=F[0].length,j.push(new t(0,c-F[0].length,c)))),"rtl"==n?j.reverse():j}}(),is=[],ns=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||is).concat(i)}},rs=function(){if(wo&&xo<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),as=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);r==-1&&(r=e.length);var a=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=a.indexOf("\r");o!=-1?(i.push(a.slice(0,o)),t+=o+1):(i.push(a),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},os=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},ss=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ls=null,us={},cs={},ds={},hs=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};hs.prototype.eol=function(){return this.pos>=this.string.length},hs.prototype.sol=function(){return this.pos==this.lineStart},hs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},hs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},hs.prototype.eat=function(e){var t,i=this.string.charAt(this.pos);if(t="string"==typeof e?i==e:i&&(e.test?e.test(i):e(i)))return++this.pos,i},hs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},hs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},hs.prototype.skipToEnd=function(){this.pos=this.string.length},hs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},hs.prototype.backUp=function(e){this.pos-=e},hs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},hs.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},hs.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);if(r(a)==r(e))return t!==!1&&(this.pos+=e.length),!0},hs.prototype.current=function(){return this.string.slice(this.start,this.pos)},hs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},hs.prototype.lookAhead=function(e){
var t=this.lineOracle;return t&&t.lookAhead(e)},hs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var fs=function(e,t){this.state=e,this.lookAhead=t},ps=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};ps.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ps.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ps.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ps.fromSaved=function(e,t,i){return t instanceof fs?new ps(e,Ge(e.mode,t.state),i,t.lookAhead):new ps(e,Ge(e.mode,t),i)},ps.prototype.save=function(e){var t=e!==!1?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new fs(t,this.maxLookAhead):t};var gs=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i},vs=function(e,t,i){this.text=e,ne(this,t),this.height=i?i(this):1};vs.prototype.lineNo=function(){return M(this)},Oe(vs);var ms,bs={},ys={},ws=null,xs=null,Es={left:0,right:0,top:0,bottom:0},_s=function(e,t,i){this.cm=i;var r=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(a),ns(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ns(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,wo&&xo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_s.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},_s.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_s.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_s.prototype.zeroWidthHack=function(){var e=ko&&!To?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Vo,this.disableVert=new Vo},_s.prototype.enableZeroWidthBar=function(e,t,i){function n(){var r=e.getBoundingClientRect(),a="vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1);a!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},_s.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var As=function(){};As.prototype.update=function(){return{bottom:0,right:0}},As.prototype.setScrollLeft=function(){},As.prototype.setScrollTop=function(){},As.prototype.clear=function(){};var Cs={native:_s,null:As},Ss=0,Ts=function(e,t,i){var n=e.display;this.viewport=t,this.visible=ji(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Ht(e),this.force=i,this.dims=wi(e),this.events=[]};Ts.prototype.signal=function(e,t){De(e,t)&&this.events.push(arguments)},Ts.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Se.apply(null,e.events[t])};var Is=0,Ds=null;wo?Ds=-.53:vo?Ds=15:Ao?Ds=-.7:So&&(Ds=-1/3);var Os=function(e,t){this.ranges=e,this.primIndex=t};Os.prototype.primary=function(){return this.ranges[this.primIndex]},Os.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=t.ranges[i],r=e.ranges[i];if(!F(n.anchor,r.anchor)||!F(n.head,r.head))return!1}return!0},Os.prototype.deepCopy=function(){for(var e=this,t=[],i=0;i<this.ranges.length;i++)t[i]=new Ms(j(e.ranges[i].anchor),j(e.ranges[i].head));return new Os(t,this.primIndex)},Os.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Os.prototype.contains=function(e,t){var i=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=i.ranges[n];if(R(t,r.from())>=0&&R(e,r.to())<=0)return n}return-1};var Ms=function(e,t){this.anchor=e,this.head=t};Ms.prototype.from=function(){return H(this.anchor,this.head)},Ms.prototype.to=function(){return B(this.anchor,this.head)},Ms.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=this,n=e,r=e+t;n<r;++n){var a=i.lines[n];i.height-=a.height,ot(a),wt(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=n},iterN:function(e,t,i){for(var n=this,r=e+t;e<r;++e)if(i(n.lines[e]))return!0}},Ur.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var i=this;this.size-=t;for(var n=0;n<this.children.length;++n){var r=i.children[n],a=r.chunkSize();if(e<a){var o=Math.min(t,a-e),s=r.height;if(r.removeInner(e,o),i.height-=s-r.height,a==o&&(i.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vr))){var l=[];this.collapse(l),this.children=[new Vr(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,i=0;i<this.children.length;++i)t.children[i].collapse(e)},insertInner:function(e,t,i){var n=this;this.size+=t.length,this.height+=i;for(var r=0;r<this.children.length;++r){var a=n.children[r],o=a.chunkSize();if(e<=o){if(a.insertInner(e,t,i),a.lines&&a.lines.length>50){for(var s=a.lines.length%25+25,l=s;l<a.lines.length;){var u=new Vr(a.lines.slice(l,l+=25));a.height-=u.height,n.children.splice(++r,0,u),u.parent=n}a.lines=a.lines.slice(0,s),n.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),i=new Ur(t);if(e.parent){e.size-=i.size,e.height-=i.height;var n=h(e.parent.children,e);e.parent.children.splice(n+1,0,i)}else{var r=new Ur(e.children);r.parent=e,e.children=[r,i],e=r}i.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=this,r=0;r<this.children.length;++r){var a=n.children[r],o=a.chunkSize();if(e<o){var s=Math.min(t,o-e);if(a.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ks=function(e,t,i){var n=this;if(i)for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);this.doc=e,this.node=t};ks.prototype.clear=function(){var e=this,t=this.doc.cm,i=this.line.widgets,n=this.line,r=M(n);if(null!=r&&i){for(var a=0;a<i.length;++a)i[a]==e&&i.splice(a--,1);i.length||(n.widgets=null);var o=Pt(this);O(n,Math.max(0,n.height-o)),t&&(fn(t,function(){Wr(t,n,-o),bn(t,r,"widget")}),wt(t,"lineWidgetCleared",t,this,r))}},ks.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=Pt(this)-t;r&&(O(n,n.height+r),i&&fn(i,function(){i.curOp.forceUpdate=!0,Wr(i,n,r),wt(i,"lineWidgetChanged",i,e,M(n))}))},Oe(ks);var Ns=0,Ps=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ns};Ps.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,i=t&&!t.curOp;if(i&&an(t),De(this,"clear")){var n=this.find();n&&wt(this,"clear",n.from,n.to)}for(var r=null,a=null,o=0;o<this.lines.length;++o){var s=e.lines[o],l=Y(s.markedSpans,e);t&&!e.collapsed?bn(t,M(s),"text"):t&&(null!=l.to&&(a=M(s)),null!=l.from&&(r=M(s))),s.markedSpans=J(s.markedSpans,l),null==l.from&&e.collapsed&&!ve(e.doc,s)&&t&&O(s,bi(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=de(e.lines[u]),d=ye(c);d>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=d,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&mn(t,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&_r(t.doc)),t&&wt(t,"markerCleared",t,this,r,a),i&&on(t),this.parent&&this.parent.clear()}},Ps.prototype.find=function(e,t){var i=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,r,a=0;a<this.lines.length;++a){var o=i.lines[a],s=Y(o.markedSpans,i);if(null!=s.from&&(n=L(t?o:M(o),s.from),e==-1))return n;if(null!=s.to&&(r=L(t?o:M(o),s.to),1==e))return r}return n&&{from:n,to:r}},Ps.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&fn(n,function(){var r=t.line,a=M(t.line),o=$t(n,a);if(o&&(Zt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ve(i.doc,r)&&null!=i.height){var s=i.height;i.height=null;var l=Pt(i)-s;l&&O(r,r.height+l)}wt(n,"markerChanged",n,e)})},Ps.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ps.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Oe(Ps);var Ls=function(e,t){var i=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=i};Ls.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();wt(this,"clear")}},Ls.prototype.find=function(e,t){return this.primary.find(e,t)},Oe(Ls);var Rs=0,Fs=function(e,t,i,n,r){if(!(this instanceof Fs))return new Fs(e,t,i,n,r);null==i&&(i=0),Ur.call(this,[new Vr([new vs("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var a=L(i,0);this.sel=Hn(a),this.history=new er(null),this.id=++Rs,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Jn(this,{from:a,to:a,text:e}),wr(this,Hn(a),$o)};Fs.prototype=y(Ur.prototype,{constructor:Fs,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=D(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:vn(function(e){var t=L(this.first,0),i=this.first+this.size-1;Or(this,{from:t,to:L(i,T(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&qi(this.cm,0,0),wr(this,Hn(t),$o)}),replaceRange:function(e,t,i,n){t=U(this,t),i=i?U(this,i):t,Rr(this,e,t,i,n)},getRange:function(e,t,i){var n=I(this,U(this,e),U(this,t));return i===!1?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(N(this,e))return T(this,e)},getLineNumber:function(e){return M(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=T(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t,i=this.sel.primary();return t=null==e||"head"==e?i.head:"anchor"==e?i.anchor:"end"==e||"to"==e||e===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vn(function(e,t,i){mr(this,U(this,"number"==typeof e?L(e,t||0):e),null,i)}),setSelection:vn(function(e,t,i){mr(this,U(this,e),U(this,t||e),i)}),extendSelection:vn(function(e,t,i){pr(this,U(this,e),t&&U(this,t),i)}),extendSelections:vn(function(e,t){gr(this,z(this,e),t)}),extendSelectionsBy:vn(function(e,t){var i=v(this.sel.ranges,e);gr(this,z(this,i),t)}),setSelections:vn(function(e,t,i){var n=this;if(e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new Ms(U(n,e[a].anchor),U(n,e[a].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),wr(this,Bn(r,t),i)}}),addSelection:vn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new Ms(U(this,e),U(this,t||e))),wr(this,Bn(n,n.length-1),i)}),getSelection:function(e){for(var t,i=this,n=this.sel.ranges,r=0;r<n.length;r++){var a=I(i,n[r].from(),n[r].to());t=t?t.concat(a):a}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,i=[],n=this.sel.ranges,r=0;r<n.length;r++){var a=I(t,n[r].from(),n[r].to());e!==!1&&(a=a.join(e||t.lineSeparator())),i[r]=a}return i},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:vn(function(e,t,i){for(var n=this,r=[],a=this.sel,o=0;o<a.ranges.length;o++){var s=a.ranges[o];r[o]={from:s.from(),to:s.to(),text:n.splitLines(e[o]),origin:i}}for(var l=t&&"end"!=t&&Gn(this,r,t),u=r.length-1;u>=0;u--)Or(n,r[u]);l?yr(this,l):this.cm&&$i(this.cm)}),undo:vn(function(){kr(this,"undo")}),redo:vn(function(){kr(this,"redo")}),undoSelection:vn(function(){kr(this,"undo",!0)}),redoSelection:vn(function(){kr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){this.history=new er(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:hr(this.history.done),undone:hr(this.history.undone)}},setHistory:function(e){var t=this.history=new er(this.history.maxGeneration);t.done=hr(e.done.slice(0),null,!0),t.undone=hr(e.undone.slice(0),null,!0)},setGutterMarker:vn(function(e,t,i){return Hr(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&E(n)&&(e.gutterMarkers=null),!0})}),clearGutter:vn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&Hr(t,i,"gutter",function(){return i.gutterMarkers[e]=null,E(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!N(this,e))return null;if(t=e,e=T(this,e),!e)return null}else if(t=M(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:vn(function(t,i,n){return Hr(this,t,"gutter"==i?"gutter":"class",function(t){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass";if(t[r]){if(e(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:vn(function(t,i,n){return Hr(this,t,"gutter"==i?"gutter":"class",function(t){var r="text"==i?"textClass":"background"==i?"bgClass":"gutter"==i?"gutterClass":"wrapClass",a=t[r];if(!a)return!1;if(null==n)t[r]=null;else{var o=a.match(e(n));if(!o)return!1;var s=o.index+o[0].length;t[r]=a.slice(0,o.index)+(o.index&&s!=a.length?" ":"")+a.slice(s)||null}return!0})}),addLineWidget:vn(function(e,t,i){return zr(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Gr(this,U(this,e),U(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),Gr(this,e,e,i,"bookmark")},findMarksAt:function(e){e=U(this,e);var t=[],i=T(this,e.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=U(this,e),t=U(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var a=r.text.length+n;return a>e?(t=e,!0):(e-=a,void++i)}),U(this,L(i,t))},indexFromPos:function(e){e=U(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new Fs(D(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Fs(D(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yr(n,qr(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof qa&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=t.linked[i];if(n.doc==e){t.linked.splice(i,1),e.unlinkDoc(t),Jr(qr(t));break}}if(e.history==this.history){var r=[e.id];Kn(e,function(e){return r.push(e.id)},!0),e.history=new er(null),e.history.done=hr(this.history.done,r),e.history.undone=hr(this.history.undone,r)}},iterLinkedDocs:function(e){Kn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):as(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:vn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Zn(this.cm))})}),Fs.prototype.eachLine=Fs.prototype.iter;for(var js=0,Bs=!1,Hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vs=0;Vs<10;Vs++)Hs[Vs+48]=Hs[Vs+96]=String(Vs);for(var Us=65;Us<=90;Us++)Hs[Us]=String.fromCharCode(Us);for(var Ws=1;Ws<=12;Ws++)Hs[Ws+111]=Hs[Ws+63235]="F"+Ws;var zs={};zs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},zs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},zs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},zs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},zs.default=ko?zs.macDefault:zs.pcDefault;var Gs={selectAll:Ir,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),$o)},killLine:function(e){return da(e,function(t){if(t.empty()){var i=T(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:L(t.head.line+1,0)}:{from:t.head,to:L(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return da(e,function(t){return{from:L(t.from().line,0),to:U(e.doc,L(t.to().line+1,0))}})},delLineLeft:function(e){return da(e,function(e){return{from:L(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return da(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return da(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(L(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(L(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return va(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return ba(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ma(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},Yo)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},Yo)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?ba(e,t.head):n},Yo)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var a=i[r].from(),o=d(e.getLine(a.line),a.ch,n);t.push(p(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return fn(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var r=t[n].head,a=T(e.doc,r.line).text;if(a)if(r.ch==a.length&&(r=new L(r.line,r.ch-1)),r.ch>0)r=new L(r.line,r.ch+1),e.replaceRange(a.charAt(r.ch-1)+a.charAt(r.ch-2),L(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var o=T(e.doc,r.line-1).text;o&&(r=new L(r.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),L(r.line-1,o.length-1),r,"+transpose"))}i.push(new Ms(r,r))}e.setSelections(i)})},newlineAndIndent:function(e){return fn(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);$i(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},$s=new Vo,qs=null,Ys=400,Js=function(e,t,i){this.time=e,this.pos=t,this.button=i};Js.prototype.compare=function(e,t,i){return this.time+Ys>e&&0==R(t,this.pos)&&i==this.button};var Ks,Xs,Qs={toString:function(){return"CodeMirror.Init"}},Zs={},el={};qa.defaults=Zs,qa.optionHandlers=el;var tl=[];qa.defineInitHook=function(e){return tl.push(e)};var il=null,nl=function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,r=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&pn(this,t[e])(this,i,r),Se(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](ca(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:gn(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},function(e){return e.priority}),this.state.modeGen++,mn(this)}),removeOverlay:gn(function(e){for(var t=this,i=this.state.overlays,n=0;n<i.length;++n){var r=i[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return i.splice(n,1),t.state.modeGen++,void mn(t)}}),indentLine:gn(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),N(this.doc,e)&&Ja(this,e,t,i)}),indentSelection:gn(function(e){for(var t=this,i=this.doc.sel.ranges,n=-1,r=0;r<i.length;r++){var a=i[r];if(a.empty())a.head.line>n&&(Ja(t,a.head.line,e,!0),n=a.head.line,r==t.doc.sel.primIndex&&$i(t));else{var o=a.from(),s=a.to(),l=Math.max(n,o.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<n;++u)Ja(t,u,e);var c=t.doc.sel.ranges;0==o.ch&&i.length==c.length&&c[r].from().ch>0&&vr(t.doc,r,new Ms(o,c[r].to()),$o)}}}),getTokenAt:function(e,t){return et(this,e,t)},getLineTokens:function(e,t){return et(this,L(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,i=Je(this,T(this.doc,e.line)),n=0,r=(i.length-1)/2,a=e.ch;if(0==a)t=i[2];else for(;;){var o=n+r>>1;if((o?i[2*o-1]:0)>=a)r=o;else{if(!(i[2*o+1]<a)){t=i[2*o+2];break}n=o+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,r=[];if(!i.hasOwnProperty(t))return r;var a=i[t],o=this.getModeAt(e);if("string"==typeof o[t])a[o[t]]&&r.push(a[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var l=a[o[t][s]];l&&r.push(l)}else o.helperType&&a[o.helperType]?r.push(a[o.helperType]):a[o.name]&&r.push(a[o.name]);for(var u=0;u<a._global.length;u++){var c=a._global[u];c.pred(o,n)&&h(r,c.val)==-1&&r.push(c.val)}return r},getStateAfter:function(e,t){var i=this.doc;return e=V(i,null==e?i.first+i.size-1:e),Ke(this,e+1,t).state},cursorCoords:function(e,t){var i,n=this.doc.sel.primary();return i=null==e?n.head:"object"==typeof e?U(this.doc,e):e?n.from():n.to(),li(this,i,t||"page")},charCoords:function(e,t){return si(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=oi(this,e,t||"page"),di(this,e.left,e.top)},lineAtHeight:function(e,t){return e=oi(this,{top:e,left:0},t||"page").top,k(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1;if("number"==typeof e){var a=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>a&&(e=a,r=!0),n=T(this.doc,e)}else n=e;return ai(this,n,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-be(n):0)},defaultTextHeight:function(){return bi(this.display)},defaultCharWidth:function(){return yi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var a=this.display;e=li(this,U(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var l=Math.max(a.wrapper.clientHeight,this.doc.height),u=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==r?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?s=0:"middle"==r&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),i&&Wi(this,{left:s,top:o,right:s+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:gn(Ca),triggerOnKeyPress:gn(Ia),triggerOnKeyUp:Ta,triggerOnMouseDown:gn(Oa),execCommand:function(e){if(Gs.hasOwnProperty(e))return Gs[e].call(null,this)},triggerElectric:gn(function(e){Za(this,e)}),findPosH:function(e,t,i,n){
var r=this,a=1;t<0&&(a=-1,t=-t);for(var o=U(this.doc,e),s=0;s<t&&(o=no(r.doc,o,a,i,n),!o.hitSide);++s);return o},moveH:gn(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?no(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},Yo)}),deleteH:gn(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):da(this,function(i){var r=no(n,i.head,e,t,!1);return e<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=this,a=1,o=n;t<0&&(a=-1,t=-t);for(var s=U(this.doc,e),l=0;l<t;++l){var u=li(r,s,"div");if(null==o?o=u.left:u.left=o,s=ro(r,u,a,i),s.hitSide)break}return s},moveV:gn(function(e,t){var i=this,n=this.doc,r=[],a=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(o){if(a)return e<0?o.from():o.to();var s=li(i,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),r.push(s.left);var l=ro(i,s,e,t);return"page"==t&&o==n.sel.primary()&&Gi(i,si(i,l,"div").top-s.top),l},Yo),r.length)for(var o=0;o<n.sel.ranges.length;o++)n.sel.ranges[o].goalColumn=r[o]}),findWordAt:function(e){var t=this.doc,i=T(t,e.line).text,n=e.ch,r=e.ch;if(i){var a=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=i.length||!n?++r:--n;for(var o=i.charAt(n),s=x(o,a)?function(e){return x(e,a)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(i.charAt(n-1));)--n;for(;r<i.length&&s(i.charAt(r));)++r}return new Ms(L(e.line,n),L(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Bo(this.display.cursorDiv,"CodeMirror-overwrite"),Se(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gn(function(e,t){qi(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Bt(this)-this.display.barHeight,width:e.scrollWidth-Bt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:Ht(this)}},scrollIntoView:gn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:L(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Yi(this,e):Ki(this,e.from,e.to,e.margin)}),setSize:gn(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&ei(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){bn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,Se(this,"refresh",this)}),operation:function(e){return fn(this,e)},startOperation:function(){return an(this)},endOperation:function(){return on(this)},refresh:gn(function(){var e=this.display.cachedTextHeight;mn(this),this.curOp.forceUpdate=!0,ti(this),qi(this,this.doc.scrollLeft,this.doc.scrollTop),kn(this),(null==e||Math.abs(e-bi(this.display))>.5)&&_i(this),Se(this,"refresh",this)}),swapDoc:gn(function(e){var t=this.doc;return t.cm=null,Xn(this,e),ti(this),this.display.input.reset(),qi(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Oe(e),e.registerHelper=function(t,n,r){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=r},e.registerGlobalHelper=function(t,n,r,a){e.registerHelper(t,n,a),i[t]._global.push({pred:r,val:a})}},rl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Vo,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};rl.prototype.init=function(e){function t(e){if(!Te(r,e)){if(r.somethingSelected())Ka({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=eo(r);Ka({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,$o),r.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var i=il.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var o=io(),s=o.firstChild;r.display.lineSpace.insertBefore(o,r.display.lineSpace.firstChild),s.value=il.text.join("\n");var l=document.activeElement;Ho(s),setTimeout(function(){r.display.lineSpace.removeChild(o),l.focus(),l==a&&n.showPrimarySelection()},50)}}var i=this,n=this,r=n.cm,a=n.div=e.lineDiv;to(a,r.options.spellcheck),ns(a,"paste",function(e){Te(r,e)||Qa(e,r)||xo<=11&&setTimeout(pn(r,function(){return i.updateFromDOM()}),20)}),ns(a,"compositionstart",function(e){i.composing={data:e.data,done:!1}}),ns(a,"compositionupdate",function(e){i.composing||(i.composing={data:e.data,done:!1})}),ns(a,"compositionend",function(e){i.composing&&(e.data!=i.composing.data&&i.readFromDOMSoon(),i.composing.done=!0)}),ns(a,"touchstart",function(){return n.forceCompositionEnd()}),ns(a,"input",function(){i.composing||i.readFromDOMSoon()}),ns(a,"copy",t),ns(a,"cut",t)},rl.prototype.prepareSelection=function(){var e=Ti(this.cm,!1);return e.focus=this.cm.state.focused,e},rl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},rl.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,i=t.doc.sel.primary(),n=i.from(),r=i.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||r.line<t.display.viewFrom)return void e.removeAllRanges();var a=uo(t,e.anchorNode,e.anchorOffset),o=uo(t,e.focusNode,e.focusOffset);if(!a||a.bad||!o||o.bad||0!=R(H(a,o),n)||0!=R(B(a,o),r)){var s=t.display.view,l=n.line>=t.display.viewFrom&&ao(t,n)||{node:s[0].measure.map[2],offset:0},u=r.line<t.display.viewTo&&ao(t,r);if(!u){var c=s[s.length-1].measure,d=c.maps?c.maps[c.maps.length-1]:c.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!l||!u)return void e.removeAllRanges();var h,f=e.rangeCount&&e.getRangeAt(0);try{h=Ro(l.node,l.offset,u.offset,u.node)}catch(e){}h&&(!vo&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),f&&null==e.anchorNode?e.addRange(f):vo&&this.startGracePeriod()),this.rememberSelection()}},rl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},rl.prototype.showMultipleSelections=function(e){i(this.cm.display.cursorDiv,e.cursors),i(this.cm.display.selectionDiv,e.selection)},rl.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},rl.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return a(this.div,t)},rl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},rl.prototype.blur=function(){this.div.blur()},rl.prototype.getField=function(){return this.div},rl.prototype.supportsTouch=function(){return!0},rl.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():fn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},rl.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},rl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(Oo&&Ao&&this.cm.options.gutters.length&&oo(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=uo(t,e.anchorNode,e.anchorOffset),n=uo(t,e.focusNode,e.focusOffset);i&&n&&fn(t,function(){wr(t.doc,Hn(i,n),$o),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},rl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,i=e.doc.sel.primary(),n=i.from(),r=i.to();if(0==n.ch&&n.line>e.firstLine()&&(n=L(n.line-1,T(e.doc,n.line-1).length)),r.ch==T(e.doc,r.line).text.length&&r.line<e.lastLine()&&(r=L(r.line+1,0)),n.line<t.viewFrom||r.line>t.viewTo-1)return!1;var a,o,s;n.line==t.viewFrom||0==(a=Ci(e,n.line))?(o=M(t.view[0].line),s=t.view[0].node):(o=M(t.view[a].line),s=t.view[a-1].node.nextSibling);var l,u,c=Ci(e,r.line);if(c==t.view.length-1?(l=t.viewTo-1,u=t.lineDiv.lastChild):(l=M(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var d=e.doc.splitLines(lo(e,s,u,o,l)),h=I(e.doc,L(o,0),L(l,T(e.doc,l).text.length));d.length>1&&h.length>1;)if(g(d)==g(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),o++}for(var f=0,p=0,v=d[0],m=h[0],b=Math.min(v.length,m.length);f<b&&v.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=g(d),w=g(h),x=Math.min(y.length-(1==d.length?f:0),w.length-(1==h.length?f:0));p<x&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==d.length&&1==h.length&&o==n.line)for(;f&&f>n.ch&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)f--,p++;d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var E=L(o,f),_=L(l,h.length?g(h).length-p:0);return d.length>1||d[0]||R(E,_)?(Rr(e.doc,d,E,_,"+input"),!0):void 0},rl.prototype.ensurePolled=function(){this.forceCompositionEnd()},rl.prototype.reset=function(){this.forceCompositionEnd()},rl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},rl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||fn(this.cm,function(){return mn(e.cm)})},rl.prototype.setUneditable=function(e){e.contentEditable="false"},rl.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||pn(this.cm,Xa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},rl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},rl.prototype.onContextMenu=function(){},rl.prototype.resetPosition=function(){},rl.prototype.needsContentAttribute=!0;var al=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Vo,this.hasSelection=!1,this.composing=null};al.prototype.init=function(e){function t(e){if(!Te(r,e)){if(r.somethingSelected())Ka({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=eo(r);Ka({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,$o):(n.prevInput="",o.value=t.text.join("\n"),Ho(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var i=this,n=this,r=this.cm,a=this.wrapper=io(),o=this.textarea=a.firstChild;e.wrapper.insertBefore(a,e.wrapper.firstChild),Do&&(o.style.width="0px"),ns(o,"input",function(){wo&&xo>=9&&i.hasSelection&&(i.hasSelection=null),n.poll()}),ns(o,"paste",function(e){Te(r,e)||Qa(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),ns(o,"cut",t),ns(o,"copy",t),ns(e.scroller,"paste",function(t){Lt(e,t)||Te(r,t)||(r.state.pasteIncoming=!0,n.focus())}),ns(e.lineSpace,"selectstart",function(t){Lt(e,t)||Me(t)}),ns(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ns(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},al.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=Ti(e);if(e.options.moveInputWithCursor){var r=li(e,i.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+o.top-a.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+o.left-a.left))}return n},al.prototype.showSelection=function(e){var t=this.cm,n=t.display;i(n.cursorDiv,e.cursors),i(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},al.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&Ho(this.textarea),wo&&xo>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",wo&&xo>=9&&(this.hasSelection=null))}},al.prototype.getField=function(){return this.textarea},al.prototype.supportsTouch=function(){return!1},al.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Mo||o()!=this.textarea))try{this.textarea.focus()}catch(e){}},al.prototype.blur=function(){this.textarea.blur()},al.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},al.prototype.receivedFocus=function(){this.slowPoll()},al.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},al.prototype.fastPoll=function(){function e(){var n=i.poll();n||t?(i.pollingFast=!1,i.slowPoll()):(t=!0,i.polling.set(60,e))}var t=!1,i=this;i.pollingFast=!0,i.polling.set(20,e)},al.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||os(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(wo&&xo>=9&&this.hasSelection===r||ko&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=r.charCodeAt(0);if(8203!=a||n||(n="​"),8666==a)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,r.length);o<s&&n.charCodeAt(o)==r.charCodeAt(o);)++o;return fn(t,function(){Xa(t,r.slice(o),n.length-o,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},al.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},al.prototype.onKeyPress=function(){wo&&xo>=9&&(this.hasSelection=null),this.fastPoll()},al.prototype.onContextMenu=function(e){function t(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,n.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,a.selForContextMenu=r.doc.sel}}function i(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=d,o.style.cssText=c,wo&&xo<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=l),null!=o.selectionStart){(!wo||wo&&xo<9)&&t();var e=0,i=function(){a.selForContextMenu==r.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==n.prevInput?pn(r,Ir)(r):e++<10?a.detectingSelectAll=setTimeout(i,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(i,200)}}var n=this,r=n.cm,a=r.display,o=n.textarea,s=Ai(r,e),l=a.scroller.scrollTop;if(s&&!Co){var u=r.options.resetSelectionOnContextMenu;u&&r.doc.sel.contains(s)==-1&&pn(r,wr)(r.doc,Hn(s),$o);var c=o.style.cssText,d=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var h=n.wrapper.getBoundingClientRect();o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(wo?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var f;if(Eo&&(f=window.scrollY),a.input.focus(),Eo&&window.scrollTo(null,f),a.input.reset(),r.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=!0,a.selForContextMenu=r.doc.sel,clearTimeout(a.detectingSelectAll),wo&&xo>=9&&t(),jo){Pe(e);var p=function(){Ce(window,"mouseup",p),setTimeout(i,20)};ns(window,"mouseup",p)}else setTimeout(i,50)}},al.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},al.prototype.setUneditable=function(){},al.prototype.needsContentAttribute=!1,Wa(qa),nl(qa);var ol="iter insert remove copy getEditor constructor".split(" ");for(var sl in Fs.prototype)Fs.prototype.hasOwnProperty(sl)&&h(ol,sl)<0&&(qa.prototype[sl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Fs.prototype[sl]));return Oe(Fs),qa.inputStyles={textarea:al,contenteditable:rl},qa.defineMode=function(e){qa.defaults.mode||"null"==e||(qa.defaults.mode=e),He.apply(this,arguments)},qa.defineMIME=Ve,qa.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),qa.defineMIME("text/plain","null"),qa.defineExtension=function(e,t){qa.prototype[e]=t},qa.defineDocExtension=function(e,t){Fs.prototype[e]=t},qa.fromTextArea=ho,fo(qa),qa.version="5.34.0",qa})},,,,,[2351,56,31,192],193,[2355,42,69,36],function(e,t,i){var n=i(11),r=i(101),a=i(24),o=i(423),s="["+o+"]",l="​",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(e,t,i){var r={},s=a(function(){return!!o[e]()||l[e]()!=l}),u=r[e]=s?t(h):o[e];i&&(r[i]=u),n(n.P+n.F*s,"String",r)},h=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=d},function(e,t,i){var n=i(25);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){"use strict";function i(e){return e}e.exports=i},,,,,,,,,,,,[2314,1751],,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.drop=t.hover=t.dndOpDetect=void 0;var r,a,o,s,l,u,c,d,h,f,p=i(12),g=n(p),v=i(15),m=n(v),b=i(188),y=n(b),w=i(29),x=i(182),E=i(59),_=i(260),A=i(523),C=i(527),S="Normal Attribute",T="Attribute in Linear Hierarchy",I="Attribute in Graph Hierarchy",D="Hierarchy",O="Linked Object",M="Multiform attribute",k="Geographic Role",N="Attribute LIST",P="Metric",L="Metric List",R="Convert",F="Add to Hierarchy",j="Remove from Hierarchy",B="Adjust Hierarchy",H="No Operation",V=null,U=[R,j,F,B],W={ATTRIBUTE:S,AILH:T,AIGH:I,LINKED:O,MFA:M,GEO:k,METRIC:P},z=[S,T,I,D,O,M,k],G=(0,g.default)({},H,V),$=(r={},(0,g.default)(r,R,E.DRAGGING_INDEX_CONVERT),(0,g.default)(r,F,E.DRAGGING_INDEX_ADD),(0,g.default)(r,H,E.DRAGGING_INDEX_FORBIDDEN),(0,g.default)(r,B,E.DRAGGING_INDEX_FLIPPED),(0,g.default)(r,j,E.DRAGGING_INDEX_CROSS),r),q=t.dndOpDetect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(1===e.length&&t.props.object&&t.props.object.id&&e[0].id===t.props.object.id)return[H];var i=X(Y(e),J(t));return 1===m.default.uniq(i).length&&i[0]===B&&m.default.uniq(m.default.map(e,function(e){return e.hierarchyName})).length>1&&m.default.fill(i,H),i},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return m.default.map(e,function(e){return e.isInLinearHierarchy?W.AILH:e.isInGraphHierarchy?W.AIGH:e.isMFA?W.MFA:e.type===E.ATTRIBUTES?W.ATTRIBUTE:e.type===E.METRICS?W.METRIC:e.isLinked?W.LINKED:""})},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.default.isEmpty(e)||m.default.isEmpty(e.props)?"":e.props.attributeList?N:e.props.metricList?L:e.props.object.isInLinearHierarchy?T:e.props.object.isInGraphHierarchy?I:e.props.object.isMFA?M:e.props.object.isLinked&&e.props.object.type===E.ATTRIBUTES?O:e.props.object.type===E.HIERARCHY?D:e.props.object.type===E.ATTRIBUTES?S:e.props.object.type===E.METRICS?P:""},K=(f={},(0,g.default)(f,S,(a={},(0,g.default)(a,S,H),(0,g.default)(a,T,F),(0,g.default)(a,I,H),(0,g.default)(a,D,F),(0,g.default)(a,O,H),(0,g.default)(a,M,H),(0,g.default)(a,k,H),(0,g.default)(a,N,H),(0,g.default)(a,P,R),(0,g.default)(a,L,R),(0,g.default)(a,"",H),a)),(0,g.default)(f,T,(o={},(0,g.default)(o,S,j),(0,g.default)(o,T,B),(0,g.default)(o,I,H),(0,g.default)(o,D,B),(0,g.default)(o,O,j),(0,g.default)(o,M,j),(0,g.default)(o,k,j),(0,g.default)(o,N,j),(0,g.default)(o,P,H),(0,g.default)(o,L,H),(0,g.default)(o,"",H),o)),(0,g.default)(f,I,(s={},(0,g.default)(s,S,H),(0,g.default)(s,T,H),(0,g.default)(s,I,H),(0,g.default)(s,D,H),(0,g.default)(s,O,H),(0,g.default)(s,M,H),(0,g.default)(s,k,H),(0,g.default)(s,N,H),(0,g.default)(s,P,H),(0,g.default)(s,L,H),(0,g.default)(s,"",H),s)),(0,g.default)(f,D,(l={},(0,g.default)(l,S,H),(0,g.default)(l,T,H),(0,g.default)(l,I,H),(0,g.default)(l,D,H),(0,g.default)(l,O,H),(0,g.default)(l,M,H),(0,g.default)(l,k,H),(0,g.default)(l,N,H),(0,g.default)(l,P,H),(0,g.default)(l,L,H),(0,g.default)(l,"",H),l)),(0,g.default)(f,O,(u={},(0,g.default)(u,S,H),(0,g.default)(u,T,F),(0,g.default)(u,I,H),(0,g.default)(u,D,F),(0,g.default)(u,O,H),(0,g.default)(u,M,H),(0,g.default)(u,k,H),(0,g.default)(u,N,H),(0,g.default)(u,P,R),(0,g.default)(u,L,R),(0,g.default)(u,"",H),u)),(0,g.default)(f,M,(c={},(0,g.default)(c,S,H),(0,g.default)(c,T,F),(0,g.default)(c,I,H),(0,g.default)(c,D,F),(0,g.default)(c,O,H),(0,g.default)(c,M,H),(0,g.default)(c,k,H),(0,g.default)(c,N,H),(0,g.default)(c,P,H),(0,g.default)(c,L,H),(0,g.default)(c,"",H),c)),(0,g.default)(f,k,(d={},(0,g.default)(d,S,H),(0,g.default)(d,T,F),(0,g.default)(d,I,H),(0,g.default)(d,D,F),(0,g.default)(d,O,H),(0,g.default)(d,M,H),(0,g.default)(d,k,H),(0,g.default)(d,N,H),(0,g.default)(d,P,H),(0,g.default)(d,L,H),(0,g.default)(d,"",H),d)),(0,g.default)(f,P,(h={},(0,g.default)(h,S,R),(0,g.default)(h,T,H),(0,g.default)(h,I,H),(0,g.default)(h,D,H),(0,g.default)(h,O,R),(0,g.default)(h,M,R),(0,g.default)(h,k,R),(0,g.default)(h,N,R),(0,g.default)(h,P,H),(0,g.default)(h,L,H),(0,g.default)(h,"",H),h)),(0,g.default)(f,"",{"":H}),f),X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return m.default.uniq(m.default.map(e,function(e){return z.includes(e)?0:1})).length>1?[H]:m.default.uniq(e).length>1?[H]:m.default.map(e,function(e){return K[e][t]})},Q=function(){return function(e,t,i){var n=e.objectType,r=e.selectedObjects;i.type!==n&&(r=e["selected"+m.default.capitalize(i.type)+"s"]);var a=m.default.map(m.default.map(r,function(e){return e.id}),function(e){return(0,_.getConvertObjectTypeOperation)(void 0,i.type,e)});return(0,x.manipulateModel)(a,"Convert Object Type")}};G[R]=Q;var Z=function(){return function(e,t){var i=e.object,n=e.hierarchyObj,r=e.selectedObjects;if(r.length){var a=m.default.findIndex(n&&n.attributes,function(e){return e.id===i.id}),o=(0,A.getLinearHierarchyDnDOp)(n,m.default.map(r,function(e){return e.id}),m.default.result(n,"attributes["+a+"].id"));return t.setState({addAttributeFocus:!1}),(0,x.manipulateModel)(o,"add Relationship in hierarchy")}}};G[F]=Z;var ee=function(){return function(e){var t=e.selectedObjects,i=(0,_.getDeleteAttrFromHier)(m.default.map(t,function(e){return e.id}),m.default.map(t,function(e){return e.hierarchyName}));return(0,x.manipulateModel)(i,"Delete attribute from hierarchy")}};G[j]=ee;var te=function(){return function(e){var t=e.hierarchyObj,i=e.object,n=e.selectedObjects;if(n.length){var r=(0,A.getLinearHierarchyDnDOp)(t,m.default.map(n,function(e){return e.id}),i.id);return(0,x.manipulateModel)(r,"update relationship")}}};G[B]=te;var ie=function(e){return function(t,i,n){var r=n.getUUID?n.getUUID():n.getDecoratedComponentInstance&&n.getDecoratedComponentInstance().getUUID?n.getDecoratedComponentInstance().getUUID():n.getDecoratedComponentInstance&&n.getDecoratedComponentInstance().wrappedInstance&&n.getDecoratedComponentInstance().wrappedInstance.getUUID?n.getDecoratedComponentInstance().wrappedInstance.getUUID():"";if(i.isOver({shallow:!0})&&e.get()!==r){e.set(r);var a=t.objectType,o=t.selectedObjects,s=i.getItem();s.type!==a&&(o=t["selected"+m.default.capitalize(s.type)+"s"]);var l=q(o,n);!!$[l[0]]&&C.draggingIndicator$.onNext($[l[0]])}}};t.hover=ie(C.dropTrgUUID),t.drop=function(e,t,i){if(!t.didDrop()){var n=t.getItem(),r=e.objectType,a=e.selectedObjects;n.type===r&&void 0!==a||(a=e["selected"+m.default.capitalize(n.type)+"s"]);var o=q(a,i),s=m.default.map(o,function(t,r){return"function"==typeof G[t]?G[t](a[r])(e,i,n):V}),l=[];return y.default.reduce(s,function(e,t,i){return t===V?y.default.resolve():U.indexOf(o[i])>=0&&l.indexOf(o[i])>=0?y.default.resolve():(l=l.concat(o[i]),(0,w.dispatchAction)(t))},[]),{}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RMCObjectSubject$=t.objectCountSubject$=void 0;var r=i(179),a=n(r);t.objectCountSubject$=new a.default.Subject,t.RMCObjectSubject$=new a.default.Subject},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allHierarchies=t.allForms=t.allColumns=t.allMetrics=t.allAttributes=t.dbTables=t.srcTables=t.objects=t.mfaDialog=t.importSources=void 0;var n=i(82),r=t.importSources=function(e){return e.dmState.importSources},a=(t.mfaDialog=function(e){return e.dmState.mfaDialog},t.objects=(0,n.createSelector)(r,function(e){return e.defn&&e.defn.objects?e.defn.objects:{}}));t.srcTables=(0,n.createSelector)(a,function(e){return e.table}),t.dbTables=(0,n.createSelector)(a,function(e){return e.dbTable}),t.allAttributes=(0,n.createSelector)(a,function(e){return e.attribute}),t.allMetrics=(0,n.createSelector)(a,function(e){return e.metric}),t.allColumns=(0,n.createSelector)(a,function(e){return e.column}),t.allForms=(0,n.createSelector)(a,function(e){return e.form}),t.allHierarchies=(0,n.createSelector)(a,function(e){return e.hierarchy})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(t.facetType={STRING:"STRING",NUMERIC:"NUMERIC",DATE:"DATE",TIME:"TIME",TIMESTAMP:"TIMESTAMP"},t.BETWEEN="BETWEEN",t.GREATER="GREATER",t.LESS="LESS",t.EQUALS="EQUALS",t.DNEQUALS="DNEQUALS",t.GREATERTE="GREATERTE",t.LESSTE="LESSTE",t.NOTBETWEEN="NOTBETWEEN",t.ISNULL="ISNULL",t.ISNOTNULL="ISNOTNULL",t.barHeight=15,t.SORTAZ="SORT-AZ"),n=t.SORTZA="SORT-ZA",r=t.SORTASC="SORT-ASC",a=t.SORTDEC="SORT-DEC";t.stringOperations=[{key:a,value:"Sort Descending",className:"facet-icon sort-desc",default:!0},{key:r,value:"Sort Ascending",className:"facet-icon sort-asc"},{key:i,value:"Sort A-Z",className:"facet-icon sort-az"},{key:n,value:"Sort Z-A",className:"facet-icon sort-za"}],t.containerHeightOffset=2,t.facetViewType={GROUP:"GROUP",DISTINCT:"DISTINCT"},t.facetDim={uniqueFacet:{toolbarH:28}},t.BASE_DATE_FOR_TIME="1970-01-01",t.DATE_TIME_PATTERN="YYYY-MM-DD HH:mm:ss",t.RESET="Reset",t.BIN_VIEW="Bin View",t.UNIQUE_VIEW="Unique View",t.DATE_SELECTOR="Date Selector",t.TIME_SELECTOR="Time Selector",t.DATE_TIME_SELECTOR="Date/Time Selector",t.RANGE_SELECTOR="Range Selector",t.ICON_DISABLED=.3,t.ICON_ACTIVE=1},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UNCHECKED=0,t.VALID=1,t.INVALID=-1,t.PLUS="PLUS",t.MNS="MINUS",t.MTP="MULTIPLY",t.DVD="DIVIDE",t.PTH="PARENTHESES",t.SBK="SQUARE_BRACKETS",t.exceptionKeyCode=[8,13,27,37,38,39,40],t.punctuation=["+","-","*","/","(",")","[","]",","],t.ALL="ALL",t.MAX_EXPRESSION_HEIGHT=342,t.DEFAULT_EXPRESSION_HEIGHT=220,t.BDE_FUNCTIONS=["0DFE6FB4356F4FA2A0C1C10D0B415355","375104850C3E45EA889D9F5FEB37D317","B2C0FA4020C711D6AD1400C04F0423DE","B2C0FA4120C711D6AD1400C04F0423DE","9AD889E56E4D4E56A127207B4AF77166","8107C31BDD9911D3B98100C04F2233EA","8107C31DDD9911D3B98100C04F2233EA","8107C31EDD9911D3B98100C04F2233EA","8107C31FDD9911D3B98100C04F2233EA","8107C31CDD9911D3B98100C04F2233EA","AB08D4FC700B4EE58C021BFA2ABD77D0","993F6897863E43CFBEA4969F68BBDED7","C50F2A4F75AE49D6B20E00224967B500","0150F348CB0B4D9AB8CCA458C1ACC4B0","6F7DF5F2449111D5BEA300B0D01A55EF","6F7DF5F3449111D5BEA300B0D01A55EF","6F7DF5F4449111D5BEA300B0D01A55EF","6F7DF5FB449111D5BEA300B0D01A55EF","6F7DF5FE449111D5BEA300B0D01A55EF","6F7DF5FC449111D5BEA300B0D01A55EF","6F7DF5F6449111D5BEA300B0D01A55EF","A9A5B40DF7204F27A04AB3C74225477E","B651EC29A3074BA68F31DE99FC300AF7","7C63D4E70B2741C3A5B54A2EFD40961B","6F7DF5F7449111D5BEA300B0D01A55EF","6F7DF5FD449111D5BEA300B0D01A55EF","6F7DF5F5449111D5BEA300B0D01A55EF","6F7DF5F8449111D5BEA300B0D01A55EF","2146A148C528458181CD816CD96E71D3","8F090B600594488A8FF89A5867C78973","8107C33EDD9911D3B98100C04F2233EA","8107C33FDD9911D3B98100C04F2233EA","6F7DF5FF449111D5BEA300B0D01A55EF","8107C357DD9911D3B98100C04F2233EA","6F7DF606449111D5BEA300B0D01A55EF","6F7DF609449111D5BEA300B0D01A55EF","6F7DF600449111D5BEA300B0D01A55EF","6F7DF601449111D5BEA300B0D01A55EF","6F7DF602449111D5BEA300B0D01A55EF","6F7DF603449111D5BEA300B0D01A55EF","6F7DF608449111D5BEA300B0D01A55EF","6F7DF604449111D5BEA300B0D01A55EF","6F7DF605449111D5BEA300B0D01A55EF","6F7DF607449111D5BEA300B0D01A55EF","8107C347DD9911D3B98100C04F2233EA","8107C327DD9911D3B98100C04F2233EA","F262C811DDA611D3B98100C04F2233EA","F262C812DDA611D3B98100C04F2233EA","F262C813DDA611D3B98100C04F2233EA","F262C830DDA611D3B98100C04F2233EA","F262C814DDA611D3B98100C04F2233EA","F262C815DDA611D3B98100C04F2233EA","F262C816DDA611D3B98100C04F2233EA","F262C817DDA611D3B98100C04F2233EA","F262C818DDA611D3B98100C04F2233EA","F262C819DDA611D3B98100C04F2233EA","F262C81ADDA611D3B98100C04F2233EA","F262C81BDDA611D3B98100C04F2233EA","F262C81CDDA611D3B98100C04F2233EA","F262C81DDDA611D3B98100C04F2233EA","F262C81EDDA611D3B98100C04F2233EA","F262C81FDDA611D3B98100C04F2233EA","F262C820DDA611D3B98100C04F2233EA","F262C821DDA611D3B98100C04F2233EA","F262C822DDA611D3B98100C04F2233EA","F262C831DDA611D3B98100C04F2233EA","F262C824DDA611D3B98100C04F2233EA","F262C825DDA611D3B98100C04F2233EA","F262C826DDA611D3B98100C04F2233EA","F262C828DDA611D3B98100C04F2233EA","F262C829DDA611D3B98100C04F2233EA","5CCBF590DAB311D5AD0E00C04F0423DE","F262C82ADDA611D3B98100C04F2233EA","F262C82BDDA611D3B98100C04F2233EA","F262C82CDDA611D3B98100C04F2233EA","F262C82DDDA611D3B98100C04F2233EA","F262C82EDDA611D3B98100C04F2233EA","F262C82FDDA611D3B98100C04F2233EA"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={VALUE_TYPE_CONST:"const",VALUE_TYPE_LIST:"list",VALUE_TYPE_COLUMN:"column"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1132),a=n(r),o=i(130),s=[o.TYPE_VALUES.BYTE,o.TYPE_VALUES.SHORT,o.TYPE_VALUES.INTEGER,o.TYPE_VALUES.LONG,o.TYPE_VALUES.FLOAT,o.TYPE_VALUES.DOUBLE,o.TYPE_VALUES.DECIMAL],l=[o.TYPE_VALUES.DATE,o.TYPE_VALUES.TIME,o.TYPE_VALUES.TIMESTAMP],u=[o.TYPE_VALUES.BOOLEAN],c=[o.TYPE_VALUES.STRING],d=[o.TYPE_VALUES.BINARY],h=s.concat(l).concat(c),f=h.concat(u),p=d.concat(f);t.default=[{text:"Equals",value:"=",parameters:1,allows:f},{text:"Does not equal",value:"<>",parameters:1,allows:f},{text:"Greater than",value:">",
parameters:1,allows:h},{text:"Greater than or equal to",value:">=",parameters:1,allows:h},{text:"Less than",value:"<",parameters:1,allows:h},{text:"Less than or equal to",value:"<=",parameters:1,allows:h},{text:"Between",value:"Between",parameters:2,allows:h},{text:"Not between",value:"Not Between",parameters:2,allows:h},{text:"Contains",value:"Contains",parameters:1,constOnly:!0,allows:c},{text:"Does not contain",value:"Not Contains",parameters:1,constOnly:!0,allows:c},{text:"Begins with",value:"Begins With",parameters:1,constOnly:!0,allows:c},{text:"Does not begin with",value:"Not Begins With",parameters:1,constOnly:!0,allows:c},{text:"Ends with",value:"Ends With",parameters:1,constOnly:!0,allows:c},{text:"Does not end with",value:"Not Ends With",parameters:1,constOnly:!0,allows:c},{text:"Like",value:"Like",parameters:1,constOnly:!0,allows:c},{text:"Not like",value:"Not Like",parameters:1,constOnly:!0,allows:c},{text:"Is Null",value:"IsNull",parameters:0,allows:p},{text:"Is not Null",value:"IsNotNull",parameters:0,allows:p},{text:"In List",value:"IN",widget:a.default,parameters:1,allows:h},{text:"Not In List",value:"Not In",widget:a.default,parameters:1,allows:h}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="undefined"==typeof e?"undefined":(0,d.default)(e);return"object"===t&&(e?"number"!=typeof e.length||e.propertyIsEnumerable("length")||"function"!=typeof e.splice||(t="array"):t="null"),t}Object.defineProperty(t,"__esModule",{value:!0}),t.editString=t.AllExports=void 0;var a=i(53),o=(n(a),i(117)),s=n(o),l=i(28),u=n(l),c=i(35),d=n(c),h=i(188),f=n(h),p=(i(276),i(115)),g=(i(148),i(26)),v=n(g),m=i(1156),b=i(1190),y=i(382),w=i(187),x=i(149),E=i(147),_=i(29),A=i(225),C=i(1893),S=n(C),T=i(183),I=i(263),D=i(113),O=i(266),M=i(265),k=i(52),N=t.AllExports={};!function(e){e.fn.hoverIntent=function(t,i){var n={sensitivity:7,interval:100,timeout:0};n=e.extend(n,i?{over:t,out:i}:t);var r,a,o,s,l=function(e){r=e.pageX,a=e.pageY},u=function t(i,u){return u.hoverIntent_t=clearTimeout(u.hoverIntent_t),Math.abs(o-r)+Math.abs(s-a)<n.sensitivity?(e(u).unbind("mousemove",l),u.hoverIntent_s=1,n.over.apply(u,[i])):(o=r,s=a,u.hoverIntent_t=setTimeout(function(){t(i,u)},n.interval),void 0)},c=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,n.out.apply(t,[e])},d=function(t){for(var i=("mouseenter"==t.type?t.fromElement:t.toElement)||t.relatedTarget;i&&i!=this;)try{i=i.parentNode}catch(e){i=this}if(i==this)return!1;var r=v.default.extend({},t),a=this;a.hoverIntent_t&&(a.hoverIntent_t=clearTimeout(a.hoverIntent_t)),"mouseenter"==t.type?(o=r.pageX,s=r.pageY,e(a).bind("mousemove",l),1!=a.hoverIntent_s&&(a.hoverIntent_t=setTimeout(function(){u(r,a)},n.interval))):(e(a).unbind("mousemove",l),1==a.hoverIntent_s&&(a.hoverIntent_t=setTimeout(function(){c(r,a)},n.timeout)))};return this.mouseenter(d).mouseleave(d)}}(v.default);var P={};P.type={nominal:"nominal",ordinal:"ordinal",numeric:"numeric",unknown:"unknown"},P.ivar=function(e,t){"array"!=r(t)&&(t=[t]),t.forEach(function(t){var i;"object"===r(t)&&(i=t.initial,t=t.name);var n="_"+t;e[n]=i,e[t]=function(t){return arguments.length?(e[n]=t,e):e[n]}})},P.ivara=function(e,t){"array"!=r(t)&&(t=[t]),t.forEach(function(t){var i;"object"===r(t)&&(i=t.initial,void 0!=i&&"array"!=r(i)&&(i=[i]),t=t.name);var n="_"+t;e[n]=i,e[t]=function(t){return arguments.length?(e[n]="array"===r(t)?t:[t],e):e[n]}})},P.table=function(e,t){function i(e){for(var t,i=[],n={},r=0;r<e.length;++r)void 0===n[t=e[r]]&&(n[t]=1,i.push(t));return i.sort()}function n(e){void 0!=c(e)&&(e="_"+e),void 0===e&&(e="_"),e=e.replace(/ /g,"_");for(var t,i=e;void 0!=o[i];){var t=l[e];t?l[e]++:(t=0,l[e]=1),i=e+l[e]}return i}function a(e){return e.reduce(function(e,t,i){return e[t]=i,e},{})}var o=[],s={};o.addColumn=function(e,t,r,s,l,u){u=u||{},r=r||P.type.unknown,s=s,l=l,e=n(e);var c=u.compressAll||u.compress&&(r===P.type.nominal||r===P.type.ordinal),d=t;if(c){d=[],d.lut=i(t);for(var h=0,f=a(d.lut);h<t.length;++h)d.push(f[t[h]])}d.name=e,d.wrangler_type=s,d.wrangler_role=l,d.index=function(){for(var e=0;e<o.length;++e)if(o[e].name===this.name)return e;return-1},d.type=r,d.table=o,d.setName=function(e){var t=d.name;t!==e&&(e=n(e),d.name=e,delete o[t],o[e]=d)},void 0===u.index?o.push(d):o.splice(u.index,0,d),o[e]=d},o.rows=function(){return o?o.length:0},o.metadata=function(e,t){return arguments.length>1?(s[e]=t,o):s[e]},o.removeColumn=function(e){return e=o[e]||null,null!=e&&(delete o[e.name],o.splice(e.index(),1)),e},o.slice=function(e,t,i){e=e||0,void 0===t&&(t=o.rows());var n=o.map(function(i){return{name:i.name,type:i.type,values:i.slice(e,t),wrangler_type:i.wrangler_type,wrangler_role:i.wrangler_role}});return P.table(n,i)},o.slice_cols=function(e,t,i){e=e||0,t=t||o.cols();for(var n=o.slice(),r=t;r<o.cols();++r)n.removeColumn(t);for(var r=0;r<e;++r)n.removeColumn(0);return n},o.rows=function(){return o[0]?o[0].length:0},o.row=function(e){return o.map(function(t){return t[e]})},o.cols=function(){return o.length},o.names=function(){return(0,u.default)(o[0])},o.types=function(){return o.map(function(e){return e.wrangler_type})},o.query=function(e){var t=[],i=[1],n=e.dims,r=e.narm,a=e.filter?e.filter.table(o):void 0,s=e.result,l=e.limit||1e4,u=e.warn||!1;if(n)for(i=[],j=0;j<e.dims.length;++j){var c=e.dims[j],h="undefined"==typeof c?"undefined":(0,d.default)(c);"string"===h||"number"===h?p=o[c]:c.array?p=c.array(o[c.value]):c.values&&(p=c.values,p.lut=c.lut),t.push(p),i.push(p.lut.length)}var f,p,g,v,m,b,y,w,x,E,_,A,C,S,T,I,D,O,M=e.vals,k=i.reduce(function(e,t){return e*t},1),N=o[0].length,L={},R={},F=[],j=0,B=0,H=0,V=0;l&&k>l&&u&&alert("This unfold operation requires computing over 10,000 values.  We currently do not support operations this large and will preview only a subset of values created."),k=l?Math.min(l,k):k;var U=!1;for(j=0;j<M.length;++j){var W=M[j].init();for(m in W)"*"==m?(W[m].map(function(e){L[e]=P.array(k)}),U=!0):(V=o[m].index(),v=o[m].name,W[m].map(function(e){L[e+"_"+v]=L[e+"_"+V]=P.array(k)}),R[V]||(R[V]=!0,F.push(V)))}for(0==F.length&&U&&F.push(-1),j=0,f=[1];j<i.length;++j)f.push(f[j]*i[j]);for(B=0;B<F.length;++B)for(m=F[B],b=L.cnt,A=b&&0==B,y=L["sum_"+m],C=void 0!==y,w=L["ssq_"+m],S=void 0!==w,x=L["min_"+m],T=void 0!==x,E=L["max_"+m],I=void 0!==E,_=L["first_"+m],D=void 0!==_,p=o[m],j=0;j<N;++j){for(p&&(g=p[j]),V=0,H=0;H<i.length;++H)V+=f[H]*(n?t[H][j]:0);r&&isNaN(g)||a&&!a.test(j)||(A&&(b[V]+=1),C&&(y[V]+=g),S&&(w[V]+=g*g),D&&!_[V]&&(_[V]=p.lut[g]),T&&g<x[V]&&(x[V]=g),I&&g>E[V]&&(E[V]=g))}var z,G,s=[],$=1;for(j=0;j<t.length;++j){p=[],O=t[j].lut,z=i[j],G=0;for(var q=0,Y=0;q<k;++q,++Y)Y==$&&(Y=0,G=(G+1)%z),p[q]=O[G];$*=z,p.unique=O.length,s.push(p)}return M.map(function(e){s.push(e.done(L))}),s};var l={},c=function(e){var t=Number(e);if(!isNaN(t)&&(t||(e+"").indexOf("0")!==-1)&&parseInt(t)==t)return t};return"string"===r(e)&&(e=[{name:"data",values:[e],type:P.type.nominal}]),e.forEach(function(e){o.addColumn(e.name,e.values,e.type,e.wrangler_type,e.wrangler_role,t)}),o};var L={};L.jq=function(e){return(0,v.default)(document.createElement(e))},L.add_select_option=function(e,t,i){arguments.length<3&&(i=t);var n=document.createElement("option");n.value=i,n.text=t,e[0].options.add(n)},L.progress_call=function(e,t){var i=Array.prototype.slice.call(arguments).slice(2);return e.apply(i[0],i),this};var R=!1;L.engine=function(e){var t,i={},e=e||{},n=e.transform_set||L.engine.transform_set,a=e.corpus||L.corpus(),o=e.columnsName;P.ivar(i,[{name:"table",initial:void 0}]),P.ivara(i,[{name:"inputs",initial:[]}]),i._table=e.table,i._table.cols=o,i.run=function(e){var t=_().concat(y()).concat(x()).concat(w()),n=s(t),r=C([L.engine.promote,L.engine.param]);if(R&&1==n.length&&(0==r.length&&void 0===n[0]||r.length>0)){for(var a=i._table.length,l=o.length,u=L.calc_state_score(i._table),c=(L.num_unique_elts(i._table),[]),d=[],h=0;h<l;h++){for(var f=o[h],p=!0,g=0,v=0;v<a;v++){var m=i._table[v][f];if(L.is_missing(m)&&(g++,p)){var b=[],E=i._table.cols[v];i._table.forEach(function(e){b.push(""+e[E])});var A=b.filter(L.is_missing).length==b.length;A||(p=!1)}}if(g==a)d.push(f);else{var S=!1,T=!1,I=!1,D=!1;i._table.map(function(e){if(e&&e[f]&&"string"==typeof e[f]){var t=e[f].match(/,/g),i=e[f].match(/\:/g),n=e[f].match(/\|/g),r=e[f].match(/\t/g);t&&(S=!0),i&&(T=!0),n&&(I=!0),r&&(D=!0)}})}}for(var v=0;v<a;v++){var O=[];i._table.cols.forEach(function(e){O.push(""+i._table[v][e])});var g=O.filter(L.is_missing).length;g/O.length}for(var M=i._table.map(function(e){return e.name}),k=(M.length,[]),N=0;N<c.length;N++){var P=i._table.slice(),F=c[N];F.apply([P]);var j=F.description()[0];if("Unfold"==j){for(var B=i._table[F._measure],H=P.cols(),V=[],h=l-2;h<H;h++)for(var f=P[h],v=0;v<P.rows();v++)V.push(f[v]);var U=L.get_column_stats(B,a),W=L.get_column_stats(V,V.length),z=1-U.colHomogeneity+U.numMissing/a,G=1-W.colHomogeneity+W.numMissing/V.length;G<=z&&k.push([G-z,F])}else{var $=L.calc_state_score(P);L.num_unique_elts(P);$<u&&k.push([u-$,F])}}k.sort(function(e,t){return t[0]-e[0]}),t=k.map(function(e){return e[1]});var r=C([L.engine.promote,L.engine.param]),q=r[r.length-1],Y=q&&q.transform;return Y?(t.unshift(Y),t=t.filter(function(e,i){return 0===i||void 0===e||(!t[0]||!e.equals(t[0]))})):t.unshift(void 0),t}return n.slice(0,e)},i.input=function(e){return i._inputs.push(e),i},i.restart=function(){},i.promoted_transform=function(){var e=C([L.engine.promote,L.engine.param,L.engine.filter]),t=e[e.length-1];return t&&t.transform};var s=function(e){var i=C([L.engine.promote,L.engine.param]),r=i[i.length-1],a=[],o=n.slice(0);if(t=r&&r.transform,t&&(o=o.filter(function(e){return e.name!=t.name}),o.unshift(t)),a=a.concat(o.reduce(function(t,i){return t.concat(e.filter(function(e){return!e.is_transform}).reduce(function(e,t){return e.concat(p(i,t))},[]))},[])),a=e.filter(function(e){return e.is_transform}).concat(a),a=a.concat(g()).concat(b()).concat(m()).concat(v()),a=d(a),a.unshift(t),a=l(a),a=a.slice(0,12).filter(function(e,t){return 0===t||void 0===e||(!a[0]||!e.equals(a[0]))}),1===a.length&&void 0===a[0]){var s=c();s&&(a=[L[s]()])}return a},l=function(e){for(var i,n,r={},a={},o=c(),s=[],l=o||t&&t.name,u=Math.max(Math.ceil(.33*Math.min(10,e.length)),10),d=0,h=0;h<e.length;++h)i=e[h],void 0===i||(n=a[i.name]||0,i.name===l?d++:(a[i.name]=++n,n<=u&&d++));for(var f=10-d,h=0;h<e.length;++h)i=e[h],void 0===i?s.push(i):(n=r[i.name]||0,void 0!=l?i.name===l&&s.push(i):(r[i.name]=++n,n<=u?s.push(i):f>0&&(f--,s.push(i))));return s},c=function(){var e=A(L.engine.filter),t=e[e.length-1],i=t?t.transform:void 0;return i},d=function(e){var i=E();e.forEach(function(e){e.weights={},e.weights.tf=a.frequency(e,{inputs:i}),e.weights.td=f(e),e.weights.tdl=h(e),t&&(e.weights.wts=t.similarity(e))});var n,r,o=c();return e.sort(function(e,i){if(n=e.weights,r=i.weights,!e._column||0==e._column.length)return 1;if(!i._column||0==i._column.length)return-1;if(t){if(e.name===t.name&&i.name!=t.name)return-1;if(i.name===t.name&&e.name!=t.name)return 1;if(e.name===t.name&&i.name===t.name){var a=n.wts,s=r.wts;if(a>s)return-1;if(s>a)return 1}}if(o){if(e.name===o&&i.name!=o)return-1;if(i.name===o&&e.name!=o)return 1}return n.td>r.td?-1:r.td>n.td?1:n.tf>r.tf?-1:r.tf>n.tf?1:n.tdl<r.tdl?-1:r.tdl<n.tdl?1:0}),e},h=function(e){return e.description_length()},f=function(e){switch(e.name){case L.transform.SPLIT:case L.transform.CUT:case L.transform.EXTRACT:case L.transform.FILTER:return 1;default:return 0}},p=function(e,t){if(t.is_transform)return[t];for(var n,r,o=e.clone(),s=(0,u.default)(t),l=0;l<s.length;++l){if(n=s[l],!o.has_parameter(n))return[];try{o[n](t[n])}catch(e){console.error(e)}}r=o.enums().filter(function(e){return s.indexOf(e)===-1});var c=a.top_transforms({transform:o,given_params:s,needed_params:r,table:i._table}),d=i.promoted_transform();return d&&d===o.name?c.slice(0,30):c.slice(0,30).filter(function(e){return e.well_defined(i._table)})},g=function(){var e,t=A(L.engine.missing_bar),n=[];return t.length&&(e=t[t.length-1].col,n.push(L.fill(i._table[e])),n.push(L.fill(i._table[e]).direction(L.UP)),n.push(L.filter(L.is_null(i._table[e])))),n},v=function(){var e,t=A(L.engine.valid_bar),n=[];return t.length&&(e=t[t.length-1].col,n.push(L.filter(L.is_valid(i._table[e])))),n},m=function(){var e,t=A(L.engine.bad_role_bar),n=[];return t.length&&(e=t[t.length-1].col,n.push(L.filter(L.matches_role(i._table[e])))),n},b=function(){var e,t=A(L.engine.bad_type_bar),n=[];return t.length&&(e=t[t.length-1].col,n.push(L.filter(L.matches_type(i._table[e],i._table[e].wrangler_type)))),n},y=function(){var e,t,n=A(L.engine.row),r=[];return n.length&&(e=n[n.length-1].rows,t=L.row_inference().candidates(i.table(),n[n.length-1].rows),r=t),r},w=function(){var e,t=A(L.engine.edit),n=[];return t.length&&(e=L.edit_inference().candidates(i.table(),t),n=e),n},x=function(){var e,t=A(L.engine.col),i=[];return t.length&&(e=t[t.length-1].cols,e.length>0&&(i.push({column:e}),2===e.length&&(i.push({column:[e[0]],measure:e[1]}),i.push({column:[e[1]],measure:e[0]})))),i},E=function(e){if(e=e||A(L.engine.highlight),e&&e.length){var t,n,r,a,o,s=i.table();return e.map(function(e,l){return t=e.position.row,n=e.position.col,r=i._table[t][n],a=e.selection.startCursor,o=e.selection.endCursor,{type:L.engine.highlight,params:L.regex.record(r,a,o,s[n],t,s)}})}return e=A(L.engine.row),e&&e.length?e.map(function(e){return{type:L.engine.row,params:{rows:e.rows,table:i.table()}}}):(e=A(L.engine.col),e&&e.length?e.map(function(e){return{type:L.engine.col,params:{cols:e.cols,table:i.table()}}}):void 0)},_=function(){var e,t,n,r,a,o,s=A(L.engine.highlight),l=i.table();if(!s.length)return[];o=s.map(function(o,s){return e=o.position.row,t=o.position.col,n=i._table[e][t],r=o.selection.startCursor,a=o.selection.endCursor,L.regex.record(n,r,a,t,e,l)});var u=L.regex().candidates(o);(1===s.length||u.length<2)&&u.unshift({positions:[s[s.length-1].selection.startCursor,s[s.length-1].selection.endCursor]});for(var c=o.length-1;u.length<3&&c>0;)u=L.regex().candidates(o.slice(o.length-c)),c-=1;var d=s[s.length-1].position.col;return u.forEach(function(e){e.column=d}),u},A=function(e,t){for(var t=t||{},n=i._inputs,r=n.length-1,a=t.clear_types||[e,L.engine.filter,L.engine.promote,L.engine.param];r>=0&&a.indexOf(n[r].type)!==-1;)r--;return i._inputs.slice(r+1).filter(function(t){return t.type===e})},C=function(e,t){var t=t||{},n=i._inputs,a=n.length-1,o=t.clear_types||[L.engine.execute,L.engine.clear];for("array"!=r(e)&&(e=[e]);a>=0&&o.indexOf(n[a].type)==-1;)a--;return i._inputs.slice(a+1).filter(function(t){return e.indexOf(t.type)!=-1})};return i},L.corpus=function(){var e={};e.frequency=function(e,t){t=t||{};var i=t.inputs||[],n=i[i.length-1];if(n)switch(n.type){case L.engine.highlight:if(n&&void 0!=n.params.start&&n.params.end-n.params.start>1)switch(e.name){case L.transform.SPLIT:return 9;case L.transform.EXTRACT:return 24;case L.transform.CUT:return 10;case L.transform.FILTER:return 8}break;case L.engine.row:for(var r=L.row(L.empty()),a=0;a<n.params.rows.length;++a)if(r.test(n.params.table,n.params.rows[a])&&e.name===L.transform.FILL)return 0;if(e.name===L.transform.SET_NAME){var o=n.params.rows;if(1===o.length&&o[0]<4&&!L.row(L.empty().percent_valid(80)).test(n.params.table,o[0]))return 40}}switch(e.name){case L.transform.SPLIT:return 35;case L.transform.EXTRACT:return 32;case L.transform.CUT:return 28;case L.transform.DROP:return 13;case L.transform.FOLD:return 12;case L.transform.UNFOLD:return n&&n.params.table.length>3?0:8;case L.transform.SET_NAME:return 4;case L.transform.SHIFT:return 5;case L.transform.FILL:return 21;case L.transform.MERGE:return 3;case L.transform.COPY:return 6;case L.transform.FILTER:return 25}},e.top_transforms=function(e,i){e=e||{};var n=e.transform,r=e.given_params,a=e.needed_params,o=e.table;switch(n.name){case L.transform.FILL:if(r.indexOf("column")===-1&&a.indexOf("direction")!=-1){var s=n.column(),l=n.row();return s&&1!=s.length&&l?[n.clone().direction(L.DOWN),n.clone().direction(L.UP)]:[n.clone().direction(L.DOWN),n.clone().direction(L.UP)]}return[n.clone().direction(L.DOWN),n.clone().direction(L.UP)];case L.transform.FOLD:return r.indexOf("keys")===-1?[n.clone().keys([-1]),n.clone().keys([0]),n.clone().keys([0,1]),n.clone().keys([0,1,2])]:r.indexOf("column")===-1?[n.clone()].concat(t(o,[L.integer,L.string]).map(function(e){return n.clone().column(e)})):[n.clone()];case L.transform.UNFOLD:return r.indexOf("measure")===-1?t(o,[L.integer,L.number,L.string]).map(function(e){return n.clone().measure(e)}):[n.clone()];default:return[n.clone()]}};var t=function(e,t,i){var n=e.slice(0);return n.map(function(e){}),n.sort(function(e,i){var n=t.indexOf(e.wrangler_type.name),r=t.indexOf(i.wrangler_type.name);return n===-1&&(n=1e6),r===-1&&(r=1e6),n<r?-1:r<n?-1:0}),n.slice(0,i).map(function(e){return e.name})};return e},L.type=function(){var e=L.transform();return e.missing=L.is_missing,e},L.number=function(){var e=L.type();return e.parse=function(e){var t=Number(e);if(!isNaN(t)&&(t||(e+"").indexOf("0")!==-1))return t},e.comparison=function(){return L.merge_sort.numberCompare},e.name=L.transform.NUMBER,e},L.string=function(){var e=L.type();return e.parse=function(e){return e},e.name=L.transform.STRING,e.comparison=function(){return L.merge_sort.stringCompare},e},L.date=function(){var e=L.type();return e.parse=function(e){var t=L.date_parse(e);if(!isNaN(t))return t},e.comparison=function(){return L.merge_sort.getDateComparison()},e.name=L.transform.DATE,e},L.integer=function(){var e=L.type();return e.parse=function(e){var t=Number(e);if(!isNaN(t)&&(t||(e+"").indexOf("0")!==-1)&&parseInt(t)==t)return t},e.comparison=function(){return L.merge_sort.numberCompare},e.name=L.transform.INT,e},L.summary=function(e,t){var i;if(i=F.get(void 0,t))return i;for(var n=t.wrangler_type||L.string(),r=[],a=[],o=[],s=[],l={},u=(t.wrangler_role,0);u<t.length;++u){var c=t[u][e];n.missing(c)?o.push(u):void 0===n.parse(c)?r.push(u):s.push(u),l[c]=1}return i={missing:o,bparse:r,brole:a,valid:s,unique:l},F.set(void 0,e,i),i},L.summary.clear_cache=function(){F.clear()},L.summary.cache=function(){var e=[];return e.set=function(t,i,n){return e[i]=n,e},e.get=function(t,i){return e[i]},e.clear=function(){e=[]},e};var F=L.summary.cache();L.split=function(e){var t=L.textPattern(e);return P.ivar(t,[{name:"quote_character",initial:void 0},{name:"lengths",initial:void 0}]),t._drop=!0,t.transform=function(e){if(t._positions&&t._positions.length){if(void 0===e[0])return[];var i=""+e[0],n=t._positions,r=n[0],a=n[1]||n[0],o=[];return o.push(i.substring(0,r)),o.push(i.substring(a)),o.stats=[{splits:[{start:r,end:a}]}],o}if(t._lengths){if(void 0===e[0])return[];for(var s=""+e[0],l=[],u=t._lengths.toString().split(",").map(function(e){return Number(e.trim())}).filter(function(e){return!isNaN(e)&&e>0}),c=0,d=0;d<u.length;d++)l.push(s.substr(c,u[d])),c+=u[d];return l.push(s.substr(c,s.length)),l}var h,f;void 0!=(f=t._quote_character)&&(h=new RegExp(f+"[^"+f+"]*"+f));var p={which:t._which,max_splits:t._max,before:t._before,after:t._after,on:t._on,ignore_between:h||t._ignore_between},g=L.regex.match(e[0],p),o=[];o.stats=[];for(var v=0;v<g.length;++v)v%2==0?o.push(g[v].value):o.stats.push({splits:[{start:g[v].start,end:g[v].end}]});t._before&&!t._after&&3==g.length?(o[0]=g[1].value,o[1]=g[2].value):!t._before&&t._after&&3==g.length&&(o[1]=g[1].value),1===o.length&&o.push("");for(var m in o)o.hasOwnProperty(m)&&"string"==typeof o[m]&&(o[m]=o[m].trim());return o},t.description=function(e){var i=["Split",L.column_clause(t,t._column,"column",{editor_class:"none"})];0===Number(t._max)&&(i=i.concat(L.select_clause(t,{select_options:{0:"repeatedly",1:"once"},param:"max"})));var n=t.match_description();return i=i.concat(n),t._result===L.ROW&&(i=i.concat(" into "),i=i.concat(L.select_clause(t,{select_options:{row:"rows"},param:"result"}))),i},t.name=L.transform.SPLIT,t},L.textPattern=function(e){var t=L.map(e);return P.ivar(t,[{name:"on",initial:void 0},{name:"before",initial:void 0},{name:"after",initial:void 0},{name:"ignore_between",initial:void 0},{name:"which",initial:1},{name:"max",initial:1},{name:"isRegExp_on",initial:!1},{name:"isRegExp_before",initial:!1},{name:"isRegExp_after",initial:!1}]),P.ivara(t,[{name:"positions",initial:void 0}]),t.well_defined=function(){return(t._positions&&!t._on&&!t._before&&!t._after||!t._positions&&(t._on||t._before||t._after))&&!t._row},t.description_length=function(){if(t._positions)return 0;var e=L.regex.description_length(t._on)+L.regex.description_length(t._before)+L.regex.description_length(t._after);return e},t.check_validity=function(e){var i=t.valid_columns(e);return i.valid?t.well_defined()?{valid:!0}:{valid:!1,errors:["Must define split criteria"]}:i},t.match_description=function(e){e=e||{};var i=[];return t._positions?["between positions",L.column_clause(t,t._positions,"positions",e)]:t._lengths?["by fixed length",L.input_clause(t,"lengths",e)]:(t._on&&"/.*/"!=t._on.toString()&&(i=i.concat(["on",L.regex_clause(t,"on",e)])),t._before&&!t._after&&(i=i.concat(["before",L.regex_clause(t,"before",e)])),t._after&&!t._before&&(i=i.concat(["after",L.regex_clause(t,"after",e)])),t._after&&t._before&&(i=i.concat(["between",L.regex_clause(t,"after",e),"and",L.regex_clause(t,"before",e)])),i)},t},L.transform=function(e){var t={};return t.is_transform=!0,P.ivara(t,{name:"column",initial:void 0!=e?e:[]}),P.ivar(t,[{name:"table",initial:0},{name:"status",initial:L.status.active},{name:"drop",initial:!1}]),t.getTable=function(e){return e[t.table()]},t.show_details=!1,t.active=function(){return t._status===L.status.active},t.inactive=function(){return t._status===L.status.inactive},t.deleted=function(){return t._status===L.status.deleted},t.invalid=function(){return t._status===L.status.invalid},t.toggle=function(){t.active()?t.status(L.status.inactive):t.status(L.status.active)},t.delete_transform=function(){t._status=L.status.deleted},t.errors=[],t.invalidate=function(e){t._status=L.status.invalid,t.errors=e},t.validate=function(){t._status=L.status.active,t.errors=[]},t.errorMessage=function(){return t.errors.join("\n")},t.columns=function(e){return t._column&&t._column.length?e.map(function(e){var i={};return t._column.forEach(function(t){i[t]=e[t]}),i}):e.map(function(e){return e})},t.has_parameter=function(e){return void 0!=t[e]},t.well_defined=function(e){return!0},t.params=function(){return(0,u.default)(t).filter(function(e){return"_"===e[0]})},t.enums=function(){return[]},t.param_equals=function(e,i){if(void 0===e||void 0===i)return e===i;var n=r(e);switch(n){case"function":return e.toString()===i.toString();case"array":if(e.length!=i.length)return!1;for(var a=0;a<e.length;++a)if(!t.param_equals(e[a],i[a]))return!1;return!0;case"object":return e.equals?e.equals(i):e.toString()===i.toString();case"number":case"string":case"boolean":return e===i;default:return e===i}},t.similarity=function(e){for(var i,n,r=t.name!=e.name?-1:0,a=t.params(),o=e.params(),s=0,l=0;l<a.length;++l)i=t[a[l]],n=e[o[l]],t.param_equals(i,n)&&s++;return r+s/a.length},t.equals=function(e){if(t.name!=e.name)return!1;for(var i,n,r=t.params(),a=e.params(),o=0;o<r.length;++o)if(i=t[r[o]],n=e[a[o]],!t.param_equals(i,n))return!1;return!0},t.check_validity=function(e){return t.valid_columns(e)},t.valid_columns=function(e){var i=t.getTable(e),n=t.columns(i),r=!0,a=!1,o=void 0;try{for(var l,u=(0,s.default)(n);!(r=(l=u.next()).done);r=!0){var c=l.value;if(void 0===c)return{valid:!1,errors:["Invalid columns"]};for(var d in c)if(void 0===d||void 0===c[d])return{valid:!1,errors:["Invalid columns"]}}}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return{valid:!0}},t.clone_param=function(e){var i=r(e);switch(i){case"function":return e;case"array":return e.map(function(e){return t.clone_param(e)});case"object":return e.clone?e.clone():e;case"number":case"string":case"boolean":return e;default:return e}},t.default_transform=function(){return L.transform.create(t.name)},t.clone=function(){for(var e,i=t.default_transform(),n=t.params(),r=0;r<n.length;++r)e=t[n[r]],i[n[r]]=t.clone_param(e);return i},t.description_length=function(){return 0},t.comment=function(){var e=t.description();return e.map(function(e){return"string"===r(e)?e:e.description()}).join(" ")},t.sample_apply=function(e){return t.apply(e)},t},L.transform.create=function(e){return L[e]()},L.transform.tableUpdate=function(e,t,i){var n={},r=e.result();if(r===L.COLUMN)if(n.finish=function(){e._drop&&e.columns(t).forEach(function(e){})},e.update())n.update=function(t,n){for(var r=0;r<n.length;++r)i[t][e._column[r]]=n[r]},n.stats=function(){return{updatedCols:i}};else{var a=[];e.insert_position(),t.length;n.update=function(e,t){var i=0;for(i;i<t.length;++i){if(i===a.length){var n=[];a.push(n)}a[i][e]=t[i]}if(0===t.length)for(var i=0;i<a.length;i++)a[i][e]=void 0},n.stats=function(){return{newCols:a}}}else if(r===L.ROW){var o=0,s=t.map(function(e){var t=[];return t.name=e.name,t.type=e.type,t}),l=i[0].index();n.update=function(e,i){for(var n=0;n<i.length;++n){for(var r=0;r<l;++r)s[r][o]=t[r][e];for(r=l+1;r<s.length;++r)s[r][o]=t[r][e];s[l][o]=i[n],++o}return s[0].length},n.finish=function(){for(;t.cols.length;)t.removeColumn(0);s.forEach(function(e){t.addColumn(e.name,e,e.type)})},n.stats=function(){return{}}}return n},L.transform.SPLIT="split",L.transform.EXTRACT="extract",L.transform.CUT="cut",L.transform.MERGE="merge",L.transform.FOLD="fold",L.transform.UNFOLD="unfold",L.transform.FILL="fill",L.transform.FILTER="filter",L.transform.DROP="drop",L.transform.DUPLICATE="duplicate",L.transform.ROW="row",L.transform.COPY="copy",L.transform.LOOKUP="lookup",L.transform.TRANSLATE="translate",L.transform.EDIT="edit",L.transform.REMOVE="remove",L.transform.SORT="sort",L.transform.TRANSPOSE="transpose",L.transform.STRING="string",L.transform.INT="int",L.transform.NUMBER="number",L.transform.DATE="date",L.transform.SET_TYPE="set_type",L.transform.OPEN_REFINE_EXP="open_refine_exp",L.transform.SET_ROLE="set_role",L.transform.SET_NAME="set_name",L.transform.WRAP="wrap",L.transform.MARKDOWN="markdown",L.map=function(e){var t=L.transform(e);return P.ivar(t,[{name:"result",initial:L.COLUMN},{name:"update",initial:!1},{name:"insert_position",initial:L.INSERT_RIGHT},{name:"row",initial:void 0}]),t.apply=function(e,i){i=i||{};for(var n,r,a,o,s=e[0],l=t.columns(s),u=s.length,c=[],d=i.start_row||0,h=i.end_row||u,f=t._row,p=L.transform.tableUpdate(t,s,l),g=d;g<h;++g)if(!f||f.test(s,g)){n=[];for(var v in l[g]){var m=l[g][v];n.push(void 0!==m?null!==m?""+m:"":void 0)}if(r=t.transform(n,s),c.push(r.stats),o=p.update(g,r),o>1e3)break}return p.finish(),a=p.stats(),a.valueStats=c,a},t},L.display_name=function(e){return e&&"_"===e[0]?e.substr(1):e},L.JSON={},L.wrangle=function(){var e=[];return e.apply=function(t,i){i||(i=(0,p.$$)("derivedtableview")),"string"===r(t)&&(t=P.table(t)),"array"!=r(t)&&(t=[t]);var n=t[0],a=n.cols;return e.forEach(function(e){if(e.active()||e.invalid())if(status.valid){var t=e.sample_apply([n]);if(t)if("undefined"!=typeof t.droppedCols)e._column.map(function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1),n.forEach(function(t){delete t[e]})});else if("undefined"!=typeof t.updatedCols)n.forEach(function(i,n){i[e._column[0]]=t.updatedCols[n][e._column[0]]});else if("undefined"!=typeof t.newCols){var i=t.newCols.map(function(t,i){return 1==e._column.length?e._column[0]+"_"+e.name+"_"+i:e.name+"_"+i}),r=a.indexOf(e._column[0])+1;i.map(function(e,i){for(var o=a.indexOf(e);o>=0;)e=e+"_"+i,o=a.indexOf(e);a.splice(r++,0,e),n.forEach(function(n,r){n[e]=t.newCols[i][r]?t.newCols[i][r]:"NULL"})})}e.validate()}else e.invalidate(status.errors)}),e},e.add=function(t){return e.push(t),e},e},L.regex=function(){var e={},t=function(e){var t=[new RegExp(e),/\d+/];return t},i=function(e){var t=[new RegExp(e),/[a-zA-Z]+/];return e.toLowerCase()===e?t.push(/[a-z]+/):e.toUpperCase()===e&&t.push(/[A-Z]+/),t},n=function(e){var t;["|"].indexOf(e)!=-1&&(e="\\"+e),"."==e&&(e="\\.");try{t=new RegExp(e)}catch(i){t=new RegExp("\\"+e)}var i=[t];return i};e.candidates=function(t,i){if(t.length){var n,r,a,o,s=e.parse(t[0].text,t[0].start,t[0].end),l=t.slice(0);n=(s.on||[]).map(function(e){return{on:e}});var u=s.before,c=s.after;return r=void 0===u||0===u.length?c.map(function(e){return{after:e,on:/.*/}}):void 0===c||0===c.length?u.map(function(e){return{before:e,on:/.*/}}):(u||[]).reduce(function(e,t){return e.concat((c||[]).map(function(e){return{before:t,after:e,on:/.*/}}))},[]),o=n.concat(r),0===l.length?o:o=o.filter(function(e){return 0===l.filter(function(t){return a=L.regex.match(t.text,e),a.length<2||a[1].start!=t.start||a[1].end!=t.end}).length})}return[]};var r=function(e){var t=e.map(function(e){return e.toString().replace(/^\/|\/$/g,"")}).join("");return new RegExp(t)};return e.parse=function(e,a,o,s){e=""+e;var l,u,c,d,h,f,p,g=/([a-zA-Z]+)|([0-9]+)|([^a-zA-Z0-9])/g,v=(e.substring(0,a).match(g)||[]).concat(e.substring(a,o).match(g)||[]).concat(e.substring(o).match(g)||[]),s=s||{},m=0,b=s.matchAfter||3,y=s.matchBefore||3;v=v.filter(function(e){return null!=e}),u=v.map(function(e,r){return l=e.charCodeAt(0),a>=m&&a<m+e.length&&(c=r),o>m&&o<=m+e.length&&(d=r),m+=e.length,l>64&&l<91||l>96&&l<123?i(e):l>47&&l<58?t(e):n(e)}),void 0===c&&(c=v.length-1),void 0===d&&(d=v.length-1),d-c>10&&(console.log("big endIndex"+d),d=c+10),h=u.slice(c,d+1).reduce(function(e,t){var i=[];return e.every(function(e){return t.every(function(t){return i.push(e.concat(t)),!(i.length>1e3)}),!(i.length>1e3)}),i},[[]]);var w=function(e,t){var i=[];return e.length?(e.forEach(function(e){t.forEach(function(t){i.push(e.concat(t))})}),e.concat(i)):t.map(function(e){return[e]})};return p=u.slice(Math.max(c-b-1,0),c).reverse().reduce(w,[]),f=u.slice(d+1,Math.min(d+y+1,u.length)).reduce(w,[]),{on:h.map(r),after:(p||[]).map(function(e){return r(e.reverse())}),before:(f||[]).map(function(e){return r(e)})}},e},L.regex.record=function(e,t,i,n,r,a){return{text:e,start:t,end:i,col:n,row:r,table:a}},L.regex.friendly_description=function(e){var e=e.toString().replace(/^\/|\/$/g,"");return e=e.replace(/\n/g,"newline"),e=e.replace(/ /g," "),e=e.replace(/\t/g,"tab"),e=e.replace(/\(?(\[0\-9\]|\\d)\+\)?/g," any number "),e=e.replace(/\(?(\[a\-z\A\-Z\]|\[A\-Z\a\-\z\])\+\)?/g," any word "),e=e.replace(/\(?(\[a\-z\])\+\)?/g," any lowercase word "),e=e.replace(/\(?(\[A\-Z\])\+\)?/g," any uppercase word "),e=e.replace(/\$$/,"{end}"),e=e.replace(/^\^/,"{begin}"),e=e.replace("\\",""),"newline"===e?e:"'"+e+"'"},L.regex.description_length=function(e){if(!e)return 0;e=e.toString().replace(/^\/|\/$/g,""),e=e.replace(/\\n/g,"n"),e=e.replace(/ /g," "),e=e.replace(/\t/g,"t"),e=e.replace(/\(?(\[0\-9\]|\\d)\+\)?/g,"n"),e=e.replace(/\(?(\[A\-Z\])\+\)?/g," w"),e=e.replace(/\(?(\[a\-z\])\+\)?/g,"w"),e=e.replace(/\(?(\[a\-z\A\-Z\]|\[A\-Z\a\-\z\])\+\)?/g,"w"),e=e.replace(/\$$/,"e"),e=e.replace(/^\^/,"b"),e=e.replace("\\","");var t=e.match(/([a-zA-Z]+)|([0-9]+)|([^a-zA-Z0-9])/g);return t.length+1},L.regex.match=function(e,t){if(!e)return"";var i=t.max_splits;void 0===i&&(i=1);var n={start:0,end:e.length,value:e},r=[],a=0,o=Number(t.which);for(isNaN(o)&&(o=1);i<=0||a<i*o;){var s=L.regex.matchOnce(n.value,t);if(!(s.length>1))break;if(n=s[2],r.push(s[0]),r.push(s[1]),u=0,a++,a>1e3)break}r.push(n);var l,u=0,c=[],d="";for(l=0;l<r.length;++l)l%2!==1||(u++,u!==o)?d+=r[l].value:(c.push({value:d,start:0,end:d.length}),c.push({start:d.length,end:d.length+r[l].value.length,value:r[l].value}),u=0,d="");return c.push({start:0,end:d.length,value:d}),c},L.regex.matchOnce=function(e,t){var i=t.positions,n=[];if(i&&i.length&&2==i.length){if(e.length>=i[1]){var r=i[0],a=i[1];return n.push({start:0,end:r,value:e.substr(0,r)}),n.push({start:r,end:a,value:e.substr(r,a-r)}),n.push({start:a,end:e.length,value:e.substr(a)}),n}return[{start:0,end:e.length,value:e}]}for(var o=t.before,s=t.after,l=t.on,u=t.ignore_between,c=e,d=0,h=0;c.length;){
var f=c,p=0;if(h=d,u){var g=c.match(u);g?(f=f.substr(0,g.index),d+=g.index+g[0].length,c=c.substr(g.index+g[0].length)):c=""}else c="";if(s){var g=f.match(s);if(!g)continue;p=g.index+g[0].length,f=f.substr(p)}if(o){var g=f.match(o);if(!g)continue;f=f.substr(0,g.index)}var g=f.match(l);if(g){var r=h+p+g.index,a=r+g[0].length;return n.push({start:0,end:r,value:e.substr(0,r)}),n.push({start:r,end:a,value:e.substr(r,a-r)}),n.push({start:a,end:e.length,value:e.substr(a)}),n}}return[{start:0,end:e.length,value:e}]},L.cut=function(e){var t=L.textPattern(e);return t._drop=!1,t._update=!0,t.transform=function(e){if(void 0===e[0])return[];if(t._positions&&t._positions.length){var i=""+e[0],n=t._positions,r=n[0],a=n[1]||n[0],o=[];return o.push(i.substring(0,r)+i.substring(a)),o.stats=[{splits:[{start:r,end:a}]}],o}for(var i,s=[],l=0;l<e.length;++l){i=e[l];var u={which:t._which,max_splits:t._max,before:t._before,after:t._after,on:t._on,ignore_between:t._ignore_between},c=L.regex.match(i,u),d=[];d.stats=[];for(var h=0;h<c.length;++h)h%2==0?d.push(c[h].value):d.stats.push({splits:[{start:c[h].start,end:c[h].end}]});s.push(d.join("")),l||(s.stats=d.stats)}return s},t.description=function(){var e=t._column&&t._column.length?"Cut from":"Cut",i=[e,L.column_clause(t,t._column,"column")],n=t.match_description();return i=i.concat(n)},t.name=L.transform.CUT,t},L.drop=function(e){var t=L.transform(e);return t._drop=!0,P.ivar(t,[]),t.description=function(){return["Drop",L.column_clause(t,t._column,"column",{editor_class:"droppedColumn"})]},t.apply=function(e){var i=t.getTable(e),n=t.columns(i);return t._drop&&n.forEach(function(e){}),{droppedCols:n}},t.name=L.transform.DROP,t},L.duplicate=function(e){var t=L.transform(e);return t.name=L.transform.DUPLICATE,t},L.extract=function(e){var t=L.textPattern(e);return t.transform=function(e){if(void 0===e[0])return[];if(t._positions&&t._positions.length){var i=""+e[0],n=t._positions,r=n[0],a=n[1]||n[0],o=[];return o.push(i.substring(r,a)),o.stats=[{splits:[{start:r,end:a}]}],o}var s={which:t._which,max_extracts:t._max,before:t._before,after:t._after,on:t._on,ignore_between:t._ignore_between},l=L.regex.match(e[0],s),u=[];u.stats=[];for(var c=0;c<l.length;++c)c%2==1&&(u.push(l[c].value),u.stats.push({splits:[{start:l[c].start,end:l[c].end}]}));return u},t.description=function(){var e=["Extract from",L.column_clause(t,t._column,"column",{editor_class:"none"})],i=t.match_description({editor_class:"extract"});return e=e.concat(i)},t.name=L.transform.EXTRACT,t},L.sort=function(e){var t=L.transform(e);return P.ivara(t,[{name:"direction",initial:[]},{name:"as_type",initial:[]}]),t.description_length=function(){return 0},t.description=function(){var e=["Sort by ",L.column_clause(t,t._column,"column")];return t._direction&&"desc"===t._direction&&e.push(t._direction),e},t.name=L.transform.SORT,t},L.UP="up",L.DOWN="down",L.COPY="copy",L.INTERPOLATE="interpolate",L.fill=function(e){var t=L.transform(e);return P.ivar(t,[{name:"direction",initial:L.DOWN},{name:"method",initial:L.COPY},{name:"row",initial:void 0}]),t.description_length=function(){return t._row?t._row.description_length():0},t.description=function(){return["Fill",L.column_clause(t,t._column,"column",{all_columns:!0}),L.row_clause(t,t._row,"row",{editor_class:"updatedColumn"}),"with","values from",L.select_clause(t,{select_options:{up:"below",down:"above"},param:"direction"})]},t.apply=function(e,i){i=i||{};var n=t.getTable(e),r=t.columns(n),a=n.length,o=t._row||L.row(),s=0,l=a,u=t._method,c=t._direction;if(u===L.COPY){var d,h;if(c===L.DOWN)for(var f in r[0]){h=void 0;for(var p=s;p<l;++p)d=r[p][f],L.is_missing(d)?o.test(n,p)&&(r[p][f]=h):h=d}else if(c===L.UP)for(var g in r[0]){h=void 0;for(var p=l-1;p>=s;--p)d=r[p][g],L.is_missing(d)?o.test(n,p)&&(r[p][g]=h):h=d}}return{updatedCols:r}},t.well_defined=function(e){var i=t.columns(e);if(t._row){var n=t._row.conditions();if(1===n.length)if(n[0].name===L.row.INDEX);else if(n[0].name===L.row.EMPTY)return!1}var r=(0,u.default)(i[0]),a=r.filter(function(e){var t=L.summary(e,i).missing;return 0===t.length});return!a.length},t.enums=function(e){return["direction"]},t.name=L.transform.FILL,t},L.merge=function(e){var t=L.map(e);return P.ivar(t,[{name:"glue",initial:""}]),t.transform=function(e){var i=t.glue(),n=e.filter(function(e){return void 0!=e}).join(i);return[n]},t.description=function(){return["Merge",L.column_clause(t,t._column,"column")," with glue ",L.input_clause(t,"glue")]},t.well_defined=function(e){return t._column.length>1},t.name=L.transform.MERGE,t},L.wrap=function(e){var t=L.transform();return e=L.row(e),P.ivar(t,[{name:"row",initial:e}]),t.description=function(){return["Wrap",L.row_clause(t,t._row,"row")]},t.description_length=function(){return t._row?t._row.description_length():0},t.apply=function(e,i){i=i||{};var n=t.getTable(e),r=[];n.cols.foreach(function(e){var t=e;n.forEach(function(e){r.push(""+e[t])})});var a=(t.columns(n),n.cols.length),o=t._row,s=i.start_row||0,l=i.end_row||r,u=[],c=[],d=0,h=[];l=Math.min(l,r);for(var f=s;f<l;++f){o.test(n,f)&&(h.push(f),P.range(u.length-c.length).forEach(function(){c.push([])}),u.length&&(u.forEach(function(e,t){c[t][d]=e}),u=[],d++));for(var p=0;p<a;++p)u.push(""+n[p][f])}P.range(u.length-c.length).forEach(function(){c.push([])}),u.length&&(u.forEach(function(e,t){c[t][d]=e}),u=[],d++);for(var g=n.cols.length,p=0;p<g;++p)n.removeColumn(0);return c.map(function(e,t){n.addColumn("wrap",e,"nominal")}),{effectedRows:h,keyCols:P.range(a).map(function(e){return n[e]})}},t.valid_columns=function(e){return t._row?t._row.valid_columns(e):{valid:!0}},t.well_defined=function(){return t._row.conditions().length},t.name=L.transform.WRAP,t},L.reduce=function(e){var t=L.transform(e);return P.ivara(t,[{name:"measures",initial:[]}]),t.description=function(){return["reduce",L.column_clause(t,t._column)," with aggregates ",L.column_clause(t,t._measures)]},t.apply=function(e){var i=t.getTable(e),n=(i.slice(0,i.rows(),{compress:!0}),t.columns(i)),r=n.map(function(e){return e.name});i.rows(),i.query({dims:r,vals:t._measures.map(function(e){return P.first(e)})});return i=P.table([]),{}},t.name=L.transform.UNFOLD,t},L.row=function(e){var t=L.transform();return P.ivara(t,[{name:"conditions",initial:e||[]}]),t.description_length=function(){if(0===t._conditions.length)return 0;if(1===t._conditions.length)switch(t._conditions[0].name){case L.row.INDEX:return 1;case L.row.EMPTY:return 2}return 3},t.description=function(){if(1===t._conditions.length)switch(t._conditions[0].name){case L.row.INDEX:case L.row.CYCLE:case L.row.EMPTY:return t._conditions[0].description({simple:!0})}return[" rows where "+t._conditions.map(function(e){return e.description()}).join(" and ")]},t.formula=function(){return t._conditions.map(function(e){return e.description()}).join(" and ")},t.valid_columns=function(e){for(var i,n,r=t._conditions,a=0;a<r.length;++a)if(i=r[a],n=i.valid_columns(e),!n.valid)return n;return{valid:!0}},t.test=function(e,i){for(var n,r=t._conditions,a=0;a<r.length;++a)if(n=r[a],!n.test(e,i))return 0;return 1},t.name=L.transform.ROW,t},L.row.fromFormula=function(e){if(""===e)return L.row([]);var t=e.split(/ & /g);return t=t.map(function(e){if("row is empty"===e)return L.empty();if(a=e.indexOf("index in (")!=-1){var t=e.substring(a+9,e.length-1);return t=t.split(/,/g).map(function(e){return Number(e)-1}),L.rowIndex(t)}var i,n=e.match(/\=|<\=|>\=|!=|is null|is not|matches role|matches type|like/),r=n[0],a=n.index,o=e.substr(0,a).replace(/^ */,"").replace(/ *$/,""),s=e.substr(a+r.length).replace(/^ * /,"").replace(/ *$/,"");switch(s){case"a number":s=L.number();break;case"a date":s=L.date();break;case"a string":s=L.string();break;case"a integer":s=L.integer();break;default:s="'"===s[0]?s.substring(1,s.length-1):Number(s)}switch(r){case"=":i=L.eq(o,s,!0);break;case"<":i=L.lt(o,s,!0);break;case"<=":i=L.le(o,s,!0);break;case">":i=L.gt(o,s,!0);break;case">=":i=L.ge(o,s,!0);break;case"!=":i=L.neq(o,s,!0);break;case"is null":i=L.is_null(o);break;case"matches role":i=L.matches_role(o);break;case"is not":i=L.matches_type(o,s);break;case"matches type":i=L.matches_type(o);break;case"~":i=L.like(o,s,!0);break;default:throw"Invalid row predicates"}return i}),L.row(t)},L.row.INDEX="rowIndex",L.row.CYCLE="rowCycle",L.row.EMPTY="empty",L.row.IS_NULL="is_null",L.row.IS_VALID="is_valid",L.row.MATCHES_ROLE="is_role",L.row.MATCHES_TYPE="is_type",L.row.STARTS_WITH="starts_with",L.row.LIKE="like",L.row.EQUALS="eq",L.row.NOT_EQUALS="neq",L.row.CONTAINS="contains",L.rowIndex=function(e){var t=L.transform();return P.ivara(t,[{name:"indices",initial:e||[]}]),t.test=function(e,i){return t._indices.indexOf(i)!=-1},t.description=function(i){i=i||{},e=t._indices;var n=i.simple||!1;return n?(1===e.length?e[0]===-1?"":"row ":"rows ")+e.map(function(e){return e===-1?"header":e+1}).join(","):"index in ("+e.map(function(e){return e+1}).join(",")+")"},t.valid_columns=function(){return{valid:!0}},t.name=L.row.INDEX,t},L.rowCycle=function(e,t,i){var n=L.transform();return P.ivar(n,[{name:"cycle",initial:void 0!=e?e:1},{name:"start",initial:t||0},{name:"end",initial:i}]),n.test=function(e,t){var i=n.end(),r=n.start();if((void 0===r||t>=r)&&(void 0===i||t<=i))return(t-r)%n.cycle()===0},n.description=function(e){var t=e||{},i=(n._indices,t.simple||!1);if(i){var r="";return n.start()&&void 0!=n.end()?r=" between "+(n.start()+1)+","+(n.end()+1):n.start()?r=" starting with "+(n.start()+1):n.end()&&(r=" before "+(n.end()+1))," every "+n.cycle()+" rows "+r}var r="";return n.start()&&void 0!=n.end()?r=" between "+(n.start()+1)+","+(n.end()+1):n.start()?r=" after "+(n.start()+1):n.end()&&(r=" before "+(n.end()+1)),"every "+n.cycle()+" rows"+r},n.valid_columns=function(){return{valid:!0}},n.name=L.row.CYCLE,n},L.vcompare=function(e,t){var i=L.transform();return P.ivar(i,[{name:"lcol",initial:e},{name:"value",initial:t}]),i.test=function(e,n){return i.compare(e[n][i._lcol],t)},i.description=function(){return L.display_name(i._lcol)+" "+i._op_str+" '"+i._value+"'"},i.valid_columns=function(t){return t[0][e]?{valid:!0}:{valid:!1,errors:["Invalid left hand side"]}},i},L.ccompare=function(e,t){var i=L.transform();return P.ivar(i,[{name:"lcol",initial:e},{name:"rcol",initial:t}]),i.test=function(n,r){return i.compare(n[e][r],n[t][r])},i.description=function(){return L.display_name(i._lcol)+" "+i._op_str+" "+i._rcol},i.valid_columns=function(i){return i[0][e]&&i[0][t]?{valid:!0}:{valid:!1,errors:["Invalid comparison"]}},i},L.compare=function(e,t,i){var n=i?L.vcompare(e,t):L.ccompare(e,t);return n.default_transform=function(){return L[n.name](e,t,i)},n},L.eq=function(e,t,i){var n=L.compare(e,t,i);return n._op_str="=",n.compare=function(e,t){return e===t},n.name=L.row.EQUALS,n},L.neq=function(e,t,i){var n=L.compare(e,t,i);return n._op_str="!=",n.compare=function(e,t){return e!=t},n.name=L.row.NOT_EQUALS,n},L.starts_with=function(e,t,i){var n=L.compare(e,t,i);return n._op_str="starts with",n.compare=function(e,t){return e=""+e,t=""+t,0==e.indexOf(t)},n.name=L.row.STARTS_WITH,n},L.like=function(e,t,i){var n=L.compare(e,t,!0);return n._op_str="~",n.compare=function(e,t){return e=""+e,t=""+t,null!=e.match(t)},n.name=L.row.LIKE,n},L.contains=function(e,t,i){var n=L.compare(e,t,i);return n._op_str="contains",n.compare=function(e,t){return e=""+e,t=""+t,e.indexOf(t)!=-1},n.name=L.row.CONTAINS,n},L.is_null=function(e,t,i){var n=L.compare(e,t,!0);return n._op_str="is null",n.compare=function(e,t){return L.is_missing(e)},n.description=function(){return L.display_name(n._lcol)+" "+n._op_str},n.name=L.row.IS_NULL,n},L.matches_role=function(e){var t=L.transform();return P.ivar(t,[{name:"lcol",initial:e}]),t.test=function(t,i){return void 0===t[e].wrangler_role.parse(t[e][i])},t.description=function(){return L.display_name(t._lcol)+" does not match role"},t.name=L.row.MATCHES_ROLE,t.valid_columns=function(t){return t[0][e]?{valid:!0}:{valid:!1,errors:["Invalid comparison"]}},t},L.matches_type=function(e,t){var i=L.transform();return P.ivar(i,[{name:"lcol",initial:e},{name:"type",initial:t}]),i.test=function(t,n){var r=i._type||t[e].wrangler_type;return!r||void 0===r.parse(t[i._lcol][n])},i.description=function(){return L.display_name(i._lcol)+" is not a "+t.name},i.valid_columns=function(t){return t[0][e]?{valid:!0}:{valid:!1,errors:["Invalid comparison"]}},i.name=L.row.MATCHES_TYPE,i},L.is_missing=function(e){return void 0===e||0===(""+e).replace(/[ \t\n]/g,"").length},L.empty=function(){var e=L.transform();return P.ivar(e,[{name:"percent_valid",initial:0},{name:"num_valid",initial:0}]),e.test=function(t,i){for(var n,r=t.cols.length,a=0,o=e.percent_valid(),s=e.num_valid(),l=0;l<r;++l)if(n=t[l][i],L.is_missing(n)&&a++,a>=r-s||a/r>=(100-o)/100)return 1;return 0},e.description=function(t){t=t||{};var i=t.simple||!1,n=e.percent_valid(),r=e.num_valid();return i?n>0?"rows with <= "+n+"% values":r>0?"rows with <= "+r+" values":"empty rows":n>0?" row is (sort of) empty ":r>0?" row is (sort of) empty ":" row is empty "},e.valid_columns=function(e){return{valid:!0}},e.name=L.row.EMPTY,e},L.set_role=function(e,t){var i=L.transform(e);return i._drop=!0,P.ivara(i,[{name:"roles",initial:t||[]}]),i.transform=function(e){},i.description=function(){return["Merge",L.column_clause(i,i._column)," with glue ",L.input_clause(i,"glue")]},i.apply=function(e){var t=i.getTable(e),n=i.columns(t);return n.forEach(function(e,t){e.wrangler_role=i._roles[t]}),{}},i.name=L.transform.SET_ROLE,i},L.set_type=function(e,t){var i=L.transform(e);return P.ivara(i,[{name:"types",initial:t||[]}]),i.transform=function(e){},i.description=function(){return["Set",L.column_clause(i,i._column)," to ",L.input_clause(i,"types")]},i.apply=void 0,i.name=L.transform.SET_TYPE,i},L.open_refine_exp=function(e,t){var i=L.transform(e);return P.ivara(i,[{name:"expression",initial:t||""}]),i.transform=function(e){},i.description=function(){return["Derive",L.column_clause(i,i._column)," with Open Refine Expression "]},i.apply=void 0,i.name=L.transform.OPEN_REFINE_EXP,i},L.aggregate=function(e){var t=L.transform(e);return P.ivara(t,[{name:"groupBy",initial:[]},{name:"aggregation",initial:[]}]),t.transform=function(e){},t.description=function(){},t.apply=void 0,t.name="aggregate",t},L.set_name=function(e,t){var i=L.transform(e);return i._drop=!0,P.ivara(i,[{name:"names",initial:t||[]}]),P.ivar(i,[{name:"header_row",initial:void 0}]),i.transform=function(e){},i.well_defined=function(){return i._names.length||void 0!=i._header_row},i.description=function(){if(void 0!=i._header_row){var e=i._header_row;return"number"===r(e)&&(e=L.row(L.rowIndex([i._header_row]))),["Promote row",L.key_clause(i,[i._header_row],"header_row")," to header"]}return["Set ",L.column_clause(i,i._column,"column",{extra_text:""})," name to ",L.input_clause(i,"names")]},i.name=L.transform.SET_NAME,i},L.role=function(){var e=L.transform();return e.parse=function(e){return!0},e},L.editor=function(e,t,i){function n(e){e.addClass("selected"),s({transform:a.transform()})}function r(e){e.removeClass("selected")}var a={},o=i.onpromote,s=i.onhighlight,l=i.onselect,u=i.onedit;i.onclear;return a.draw=function(){var o,s=(0,v.default)(document.createElement("div")).attr("id","editorTransformContainer");return e.append(s),t.forEach(function(e,t){var c=(0,v.default)(document.createElement("div")).addClass("suggestion");if(t?c.css("opacity",0):c.addClass("firstSuggestion"),s.append(c),e){if(!e._column||0==e._column.length)return;o=(0,v.default)(document.createElement("div")).addClass("descriptionEditor"),c.click(function(){0!=t&&l(a.transform())}),L.descriptionEditor(o,e,{onedit:u,editable:0===t,table:i.table}).draw(),c.append(o),c.append((0,v.default)(document.createElement("div")).addClass("clear"));var d={over:function(e){var t=a.selected();t.length&&r(t),n((0,v.default)(e.currentTarget))},timeout:500,out:function(){}};c.hoverIntent(d)}else c.addClass("emptySuggestion")}),(0,v.default)(".suggestion").filter(":not(.suggestion.selected)").fadeTo(500,1),a},a.promote=function(){var e=800,t=a.selected(),i=t.offset(),n=(0,v.default)(".suggestion:first"),r=n.offset(),s=r.top-n.height()-85,l=t.width();(0,v.default)(".suggestion").filter(":not(.suggestion.selected)").fadeTo(e,0),setTimeout(function(){t.css("position","absolute").css("top",i.top-t.height()-100).width(l).animate({top:s,width:"+=0"},500,function(){o(a.transform())})},e)},a.prev=function(){var e=a.selected();e.length?(r(e),n(e.prev())):n((0,v.default)(".suggestion:last"))},a.next=function(){var e=a.selected();e.length?(r(e),n(e.next())):n((0,v.default)(".suggestion:first"))},a.first_suggestion=function(){n((0,v.default)(".suggestion:nth-child(2)"))},a.working=function(){n((0,v.default)(".suggestion:first"))},a.first=function(){n(t[0]?(0,v.default)(".suggestion:first"):(0,v.default)(".suggestion:nth-child(2)"))},a.transform=function(){return t[a.selected().index()]},a.selected=function(){return(0,v.default)(".suggestion.selected")},a},L.table={};var L=L||{};L.transform_menu=function(e,t){var t=t||{};t.interaction||{}},L.wrangler=function(e){function t(e){j.push(e);var t=j;if(e.position)e.rows=e.position.row,e.cols=e.position.col;else for(var i=t.length-1;i>0;i--)if(t[i].position){e.rows=t[i].position.row,e.cols=t[i].position.col;break}m=v.input(e).run(13),g=m[0],(0,_.dispatchAction)((0,I.setDWSelectedColumns)("array"===r(e.cols)?e.cols:[e.cols])),l()}function i(e){return(0,_.dispatchAction)((0,M.hidePopPreview)()),(0,_.dispatchAction)((0,T.setActiveTab)(D.HISTORY_TAB_KEY)),n(e).then(function(){t({type:L.engine.execute,transform:e}),(0,_.dispatchAction)((0,I.setDWSelectedColumns)([]))})}function n(e){var t=a(e);if(null===t)return f.default.reject(new Error("function not found"));var i=(0,E.selectHistory)((0,_.getAllState)()),n=function(){return(i.some(function(e){return e.disabled})?(0,y.setAllDWHistory)(i.filter(function(e){return!e.disabled}).concat([t])):(0,y.addDWOperations)([t])).then(function(e){(0,_.dispatchAction)((0,k.setNewScript)(e.length-1))})};return i.some(function(e){return e.disabled})?new f.default(function(e){(0,_.dispatchAction)((0,A.openConfirmDialog)({title:"Apply",message:"Do you want to apply this operation?",details:"Once apply all your disabled wrangling operations will be removed.",okText:"Apply",okAction:e}))}).then(n):n()}function a(e){var t={};switch(e.name){case"split":t=(0,b.dwSplit)(e);break;case"extract":t=(0,b.dwExtract)(e);break;case"cut":t=(0,b.dwCut)(e);break;case"drop":t=(0,b.dwDrop)(e);break;case"merge":t=(0,b.dwMerge)(e);break;case"set_name":t=(0,b.dwRename)(e);break;case"set_type":t=(0,b.dwChangeType)(e);break;case"edit":t=(0,b.dwUpdate)(e);break;case"sort":t=(0,b.dwSort)(e);break;case"remove":t=(0,b.dwRemove)(e);break;case"open_refine_exp":t=(0,b.dwOpenRefineExp)(e);break;case"mstr_exp":t=(0,b.dwMSTRExp)(e);break;case"aggregate":t=(0,b.aggregate)(e);break;case"simpleFilter":t=(0,b.dwSimpleFilter)(e);break;case"filter":t=(0,b.dwFilter)(e);break;case"delete_rows":t=(0,b.dwDeleteRow)(e);break;case"duplicate":t=(0,b.dwDuplicateCln)(e);break;case"fillAndBlankDown":t=(0,b.dwFillAndBlankDown)(e);break;case"findAndReplace":t=(0,b.dwFindAndReplace)(e);break;case"keepColumns":t=(0,b.dwKeepColumns)(e);break;case"single_edit":t=(0,b.dwSingleEdit)(e);break;case"mass_edit":t=(0,b.dwMassEdit)(e);break;default:return null}return t}function o(){t({type:L.engine.clear})}function s(){}function l(){var e=m.slice(1),t=(0,x.transform4Render)(c(e));(0,_.dispatchAction)((0,T.setDWRecommendations)(t))}function c(e){return e.map(function(e){switch(e.name){case L.transform.SPLIT:case L.transform.CUT:case L.transform.EXTRACT:["_before","_after","_on"].forEach(function(t){var i=e[t];i&&"object"===("undefined"==typeof i?"undefined":(0,d.default)(i))&&(e[t]=i.source,e["_isRegExp"+t]=(0,O.containRegexChars)(i.source))})}return e})}function h(){}function p(e){L.preview(S,e,P,C,w)}var g,v,m,w=e.tableContainer,C=e.previewContainer,S=e.table,P=e.previewDataTable,R={},F=L.wrangle(),j=[],B=(e.scriptContainer,e.editorContainer,e.dashboardContainer||{}),H=e.columnsName,V={};return S.cols=H,e.initialTransforms.length>0&&e.initialTransforms.forEach(function(e){if(e&&e.name){var t=L[e.name]();(0,u.default)(e).forEach(function(i){t[i]=e[i]}),F.add(t)}else console.log("wrong transform name:"+e)}),V.table=S,V.columnsName=H,v=L.engine(V),L.transform_menu(B,{interaction:t,onclear:o,onedit:t,table:void 0}),R.draw=function(){m=v.run(),s(),l(),h()},R.draw(),N.interaction=t,N.preview=p,N.execute_transform=i,R},L.calc_state_score=function(e){for(var t=0,i=0,n=0,r=0,a=e.cols.length,o=0;o<a;o++){var s=[],l=e.cols[o];e.forEach(function(e){s.push(""+e[l])});var u=L.get_column_stats(s,e.length);t+=u.colHomogeneity,r+=e.length,n+=u.numMissing,i+=u.numDelims}var c=t/a,d=n/r,h=0;n<r&&(h=i/(r-n));var f=1-c+d+h;return f},L.get_column_stats=function(e,t){for(var i=0,n=0,r=0,a=0,o=0,s=0,l=0,u=0,c=0;c<t;c++){var d=e[c];if(L.is_missing(d)?i++:L.date_parse(d)?n++:isNaN(Number(d))||r++,d){var h=d.match(/,/g),f=d.match(/\:/g),p=d.match(/\|/g),g=d.match(/\t/g);h&&(o+=h.length),f&&(s+=f.length),p&&(l+=p.length),g&&(u+=g.length)}}a=t-i-r-n;var v=0,m=n/t,b=r/t,y=a/t;return v=m*m+b*b+y*y,{colHomogeneity:v,numMissing:i,numDelims:o+s+l+u}},L.date_parse=function(e){return NaN},L.num_unique_elts=function(e){for(var t=0,i={},n=0;n<e.cols.length;n++)for(var r=0;r<e.length;r++){var a=e[r][n];L.is_missing(a)||1==i[a]||(t++,i[a]=1)}return t},L.is_slice_all_valid_and_unique=function(e,t){e=e.slice(t);var i={};e.forEach(function(e){return!L.is_missing(e)&&void(i[e]=1)});var n=0;for(var r in i)n++;return n==e.length},L.remove=function(e){var t=L.textPattern(e);return P.ivar(t,[{name:"method",initial:void 0}]),t.apply=void 0,t.description=function(){var e=["Remove"];return t._method&&("cell"==t._method&&e.push(L.column_clause(t,t._column,"column",{editor_class:"none"})),e.push(" duplicated "),e.push(L.select_clause(t,{select_options:{cell:"cells",row:"rows"},param:"method"}))),e},t.well_defined=function(){return 1===t._column.length&&void 0!=t._method},t.name=L.transform.REMOVE,t},L.edit=function(e){var t=L.textPattern(e);return t._update=!0,P.ivar(t,[{name:"to",initial:void 0},{name:"update_method",initial:void 0},{name:"pad",initial:void 0}]),t.transform=function(e){var i;if(void 0!==t._to)i=function(){return t._to};else if(t._update_method)switch(t._update_method){case L.edit.upper:i=function(e){if(void 0!==e)return e.toUpperCase()};break;case L.edit.lower:i=function(e){if(void 0!==e)return e.toLowerCase()};break;case L.edit.capitalize:i=function(e){if(void 0!==e&&e.length>=1)return e[0].toUpperCase()+e.substr(1)};break;case L.edit.uncapitalize:i=function(e){if(void 0!==e&&e.length>=1)return e[0].toLowerCase()+e.substr(1)};break;case L.edit.titlecase:i=function(e){if(void 0!==e&&e.length>=1)return e.replace(/[^. \t\r\n]+/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};break;case L.edit.unescape:i=function(e){if(void 0!==e&&e.length>=1)return S.default.unescape(e)};break;case L.edit.padfirst:i=function(e){if(void 0!==e&&e.length>=0)return t._pad+e};break;case L.edit.padlast:i=function(e){if(void 0!==e&&e.length>=0)return e+t._pad};break;case L.edit.collapse:i=function(e){if(void 0!==e&&e.length>=1)return e.replace(/\s\s+/g," ")};break;case L.edit.trim:i=function(e){if(void 0!==e&&e.length>=1)return e.trim()};break;default:throw"Illegal update update_method"}return e.map(function(e){return void 0!==e&&null!==e?""+e:void 0}).map(i)},t.description=function(){var e=["Edit",L.column_clause(t,t._column,"column",{editor_class:"none"})],i=t.match_description();return e=e.concat(i),t._row&&e.push(L.row_clause(t,t._row,"row")),void 0!=t._to?(e.push(" to '"),e.push(L.input_clause(t,"to")),e.push("'")):t._update_method&&(e.push(L.select_clause(t,{select_options:{LOWER:" to lowercase",CAPITALIZE:" capitalize",UNCAPITALIZE:" uncapitalize",UPPER:"to uppercase",TITLECASE:"TITLECASE",UNESCAPE:"UNESCAPE",PADFIRST:"PADFIRST",PADLAST:"PADLAST",COLLAPSE:"COLLAPSE",TRIM:"TRIM"},param:"update_method"})),!t._pad||"PADFIRST"!=t._update_method&&"PADLAST"!=t._update_method||e.push(L.input_clause(t,"pad"))),e},t.well_defined=function(){return 1===t._column.length&&(void 0!=t._to||void 0!=t._update_method)},t.name=L.transform.EDIT,t},L.edit.upper="UPPER",L.edit.lower="LOWER",L.edit.capitalize="CAPITALIZE",L.edit.uncapitalize="UNCAPITALIZE",L.edit.titlecase="TITLECASE",L.edit.unescape="UNESCAPE",L.edit.padfirst="PADFIRST",L.edit.padlast="PADLAST",L.edit.collapse="COLLAPSE",L.edit.trim="TRIM";t.editString=L.edit;L.INSERT_RIGHT="right",L.INSERT_END="end",L.ROW="row",L.COLUMN="column",L.filter=function(e){var t=L.transform(e);return P.ivar(t,[{name:"filter",initial:""}]),t.well_defined=function(e){return t.filter},t.name="filter",t},L.simpleFilter=function(e){var t=L.transform(e);return P.ivar(t,[{name:"column",initial:""},{name:"operator",initial:""},{name:"args",initial:[]}]),t.well_defined=function(e){return t.column&&t.operator&&t.args&&t.args.length},t.name="simpleFilter",t},L.keepColumns=function(e){var t=L.transform(e);return P.ivar(t,[{name:"column",initial:""}]),t.well_defined=function(e){return t.column},t.name="keepColumns",t},L.clause={column:"column",regex:"regex",input:"input",array:"array",select:"select"},L.status={active:"active",inactive:"inactive",deleted:"deleted",invalid:"invalid"},L.transform_editor=function(e,t,i){var n={},r=["status","table","which","drop","insert_position","ignore_between","update","method"];return"filter"===t.name&&r.push("column"),"split"!=t.name&&r.push("result"),n.draw=function(){var n,a;return t.params().map(function(e){return e.substr(1)}).filter(function(e){return r.indexOf(e)===-1}).sort().forEach(function(r){a=L.jq("div").addClass("editor_wrapper");var o=L.jq("div").append(r.replace(/_/g," ")).addClass("label");a.append(o),n=L.clause.get(t,r),n.done_editing=function(e){i.onedit(e)},a.append(n.editor(i).addClass("editor_input")),e.append(a),a.append(L.jq("div").addClass("clear"))}),e},n},L.row_inference=function(){var e={};e.candidates=function(e,l,u){u=u||{};var c=u.type||L.engine.row,d=[];if(l.length)switch(c){case L.engine.row:var h=L.row(L.rowIndex(l));return d.push({row:h}),d.push({keys:l}),1===l.length&&d.push({header_row:l[0]}),d=d.concat(s(e,l)),d=d.concat(i(e,l)),d=d.concat(n(e,l)),d=d.concat(t(e,l));case L.engine.highlight:return l=l.filter(function(e){return e.text.length>0}),d=d.concat(r(e,l)),d=d.concat(a(e,l)),d=d.concat(o(e,l))}return[]};var t=function(e,t,i){var n=[];if(1===t.length){t[0]}return n.map(function(e){return{row:e}})},i=function(e,t,i){var n=[];return t.length&&e.forEach(function(e){var i=e[t[t.length-1]];n=i?n.concat([L.row(L.eq(e.name,i,!0))]):n.concat([L.row(L.is_null(e.name))])}),n=n.filter(function(i){for(var n=0;n<t.length;++n)if(0===i.test(e,t[n]))return!1;return!0}),n.map(function(e){return{row:e}})},n=function(e,t,i){if(t.length>=2){var n=t.slice().sort(function(e,t){return e-t>0}),r=n[1]-n[0];if(1===r)return[];for(var a=1;a<n.length-1;++a)if(n[a+1]-n[a]!=r)return[];var o=L.row(L.rowCycle(r,n[0]%r)),s=[o].reverse();return s.map(function(e){return{row:e}})}return[]},r=function(e,t,i){if(t.length>0){var n=t[t.length-1];if(0===n.start&&n.end===n.text.length){var r=L.row(L.eq(n.col,n.text.substring(n.start,n.end),!0));return[{row:r}]}}return[]},a=function(e,t,i){if(t.length>0){var n=t[t.length-1];if(0===n.start){var r=L.row(L.starts_with(n.col,n.text.substring(n.start,n.end),!0));return[{row:r}]}}return[]},o=function(e,t,i){if(t.length>0){var n=t[t.length-1],r=L.row(L.contains(n.col,n.text.substring(n.start,n.end),!0));return[{row:r}]}return[]},s=function(e,t,i){for(var n=L.row(L.empty()),r=0;r<t.length;++r)if(!n.test(e,t[r]))return[];return[{row:L.row(L.empty())}]};return e},L.edit_inference=function(){var e={};return e.candidates=function(e,t,i){i=i||{};var n=(i.type||L.engine.edit,[]);if(t.length){var r=t[t.length-1],a=e[r.position.row][r.position.col],o=r.val;n.push({column:r.position.col,to:r.val,row:L.row(L.rowIndex([r.position.row]))});var s=r.position.col;if(void 0!=a&&(a=""+a),a?n.push({column:s,to:r.val,row:L.row(L.eq(s,a,!0))}):n.push({column:s,to:r.val,row:L.row(L.is_null(s))}),a&&o==a.toUpperCase()&&n.push({column:s,update_method:L.edit.upper}),a&&o==a.toLowerCase()&&n.push({column:s,update_method:L.edit.lower}),a&&o.substr(1)==a.substr(1)&&o[0]!=a[0]&&(o[0]===a[0].toUpperCase()?n.push({column:s,update_method:L.edit.capitalize}):o[0]===a[0].toLowerCase()&&n.push({column:s,update_method:L.edit.uncapitalize})),void 0===a||0===a.replace(/[ \t\n]/g,"").length){for(var l=15,u=r.position.col,c=e[u],d=r.position.row,h=d+1;h<Math.min(d+l,e.rows());++h){var f=c[h];if(!L.is_missing(f)){if(f===o){n.push(L.fill(s).direction("up"));break}break}}for(var h=d-1;h>=Math.max(d-l,0);--h){var f=c[h];if(!L.is_missing(f)){if(f===o){n.push(L.fill(s).direction("down"));break}break}}}return n}return[]},e},L.infer_type_transforms=function(e){var t=e,i=function(e,t){for(var i,n=0,r=0,a=0,o=0,t=t||e.length,s=0;s<t;++s)i=e[s],L.is_missing(i)?o++:(i=""+i,L.date_parse(i)?a++:isNaN(Number(i))||(n++,Number(i)===parseInt(Number(i))&&r++));var l=t-o;if(a&&2*a>l)return{type:L.date(),role:L.role()};if(r&&2*r>l)return{type:L.integer(),role:L.role()};if(n&&2*n>l)return{type:L.number(),role:L.role()};var u=L.role();return{type:L.string(),role:u}},n=t.map(function(e){return i(e)}),r=n.map(function(e){return e.type}),a=n.map(function(e){return e.role});return[L.set_type(t.map(function(e){return e.name}),r),L.set_role(t.map(function(e){return e.name}),a)]},L.clause=function(e){e=e||{};var t=e.editor_class,i={},n=(0,v.default)(document.createElement("span"));return P.ivar(i,[{name:"onedit",initial:void 0}]),i.draw=function(e,r){r=r||{};var a=r.editable||!1,o=L.jq("span").append(" "+i.description()+" ");n.append(o),i.plain||(n.addClass("editableClause").addClass(t),a&&o.click(function(){n.empty();var e=i.editor();n.append(e)})),i.done_editing=function(e){e.tIndex=r.tIndex,r.onedit(e).catch(function(t){(0,u.default)(r.origT).forEach(function(t){e.transform[t]=r.origT[t]}),console.log("go back transform:"+e),t()})},e.append(n)},i},L.clause.get=function(e,t){switch(t){case"row":return L.row_clause(e,e[t](),t);case"keys":return L.key_clause(e,e[t](),t);case"column":return L.column_clause(e,e[t](),t);case"max":return L.select_clause(e,{select_options:{0:"repeatedly",1:"once"},param:"max"});case"drop":return L.select_clause(e,{select_options:{true:"true",false:"false"},param:"drop"});case"result":return L.select_clause(e,{select_options:{row:"row",column:"column"},param:"result"});case"direction":return L.select_clause(e,{select_options:{up:"below",down:"above"},param:"direction"});case"on":case"before":case"after":case"ignore_between":return L.regex_clause(e,t);case"quote_character":return L.select_other(e,t,{});default:return L.input_clause(e,t)}},L.combo_with_other=function(e,t){var i,n=t.val,r=L.jq("input");return r.val(t.val||"").focus(),r.blur(function(){t.ondone(r.val())}),i=L.jq("select"),e.filter(function(e){return e.value===n}).length||L.add_select_option(i,n,n),e.forEach(function(e){L.add_select_option(i,e.name,e.value)}),i.change(function(){var e=i[0].value;e===L.combo_with_other.other?(i.replaceWith(r),r.focus()):t.ondone(i[0].value)}).blur(function(){i[0].value!=L.combo_with_other.other&&t.ondone(i[0].value)}),L.add_select_option(i,L.combo_with_other.other),i.val(t.val),i},L.combo_with_other.other="other...",L.column_clause=function(e,t,i,n){n=n||{},n.editor_class=n.editor_class||"updatedColumn";var r,a=n.extra_text||"",o=L.clause(n);return o.description=function(){var e=t.slice(0,Math.min(4,t.length)).map(L.display_name).join(", ");return t.length>4&&(e+="..."),e+a},o.editor=function(a){if(a=a||{},a.table){r=L.jq("select"),n.single&&r.change(function(){l()}),n.all_columns&&L.add_select_option(r,"all columns"),a.table.forEach(function(e){L.add_select_option(r,L.display_name(e.name),e.name)});var s=t.length?t:["all columns"],l=function(){var t=r.val()||[];
t.indexOf("all columns")!=-1&&(t=[]),e=e[i](t),o.done_editing({type:L.engine.param,value:t,param:n.param,transform:e})};r.val(s),r.blur(function(){l()})}else r=(0,v.default)(document.createElement("input")),r.val(o.description()),r.blur(function(){e=e[i](o.value()),o.done_editing({type:L.engine.param,value:r.val(),param:i,transform:e})});return r},o.value=function(){var e=r.val().replace(/ /g,"").split(/,/g);return n.clean_val?e.map(n.clean_val):e},o},L.input_clause=function(e,t){var i,n,r=L.clause();return n=e[t](),r.description=function(){return n},r.editor=function(){return i=(0,v.default)(document.createElement("input")),i.val(r.description()),i.blur(function(){e=e[t](r.value()),r.done_editing({type:L.engine.param,value:i.val(),param:t,transform:e})}),i},r.value=function(){return i.val()},r},L.key_clause=function(e,t,i,n){n=n||{},n.editor_class=n.editor_class||"updatedColumn";var r,a=n.extra_text||"",o=L.clause(n);return o.description=function(){return t.map(function(e){return"header"===e?e:Number(e)+1}).join(", ")+a},o.editor=function(t){return t=t||{},r=(0,v.default)(document.createElement("input")),r.val(o.description()),r.blur(function(){e=e[i](o.value()),o.done_editing({type:L.engine.param,value:o.value(),param:i,transform:e})}),r},o.value=function(){var e=r.val().replace(/ /g,"").replace("header","-1").split(/,/g).map(function(e){return"header"===e?e:Number(e)-1});return n.clean_val?e.map(n.clean_val):e},o},L.regex_clause=function(e,t,i){i=i||{},i.editor_class=i.editor_class||"updatedColumn";var n,r=L.clause(i),a=i.value||e[t]();return r.description=function(){return L.regex.friendly_description(a).replace(/^\/|\/$/g,"")},r.editor=function(){n=(0,v.default)(document.createElement("input"));var i=a?a.toString().replace(/^\/|\/$/g,"").replace(/\n/g,"\\n").replace(/\t/g,"\\t"):"";return n.val(i),n.blur(function(){r.val();e=e[t](r.val()),r.done_editing({type:L.engine.param,value:r.val(),param:t,transform:e})}),n},r.editor=function(){var i=a?a.toString().replace(/^\/|\/$/g,"").replace(/\n/g,"\\n").replace(/\t/g,"\\t"):"",o=[{name:"comma",value:","},{name:"tab",value:"\\t"},{name:"whitespace",value:" "},{name:"newline",value:"\\n"},{name:"pipe",value:"\\|"},{name:"period",value:"\\."}];return n=L.combo_with_other(o,{val:i,ondone:function(i){var n=r.val(i);e=e[t](n),r.done_editing({type:L.engine.param,value:n,param:t,transform:e})}})},r.val=function(e){var e=e||n.val();if(0!==e.length)return new RegExp(e.replace(/\\n/g,"\n").replace(/\\t/g,"\t"))},r},L.row_clause=function(e,t,i,n){n=n||{},n.editor_class=n.editor_class||"droppedRow",i=i||"row";var a,o=L.clause(n);return o.description=function(){if(void 0!=t){var e=t.description();return"array"===r(e)&&(e=e[0]),e.length>50&&(e=e.substr(0,50),e+="..."),e}return""},o.editor=function(){return a=(0,v.default)(document.createElement("input")),a.val(t?t.formula():""),a.blur(function(){e=e[i](o.val()),o.done_editing({type:L.engine.param,value:a.val(),param:i,transform:e})}).keydown(function(t){a.unbind("blur"),13===t.which&&(e=e[i](o.val()),o.done_editing({type:L.engine.param,value:a.val(),param:i,transform:e}))}),a},o.val=function(){var e=a.val();return e?L.row.fromFormula(e):void 0},o},L.select_clause=function(e,t){var i,n=L.clause(),t=t||{},r=t.param,a=t.value||e[r]();return n.description=function(e){return i=(0,v.default)(document.createElement("select")),t.select_options[a]},n.editor=function(){return i=L.jq("select"),(0,u.default)(t.select_options).forEach(function(e){var n=document.createElement("option");n.value=e,n.text=t.select_options[e],i[0].options.add(n)}),i.val(a),i.change(function(){e=e[r](i[0].value),n.done_editing({type:L.engine.param,value:i[0].value,param:t.param,transform:e})}),i.blur(function(){e=e[r](i[0].value),n.done_editing({type:L.engine.param,value:i[0].value,param:t.param,transform:e})}),i},n.on_edit=function(){},n.value=function(){return i[0].value},n},L.select_other=function(e,t,i){i=i||{},i.editor_class=i.editor_class||"updatedColumn";var n,r=L.clause(i),a=i.value||e[t]()||"";return r.description=function(){return a},r.editor=function(){return n=(0,v.default)(document.createElement("input")),n.val(a),n.blur(function(){r.val();e=e[t](r.val()),r.done_editing({type:L.engine.param,value:r.val(),param:t,transform:e})}),n},r.editor=function(){var i=[{name:"Quotes",value:'"'},{name:"Single Quotes",value:"'"}];return n=L.combo_with_other(i,{val:a,ondone:function(i){var n=r.val(i);e=e[t](n),r.done_editing({type:L.engine.param,value:n,param:t,transform:e})}})},r.val=function(e){var e=e||n.val();if(0!==e.length)return e},r},L.text_clause=function(e){var t=L.clause();return t.plain=!0,t.description=function(){return e},t},L.descriptionEditor=function(e,t,i){var n={};return n.draw=function(){var n=t.description();n.forEach(function(t){"string"===r(t)&&(t=L.text_clause(t)),t.draw(e,i)})},n},L.detail_editor=function(e,t,i){var n={},r=["status","table","which","drop","insert_position","ignore_between","update","method"];return"filter"===t.name&&r.push("column"),"split"!=t.name&&r.push("result"),n.draw=function(){var n,a;return t.params().map(function(e){return e.substr(1)}).filter(function(e){return r.indexOf(e)===-1}).sort().forEach(function(r){a=L.jq("div").addClass("detail");var o=L.jq("div").append(r).addClass("label");a.append(o),n=L.clause.get(t,r),n.done_editing=function(e){i.onedit(e)},a.append(n.editor(i).addClass("detail_editor_input")),e.append(a),a.append(L.jq("div").addClass("clear"))}),e},n},L.script=function(e,t,i){var n={};return n.draw=function(){var r,a,o,s=i.initial||[],l=i.onedit,u=(0,v.default)(document.createElement("div")).attr("id","scriptTransformContainer");e.append(u);var c=s.concat(t),d=!1;return c=c.filter(function(e){return!e.deleted()}),c.forEach(function(e,t){if(!e.deleted()){var n=(0,v.default)(document.createElement("div")).addClass("scriptTransform");n.addClass(e.status()),r=(0,v.default)(document.createElement("div")).addClass("descriptionEditor"),u.append(n),o=(0,v.default)(document.createElement("div")),e.active()||(o.addClass("editorButton deleteButton").attr("title","Delete Transform"),o.click(function(){e.delete_transform(),i.edit({transform:e,tIndex:t,type:"delete"}).catch(function(){e.validate(),e.toggle()})})),a=(0,v.default)(document.createElement("div")).addClass("editorButton").addClass("primaryButton"),e.invalid()?a.attr("title",e.errorMessage()):(a.click(function(){e.toggle(),i.edit({transform:e,tIndex:t,type:e.active()?"redo":"undo"}).catch(function(){e.toggle()})}),e.inactive()?a.attr("title","Redo Transform"):a.attr("title","Undo Transform"));var s=v.default.extend(!0,{},e);L.descriptionEditor(r,e,{onedit:l,editable:!0,tIndex:t,origT:s}).draw(),n.append(r),n.append(a),n.append(o),n.append((0,v.default)(document.createElement("div")).addClass("clear")),d||(d=!0,(0,_.dispatchAction)((0,m.applyButtonEnable)()))}}),d||(0,_.dispatchAction)((0,m.applyButtonDisable)()),(0,v.default)(".scriptTransform").mouseenter(function(){(0,v.default)(this).addClass("selected")}).mouseleave(function(){(0,v.default)(this).removeClass("selected")}),n},n},L.engine.transform_set=[L.split(),L.edit(),L.extract(),L.cut(),L.merge(),L.drop(),L.duplicate(),L.set_name()],L.engine.highlight="text_select",L.engine.edit="text_edit",L.engine.row="row_select",L.engine.col="col_select",L.engine.filter="type_select",L.engine.transform="transform_select",L.engine.execute="",L.engine.promote="promote_transform",L.engine.clear="clear_transform",L.engine.missing_bar="missing",L.engine.bad_type_bar="bparse",L.engine.bad_role_bar="brole",L.engine.valid_bar="bvalid",L.engine.param="param_edit",L.preview=function(e,t,i,n,r){function a(e){for(var t=0;t<e[0].length&&!e[0][t];t++)e[0][t]="";return(0,u.default)(e[0]).map(function(t){return e.map(function(e){return e[t]})})}var o,s=e;L.wrangle(),(0,u.default)(e[0]);if(t){t.drop();t.drop(!1),t.name===L.transform.CUT&&t.update(!1);var l=t.apply([s]),c=l.newCols||[],d=l.updatedCols||[],h=(l.droppedCols||[],l.toValueCols||[],l.toHeaderCols||[],l.toKeyRows||[],l.keyRows||[],l.valueCols||[],l.keyCols||[],l.newTables||[],l.valueStats||[]),f=(l.promoteRows||[],h.map(function(e){if(e)return e[0]&&e[0].splits}),l.effectedRows||[],s);t.name===L.transform.CUT&&t.update(!0);var p=null;switch(t.name){case L.transform.DROP:return void(0,_.dispatchAction)((0,M.hidePopPreview)());case L.transform.FOLD:case L.transform.UNFOLD:case L.transform.WRAP:case L.transform.TRANSPOSE:o.table(s).draw(),o.container().addClass("previewAfterTable").show(),f=e;break;case L.transform.FILTER:break;case L.transform.SPLIT:p=p||b.dwSplit;case L.transform.CUT:p=p||b.dwCut;case L.transform.EXTRACT:p=p||b.dwExtract;t.name+"Highlight";default:var g=!1,v=function(e,i,n){var r={};r.id=i>-1?i.toString():t._column[0],r.header=[{text:n>1?"preview"+(i+1):"preview",height:26},{text:"",height:85}],r.width=150,e.push(r)};if(g){var m=p(t);if(void 0===m)return;m.then(function(e){c=e.results.rows,i.clearAll();var t=[];c.length<1||(c[0].forEach(function(e,i){v(t,i)}),i.refreshColumns(t),i.parse((0,w.previewHTMLEncode)(c),"json"),(0,_.dispatchAction)((0,M.showPopPreview)(t)))})}else{i.clearAll();var y=[];c.length>=1?(c.forEach(function(e,t){v(y,t,c.length)}),c=a(c),i.parse((0,w.previewHTMLEncode)(c),"json")):d.length>=1?(v(y,-1,1),i.parse((0,w.previewHTMLEncode)(d),"json")):(v(y,-1,0),i.parse(s.map(function(){return{}}),"json")),i.refreshColumns(y),(0,_.dispatchAction)((0,M.showPopPreview)(y))}}}else;},t.default=L},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(30),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=i(8),_=n(E),A=i(2180),C=n(A);i(1818);var S=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.style,i=e.onStop,n=e.axis,r=e.bounds,o=(0,s.default)(e,["style","onStop","axis","bounds"]);return y.default.createElement(C.default,(0,a.default)({onStop:i,axis:n,bounds:r},o),y.default.createElement("div",{className:(0,_.default)("mstr-as-resizer",n),style:t}))}}]),t}(y.default.Component);t.default=S,S.propTypes={axis:x.default.oneOf(["x","y"]),style:x.default.object,bounds:x.default.object,onStop:x.default.func.isRequired},S.defaultProps={axis:"x",style:{},bounds:null}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.facetManager=t.FacetManager=void 0;var r=i(2),a=n(r),o=i(6),s=n(o),l=t.FacetManager=function(){function e(){(0,a.default)(this,e),this.tableFacetBuilderCache={}}return(0,s.default)(e,[{key:"addTableFacetBuilder",value:function(e,t){this.tableFacetBuilderCache[e]=t}},{key:"getTableFacetBuilder",value:function(e){return this.tableFacetBuilderCache[e]}},{key:"removeTableFacetBuilder",value:function(e){var t=this.tableFacetBuilderCache[e],i=void 0;return t&&(i=t.getFacetConfigs(),t.dispose(),delete this.tableFacetBuilderCache[e]),i}}]),e}();t.facetManager=new l},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return function(t){(0,l.subscribeOk)(e.okAction),(0,l.subscribeCancel)(e.cancelAction),t({type:s.OPEN_CONFIRM_DIALOG,config:e})}}function a(e){return function(e){e({type:s.CLOSE_CONFIRM_DIALOG})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openConfirmDialog=r,t.closeConfirmDialog=a;var o=i(558),s=n(o),l=i(559)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(256),m=n(v);i(503);var b=i(1),y=n(b),w=i(8),x=n(w),E=m.default.TabPane,_=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return y.default.createElement(E,(0,a.default)({className:"mstr-as-tab-pane"},this.props),this.props.children)}}]),t}(y.default.Component);t.default=_,_.EmptyContent=function(e){var t=e.className,i=void 0===t?"":t,n=e.title,r=void 0===n?"":n,a=e.text,o=void 0===a?"":a,s=e.actions,l=void 0===s?null:s;return y.default.createElement("div",{className:(0,x.default)("empty-content",i)},y.default.createElement("div",{className:"empty-title"},r),y.default.createElement("div",{className:"empty-text"},o),l)}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i="/models";return v.post(i,{workspaceId:e,modelInstanceId:t})}function a(e,t){var i="/models/"+t;return v.put(i,{workspaceId:e})}function o(e,t,i){var n="/models/"+t;return v.patch(n,{workspaceId:e,operations:i})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.post("/cubes",e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.post("/sparkCubes",e)}function u(e,t){return v.get("/cubes/"+e+"/status",{workspace_id:t})}function c(e,t,i){if(t)return v.post("/commands",[{type:"changeMapping",workspaceId:e,pipelineId:t,mapping:i}])}function d(e,t){if(t&&0!==t.length){var i={type:"previewGridView",objIds:t.map(function(e){return e.objectId}),workspaceId:e};return v.post("/commands",[i])}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/cubes/publishinfo";return v.get(t,e)}function f(e){return v.get("/workspaces/"+e+"/systemfunctions")}function p(e,t){var i="/tables/"+e().dpState.currentPreviewTableId+"/expression-validation";return v.post(i,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createDatasetInstance=r,t.updateDatasetInstance=a,t.patchDataModel=o,t.publishDataset=s,t.publishSparkCube=l,t.pollPublish=u,t.changeMapping=c,t.previewGridView=d,t.getInfo=h,t.getSystemFunctions=f,t.validateMSTRExp=p;var g=i(86),v=n(g)},,,,,,[2321,88,36],[2331,88],229,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=i(2197);t.Motion=n(r);var a=i(2198);t.StaggeredMotion=n(a);var o=i(2199);t.TransitionMotion=n(o);var s=i(2202);t.spring=n(s);var l=i(893);t.presets=n(l);var u=i(327);t.stripStyle=n(u);var c=i(2201);t.reorderKeys=n(c)},,,[2315,1753],,function(e,t,i){"use strict";i(39),i(1755),i(258)},[2314,1762],,,,[2314,1769],,function(e,t,i){"use strict";function n(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDeleteHierarchyOperation=t.getDeleteAttrFromHier=t.getCreateHierachyObjParams=t.getCreateHierarchyOperation=t.getChangeDataTypeOperation=t.getRenameObjectTypeOperation=t.getConvertObjectTypeOperation=void 0;var r=i(59),a=i(29),o=(t.getConvertObjectTypeOperation=function(e,t,i){switch(t){case r.ATTRIBUTES:return{operator:"Replace",path:"/attribute",value:{tableId:e,attributeId:i}};case r.METRICS:return{operator:"Replace",path:"/metric",value:{tableId:e,metricId:i}}}},t.getRenameObjectTypeOperation=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(t){case r.ATTRIBUTES:return{operator:"Update",path:"/attribute",value:{name:e,attributeId:i,connect:n}};case r.METRICS:return{operator:"Update",path:"/metric",value:{name:e,metricId:i}};case r.HIERARCHY:return{operator:"Update",path:"/hierarchy",value:{name:e,hierarchyId:i}}}},t.getChangeDataTypeOperation=function(e,t,i,n,a){switch(t){case r.ATTRIBUTES:return{operator:"Update",path:"/attribute",value:{attributeId:e,dataType:i,baseFormType:n,formId:a}};case r.METRICS:return{operator:"Update",path:"/metric",value:{metricId:e,dataType:i}}}},function(e){var t={},i=(0,a.getAllState)().dmState.importSources.defn.objects.hierarchy;i&&i.forEach(function(e){t[e.name]=1});for(var n=1,r=e;t[r];)r=e+" ("+n+")",n++;return r});t.getCreateHierarchyOperation=function(e,t,i){for(var n=[{operator:"Add",path:"/hierarchy",value:{hierarchyId:i,hierarchyName:t}}],r=void 0,a=void 0;e.length;)r=e.pop(),n.push({operator:"Add",path:"/relationship",value:{hierarchyName:t,hierarchyId:i,parentId:r,childId:a?a:r,erType:"OneMany"}}),a=r;return n},t.getCreateHierachyObjParams=function(e,t){var i=o("New Hierarchy"),a={id:n().replace(/-/g,""),name:i,type:r.HIERARCHY,isCreate:!0,attributes:{}};if(1===e.length)a.attributes[e[0]]={objectId:e[0],name:t[0]};else if(e.length>=2){var s=e.pop(),l=t.pop(),u=s;for(a.attributes[s]={objectId:s,name:l};e.length;)s=e.pop(),l=t.pop(),a.attributes[s]={objectId:s,name:l,relationships:[{child:u,parent:s}]},u=s}return a},t.getDeleteAttrFromHier=function(e,t){for(var i=[];e.length;)i.push({operator:"Remove",path:"/hierarchyAttribute",value:{attributeId:e.pop(),hierarchyName:t.pop(),connect:!0}});return i},t.getDeleteHierarchyOperation=function(e,t){var i=[{operator:"Remove",path:"/hierarchy",value:{hierarchyId:e,hierarchyName:t}}];return i}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=void 0,i=mstrAppSchema.workspaceId?mstrAppSchema.workspaceId:p.workspaceManager.initialWorkspaceId;p.workspaceManager.currentDatamodelMapping&&p.workspaceManager.currentDatamodelMapping.id?t=p.workspaceManager.currentDatamodelMapping.id:mstrAppSchema.modelInstanceId&&(t=mstrAppSchema.modelInstanceId);var n="/models/"+t+"/forms",r={workspace_id:i};return e&&(r.selected_attributes=e.join(",")),f.get(n,r)}function o(e,t,i,n,r,a){var o=n.data,s=m.default.result(m.default.find(m.default.flatMap(o),function(e){return e.FormCategory===t}),"Name"),u=n.editMode&&r.id?r.id:l(i,s),c=m.default.map(m.default.flatMap(o),function(e){return e.Name}),h=m.default.map(m.default.flatMap(a),function(e){return e.name}),f=c.includes(e),p=n.editMode&&h.includes(r.name),g=[];if(n.editMode)if((p||f)&&m.default.some(o,function(e){return e.length>1})&&g.push({operator:"Update",path:"/attribute",value:{name:"_customized_mfa_name_",attributeId:u}}),1===m.default.keys(n.data).length){var v=m.default.find(n.data[n.currentTableId],function(e){return e.FormCategory===t}),b=m.default.find(a[n.currentTableId],function(e){return e.name===v.Name});b?b.formCategory!==v.FormCategory&&g.push({operator:"Update",path:"/form",value:{attributeId:u,formName:b.formCategory,targetFormName:t}}):(g.push({operator:"Replace",path:"/form",value:{tableId:n.currentTableId,formName:t,attributeId:u}}),g.push({operator:"Add",path:"/form",value:{tableId:n.currentTableId,targetAttributeId:u,formName:t,attributeId:l(i,v.Name),isDisplayForm:v.DisplayForm,connect:!0}})),m.default.forEach(a[n.currentTableId],function(e){e.formCategory!==t&&g.push({operator:"Replace",path:"/form",value:{tableId:n.currentTableId,formName:e.formCategory,attributeId:u}})})}else m.default.forEach(a,function(e,i){m.default.forEach(e,function(e){e.formCategory!==t&&g.push({operator:"Replace",path:"/form",value:{tableId:i,formId:e.id,attributeId:r.id}})})}),g=m.default.uniqWith(g,m.default.isEqual);var y=function(e){m.default.forEach(o[e],function(n){if(n.FormCategory===t)g.push({operator:"Update",path:"/attribute",value:{tableId:e,attributeId:u,formName:n.FormCategory,isDisplayForm:n.DisplayForm}});else if(n.Name){var r,a=p||f?null:l(i,n.Name);g.push({operator:"Add",path:"/form",value:(r={tableId:e},(0,d.default)(r,u?"targetAttributeId":"targetAttributeName",u?u:s),(0,d.default)(r,"formName",n.FormCategory),(0,d.default)(r,a?"attributeId":"attributeName",a?a:n.Name),(0,d.default)(r,"isDisplayForm",n.DisplayForm),(0,d.default)(r,"connect",!0),r)})}})};for(var w in o)y(w);return(s!==e||p||f&&m.default.some(o,function(e){return e.length>1}))&&g.push({operator:"Update",path:"/attribute",value:{name:e,attributeId:u}}),g}function s(e){var t=m.default.filter(e,function(e){return e.type===g.HIERARCHY}),i=[];return m.default.isEmpty(t)||m.default.forEach(t,function(e){i=m.default.concat(i,e.attributes)}),i}function l(e,t){var i=s(e),n=m.default.concat(e,i);return m.default.result(m.default.find(n,function(e){return"attribute"===e.type&&e.name===t}),"id")}function u(e){var t="";for(var i in e)t=t+'The attribute "'+i+'" will be removed from "'+e[i]+'" hierarchy. ';return t}Object.defineProperty(t,"__esModule",{value:!0});var c=i(12),d=r(c);t.getFormCategory=a,t.generatePatchMFAOperations=o,t.getHierAttributes=s,t.generateHierarchyWarningMsg=u;var h=i(86),f=n(h),p=i(20),g=i(59),v=i(15),m=r(v)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOGGLE_DATA_WRANGLER="TOGGLE_DATA_WRANGLER",t.UPDATE_FACET_FILTER="UPDATE_FACET_FILTER"},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return{type:l.SET_SELECTED_COLUMN,selectedCols:e}}function a(e){return{type:l.SET_HIGHLIGHTED_TEXT,selText:e}}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];return{type:l.TOGGLE_EDIT_CELL,visible:e,colName:t,$target:i,originalValue:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.setDWSelectedColumns=r,t.setHighlightedText=a,t.toggleEditCell=o;var s=i(532),l=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=n(b);i(1792);var w=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.control,t=this.props,i=t.input,n=i.onChange,r=i.value,a=i.onBlur,o=t.meta,s=o.error,l=o.touched,u=t.config,c=u.label,d=u.type,h=u.cssClass,f=t.values,p=l&&s;return g.default.createElement("div",{className:(0,y.default)(""+(h||"mstr-as-form-field-wrapper"),d,{invalid:!!p}),onBlur:function(){a.apply(this,arguments)}},g.default.createElement("div",{className:"field-label"},c),g.default.createElement(e,{values:f,onChange:function(e){n(e)},value:r||this.props.config.value,config:this.props.config,className:(0,y.default)({invalid:!!p})}),g.default.createElement("div",{className:"err-msg"},p))}}]),t}(p.Component);t.default=w,w.propTypes={control:m.default.func.isRequired}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return{type:s.SHOW_POP_PREVIEW,column:e}}function a(){return{type:s.HIDE_POP_PREVIEW}}Object.defineProperty(t,"__esModule",{value:!0}),t.showPopPreview=r,t.hidePopPreview=a;var o=i(543),s=n(o)},function(e,t){"use strict";function i(e){return e.replace(new RegExp(a.source+"("+r.source+")","g"),"$1")}function n(e){return e.search(r)>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeRegex=i,t.containRegexChars=n;var r=/[\\^$.*+?()[\]{}|]/,a=/\\/},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){"function"==typeof e.apply&&d.AllExports.preview(e)}function a(e){return d.AllExports.execute_transform(e)}function o(e,t){var i=void 0;return h.default[e]&&"function"==typeof h.default[e]?(i=h.default[e]().clone(),(0,l.default)(t).forEach(function(e){return i.has_parameter(e)?void("object"===oe.default.type(t[e])?(0,l.default)(t[e]).forEach(function(n){return i.has_parameter(n)?void i[n](t[e][n]):[]}):i[e](t[e])):[]})):(i={},i.name=e,(0,l.default)(t).forEach(function(e){i[e]=t[e]})),i}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedTransforms=void 0;var s=i(28),l=n(s),u=i(12),c=n(u);t.previewOnSuggestion=r,t.executeTransform=a,t.newTransform=o;var d=i(222),h=n(d),f=i(1171),p=n(f),g=i(1187),v=n(g),m=i(1166),b=n(m),y=i(1170),w=n(y),x=i(1168),E=n(x),_=i(1179),A=n(_),C=i(1181),S=n(C),T=i(1182),I=n(T),D=i(1183),O=n(D),M=i(1186),k=n(M),N=i(1180),P=n(N),L=i(1176),R=n(L),F=i(1165),j=n(F),B=i(1173),H=n(B),V=i(1177),U=n(V),W=i(1184),z=n(W),G=i(1167),$=n(G),q=i(1169),Y=n(q),J=i(1172),K=n(J),X=i(1174),Q=n(X),Z=i(1175),ee=n(Z),te=i(1185),ie=n(te),ne=i(1178),re=n(ne),ae=i(26),oe=n(ae);t.SupportedTransforms=(0,c.default)({extract:p.default,split:v.default,cut:b.default,edit:w.default,drop:E.default,merge:A.default,remove:S.default,set_name:I.default,set_type:O.default,sort:k.default,open_refine_exp:P.default,aggregate:j.default,filter:H.default,mstr_exp:R.default,MTDICube:U.default,simpleFilter:z.default,delete_rows:$.default,duplicate:Y.default,fillAndBlankDown:K.default,keepColumns:ee.default,single_edit:ie.default,mass_edit:re.default,findAndReplace:Q.default},"keepColumns",ee.default)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){return{type:h.FETCH_ALL_DATASOURCE_LIST_REQUEST}}function a(){return{type:h.FETCH_ALL_DATASOURCE_LIST_PROCESS}}function o(e){return{type:h.FETCH_ALL_DATASOURCE_LIST_SUCCESS,allDatasources:e}}function s(e){return{type:f.SET_ALL_DATASOURCE_SEARCH_PATTERN,pattern:e}}function l(e){return{type:f.SET_CURRENT_DATASOURCE_TYPES,dstp:e}}function u(){return{type:f.EXPAND_DS_TYPES_DROPDOWN}}function c(){return{type:f.COLLAPSE_DS_TYPES_DROPDOWN}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAllDataSourceListRequest=r,t.fetchAllDataSourceListProcess=a,t.fetchAllDataSourceListSUCCESS=o,t.setAllDataSourceSearchPattern=s,t.setCurrentDataSourceType=l,t.expandDsTypesdropdown=u,t.collapseDsTypesdropdown=c;var d=i(367),h=n(d),f=n(d)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALL_DATA_SOURCES_TAB_KEY="DATA_SOURCES_TAB",t.TABLES_TAB_KEY="TABLES_TAB"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(e.objectType===l.TABLE_GROUP_TYPE)(0,o.default)(e.tables).forEach(function(i){var n=e.tables[i];r(n,t)});else{var i=e.datasource,n=i.dbRoleId;t[n]=t[n]||[],t[n].push({name:e.name,namespace:i.namespace})}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectWorkspaceOperationState=t.selectTableOperationState=t.selectWorkSpaceSourceTables=t.selectWorkSpacePipeLines=t.selectWorkSpaceDefinition=t.selectDPToolbarEnabled=t.selectJoinPanelState=t.selectDWState=t.selectDPState=void 0;var a=i(28),o=n(a),s=i(82),l=i(373),u=i(85),c=t.selectDPState=function(e){return e.dpState},d=t.selectDWState=function(e){return e.dataWrangler},h=t.selectJoinPanelState=function(e){return e.joinPanelReducer},f=(t.selectDPToolbarEnabled=(0,s.createSelector)(c,function(e){return e.toolbarEnabled}),t.selectWorkSpaceDefinition=(0,s.createSelector)(c,function(e){return e.wsdefinition})),p=t.selectWorkSpacePipeLines=(0,s.createSelector)(f,function(e){return e.pipelines});t.selectWorkSpaceSourceTables=(0,s.createSelector)(p,function(e){var t={};return e.forEach(function(e){var i=e.tableGroup;r(i,t)}),t}),t.selectTableOperationState=(0,s.createSelector)(c,d,function(e,t){var i=!0,n=!0,r=t.opts.showWrangler;if(u.pipelineManager.pipelineVisual&&u.pipelineManager.pipelineVisual.pegraph&&e.isEditPipelineMode){var a=u.pipelineManager.pipelineVisual.pegraph.getSelectedNodes(),o=a.filter(function(e){var t=u.pipelineManager.pipelineVisual.pegraph.getNode(e);return t&&t.outedges.length>0});i=0===o.length,n=0===o.length}return{showWrangler:r,canWrangle:1===e.selectedTableIds.length&&!r,canDelete:n&&!r,canJoin:2===e.selectedTableIds.length&&i&&!r,canUnion:e.selectedTableIds.length>1&&i&&!r,canPublish:!0}}),t.selectWorkspaceOperationState=(0,s.createSelector)(c,d,h,function(e,t,i){var n=t.opts.showWrangler;return{canZoom:!n,canAddDS:!n,canSave:!n,enableToolbar:!n&&!i.showJoinPanel,enableObjectPanelToggle:!e.isEditPipelineMode,canPublish:!n&&!e.isEditPipelineMode,canExit:!n&&!e.isEditPipelineMode,isWrangling:n}})},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return function(t){(0,l.subscribeOk)(e.okAction),t({type:s.OPEN_ALERT_DIALOG,config:e})}}function a(e){return function(e){e({type:s.CLOSE_ALERT_DIALOG})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openAlertDialog=r,t.closeAlertDialog=a;var o=i(555),s=n(o),l=i(556)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayToggleLoading=t.toggleLoading=void 0;var n=i(29),r=t.toggleLoading=function(e){return{type:"TOGGLE_LOADING",payload:e}},a=[];t.delayToggleLoading=function(e,t){if(e){(0,n.dispatchAction)(r({show:e,blur:!1,hideSpinner:!0}));var i=window.setTimeout(function(){var o=a.indexOf(i);o>=0&&a.splice(o,1),(0,n.dispatchAction)(r({show:e,text:t,blur:!1,hideSpinner:!1}))},1e3);a.push(i)}else a.forEach(function(e){window.clearTimeout(e)}),a=[],(0,n.dispatchAction)(r({show:e}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectCubePublishDialog=t.selectFeatureFlagDialog=t.selectAlertDialog=t.selectConfirmDialog=t.selectUIState=void 0;var n=i(82),r=t.selectUIState=function(e){return e.uiComponentState};t.selectConfirmDialog=(0,n.createSelector)(r,function(e){return e.confirmationDialog}),t.selectAlertDialog=(0,n.createSelector)(r,function(e){return e.alertDialog}),t.selectFeatureFlagDialog=(0,n.createSelector)(r,function(e){return e.featureFlagDialog}),t.selectCubePublishDialog=(0,n.createSelector)(r,function(e){return e.cubePublishDialog})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=n(o);i(677),t.default=function(e){var t=e.type;return a.default.createElement("div",{className:(0,s.default)("mstr-as-datatype-option",t)})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(256),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(503);var b=i(1),y=n(b),w=i(226),x=n(w);i(1846);var E=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement("div",{className:this.props.collapseInactiveTabTitle?"mstr-as-tabs collapse-inactive-tab-title":"mstr-as-tabs"},y.default.createElement(a.default,(0,s.default)({type:"card"},this.props),this.props.children))}}]),t}(y.default.Component);t.default=E,E.defaultProps={collapseInactiveTabTitle:!0},E.TabPane=x.default},function(e,t){"use strict";function i(){this.dpWorkerCount=0,this.dmWorkerCount=0,this.derivedColumnCount=1,this.combineColumnIds,this.dmPreviewIds=[],this.delayedResults=[],this.publishJobId,this.selectedContent={},this.previewColumns=[],this.dwTableEvent=[],this.dwWebixEvent=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.MBDEenvironment=i;t.mbde=new i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=n(b),w=i(892),x=n(w);i(1857);var E=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){
var e=this.props,t=e.open,i=e.title,n=e.content,r=e.footer,a=e.className;return g.default.createElement(x.default,{isOpen:t,className:(0,y.default)("mstr-as-dialog",a),overlayClassName:"mstr-as-dialog-curtain",contentLabel:"Notification Modal",shouldCloseOnOverlayClick:!1},g.default.createElement("div",{className:"dialog-title"},i),g.default.createElement("div",{className:"dialog-content"},n),g.default.createElement("div",{className:"dialog-footer"},r))}}]),t}(p.Component);E.propTypes={open:m.default.bool,title:m.default.string,className:m.default.string,content:m.default.node,footer:m.default.node},E.defaultProps={title:"Alert",open:!1,className:"",content:g.default.createElement("div",null),footer:g.default.createElement("div",null)},t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1314),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1315),a=n(r);t.default=a.default},,,,,,,,,[2320,79,43,167],function(e,t,i){"use strict";var n=i(19),r=i(11),a=i(71),o=i(165),s=i(137),l=i(159),u=i(158),c=i(25),d=i(24),h=i(294),f=i(197),p=i(410);e.exports=function(e,t,i,g,v,m){var b=n[e],y=b,w=v?"set":"add",x=y&&y.prototype,E={},_=function(e){var t=x[e];a(x,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,i){return t.call(this,0===e?0:e,i),this})};if("function"==typeof y&&(m||x.forEach&&!d(function(){(new y).entries().next()}))){var A=new y,C=A[w](m?{}:-0,1)!=A,S=d(function(){A.has(1)}),T=h(function(e){new y(e)}),I=!m&&d(function(){for(var e=new y,t=5;t--;)e[w](t,t);return!e.has(-0)});T||(y=t(function(t,i){u(t,y,e);var n=p(new b,t,y);return void 0!=i&&l(i,v,n[w],n),n}),y.prototype=x,x.constructor=y),(S||I)&&(_("delete"),_("has"),v&&_("get")),(I||C)&&_(w),m&&x.clear&&delete x.clear}else y=g.getConstructor(t,e,v,w),o(y.prototype,i),s.NEED=!0;return f(y,e),E[e]=y,r(r.G+r.W+r.F*(y!=b),E),m||g.setStrong(y,e,v),y}},function(e,t,i){"use strict";var n=i(70),r=i(71),a=i(24),o=i(101),s=i(36);e.exports=function(e,t,i){var l=s(e),u=i(o,l,""[e]),c=u[0],d=u[1];a(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,c),n(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,i){"use strict";var n=i(17);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},[2333,88],function(e,t,i){var n=i(25),r=i(88),a=i(36)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},[2337,36],function(e,t,i){"use strict";e.exports=i(160)||!i(24)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i(19)[e]})},394,function(e,t,i){"use strict";var n=i(11),r=i(57),a=i(89),o=i(159);e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,s,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(i=[],t?(n=0,s=a(l,arguments[2],2),o(e,!1,function(e){i.push(s(e,n++))})):o(e,!1,i.push,i),new this(i))}})}},function(e,t,i){"use strict";var n=i(11);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},[2357,19],[2358,17,57,36],function(e,t,i){for(var n,r=i(19),a=i(70),o=i(168),s=o("typed_array"),l=o("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,d=0,h=9,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<h;)(n=r[f[d++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},i=t.publishSource,n=t.clientOffset,r=t.getSourceClientOffset;(0,d.default)((0,f.default)(e),"Expected sourceIds to be an array.");var a=this.getMonitor(),o=this.getRegistry();(0,d.default)(!a.isDragging(),"Cannot call beginDrag while dragging.");for(var s=0;s<e.length;s++)(0,d.default)(o.getSource(e[s]),"Expected sourceIds to be registered.");for(var l=null,u=e.length-1;u>=0;u--)if(a.canDragSource(e[u])){l=e[u];break}if(null!==l){var c=null;n&&((0,d.default)("function"==typeof r,"When clientOffset is provided, getSourceClientOffset must be a function."),c=r(l));var h=o.getSource(l),p=h.beginDrag(a,l);(0,d.default)((0,g.default)(p),"Item must be an object."),o.pinSource(l);var v=o.getSourceType(l);return{type:b,itemType:v,item:p,sourceId:l,clientOffset:n,sourceClientOffset:c,isSourcePublic:i}}}function a(){var e=this.getMonitor();if(e.isDragging())return{type:y}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.clientOffset,n=void 0===i?null:i;(0,d.default)((0,f.default)(e),"Expected targetIds to be an array.");var r=e.slice(0),a=this.getMonitor(),o=this.getRegistry();(0,d.default)(a.isDragging(),"Cannot call hover while not dragging."),(0,d.default)(!a.didDrop(),"Cannot call hover after drop.");for(var s=0;s<r.length;s++){var l=r[s];(0,d.default)(r.lastIndexOf(l)===s,"Expected targetIds to be unique in the passed array.");var u=o.getTarget(l);(0,d.default)(u,"Expected targetIds to be registered.")}for(var c=a.getItemType(),h=r.length-1;h>=0;h--){var p=r[h],g=o.getTargetType(p);(0,m.default)(g,c)||r.splice(h,1)}for(var v=0;v<r.length;v++){var b=r[v],y=o.getTarget(b);y.hover(a,b)}return{type:w,targetIds:r,clientOffset:n}}function s(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.getMonitor(),n=this.getRegistry();(0,d.default)(i.isDragging(),"Cannot call drop while not dragging."),(0,d.default)(!i.didDrop(),"Cannot call drop twice during one drag operation.");var r=i.getTargetIds().filter(i.canDropOnTarget,i);r.reverse(),r.forEach(function(r,a){var o=n.getTarget(r),s=o.drop(i,r);(0,d.default)("undefined"==typeof s||(0,g.default)(s),"Drop result must either be an object or undefined."),"undefined"==typeof s&&(s=0===a?{}:i.getDropResult()),e.store.dispatch({type:x,dropResult:u({},t,s)})})}function l(){var e=this.getMonitor(),t=this.getRegistry();(0,d.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var i=e.getSourceId(),n=t.getSource(i,!0);return n.endDrag(e,i),t.unpinSource(),{type:E}}Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.beginDrag=r,t.publishDragSource=a,t.hover=o,t.drop=s,t.endDrag=l;var c=i(40),d=n(c),h=i(50),f=n(h),p=i(81),g=n(p),v=i(648),m=n(v),b=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",y=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",w=t.HOVER="dnd-core/HOVER",x=t.DROP="dnd-core/DROP",E=t.END_DRAG="dnd-core/END_DRAG"},function(e,t){"use strict";function i(e){return{type:o,sourceId:e}}function n(e){return{type:s,targetId:e}}function r(e){return{type:l,sourceId:e}}function a(e){return{type:u,targetId:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=i,t.addTarget=n,t.removeSource=r,t.removeTarget=a;var o=t.ADD_SOURCE="dnd-core/ADD_SOURCE",s=t.ADD_TARGET="dnd-core/ADD_TARGET",l=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",u=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e,t){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,i){var n,r,a;!function(o,s){r=[e,i(5),i(1)],n=s,a="function"==typeof n?n.apply(t,r):n,!(void 0!==a&&(e.exports=a))}(this,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,l,u=n(e),c=n(t),d=n(i),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p={x:"clientWidth",y:"clientHeight"},g={x:"clientTop",y:"clientLeft"},v={x:"innerWidth",y:"innerHeight"},m={x:"offsetWidth",y:"offsetHeight"},b={x:"offsetLeft",y:"offsetTop"},y={x:"overflowX",y:"overflowY"},w={x:"scrollWidth",y:"scrollHeight"},x={x:"scrollLeft",y:"scrollTop"},E={x:"width",y:"height"},_=function(){},A=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",_,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0},C="ReactList failed to reach a stable state.",S=100,T=function(e,t){for(var i in t)if(e[i]!==t[i])return!1;return!0};u.default.exports=(l=s=function(e){function t(e){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.initialIndex,o=1,s=i.constrain(n,0,o,e),l=s.from,u=s.size;return i.state={from:l,size:u,itemsPerRow:o},i.cache={},i.prevPrevState={},i.unstable=!1,i.updateCounter=0,i}return o(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,i=t.from,n=t.size,r=t.itemsPerRow;this.maybeSetState(this.constrain(i,n,r,e),_)}},{key:"componentDidMount",value:function(){this.updateFrame=this.updateFrame.bind(this),window.addEventListener("resize",this.updateFrame),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(){var e=this;if(!this.unstable){if(++this.updateCounter>S)return this.unstable=!0,console.error(C);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){e.updateCounter=0,delete e.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){return T(this.state,e)?t():void this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrame),this.scrollParent.removeEventListener("scroll",this.updateFrame,A),this.scrollParent.removeEventListener("mousewheel",_,A)}},{key:"getOffset",value:function(e){var t=this.props.axis,i=e[g[t]]||0,n=b[t];do i+=e[n]||0;while(e=e.offsetParent);return i}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollParent",value:function(){var e=this.props,t=e.axis,i=e.scrollParentGetter;if(i)return i();for(var n=this.getEl(),r=y[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window}},{key:"getScroll",value:function(){var e=this.scrollParent,t=this.props.axis,i=x[t],n=e===window?document.body[i]||document.documentElement[i]:e[i],r=this.getScrollSize()-this.getViewportSize(),a=Math.max(0,Math.min(n,r)),o=this.getEl();return this.getOffset(e)+a-this.getOffset(o)}},{key:"setScroll",value:function(e){var t=this.scrollParent,i=this.props.axis;return e+=this.getOffset(this.getEl()),t===window?window.scrollTo(0,e):(e-=this.getOffset(this.scrollParent),void(t[x[i]]=e))}},{key:"getViewportSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?window[v[t]]:e[p[t]]}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,i=t.body,n=t.documentElement,r=w[this.props.axis];return e===window?Math.max(i[r],n[r]):e[r]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter,i=e.type;return"uniform"===i||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScroll(),i=Math.max(0,t-e),n=t+this.getViewportSize()+e;return this.hasDeterminateSize()&&(n=Math.min(n,this.getSpaceBefore(this.props.length))),{start:i,end:n}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,i=e.useStaticSize,n=this.state,r=n.itemSize,a=n.itemsPerRow;if(i&&r&&a)return{itemSize:r,itemsPerRow:a};var o=this.items.children;if(!o.length)return{};var s=o[0],l=s[m[t]],u=Math.abs(l-r);if((isNaN(u)||u>=1)&&(r=l),!r)return{};var c=b[t],d=s[c];a=1;for(var h=o[a];h&&h[c]===d;h=o[a])++a;return{itemSize:r,itemsPerRow:a}}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=_),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.getScrollParent(),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrame),e.removeEventListener("mousewheel",_)),this.scrollParent.addEventListener("scroll",this.updateFrame,A),this.scrollParent.addEventListener("mousewheel",_,A))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd(),i=t.end,n=this.items.children,r=0;if(n.length){var a=this.props.axis,o=n[0],s=n[n.length-1];r=this.getOffset(s)+s[m[a]]-this.getOffset(o)}if(r>i)return e();var l=this.props,u=l.pageSize,c=l.length,d=Math.min(this.state.size+u,c);this.maybeSetState({size:d},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),i=t.start,n=t.end,r=this.props,a=r.length,o=r.pageSize,s=0,l=0,u=0,c=a-1;l<c;){var d=this.getSizeOf(l);if(null==d||s+d>i)break;s+=d,++l}for(var h=a-l;u<h&&s<n;){var f=this.getSizeOf(l+u);if(null==f){u=Math.min(u+o,h);break}s+=f,++u}this.maybeSetState({from:l,size:u},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),i=t.itemSize,n=t.itemsPerRow;if(!i||!n)return e();var r=this.getStartAndEnd(),a=r.start,o=r.end,s=this.constrain(Math.floor(a/i)*n,(Math.ceil((o-a)/i)+1)*n,n,this.props),l=s.from,u=s.size;return this.maybeSetState({itemsPerRow:n,from:l,itemSize:i,size:u},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var i=this.state,n=i.itemSize,r=i.itemsPerRow;if(n)return t[e]=Math.floor(e/r)*n;for(var a=e;a>0&&null==t[--a];);for(var o=t[a]||0,s=a;s<e;++s){t[s]=o;var l=this.getSizeOf(s);if(null==l)break;o+=l}return t[e]=o}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,i=this.items.children,n=m[this.props.axis],r=0,a=i.length;r<a;++r)e[t+r]=i[r][n]}},{key:"getSizeOf",value:function(e){var t=this.cache,i=this.items,n=this.props,r=n.axis,a=n.itemSizeGetter,o=n.itemSizeEstimator,s=n.type,l=this.state,u=l.from,c=l.itemSize,d=l.size;if(c)return c;if(a)return a(e);if(e in t)return t[e];if("simple"===s&&e>=u&&e<u+d&&i){var h=i.children[e-u];if(h)return h[m[r]]}return o?o(e,t):void 0}},{key:"constrain",value:function(e,t,i,n){var r=n.length,a=n.minSize,o=n.type;t=Math.max(t,a);var s=t%i;return s&&(t+=i-s),t>r&&(t=r),e="simple"!==o&&e?Math.max(Math.min(e,r-t),0):0,(s=e%i)&&(e-=s,t+=s),{from:e,size:t}}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScroll(),i=this.getSpaceBefore(e),n=i-this.getViewportSize()+this.getSizeOf(e),r=Math.min(n,i),a=Math.max(n,i);return t<=r?this.setScroll(r):t>a?this.setScroll(a):void 0}},{key:"getVisibleRange",value:function(){for(var e=this.state,t=e.from,i=e.size,n=this.getStartAndEnd(0),r=n.start,a=n.end,o={},s=void 0,l=void 0,u=t;u<t+i;++u){var c=this.getSpaceBefore(u,o),d=c+this.getSizeOf(u);null==s&&d>r&&(s=u),null!=s&&c<a&&(l=u)}return[s,l]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,i=t.itemRenderer,n=t.itemsRenderer,r=this.state,a=r.from,o=r.size,s=[],l=0;l<o;++l)s.push(i(a+l,l));return n(s,function(t){return e.items=t})}},{key:"render",value:function(){var e=this,t=this.props,i=t.axis,n=t.length,r=t.type,a=t.useTranslate3d,o=this.state,s=o.from,l=o.itemsPerRow,u=this.renderItems();if("simple"===r)return u;var c={position:"relative"},f={},p=Math.ceil(n/l)*l,g=this.getSpaceBefore(p,f);g&&(c[E[i]]=g,"x"===i&&(c.overflowX="hidden"));var v=this.getSpaceBefore(s,f),m="x"===i?v:0,b="y"===i?v:0,y=a?"translate3d("+m+"px, "+b+"px, 0)":"translate("+m+"px, "+b+"px)",w={msTransform:y,WebkitTransform:y,transform:y};return d.default.createElement("div",h({style:c},{ref:function(t){return e.el=t}}),d.default.createElement("div",{style:w},u))}}]),t}(i.Component),s.displayName="ReactList",s.propTypes={axis:c.default.oneOf(["x","y"]),initialIndex:c.default.number,itemRenderer:c.default.func,itemSizeEstimator:c.default.func,itemSizeGetter:c.default.func,itemsRenderer:c.default.func,length:c.default.number,minSize:c.default.number,pageSize:c.default.number,scrollParentGetter:c.default.func,threshold:c.default.number,type:c.default.oneOf(["simple","variable","uniform"]),useStaticSize:c.default.bool,useTranslate3d:c.default.bool},s.defaultProps={axis:"y",itemRenderer:function(e,t){return d.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return d.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1},l)})},function(e,t){"use strict";function i(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]="number"==typeof e[i]?e[i]:e[i].val);return t}t.__esModule=!0,t.default=i,e.exports=t.default},function(e,t){"use strict";function i(e,t,i){var n=e.slice(0);if(i>=n.length)for(var r=i-n.length;r--+1;)n.push(void 0);return n.splice(i,0,n.splice(t,1)[0]),n}function n(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Object.keys(e).reduce(function(t,n){return i.indexOf(n)===-1&&(t[n]=e[n]),t},{})}function r(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function a(e,t,i){return i<e?e:i>t?t:i}function o(e){return"px"===e.substr(-2)?parseFloat(e):0}function s(e){var t=window.getComputedStyle(e);return{top:o(t.marginTop),right:o(t.marginRight),bottom:o(t.marginBottom),left:o(t.marginLeft)}}function l(e,t){var i=t.displayName||t.name;return i?e+"("+i+")":e}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=i,t.omit=n,t.closest=r,t.limit=a,t.getElementMargin=s,t.provideDisplayName=l;t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},,,,,,,,,,,,,[2314,1764],function(e,t,i){"use strict";i(39),i(1766),i(254),i(212),i(251),i(341),i(977)},,[2316,1768],,,,,,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dataModelingManager=void 0;var a=i(2),o=r(a),s=i(6),l=r(s),u=i(115),c=i(276),d=i(530),h=n(d),f=function(){function e(){(0,o.default)(this,e),this.publishDialog=u.webix.ui(this.getComponentDefinition())}return(0,l.default)(e,[{key:"isEditCubeMode",value:function(){return mstrAppSchema&&mstrAppSchema.workspaceId}},{key:"isCubeSaved",value:function(){return mstrAppSchema&&mstrAppSchema.cubeName}},{key:"isEditSuperCube",value:function(){return mstrAppSchema&&mstrAppSchema.extendedType===h.SUPER_CUBE_EXT_TYPE}},{key:"close",value:function(){window.onbeforeunload=null,mstrAppSchema&&mstrAppSchema.close()}},{key:"updatePublishDialog",value:function(){if(c.mbde.featureFlags){var e=[{id:1,value:h.PUBLISH_MODE_INMEMORY_CUBE}],t=c.mbde.featureFlags.filter(function(e){return"publish-dda"===e.id});t.length>0&&t[0].enabled&&e.push({id:2,value:h.PUBLISH_MODE_DDA_CUBE}),t=c.mbde.featureFlags.filter(function(e){return"publish-spark"===e.id}),t.length>0&&t[0].enabled&&e.push({id:0,value:h.PUBLISH_MODE_SPARK}),(0,u.$$)("publishmode_combo").define("options",e),(0,u.$$)("publishmode_combo").define("value",1),(0,u.$$)("publishmode_combo").refresh()}}},{key:"getPublishMode",value:function(e){var t=1;return e===h.PUBLISH_MODE_SPARK?t=0:e===h.PUBLISH_MODE_DDA_CUBE?t=2:e===h.PUBLISH_MODE_INMEMORY_CUBE&&(t=1),t}},{key:"getComponentDefinition",value:function(){return{view:"window",id:"publish_window",height:150,width:460,modal:!0,head:{view:"toolbar",margin:4,cols:[{view:"label",label:"Publish"},{},{view:"button",type:"htmlbutton",label:"<span class='window_close_icon'></span>",css:"mbde_maintoolbar_button",width:20,click:"$$('publish_window').hide();"}]},position:"center",body:{rows:[{view:"toolbar",margin:4,cols:[{},{view:"text",id:"publish_name_text",value:"New Cube",width:200,inputWidth:200,margin:10},{},{view:"combo",id:"publishmode_combo",value:1,options:[],width:200,inputWidth:200,margin:10},{}]},{view:"toolbar",margin:4,cols:[{},{view:"button",id:"cancel_publish_button",value:"Cancel",width:200,click:"$$('publish_window').hide();"},{},{view:"button",id:"publish_button",value:"Publish",width:200,css:"mbde_primary_btn"},{}]}]}}}}]),e}();t.dataModelingManager=new f},function(e,t){"use strict";function i(e){return{type:"UPDATE_MFADIALOG",value:e}}function n(e){return{type:"UPDATE_MFADIALOGITEM",value:e}}function r(e){return{type:"SET_MFAVALID",value:e}}function a(e){return{type:"SET_MFANAMEVALID",value:e}}function o(){return{type:"ADD_NEWFORM"}}function s(e){return{type:"DEL_FORM",value:e}}function l(){return{type:"MARK_EDIT"}}function u(e){return{type:"SWITCH_TABLE",value:e}}function c(e){return{type:"SET_VALIDMSG",value:e}}function d(e){return{type:"SET_VALIDNAMEMSG",value:e}}function h(e){return{type:"SET_HIERARCHYMSG",value:e}}function f(e){return{type:"SET_SPINNING",value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateMFADialog=i,t.updateMFADialogItem=n,t.setMFAValid=r,t.setMFANameValid=a,t.addNewForm=o,t.delOneForm=s,t.markEditMode=l,t.switchMFATable=u,t.setValidMsg=c,t.setValidNameMsg=d,t.setHierarchyMsg=h,t.setSpinning=f;t.openMFADialog=function(){return{type:"OPEN_MFADIALOG"}},t.closeMFADialog=function(){return{type:"CLOSE_MFADIALOG"}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.highLightKeyword=void 0;var r=i(111),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(258);var v=i(8),m=n(v),b=i(15),y=n(b),w=i(5),x=n(w),E=i(1),_=n(E),A=i(108),C=i(14),S=i(16),T=i(38),I=i(182),D=i(60),O=i(145),M=i(260),k=i(215),N=i(216),P=i(524),L=i(526),R=n(L);i(1776);var F={drop:k.drop,hover:k.hover,canDrop:function(){return!0}},j=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),dragSrcType:t.getItem()&&t.getItem().objectType}},B=function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),itemType:t.getItemType()}},H={canDrag:function(e,t){var i=t.internalMonitor,n=t.sourceId,r=i.registry.getSource(n),a=r&&r.component,o=a&&!a.state.editable;return e.isSelected&&o},beginDrag:function(e){return e.object}},V=t.highLightKeyword=function(e,t){var i=t.toString().toLowerCase();if(!t)return e;var n=new RegExp("("+t+")","gi");return _.default.createElement("span",null,e.replace(n,"[]$1[]").split("[]").reduce(function(e,t,n){return n?t.toString().toLowerCase()===i?e.concat(_.default.createElement("span",{className:"search-height-light",key:""+t+100*Math.random()},t)):e.concat(t):[t]},[]))},U=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.getUUID=function(){return i.UUID},i.onRenameError=function(e){i.setState(function(){return{value:i.props.object.name,editable:!1,renameError:!1,renameErrorMsg:""}}),i.props.showErrorDialog("Rename error",e.errorMessage)},i.toggleEditable=function(e){return function(){var t=i.props.manipulateModel,n=i.state,r=n.editable,a=n.value;if(!r||i.validateInput(a)){var o=void 0;if(r!==!0||e.name===a)return void i.setState(function(e){return{editable:!e.editable}});o=t([(0,M.getRenameObjectTypeOperation)(a,e.type,e.id,e.isInLinearHierarchy)],"Renaming Object",void 0,i.onRenameError),o&&o.then&&o.then(function(e){e&&(i.setState({renameError:!1}),i.setState(function(e){return{editable:!e.editable}}))})}}},i.validateInput=function(e){return""===e||""===y.default.trim(e)?(i.setState(function(){return{renameError:!0,renameErrorMsg:"Name should not be empty"}}),!1):/^[^\\"\[\]]*$/.test(e.toString())?(i.setState(function(){return{renameError:!1,renameErrorMsg:""}}),!0):(i.setState(function(){return{renameError:!0,renameErrorMsg:'The following characters are not allowed: [ ] " \\'}}),!1)},i.onEditValueChange=function(e){var t=e.target.value;i.setState(function(){return{value:t}})},i.onESC=function(e){27===e.keyCode&&i.setState(function(){return{renameError:!1,renameErrorMsg:"",editable:!1}})},i.onObjectRowClickHandler=function(e){var t=i.props,n=t.selectedHandlers,r=t.index,a=t.object;t.isSelected;e.nativeEvent.ctrlKey||e.nativeEvent.metaKey||e.nativeEvent.shiftKey?e.nativeEvent.ctrlKey||e.nativeEvent.metaKey?n.singleSelected(a,r,!1):e.nativeEvent.shiftKey&&n.rangeSelected(a,r):n.singleSelected(a,r)},i.onTextClick=function(e){var t=i.props.isSelected;return t?void(t&&!i.state.editable&&i.setState(function(){return{editable:!0}})):void i.onObjectRowClickHandler(e)},i.selectImplicitly=function(){var e=i.props,t=e.selectedHandlers,n=e.object,r=e.index,a=e.isSelected;a||t.selectImplicitly(n,r)},i.renameHandler=function(){var e=i.props,t=e.isSelected,n=e.object;t&&i.toggleEditable(n)()},i.state={editable:!1,value:e.object.name,renameError:!1,renameErrorMsg:""},i.subscriber=null,i.UUID=(new Date).valueOf(),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.object,i=e.keyword,n=e.isSelected,r=e.connectDragSource,o=e.connectDragPreview,s=e.connectDropTarget,l=e.isOver,u=e.otherCssClass,c=V(t.name,i),d=this.state.renameError,h=this.state.renameErrorMsg,f=_.default.createElement("div",null,_.default.createElement("div",{className:(0,m.default)("object-row",t.type,{insertBefore:l&&t.isInLinearHierarchy},{linked:t.isLinked},{isMFA:t.isMFA},u,{isSelected:n}),title:t.name,onClick:this.onObjectRowClickHandler,onContextMenu:this.selectImplicitly,onDragStart:this.selectImplicitly,draggable:"true"},_.default.createElement("div",{className:"table-wrapper"},_.default.createElement(a.default,{overlayClassName:"attribute-rename-warning",placement:"left",visible:d,title:d?h:""},_.default.createElement(R.default,{editable:this.state.editable,value:this.state.value,highLighted:c,onChange:this.onEditValueChange,onPressEnter:this.toggleEditable(t),onESC:this.onESC,onTextClick:(0,P.debounce)(this.onTextClick)})))));return s(_.default.createElement("div",null,r(f),o(_.default.createElement("div",{className:"object-row-preview-placeHolder"}))))}},{key:"componentDidMount",value:function(){var e=this;this.subscriber=N.RMCObjectSubject$.subscribe(function(){e.renameHandler()})}},{key:"componentWillUnmount",value:function(){this.subscriber.dispose()}}]),t}(E.Component);U.propTypes={index:x.default.number.isRequired,object:x.default.object.isRequired,keyword:x.default.string,isSelected:x.default.bool.isRequired,selectedHandlers:x.default.object.isRequired,selectedObjects:x.default.array,hierarchyObj:x.default.object,isOver:x.default.bool,dragSrcType:x.default.object,connectDragSource:x.default.func.isRequired,connectDragPreview:x.default.func.isRequired,connectDropTarget:x.default.func.isRequired,selectedAttributes:x.default.array,selectedMetrics:x.default.array,manipulateModel:x.default.func,showErrorDialog:x.default.func};var W=function(e){return{selectedAttributes:(0,D.getSelectedAttributesOnPanel)(e),selectedMetrics:(0,D.getSelectedMetricsOnPanel)(e)}},z=function(e){return{manipulateModel:(0,S.bindActionCreators)(I.manipulateModel,e),showErrorDialog:(0,S.bindActionCreators)(T.showErrorDialog,e)}};t.default=(0,S.compose)((0,C.connect)(W,z,null,{withRef:!0}),(0,A.DropTarget)(O.OBJECT_ROW,F,j),(0,A.DragSource)(O.OBJECT_ROW,H,B))(U)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){return{type:l.UPDATE_FACET_FILTER,filterTime:Date.now()}}function a(e){return function(t,i){(0,c.selectDW)(i()).showWrangler===!1?(t((0,u.toggleDataWrangler)()),t((0,u.setSelectedColumns)([e])),t((0,d.setActiveTab)(h.COLUMN_DETAILS_TAB_KEY))):t((0,d.setActiveTab)(h.COLUMN_DETAILS_TAB_KEY))}}function o(){return function(e,t){e((0,d.setActiveTab)(h.RECOMMENDATION_TAB_KEY))}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateFacetFilter=r,t.showDetailFacet=a,t.dismissFacetTab=o;var s=i(262),l=n(s),u=i(126),c=i(22),d=i(183),h=i(113)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if("array"===f.default.type(e))return e.map(function(e){return e==="id_"+t?"id":"id"===e?"id_"+t:e})}function a(e){var t=e.props,i=t.tableHeader,n=void 0===i?[]:i,r=t.formSelectedCols,a=void 0===r?[]:r,l=n.length===a.length;return[{key:"deleteColumn",name:"Delete Column",handler:function(){return(0,p.submitRemoveColumn)(a)},applicable:!0,disabled:l},{key:"keepColumns",name:"Keep Columns",handler:function(){return(0,p.submitKeepColumns)(a)},applicable:!0,disabled:l},{key:"dataType",name:"Change Data Type",getSubMenu:function(){return o(a,n)},handler:function(e){return(0,p.submitChangeDataType)(a,e)},applicable:1===a.length},{key:"rename",name:"Rename",handler:function(){return s(e)},applicable:1===a.length}]}function o(e,t){if(e&&1===e.length){var i=t.filter(function(t){return t.id===e[0]});if(!i||!i.length)return[];var n=i[0].type;return v.default.map(function(t){var i=(0,y.shouldDisableDataType)(t.value,n);return(0,u.default)({},t,{handler:function(){return(0,p.submitChangeDataType)(e,t.value)},disabled:i,node:d.default.createElement("div",{className:i?"submenu-item disabled":"submenu-item"},d.default.createElement(b.default,{type:t.value}),t.text)})})}return[]}function s(e){var t=e.grid.getHeaderNode(e.grid.getSelectedId(!0,!0)[0]),i=(0,f.default)(t).find(".text-wrapper");i.length>=1&&(0,p.enableHeaderRename)((0,f.default)(i[0]))}Object.defineProperty(t,"__esModule",{value:!0}),t.getFacetColumnName=t.getColumnName=void 0;var l=i(7),u=n(l);t.idColumnCheck=r,t.initHeaderMenuHandler=a;var c=i(1),d=n(c),h=i(26),f=n(h),p=i(149),g=i(130),v=n(g),m=i(274),b=n(m),y=i(535);t.getColumnName=function(e,t){var i=(0,f.default)(e.target).closest(".grid-column-header",t).find(".table-header-text.col-name-row").find(".text-wrapper");if(0!==i.length&&!i.attr("contentEditable"))return i.text()},t.getFacetColumnName=function(e,t){var i=void 0,n=(0,f.default)(e.srcElement).closest(".preview-facet-container",t);return n&&1===n.length&&(i=n[0].getAttribute("data-webixId")),i}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=(e||"_").split("_"),i=(0,o.default)(t,2),n=i[0],r=i[1];return n&&r&&l.default[n].items[r];
}Object.defineProperty(t,"__esModule",{value:!0});var a=i(282),o=n(a);t.getExpressionByFuncStr=r;var s=i(533),l=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.formulaHints$=t.formulaItemInsert$=void 0;var r=i(179),a=n(r);t.formulaItemInsert$=new a.default.Subject,t.formulaHints$=new a.default.Subject},function(e,t,i){"use strict";function n(e){return l.indexOf(e)>=0}function r(e){return/^-?\d+(\.\d+)?$/g.test(e)}function a(e){return u.indexOf(e)>=0}function o(e,t){var i=!0;return e&&(i=n(e)?n(t):a(e)?t===e:e===s.TYPE_VALUES.STRING||(e!==s.TYPE_VALUES.BOOLEAN||t===s.TYPE_VALUES.BOOLEAN)),i}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumeric=n,t.isNumberValue=r,t.isDateTime=a,t.isDataTypeCompatible=o;var s=i(130),l=[s.TYPE_VALUES.DECIMAL,s.TYPE_VALUES.DOUBLE,s.TYPE_VALUES.FLOAT,s.TYPE_VALUES.INTEGER,s.TYPE_VALUES.LONG,s.TYPE_VALUES.SHORT],u=[s.TYPE_VALUES.DATE,s.TYPE_VALUES.TIMESTAMP,s.TYPE_VALUES.TIME]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(8),m=n(v);i(1807);var b=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.className,n=e.value;return g.default.createElement("div",{className:(0,m.default)("mstr-as-wrangler-exp-text",i)},g.default.createElement("input",{type:"string",onChange:function(e){return t(e.target.value)},value:n}))}}]),t}(p.Component);t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.CONTAINS="Contains",n=t.BEGINSWITH="Begins With",r=t.ENDSWITH="Ends With",a=t.ISEMPTY="Is Empty",o=t.EQUALSTO="Equals To",s=t.NOTEQUALSTO="Not Equals To",l=t.FUNCCONTAINS="contains",u=t.FUNCSTARTSWITH="startsWith",c=t.FUNCENDSWITH="endsWith";t.default=[{text:i,func:l,supportingFuncs:["delete_rows","findAndReplace"]},{text:n,func:u,supportingFuncs:["delete_rows","findAndReplace"]},{text:r,func:c,supportingFuncs:["delete_rows","findAndReplace"]},{text:a,supportingFuncs:["delete_rows"]},{text:o,supportingFuncs:["delete_rows"]},{text:s,supportingFuncs:["delete_rows"]}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.POPUP_PREVIEW_GRID_ID=void 0;var r=i(7),a=n(r),o=i(53),s=n(o),l=i(1337),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b),w=i(1),x=n(w),E=i(13),_=i(14),A=i(5),C=n(A),S=i(544),T=i(265);i(1810);var I=i(22),D=i(115),O=i(26),M=n(O),k=i(357),N=t.POPUP_PREVIEW_GRID_ID="popViewGrid",P=111,L=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.el=document.createElement("div"),i.hidePreviewAndRemoveEvent=i.hidePreviewAndRemoveEvent.bind(i),i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el),(0,D.$$)(N)||D.webix.ui(this.getPopupPreviewCfg(N,this))}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el),(0,D.$$)(N)&&(0,D.$$)(N).destructor()}},{key:"getCurrentDataGridId",value:function(e){var t=e||this;return"derivedtableview_"+t.props.currentTableId}},{key:"getPopupPreviewCfg",value:function(e,t){var i=this;return{view:"datatable",id:e,resizeColumn:!0,css:"popup_preview_table",adjust:"data",scroll:"y",container:i._node,hover:"hoverdatatable",rowHeight:30,minColumnWidth:148,autowidth:!0,scrollAlignY:!1,on:{onScrollY:function(){if(i.props.popShow){var e=(0,D.$$)(i.getCurrentDataGridId(i));e.scrollTo(e.getScrollState().x,this.getScrollState().y)}},onMouseMoving:function(e){var t=(0,D.$$)(i.getCurrentDataGridId(i));if(t&&this.locate(e)){var n=this.locate(e).rind;i.hoverTableRow(n)}}}}}},{key:"hoverTableRow",value:function(e){var t=(0,D.$$)(N),i=(0,D.$$)(this.getCurrentDataGridId()),n=[i,t];n.forEach(function(t){void 0!==t.last_hover_rowIndex&&e!=t.last_hover_rowIndex&&t.removeRowCss(t.data.order[t.last_hover_rowIndex],"hoverdatatable"),t.addRowCss(t.data.order[e],"hoverdatatable"),t.last_hover_rowIndex=e})}},{key:"previewResize",value:function(){var e=(0,D.$$)(N),t=(0,D.$$)(this.getCurrentDataGridId()),i=(0,M.default)(t.getNode()).find(".webix_ss_center").height(),n=Math.min(30*t.count(),i>0?i:u.default)+P;e.define("height",n),e.resize();var r=0;e.eachColumn(function(t){r+=e.getColumnConfig(t).width},!0),e.define("width",r),e.resize(),t.scrollTo(t.getScrollState().x,t.getScrollState().y-t.getScrollState().y%30),e.scrollTo(0,t.getScrollState().y)}},{key:"componentWillUpdate",value:function(e){(0,s.default)(this.props.baseColumn)!==(0,s.default)(e.baseColumn)&&this.previewResize(),!this.props.popShow&&e.popShow&&document.body.addEventListener("click",this.hidePreviewAndRemoveEvent)}},{key:"hidePreviewAndRemoveEvent",value:function(e){var t=(0,M.default)(e.srcElement);t&&t.hasClass("webix_vscroll_y")||t.hasClass("webix_vscroll_x")||t.parents(".popup_preview_container").length||(this.props.hidePopPreview(),document.body.removeEventListener("click",this.hidePreviewAndRemoveEvent))}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.popShow&&!e.popShow)}},{key:"render",value:function(){var e=this,t=this.props,i=t.popShow,n=t.baseColumn,r=t.currentTableId,o=t.selectedColumns,s=(0,D.$$)("derivedtableview_"+r),l={};if(s&&n&&s.config.columns&&o){var u=(0,k.idColumnCheck)(o,r);if(u.length>0&&n.length>0){var c=u[u.length-1],d=c,h=(0,M.default)(s.getHeaderNode(d)).parent(),f=h.position().left;f<0&&(console.log("show cell error"),s.showCell(null,d),f=h.position().left);var p=n.map(function(e){return e.width||0}).reduce(function(e,t){return e+t})+15,g=f+p+h.width()<=s.$width,v=h.offset();l=(0,a.default)({},l,{top:v.top-1,left:v.left+(g?h.width()+2:-p-4)})}}return(0,E.createPortal)(x.default.createElement("div",{ref:function(t){e._node=t},style:(0,a.default)({display:i?"flex":"none"},l),className:"popup_preview_container"}),this.el)}}]),t}(w.Component),R=function(e){return{popShow:(0,S.selectPopShowed)(e),baseColumn:(0,S.selectPopColumn)(e),currentTableId:(0,I.selectCurrentPreviewTableId)(e),selectedColumns:(0,I.selectDataGridFormColumn)(e)||[]}};L.propTypes={popShow:C.default.bool.isRequired,currentTableId:C.default.string,baseColumn:C.default.array,selectedColumns:C.default.array},t.default=(0,_.connect)(R,{hidePopPreview:T.hidePopPreview})(L)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_TABLE_PANEL_ACTIVE_TAB="SET_TABLE_PANEL_ACTIVE_TAB_TWO",t.SET_DW_RECOMMENDATIONS="SET_DW_RECOMMENDATIONS"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=[{type:b,value:e}];return t.forEach(function(e){i=i.reduce(function(t,i){if(i.type===b){var n=i.value,r=[];if(n.replace(e.pattern,function(t){return r.push({start:arguments[arguments.length-2],length:t.length,token:e}),t}),r.length){var a=0;return r.forEach(function(e){t=t.concat([{type:0,value:n.substr(a,e.start-a)},{type:e.token.type,value:e.token}]),a=e.start+e.length}),a<n.length&&(t=t.concat([{type:b,value:n.substr(a)}])),t}}return t.concat([i])},[])}),i}function a(e,t){var i=e[t],n=e["isRegExp_"+t]||"object"===("undefined"==typeof i?"undefined":(0,c.default)(i)),a="object"===("undefined"==typeof i?"undefined":(0,c.default)(i))?i.source:i;if(n){var s=r(a,m).filter(function(e){return!!e.value}),l=s.some(function(e){return e.type!==b});return h.default.createElement("span",{className:"regex"},h.default.createElement("span",null,l?"":"Regex "),"'",s.map(function(e){return e.type?h.default.createElement("span",{className:"token"},e.value.msg):h.default.createElement("span",{className:"text"},e.value)}),"'")}return o((0,g.unescapeRegex)(i))}function o(e){var t=v.SeparatorList.find(function(t){return t.value===e});return t?h.default.createElement("span",{className:"token"},"{",t.text,"}"):h.default.createElement("span",{className:"text"},"'",e,"'")}Object.defineProperty(t,"__esModule",{value:!0});var s=i(7),l=n(s),u=i(35),c=n(u);t.default=function(e,t,i){var n=e.params,r=e.className,o=n.column&&n.column.length>1||!i?t:i,s={},u="",c=n.on&&(n.before||n.after)?"":n.on;n.lengths?u=o.LENGTH:n.positions&&n.positions.length?(s=(0,l.default)({},s,{start:n.positions[0],end:n.positions[1]}),u=o.POS):c?(s={on:a(n,"on")},u=o.ON):n.before&&n.after?(s={before:a(n,"before"),after:a(n,"after")},u=o.BETWEEN):n.after?(s={after:a(n,"after")},u=o.AFTER):n.before?(s={before:a(n,"before")},u=o.BEFORE):u=o.BASE;var d=(0,l.default)({},n,s,{column:n.column[0]});return h.default.createElement("div",{className:r},(0,p.parse)(u,d))};var d=i(1),h=n(d),f=i(8),p=(n(f),i(45)),g=i(266),v=i(541),m=[{type:1,pattern:/\n/g,msg:"{Newline}",desc:"A New Line character"},{type:2,pattern:/\t/g,msg:"{Tab}",desc:"A Tab character"},{type:3,pattern:/\\\|/g,msg:"{Pipe}",desc:"A Pipe character"},{type:4,pattern:/\\\./g,msg:"{Period}",desc:"A Period character"},{type:5,pattern:/\(?(\[0-9]|\\d)\+\)?/g,msg:"{any numbers}",desc:"Any set of consecutive numbers."},{type:6,pattern:/\(?(\[a-zA-Z]|\[A-Za-z])\+\)?/g,msg:"{any letters}",desc:"Any set of consecutive alphabets."},{type:7,pattern:/\(?(\[a-z])\+\)?/g,msg:"{any lowercase letters}",desc:"Any set of consecutive lowercase alphabets."},{type:8,pattern:/\(?(\[A-Z])\+\)?/g,msg:"{any uppercase letters}",desc:"Any set of uppercase consecutive alphabets."}],b=0},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_DATASOURCE_TABLES_REQUEST="FETCH_DATASOURCE_TABLES_REQUEST",t.FETCH_DATASOURCE_TABLES_PROCESS="FETCH_DATASOURCE_TABLES_PROCESS",t.FETCH_DATASOURCE_TABLES_SUCCESS="FETCH_DATASOURCE_TABLES_SUCCESS",t.FETCH_DATASOURCE_TABLES_FAILURE="FETCH_DATASOURCE_TABLES_FAILURE",t.SET_TABLE_PANEL_ACTIVE_TAB="SET_TABLE_PANEL_ACTIVE_TAB",t.ADD_DATASOURCE="ADD_DATASOURCE",t.ADD_OR_UPDATE_DATASOURCE="ADD_OR_UPDATE_DATASOURCE",t.UPDATE_DATASOURCE="UPDATE_DATASOURCE",t.REMOVE_TABLES_FROM_DATASOURCE="REMOVE_TABLES_FROM_DATASOURCE",t.EXPAND_DATASOURCE="EXPAND_DATASOURCE",t.EXPAND_ALL_DATASOURCE="EXPAND_ALL_DATASOURCE",t.COLLAPSE_DATASOURCE="COLLAPSE_DATASOURCE",t.COLLAPSE_ALL_DATASOURCE="COLLAPSE_ALL_DATASOURCE",t.ADD_SELECTED_TABLE="ADD_SELECTED_TABLE",t.UPDATE_SELECTED_TABLE="UPDATE_SELECTED_TABLE",t.REMOVE_SELECTED_TABLE="REMOVE_SELECTED_TABLE",t.CLEAN_SELECTED_TABLE="CLEAN_SELECTED_TABLE",t.SET_TABLES_PENDING_STATUS="SET_TABLES_PENDING_STATUS",t.UNSET_TABLES_PENDING_STATUS="UNSET_TABLES_PENDING_STATUS"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_ALL_DATASOURCE_LIST_REQUEST="FETCH_ALL_DATASOURCE_LIST_REQUEST",t.FETCH_ALL_DATASOURCE_LIST_PROCESS="FETCH_ALL_DATASOURCE_LIST_PROCESS",t.FETCH_ALL_DATASOURCE_LIST_SUCCESS="FETCH_ALL_DATASOURCE_LIST_SUCCESS",t.EXPAND_DS_TYPES_DROPDOWN="EXPAND_DS_TYPES_DROPDOWN",t.COLLAPSE_DS_TYPES_DROPDOWN="COLLAPSE_DS_TYPES_DROPDOWN",t.SET_ALL_DATASOURCE_SEARCH_PATTERN="SET_ALL_SEARCH_PATTERN",t.SET_CURRENT_DATASOURCE_TYPES="SET_CURRENT_DATASOURCE_TYPES"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USED="USED",t.UNUSED="UNUSED",t.DERIVED="DERIVED"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tableJoinManager=t.TableJoinManager=void 0;var r=i(2),a=n(r),o=t.TableJoinManager=function e(){(0,a.default)(this,e),this.currentJoinLeftTable=null,this.currentJoinRightTable=null,this.currentJoinLeftNode=null,this.currentJoinRightNode=null,this.currentJoinType="innerJoin",this.currentJoinLcFacet=null,this.currentJoinRcFacet=null,this.currentJoinEditMode=!1,this.currentJoinTgTable=null,this.joinPanel=null};t.tableJoinManager=new o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DP_REFRESH_TABLEPREVIEW="DP_REFRESH_TABLEPREVIEW",t.DP_CLOSE_TABLEPREVIEW="DP_CLOSE_TABLEPREVIEW",t.DP_ENABLE_TOOLBAR="DP_ENABLE_TOOLBAR",t.DP_DISABLE_TOOLBAR="DP_DISABLE_TOOLBAR",t.DP_TOGGLE_EDIT_PIPELINE_MODE="DP_TOGGLE_EDIT_PIPELINE_MODE",t.DP_SET_WSDEFINITION="DP_SET_WSDEFINITION",t.DP_TOGGLE_AUTOLAYOUT="DP_TOGGLE_AUTOLAYOUT",t.UPDATE_TABLE_SELECTION="UPDATE_TABLE_SELECTION",t.UPDATE_TABLE_LIST="UPDATE_TABLE_LIST",t.UPDATE_PREVIEW_TABLE_ID="UPDATE_PREVIEW_TABLE_ID",t.UPDATE_TABLE_PREVIEW_MAP="UPDATE_TABLE_PREVIEW_MAP",t.REMOVE_TABLE_PREVIEW_FROM_MAP="REMOVE_TABLE_PREVIEW_FROM_MAP",t.UPDATE_TABLE_STATUS="UPDATE_TABLE_STATUS",t.UPDATE_TABLE_ROW_COUNT="UPDATE_TABLE_ROW_COUNT",t.UPDATE_OPERATION_LIST="UPDATE_OPERATION_LIST",t.SET_DW_NEW_SCRIPT="SET_DW_NEW_SCRIPT",t.UNSET_DW_NEW_SCRIPT="UNSET_DW_NEW_SCRIPT",t.JOIN_TABLES_OPERATION="JOIN_TABLES_OPERATION",t.UNION_TABLES_OPERATION="UNION_TABLES_OPERATION",t.UNION_ALL_TABLES_OPERATION="UNION_ALL_TABLES_OPERATION",t.DIFFERENCE_TABLES_OPERATION="DIFFERENCE_TABLES_OPERATION",t.INTERSECT_TABLES_OPERATION="INTERSECT_TABLES_OPERATION",t.UPDATE_GRID_ON_RESIZE="UPDATE_GRID_ON_RESIZE",t.UPDATE_GRID_SCROLL_STATE="UPDATE_GRID_SCROLL_STATE",t.TOGGLE_OBJECT_INFO_HEADER="TOGGLE_OBJECT_INFO_HEADER",t.UPDATE_OVERVIEW_ZOOM_SCALE="UPDATE_OVERVIEW_ZOOM_SCALE",t.UPDATE_EDIT_PIPELINE_ZOOM_SCALE="UPDATE_EDIT_PIPELINE_ZOOM_SCALE",t.SET_DW_UPDATE_FLAG="SET_DW_UPDATE_FLAG"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CANVAS_PANEL_UPDATE="CANVAS_PANEL_UPDATE",t.LEFT_PANEL_UPDATE="LEFT_PANEL_UPDATE",t.RIGHT_PANEL_UPDATE="RIGHT_PANEL_UPDATE",t.PREVIEW_PANEL_UPDATE="PREVIEW_PANEL_UPDATE",t.WORKSPACE_PANEL_UPDATE="WORKSPACE_PANEL_UPDATE",t.WRANGLER_PANEL_UPDATE="WRANGLER_PANEL_UPDATE",t.SET_EXP_BUILDER_HEIGHT="SET_EXP_BUILDER_HEIGHT",t.TOOLBAR_UPDATE="TOOLBAR_UPDATE",t.SET_APP_DISPLAY_MODE="SET_APP_DISPLAY_MODE",t.SET_TABLE_PANEL_VIEW="SET_TABLE_PANEL_VIEW",t.SHOW_CONFIRMATION_DIALOG="SHOW_CONFIRMATION_DIALOG",t.CLOSE_CONFIRMATION_DIALOG="CLOSE_CONFIRMATION_DIALOG"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(181),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(253);var b=i(1),y=n(b);i(1842);var w=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this;return y.default.createElement(a.default.SubMenu,(0,s.default)({className:"mstr-as-sub-menu"},this.props,{onTitleClick:function(t){e.props.onTitleClick&&e.props.onTitleClick(t),t.domEvent.stopPropagation()}}),this.props.children)}}]),t}(y.default.Component);t.default=w},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TABLE_GROUP_TYPE="tableGroup",t.GROUP_TYPE_ROOT="root"},function(e,t,i){"use strict";function n(){return mstrAppSchema&&mstrAppSchema.sessionState}function r(){return mstrAppSchema&&mstrAppSchema.idToken}Object.defineProperty(t,"__esModule",{value:!0}),t.getSparkServerURL=void 0,t.getSessionState=n,t.getIdToken=r,i(1282);t.getSparkServerURL=function(){return mstrAppSchema&&mstrAppSchema.dataServerURL}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1286),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1296),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1316),a=n(r);t.default=a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.BETWEEN="BETWEEN",n=t.GREATER="GREATER",r=t.LESS="LESS",a=t.EQUALS="EQUALS",o=(t.DNEQUALS="DNEQUALS",t.GREATERTE="GREATERTE"),s=t.LESSTE="LESSTE",l=(t.NOTBETWEEN="NOTBETWEEN",t.ISNULL="ISNULL");t.ISNOTNULL="ISNOTNULL",t.dateOperations=[{key:i,value:"Between",default:!0},{key:n,value:"Greater than"},{key:r,value:"Less than"}],t.numericOperations=[{key:a,value:"Equals",default:!0},{key:n,value:"Greater than"},{key:o,value:"Greater than or equal to"},{key:r,value:"Less than"},{key:s,value:"Less than or equal to"},{key:i,value:"Between"},{key:l,value:"Is Null"}],t.CANCEL_BTN_TXT="Cancel",t.APPLY_BTN_TXT="Add selection"},function(e,t,i){"use strict";function n(e,t,i){this.id=e+"-"+t,this.from=e,this.to=t,this.fromnode=null,this.tonode=null,this.data=i,this.entities=[i],this.size=1,this.startsize=1,this.targetsize=1,this.visible=!0,this.curvature=.3,this.directed=!0,this.selected=!1,this.stroke=r.EDGE_STYLE.STROKE_COLOR,this.strokestyle="line",this.linewidth=3,this.svg=null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=i(96);n.prototype.setTooltip=function(e){this.svg&&(this.tooltip||(this.tooltip=document.createElementNS(r.SVG_NS,"title")),this.tooltip.textContent=e,this.svg.appendChild(this.tooltip))}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.HttpProxy=void 0,i(1333);var a=i(1),o=r(a),s=i(13),l=r(s),u=i(1331),c=r(u),d=i(1264),h=r(d),f=i(1329);i(1326);var p=i(87),g=n(p),v=i(225);i(1866);var m=i(1262),b=r(m),y=i(1263),w=(r(y),i(271)),x={tablesPanel:{datasources:[],filter:{searchPattern:"",dsId:"",dropdownOpen:!1}},dataWrangler:{header:{applyButtonEnabled:!1}}},E=t.HttpProxy=function(){var e=b.default;return e=b.default}(),_=t.store=(0,c.default)(x),A=document.getElementById("root"),C=function(e){l.default.render(o.default.createElement(h.default,{store:_,error:e}),A)};E.get("/application/healthcheck").then(function(e){if(e.status===g.SERVICE_RESPONSE_TYPE_IMMEDIATE)return(window.navigator.userAgent.indexOf("Chrome")<0||window.navigator.userAgent.indexOf("Edge")>=0)&&_.dispatch((0,v.openConfirmDialog)({title:"Browser Compatibility Warning",message:"Smart data preparation is currently supported only in Google Chrome. All other browsers are currently unsupported.",okAction:function(){return _.dispatch({type:"MOJO_SERVICE",method:"exitApp"})},okText:"Leave",cancelText:"Stay"})),C(),(0,f.initWorkspaceAfterConnect)();throw new Error},function(){throw new Error}).catch(function(e){C(!0),_.dispatch((0,w.openAlertDialog)({title:"Data server connection Error",message:"Data server is unreachable. Please contact your administrator.",details:"This may be because the MicroStrategy Data server is down or it might be setup with a self signed certificate.If the reason is due to a self signed certificate then a workaround could be to accept the certificate in your browser.Exception message: "+e.message,okAction:function(){return _.dispatch({type:"MOJO_SERVICE",method:"exitApp"})},okText:"Leave"}))})},function(module,exports,__webpack_require__){(function(fetch){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function checkTaskStatus(response){var status=response.status;if(status>=200&&status<300)return response.text().then(function(response){return new _bluebird2.default(function(resolve){return resolve(eval("("+response+")"))})});var error=new Error(response.message);throw error.statusCode=response.status,error.iServerErrorCode=getHeader(response,"X-MSTR-TaskErrorCode"),error.errorMessage=getHeader(response,"X-MSTR-TaskFailureMsg"),isSessionExpiredError(response)&&(error.sessionExpired=!0,mstrApp.onSessionExpired()),error}function isSessionExpiredError(e){var t=2147760371,i=2147760372,n=2147758245,r=2147759877;if(401===e.status)return!0;var a=e&&getHeader(e,"X-MSTR-TaskErrorCode");switch(a=a<0?4294967296+parseInt(a,10):a){case t:case i:case n:case r:return!0}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectionBackend=exports.ConnectionBackend=void 0;var _keys=__webpack_require__(28),_keys2=_interopRequireDefault(_keys),_classCallCheck2=__webpack_require__(2),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(6),_createClass3=_interopRequireDefault(_createClass2),_bluebird=__webpack_require__(188),_bluebird2=_interopRequireDefault(_bluebird);__webpack_require__(915);var getHeader=function(e,t){return e.headers.get(t.toLowerCase())},ConnectionBackend=exports.ConnectionBackend=function(){function e(){(0,_classCallCheck3.default)(this,e)}return(0,_createClass3.default)(e,[{key:"fetch",value:function(e){function t(t,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return fetch(e,t)})},{key:"task",value:function(e,t){var i=new FormData;return i.append("taskId",e),i.append("taskContentType","json"),i.append("taskEnv","xhr"),(0,_keys2.default)(t).forEach(function(e){return i.append(e,t[e])}),this.fetch(mstrAppSchema.taskURL,{credentials:"same-origin",method:"POST",body:i}).then(checkTaskStatus,checkTaskStatus)}}]),e}(),connectionBackend=exports.connectionBackend=new ConnectionBackend}).call(exports,__webpack_require__(1894))},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function updateReduxStore(response){var ops=response.operations.map(function(op){return(0,_extends3.default)({},op,{frontendInfo:op.frontendInfo?eval("("+op.frontendInfo+")"):void 0})});return(0,_ReduxService.dispatchAction)((0,_actionCreators2.updateOperationList)(response.tableId,response.operations)),ops.map(function(e){return e.frontendInfo})}function serializeData(e){if(e){var t={};return(0,_keys2.default)(e).forEach(function(i){"function"!=typeof e[i]&&(t[i]=e[i])}),(0,_serializeJavascript2.default)(t)}}function changeDWHistory(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"put";(0,_ReduxService.dispatchAction)((0,_actionCreators2.setDWUpdateFlag)(!0));var i=(0,_selectors.selectCurrentPreviewTableId)((0,_ReduxService.getAllState)()),n=(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)()),r="/tables/"+i+"/operations",a={clientId:_WorkspaceManager.workspaceManager.currentClientId,requestId:_WorkspaceManager.workspaceManager.generateRequestId(),pipelineId:n,workspaceId:_WorkspaceManager.workspaceManager.initialWorkspaceId,operations:e.map(function(e){return(0,_extends3.default)({},e,{frontendInfo:serializeData(e.frontendInfo)})})};return(0,_utils.showLoader)(),httpService[t](r,a).then(function(e){if((0,_utils.hideLoader)(),e&&"immediateResponse"===e.status)return(0,_dataPreviewController.previewTable)(i,null,n),updateReduxStore(e)}).catch(function(e){return(0,_utils.hideLoader)(),(0,_ReduxService.dispatchAction)((0,_actionCreators.showErrorDialog)("data wrangler operation error",e.message)),_promise2.default.reject(new Error(e.message))})}function setAllDWHistory(e){return changeDWHistory(e)}function addDWOperations(e){return changeDWHistory(e,"post")}function editDW(e,t,i){(0,_ReduxService.dispatchAction)((0,_actionCreators2.setDWUpdateFlag)(!0)),t=_jquery2.default.extend(!0,{},t),t.frontendInfo=serializeData(t.frontendInfo);var n="/tables/"+(0,_selectors.selectCurrentPreviewTableId)((0,_ReduxService.getAllState)())+"/operations/"+e,r={clientId:_WorkspaceManager.workspaceManager.currentClientId,requestId:_WorkspaceManager.workspaceManager.generateRequestId(),workspaceId:_WorkspaceManager.workspaceManager.initialWorkspaceId,pipelineId:(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)()),operationIndex:e,operation:t};return(0,_utils.showLoader)(),httpService.put(n,r).then(function(e){if((0,_utils.hideLoader)(),e&&"immediateResponse"===e.status)return(0,_dataPreviewController.previewTable)((0,_selectors.selectCurrentPreviewTableId)((0,_ReduxService.getAllState)()),null,(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)())),_promise2.default}).catch(function(t){(0,_utils.hideLoader)();var n=i;return(0,_ReduxService.dispatchAction)((0,_actionCreators.showErrorDialog)("dw function index "+e+" can not "+n,t.message)),_promise2.default.reject(new Error(n))})}function deleteDW(e){(0,_ReduxService.dispatchAction)((0,_actionCreators2.setDWUpdateFlag)(!0));var t="/tables/"+(0,_selectors.selectCurrentPreviewTableId)((0,_ReduxService.getAllState)())+"/operations/"+e,i={clientId:_WorkspaceManager.workspaceManager.currentClientId,requestId:_WorkspaceManager.workspaceManager.generateRequestId(),workspaceId:_WorkspaceManager.workspaceManager.initialWorkspaceId,pipelineId:(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)()),index:e};return(0,_utils.showLoader)(),httpService.del(t,i).then(function(e){if((0,_utils.hideLoader)(),e&&"immediateResponse"===e.status)return console.log(e.message),(0,_dataPreviewController.previewTable)((0,_selectors.selectCurrentPreviewTableId)((0,_ReduxService.getAllState)()),null,(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)())),_promise2.default}).catch(function(t){return(0,_utils.hideLoader)(),(0,_ReduxService.dispatchAction)((0,_actionCreators.showErrorDialog)("dw function index "+e+" can not be deleted",t.message)),_promise2.default.reject(new Error(t.message))})}function loadDwHistory(e){var t="/tables/"+e+"/operations",i={client_Id:_WorkspaceManager.workspaceManager.currentClientId,request_Id:_WorkspaceManager.workspaceManager.generateRequestId(),workspace_Id:_WorkspaceManager.workspaceManager.initialWorkspaceId,pipeline_Id:(0,_selectors.selectCurrentPipelineId)((0,_ReduxService.getAllState)())};return(0,_utils.showLoader)(),httpService.get(t,i).then(function(e){if((0,_utils.hideLoader)(),e&&"immediateResponse"===e.status)return updateReduxStore(e)}).catch(function(e){return(0,_utils.hideLoader)(),e.sessionExpired||(0,_ReduxService.dispatchAction)((0,_actionCreators.showErrorDialog)("dw history can not be loaded",e.message)),_promise2.default.reject(new Error(e.message))})}Object.defineProperty(exports,"__esModule",{value:!0});var _promise=__webpack_require__(155),_promise2=_interopRequireDefault(_promise),_keys=__webpack_require__(28),_keys2=_interopRequireDefault(_keys),_extends2=__webpack_require__(7),_extends3=_interopRequireDefault(_extends2);exports.setAllDWHistory=setAllDWHistory,exports.addDWOperations=addDWOperations,exports.editDW=editDW,exports.deleteDW=deleteDW,exports.loadDwHistory=loadDwHistory;var _jquery=__webpack_require__(26),_jquery2=_interopRequireDefault(_jquery),_serializeJavascript=__webpack_require__(2294),_serializeJavascript2=_interopRequireDefault(_serializeJavascript),_WorkspaceManager=__webpack_require__(20),_HttpService=__webpack_require__(86),httpService=_interopRequireWildcard(_HttpService),_dataPreviewController=__webpack_require__(148),_actionCreators=__webpack_require__(38),_ReduxService=__webpack_require__(29),_selectors=__webpack_require__(22),_utils=__webpack_require__(116),_actionCreators2=__webpack_require__(52)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){return u.get("/featureflags")}function a(e){var t="/featureflags/"+e;return u.get(t)}function o(e){return u.put("/featureflags/reset",{})}function s(e,t){return u.put("/featureflags",{version:e,updateInfo:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureFlags=r,t.getFeatureFlag=a,t.resetFeatureFlag=o,t.changeFeatureFlags=s;var l=i(86),u=n(l)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(i){i.requestId===e&&t&&t(i)}}function o(e,t){var i=e.requestId,n=(0,y.newStream)(i),r=t.topics,o=t.error,s=void 0===o?E:o,l=t.done,u={};(0,v.default)(r).map(function(e){u[e]=a(i,r[e])}),n.subscribeTopics(u).subscribeError(a(i,s)).subscribeDone(a(i,l))}function s(e,t){var i=w.SERVICE_RESPONSE.TYPE.DELAYED;if("function"==typeof t&&(t={topic:i,success:t}),!t.topics){t=(0,p.default)({},t,{topics:{}});var n=t.topic||i;t.topics[n]=t.success,delete t.topic,delete t.success}return e.then(function(e){return e.status===w.SERVICE_RESPONSE.TYPE.DELAYED?e.responses?e.responses.forEach(function(e){o(e,t)}):o(e,t):e.status===w.SERVICE_RESPONSE.STATUS.ERROR&&(t.error||E)(e),e})}function l(e,t,i){return s(b.post(e,t),i)}function u(e,t,i){return s(b.get(e,t),i)}function c(e,t,i){return s(b.del(e,t),i)}function d(e,t,i){return s(b.put(e,t),i)}function h(e,t,i){return s(b.patch(e,t),i)}Object.defineProperty(t,"__esModule",{value:!0});var f=i(7),p=r(f),g=i(28),v=r(g);t.post=l,t.get=u,t.del=c,t.put=d,t.patch=h;var m=i(86),b=n(m),y=i(576),w=i(87),x=i(154),E=function(e){var t=e.jobInfo.message;(0,x.openNotification)("Job Error",t)}},,,,,,,[2340,283],,,,,,,,,,,,function(e,t,i){"use strict";var n=i(49),r=i(167),a=i(43);e.exports=function(e){for(var t=n(this),i=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,u=void 0===l?i:r(l,i);u>s;)t[s++]=e;return t}},function(e,t,i){var n=i(1440);e.exports=function(e,t){return new(n(e))(t)}},[2322,42,164],[2325,25,19],390,function(e,t,i){var n=i(36)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},[2329,19],function(e,t,i){var n=i(25),r=i(418).set;e.exports=function(e,t,i){var a,o=t.constructor;return o!==i&&"function"==typeof o&&(a=o.prototype)!==i.prototype&&n(a)&&r&&r(e,a),e}},[2332,196,36],[2335,161,164,197,70,36],[2336,160,11,71,70,69,196,412,197,78,36],function(e,t){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||i(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:i},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},[2339,19,424,88],[2340,57],[2354,25,17,89,77],[2356,299,168],[2359,103,101],function(e,t,i){var n=i(293),r=i(101);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},function(e,t,i){"use strict";var n=i(103),r=i(101);e.exports=function(e){var t=String(r(this)),i="",a=n(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(i+=t);return i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},[2360,89,619,409,406,19,88],function(e,t,i){"use strict";function n(e,t,i){var n,r,a,o=new Array(i),s=8*i-t-1,l=(1<<s)-1,u=l>>1,c=23===t?V(2,-24)-V(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for(e=H(e),e!=e||e===j?(r=e!=e?1:0,n=l):(n=U(W(e)/z),e*(a=V(2,-n))<1&&(n--,a*=2),e+=n+u>=1?c/a:c*V(2,1-u),e*a>=2&&(n++,a/=2),n+u>=l?(r=0,n=l):n+u>=1?(r=(e*a-1)*V(2,t),n+=u):(r=e*V(2,u-1)*V(2,t),n=0));t>=8;o[d++]=255&r,r/=256,t-=8);for(n=n<<t|r,s+=t;s>0;o[d++]=255&n,n/=256,s-=8);return o[--d]|=128*h,o}function r(e,t,i){var n,r=8*i-t-1,a=(1<<r)-1,o=a>>1,s=r-7,l=i-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return n?NaN:u?-j:j;n+=V(2,t),c-=o}return(u?-1:1)*n*V(2,c-t)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function l(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function u(e){return n(e,52,8)}function c(e){return n(e,23,4)}function d(e,t,i){S(e[M],t,{get:function(){return this[i]}})}function h(e,t,i,n){var r=+i,a=A(r);if(a+t>e[J])throw F(N);var o=e[Y]._b,s=a+e[K],l=o.slice(s,s+t);return n?l:l.reverse();
}function f(e,t,i,n,r,a){var o=+i,s=A(o);if(s+t>e[J])throw F(N);for(var l=e[Y]._b,u=s+e[K],c=n(+r),d=0;d<t;d++)l[u+d]=c[a?d:t-d-1]}var p=i(19),g=i(41),v=i(160),m=i(301),b=i(70),y=i(165),w=i(24),x=i(158),E=i(103),_=i(43),A=i(637),C=i(162).f,S=i(42).f,T=i(403),I=i(197),D="ArrayBuffer",O="DataView",M="prototype",k="Wrong length!",N="Wrong index!",P=p[D],L=p[O],R=p.Math,F=p.RangeError,j=p.Infinity,B=P,H=R.abs,V=R.pow,U=R.floor,W=R.log,z=R.LN2,G="buffer",$="byteLength",q="byteOffset",Y=g?"_b":G,J=g?"_l":$,K=g?"_o":q;if(m.ABV){if(!w(function(){P(1)})||!w(function(){new P(-1)})||w(function(){return new P,new P(1.5),new P(NaN),P.name!=D})){P=function(e){return x(this,P),new B(A(e))};for(var X,Q=P[M]=B[M],Z=C(B),ee=0;Z.length>ee;)(X=Z[ee++])in P||b(P,X,B[X]);v||(Q.constructor=P)}var te=new L(new P(2)),ie=L[M].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||y(L[M],{setInt8:function(e,t){ie.call(this,e,t<<24>>24)},setUint8:function(e,t){ie.call(this,e,t<<24>>24)}},!0)}else P=function(e){x(this,P,D);var t=A(e);this._b=T.call(new Array(t),0),this[J]=t},L=function(e,t,i){x(this,L,O),x(e,P,O);var n=e[J],r=E(t);if(r<0||r>n)throw F("Wrong offset!");if(i=void 0===i?n-r:_(i),r+i>n)throw F(k);this[Y]=e,this[K]=r,this[J]=i},g&&(d(P,$,"_l"),d(L,G,"_b"),d(L,$,"_l"),d(L,q,"_o")),y(L[M],{getInt8:function(e){return h(this,1,e)[0]<<24>>24},getUint8:function(e){return h(this,1,e)[0]},getInt16:function(e){var t=h(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=h(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(h(this,4,e,arguments[1]))},getUint32:function(e){return a(h(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(h(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(h(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){f(this,1,e,o,t)},setUint8:function(e,t){f(this,1,e,o,t)},setInt16:function(e,t){f(this,2,e,s,t,arguments[2])},setUint16:function(e,t){f(this,2,e,s,t,arguments[2])},setInt32:function(e,t){f(this,4,e,l,t,arguments[2])},setUint32:function(e,t){f(this,4,e,l,t,arguments[2])},setFloat32:function(e,t){f(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){f(this,8,e,u,t,arguments[2])}});I(P,D),I(L,O),b(L[M],m.VIEW,!0),t[D]=P,t[O]=L},function(e,t,i){var n=i(19),r=n.navigator;e.exports=r&&r.userAgent||""},[2366,19,100,160,638,42],[2369,233,36,196,100],[2371,136,622,196,79,413],,function(e,t){"use strict";function i(e){return Boolean(e&&"function"==typeof e.dispose)}t.__esModule=!0,t.default=i,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,function(e,t,i){function n(e,t,i,o,s){var l=-1,u=e.length;for(i||(i=a),s||(s=[]);++l<u;){var c=e[l];t>0&&i(c)?t>1?n(c,t-1,i,o,s):r(s,c):o||(s[s.length]=c)}return s}var r=i(688),a=i(1969);e.exports=n},,,,,,,function(e,t,i){var n=i(2013).runInContext();e.exports=i(2005)(n,n)},,,,,function(e,t,i){(function(t){(function(){var i,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(i()-r)/1e6},n=t.hrtime,i=function(){var e;return e=n(),1e9*e[0]+e[1]},r=i()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,i(124))},function(e,t,i){(function(t){for(var n=i(2034),r="undefined"==typeof window?t:window,a=["moz","webkit"],o="AnimationFrame",s=r["request"+o],l=r["cancel"+o]||r["cancelRequest"+o],u=0;!s&&u<a.length;u++)s=r[a[u]+"Request"+o],l=r[a[u]+"Cancel"+o]||r[a[u]+"CancelRequest"+o];if(!s||!l){var c=0,d=0,h=[],f=1e3/60;s=function(e){if(0===h.length){var t=n(),i=Math.max(0,f-(t-c));c=i+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(i))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(t,function(){return this}())},,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},function(e,t){"use strict";function i(e,t){if(e===t)return!0;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=Object.prototype.hasOwnProperty,a=0;a<i.length;a+=1){if(!r.call(t,i[a])||e[i[a]]!==t[i[a]])return!1;var o=e[i[a]],s=t[i[a]];if(o!==s)return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";function i(e){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=0);return t}t.__esModule=!0,t.default=i,e.exports=t.default},function(e,t){"use strict";function i(e,t,i){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==i[n])return!1;var r="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==r)return!1}return!0}t.__esModule=!0,t.default=i,e.exports=t.default},function(e,t){"use strict";function i(e,t,i,r,a,o,s){var l=-a*(t-r),u=-o*i,c=l+u,d=i+c*e,h=t+d*e;return Math.abs(d)<s&&Math.abs(h-r)<s?(n[0]=r,n[1]=0,n):(n[0]=h,n[1]=d,n)}t.__esModule=!0,t.default=i;var n=[0,0];e.exports=t.default},,,,,,,,function(e,t,i){"use strict";i(39),i(1749),i(94)},,,,,function(e,t,i){"use strict";i(39),i(1752),i(65),i(344)},,,,,function(e,t,i){"use strict";i(39)},,,,[2315,1757],,[2314,1760],,[2314,1767],,function(e,t,i){"use strict";i(39),i(1770),i(212)},,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(t.RENAME="RENAME",t.CONVERT="CONVERT",t.CREATE_MFA="CREATE_MFA",t.EDIT_MFA="EDIT_MFA",t.CONVERT_DATA_TYPE="CONVERT_DATA_TYPE",t.UNMAP="UNMAP",t.CREATE_HIERARCHY="CREATE_HIERARCHY",t.DELETE_FROM_HIERARCHY="DELETE_FROM_HIERARCHY",t.DELETE_HIERARCHY="DELETE_HIERARCHY",t.INTEGER="Integer"),n=t.LONG="Long",r=t.BIG_INTEGER="BigInteger",a=t.FLOAT="Float",o=t.DOUBLE="Double",s=t.BIG_DECIMAL="BigDecimal",l=t.DATE="Date",u=t.DATETIME="DateTime",c=t.TIME="Time",d=t.TEXT="Text",h=t.HTML_TAG="HTMLTag",f=t.PHONE_NUMBER="PhoneNumber",p=t.SYMBOL="Symbol",g=t.URL="URL",v=t.EMAIL="Email",m=t.NUMBER="Number";t.ObjectRowAvailableType=[{baseFormType:m,columnDataType:i,isVisibleForMetirc:!0},{baseFormType:m,columnDataType:n,isVisibleForMetirc:!0},{baseFormType:m,columnDataType:r,isVisibleForMetirc:!0},{baseFormType:m,columnDataType:a,isVisibleForMetirc:!0},{baseFormType:m,columnDataType:o,isVisibleForMetirc:!0},{baseFormType:m,columnDataType:s,isVisibleForMetirc:!0},{columnDataType:"Divider1"},{baseFormType:l,columnDataType:l,isVisibleForMetirc:!0},{baseFormType:u,columnDataType:u,isVisibleForMetirc:!0},{baseFormType:c,columnDataType:c,isVisibleForMetirc:!0},{columnDataType:"Divider2"},{baseFormType:d,columnDataType:d,isVisibleForMetirc:!0},{baseFormType:h,columnDataType:h,isVisibleForMetirc:!1},{baseFormType:f,columnDataType:f,isVisibleForMetirc:!1},{baseFormType:p,columnDataType:p,isVisibleForMetirc:!1},{baseFormType:g,columnDataType:g,isVisibleForMetirc:!1},{baseFormType:v,columnDataType:v,isVisibleForMetirc:!1}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLinearHierarchyDnDOp=t.getDragDropOp=t.getRelationOp=void 0;var r=i(46),a=n(r),o=i(117),s=n(o),l=i(15),u=n(l),c=t.getRelationOp=function(e,t,i,n,r,a){return{operator:e,path:"/relationship",value:{hierarchyName:t,parentId:i,childId:n,erType:r},connect:a}};t.getDragDropOp=function(e,t,i){var n=null,r=null,a=null,o=!0,l=!1,d=void 0;try{for(var h,f=(0,s.default)(e.attributes);!(o=(h=f.next()).done);o=!0){var p=h.value;if(p.relation){var g=!0,v=!1,m=void 0;try{for(var b,y=(0,s.default)(p.relation);!(g=(b=y.next()).done);g=!0){var w=b.value;w.child===t&&(n=w.parent),w.parent===t&&(r=w.child),w.child===i&&(a=w.parent)}}catch(e){v=!0,m=e}finally{try{!g&&y.return&&y.return()}finally{if(v)throw m}}}}}catch(e){l=!0,d=e}finally{try{!o&&f.return&&f.return()}finally{if(l)throw d}}var x=[];if(n&&x.push(c("Remove",e.name,n,t)),r&&(x.push(c("Remove",e.name,t,r)),n&&x.push(c("Add",e.name,n,r,"OneMany"))),a&&a!==i&&x.push(c("Remove",e.name,a,i)),a&&x.push(c("Add",e.name,a,t,"OneMany")),"add-attr"!==i)x.push(c("Add",e.name,t,i,"OneMany"));else{var E=u.default.last(e.attributes).id;x.push(c("Add",e.name,E,t,"OneMany"))}return x},t.getLinearHierarchyDnDOp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=[],r=u.default.cloneDeep(e.attributes);return u.default.forEachRight(t,function(t){var o=u.default.findIndex(r,function(e){return e.id===t}),s=void 0;if(o>=0&&(0===o?n.push(c("Remove",e.name,t,r[1].id)):o===r.length-1?n.push(c("Remove",e.name,r[r.length-2].id,t)):(n.push(c("Remove",e.name,r[o-1].id,r[o].id)),n.push(c("Remove",e.name,r[o].id,r[o+1].id)),n.push(c("Add",e.name,r[o-1].id,r[o+1].id,"OneMany"))),s=r.splice(o,1)),0===r.length)n.push(c("Add",e.name,t,t,"OneMany")),r=[{id:t}];else if(i===e.id||""===i)if(n.push(c("Add",e.name,t,r[0].id,"OneMany")),s){var l;(l=r).splice.apply(l,[0,0].concat((0,a.default)(s)))}else r.splice(0,0,{id:t});else{var d=u.default.findIndex(r,function(e){return e.id===i});if(d===r.length-1)if(n.push(c("Add",e.name,r[d].id,t,"OneMany")),s){var h;(h=r).push.apply(h,(0,a.default)(s))}else r.push({id:t});else if(n.push(c("Remove",e.name,r[d].id,r[d+1].id)),n.push(c("Add",e.name,r[d].id,t,"OneMany")),n.push(c("Add",e.name,t,r[d+1].id,"OneMany")),s){var f;(f=r).splice.apply(f,[d+1,0].concat((0,a.default)(s)))}else r.splice(d+1,0,{id:t})}}),n}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var r=i(345),a=n(r),o=i(66),s=n(o),l=i(111),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(505),i(94),i(258);var w=i(8),x=n(w),E=i(15),_=n(E),A=i(5),C=n(A),S=i(1),T=n(S),I=i(14),D=i(182),O=i(16),M=i(108),k=i(145),N=i(260),P=i(215),L=i(525),R=n(L),F=i(526),j=n(F),B=i(355),H=n(B),V=i(216),U=i(523),W=i(59);i(1774);var z=a.default.TreeNode,G={drop:P.drop,hover:P.hover,canDrop:function(){return!0}},$=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}},q=t.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=Date.now();return function(){var n=this,r=arguments,a=Date.now();a-i>=t&&(e.apply(n,r),i=Date.now())}},Y=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));J.call(i);var n=i.props.hierarchyObj;return i.state={addAttributeFocus:!1,hierarchyName:n.name,expandedKeys:[n.id],autoExpandParent:!0,renameError:!1,renameErrorMsg:"",sessiontimeout:!1},i.UUID=(new Date).valueOf(),i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.hierarchyObj,n=t.objects,r=t.objectType,o=t.keyword,l=t.selectedHandler,c=t.connectDropTarget,d=t.selectedObjects,h=t.selectedTableIds,f=(t.index,t.isSelected),p=_.default.map(_.default.filter(n,function(e){return"attribute"===e.type}),function(e){return T.default.createElement(s.default.Option,{key:e.id},e.name)}),g=!this.state.sessiontimeout&&(i.isCreate||this.state.editable),v=(0,B.highLightKeyword)(this.state.hierarchyName,o),m=i.attributes.length<=1,b="This hierarchy is incomplete, please create at least one relationship.",y=this.state.renameError,w=this.state.renameErrorMsg,E=i.isGraphHier;return c(T.default.createElement("div",{className:"hierarchy-container"},T.default.createElement(a.default,{defaultExpandAll:!0,autoExpandParent:this.state.autoExpandParent,draggable:!1,expandedKeys:this.state.expandedKeys},T.default.createElement(z,{key:""+i.id,title:T.default.createElement(u.default,{overlayClassName:"incomplete-hierarchy-warning hierarchy-name-duplicated",placement:"left",defaultVisible:y,title:y?w:m?b:""},T.default.createElement("div",{className:(0,x.default)("object-row","hierarchy",{incomplete:m},{isSelected:f},E?"graph":"linear"),onClick:this.onObjectRowClickHandler,onDoubleClick:this.onTreeSelect,onContextMenu:this.handleRC},T.default.createElement("div",{className:"table-wrapper"},T.default.createElement(j.default,{editable:g,highLighted:v,value:this.state.hierarchyName,onChange:this.onEditValueChange,onPressEnter:this.toggleEditable,onTextClick:q(this.onTextClick)}))))},_.default.map(i.attributes,function(e,t){var n=_.default.findIndex(d,function(t){return t.id===e.id})>=0,a=!_.default.isEmpty(h)&&_.default.isEmpty(_.default.intersection(h,_.default.map(e.tid,function(e){return e.id})))?"non-selected-hier-attr":"",s=l;if(""!==a){var u=function(){};s={singleSelected:u,selectImplicitly:u,rangeSelected:u,clearSelected:u},n=!1}var c=T.default.createElement("div",{className:(0,x.default)("hierarchy-attr",a,E?"graph":"linear")},e.isMFA?T.default.createElement(R.default,{key:""+e.id,index:t,object:e,keyword:o,isSelected:n,selectedHandlers:s,objectType:r,selectedHandler:s}):T.default.createElement(H.default,{key:""+e.id,index:t,object:e,keyword:o,isSelected:n,selectedHandlers:s,selectedObjects:d,objectType:r,hierarchyObj:i}));return T.default.createElement(z,{key:""+e.id,title:c})}),E?null:T.default.createElement(z,{key:"add-attr",selectable:!1,title:this.state.addAttributeFocus?T.default.createElement(s.default,{ref:function(t){e.addNewSelect=t},autoFocus:!0,showSearch:!0,onChange:this.onAttrSelect,onFocus:this.onFocus,onBlur:this.onBlur,notFoundContent:"No matched attribute",dropdownClassName:"mstr-as-select-dropdown",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},p):T.default.createElement("div",{className:"object-row attribute"},T.default.createElement(s.default,{placeholder:"Add Attribute...",onFocus:this.onPlaceholderFocus}))})))))}},{key:"componentDidMount",value:function(){var e=this;this.subscriber=V.RMCObjectSubject$.subscribe(function(){e.renameHandler()})}},{key:"componentWillUnmount",value:function(){this.subscriber.dispose()}}]),t}(T.default.Component),J=function(){var e=this;this.getUUID=function(){return e.UUID},this.onAttrSelect=function(t){var i=e.props,n=i.hierarchyObj,r=i.manipulateModel,a=n.attributes.length,o=t;a>0&&(o=n.attributes[a-1].id);var s=[(0,U.getRelationOp)("Add",n.name,o,t,"OneMany")];r(s,"add Relationship in hierarchy"),e.setState({addAttributeFocus:!1})},this.onTreeSelect=function(t,i){var n=e.props.hierarchyObj,r=e.state.editable;n.isCreate||r||(e.state.expandedKeys.length>0?(e.setState({expandedKeys:[]}),e.setState({autoExpandParent:!1})):(e.setState({expandedKeys:[n.id]}),e.setState({autoExpandParent:!0})))},this.onFocus=function(t){e.setState({addAttributeFocus:!0})},this.onPlaceholderFocus=function(t){e.setState({addAttributeFocus:!0}),e.addNewSelect.focus()},this.onBlur=function(t){e.setState({addAttributeFocus:!1})},this.setErrorMsgTooltip=function(t){return t&&t.sessionExpired?void e.setState({sessiontimeout:!0}):(e.setState({renameError:!0}),void e.setState({renameErrorMsg:t.errorMessage}))},this.validateInput=function(t){return""===t?(e.setState({renameError:!0}),e.setState({renameErrorMsg:"Name should not be empty"}),!1):!!/^[^\\"\[\]]*$/.test(t.toString())||(e.setState({renameError:!0}),e.setState({renameErrorMsg:'The following characters are not allowed: [ ] " \\'}),!1)},this.checkHierNameDup=function(t,i){return!(_.default.findIndex(t,function(e){return e.type===W.HIERARCHY&&!e.isCreate&&e.name===i})>=0)||(e.setState({renameError:!0}),e.setState({renameErrorMsg:"The name has been used by another hierarchy, please rename it."}),!1)},this.toggleEditable=function(){var t=e.state,i=t.hierarchyName,n=t.editable,r=e.props,a=r.manipulateModel,o=r.hierarchyObj;if(e.validateInput(i)){var s={};if(o.isCreate){if(!e.checkHierNameDup(e.props.objects,i))return;var l=_.default.map(o.attributes,function(e){return e.id});e.state.addAttributeFocus||(s=a((0,N.getCreateHierarchyOperation)(l,i,o.id),void 0,void 0,e.setErrorMsgTooltip))}else if(n&&o.name!==i){if(!e.checkHierNameDup(e.props.objects,i))return;s=a([(0,N.getRenameObjectTypeOperation)(i,o.type,o.id)],void 0,void 0,e.setErrorMsgTooltip)}else e.setState({renameError:!1}),e.setState({editable:!n});s.then&&s.then(function(t){t&&(e.setState({renameError:!1}),o.isCreate?e.setState({editable:!1}):e.setState({editable:!n}))})}},this.onEditValueChange=function(t){var i=t.target.value;e.setState({hierarchyName:i})},this.onObjectRowClickHandler=function(t){var i=e.props,n=i.selectedHandler,r=i.index,a=i.hierarchyObj;i.isSelected;t.nativeEvent.ctrlKey||t.nativeEvent.metaKey||t.nativeEvent.shiftKey?t.nativeEvent.ctrlKey||t.nativeEvent.metaKey?n.singleSelected(a,r,!1):t.nativeEvent.shiftKey&&n.rangeSelected(a,r):n.singleSelected(a,r),t.stopPropagation()},this.onTextClick=function(t){var i=e.props.isSelected;return i?(i&&!e.state.editable&&e.setState(function(){return{editable:!0}}),void t.stopPropagation()):void e.onObjectRowClickHandler(t)},this.handleRC=function(){var t=e.props,i=t.hierarchyObj,n=t.selectedHandler;n.selectImplicitly(i)},this.renameHandler=function(){var t=e.props,i=t.isSelected,n=t.hierarchyObj;i&&e.toggleEditable(n)}};Y.propTypes={objects:C.default.array,hierarchyObj:C.default.object,index:C.default.number,keyword:C.default.string,objectType:C.default.string,selectedHandler:C.default.object,selectedObjects:C.default.array,manipulateModel:C.default.func,isOver:C.default.bool,connectDropTarget:C.default.func};var K=function(e){return{manipulateModel:(0,O.bindActionCreators)(D.manipulateModel,e)}};t.default=(0,O.compose)((0,I.connect)(null,K,null,{withRef:!0}),(0,M.DropTarget)(k.OBJECT_ROW,G,$))(Y)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(345),o=n(a),s=i(46),l=n(s),u=i(9),c=n(u),d=i(2),h=n(d),f=i(6),p=n(f),g=i(4),v=n(g),m=i(3),b=n(m);i(505);var y=i(15),w=n(y),x=i(5),E=n(x),_=i(1),A=n(_),C=i(108),S=i(14),T=i(16),I=i(145),D=i(215),O=i(60),M=i(355),k=n(M);i(675);var N=o.default.TreeNode,P={drop:D.drop,hover:D.hover,canDrop:function(){return!0}},L=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),currentItem:t.getItem()}},R=function(e){function t(e){(0,h.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return i.onTreeSelect=function(e,t){var n=i.props.object,r=i.state.editable;r||(i.state.expandedKeys.length>0?i.setState({expandedKeys:[]}):i.setState({expandedKeys:[n.id]}))},i.state={editable:!1,expandedKeys:[]},i}return(0,b.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.object,i=e.isSelected,n=e.keyword,r=e.selectedHandlers,a=e.index,s=e.objectType,u=e.selectedTableIds,c=e.allAttributesInMFA,d=c[t.id],h=void 0;return h=w.default.isEmpty(u)?d:w.default.pick(d,u),A.default.createElement("div",{className:"mfaContainer"},A.default.createElement(o.default,{expandedKeys:this.state.expandedKeys},A.default.createElement(N,{key:t.id,title:A.default.createElement("div",{onDoubleClick:this.onTreeSelect},A.default.createElement(k.default,{key:""+t.id,index:a,object:t,keyword:n,isSelected:i,selectedHandlers:r,objectType:s}))},w.default.map(h,function(e,i){var r=A.default.createElement(N,{key:i,title:A.default.createElement("div",{className:"mfa-form-table-name",onContextMenu:function(e){return e.stopPropagation()}},e.tname)}),a=w.default.filter(t.forms,function(t){return t.objectId in e}),o=w.default.map(a,function(t){var r=e[t.objectId].name,a=e[t.objectId].formName,o=(0,M.highLightKeyword)(r,n);return A.default.createElement(N,{key:i+t.objectId,title:A.default.createElement("div",{className:"object-row attribute",onContextMenu:function(e){return e.stopPropagation()}},A.default.createElement("span",{className:"table-wrapper"},o,"@"+a))})});return w.default.keys(h).length>1?[r].concat((0,l.default)(o)):o}))))}}]),t}(A.default.Component),F=function(e){return{allAttributesInMFA:(0,O.AllAttributesInMFA)(e),selectedTableIds:(0,O.selectedTableIds)(e)}};R.propTypes={isSelected:E.default.bool,selectedHandlers:E.default.object},t.default=(0,T.compose)((0,S.connect)(F,r),(0,C.DropTarget)(I.OBJECT_ROW,P,L))(R)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(64),a=n(r);i(65);var o=i(1),s=n(o),l=i(13),u=n(l),c=i(5),d=n(c);i(1775);var h=function(e){var t=e.editable,i=e.value,n=e.highLighted,r=e.onChange,o=e.onPressEnter,l=e.onESC,c=e.onTextClick;return s.default.createElement("div",null,t?s.default.createElement(a.default,{ref:function(e){e&&u.default.findDOMNode(e).focus()},value:i,onChange:r,onPressEnter:o,onBlur:o,onKeyDown:l,onFocus:function(e){return e.target.select()},onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()}}):s.default.createElement("div",{className:"name",onClick:c},n))};h.prototype={editable:d.default.bool.isRequired,highLighted:d.default.string,value:d.default.string,onChange:d.default.func,onPressEnter:d.default.func,onESC:d.default.func},t.default=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.currentOffset;if(!t)return{display:"none"};var i=t.x,n=t.y,r="translate("+i+"px, "+n+"px)";return{transform:r}}function a(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}function o(e){return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.dropTrgUUID=t.draggingIndicator$=void 0;var s=i(9),l=n(s),u=i(2),c=n(u),d=i(6),h=n(d),f=i(4),p=n(f),g=i(3),v=n(g),m=i(1),b=n(m),y=i(5),w=n(y),x=i(145),E=i(59),_=i(108),A=i(14),C=i(60),S=i(15),T=n(S),I=i(26),D=n(I),O=i(8),M=n(O),k=i(179),N=n(k),P=t.draggingIndicator$=new N.default.Subject,L="",R=(t.dropTrgUUID={get:function(){return L},set:function(e){return L=e}},{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"200px",height:"100%"}),F=function(e){var t=(0,D.default)(".object-row-preview");t.length&&(T.default.forEach(t[0].classList,function(e){"object-row-preview"!==e&&t.removeClass(e)}),t.addClass("object-row-preview-"+e))},j=function(e){function t(e){(0,c.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return i.subIndicator=null,i}return(0,v.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedAttributes,i=e.selectedMetrics,n=e.item,a=e.itemType,o=e.isDragging;if(!o||a!==x.OBJECT_ROW||!n)return null;var s=[];return n&&n.type===E.ATTRIBUTES?s=t:n&&n.type===E.METRICS&&(s=i),b.default.createElement("div",{style:R},b.default.createElement("div",{style:r(this.props)},b.default.createElement("div",{className:"object-row-preview"},T.default.map(s,function(e,t){return b.default.createElement("div",{key:t,className:(0,M.default)("object-row","object-row-preview-cube",n&&n.type)},b.default.createElement("div",{className:"table-wrapper"},b.default.createElement("span",null,e.name)))}))))}},{key:"componentDidMount",value:function(){this.subIndicator=P.subscribe(function(e){F(e)})}},{key:"componentWillUnmount",value:function(){this.subIndicator.dispose()}}]),t}(m.Component);j.propTypes={selectedAttributes:w.default.array,selectedMetrics:w.default.array,showLabel:w.default.bool,item:w.default.object,itemType:w.default.string,currentOffset:w.default.shape({x:w.default.number.isRequired,y:w.default.number.isRequired}),isDragging:w.default.bool.isRequired};var B=function(e){return{selectedAttributes:(0,C.getSelectedAttributesOnPanel)(e),selectedMetrics:(0,C.getSelectedMetricsOnPanel)(e)}};t.default=(0,A.connect)(B,o)((0,_.DragLayer)(a)(j))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(15),g=n(p),v=i(5),m=n(v),b=i(1),y=n(b),w=i(326),x=n(w),E=i(59),_=i(1069),A=n(_),C=i(1070),S=n(C),T=i(525),I=n(T),D=i(216),O=i(355),M=n(O);i(1777);var k=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.clearSelected=function(){var e=i.props.setSelectObjects;e([])},i.singleSelected=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=i.props,a=r.selectedObjects,o=r.setSelectObjects;if(!(n&&a.length>0&&g.default.findIndex(a,function(t){return t.id===e.id})>=0)){var s=n?[]:a,l=g.default.findIndex(a,function(i){return i.id===e.id&&i.index===t});l>=0?(a.splice(l,1),o(g.default.sortBy(g.default.uniqBy(s,"index"),function(e){return e.index}),e)):o(g.default.sortBy(g.default.uniqBy(s.concat({index:t,id:e.id,isMFA:e.isMFA,forms:e.forms,name:e.name,tid:e.tid,dataType:e.dataType,isLinked:e.isLinked,type:e.type,isInLinearHierarchy:e.isInLinearHierarchy,isInGraphHierarchy:e.isInGraphHierarchy,hierarchyName:e.hierarchyName}),"id"),function(e){return e.index}),e)}},i.rangeSelected=function(e,t){var n=i.props,r=n.selectedObjects,a=n.setSelectObjects,o=g.default.sortBy(i.props.objects,function(e){return e.name});if(e.isInLinearHierarchy||e.isInGraphHierarchy){var s=g.default.find(o,function(t){return t.type===E.HIERARCHY&&g.default.find(t.attributes,function(t){return t.name===e.name})});s&&s.attributes&&(o=s.attributes)}var l=[],u=r.length-1;if(g.default.isEmpty(r)||r[0].index||(r[0].index=g.default.findIndex(o,function(e){return e.name===r[0].name}),r[u].index=g.default.findIndex(o,function(e){return e.name===r[u].name})),!r.length||r[0].index<=t&&t<=r[u].index)i.singleSelected(e,t,!1);else if(t<r[0].index){for(var c=t;c<=r[0].index;c++){var d=o[c];l.push({index:c,id:d.id,forms:d.forms,isMFA:d.isMFA,name:d.name,tid:d.tid,dataType:d.dataType,isLinked:d.isLinked,type:d.type,isInLinearHierarchy:d.isInLinearHierarchy,isInGraphHierarchy:d.isInGraphHierarchy,hierarchyName:d.hierarchyName})}var h=g.default.sortBy(g.default.uniqBy(r.concat(l),"index"),function(e){return e.index});a(h,h[0])}else if(r[u].index<=t){for(var f=r[u].index+1;f<=t;f++){var p=o[f];l.push({index:f,id:p.id,forms:p.forms,isMFA:p.isMFA,name:p.name,tid:p.tid,dataType:p.dataType,isLinked:p.isLinked,type:p.type,isInLinearHierarchy:p.isInLinearHierarchy,isInGraphHierarchy:p.isInGraphHierarchy,hierarchyName:p.hierarchyName})}var v=g.default.sortBy(g.default.uniqBy(r.concat(l),"index"),function(e){return e.index});a(v,v.slice(-1)[0])}},i.selectImplicitly=function(e,t){var n=i.props.setSelectObjects;n([{index:t,id:e.id,forms:e.forms,isMFA:e.isMFA,name:e.name,dataType:e.dataType,isLinked:e.isLinked,tid:e.tid,isInLinearHierarchy:e.isInLinearHierarchy,isInGraphHierarchy:e.isInGraphHierarchy,type:e.type,hierarchyName:e.hierarchyName}],e)},i.hideContextMenu=function(){i.refContextMenu.getWrappedInstance&&i.refContextMenu.getWrappedInstance()&&i.refContextMenu.getWrappedInstance().hideContextMenu()},i.refContextMenu=null,i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.keyword,n=t.objectType,r=t.selectedObjects,a=g.default.sortBy(this.props.objects,function(e){return e.name});n===E.ATTRIBUTES?(D.objectCountSubject$.onNext({objectType:n,num:g.default.filter(a,function(e){return e.type===E.ATTRIBUTES&&!e.isMFA}).length}),D.objectCountSubject$.onNext({objectType:"mfa",num:g.default.filter(a,function(e){return e.type===E.ATTRIBUTES&&e.isMFA}).length})):D.objectCountSubject$.onNext({objectType:n,num:a.length});var o={clearSelected:this.clearSelected,singleSelected:this.singleSelected,rangeSelected:this.rangeSelected,selectImplicitly:this.selectImplicitly};return y.default.createElement("div",{className:"object-list",onClick:function(t){t.target.className.includes("object-list")&&e.clearSelected(),e.hideContextMenu()}}," ",y.default.createElement(A.default,{objectType:n,selectedObjects:r,ref:function(t){return e.refContextMenu=t}},y.default.createElement(x.default,{length:a.length,objectType:"simple",itemRenderer:function(e,t){var s=a[e],l=g.default.findIndex(r,function(e){return e.id===s.id})>=0;return n===E.ATTRIBUTES&&s.type===E.HIERARCHY?(D.objectCountSubject$.onNext({objectType:E.HIERARCHY,num:s.attributes.length}),y.default.createElement(S.default,{hierarchyObj:s,key:s.name,index:e,objects:a,keyword:i,selectedObjects:r,selectedHandler:o,isSelected:l,objectType:n})):n===E.ATTRIBUTES&&s.isMFA?y.default.createElement(I.default,{key:s.id+"_"+t,index:e,object:s,keyword:i,selectedHandlers:o,isSelected:l,objectType:n}):y.default.createElement(M.default,{key:s.id+"_"+t,index:e,object:s,keyword:i,isSelected:l,selectedObjects:r,selectedHandlers:o,objectType:n})}})))}}]),t}(b.Component);k.propTypes={objects:m.default.array,keyword:m.default.string,objectType:m.default.string,selectedObjects:m.default.array,setSelectObjects:m.default.func},t.default=k},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveAndPublishInEditMode=t.hasUnavailableTable=t.saveAndPublishInitially=t.saveProgress=void 0;var a=i(497),o=r(a),s=i(7),l=r(s);i(971);var u=i(272),c=i(84),d=i(227),h=i(20),f=i(38),p=i(225),g=i(132),v=r(g),m=i(188),b=r(m),y=i(353),w=i(112),x=i(530),E=(n(x),i(131)),_=function(e){return function(t,i){return function(){return T(i)(e).then(function(e){h.workspaceManager.currentPublishRequestId=e.requestId,""!==e.jobId?(t((0,c.setPublishJobId)(e.jobId)),t(S())):mstrAppSchema&&(window.onbeforeunload=null,t(S()))}).catch(function(e){v.default.onMojoPublishDialogFinish(!0,!0),t((0,u.toggleLoading)({show:!1}));var i="Fail to publish cube.";return t((0,f.showErrorDialog)(i,e.errorMessage)),null})}}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.CREATE,t=arguments[1],i=arguments[2];return function(n,r){if(!t)return b.default.reject("Pipeline Info is empty");var a=e===w.CREATE?i:r().dmState.dataSet,o=e===w.EDIT?_({name:a})(n,r):void 0,s=e===w.EDIT?y.dataModelingManager.close:void 0;return v.default.openMojoPublishDialog(a,e,void 0,void 0,o,t,s),b.default.resolve()}},C=function(){return function(e,t){var i={model_instance_id:t().dmState.importSources.id,workspace_id:t().dmState.importSources.workspaceId,request_id:h.workspaceManager.generateRequestId(),user_id:h.workspaceManager.getUserId(),include_server_info:!0};return e((0,u.toggleLoading)({show:!0,text:"Get Pipeline info"})),(0,d.getInfo)(i).then(function(t){if(e((0,u.toggleLoading)({show:!1})),!t.data)throw new Error("Pipeline info is empty !");return t.data}).catch(function(t){return e((0,u.toggleLoading)({show:!1})),e((0,p.openConfirmDialog)({title:"Error",message:t.message,okAction:function(){return e((0,f.exitApp)())},okText:"Ok"})),null})}},S=function e(){return function(t,i){var n=i().dmState.importSources;return(0,d.pollPublish)(n.id,n.workspaceId).then(function(i){var n=i.cubeStatus;v.default.updatePublishStatus(n),n.result.allCompleted&&!n.result.hasError?y.dataModelingManager.close():n.result.allCompleted||setTimeout(function(){return t(e())},1e3)}).catch(function(e){var i={result:{allCompleted:!0,hasError:!0}};return t((0,u.toggleLoading)({show:!1})),t((0,f.showErrorDialog)(e.message,e.errorMessage)),v.default.updatePublishStatus(i),null})}},T=function(e){return function(t){var i=e().dmState.importSources.workspaceId,n=h.workspaceManager.featureFlags.list.filter(function(e){return"publish-dda"===e.id})[0],r=n&&n.enabled?w.LIVE:w.INMEMORY,a={requestId:h.workspaceManager.generateRequestId(),modelInstanceId:e().dmState.importSources.id,workspaceId:i,publishMode:r,datasetType:"Standalone",folderId:t.folderID,name:t.name,description:t.desc?t.desc:window.mstrAppSchema&&window.mstrAppSchema.cubeDesc?window.mstrAppSchema.cubeDesc:"",
saveMode:t.saveMode?t.saveMode:w.OVERWRITE,tableActions:[],shouldRefresh:!t.saveOnly&&void 0};return(0,d.publishDataset)(a)}},I=(t.saveProgress=function(e){return function(t,i){return t((0,u.toggleLoading)({show:!0,text:"Saving"})),T(i)((0,l.default)({saveOnly:!0},e)).then(function(i){return t((0,u.toggleLoading)({show:!1})),window.mstrAppSchema&&(window.mstrAppSchema.cubeName=e.name,window.mstrAppSchema.cubeDesc=e.desc),t((0,c.setDataSetName)(e.name)),o.default.success("Saved successfully"),t((0,c.setDirty)(!1)),i}).catch(function(e){return t((0,u.toggleLoading)({show:!1})),t((0,f.showErrorDialog)(e.message,e.errorMessage)),null})}},function(e){return function(t,i){return T(i)(e).then(function(e){return h.workspaceManager.currentPublishRequestId=e.requestId,e.serverMsgId&&t((0,c.setMsgId)(e.serverMsgId)),e.serverMsgId}).catch(function(e){return t((0,f.showErrorDialog)(e.message,e.errorMessage)),v.default.closeMojoPublishDialog(),b.default.reject(new Error("error happen at saveAndPublish"))})}});t.saveAndPublishInitially=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i){return b.default.reduce([C,A,I,S],function(i,n,r){switch(r){case 0:return t(n());case 1:return t(n(w.CREATE,i,e.name));case 2:return t(n(e));case 3:return t(n());default:return}},null)}},t.hasUnavailableTable=function(e){var t=e.pipelineInfos,i=(e.serverPublishInfo,0);return t.forEach(function(e){e.tableGroups.forEach(function(e){e.forEach(function(e){("fileLocal"===e.dataSourceType&&e.fileAvailable===!1||(0,E.isOAuthSource)(e.dataSourceType)&&e.oAuthInfoMissing===!0)&&i++})})}),i>0},t.saveAndPublishInEditMode=function(){return function(e,t){return b.default.reduce([C,A],function(t,i,n){switch(n){case 0:return e(i());case 1:return e(i(w.EDIT,t));default:return}},null)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ObjectType={ATTRIBUTE:"attribute",METRIC:"metric"},t.EntityRelationship={ONE_TO_MANY:"one-to-many",MANY_TO_ONE:"many-to-one",ONE_TO_ONE:"one-to-one",MANY_TO_MANY:"many-to-many"},t.ModelEntityRelationship={ONE_TO_MANY:"OneMany",MANY_TO_ONE:"ManyOne",ONE_TO_ONE:"OneOne",MANY_TO_MANY:"ManyMany",RESERVED:"Reserved"},t.PUBLISH_MODE_INMEMORY_CUBE="Publish In-Memory Cube",t.PUBLISH_MODE_DDA_CUBE="Publish DDA Cube",t.PUBLISH_MODE_SPARK="Publish to Spark",t.PUBLISH_STATUS_DONE="DONE",t.PUBLISH_STATUS_INPROGRESS="IN_PROGRESS",t.CubePublishFinishedStatus={finished:1,dssUserRequestJobExecutionError:3,dssUserRequestExecutionError:18},t.SUPER_CUBE_EXT_TYPE="416"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1106),a=n(r);t.default=a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_SELECTED_COLUMN="SET_SELECTED_COLUMN",t.SET_HIGHLIGHTED_TEXT="SET_HIGHLIGHTED_TEXT",t.TOGGLE_EDIT_CELL="TOGGLE_EDIT_CELL"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{category:"Basic",title:"Basic",items:[{title:"Aggregate",func:"aggregate",parameters:[{type:"aggregation",label:"Select",field:"aggregation"},{type:"column",label:"Group by",field:"groupBy",multiple:!0,optional:!0}]},{title:"Add new column",func:"mstr_exp",parameters:[{type:"codemirror",label:"Expression",field:"expression"}]},{title:"Filter",func:"simpleFilter",parameters:[{type:"column",label:"Based on",field:"column"},{type:"filterOp",label:"Operator",field:"operator"},{type:"filterArgs",label:"Variables",field:"args"}]}]},{category:"split",title:"Split",items:[{title:"Split between positions",id:"splitByPos",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"range",field:"positions",label:["Start","End"]}],onPreview:{}},{title:"Split by fixed length",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"text",subtype:"integer",field:"lengths",label:"Length",validate:function(e){return/^([\s]*[0-9]+[\s]*,)*[\s]*[0-9]+[\s]*,?[\s]*$/g.test(e)?e.split(",").some(function(e){return parseInt(e)<=0})?"Must be a number greater than 0.":void 0:"Must be numbers separated by commas. Ex: 2,4,6"}}]},{title:"Split on separator",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"on",label:"Separator"}]},{title:"Split before separator",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"before",label:"Separator"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Split after separator",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"Separator"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Split between separators",func:"split",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"After"},{type:"separator",field:"before",label:"Before"},{type:"hidden",field:"on",value:".*",hidden:!0}]}]},{category:"extract",title:"Extract",items:[{title:"Extract between positions",func:"extract",parameters:[{type:"column",label:"Column",field:"column"},{type:"range",field:"positions",label:["Start","End"]}],onPreview:{}},{title:"Extract pattern",func:"extract",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"on",label:"Pattern"}]},{title:"Extract before pattern",func:"extract",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"before",label:"Pattern"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Extract after pattern",func:"extract",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"Pattern"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Extract between patterns",func:"extract",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"After"},{type:"separator",field:"before",label:"Before"},{type:"hidden",field:"on",value:".*",hidden:!0}]}]},{category:"find and replace",title:"Find And Replace",items:[{title:"Find And Replace Cell",func:"findAndReplace",parameters:[{type:"column",label:"Column",field:"column"},{type:"rowFilter",label:"Where Cell"},{type:"hidden",field:"method",value:"findAndReplace",hidden:!0},{type:"text",field:"replacedWith",label:"Replaced With"},{type:"hidden",field:"replace_method",value:"FINDANDREPLACECELL",hidden:!0}]},{title:"Find And Replace Characters In Cell",func:"findAndReplace",parameters:[{type:"column",label:"Column",field:"column"},{type:"text",field:"from",label:"From",validate:function(e){if(!e||!e.trim())return"Field must not be empty!"}},{type:"text",field:"to",label:"To",validate:function(e){if(!e||!e.trim())return"Field must not be empty!"}},{type:"hidden",field:"replace_method",value:"FINDANDREPLACECHINCELL",hidden:!0}]}]},{category:"cut",title:"Cut out",items:[{title:"Cut out between positions",func:"cut",parameters:[{type:"column",label:"Column",field:"column"},{type:"range",field:"positions",label:["Start","End"]}],onPreview:{}},{title:"Cut out on pattern",func:"cut",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"on",label:"Pattern"}]},{title:"Cut out before pattern",func:"cut",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"before",label:"Pattern"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Cut out after pattern",func:"cut",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"Pattern"},{type:"hidden",field:"on",value:".*",hidden:!0}]},{title:"Cut out between patterns",func:"cut",parameters:[{type:"column",label:"Column",field:"column"},{type:"separator",field:"after",label:"After"},{type:"separator",field:"before",label:"Before"},{type:"hidden",field:"on",value:".*",hidden:!0}]}]},{category:"delete",title:"Delete",items:[{title:"Delete columns",func:"drop",parameters:[{type:"column",label:"Column",field:"column",multiple:!0}],onPreview:{}},{title:"Delete rows",func:"delete_rows",parameters:[{type:"column",label:"Column",field:"column"},{type:"rowFilter",label:"Where Cell"},{type:"hidden",field:"method",value:"delete_rows",hidden:!0}]},{title:"Delete duplicated cells",func:"remove",parameters:[{type:"column",label:"Column",field:"column",multiple:!0},{type:"hidden",field:"method",value:"cell",hidden:!0}]},{title:"Delete duplicated rows in the table",func:"remove",parameters:[{type:"hidden",field:"method",value:"row"}]},{title:"Keep columns",func:"keepColumns",parameters:[{type:"column",label:"Columns",field:"column",multiple:!0}]}]},{category:"transform cells",title:"Transform Strings",items:[{title:"Transform to Title Case",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"TITLECASE",hidden:!0}]},{title:"Transform to UPPER CASE",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"UPPER",hidden:!0}]},{title:"Transform to lower case",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"LOWER",hidden:!0}]},{title:"Capitalize first letter",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"CAPITALIZE",hidden:!0}]},{title:"Uncapitalize first letter",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"UNCAPITALIZE",hidden:!0}]},{title:"Unescape HTML",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"UNESCAPE",hidden:!0}]},{title:"Fill down the blank cells",func:"fillAndBlankDown",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"FILLDOWN",hidden:!0}]},{title:"Blank down the duplicated cells",func:"fillAndBlankDown",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"BLANKDOWN",hidden:!0}]},{title:"Pad before text",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"text",label:"Characters",field:"pad"},{type:"hidden",field:"update_method",value:"PADFIRST",hidden:!0}]},{title:"Pad after text",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"text",label:"Characters",field:"pad"},{type:"hidden",field:"update_method",value:"PADLAST",hidden:!0}]},{title:"Trim whitespaces on both ends",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"TRIM",hidden:!0}]},{title:"Collapse consecutive whitespaces",func:"edit",parameters:[{type:"column",label:"Column",field:"column"},{type:"hidden",field:"update_method",value:"COLLAPSE",hidden:!0}]}]},{category:"others",title:"Others",items:[{title:"Duplicate column",func:"duplicate",parameters:[{type:"column",label:"Column",field:"column"}]},{title:"Rename column",func:"set_name",parameters:[{type:"column",label:"Column",field:"column"},{type:"text",label:"New Name",field:"names",validate:function(e,t){return e&&e.trim()?/^[^\\"[\]`]+$/g.test(e)?t.column&&t.column.length&&e===t.column[0]?"Name is not changed yet.":void 0:'Must not contain \\"![]`':"Must not be empty!"}}]},{title:"Merge columns",func:"merge",parameters:[{type:"column",label:"Column",field:"column",multiple:!0,min:2,ordered:!0},{type:"text",label:"Glue",field:"glue",optional:!0}]},{title:"Change data type",func:"set_type",parameters:[{type:"column",label:"Column",field:"column"},{type:"dataType",label:"Data Type",field:"types"}]},{title:"Sort ascending",func:"sort",parameters:[{type:"column",label:"Column",field:"column",multiple:!0,ordered:!0},{type:"hidden",field:"direction",value:"asc",hidden:!0}]},{title:"Sort descending",func:"sort",parameters:[{type:"column",label:"Column",field:"column",multiple:!0,ordered:!0},{type:"hidden",field:"direction",value:"desc",hidden:!0}]}]}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(899),w=i(95),x=n(w),E=i(274),_=n(E),A=i(22);i(1785);var C=i(540),S=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.value,n=e.columns,r=e.config,a=r.ordered,o=r.multiple,s=n.map(function(e){return{value:e.id,text:e.id,prefix:g.default.createElement(_.default,{type:e.type})}}),l=g.default.createElement("div",{className:"multi-column-wrapper"},g.default.createElement(x.default,{className:"mstr-as-column-multi-select",mode:"multiple",value:i,onChange:function(e){t(e)},datasource:s||[],filterOption:function(e,t){return t.props.children.toUpperCase().indexOf(e.toUpperCase())!==-1}}),i&&i.length?g.default.createElement(C.OrderableList,{results:i,ordered:a,shouldCancelStart:function(e){return"remove"===e.target.className},listCss:"column-list",onRemove:function(e){t(i.slice(0,e).concat(i.slice(e+1)))},onSortEnd:function(e){var n=e.oldIndex,r=e.newIndex;t((0,y.arrayMove)(i,n,r))}}):null),u=g.default.createElement(x.default,{onChange:function(e){t(e?[e]:e)},datasource:s||[],filterOption:function(e,t){return t.props.children.toUpperCase().indexOf(e.toUpperCase())!==-1},value:i?i[0]:i});return g.default.createElement("div",{className:"mstr-as-wrangler-column-select"},o?l:u)}}]),t}(p.Component);S.propTypes={columns:m.default.array.isRequired,onChange:m.default.func.isRequired,config:m.default.object,value:m.default.array},S.defaultProps={config:{},value:void 0},t.default=(0,b.connect)(function(e){return{columns:(0,A.selectCurrentPreviewTableColumns)(e)}})(S)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.values;return t.column&&1===t.column.length&&t.column[0]}function a(e,t){var i=!0;switch(t){case S.TYPE_VALUES.STRING:i=!1;break;case S.TYPE_VALUES.DATE:case S.TYPE_VALUES.TIMESTAMP:case S.TYPE_VALUES.TIME:i=e===S.TYPE_VALUES.BOOLEAN;break;case S.TYPE_VALUES.BOOLEAN:i=e!==S.TYPE_VALUES.STRING;break;case S.TYPE_VALUES.BYTE:case S.TYPE_VALUES.SHORT:case S.TYPE_VALUES.INTEGER:case S.TYPE_VALUES.LONG:case S.TYPE_VALUES.FLOAT:case S.TYPE_VALUES.DOUBLE:case S.TYPE_VALUES.DECIMAL:i=e===S.TYPE_VALUES.DATE||e===S.TYPE_VALUES.BOOLEAN;break;case S.TYPE_VALUES.BINARY:case S.TYPE_VALUES.CALENDAR_INTERVAL:default:i=!0}return i}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);t.shouldDisableDataType=a;var b=i(1),y=n(b),w=i(14),x=i(95),E=n(x),_=i(274),A=n(_),C=i(22),S=i(130),T=n(S);i(1786);var I=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=r(e);if(t!==r(this.props)&&e.value){var i=e.columns,n=t&&i.filter(function(e){return e.id===t}),o=n&&n.length&&n[0].type;a(e.value,o)&&this.props.onChange("")}}},{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.value,n=e.columns,o=r(this.props),l=o&&n.filter(function(e){return e.id===o}),u=l&&l.length&&l[0].type,c=T.default.map(function(e){return(0,s.default)({},e,{disabled:!(!u||!a(e.value,u)),prefix:y.default.createElement(A.default,{type:e.value})})}),d=c.every(function(e){return e.disabled});return y.default.createElement("div",{className:"mstr-as-wrangler-datatypes-select"},y.default.createElement(E.default,{disabled:d,onChange:t,datasource:c,filterOption:function(e,t){return t.props.children.toUpperCase().indexOf(e.toUpperCase())!==-1},value:i}))}}]),t}(b.Component);t.default=(0,w.connect)(function(e){return{columns:(0,C.selectCurrentPreviewTableColumns)(e)}})(I)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ERR=t.COLS=t.FNS=void 0;var r,a=i(12),o=n(a),s=t.FNS="functions",l=t.COLS="columns",u=(t.ERR="error",r={},(0,o.default)(r,s,[]),(0,o.default)(r,l,[]),r),c={string:"",start:0,line:0,valid:!1};t.default={get:function(){return u},getError:function(){return c},consumeError:function(){c.valid=!1},updateKeyWords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];u[s]=e,u[l]=t},updateError:function(e,t,i){c.string=e,c.start=t,c.line=i,c.valid=!0}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToCursor=t.highLightErrors=t.autoPopupHints=t.mstrHint=t.insertFormulas=t.setCursor=void 0;var r=i(117),a=n(r),o=i(15),s=n(o),l=i(26),u=n(l),c=i(536),d=n(c),h=i(219);i(677);var f=i(190),p=t.setCursor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=e.getDoc().getCursor();e.focus(),e.setCursor({line:i.line,ch:i.ch+t})},g=(t.insertFormulas=function(e,t){var i=e.getDoc(),n=i.getCursor(),r={line:n.line,ch:n.ch};i.replaceRange(t,r)},function(e){var t="",i=d.default.getError(),n=s.default.reduce(d.default.get(),function(e,t,i){return e.concat(s.default.reduce(t,function(e,t){return e.concat({value:t,type:i})},[]))},[]);if(i.valid&&e.lineOracle.line===i.line-1&&e.pos<=i.start&&e.match(i.string))return d.default.consumeError(),c.ERR;var r=s.default.sortBy(n,function(e){return-e.value.length});return s.default.forEach(r,function(i){e.match(i.value)&&(t=i.type)}),t});f.defineMode("mstr",function(){return{token:function(e){var t=g(e);return t.length>0?t:(e.next(),null)}}});var v=(t.mstrHint=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(i){function n(e){return"string"==typeof e?e:e.displayText}var r=i.getCursor(),a=i.getLine(r.line),o=a.substring(0,r.ch),l=s.default.findLastIndex(o,function(e){return h.punctuation.indexOf(e)>-1}),u=s.default.findLastIndex(o,function(e){return"]"===e}),c=s.default.findLastIndex(o,function(e){return"["===e});l=c>u?c:l;var d=r.ch,g=a.substring(l===-1?0:l+1,d),v=s.default.map(e,function(e){return{id:e.id,type:e.type}}),m=s.default.filter(v,function(e){return s.default.startsWith(s.default.toLower(e.id),s.default.toLower(g))});m=s.default.map(m,function(e){return{type:"column",displayText:e.id,className:e.type+" hint-column"}});var b=s.default.filter(t,function(e){return s.default.startsWith(s.default.toLower(e),s.default.toLower(g))});b=s.default.map(b,function(e){return{type:"function",displayText:e,className:"hint-function"}});var y=m.concat(b);if(i.state.completionActive.pick=function(e,t){var r=e.list[t],a=i.getValue(),o="string"==typeof a?a.split("\n"):[],s=r.from||e.from,l=r.to||e.to,u=o[s.line].charAt(s.ch-1),c=o[l.line].charAt(l.ch-1),d=/[^\w]/g.test(n(r))?""+("["===u?"":"[")+n(r)+("]"===c?"":"]"):n(r);r.hint?r.hint(this.cm,e,r):(this.cm.replaceRange(d+("function"===r.type?"()":""),r.from||e.from,r.to||e.to,"complete"),"function"===r.type&&p(i)),this.close(),f.signal(e,"pick",r)},y.length)return{list:y,from:f.Pos(r.line,l===-1?0:l+1),to:f.Pos(r.line,d)}}},t.autoPopupHints=function(e){e&&e.on("keyup",function(e,t){e.state.completionActive||h.exceptionKeyCode.indexOf(t.keyCode)!==-1&&(8!==t.keyCode||""===e.getValue())?e.state.completionActive||27!==t.keyCode||(0,u.default)(".CodeMirror-hints").hide():f.commands.autocomplete(e,null,{completeSingle:!1})})},t.highLightErrors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0),n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=e.getValue(),a="string"==typeof r?r.split("\n"):[];d.default.updateError(a[t-1].substr(i>a[t-1].length-1?a[t-1].length-1:i,n-i),i,t),v(e),e.refresh(),e.focus(),e.setCursor({line:t-1,ch:n})},function(e){var t=e.display.view,i=!0,n=!1,r=void 0;try{for(var o,l=(0,a.default)(t);!(i=(o=l.next()).done);i=!0){var u=o.value;s.default.result(u,"line.styles.length")&&(u.line.styles=[])}}catch(e){n=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw r}}});t.scrollToCursor=function(e){if(e){var t=e.getCursor();window.setTimeout(function(){e.scrollIntoView({line:t.line,ch:t.ch})},0)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILTER_EDITOR_SET_COLUMN="FILTER_EDITOR_SET_COLUMN",t.FILTER_EDITOR_SET_FUNC="FILTER_EDITOR_SET_FUNC",t.FILTER_EDITOR_SET_PARAMETER="FILTER_EDITOR_SET_PARAMETER",t.FILTER_EDITOR_CLEAR="FILTER_EDITOR_CLEAR"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilterEditingParameters=t.selectFilterEditingFunc=t.selectFilterEditingColumn=t.selectFilterEditor=void 0;var n=i(82),r=i(22),a=t.selectFilterEditor=(0,n.createSelector)(r.selectDataWranglerRoot,function(e){return e.filterEditor});t.selectFilterEditingColumn=(0,n.createSelector)(a,function(e){return e.column}),t.selectFilterEditingFunc=(0,n.createSelector)(a,function(e){return e.func}),t.selectFilterEditingParameters=(0,n.createSelector)(a,function(e){return e.parameters})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderableList=void 0;var r=i(1),a=n(r),o=i(899),s=i(8),l=n(s);i(1803);var u=(t.OrderableList=(0,o.SortableContainer)(function(e){var t=e.results,i=void 0===t?[]:t,n=e.ordered,r=e.onRemove,o=e.listCss;return a.default.createElement("ul",{className:o},i.map(function(e,t){return a.default.createElement(u,{result:e,index:t,ordered:n,sortedIndex:t,key:e,disabled:!n,onRemove:r})}))}),(0,o.SortableElement)(function(e){var t=e.result,i=e.sortedIndex,n=e.ordered,r=e.onRemove;return a.default.createElement("li",{className:(0,l.default)("result-capsule",{ordered:n})},a.default.createElement(c,null),t," ",a.default.createElement("div",{className:"remove",onClick:function(e){return r(i),e.stopPropagation(),!1}}))})),c=(0,o.SortableHandle)(function(){return a.default.createElement("span",{className:"result-drag-handle"})})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.SEPARATOR_OTHER="OTHER",n=t.SEPARATOR_REGULAR_EXPRESSION="REGEX";t.SeparatorList=[{id:1,text:"Comma",value:","},{id:2,text:"Tab",value:"\t"},{id:3,text:"Space",value:" "},{id:4,text:"Newline",value:"\n"},{id:5,text:"Pipe",value:"|"},{id:6,text:"Period",value:"."},{id:7,text:"Regex",value:n},{id:8,text:"Customize",value:i}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e?void 0:"Field must not be empty!"}function a(e){var t=(0,L.selectDWExpFormValues)(e);return{tableId:(0,L.selectCurrentPreviewTableId)(e),columns:(0,L.selectCurrentPreviewTableColumns)(e),vals:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.COLUMN_FIELD=void 0;var o=i(30),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=i(14),_=i(178),A=i(15),C=n(A),S=i(129),T=n(S),I=i(1144),D=n(I),O=i(67),M=n(O),k=i(1119),N=n(k),P=i(267),L=i(22),R=i(126),F=i(358);i(1808);var j=i(265),B=t.COLUMN_FIELD="column",H=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"handleApply",value:function(){this.submit(this.props.vals)}},{key:"submit",value:function(e){var t=e.funcStr,i=(0,s.default)(e,["funcStr"]),n=(0,F.getExpressionByFuncStr)(t);n&&((0,P.executeTransform)((0,P.newTransform)(n.func,i)),this.resetForm())}},{key:"resetForm",value:function(){this.props.reset()}},{key:"onSubmit",value:function(e){return this.handleApply(),e.preventDefault(),e.stopPropagation(),!1}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.vals,n=t.tableId,r=t.valid;if(e!==this.props){var a=i.funcStr,o=(0,s.default)(i,["funcStr"]),l=(0,F.getExpressionByFuncStr)(a);r&&l&&l.parameters.every(function(e){return void 0!==i[e.field]||e.optional})?setTimeout(this.props.handleSubmit(function(){(0,P.previewOnSuggestion)((0,P.newTransform)(l.func,o),n)})):this.props.hidePopPreview(n)}}},{key:"onFunctionChange",value:function(e,t){var i=this,n=(0,F.getExpressionByFuncStr)(e),r=(0,F.getExpressionByFuncStr)(t);r&&r.parameters.forEach(function(e){(n&&n.parameters.every(function(t){return t.field!==e.field})||n&&n.parameters.some(function(t){return t.field===e.field&&"hidden"===t.type})||"hidden"===e.type)&&i.props.clearFields(L.EXP_FORM_ID,!0,!0,e.field)});var a=C.default.find(n.parameters,function(e){return e.field===B});a&&!a.multiple&&this.props.vals.column&&this.props.vals.column.length>1&&this.props.setSelectedColumns(this.props.vals.column.slice(0,1))}},{key:"onFieldBlur",value:function(e,t){this.props.touch(t),e.preventDefault()}},{key:"render",value:function(){var e=this,t=this.props,i=t.handleSubmit,n=t.valid,a=t.vals,o=t.change,s=(t.columns,a.funcStr),l=(0,F.getExpressionByFuncStr)(s),u=!(!n||!s);return y.default.createElement("form",{onSubmit:i(function(t){return e.submit(t)}),className:"mstr-as-wrangler-exp-form"},y.default.createElement("div",{className:"form-fields"},y.default.createElement(M.default,{name:"funcStr",control:D.default,config:{label:"Function",value:s,type:"wrangler-func"},onChange:function(t,i,n){e.onFunctionChange(i,n)},onBlur:function(t){return e.onFieldBlur(t,"funcStr")}}),l&&l.parameters.map(function(t){var i=t.type,n=t.field,s=t.validate,l=t.optional,u=N.default[i];return s||l||(s=r),u&&y.default.createElement(u,{name:n,validate:s,config:t,key:t.field,curValue:a[n],formValueChangeHandler:function(e,t){o(e,t)},values:a,onBlur:function(t){return e.onFieldBlur(t,n)}})})),y.default.createElement("div",{className:"form-buttons"},y.default.createElement(T.default,{type:"secondary",onClick:function(){return e.resetForm()}},"Clear"),y.default.createElement(T.default,{type:"primary",htmlType:"submit",onClick:function(){return e.handleApply()},enabled:u},"Apply")))}}]),t}(b.Component);H.propTypes={tableId:x.default.string.isRequired,reset:x.default.func.isRequired,change:x.default.func.isRequired,touch:x.default.func.isRequired,handleSubmit:x.default.func.isRequired,vals:x.default.object,setSelectedColumns:x.default.func.isRequired,hidePopPreview:x.default.func.isRequired},H.defaultProps={vals:{}},t.default=(0,E.connect)(a,{clearFields:_.clearFields,setSelectedColumns:R.setSelectedColumns,hidePopPreview:j.hidePopPreview})((0,_.reduxForm)({form:L.EXP_FORM_ID,getFormState:L.selectDWExpForm})(H))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SHOW_POP_PREVIEW="SHOW_POP_PREVIEW",t.HIDE_POP_PREVIEW="HIDE_POP_PREVIEW"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectPopColumn=t.selectPopShowed=t.selectPopPreview=void 0;var n=i(82),r=i(22),a=t.selectPopPreview=(0,n.createSelector)(r.selectDataWranglerRoot,function(e){return e.pop});t.selectPopShowed=(0,n.createSelector)(a,function(e){return e.show}),t.selectPopColumn=(0,n.createSelector)(a,function(e){return e.baseColumn})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.wranglerEngine=void 0;var r=i(46),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(222),d=n(c),h=i(115),f=i(26),p=n(f),g=i(363),v=function(){function e(){(0,s.default)(this,e),this.dwe=d.default,this.tableData=void 0,this.tableId=void 0,this.dwDataCopy=[],this.dwHeaderCopy=[]}return(0,u.default)(e,[{key:"init",value:function(e,t){this.DATA_GRID_ID="derivedtableview_"+t,(0,h.$$)(this.DATA_GRID_ID)&&(this.tableData=e,this.tableId=t,this.updateTableData(e),this.dataWrangle(this.dwDataCopy,[]))}},{key:"updateTableData",value:function(e){var t,i;this.dwDataCopy.splice(0),(t=this.dwDataCopy).push.apply(t,(0,a.default)(e.data)),this.dwHeaderCopy.splice(0),(i=this.dwHeaderCopy).push.apply(i,(0,a.default)(e.header))}},{key:"getTableId",value:function(){return this.tableId}},{key:"getTableDataTimestamp",value:function(){return this.tableData.timestamp}},{key:"dispose",value:function(){this.tableData=null,this.dwDataCopy=[],this.dwHeaderCopy=[]}},{key:"dataWrangle",value:function(e,t){console.log("start dw"),d.default.wrangler({tableContainer:(0,h.$$)(this.DATA_GRID_ID),table:e,previewContainer:(0,h.$$)(g.POPUP_PREVIEW_GRID_ID),initialTransforms:t,previewDataTable:(0,h.$$)(g.POPUP_PREVIEW_GRID_ID),columnsName:this.dwHeaderCopy,editorContainer:(0,p.default)("#RecommendationPanelId"),scriptContainer:(0,p.default)("#HistoryPanelId")})}}]),e}();t.wranglerEngine=new v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APPLY_BUTTON_ENABLED="APPLY_BUTTON_ENABLED",t.APPLY_BUTTON_DISABLE="APPLY_BUTTON_DISABLE"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOGGLE_JOIN_PANEL="TOGGLE_JOIN_PANEL",t.FETCH_JOIN_RECOMMENDATIONS="FETCH_JOIN_RECOMMENDATIONS",t.LOAD_JOIN_CONTEXT="LOAD_JOIN_CONTEXT",t.LOAD_JOIN_INFO_PREVIEW="LOAD_JOIN_INFO_PREVIEW",t.APPLY_JOIN="APPLY_JOIN",t.RESET_JOIN_PANEL="RESET_JOIN_PANEL",t.SET_DERIVED_TAB_NAME="SET_DERIVED_TAB_NAME",t.JOIN_OPERATION_COMPLETED="JOIN_OPERATION_COMPLETED",t.EDIT_JOIN_TYPE="EDIT_JOIN_TYPE",t.QUICK_VIEW_JOIN="QUICK_VIEW_JOIN",t.JOIN_OPERATION_EDITED="JOIN_OPERATION_EDITED",t.JOIN_CONDITION_UPDATED="JOIN_CONDITION_UPDATED",t.SET_JOIN_PROGRESS="SET_JOIN_PROGRESS",t.UNSET_JOIN_PROGRESS="UNSET_JOIN_PROGRESS"},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function i(e){var t=!0;return e.forEach(function(e){e.leftCol&&e.rightCol&&(t=!1)}),t}if(!i(e)&&d.tableJoinManager.currentJoinLeftTable&&d.tableJoinManager.currentJoinRightTable){var n=t||d.tableJoinManager.currentJoinType;l([],[],!0),(0,h.previewJoinDataService)(g.workspaceManager.initialWorkspaceId,n,d.tableJoinManager.currentJoinLeftTable.id,d.tableJoinManager.currentJoinRightTable.id,e,{success:s,error:function(){return l([],[],!1,!0)}}).then(function(e){if(e)if(d.tableJoinManager.currentJoin={},d.tableJoinManager.currentJoin.requestId=e.requestId,g.workspaceManager.currentJoinPreviewRequestId=e.requestId,d.tableJoinManager.currentJoin.jobId=null,e.status===p.SERVICE_RESPONSE_TYPE_IMMEDIATE)try{var t=e.results[0],i=o(t.header),n=(0,b.transformRows)(t,i);d.tableJoinManager.currentJoin.previewResult=n,d.tableJoinManager.currentJoin.previewHeader=i,l(n,i,!1)}catch(e){l([],[],!1),v.webix.alert({type:"alert-error",text:"Error: No Data"})}else e.status===p.SERVICE_RESPONSE_TYPE_DELAYED?(d.tableJoinManager.currentJoin.dpWorkerCount=0,d.tableJoinManager.currentJoin.jobId=e.jobId):e.status&&e.status.toUpperCase()===m.JOB_STATUS.ERROR&&l([],[],!1,!0)}).catch(function(e){l([],[],!1,!0)})}else l([],[],!1)}function o(e){for(var t=[],i=0;i<e.length;i++){var n,r;"object"===(0,c.default)(e[i])?(n=e[i].name,r=e[i].datatype?e[i].datatype:""):n=e[i];var a={id:n,type:r,header:[{text:"<div class='grid-column-header'><div class='table-header-text col-name-row'><div class='header-data-type-icon "+_(n,e)+"'></div><div class='text-wrapper '>"+w.default.escape(n)+"</div></div></div>",height:26},{content:E,elId:"join-column-"+i,height:86}],width:x.gridColumnWidth,facetId:"join-column-"+i};t.push(a)}return t}function s(e){var t=d.tableJoinManager.currentJoin;if(e&&e.results){var i=e.results[0];t.previewHeader=t.previewHeader?t.previewHeader:o(i.header),t.previewResult=t.previewResult?t.previewResult:[];var n=(0,b.transformRows)(i,t.previewHeader);[].push.apply(t.previewResult,n),++t.dpWorkerCount,1===t.dpWorkerCount||e.totalWorkerNodes===t.dpWorkerCount?l(t.previewResult,t.previewHeader,!1):l(t.previewResult,t.previewHeader,!1,!1,m.joinDataEvent.DELAY);
}}function l(e,t,i,n,r){var a={header:t,data:e,loading:i,offline:n,eventType:r||m.joinDataEvent.PREVIEW};m.joinDataSubject.onNext(a)}Object.defineProperty(t,"__esModule",{value:!0});var u=i(35),c=r(u);t.previewJoinData=a,t.createDatagridHeaders=o,t.processDelayedJoinData=s;var d=i(369),h=i(133),f=i(87),p=n(f),g=i(20),v=i(115),m=i(47),b=i(116),y=i(15),w=r(y),x=i(186),E="joinFacetContainer",_=function(e,t){return t?t.filter(function(t){return t.name===e})[0].datatype:""}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EXPAND_DS_DROPDOWN="EXPAND_DS_DROPDOWN",t.COLLAPSE_DS_DROPDOWN="COLLAPSE_DS_DROPDOWN",t.SET_DATASOURCE_SEARCH_PATTERN="UPDATE_SEARCH_PATTERN",t.SET_CURRENT_DATASOURCE="SET_CURRENT_DATASOURCE",t.SET_CURRENT_TABLE_FILTERING_STATUS="SET_CURRENT_TABLE_FILTERING_STATUS"},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return{type:c.SET_DATASOURCE_SEARCH_PATTERN,pattern:e}}function a(e){return{type:c.SET_CURRENT_DATASOURCE,dsId:e}}function o(e){return{type:c.SET_CURRENT_TABLE_FILTERING_STATUS,tableFilteringStatus:e}}function s(){return{type:c.EXPAND_DS_DROPDOWN}}function l(){return{type:c.COLLAPSE_DS_DROPDOWN}}Object.defineProperty(t,"__esModule",{value:!0}),t.setDataSourceSearchPattern=r,t.setCurrentDataSource=a,t.setCurrentTableFilteringStatus=o,t.expandDsdropdown=s,t.collapseDsdropdown=l;var u=i(549),c=n(u)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(180),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(251);var v=i(1),m=n(v),b=i(5),y=n(b);i(1828);var w=i(8),x=n(w),E=i(48),_=i(151),A=n(_),C=i(185),S=n(C),T=i(132),I=n(T),D=i(150),O=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.toggle=i.props.toggle&&i.props.toggle.bind(i),i.handleMenuClick=i.handleMenuClick.bind(i),i.addTable=i.addTable.bind(i),i.addFreeFormSQL=i.addFreeFormSQL.bind(i),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"addTable",value:function(){var e=this.props,t=e.dbrId,i=e.datasourceType;i!==E.DBTYPES.DERIVED_TABLES.v&&((0,E.isHadoopType)(i)?I.default.openHadoopTableList(t):I.default.openDBTableList(t))}},{key:"addFreeFormSQL",value:function(){var e=this.props,t=e.dbrId,i=e.datasourceType;i!==E.DBTYPES.DERIVED_TABLES.v&&((0,E.isHadoopType)(i)?I.default.openHadoopFFSQL(t):I.default.openFFSQL(t))}},{key:"handleMenuClick",value:function(e){var t=e.key;this[t]&&this[t]()}},{key:"render",value:function(){var e=this.props,t=e.connectionName,i=e.datasourceType,n=e.rowStyle,r=e.tooltip,o=e.hasMenu,s=(0,x.default)("datasource-ds-icon","datasource","ds-"+i),l=m.default.createElement(A.default,{onClick:this.handleMenuClick},m.default.createElement(A.default.Item,{key:"addTable"},"Add Tables"),m.default.createElement(A.default.Item,{key:"addFreeFormSQL"},"Add Free Form SQL")),u=m.default.createElement("div",{className:n,onDoubleClick:this.addTable,title:r},m.default.createElement("span",{className:(0,x.default)("data-source-color-indicator"),style:{backgroundColor:D.dataSouceColorPallette.getTableIconColor(i)}}),this.toggle?m.default.createElement("div",{className:"toggle-arrow",onClick:this.toggle}):"",m.default.createElement("div",{className:"ds-image-container"},m.default.createElement("div",{className:s})),m.default.createElement("div",{className:"ds-connection-div"},m.default.createElement("div",{className:"ds-connection-name"},t)),o?m.default.createElement(a.default,{overlay:l,trigger:["click"],align:{offset:[0,3]}},m.default.createElement("div",{className:"more"})):"");return o&&(u=m.default.createElement(S.default,{menu:l},u)),u}}]),t}(v.Component);O.propTypes={toggle:y.default.func,connectionName:y.default.oneOfType([y.default.string,y.default.object]),datasourceType:y.default.number.isRequired,dbrId:y.default.string.isRequired,tooltip:y.default.string,hasMenu:y.default.bool},O.defaultProps={hasMenu:!0},t.default=O},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(326),w=n(y),x=i(1251),E=n(x),_=i(20),A=i(48),C=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.dbClickTable=i.dbClickTable.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"dbClickTable",value:function(e){e.datasource.type!==A.DBTYPES.DERIVED_TABLES.v&&_.workspaceManager.addTables([e])}},{key:"render",value:function(){var e=this.props,t=e.tables,i=e.showDatasource,n=this.props.tables.sort(function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}),r=this.dbClickTable;return g.default.createElement("div",null,g.default.createElement(w.default,{length:t.length,itemRenderer:function(e,t){var a=n[e];return g.default.createElement(E.default,{key:t,table:a,showDatasource:i,dbClick:function(){return r(a)}})},type:"simple"}))}}]),t}(p.Component);C.propTypes={tables:m.default.array,showDatasource:m.default.bool},t.default=(0,b.connect)(null,null)(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=[];return t.map(function(t){i.push((0,c.default)({},t,{initName:t.name,key:t.key||a(e,t)}))}),h.default.uniqBy(i,function(e){return e.key})}function a(e,t){var i=f.TABLE_UNIQUE_PROPERTIES[e]?f.TABLE_UNIQUE_PROPERTIES[e]:t.sql?f.TABLE_UNIQUE_PROPERTIES.FFSQL:f.TABLE_UNIQUE_PROPERTIES.DATABASE,n=[];for(var r in i)i[r]&&n.push(t[r]);return n.join("+")}function o(e,t){var i=e.slice(0);return t.map(function(t,n){!h.default.find(e,["key",t.key])&&i.push(l(i,t))}),i}function s(e,t,i){var n=f.TABLE_UNIQUE_PROPERTIES[e]?f.TABLE_UNIQUE_PROPERTIES[e]:i.sql?f.TABLE_UNIQUE_PROPERTIES.FFSQL:f.TABLE_UNIQUE_PROPERTIES.DATABASE;for(var r in n)if(n[r]&&t[r]!==i[r])return!1;return!0}function l(e,t){var i=[];e.map(function(e,n){e.initName===t.initName&&i.push(e.idx?e.idx:1)}),i.sort();for(var n=1,r=0;r<i.length&&i[r]===n;r++)n++;return 1!==n&&(t.idx=n,t.name=t.name+" ("+n+")"),t}Object.defineProperty(t,"__esModule",{value:!0});var u=i(7),c=n(u);t.uniqTables=r,t.tableKeyConstructor=a,t.tableSplice=o,t.isTableEqual=s,t.tableRename=l;var d=i(15),h=n(d),f=i(1281)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return[].concat((0,b.default)(e),[(0,v.default)({},t,{tables:(0,T.tableSplice)([],(0,T.uniqTables)(t.type,t.tables))})])}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return e.map(function(e){return e.id===t.id?(0,v.default)({},t):e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=e.find(function(e){return e.id===t.id});if(i){var n=(0,T.tableSplice)(i.tables,(0,T.uniqTables)(i.type,t.tables));return o(e,(0,v.default)({},t,{tables:n}))}return a(e,t)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.UPDATE_SELECTED_TABLE;return e.map(function(e){var n=t.filter(function(t){return t.dsid==e.id}),r=e.tables.map(function(e){var t=n.find(function(t){return t.key===e.key});switch(i){case E.ADD_SELECTED_TABLE:return t?(0,v.default)({},e,{isSelected:!0}):e;case E.UPDATE_SELECTED_TABLE:return(0,v.default)({},e,{isSelected:!!t});case E.REMOVE_SELECTED_TABLE:return t?(0,v.default)({},e,{isSelected:!1}):e}});return(0,v.default)({},e,{tables:r})})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){var t=e.tables.map(function(e){return(0,v.default)({},e,{isSelected:!1})});return(0,v.default)({},e,{tables:t})})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e;switch(t.type){case E.ADD_DATASOURCE:return a(e,t.datasource);case E.UPDATE_DATASOURCE:return o(e,t.datasource);case E.REMOVE_TABLES_FROM_DATASOURCE:var n=t.tables;return i.map(function(e){var t=e.tables;return n.forEach(function(i){e.id===i.datasource.id&&(t=t.filter(function(e){return!(i.name===e.name&&i.ns===e.ns)}))}),(0,v.default)({},e,{tables:t})}).filter(function(e){return e.tables.length});case E.ADD_OR_UPDATE_DATASOURCE:return s(i,t.datasource);case E.EXPAND_DATASOURCE:return i.map(function(e){return e.id===t.dsId?(0,v.default)({},e,{expanded:!0}):e});case E.COLLAPSE_DATASOURCE:return i.map(function(e){return e.id===t.dsId?(0,v.default)({},e,{expanded:!1}):e});case E.EXPAND_ALL_DATASOURCE:return i.map(function(e){return(0,v.default)({},e,{expanded:!0})});case E.COLLAPSE_ALL_DATASOURCE:return i.map(function(e){return(0,v.default)({},e,{expanded:!1})});case A.DP_SET_WSDEFINITION:var r=t.value.pipelines,c=[];r.forEach(function(e){var t=e.tableGroup;c=c.concat(d(t))});var f={id:""+S.DBTYPES.DERIVED_TABLES.v,name:S.DBTYPES.DERIVED_TABLES.n,type:S.DBTYPES.DERIVED_TABLES.v,expanded:!0,tables:c},p=i.find(function(e){return e.id===f.id});return p?c.length?o(i,f):i.filter(function(e){return e.id!==f.id}):c.length?[].concat((0,b.default)(i),[f]):i;case _.FETCH_ALL_DATASOURCE_LIST_SUCCESS:return i.map(function(e){var i=w.default.find(t.allDatasources,function(t){return t.did===e.id});return(0,v.default)({},e,{name:i&&i.n||e.name})});case E.UPDATE_SELECTED_TABLE:return l(i,t.tables);case E.ADD_SELECTED_TABLE:return l(i,t.tables,E.ADD_SELECTED_TABLE);case E.REMOVE_SELECTED_TABLE:return l(i,t.tables,E.REMOVE_SELECTED_TABLE);case E.CLEAN_SELECTED_TABLE:return u(i);case E.SET_TABLES_PENDING_STATUS:return h(i,t.tables,1);case E.UNSET_TABLES_PENDING_STATUS:return h(i,t.tables,-1);default:return e}}function d(e){var t=[];return e.objectType===C.TABLE_GROUP_TYPE&&(e.groupType!==C.GROUP_TYPE_ROOT&&t.push({id:e.id,name:e.name,used:!0}),(0,p.default)(e.tables).forEach(function(i){var n=e.tables[i];t=t.concat(d(n,t))})),t}function h(e,t,i){var n=e;return t.forEach(function(e){n=n.map(function(t){return t.id===e.dsId?(0,v.default)({},t,{tables:t.tables.map(function(t){var n=t.pending||0;return t.name===e.name&&t.ns===e.namespace?(0,v.default)({},t,{pending:n+i}):t})}):t})}),n}Object.defineProperty(t,"__esModule",{value:!0});var f=i(28),p=r(f),g=i(7),v=r(g),m=i(46),b=r(m);t.default=c;var y=i(15),w=r(y),x=i(366),E=n(x),_=i(367),A=i(370),C=i(373),S=i(48),T=i(553),I=[]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLOSE_ALERT_DIALOG="CLOSE_ALERT_DIALOG",t.OPEN_ALERT_DIALOG="OPEN_ALERT_DIALOG"},function(e,t){"use strict";function i(e){r=e}function n(){r&&r(),r=null}Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOk=i,t.execute=n;var r=null},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1285),w=n(y),x=i(273),E=i(556),_=i(271),A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onOK=i.onOK.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onOK",value:function(){this.props.dispatch((0,_.closeAlertDialog)()),(0,E.execute)()}},{key:"render",value:function(){var e=this.props.config,t=e.message,i=e.okText,n=e.title,r=e.details,a=e.open;return g.default.createElement(w.default,{message:t,onOK:this.onOK,onCancel:this.onCancel,okText:i,title:n,details:r,open:a})}}]),t}(p.Component);A.propTypes={config:m.default.object.isRequired};var C=function(e){return{config:(0,x.selectAlertDialog)(e)}};t.default=(0,b.connect)(C,null)(A)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLOSE_CONFIRM_DIALOG="CLOSE_CONFIRM_DIALOG",t.OPEN_CONFIRM_DIALOG="OPEN_CONFIRM_DIALOG"},function(e,t){"use strict";function i(e){s.ok=e}function n(e){s.cancel=e}function r(){o("ok")}function a(){o("cancel")}function o(e){var t=s[e];t&&t(),s[e]=null}Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOk=i,t.subscribeCancel=n,t.executeOk=r,t.executeCancel=a;var s={ok:null,cancel:null}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLOSE_CUBEPUBLISH_DIALOG="CLOSE_CUBEPUBLISH_DIALOG",t.OPEN_CUBEPUBLISH_DIALOG="OPEN_CUBEPUBLISH_DIALOG"},559,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return function(t){(0,l.subscribeOk)(e.okAction),(0,l.subscribeCancel)(e.cancelAction),t({type:s.OPEN_CUBEPUBLISH_DIALOG,config:e})}}function a(e){return function(e){e({type:s.CLOSE_CUBEPUBLISH_DIALOG})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openCubePublishDialog=r,t.closeCubePublishDialog=a;var o=i(560),s=n(o),l=i(561)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CLOSE_FEATUREFLAG_DIALOG="CLOSE_FEATUREFLAG_DIALOG",t.OPEN_FEATUREFLAG_DIALOG="OPEN_FEATUREFLAG_DIALOG"},559,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return function(t){(0,l.subscribeOk)(e.okAction),(0,l.subscribeCancel)(e.cancelAction),t({type:s.OPEN_FEATUREFLAG_DIALOG,config:e})}}function a(e){return function(e){e({type:s.CLOSE_FEATUREFLAG_DIALOG})}}Object.defineProperty(t,"__esModule",{value:!0}),t.openFeatureFlagDialog=r,t.closeFeatureFlagDialog=a;var o=i(563),s=n(o),l=i(564)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(584),a=n(r),o=i(583),s=n(o),l=i(55),u=n(l),c=i(86),d=i(38),h=i(272),f=i(29),p=i(15),g=n(p),v="mstr-as-save"+(new Date).getTime(),m=function(e,t){return(0,f.dispatchAction)((0,h.toggleLoading)({show:!0,blur:!1,text:"Check duplicated name..."})),(0,c.task)("searchMetadata",(0,u.default)({sessionState:mstrAppSchema.sessionState,styleName:"MojoFolderStyle",includeAncestorInfo:!1,includeObjectDesc:!1,fields:"name",recursive:0},e)).then(function(e){return(0,f.dispatchAction)((0,h.toggleLoading)({show:!1})),!(!e||!e.items)}).catch(function(e){(0,f.dispatchAction)((0,h.toggleLoading)({show:!1})),(0,f.dispatchAction)((0,d.showErrorDialog)(mstrmojo.desc(13071,"Error in saving the cube.")),e.message)})},b=function(){var e=(0,s.default)(a.default.mark(function e(t){var i,n,r,o,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.contPanel,n=this.ob.currentFolder,r=i.name.value,this.name=i.name.value,this.desc=i.desc.value,this.folderID=n.did,o={rootFolderID:n.did,searchPattern:r,objectType:this.browsableTypes,nameWildcards:0},this.ob.enableQuickSearch&&(o.quickSearch=this.ob.enableQuickSearch),this.name){e.next=11;break}return mstrmojo.alert(mstrmojo.desc(3380,"Please enter valid name")),e.abrupt("return");case 11:if(s=g.default.some(n.items,function(e){return 3===e.t&&e.n.toUpperCase()===r}),e.t0=s,e.t0){e.next=17;break}return e.next=16,m(o,r);case 16:e.t0=e.sent;case 17:if(s=e.t0,!s){e.next=21;break}return mstrmojo.warn(mstrmojo.desc(12908,"The name #### already exists. Do you want to replace the existing one?").replace("####",this.name),{confirmBtn:{t:mstrmojo.desc(1442,"OK"),fn:function(){t()},hot:!0},cancelBtn:{t:mstrmojo.desc(221,"Cancel")}},{title:mstrmojo.desc(12377,"Saving cube with the same name"),cssClass:"workstation"}),e.abrupt("return");case 21:t();case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),y=function(e){return mstrmojo.all[v]?mstrmojo.all[v]:new mstrmojo.DI.ui.dialogs.DISaveAsDialog({cssClass:"mstrmojo-SaveAsEditor workstation",id:v,folderLinksContextId:32,saveParams:{},saveAs:function(){var t=this,i=this.contPanel,n={name:i.name.value,desc:i.desc.value,folderID:this.ob.currentFolder.did};b.call(this,function(){t.close(),e(n)})}})};t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.FUNCTIONS={SUM:"Sum",AVG:"Avg",COUNT:"Count",MAX:"Max",MIN:"Min",STDEV:"Stdev",STDEVP:"Stdevp",VAR:"Var",VARP:"VarP"};t.default=[{value:i.SUM,text:"Sum"},{value:i.AVG,text:"Average"},{value:i.COUNT,text:"Count"},{value:i.MAX,text:"Max"},{value:i.MIN,text:"Min"},{value:i.STDEV,text:"Stdev"},{value:i.STDEVP,text:"Stdev Pop"},{value:i.VAR,text:"Variance"},{value:i.VARP,text:"Variance Pop"}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){return e.columns}function i(){return j.size()}function n(){return F}function r(e){return F[e]||null}function a(e,t,i){var n=F[e];n&&n.fv&&n.fv.updateContainer({container:t,facetId:n.facetId,colId:n.colId,fn:{hasGlobalFilter:$,onHeaderClick:i}})}function s(){N.forEach(function(e,t){var i=F[e.facetId];if(e.needFacet===!0){var n=document.getElementById(e.facetId);if(n){i.container=n,i.width!==e.width&&(i.width=e.width,i.fv=null,(0,h.default)(i.container).empty());var r={width:i.width-2,container:i.container,facetId:e.facetId,colId:e.id,fn:{hasGlobalFilter:$,onHeaderClick:R}};if(i.fv)i.dim?i.fv.updateContainer(r):(i.fv.updateContainer(r,!0),y(i));else{r=(0,l.default)({},r,{data:i.data,distinctCount:i.distinctCount});var a=new u.Facetviewer(r);i.data&&a.render(r),i.fv=a,y(i)}}}})}function d(){s(),setTimeout(function(){N.forEach(function(e,t){var i=F[e.facetId];i&&(clearTimeout(i.timer),i.timer=setTimeout(function(){v(e,i,V)},50))})},10)}function v(e,t,i){if(e.needFacet===!0){if(t.dim){var n=b(t);if(t.threshold!==n){t.threshold=n;var r=t.dim.group(n).list(),a=t.fv;t.data=r;var o={data:r,distinctCount:t.distinctCount};a.render(o)}}else if(e.id&&e.type){var s=j.dimension(e.id,function(t){return t[e.id]},e.type);F[e.facetId].dim=s,F[e.facetId].column=e,t.distinctCount=t.dim.group("all").size();var l=t.fv,u=A(l.getMaxBinCount());t.threshold=u;var c=t.dim.group(u).list();t.data=c;var d={data:c,distinctCount:t.distinctCount};l.render(d)}}else t.dim&&t.dim.hasFilter()===!1&&(t.dim.dispose(),t.dim=null);i()}function m(){return!N.some(function(e){var t=F[e.facetId];return e.needFacet===!0&&!t.dim})}function b(e){if(e&&e.fv)return A(e.fv.getMaxBinCount(e.width-2));throw new Error("Invalid facetConfig or no facetviewr exist")}function y(e){if(e&&e.fv){var t=e.fv.getParent();t&&(t.facetId=e.facetId,t.addEventListener("filterSelected",U),t.addEventListener("filterUnselected",W),t.addEventListener("facetReset",z),t.addEventListener("facetResetAll",G))}}function w(e){if(e&&e.fv){var t=e.fv.getParent();t&&(t.removeEventListener("filterSelected",U),t.removeEventListener("filterUnselected",W),t.removeEventListener("facetReset",z),t.removeEventListener("facetResetAll",G))}}function x(e){L=e,e(j.listFiltered(),N,"onFilter")}function E(){return j&&j.hasFilter()===!0?j.listFiltered():j.list()||[]}function _(){N.forEach(function(e){var t=F[e.facetId];(e.needFacet===!0||t.dim&&t.dim.hasFilter()===!0)&&(t.data=t.dim.group(t.threshold).list(),t.fv.rerender(t.data))}),(0,f.dispatchAction)((0,p.updateFacetFilter)())}function A(e){return e<24?20:e<30?24:e<40?30:e<60?40:60}function C(){j&&j.disposeAll(),N.forEach(function(e){e.fv&&e.fv.dispose(),w(F[e.facetId])})}function S(e){return j.getDimension(e)}function T(e,t){var i=S(e);t&&i&&(i.addFilterGroup(t),_(),B(j.listFiltered(),N,"onFilter"))}function I(e,t){var i=S(e);t&&i&&("low"in t&&"high"in t?i.addFilter({low:t.low,high:t.high}):t.sc?i.addFilter({sc:t.sc}):"key"in t&&i.addFilter({key:t.key}),_(),B(j.listFiltered(),N,"onFilter"))}function D(e,t){var i=S(e);t&&i&&("low"in t&&"high"in t?i.removeFilter({low:t.low,high:t.high}):t.sc?i.removeFilter({sc:t.sc}):"key"in t&&i.removeFilter({key:t.key}),_(),B(j.listFiltered(),N,"onFilter"))}function O(e){var t=S(e);t&&(t.clearFilters(),_(),B(j.listFiltered(),N,"onFilter"))}function M(){var e=[];if(j&&j.getAllDimensions().forEach(function(t){if(t){var i=t.getFilterExpression();i&&e.push(i)}}),1===e.length)return e[0];if(e.length>1){var t={type:"func",funcName:"And"};return t.args=e,t}return null}var k={renderFacet:d,updateCallback:x,getCurrentData:E,dispose:C,getHeader:t,getFacetConfigs:n,getFacetConfig:r,getDim:S,addFilter:I,removeFilter:D,resetFilters:O,addFilterGroup:T,getFilterExpression:M,tableSize:i,updateContainer:a},N=e.columns,P=e.data,L=e.callback,R=e.onHeaderClick,F={},j=(0,c.rangefilter)(P),B=function(e,t,i){return L(e,t,i)},H=void 0;N.forEach(function(t){e.oldFacetConfigs&&e.oldFacetConfigs[t.facetId]?F[t.facetId]={width:t.width,facetId:t.facetId,colId:t.id,fv:e.oldFacetConfigs[t.facetId].fv}:F[t.facetId]={width:t.width,facetId:t.facetId,colId:t.id}});var V=function(){(0,g.selectDW)((0,f.getAllState)()).showWrangler===!0&&m()&&(clearTimeout(H),H=setTimeout(function(){return(0,f.dispatchAction)((0,p.updateFacetFilter)())},50))},U=function(e){var t=F[e.target.facetId].dim;if(t){var i=e.detail.item;"low"in i&&"high"in i?t.addFilter({low:i.low,high:i.high}):i.sc?t.addFilter({sc:i.sc}):"key"in i&&t.addFilter({key:i.key}),_(),B(j.listFiltered(),N,"onFilter")}},W=function(e){var t=F[e.target.facetId].dim;if(t){var i=e.detail.item;"low"in i&&"high"in i?t.removeFilter({low:i.low,high:i.high}):i.sc?t.removeFilter({sc:i.sc}):"key"in i&&t.removeFilter({key:i.key}),_(),B(j.listFiltered(),N,"onFilter")}},z=function(e){var t=F[e.target.facetId].dim;t&&(t.clearFilters(),_(),B(j.listFiltered(),N,"onFilter"))},G=function(e){(0,o.default)(F).forEach(function(e){var t=F[e];t&&t.dim&&t.dim.hasFilter()&&t.fv&&(t.fv.resetSelection(),t.dim.clearFilters())}),_(),B(j.list(),N,"onFilter")},$=function(e){var t=F[e];return!(!t||!t.dim)&&j.hasGlobalFilter(t.dim)};return k}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=n(a),s=i(7),l=n(s);t.facetBuilder=r;var u=i(573),c=i(1319),d=i(26),h=n(d),f=i(29),p=i(356),g=i(22)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1293),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(333),a=n(r),o=i(257),s=n(o),l=i(7),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(490),i(344);var w=i(1),x=n(w),E=i(5),_=n(E),A=i(8),C=n(A),S=i(10),T=n(S);i(1856);var I="YYYY-MM-DD",D="HH:mm:ss",O=I+" "+D,M=function(e){function t(){return(0,f.default)(this,t),(0,m.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props,t=e.disableDate,i=e.className,n=e.showTime,r=e.formattedValue,o=(0,C.default)("mstr-as-date-time-picker",i),l=t?D:n?O:I;if(t){return x.default.createElement(s.default,(0,u.default)({},this.props,{className:o,popupClassName:"mstr-as-date-time-picker-time-popup",format:l,placeholder:l,value:r?(0,T.default)(r,l):null,allowEmpty:!1}))}return x.default.createElement(a.default,(0,u.default)({},this.props,{dropdownClassName:"mstr-as-date-time-picker-dropdown",className:(0,C.default)(o,{"show-time":n}),showToday:!1,format:l,placeholder:l,allowClear:!1,value:r?(0,T.default)(r,l):null}))}}]),t}(w.Component);t.default=M,M.props={className:_.default.string,disableDate:_.default.bool,showTime:_.default.bool},M.defaultProps={className:"",disableDate:!1,showTime:!0}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1313),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(338),a=n(r),o=i(7),s=n(o),l=i(30),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(501);var w=i(1),x=n(w),E=i(5),_=n(E);i(1865);var A=function(e){function t(){return(0,f.default)(this,t),(0,m.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props,t=e.text,i=e.children,n=(0,u.default)(e,["text","children"]),r=x.default.createElement("div",{className:"text-style"},t);return x.default.createElement(a.default,(0,s.default)({overlayClassName:"app-tooltip",align:{offset:[0,2]},content:r},n),i)}}]),t}(w.Component);A.propTypes={text:_.default.string,children:_.default.any},A.defaultProps={mouseEnterDelay:.4},t.default=A},function(e,t,i){var n,r,a;(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var s=i(579),l=o(s),u=i(1339),c=o(u),d=i(1338),h=o(d),f=i(580),p=o(f),g=i(385),v=o(g),m=i(55),b=o(m),y=i(578),w=o(y),x=i(280),E=o(x),_=i(581),A=o(_),C=i(28),S=o(C),T=i(281),I=o(T),D=i(35),O=o(D);!function(o,s){if("object"===(0,O.default)(t)&&"object"===(0,O.default)(e))e.exports=s(i(26),i(15));else{r=[i(26),i(15)],n=s,a="function"==typeof n?n.apply(t,r):n,!(void 0!==a&&(e.exports=a))}}(void 0,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||(0,I.default)(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=145)}([function(e,t){var i=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){e.exports=!i(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},,function(e,t,i){var n=i(9),r=i(37),a=i(28),o=I.default;t.f=i(2)?I.default:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(20)("wks"),r=i(14),a=i(1).Symbol,o="function"==typeof a,s=e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:r)("Symbol."+e))};s.store=n},function(e,t,i){var n=i(1),r=i(0),a=i(36),o=i(13),s="prototype",l=function e(t,i,l){var u,c,d,h=t&e.F,f=t&e.G,p=t&e.S,g=t&e.P,v=t&e.B,m=t&e.W,b=f?r:r[i]||(r[i]={}),y=b[s],w=f?n:p?n[i]:(n[i]||{})[s];f&&(l=i);for(u in l)c=!h&&w&&void 0!==w[u],c&&u in b||(d=c?w[u]:l[u],b[u]=f&&"function"!=typeof w[u]?l[u]:v&&c?a(d,n):m&&w[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[u]=d,t&e.R&&y&&!y[u]&&o(y,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,i){var n=i(10);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===("undefined"==typeof e?"undefined":(0,O.default)(e))?null!==e:"function"==typeof e}},function(e,t,i){var n=i(25),r=i(18);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(34),r=i(21);e.exports=S.default||function(e){return n(e,r)}},function(e,t,i){var n=i(4),r=i(15);e.exports=i(2)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},,function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(20)("keys"),r=i(14);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(1),r="__core-js_shared__",a=n[r]||(n[r]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},,function(e,t,i){var n=i(18);e.exports=function(e){return Object(n(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(10),r=i(1).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){var n=i(10);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},,function(e,t){t.f=A.default},,,,function(e,t,i){var n=i(6),r=i(11),a=i(38)(!1),o=i(19)("IE_PROTO");e.exports=function(e,t){var i,s=r(e),l=0,u=[];for(i in s)i!=o&&n(s,i)&&u.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~a(u,i)||u.push(i));return u}},function(e,t,i){var n=i(17),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(40);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){e.exports=!i(2)&&!i(5)(function(){return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(11),r=i(35),a=i(39);e.exports=function(e){return function(t,i,o){var s,l=n(t),u=r(l.length),c=a(o,u);if(e&&i!=i){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},function(e,t,i){var n=i(17),r=Math.max,a=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):a(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=!0},function(e,t,i){var n=i(4).f,r=i(6),a=i(7)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},,function(e,t,i){e.exports=i(13)},,function(e,t,i){var n=i(9),r=i(47),a=i(21),o=i(19)("IE_PROTO"),s=function(){},l="prototype",u=function(){var e,t=i(27)("iframe"),n=a.length,r="<",o=">";for(t.style.display="none",i(48).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+o+"document.F=Object"+r+"/script"+o),e.close(),u=e.F;n--;)delete u[l][a[n]];return u()};e.exports=E.default||function(e,t){var i;return null!==e?(s[l]=n(e),i=new s,s[l]=null,i[o]=e):i=u(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(4),r=i(9),a=i(12);e.exports=i(2)?w.default:function(e,t){r(e);for(var i,o=a(t),s=o.length,l=0;s>l;)n.f(e,i=o[l++],t[i]);return e}},function(e,t,i){var n=i(1).document;e.exports=n&&n.documentElement},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(50),a=n(r);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);
}return e}},function(e,t,i){e.exports={default:i(51),__esModule:!0}},function(e,t,i){i(52),e.exports=i(0).Object.assign},function(e,t,i){var n=i(8);n(n.S+n.F,"Object",{assign:i(53)})},function(e,t,i){var n=i(12),r=i(30),a=i(24),o=i(23),s=i(25),l=b.default;e.exports=!l||i(5)(function(){var e={},t={},i=(0,v.default)(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||(0,S.default)(l({},t)).join("")!=n})?function(e,t){for(var i=o(e),l=arguments.length,u=1,c=r.f,d=a.f;l>u;)for(var h,f=s(arguments[u++]),p=c?n(f).concat(c(f)):n(f),g=p.length,v=0;g>v;)d.call(f,h=p[v++])&&(i[h]=f[h]);return i}:l},function(e,t,i){var n=i(1),r=i(0),a=i(41),o=i(62),s=i(4).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},,,,,,,,function(e,t,i){t.f=i(7)},function(e,t,i){var n=i(34),r=i(21).concat("length","prototype");t.f=p.default||function(e){return n(e,r)}},,,,,function(e,t,i){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(113),a=n(r);t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){e.exports={default:i(116),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Barchart=void 0;var r=i(68),a=n(r),o=i(69),s=n(o),l=i(70),u=n(l),c=(0,u.default)("createMoveListener"),d=(0,u.default)("createClickListener"),h=(0,u.default)("drawBar"),f=(0,u.default)("clearHover"),p=(0,u.default)("findItem");(0,u.default)("reDrawBar"),t.Barchart=function(){function e(t){var i=this;(0,a.default)(this,e),this.fReset=function(e){i.drawAll()},this.config=t,this.barWidth=t.barWidth||8,this.barHeight=t.height||58,this.barMargin=t.barMargin||1,this.canvas=t.canvas,this.barColor=t.barColor||"rgba(68,70,73, 0.2)",this.barFilterColor=t.barFilterColor||"#5D63D8",this.barHighlightColor=t.barHighlightColor||"rgba(93,99,216,0.12)",this.canvas&&(this.context=this.canvas.getContext("2d")),this[c](),this[d](),this.facetResetListener(),this.bar=[]}return(0,s.default)(e,[{key:"draw",value:function(){var e=this;if(this.context&&this.config.data&&this.config.data.length){var t=(this.canvas.width,0);this.config.data.forEach(function(e){t>e.maxValue||(t=e.maxValue)}),this.coEf=this.barHeight/t,this.config.data.forEach(function(t,i){var n=i*(e.barWidth+e.barMargin),r=Math.ceil(e.coEf*t.maxValue),a=e.canvas.height-r,o=Math.ceil(e.coEf*t.filterValue),s=e.canvas.height-o;t.bound={y:a,x:n,w:e.barWidth,h:r,fh:o,ft:s},e.bar.push({bound:t.bound}),e[h](t)})}}},{key:"redraw",value:function(){var e=this;this.config.data.forEach(function(t,i){e.bar[i].bound.fh=Math.ceil(e.coEf*t.filterValue),e.bar[i].bound.ft=e.canvas.height-e.bar[i].bound.fh,t.bound=e.bar[i].bound,e[h](t)})}},{key:d,value:function(){var e=this;this.canvas&&(this.canvas.onclick=function(t){var i=e[p](t.offsetX,t.offsetY);if(i){i.binFilter?i.binFilter=!i.binFilter:i.binFilter=!0,i.filterValue=1==i.binFilter?i.value:0;var n=new CustomEvent("facetClick",{detail:{item:i}});e.drawAll(),e.canvas.dispatchEvent(n)}})}},{key:c,value:function(){var e=this;if(this.canvas){var t=this.canvas.height-this.barHeight;this.canvas.onmousemove=function(i){var n=e[p](i.offsetX,i.offsetY);if(n)if(n.hover!==!0){n.hover=!0,e.context.fillStyle=e.barHighlightColor,e.context.fillRect(n.bound.x,t,e.barWidth,e.barHeight);var r=new CustomEvent("facetHover",{detail:{item:n,left:i.clientX,top:i.clientY}});e.canvas.dispatchEvent(r),e.config.data.forEach(function(i){i.hover===!0&&i!==n&&(i.hover=!1,e.context.clearRect(i.bound.x,t,e.barWidth,e.barHeight),e[h](i))})}else{var r=new CustomEvent("facetMove",{detail:{item:n,left:i.clientX,top:i.clientY}});e.canvas.dispatchEvent(r)}else e[f]()},this.canvas.onmouseout=function(t){e[f]();var i=new CustomEvent("facetExit");e.canvas.dispatchEvent(i)}}}},{key:p,value:function(e,t){var i;if(this.canvas){var n=this.canvas.height-this.barHeight;if(this.config.data&&this.config.data.length>0)for(var r=0;r<this.config.data.length;r++){var a=this.config.data[r];if(a.bound.x<=e&&e<=a.bound.x+a.bound.w&&n<=t&&t<=n+this.barHeight){i=a;break}}}return i}},{key:f,value:function(){var e=this;if(this.canvas){var t=this.canvas.height-this.barHeight;this.config.data.forEach(function(i){i.hover===!0&&(i.hover=!1,e.context.clearRect(i.bound.x,t,e.barWidth,e.barHeight),e[h](i))})}}},{key:"drawAll",value:function(){var e=this.config.data.some(function(e){return e.binFilter===!0});this.config.data.map(function(t){return t.grpFilter=e}),this.redraw()}},{key:h,value:function(e){var t=e.bound;this.context.fillStyle=this.barColor,this.context.clearRect(t.x,t.y,this.barWidth,t.h),this.clearSelectLine(e),this.context.fillRect(t.x,t.y,this.barWidth,t.h),e.binFilter===!0?(this.context.fillStyle=this.barFilterColor,this.context.fillRect(t.x,t.ft,this.barWidth,t.fh),this.showSelectLine(e)):e.globalFilter===!0&&e.grpFilter!==!0&&(this.context.fillStyle=this.barFilterColor,this.context.fillRect(t.x,t.ft,this.barWidth,t.fh))}},{key:"clearAll",value:function(){this.context&&this.canvas&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"showSelectLine",value:function(e){var t=e.bound;this.context.fillStyle=this.barFilterColor,this.context.fillRect(t.x,0,this.barWidth,2)}},{key:"clearSelectLine",value:function(e){var t=e.bound;this.context.clearRect(t.x,0,this.barWidth,2)}},{key:"facetResetListener",value:function(){this.config.container.addEventListener("facetReset",this.fReset)}},{key:"removeListener",value:function(){this.config.container.removeEventListener("facetReset",this.fReset)}}]),e}()},function(e,t,i){e.exports={default:i(114),__esModule:!0}},function(e,t,i){i(115);var n=i(0).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(8);n(n.S+n.F*!i(2),"Object",{defineProperty:i(4).f})},function(e,t,i){i(117),i(123),i(124),i(125),e.exports=i(0).Symbol},function(e,t,i){var n=i(1),r=i(6),a=i(2),o=i(8),s=i(44),l=i(118).KEY,u=i(5),c=i(20),d=i(42),h=i(14),f=i(7),p=i(62),g=i(54),v=i(119),m=i(120),b=i(9),y=i(11),w=i(28),x=i(15),E=i(46),_=i(121),A=i(122),C=i(4),S=i(12),T=A.f,I=C.f,D=_.f,M=n.Symbol,k=n.JSON,N=k&&k.stringify,P="prototype",L=f("_hidden"),R=f("toPrimitive"),F={}.propertyIsEnumerable,j=c("symbol-registry"),B=c("symbols"),H=c("op-symbols"),V=Object[P],U="function"==typeof M,W=n.QObject,z=!W||!W[P]||!W[P].findChild,G=a&&u(function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=T(V,t);n&&delete V[t],I(e,t,i),n&&e!==V&&I(V,t,n)}:I,$=function(e){var t=B[e]=E(M[P]);return t._k=e,t},q=U&&"symbol"==(0,O.default)(M.iterator)?function(e){return"symbol"==("undefined"==typeof e?"undefined":(0,O.default)(e))}:function(e){return e instanceof M},Y=function(e,t,i){return e===V&&Y(H,t,i),b(e),t=w(t,!0),b(i),r(B,t)?(i.enumerable?(r(e,L)&&e[L][t]&&(e[L][t]=!1),i=E(i,{enumerable:x(0,!1)})):(r(e,L)||I(e,L,x(1,{})),e[L][t]=!0),G(e,t,i)):I(e,t,i)},J=function(e,t){b(e);for(var i,n=v(t=y(t)),r=0,a=n.length;a>r;)Y(e,i=n[r++],t[i]);return e},K=function(e,t){return void 0===t?E(e):J(E(e),t)},X=function(e){var t=F.call(this,e=w(e,!0));return!(this===V&&r(B,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(B,e)||r(this,L)&&this[L][e])||t)},Q=function(e,t){if(e=y(e),t=w(t,!0),e!==V||!r(B,t)||r(H,t)){var i=T(e,t);return!i||!r(B,t)||r(e,L)&&e[L][t]||(i.enumerable=!0),i}},Z=function(e){for(var t,i=D(y(e)),n=[],a=0;i.length>a;)r(B,t=i[a++])||t==L||t==l||n.push(t);return n},ee=function(e){for(var t,i=e===V,n=D(i?H:y(e)),a=[],o=0;n.length>o;)!r(B,t=n[o++])||i&&!r(V,t)||a.push(B[t]);return a};U||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function t(i){this===V&&t.call(H,i),r(this,L)&&r(this[L],e)&&(this[L][e]=!1),G(this,e,x(1,i))};return a&&z&&G(V,e,{configurable:!0,set:t}),$(e)},s(M[P],"toString",function(){return this._k}),A.f=Q,C.f=Y,i(63).f=_.f=Z,i(24).f=X,i(30).f=ee,a&&!i(41)&&s(V,"propertyIsEnumerable",X,!0),p.f=function(e){return $(f(e))}),o(o.G+o.W+o.F*!U,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)f(te[ie++]);for(var ne=S(f.store),re=0;ne.length>re;)g(ne[re++]);o(o.S+o.F*!U,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=M(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!U,"Object",{create:K,defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),k&&o(o.S+o.F*(!U||u(function(){var e=M();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return t=n[1],"function"==typeof t&&(i=t),!i&&m(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!q(t))return t}),n[1]=t,N.apply(k,n)}}}),M[P][R]||i(13)(M[P],R,M[P].valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,i){var n=i(14)("meta"),r=i(10),a=i(6),o=i(4).f,s=0,l=h.default||function(){return!0},u=!i(5)(function(){return l((0,c.default)({}))}),d=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==("undefined"==typeof e?"undefined":(0,O.default)(e))?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";d(e)}return e[n].i},p=function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[n].w},g=function(e){return u&&v.NEED&&l(e)&&!a(e,n)&&d(e),e},v=e.exports={KEY:n,NEED:!1,fastKey:f,getWeak:p,onFreeze:g}},function(e,t,i){var n=i(12),r=i(30),a=i(24);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var o,s=i(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,i){var n=i(26);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(11),r=i(63).f,a={}.toString,o="object"==("undefined"==typeof window?"undefined":(0,O.default)(window))&&window&&p.default?(0,p.default)(window):[],s=function(e){try{return r(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):r(n(e))}},function(e,t,i){var n=i(24),r=i(15),a=i(11),o=i(28),s=i(6),u=i(37),c=l.default;t.f=i(2)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(54)("asyncIterator")},function(e,t,i){i(54)("observable")},,function(t,i){t.exports=e},,,,,,,,,,,,,,,,,,function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Facetviewer=void 0;var a=i(49),o=r(a),s=i(68),l=r(s),u=i(69),c=r(u),d=i(70),h=r(d),f=i(112),p=i(146),g=r(p),v=i(127),m=r(v),b=i(147),y=n(b),w="canvas",x="div",E=(0,h.default)("createParent"),_=((0,h.default)("createHeader"),(0,h.default)("createCanvas")),A=(0,h.default)("buildLayout"),C=(0,h.default)("createListener"),S=(0,h.default)("setLeftText"),T=(0,h.default)("getSelectedGroupCount"),I=t.Facetviewer=function(){function e(t){var i=this;(0,l.default)(this,e),this.resetSelection=function(){var e=[];return i.config.data.forEach(function(t){t.grpFilter=!1,t.binFilter===!0&&(e.push(t),t.binFilter=!t.binFilter)}),i[S](),e},this._onResetAll=function(e){var t=new CustomEvent("facetResetAll");e.topDiv&&e.topDiv.dispatchEvent(t)},this._toggleDropdown=function(){var e=(0,m.default)(i.dropdownButton).children("div");(0,m.default)(i.dropdownButton).hasClass("down-arrow")?((0,m.default)(i.dropdownButton).removeClass("down-arrow").addClass("up-arrow"),(0,m.default)(e).children(".reset-facet-down-arrow").css({display:"none"}),(0,m.default)(e).children(".reset-facet-up-arrow").css({display:"block"})):((0,m.default)(i.dropdownButton).removeClass("up-arrow").addClass("down-arrow"),(0,m.default)(e).children(".reset-facet-down-arrow").css({display:"block"}),(0,m.default)(e).children(".reset-facet-up-arrow").css({display:"none"}))},this._createResetButton=function(e){var t=(0,m.default)('<div class="facet-reset-container" />').css(y.resetContainerStyle),n=(0,m.default)('<div class="facet-reset-btn">Reset</div>').css(y.resetButtonStyle);i.dropdownButton=(0,m.default)('<div class="facet-dropdown-btn down-arrow"/>').css(y.dropdownButtonStyle);var r=(0,m.default)("<div />").css(y.iconContainerStyle);(0,m.default)(r).appendTo(i.dropdownButton),i.dropdownWindow=(0,m.default)('<div class="facet-dropdown-window" />').css(y.dropdownWindow);var a=(0,m.default)('<div class="facet-dropdwn-reset">Reset</div>').css(y.resteRow),o=(0,m.default)('<div class="facet-dropdwn-reset-all">Reset All</div>').css(y.resteRow);return(0,m.default)(a).appendTo(i.dropdownWindow),(0,m.default)(o).appendTo(i.dropdownWindow),i._hoverState(a,"#F4F4F4",y.hoverGray),i._hoverState(o,"#F4F4F4",y.hoverGray),i._btnHoverState(n,"#FFF",y.hoverGray),i._btnHoverState(i.dropdownButton,"#FFF",y.hoverGray),(0,m.default)(n).appendTo(t),(0,m.default)(i.dropdownButton).appendTo(t),(0,m.default)(y.downArrowSvg).appendTo(r),(0,m.default)(y.upArrowSvg).css({display:"none"}).appendTo(r),(0,m.default)(i.dropdownButton).mousedown(function(e){(0,m.default)(i.dropdownButton).hasClass("down-arrow")?(i._showDropDown(e.clientX,e.clientY),setTimeout(function(){document.addEventListener("mousedown",i._removeDropdown,!1),document.addEventListener("scroll",i._removeDropdown,!0),window.addEventListener("resize",i._removeDropdownDiv)},10)):i._removeDropdown()}),(0,m.default)(n).click(function(t){e.reset(i)}),(0,m.default)(a).click(function(t){e.reset(i),i._removeDropdownDiv()}),(0,m.default)(o).click(function(t){(0,m.default)(t.target).hasClass("disabled")===!1&&(e.resetAll(i),i._removeDropdownDiv())}),t},this._showDropDown=function(e,t){i._toggleDropdown();var n=window.innerWidth,r=e+140>=n?e-140:e,a=t+10;(0,m.default)(i.dropdownWindow).css({top:a+"px",left:r+"px",display:"none"}),(0,m.default)(i.dropdownWindow).appendTo(document.body),(0,m.default)(i.dropdownWindow).slideDown(y.dropdownSlidSpeed)},this._removeDropdown=function(){i._clickInsideElement(event,".facet-dropdown-window")||i._removeDropdownDiv()},this._clickInsideElement=function(e,t){return e.target.matches(t)||(0,m.default)(e.target).parents(t).length},this._removeDropdownDiv=function(){i._toggleDropdown(),(0,m.default)(i.dropdownWindow).detach(),document.removeEventListener("mousedown",i._removeDropdown,!1),document.removeEventListener("scroll",i._removeDropdown,!0),window.removeEventListener("resize",i._removeDropdownDiv)},this._hoverState=function(e,t,i){(0,m.default)(e).hover(function(e){(0,m.default)(this).css("background-color","mouseenter"===e.type?i:t)})},this._btnHoverState=function(e,t,n){(0,m.default)(e).hover(function(){(0,m.default)(e).css({"background-color":n}),i._needHeaderClick()&&(0,m.default)(i.headerDiv).css({"background-color":t})},function(){(0,m.default)(e).css({"background-color":t}),i._needHeaderClick()&&(0,m.default)(i.headerDiv).css({"background-color":y.selectedGray})})},this._setHeaderClickState=function(e){(0,m.default)(e).css({cursor:"pointer"}),i._hoverState(e,"#FFF",y.selectedGray),(0,m.default)(e).click(function(e){var t=(0,m.default)(i.resetWrapper);!m.default.contains(t[0],e.target)&&i.config.fn.onHeaderClick&&i.config.fn.onHeaderClick(e,i.config.facetId,i.config.colId)})},this._setFullScreenIcon=function(e){var t=(0,m.default)("<div />").css(y.fullScreenContainerStyle);(0,m.default)(t).appendTo(e),(0,m.default)(y.fullScreenSvg).appendTo(t)},this._needHeaderClick=function(){return!!i.config.fn.onHeaderClick},this._createHeader=function(){var e=0,t=53,n=(0,m.default)('<div class="small-facet-header-div" />').css((0,o.default)({},y.headerDivStyle,{width:i.parentW+"px",height:i.facetHight.headerH+"px"}));i._needHeaderClick()&&(e=18,i._setHeaderClickState(n),i._setFullScreenIcon(n));var r=i.parentW-e,a=(0,m.default)("<div />").css({width:r+"px",height:i.facetHight.headerH+"px",display:"inline-block"});(0,m.default)(a).appendTo(n),i.resetWrapper=(0,m.default)("<div />").css({width:t+"px",height:i.facetHight.headerH+"px",float:"right","padding-top":"3px",display:"none"}),(0,m.default)(i.resetWrapper).appendTo(a);var s=i._createResetButton({reset:i.onReset,resetAll:i._onResetAll});return(0,m.default)(s).appendTo(i.resetWrapper),i.textContainer=(0,m.default)("<div />").css((0,o.default)({},y.textContainerStyle,{height:i.facetHight.headerH+"px","line-height":i.facetHight.headerH+"px"})),(0,m.default)(i.textContainer).appendTo(a),i.headerDiv=n,n[0]},this._facetMove=function(t){e.facetMove(t.detail.top,t.detail.left)},this._facetExit=function(t){e.cancelTip()},this.facetClick=function(e){if(i.topDiv&&(i[S](),e.detail.item)){var t=e.detail.item.binFilter===!0?"filterSelected":"filterUnselected",n=new CustomEvent(t,{detail:{item:e.detail.item}});i.topDiv.dispatchEvent(n)}},this.config=t,this.parentW=t.width||148,this.config.minBarwidth||(this.config.minBarwidth=7),this.config.maxBarwidth||(this.config.maxBarwidth=12),this.config.barMargin||(this.config.barMargin=1),this.textStyle={grayColor:"#7B7E81",blackColor:"#444649",fontSize:12,fontFamily:"Helvetica",fontWeight:"normal"},this.facetHight={headerH:22,canvasH:63},this.hoverDiv={minW:140,maxW:400,lblMaxWForR:145,lblMaxWForV:280},this[A]()}return(0,c.default)(e,[{key:"updateContainer",value:function(e,t){this.config.facetId=e.facetId,this.config.colId=e.colId,this.config.fn.hasGlobalFilter=e.fn.hasGlobalFilter,this.config.fn.onHeaderClick=e.fn.onHeaderClick,this.config.container=e.container,this.config.container.appendChild(this.topDiv),t===!0&&this.showProgress()}},{key:"getMaxBinCount",value:function(e){return e?Math.floor(e/(this.config.minBarwidth+this.config.barMargin)):Math.floor(this.parentW/(this.config.minBarwidth+this.config.barMargin))}},{key:"getParent",value:function(){return this.topDiv}},{key:"reset",value:function(e){for(this.config.data=e.data;e.container.hasChildNodes();)e.container.removeChild(e.container.lastChild);this.config.container=e.container,this[A](),this[S](),this.render()}},{key:"render",value:function(e){if(e.data&&(this.config.data=e.data),null!=e.distinctCount&&(this.config.distinctCount=e.distinctCount),this[C](),this[S](),this.config.data&&this.config.data.length>0){for(var t=this.config.data.length,i=this.config.maxBarwidth+this.config.barMargin;t*i>this.parentW&&i>=this.config.minBarwidth;)i-=1;this.config.barWidth=i-this.config.barMargin;var n=i*t,r=(this.parentW-n)/2;this.canvas.width=n,this.canvas.style.marginLeft=r+"px",this.canvas.height=this.facetHight.canvasH,this.config.canvasH=this.canvas.height,this.barchart=new f.Barchart(this.config),this.barchart.draw()}else this.barchart&&this.barchart.clearAll();this.hideProgress()}},{key:"rerender",value:function(e){this.config.data=e,this[S](),this.barchart&&this.barchart.redraw()}},{key:E,value:function(){if(this.config&&this.config.container){var e=document.createElement(x);return e.style.width=this.parentW+"px",e.style.height=this.facetHight.canvasH+this.facetHight.headerH+"px",e.style.lineHeight="initial",this.config.container.appendChild(e),this.createProgress(e),e}throw"Missing parent contaier"}},{key:"createProgress",value:function(e){(0,m.default)('<div class="f-progress">Loading...</div>').css({width:this.parentW+"px",height:this.facetHight.canvasH+this.facetHight.headerH+"px",position:"absolute",top:"0px",left:"0px",zIndex:"20",textAlign:"center",color:"rgba(68,70,73,0.45)",fontSize:"12px",fontWeight:"bold","padding-top":"25%"}).appendTo(e)}},{key:"showProgress",value:function(){(0,m.default)(this.topDiv).find(".f-progress").css({display:"block"})}},{key:"hideProgress",value:function(){(0,m.default)(this.topDiv).find(".f-progress").css({display:"none"})}},{key:"onReset",value:function(e){var t=e.resetSelection(),i=new CustomEvent("facetReset",{detail:{selectedBins:t}});e.topDiv&&e.topDiv.dispatchEvent(i)}},{key:_,value:function(){this.canvas=document.createElement(w),this.config.canvas=this.canvas}},{key:"_showResetButton",value:function(e){var t=(0,m.default)(this.dropdownWindow).children(".facet-dropdwn-reset-all");(0,m.default)(this.resetWrapper).css({display:"block"}),e?((0,m.default)(t).css(y.resetAllEnable),(0,m.default)(t).removeClass("disabled")):((0,m.default)(t).css(y.resetAllDisable),(0,m.default)(t).addClass("disabled"))}},{key:"_hideResetButton",value:function(){(0,m.default)(this.resetWrapper).css({display:"none"})}},{key:A,value:function(){var e=this[E]();this.topDiv=e;var t=this._createHeader();this[_](),e&&(e.appendChild(t),e.appendChild(this.canvas))}},{key:"getTopDiv",value:function(){return this.topDiv}},{key:C,value:function(){var e=this.config.data;if(e&&e.length>0){var t=e.reduce(function(e,t){return e+t.maxValue},0);this.canvas.dataSize=t,this.canvas.addEventListener("facetClick",this.facetClick),this.canvas.addEventListener("facetHover",this._facetHover),this.canvas.addEventListener("facetExit",this._facetExit),this.canvas.addEventListener("facetMove",this._facetMove)}}},{key:"_facetHover",value:function(t){e.facetHover(t.detail.item,t.detail.top,t.detail.left,t.target.dataSize)}},{key:S,value:function(){var e=this.config.fn.hasGlobalFilter(this.config.facetId),t=this[T]();this._hasGrpFilter()?((0,m.default)(this.textContainer).text(t>1?t+" groups selected":t+" group selected"),this._showResetButton(e)):null!=this.config.distinctCount?((0,m.default)(this.textContainer).text(this.config.distinctCount>1?this.config.distinctCount+" distinct values":this.config.distinctCount+" distinct value"),this._hideResetButton()):((0,m.default)(this.textContainer).text(""),this._hideResetButton())}},{key:T,value:function(){var e=this.config.data.reduce(function(e,t){return t.binFilter===!0&&(e+=1),e},0);return e}},{key:"_hasGrpFilter",value:function(){return this.config.data.some(function(e){return e.grpFilter===!0})}},{key:"dispose",value:function(){this.barchart&&this.barchart.removeListener()}}],[{key:"createTip",value:function(t,i,n,r,a){return e.cancelTip(),e.createHoverDiv(a,r,t,i,n)}},{key:"cancelTip",value:function(t){(0,m.default)(".facet-tooltip").remove(),document.removeEventListener("scroll",e.cancelTip,!0)}},{key:"createHoverDiv",value:function(t,i,n,r,a){var s=void 0;1===n.length?s=e._valueRow(n[0]):2===n.length&&(s=e._rangeRow(n)),i+=y.tooltipLeftMargin,t+=y.tooltipVBottomMargin;var l={left:i+"px"},u={top:t+"px"},c=(0,m.default)('<div class="facet-tooltip">').css((0,o.default)({},y.hoverDivStyle,l,u));return(0,m.default)(s).appendTo(c),(0,m.default)(this._countrRow(r)).appendTo(c),(0,m.default)(this._percentRow(a)).appendTo(c),(0,m.default)(c).appendTo(document.body),e.repositionHoverDiv(c,i,t),document.addEventListener("scroll",e.cancelTip,!0),c[0]}},{key:"repositionHoverDiv",value:function(e,t,i){if(e){var n=window.innerWidth,r=window.innerHeight,a=(0,m.default)(e).outerWidth(),s=(0,m.default)(e).outerHeight();if(t+a>n){var l=t-a-y.tooltipLeftMargin;if(l>0){var u={left:l+"px"};(0,m.default)(e).css((0,o.default)({},u))}}if(i+s>r){var c=i-s-y.tooltipVBottomMargin;if(c>0){var d={top:c+"px"};(0,m.default)(e).css((0,o.default)({},d))}}}}}]),e}();I.facetMove=function(e,t){var i=(0,m.default)(".facet-tooltip");if(i){window.innerWidth,window.innerHeight;t+=y.tooltipLeftMargin,e+=y.tooltipVBottomMargin;var n={left:t+"px"},r={top:e+"px"};i.css((0,o.default)({},n,r)),I.repositionHoverDiv(i,t,e)}},I.getTextNode=function(e,t,i){if(t&&t.length>0){for(var n="",r="",a=0;a<t.length;a++)if(32===t[a].charCodeAt(0))n+="{Space}";else{if(9!==t[a].charCodeAt(0))break;n+="{Tab}"}t=t.replace(/^[ \t]+/,"");for(var o=t.length-1;o>=0;o--)if(32===t[o].charCodeAt(0))r="{Space}"+r;else{if(9!==t[o].charCodeAt(0))break;r="{Tab}"+r}t=t.replace(/[ \t]+$/,"");var s=(0,m.default)("<span>"+e+"</span>").css(y.tooltipBlackText),l=n?(0,m.default)("<span>"+n+"&nbsp</span>").css(y.tooltipGrayText):null,u=(0,m.default)("<span>"+t+"</span>").css(y.tooltipBlackText),c=r?(0,m.default)("<span>&nbsp"+r+"</span>").css(y.tooltipGrayText):null,d=i===!0?(0,m.default)("<span>...</span>").css(y.tooltipGrayText):null;return l&&(0,m.default)(l).appendTo(s),(0,m.default)(u).appendTo(s),(0,m.default)(d).appendTo(s),c&&(0,m.default)(c).appendTo(s),s}return t},I.getDisplayNode=function(e,t,i){e=e?e:"";var n=(0,m.default)("<span>"+e+"</span>").css(y.tooltipBlackText);return"{Null}"===t?((0,m.default)("<span>null</span>").css(y.tooltipGrayText).appendTo(n),n):"{Empty}"===t?(0,m.default)("<span>empty</span>").css(y.tooltipGrayText).appendTo(n):"{Binary}"===t?(0,m.default)("<span>binary</span>").css(y.tooltipGrayText).appendTo(n):"{Special Chars}"===t?((0,m.default)("<span>"+t+"...</span>").css(y.tooltipGrayText).appendTo(n),n):I.getTextNode(e,g.default.escape(t),i)},I.facetHover=function(e,t,i,n){var r=[];return null!=e.lowAlias&&null!=e.highAlias?e.lowAlias===e.highAlias?r.push(I.getDisplayNode(e.prefix,e.lowAlias,e.aliasEllipsis)):(r.push(I.getDisplayNode(e.prefix,e.lowAlias,e.aliasEllipsis)),r.push(I.getDisplayNode(e.prefix,e.highAlias,e.aliasEllipsis))):null!=e.keyAlias||null!=e.key?r.push(I.getDisplayNode(e.prefix,e.keyAlias||e.key,e.aliasEllipsis)):null!=e.scAlias&&r.push(I.getDisplayNode(e.prefix,e.scAlias,e.aliasEllipsis)),e.globalFilter||e.grpFilter?I.createTip(r,e.filterValue,I.getSizeInPercent(n,e.filterValue),i,t):I.createTip(r,e.value,I.getSizeInPercent(n,e.value),i,t)},I.getSizeInPercent=function(e,t){return t>0&&e>0?(t/e*100).toFixed(2)+"%":"0%"},I._rangeRow=function(e){var t=(0,m.default)("<div />").css({"white-space":"nowrap"}),i=(0,m.default)("<div>Range:</div>").css(y.tooltipLabelStyle),n=(0,m.default)("<div />").css(y.toolTipRangeValueStyle),r=(0,m.default)("<div>to</div>").css(y.toValueStyle),a=(0,m.default)("<div />").css((0,o.default)({},y.toolTipRangeValueStyle,{"margin-left":"4px"}));return(0,m.default)(i).appendTo(t),(0,m.default)(n).appendTo(t),(0,m.default)(r).appendTo(t),(0,m.default)(a).appendTo(t),(0,m.default)(e[0]).appendTo(n),(0,m.default)(e[1]).appendTo(a),t},I._valueRow=function(e){var t=(0,m.default)("<div />").css({"white-space":"nowrap"}),i=(0,m.default)("<div>Value:</div>").css(y.tooltipLabelStyle),n=(0,m.default)("<div />").css((0,o.default)({},y.toolTipNonRangeValueStyle,{"min-width":"65px"}));return(0,m.default)(i).appendTo(t),(0,m.default)(n).appendTo(t),(0,m.default)(e).appendTo(n),t},I._countrRow=function(e){var t=(0,m.default)("<div />").css({"margin-top":"13px","white-space":"nowrap"}),i=(0,m.default)("<div>Count:</div>").css(y.tooltipLabelStyle),n=(0,m.default)("<div>"+e+"</div>").css(y.tooltipCountPercentStyle);return(0,m.default)(i).appendTo(t),(0,m.default)(n).appendTo(t),t},I._percentRow=function(e){var t=(0,m.default)("<div />").css({"margin-top":"14px","white-space":"nowrap"}),i=(0,m.default)("<div>Percent:</div>").css(y.tooltipLabelStyle),n=(0,m.default)("<div>"+e+"</div>").css(y.tooltipCountPercentStyle);return(0,m.default)(i).appendTo(t),(0,m.default)(n).appendTo(t),t}},function(e,i){e.exports=t},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var n=(t.dropdownSlidSpeed=100,t.tooltipValueMaxW=448),r=t.tooltipNonRangeValueMaxW=900,a=(t.hoverGray="rgba(68,70,73,0.06)",t.selectedGray="rgba(68,70,73,0.1)"),o=(t.tooltipLeftMargin=5,t.tooltipVTopMargin=5,t.tooltipVBottomMargin=20,'<polygon id="Path-2507" points="4.75585262 6.488719 4.99946749 6.75 5.24278837 6.4884024 8 3.52408654 7.51276942 3 4.75555778 5.96431586 5.24249353 5.96399926 2.4866409 3.00830143 2 3.53302117"/>');t.downArrowSvg='<div class="reset-facet-down-arrow"><svg xmlns="http://www.w3.org/2000/svg" width="10px" height="9px" fill="#333333" fill-opacity="0.9" fill-rule="nonzero">'+o+"</svg></div>",t.upArrowSvg='<div class="reset-facet-up-arrow"><svg xmlns="http://www.w3.org/2000/svg" transform="rotate(180)" width="10px" height="9px" fill="#333333" fill-opacity="0.9" fill-rule="nonzero">'+o+"</svg></div>",t.fullScreenSvg='<svg xmlns="http://www.w3.org/2000/svg" width="14px" height="14px" fill="#7C7D7F" fill-rule="nonzero"><g xmlns="http://www.w3.org/2000/svg" id="full-screen" transform="translate(3.000000, 3.000000)"><path d="M4.83010753,9.48387097 C4.76129032,9.48387097 4.69462366,9.51182796 4.64731183,9.55913978 C4.6,9.60645161 4.57204301,9.67311828 4.57204301,9.74193548 C4.57204301,9.81075269 4.6,9.87741935 4.64731183,9.92473118 C4.69462366,9.97204301 4.76129032,10 4.83010753,10 C4.89892473,10 4.9655914,9.97204301 5.01290323,9.92473118 C5.06021505,9.87741935 5.08817204,9.81075269 5.08817204,9.74193548 C5.08817204,9.67311828 5.06021505,9.60645161 5.01290323,9.55913978 C4.9655914,9.51182796 4.89892473,9.48387097 4.83010753,9.48387097 Z" id="Shape"/><path d="M2.08817204,9.48387097 C1.94623656,9.48387097 1.83010753,9.6 1.83010753,9.74193548 C1.83010753,9.88387097 1.94623656,10 2.08817204,10 C2.23010753,10 2.34623656,9.88387097 2.34623656,9.74193548 C2.34623656,9.59784946 2.23010753,9.48387097 2.08817204,9.48387097 Z" id="Shape"/><path d="M3.00215054,9.48387097 C2.86021505,9.48387097 2.74408602,9.6 2.74408602,9.74193548 C2.74408602,9.88387097 2.86021505,10 3.00215054,10 C3.14408602,10 3.26021505,9.88387097 3.26021505,9.74193548 C3.26021505,9.59784946 3.14408602,9.48387097 3.00215054,9.48387097 Z" id="Shape"/><path d="M3.91612903,9.48387097 C3.77419355,9.48387097 3.65806452,9.6 3.65806452,9.74193548 C3.65806452,9.88387097 3.77419355,10 3.91612903,10 C4.05806452,10 4.17419355,9.88387097 4.17419355,9.74193548 C4.17419355,9.59784946 4.05806452,9.48387097 3.91612903,9.48387097 Z" id="Shape"/><path d="M1.17204301,9.48387097 C1.03010753,9.48387097 0.913978495,9.6 0.913978495,9.74193548 C0.913978495,9.88387097 1.03010753,10 1.17204301,10 C1.31397849,10 1.43010753,9.88387097 1.43010753,9.74193548 C1.43010753,9.59784946 1.31612903,9.48387097 1.17204301,9.48387097 Z" id="Shape"/><path d="M0.258064516,9.48387097 C0.189247312,9.48387097 0.122580645,9.51182796 0.0752688172,9.55913978 C0.0279569892,9.60645161 0,9.67311828 0,9.74193548 C0,9.81075269 0.0279569892,9.87741935 0.0752688172,9.92473118 C0.122580645,9.97204301 0.189247312,10 0.258064516,10 C0.32688172,10 0.393548387,9.97204301 0.440860215,9.92473118 C0.488172043,9.87741935 0.516129032,9.81075269 0.516129032,9.74193548 C0.516129032,9.67311828 0.488172043,9.60645161 0.440860215,9.55913978 C0.393548387,9.51182796 0.32688172,9.48387097 0.258064516,9.48387097 Z" id="Shape"/><path d="M0.258064516,9.0516129 C0.4,9.0516129 0.516129032,8.93548387 0.516129032,8.79354839 C0.516129032,8.6516129 0.4,8.53548387 0.258064516,8.53548387 C0.116129032,8.53548387 0,8.6516129 0,8.79354839 C0,8.93548387 0.116129032,9.0516129 0.258064516,9.0516129 Z" id="Shape"/><path d="M0.258064516,8.10322581 C0.4,8.10322581 0.516129032,7.98709677 0.516129032,7.84516129 C0.516129032,7.70322581 0.4,7.58709677 0.258064516,7.58709677 C0.116129032,7.58709677 0,7.70322581 0,7.84516129 C0,7.98709677 0.116129032,8.10322581 0.258064516,8.10322581 Z" id="Shape"/><path d="M0.258064516,7.15483871 C0.4,7.15483871 0.516129032,7.03870968 0.516129032,6.89677419 C0.516129032,6.75483871 0.4,6.63870968 0.258064516,6.63870968 C0.116129032,6.63870968 0,6.75483871 0,6.89677419 C0,7.03870968 0.116129032,7.15483871 0.258064516,7.15483871 Z" id="Shape"/><path d="M0.258064516,2.41290323 C0.4,2.41290323 0.516129032,2.29677419 0.516129032,2.15483871 C0.516129032,2.01290323 0.4,1.89677419 0.258064516,1.89677419 C0.116129032,1.89677419 0,2.01290323 0,2.15483871 C0,2.29677419 0.116129032,2.41290323 0.258064516,2.41290323 Z" id="Shape"/><path d="M0.258064516,3.36129032 C0.4,3.36129032 0.516129032,3.24516129 0.516129032,3.10322581 C0.516129032,2.96129032 0.4,2.84516129 0.258064516,2.84516129 C0.116129032,2.84516129 0,2.96129032 0,3.10322581 C0,3.24516129 0.116129032,3.36129032 0.258064516,3.36129032 Z" id="Shape"/><path d="M0.258064516,1.46451613 C0.4,1.46451613 0.516129032,1.3483871 0.516129032,1.20645161 C0.516129032,1.06451613 0.4,0.948387097 0.258064516,0.948387097 C0.116129032,0.948387097 0,1.06451613 0,1.20645161 C0,1.35053763 0.116129032,1.46451613 0.258064516,1.46451613 Z" id="Shape"/><path d="M0.258064516,5.25806452 C0.4,5.25806452 0.516129032,5.14193548 0.516129032,5 C0.516129032,4.85806452 0.4,4.74193548 0.258064516,4.74193548 C0.116129032,4.74193548 0,4.85806452 0,5 C0,5.14193548 0.116129032,5.25806452 0.258064516,5.25806452 Z" id="Shape"/><path d="M0.258064516,4.30967742 C0.4,4.30967742 0.516129032,4.19354839 0.516129032,4.0516129 C0.516129032,3.90967742 0.4,3.79354839 0.258064516,3.79354839 C0.116129032,3.79354839 0,3.90967742 0,4.0516129 C0,4.19354839 0.116129032,4.30967742 0.258064516,4.30967742 Z" id="Shape"/><path d="M0.258064516,6.20645161 C0.4,6.20645161 0.516129032,6.09032258 0.516129032,5.9483871 C0.516129032,5.80645161 0.4,5.69032258 0.258064516,5.69032258 C0.116129032,5.69032258 0,5.80645161 0,5.9483871 C0,6.09032258 0.116129032,6.20645161 0.258064516,6.20645161 Z" id="Shape"/><path d="M0.258064516,0.516129032 C0.32688172,0.516129032 0.393548387,0.488172043 0.440860215,0.440860215 C0.488172043,0.393548387 0.516129032,0.32688172 0.516129032,0.258064516 C0.516129032,0.189247312 0.488172043,0.122580645 0.440860215,0.0752688172 C0.393548387,0.0279569892 0.32688172,0 0.258064516,0 C0.189247312,0 0.122580645,0.0279569892 0.0752688172,0.0752688172 C0.0279569892,0.122580645 0,0.189247312 0,0.258064516 C0,0.32688172 0.0279569892,0.393548387 0.0752688172,0.440860215 C0.124731183,0.490322581 0.191397849,0.516129032 0.258064516,0.516129032 Z" id="Shape"/><path d="M6.20645161,0.258064516 C6.20645161,0.116129032 6.09032258,0 5.9483871,0 C5.80645161,0 5.69032258,0.116129032 5.69032258,0.258064516 C5.69032258,0.4 5.80645161,0.516129032 5.9483871,0.516129032 C6.09032258,0.516129032 6.20645161,0.402150538 6.20645161,0.258064516 Z" id="Shape"/><path d="M7.84516129,0.516129032 C7.98709677,0.516129032 8.10322581,0.4 8.10322581,0.258064516 C8.10322581,0.116129032 7.98709677,0 7.84516129,0 C7.70322581,0 7.58709677,0.116129032 7.58709677,0.258064516 C7.58709677,0.402150538 7.70107527,0.516129032 7.84516129,0.516129032 Z" id="Shape"/><path d="M3.10322581,0.516129032 C3.24516129,0.516129032 3.36129032,0.4 3.36129032,0.258064516 C3.36129032,0.116129032 3.24516129,0 3.10322581,0 C2.96129032,0 2.84516129,0.116129032 2.84516129,0.258064516 C2.84516129,0.402150538 2.96129032,0.516129032 3.10322581,0.516129032 Z" id="Shape"/><path d="M8.79354839,0.516129032 C8.93548387,0.516129032 9.0516129,0.4 9.0516129,0.258064516 C9.0516129,0.116129032 8.93548387,0 8.79354839,0 C8.6516129,0 8.53548387,0.116129032 8.53548387,0.258064516 C8.53548387,0.402150538 8.64946237,0.516129032 8.79354839,0.516129032 Z" id="Shape"/><path d="M5,0.516129032 C5.14193548,0.516129032 5.25806452,0.4 5.25806452,0.258064516 C5.25806452,0.116129032 5.14193548,0 5,0 C4.85806452,0 4.74193548,0.116129032 4.74193548,0.258064516 C4.74193548,0.402150538 4.85806452,0.516129032 5,0.516129032 Z" id="Shape"/><path d="M6.89677419,0.516129032 C7.03870968,0.516129032 7.15483871,0.4 7.15483871,0.258064516 C7.15483871,0.116129032 7.03870968,0 6.89677419,0 C6.75483871,0 6.63870968,0.116129032 6.63870968,0.258064516 C6.63870968,0.402150538 6.75483871,0.516129032 6.89677419,0.516129032 Z" id="Shape"/><path d="M4.0516129,0.516129032 C4.19354839,0.516129032 4.30967742,0.4 4.30967742,0.258064516 C4.30967742,0.116129032 4.19354839,0 4.0516129,0 C3.90967742,0 3.79354839,0.116129032 3.79354839,0.258064516 C3.79354839,0.402150538 3.90967742,0.516129032 4.0516129,0.516129032 Z" id="Shape"/><path d="M1.20645161,0 C1.06451613,0 0.948387097,0.116129032 0.948387097,0.258064516 C0.948387097,0.4 1.06451613,0.516129032 1.20645161,0.516129032 C1.3483871,0.516129032 1.46451613,0.4 1.46451613,0.258064516 C1.46451613,0.116129032 1.35053763,0 1.20645161,0 Z" id="Shape"/><path d="M2.15483871,0.516129032 C2.29677419,0.516129032 2.41290323,0.4 2.41290323,0.258064516 C2.41290323,0.116129032 2.29677419,0 2.15483871,0 C2.01290323,0 1.89677419,0.116129032 1.89677419,0.258064516 C1.89677419,0.402150538 2.01290323,0.516129032 2.15483871,0.516129032 Z" id="Shape"/><path d="M9.74193548,0.516129032 C9.81075269,0.516129032 9.87741935,0.488172043 9.92473118,0.440860215 C9.97204301,0.393548387 10,0.32688172 10,0.258064516 C10,0.189247312 9.97204301,0.122580645 9.92473118,0.0752688172 C9.87741935,0.0279569892 9.81075269,0 9.74193548,0 C9.67311828,0 9.60645161,0.0279569892 9.55913978,0.0752688172 C9.51182796,0.122580645 9.48387097,0.189247312 9.48387097,0.258064516 C9.48387097,0.32688172 9.51182796,0.393548387 9.55913978,0.440860215 C9.60645161,0.490322581 9.67311828,0.516129032 9.74193548,0.516129032 Z" id="Shape"/><path d="M9.74193548,0.909677419 C9.6,0.909677419 9.48387097,1.02580645 9.48387097,1.16774194 C9.48387097,1.30967742 9.6,1.42580645 9.74193548,1.42580645 C9.88387097,1.42580645 10,1.30967742 10,1.16774194 C10,1.02580645 9.88387097,0.909677419 9.74193548,0.909677419 Z" id="Shape"/><path d="M9.74193548,3.63870968 C9.6,3.63870968 9.48387097,3.75483871 9.48387097,3.89677419 C9.48387097,4.03870968 9.6,4.15483871 9.74193548,4.15483871 C9.88387097,4.15483871 10,4.03870968 10,3.89677419 C10,3.75268817 9.88387097,3.63870968 9.74193548,3.63870968 Z" id="Shape"/><path d="M9.74193548,2.72903226 C9.6,2.72903226 9.48387097,2.84516129 9.48387097,2.98709677 C9.48387097,3.12903226 9.6,3.24516129 9.74193548,3.24516129 C9.88387097,3.24516129 10,3.12903226 10,2.98709677 C10,2.84516129 9.88387097,2.72903226 9.74193548,2.72903226 Z" id="Shape"/><path d="M9.74193548,1.81935484 C9.6,1.81935484 9.48387097,1.93548387 9.48387097,2.07741935 C9.48387097,2.21935484 9.6,2.33548387 9.74193548,2.33548387 C9.88387097,2.33548387 10,2.21935484 10,2.07741935 C10,1.93548387 9.88387097,1.81935484 9.74193548,1.81935484 Z" id="Shape"/><path d="M9.74193548,5.06236559 C9.81075269,5.06236559 9.87741935,5.0344086 9.92473118,4.98709677 C9.97204301,4.93978495 10,4.87311828 10,4.80430108 C10,4.73548387 9.97204301,4.6688172 9.92473118,4.62150538 C9.87741935,4.57419355 9.81075269,4.54623656 9.74193548,4.54623656 C9.67311828,4.54623656 9.60645161,4.57419355 9.55913978,4.62150538 C9.51182796,4.6688172 9.48387097,4.73548387 9.48387097,4.80430108 C9.48387097,4.87311828 9.51182796,4.93978495 9.55913978,4.98709677 C9.60645161,5.03655914 9.67311828,5.06236559 9.74193548,5.06236559 Z" id="Shape"/><path d="M9.74193548,6.00645161 L6.26451613,6.00645161 C6.12258065,6.00645161 6.00645161,6.12258065 6.00645161,6.26451613 L6.00645161,9.74193548 C6.00645161,9.88387097 6.12258065,10 6.26451613,10 L9.74193548,10 C9.88387097,10 10,9.88387097 10,9.74193548 L10,6.26451613 C10,6.12258065 9.88387097,6.00645161 9.74193548,6.00645161 Z M9.24516129,9.24516129 L6.76129032,9.24516129 L6.76129032,6.76129032 L9.24516129,6.76129032 L9.24516129,9.24516129 Z" id="Shape"/><path d="M2.67744181,2.2688172 L4.2362883,2.30120958 C4.37822378,2.30120958 4.50107527,2.15268817 4.50107527,2.01075269 C4.50107527,1.8688172 4.38494624,1.75268817 4.24301075,1.75268817 L2.01075269,1.75268817 C1.8688172,1.75268817 1.75268817,1.8688172 1.75268817,2.01075269 L1.75268817,4.24516129 C1.75268817,4.38709677 1.8688172,4.50322581 2.01075269,4.50322581 C2.15268817,4.50322581 2.30659744,4.38709677 2.30659744,4.24516129 L2.2763432,2.6430715 L5.05361673,5.45812526 C5.10307909,5.50758762 5.16974576,5.53339408 5.23641243,5.53339408 C5.30307909,5.53339408 5.39784946,5.49892473 5.44946237,5.44946237 C5.55053763,5.3483871 5.60244384,5.15255386 5.50136857,5.05147859 L2.67744181,2.2688172 Z" id="Shape"/></g></svg>',
t.headerDivStyle={overflow:"hidden","white-space":"nowrap","font-size":"12px","font-weight":"normal","font-family":"Helvetica",color:"#7B7E81","box-sizing":"content-box"},t.resetContainerStyle={display:"inline-block","line-height":"1","box-sizing":"content-box"},t.resetButtonStyle={display:"inline-block","border-radius":"8px 0px 0px 8px",height:"14px",width:"28px","font-size":"10px","padding-left":"5px","background-color":"#FFF",outline:"none",border:"1px solid rgba(68,70,73,0.2)","vertical-align":"top","line-height":"13px",cursor:"pointer","border-right":"none","box-sizing":"content-box",color:"#444649"},t.dropdownButtonStyle={display:"inline-block","border-radius":"0px 8px 8px 0px",height:"14px",width:"12px",cursor:"pointer",outline:"none",border:"1px solid rgba(68,70,73,0.2)","border-left":"none","vertical-align":"top","box-sizing":"content-box"},t.iconContainerStyle={height:"8px",width:"8px",padding:"2px 0px","box-sizing":"content-box"},t.dropdownWindow={position:"fixed",top:"0px",left:"0px",width:"140px",border:"1px solid rgba(68,70,73,0.2)","border-radius":"2px","font-size":"12px",color:"#444649","padding-top":"5px","padding-bottom":"5px",background:"#F4F4F4","font-weight":"normal","font-family":"Helvetica",cursor:"pointer","box-shadow":"0px 1px 6px 3px "+a,"box-sizing":"content-box","z-index":"999"},t.resteRow={height:"26px",width:"130px","line-height":"26px","padding-left":"10px","box-sizing":"content-box"},t.fullScreenContainerStyle={display:"inline-block","margin-top":"3px",width:"14px",height:"14px","vertical-align":"top","box-sizing":"content-box","margin-left":"4px"},t.textContainerStyle={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","padding-left":"4px","padding-right":"2px","box-sizing":"content-box"},t.resetAllDisable={color:"rgba(68,70,73,0.45)",cursor:"auto","box-sizing":"content-box"},t.resetAllEnable={color:"#444649",cursor:"pointer","box-sizing":"content-box"},t.tooltipLabelStyle={display:"inline-block",width:"45px","text-align":"right",color:"rgba(68,70,73, 0.45)","font-size":"12px","font-weight":"normal","vertical-align":"top"},t.toValueStyle={display:"inline-block",color:"rgba(68,70,73, 0.45)","font-size":"12px","font-weight":"normal","margin-left":"4px","vertical-align":"top"},t.hoverDivStyle={position:"fixed",background:"#FFF",border:"1px solid rgba(68,70,73, 0.45)","border-radius":"2px","box-shadow":"1px 2px 8px rgba(68,70,73, 0.2)",height:"auto",display:"block",padding:"10px","line-height":1,"box-sizing":"border-box","z-index":"9999","font-family":"Helvetica","min-width":"140px"},t.toolTipRangeValueStyle={display:"inline-block",color:"rgba(68,70,73,0.45)","margin-left":"10px","max-width":n,overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"top","font-size":"12px","font-weight":"normal","padding-bottom":"1px"},t.toolTipNonRangeValueStyle={display:"inline-block",color:"rgba(68,70,73,0.45)","margin-left":"10px","max-width":r,overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","vertical-align":"top","font-size":"12px","font-weight":"normal","padding-bottom":"1px"},t.tooltipCountPercentStyle={display:"inline-block",color:"#444649","font-size":"12px","font-weight":"normal","margin-left":"10px","white-space":"nowrap","vertical-align":"top"},t.tooltipBlackText={color:"#444649","white-space":"pre","overflow-y":"hidden"},t.tooltipGrayText={"font-size":"12px","font-weight":"normal","font-family":"Helvetica-Oblique",color:"rgba(68,70,73,0.45)"}}])})}).call(t,i(63)(e))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{diff:d.default,union:g.default,unionall:m.default,intersection:f.default,innerjoin:y.default,leftjoin:x.default,rightjoin:_.default,fulljoin:C.default,minus:T.default,ltable:D.default,rtable:M.default}[e.replace("_","").toLowerCase()]}function a(e,t){var i="";return e&&(i=e.length<=t?e:'<tspan x="0" text-anchor="middle">'+e.substr(0,t)+'</tspan><tspan x="0" dy="15" text-anchor="middle">'+o(e.substring(t),t,k.NODE_STYLE.TOOLTIP.TRUNCATEMIDDLE_START_LENGTH,k.NODE_STYLE.TOOLTIP.TRUNCATEMIDDLE_END_LENGTH)+"</tspan>"),i}function o(e,t,i,n){var r="";return e&&(r=e.length<=t?e:e.substr(0,i)+"..."+e.substring(e.length-n)),r}function s(e,t){(0,u.default)(t).forEach(function(i){e.setAttribute?e.setAttribute(i,t[i]):null})}Object.defineProperty(t,"__esModule",{value:!0});var l=i(28),u=n(l);t.getIconByTableType=r,t.generateMultilineText=a,t.setAttributes=s;var c=i(2300),d=n(c),h=i(2303),f=n(h),p=i(2311),g=n(p),v=i(2312),m=n(v),b=i(2302),y=n(b),w=i(2304),x=n(w),E=i(2307),_=n(E),A=i(2301),C=n(A),S=i(2306),T=n(S),I=i(2305),D=n(I),O=i(2308),M=n(O),k=i(96)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){this.id=e,this.name="",this.sessionid="",this.pos={x:0,y:0},this.targetpos={x:0,y:0},this.startpos={x:0,y:0},this.size={w:a.NODE_STYLE.DEFAULT_SIZE.W,h:a.NODE_STYLE.DEFAULT_SIZE.H},this.targetsize={w:a.NODE_STYLE.DEFAULT_SIZE.W,h:a.NODE_STYLE.DEFAULT_SIZE.H},this.startsize={w:a.NODE_STYLE.DEFAULT_SIZE.W,h:a.NODE_STYLE.DEFAULT_SIZE.H},this.changeratio=0,this.data=t,this.fixed=!1,this.visible=!0,this.selected=!1,this.visited=!1,this.selectedindex=0,this.inedges=[],this.outedges=[],this.parent=null,this.type="rect",this.dx=0,this.dy=0,this.repulsion=800,this.svg=null,this.tooltip=null,this.tooltipbackground=null,this.icon=null,this.svgicon=null,this.checkicon=null,this.wrangleicon=null,this.labelpos=0,this.level=0,this.tabletype="table",this.fillopacity=1,this.fillcolor="#DEE0F7",this.strokecolor="#F9ECB2",this.strokewidth=0,this.selectedstrokecolor="#5A65D9",this.selectedstrokewidth=0,this.selectedfillopacity=1,this.selectedfillcolor="#DEE0F7",this.highlightstrokecolor="#5A65D9",this.hightlightstrokewidth=2,this.rings=[],this.ringcolors=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(96),o=i(574),s=i(2309),l=n(s);r.prototype.cloneSVGNode=function(){var e=this.svg?this.svg.cloneNode(!0):null;if(e&&(e.id="",e.setAttribute("transform","translate(0, 0)"),e.childNodes))for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];"rect"!==i.tagName&&"text"!==i.tagName||i.parentNode&&i.parentNode.removeChild(i)}return e},r.prototype.getSize=function(e,t){var i=e+t;return i},r.prototype.showRightIcon=function(e,t){if(e){this.ricon||(this.ricon=document.createElementNS(a.SVG_NS,"image"),this.ricon.setAttribute("width",a.NODE_STYLE.RIGHT_ICON.SIZE.W),this.ricon.setAttribute("height",a.NODE_STYLE.RIGHT_ICON.SIZE.H),this.ricon.setAttribute("x",Math.floor(.5*this.size.w+a.NODE_STYLE.RIGHT_ICON.POS.X)),this.ricon.setAttribute("y",a.NODE_STYLE.RIGHT_ICON.POS.Y));var i=(0,o.getIconByTableType)(t);i&&this.ricon.setAttributeNS(a.SVG_XLINK_NS,"href",i),this.ricon.parentNode||this.svg.appendChild(this.ricon)}else this.ricon&&this.ricon.parentNode&&this.ricon.parentNode.removeChild(this.ricon)},r.prototype.updateIcon=function(e){this.tabletype!==e&&(this.tabletype=e,this.icon&&this.icon.setAttributeNS(a.SVG_XLINK_NS,"href",(0,o.getIconByTableType)(e)))},r.prototype.highlight=function(e){this.svgbackground&&(e?this.svgbackground.style.fillOpacity=.4:this.svgbackground.style.fillOpacity=.1)},r.prototype.refresh=function(){if(this.resize(this.size.w===this.targetsize.w&&this.size.h===this.targetsize.h?this.size:this.targetsize),this.svgbackground){if("circle"===this.type)if(this.svgshape.style.stroke=this.strokecolor,this.svgshape.style.strokeWidth=this.strokewidth,this.svgshape.style.fill=this.fillcolor,this.svgshape.style.fillOpacity=this.fillopacity,this.ringcolors.length>0){if(this.rings.length>this.ringcolors.length)for(;this.rings.length>this.ringcolors.length;){var e=this.rings.pop();e.parentNode&&e.parentNode.removeChild(e)}else if(this.rings.length<this.ringcolors.length)for(;this.rings.length<this.ringcolors.length;){var t=document.createElementNS(a.SVG_NS,"circle");this.rings.push(t)}for(var i=0,n=Math.floor(a.NODE_STYLE.HALO_STROKE_WIDTH*(this.size.w/a.NODE_STYLE.DEFAULT_SIZE.W)*.5),r=0;r<this.ringcolors.length;r++){var o=this.ringcolors[r],s=this.rings[r],l=this.size.w-n,u=2*l*Math.PI,c=u*o.ratio;i+=o.ratio,s.setAttribute("r",l),s.style.stroke=o.color,s.style.strokeOpacity=a.NODE_STYLE.HALO_STROKE_OPACITY,s.style.strokeWidth=2*n,s.style.strokeDasharray=c+" "+(u-c),s.style.strokeDashoffset=u*(i+.25),s.style.fillOpacity=0,this.svg.appendChild(s)}}else this.rings.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)});this.showCheckIcon(this.selected),this.tooltip.setAttribute("fill",this.selected?"white":"black"),this.icon&&this.icon.parentNode===this.svg&&this.svg.appendChild(this.icon),this.svgbackground&&this.svg.appendChild(this.svgbackground)}},r.prototype.resize=function(e){if(e&&(e.w!==this.size.w||e.h!==this.size.h)&&("circle"===this.type||"tableicon"===this.type)){if(this.size={w:e.w,h:e.h},this.svgbackground&&("circle"===this.type?(0,o.setAttributes)(this.svgbackground,{x:-e.w,y:-e.h,width:2*e.w,height:2*e.h,rx:e.w,ry:e.h}):(0,o.setAttributes)(this.svgbackground,{x:Math.floor(-.5*(e.w+a.NODE_STYLE.ICON_PADDING.HORIZONTAL)),y:Math.floor(-.5*(e.h+a.NODE_STYLE.ICON_PADDING.VERTICAL)),width:e.w+a.NODE_STYLE.ICON_PADDING.HORIZONTAL,height:e.h+a.NODE_STYLE.ICON_PADDING.VERTICAL,rx:a.NODE_STYLE.ICON_PADDING.BORDER_RADIUS,ry:a.NODE_STYLE.ICON_PADDING.BORDER_RADIUS})),this.svgshape&&this.svgshape.setAttribute("r",e.w),this.parent){var t=this.parent.getLabelPos(this);this.tooltip.setAttribute("x",t.x),this.tooltip.setAttribute("y",t.y)}if(this.svgicon){var i=e.w/a.NODE_STYLE.DEFAULT_SIZE.W;this.svgicon.setAttribute("transform","scale("+i+") translate(-14, -12)"),this.wrangleicon&&this.wrangleicon.setAttribute("transform","scale("+i+") translate(-22, -2)")}this.icon&&this.icon.setAttribute("x",Math.floor(a.NODE_STYLE.OPERATION_ICON.POS.X-.5*e.w-a.NODE_STYLE.OPERATION_ICON.SIZE.W)),this.ricon&&this.ricon.setAttribute("x",Math.floor(.5*e.w+a.NODE_STYLE.RIGHT_ICON.POS.X))}},r.prototype.showLabel=function(e){this.showSVGElement(this.tooltip,e)},r.prototype.showIcon=function(e){this.showSVGElement(this.svgicon,e),this.showSVGElement(this.wrangleicon,e)},r.prototype.showSVGElement=function(e,t){e&&(e.style.opacity=t?1:0)},r.prototype.changeTableIconColor=function(e){if(this.svgicon&&this.svgicon.childNodes&&this.svgicon.childNodes.length>1){var t=this.svgicon.childNodes[1].childNodes;t&&t.forEach(function(t){"path"===t.tagName&&t.setAttribute("fill",e)})}this.changeWrangleIconColor(e)},r.prototype.changeWrangleIconColor=function(e){if(this.wrangleicon){var t=this.wrangleicon.childNodes;t&&t.forEach(function(t){"circle"===t.tagName?t.setAttribute("stroke",e):"path"===t.tagName&&t.setAttribute("fill",e)})}},r.prototype.showCheckIcon=function(e){if(e){if(this.checkicon&&this.svg){var t="tableicon"===this.type?this.size.w+a.NODE_STYLE.SELECTION_STROKE_WIDTH+a.NODE_STYLE.ICON_PADDING.HORIZONTAL:2*(this.size.w+a.NODE_STYLE.SELECTION_STROKE_WIDTH),i="tableicon"===this.type?this.size.h+a.NODE_STYLE.SELECTION_STROKE_WIDTH+a.NODE_STYLE.ICON_PADDING.VERTICAL:2*(this.size.h+a.NODE_STYLE.SELECTION_STROKE_WIDTH);this.checkicon.setAttribute("x",Math.floor(-.5*t)),this.checkicon.setAttribute("y",Math.floor(-.5*i)),this.checkicon.setAttribute("width",t),this.checkicon.setAttribute("height",i),this.svg.insertBefore(this.checkicon,this.svg.childNodes[0])}if(this.tooltipbackground){var n=this.tooltip.getBBox?this.tooltip.getBBox():{};this.tooltipbackground.setAttribute("x",n.x-a.NODE_STYLE.TOOLTIP.H_PADDING-a.NODE_STYLE.TOOLTIP.PADDING),this.tooltipbackground.setAttribute("y",n.y-a.NODE_STYLE.TOOLTIP.V_PADDING),this.tooltipbackground.setAttribute("width",n.width+2*(a.NODE_STYLE.TOOLTIP.H_PADDING+a.NODE_STYLE.TOOLTIP.PADDING)),this.tooltipbackground.setAttribute("height",n.height+2*a.NODE_STYLE.TOOLTIP.V_PADDING+a.NODE_STYLE.TOOLTIP.PADDING),this.tooltipbackground.style.fill=a.NODE_STYLE.SELECTION_TEXT_BACKGROUND}}else this.checkicon&&this.checkicon.parentNode&&this.checkicon.parentNode.removeChild(this.checkicon),this.tooltipbackground&&(this.tooltipbackground.style.fill="none")},r.prototype.showWrangleIcon=function(e){e?this.wrangleicon&&this.svg&&(this.svg.appendChild(this.wrangleicon),this.svgbackground&&this.svg.appendChild(this.svgbackground)):this.wrangleicon&&this.wrangleicon.parentNode&&this.wrangleicon.parentNode.removeChild(this.wrangleicon)},r.prototype.setInProgress=function(e){this.inprogress=e,this.svg&&(this.svg.style.opacity=e?.2:1,this.tooltip&&(this.tooltip.style.opacity=e?.2:1),e?(this.progressicon||(this.progressicon=document.createElementNS(a.SVG_NS,"image"),(0,o.setAttributes)(this.progressicon,{x:"-9",y:"-9",width:"18",height:"18"}),this.progressicon.setAttributeNS(a.SVG_XLINK_NS,"href",l.default)),this.svg&&this.svg.appendChild(this.progressicon)):this.progressicon&&this.progressicon.parentNode&&this.progressicon.parentNode.removeChild(this.progressicon))},r.prototype.setTitle=function(e){if(this.tooltip&&e&&(this.tooltip.innerHTML=(0,o.generateMultilineText)(e,a.NODE_STYLE.TOOLTIP.TRUNCATE_LENGTH),this.tooltip.style.visibility="visible",this.name=e,this.tooltiptitle&&(this.tooltiptitle.textContent=e,this.tooltip.appendChild(this.tooltiptitle)),this.parent)){var t=this.parent.getLabelPos(this);(0,o.setAttributes)(this.tooltip,{x:t.x,y:t.y});var i=this.tooltip.getBBox?this.tooltip.getBBox():{};(0,o.setAttributes)(this.tooltipbackground,{x:t.x-a.NODE_STYLE.TOOLTIP.H_PADDING-a.NODE_STYLE.TOOLTIP.PADDING,y:t.y-a.NODE_STYLE.TOOLTIP.FONT_SIZE,width:i.width+2*(a.NODE_STYLE.TOOLTIP.H_PADDING+a.NODE_STYLE.TOOLTIP.PADDING),height:i.height+2*a.NODE_STYLE.TOOLTIP.V_PADDING+a.NODE_STYLE.TOOLTIP.PADDING})}},r.prototype.setTableIconType=function(e,t){this.svg&&this.svgicon&&this.parent&&(e===a.NODE_STYLE.ICON_TYPE.SOURCE_TABLE?(t&&(this.fillopacity=a.NODE_STYLE.DEFAULT_FILLOPACITY,this.ringcolors=[],this.svgicon&&this.svgicon.childNodes&&this.svgicon.childNodes.forEach(function(e){e.setAttribute("transform","translate(0, 0)")}),this.changeTableIconColor(t)),this.strokewidth=0,this.selectedstrokewidth=0,this.highlightstrokecolor="#5A65D9"):e===a.NODE_STYLE.ICON_TYPE.DERIVED_TABLE&&(this.svgicon&&this.svgicon.childNodes&&this.svgicon.childNodes.length>1&&(this.svgicon.childNodes[0].setAttribute("transform","translate(2, -2)"),this.svgicon.childNodes[1].setAttribute("transform","translate(-2, 2)")),this.changeTableIconColor("#909193"),this.fillcolor="#FFFFFF",this.selectedfillcolor="#FFFFFF",this.strokecolor="#FFFFFF",this.strokewidth=0,this.selectedstrokecolor="#FFFFFF",this.selectedstrokewidth=0,this.highlightstrokecolor="#FFFFFF",this.ringcolors=t),this.refresh())},r.prototype.select=function(e){this.selected=!0,this.selectedindex=e,this.refresh()},r.prototype.unselect=function(){this.selected=!1,this.refresh()},r.prototype.resetTooltip=function(){this.tooltip&&(this.tooltip.innerHTML=""),this.tooltipbackground&&(0,o.setAttributes)(this.tooltipbackground,{width:0,height:0})}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteStream=t.newStream=t.getStream=void 0;var r=i(28),a=n(r),o=i(179),s=n(o),l={};t.getStream=function(e){return l[e]},t.newStream=function(e){var t={topics:{},error:new s.default.Subject,done:new s.default.Subject,getTopic:function(e){return this.topics[e]},subscribeTopics:function(e){var t=this;return(0,a.default)(e).forEach(function(i){var n=e[i],r=new s.default.Subject;r.subscribe(n),t.topics[i]=r}),this},subscribeError:function(e){return this.error.subscribe(e),this},subscribeDone:function(e){return this.done.subscribe(e),this}};return l[e]=t,t},t.deleteStream=function(e){var t=l[e];return t&&((0,a.default)(t.topics).forEach(function(e){t.topics[e].dispose()}),t.done.dispose(),t.error.dispose(),delete l[e]),l}},,function(e,t,i){e.exports={default:i(1385),__esModule:!0}},function(e,t,i){e.exports={default:i(1387),__esModule:!0}},function(e,t,i){e.exports={default:i(1388),__esModule:!0}},function(e,t,i){e.exports={default:i(1389),__esModule:!0}},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(155),a=n(r);t.default=function(e){return function(){var t=e.apply(this,arguments);return new a.default(function(e,i){function n(r,o){try{var s=t[r](o),l=s.value}catch(e){return void i(e)}return s.done?void e(l):a.default.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}},function(e,t,i){e.exports=i(2290)},function(e,t,i){var n;!function(r){"use strict";function a(){function e(t){var i=this;return i instanceof e?(t instanceof e?(i.s=t.s,i.e=t.e,i.c=t.c.slice()):o(i,t),void(i.constructor=e)):t===E?a():new e(t)}return e.prototype=x,e.DP=c,e.RM=d,e.NE=p,e.PE=g,e.version="5.0.2",e}function o(e,t){var i,n,r;if(0===t&&1/t<0)t="-0";else if(!_.test(t+=""))throw Error(m+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),r=t.length,n=0;n<r&&"0"==t.charAt(n);)++n;if(n==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=i-n-1,e.c=[],i=0;n<=r;)e.c[i++]=+t.charAt(n++)}return e}function s(e,t,i,n){var r=e.c,a=e.e+t+1;if(a<r.length){if(1===i)n=r[a]>=5;else if(2===i)n=r[a]>5||5==r[a]&&(n||a<0||r[a+1]!==E||1&r[a-1]);else if(3===i)n=n||r[a]!==E||a<0;else if(n=!1,0!==i)throw Error(y);if(a<1)r.length=1,n?(e.e=-t,r[0]=1):r[0]=e.e=0;else{if(r.length=a--,n)for(;++r[a]>9;)r[a]=0,a--||(++e.e,r.unshift(1));for(a=r.length;!r[--a];)r.pop()}}else if(i<0||i>3||i!==~~i)throw Error(y);return e}function l(e,t,i,n){var r,a,o=e.constructor,l=!e.c[0];if(i!==E){if(i!==~~i||i<(3==t)||i>h)throw Error(3==t?m+"precision":b);for(e=new o(e),i=n-e.e,e.c.length>++n&&s(e,i,o.RM),2==t&&(n=e.e+i+1);e.c.length<n;)e.c.push(0)}if(r=e.e,a=e.c.join(""),i=a.length,2!=t&&(1==t||3==t&&n<=r||r<=o.NE||r>=o.PE))a=a.charAt(0)+(i>1?"."+a.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)a="0"+a;a="0."+a}else if(r>0)if(++r>i)for(r-=i;r--;)a+="0";else r<i&&(a=a.slice(0,r)+"."+a.slice(r));else i>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&(!l||4==t)?"-"+a:a}var u,c=20,d=1,h=1e6,f=1e6,p=-7,g=21,v="[big.js] ",m=v+"Invalid ",b=m+"decimal places",y=m+"rounding mode",w=v+"Division by zero",x={},E=void 0,_=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;x.abs=function(){var e=new this.constructor(this);return e.s=1,e},x.cmp=function(e){var t,i=this,n=i.c,r=(e=new i.constructor(e)).c,a=i.s,o=e.s,s=i.e,l=e.e;if(!n[0]||!r[0])return n[0]?a:r[0]?-o:0;if(a!=o)return a;if(t=a<0,s!=l)return s>l^t?1:-1;for(o=(s=n.length)<(l=r.length)?s:l,a=-1;++a<o;)if(n[a]!=r[a])return n[a]>r[a]^t?1:-1;return s==l?0:s>l^t?1:-1},x.div=function(e){var t=this,i=t.constructor,n=t.c,r=(e=new i(e)).c,a=t.s==e.s?1:-1,o=i.DP;if(o!==~~o||o<0||o>h)throw Error(b);if(!r[0])throw Error(w);if(!n[0])return new i(0*a);var l,u,c,d,f,p=r.slice(),g=l=r.length,v=n.length,m=n.slice(0,l),y=m.length,x=e,_=x.c=[],A=0,C=o+(x.e=t.e-e.e)+1;for(x.s=a,a=C<0?0:C,p.unshift(0);y++<l;)m.push(0);do{for(c=0;c<10;c++){if(l!=(y=m.length))d=l>y?1:-1;else for(f=-1,d=0;++f<l;)if(r[f]!=m[f]){d=r[f]>m[f]?1:-1;break}if(!(d<0))break;for(u=y==l?r:p;y;){if(m[--y]<u[y]){for(f=y;f&&!m[--f];)m[f]=9;--m[f],m[y]+=10}m[y]-=u[y]}for(;!m[0];)m.shift()}_[A++]=d?c:++c,m[0]&&d?m[y]=n[g]||0:m=[n[g]]}while((g++<v||m[0]!==E)&&a--);return _[0]||1==A||(_.shift(),x.e--),A>C&&s(x,o,i.RM,m[0]!==E),x},x.eq=function(e){return!this.cmp(e)},x.gt=function(e){return this.cmp(e)>0},x.gte=function(e){return this.cmp(e)>-1},x.lt=function(e){return this.cmp(e)<0},x.lte=function(e){return this.cmp(e)<1},x.minus=x.sub=function(e){var t,i,n,r,a=this,o=a.constructor,s=a.s,l=(e=new o(e)).s;if(s!=l)return e.s=-l,a.plus(e);var u=a.c.slice(),c=a.e,d=e.c,h=e.e;if(!u[0]||!d[0])return d[0]?(e.s=-l,e):new o(u[0]?a:0);if(s=c-h){for((r=s<0)?(s=-s,n=u):(h=c,n=d),n.reverse(),l=s;l--;)n.push(0);n.reverse()}else for(i=((r=u.length<d.length)?u:d).length,s=l=0;l<i;l++)if(u[l]!=d[l]){r=u[l]<d[l];break}if(r&&(n=u,u=d,d=n,e.s=-e.s),(l=(i=d.length)-(t=u.length))>0)for(;l--;)u[t++]=0;for(l=t;i>s;){if(u[--i]<d[i]){for(t=i;t&&!u[--t];)u[t]=9;--u[t],u[i]+=10}u[i]-=d[i]}for(;0===u[--l];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(e.s=1,u=[h=0]),e.c=u,e.e=h,e},x.mod=function(e){var t,i=this,n=i.constructor,r=i.s,a=(e=new n(e)).s;if(!e.c[0])throw Error(w);return i.s=e.s=1,t=1==e.cmp(i),i.s=r,e.s=a,t?new n(i):(r=n.DP,a=n.RM,n.DP=n.RM=0,i=i.div(e),n.DP=r,n.RM=a,this.minus(i.times(e)))},x.plus=x.add=function(e){var t,i=this,n=i.constructor,r=i.s,a=(e=new n(e)).s;if(r!=a)return e.s=-a,i.minus(e);var o=i.e,s=i.c,l=e.e,u=e.c;if(!s[0]||!u[0])return u[0]?e:new n(s[0]?i:0*r);if(s=s.slice(),r=o-l){for(r>0?(l=o,t=u):(r=-r,t=s),t.reverse();r--;)t.push(0);t.reverse()}for(s.length-u.length<0&&(t=u,u=s,s=t),r=u.length,a=0;r;s[r]%=10)a=(s[--r]=s[r]+u[r]+a)/10|0;for(a&&(s.unshift(a),++l),r=s.length;0===s[--r];)s.pop();return e.c=s,e.e=l,e},x.pow=function(e){var t=this,i=new t.constructor(1),n=i,r=e<0;if(e!==~~e||e<-f||e>f)throw Error(m+"exponent");for(r&&(e=-e);1&e&&(n=n.times(t)),e>>=1,e;)t=t.times(t);return r?i.div(n):n},x.round=function(e,t){var i=this.constructor;if(e===E)e=0;else if(e!==~~e||e<0||e>h)throw Error(b);return s(new i(this),e,t===E?i.RM:t)},x.sqrt=function(){var e,t,i,n=this,r=n.constructor,a=n.s,o=n.e,l=new r(.5);if(!n.c[0])return new r(n);if(a<0)throw Error(v+"No square root");a=Math.sqrt(n.toString()),0===a||a===1/0?(t=n.c.join(""),t.length+o&1||(t+="0"),e=new r(Math.sqrt(t).toString()),e.e=((o+1)/2|0)-(o<0||1&o)):e=new r(a.toString()),o=e.e+(r.DP+=4);do i=e,e=l.times(i.plus(n.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return s(e,r.DP-=4,r.RM)},x.times=x.mul=function(e){var t,i=this,n=i.constructor,r=i.c,a=(e=new n(e)).c,o=r.length,s=a.length,l=i.e,u=e.e;if(e.s=i.s==e.s?1:-1,!r[0]||!a[0])return new n(0*e.s);for(e.e=l+u,o<s&&(t=r,r=a,a=t,u=o,o=s,s=u),t=new Array(u=o+s);u--;)t[u]=0;for(l=s;l--;){for(s=0,u=o+l;u>l;)s=t[u]+a[l]*r[u-l-1]+s,t[u--]=s%10,s=s/10|0;t[u]=(t[u]+s)%10}for(s?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},x.toExponential=function(e){return l(this,1,e,e)},x.toFixed=function(e){return l(this,2,e,this.e+e)},x.toPrecision=function(e){return l(this,3,e,e-1)},x.toString=function(){return l(this)},x.valueOf=x.toJSON=function(){return l(this,4)},u=a(),u.default=u.Big=u,n=function(){return u}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}(this)},,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},[2353,97,98,391],,[2358,97,283,61],[2360,191,1405,589,389,68,228],,,function(e,t,i){var n=i(88);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,i){"use strict";var n=i(49),r=i(167),a=i(43);e.exports=[].copyWithin||function(e,t){var i=n(this),o=a(i.length),s=r(e,o),l=r(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:r(u,o))-l,o-s),d=1;for(l<s&&s<l+c&&(d=-1,l+=c-1,s+=c-1);c-- >0;)l in i?i[s]=i[l]:delete i[s],s+=d,l+=d;return i}},function(e,t,i){var n=i(159);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){var n=i(57),r=i(49),a=i(234),o=i(43);e.exports=function(e,t,i,s,l){n(t);var u=r(e),c=a(u),d=o(u.length),h=l?d-1:0,f=l?-1:1;if(i<2)for(;;){if(h in c){s=c[h],h+=f;break}if(h+=f,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=f)h in c&&(s=t(s,c[h],h,u));return s}},function(e,t,i){"use strict";var n=i(57),r=i(25),a=i(619),o=[].slice,s={},l=function(e,t,i){if(!(t in s)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,i)};e.exports=Function.bind||function(e){var t=n(this),i=o.call(arguments,1),s=function(){var n=i.concat(o.call(arguments));return this instanceof s?l(t,n.length,n):a(t,n,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,i){"use strict";var n=i(42).f,r=i(161),a=i(165),o=i(89),s=i(158),l=i(159),u=i(413),c=i(622),d=i(166),h=i(41),f=i(137).fastKey,p=i(199),g=h?"_s":"size",v=function(e,t){var i,n=f(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,u){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=n&&l(n,i,e[u],e)});return a(c.prototype,{clear:function(){for(var e=p(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var i=p(this,t),n=v(i,e);if(n){var r=n.n,a=n.p;delete i._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),i._f==n&&(i._f=r),i._l==n&&(i._l=a),i[g]--}return!!n},forEach:function(e){p(this,t);for(var i,n=o(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!v(p(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return p(this,t)[g]}}),c},def:function(e,t,i){var n,r,a=v(e,t);return a?a.v=i:(e._l=a={i:r=f(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[g]++,"F"!==r&&(e._i[r]=a)),e},getEntry:v,setStrong:function(e,t,i){u(e,t,function(e,i){this._t=p(e,t),this._k=i,this._l=void 0},function(){for(var e=this,t=e._k,i=e._l;i&&i.r;)i=i.p;return e._t&&(e._l=i=i?i.n:e._t._f)?"keys"==t?c(0,i.k):"values"==t?c(0,i.v):c(0,[i.k,i.v]):(e._t=void 0,c(1))},i?"entries":"values",!i,!0),d(t)}}},function(e,t,i){var n=i(233),r=i(611);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,i){"use strict";var n=i(165),r=i(137).getWeak,a=i(17),o=i(25),s=i(158),l=i(159),u=i(99),c=i(69),d=i(199),h=u(5),f=u(6),p=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return h(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var i=m(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,i,a){var u=e(function(e,n){s(e,u,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=n&&l(n,i,e[a],e)});return n(u.prototype,{delete:function(e){if(!o(e))return!1;var i=r(e);return i===!0?g(d(this,t)).delete(e):i&&c(i,this._i)&&delete i[this._i]},has:function(e){if(!o(e))return!1;var i=r(e);return i===!0?g(d(this,t)).has(e):i&&c(i,this._i)}}),u},def:function(e,t,i){var n=r(a(t),!0);return n===!0?g(e).set(t,i):n[e._i]=i,e},ufstore:g}},function(e,t,i){"use strict";function n(e,t,i,u,c,d,h,f){for(var p,g,v=c,m=0,b=!!h&&s(h,f,3);m<u;){if(m in i){if(p=b?b(i[m],m,t):i[m],g=!1,a(p)&&(g=p[l],g=void 0!==g?!!g:r(p)),g&&d>0)v=n(e,t,p,o(p.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=p}v++}m++}return v}var r=i(292),a=i(25),o=i(43),s=i(89),l=i(36)("isConcatSpreadable");e.exports=n},[2330,41,24,406],function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){var n=i(25),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},[2334,17],1408,function(e,t,i){var n=i(415),r=Math.pow,a=r(2,-52),o=r(2,-23),s=r(2,127)*(2-o),l=r(2,-126),u=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,i,r=Math.abs(e),c=n(e);return r<l?c*u(r/l/o)*l*o:(t=(1+o/a)*r,i=t-(t-r),i>s||i!=i?c*(1/0):c*i)}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t){e.exports=Math.scale||function(e,t,i,n,r){return 0===arguments.length||e!=e||t!=t||i!=i||n!=n||r!=r?NaN:e===1/0||e===-(1/0)?e:(e-t)*(r-n)/(i-t)+n}},[2341,163,296,235,49,234,24],[2344,42,17,163,41],[2346,79,162],[2349,69,79,288,419],[2352,163,79,235],function(e,t,i){var n=i(162),r=i(296),a=i(17),o=i(19).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(a(e)),i=r.f;return i?t.concat(i(e)):t}},function(e,t,i){var n=i(19).parseFloat,r=i(198).trim;e.exports=1/n(i(423)+"-0")!==-(1/0)?function(e){var t=r(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},function(e,t,i){var n=i(19).parseInt,r=i(198).trim,a=i(423),o=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var i=r(String(e),3);return n(i,t>>>0||(o.test(i)?16:10))}:n},602,[2353,17,25,417],function(e,t,i){var n=i(43),r=i(422),a=i(101);e.exports=function(e,t,i,o){var s=String(a(e)),l=s.length,u=void 0===i?" ":String(i),c=n(t);if(c<=l||""==u)return s;var d=c-l,h=r.call(u,Math.ceil(d/u.length));return h.length>d&&(h=h.slice(0,d)),o?h+s:s+h}},function(e,t,i){var n=i(103),r=i(43);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}},[2367,36],function(e,t,i){"use strict";var n=i(614),r=i(199),a="Map";e.exports=i(289)(a,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(r(this,a),e);return t&&t.v},set:function(e,t){return n.def(r(this,a),0===e?0:e,t)}},n,!0)},function(e,t,i){i(41)&&"g"!=/./g.flags&&i(42).f(RegExp.prototype,"flags",{configurable:!0,get:i(291)})},function(e,t,i){"use strict";var n=i(614),r=i(199),a="Set";e.exports=i(289)(a,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,a),e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n,r=i(99)(0),a=i(71),o=i(137),s=i(626),l=i(616),u=i(25),c=i(24),d=i(199),h="WeakMap",f=o.getWeak,p=Object.isExtensible,g=l.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=f(e);return t===!0?g(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,h),e,t)}},y=e.exports=i(289)(h,m,b,l,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)})&&(n=l.getConstructor(m,h),s(n.prototype,b),o.NEED=!0,r(["delete","has","get","set"],function(e){var t=y.prototype,i=t[e];a(t,e,function(t,r){if(u(t)&&!p(t)){this._f||(this._f=new n);var a=this._f[e](t,r);return"set"==e?this:a}return i.call(this,t,r)})}))},function(e,t,i){e.exports=i(1642).crossfilter},function(e,t,i){"use strict";function n(e){function t(e,t,i){for(var r=i-t,a=(r>>>1)+1;--a>0;)n(e,a,r,t);return e}function i(e,t,i){for(var r,a=i-t;--a>0;)r=e[t],e[t]=e[t+a],e[t+a]=r,n(e,1,a,t);return e}function n(t,i,n,r){for(var a,o=t[--r+i],s=e(o);(a=i<<1)<=n&&(a<n&&e(t[r+a])>e(t[r+a+1])&&a++,!(s<=e(t[r+a])));)t[r+i]=t[r+a],i=a;t[r+i]=o}return t.sort=i,t}var r=i(200);e.exports=n(r),e.exports.by=n},function(e,t,i){"use strict";function n(e){function t(t,i,n){for(var r=i+1;r<n;++r){for(var a=r,o=t[r],s=e(o);a>i&&e(t[a-1])>s;--a)t[a]=t[a-1];t[a]=o}return t}return t}var r=i(200);e.exports=n(r),e.exports.by=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,arguments[1]),t=arguments[2];switch(e.type){case c.HOVER:break;case d.ADD_SOURCE:case d.ADD_TARGET:case d.REMOVE_TARGET:case d.REMOVE_SOURCE:return h;case c.BEGIN_DRAG:case c.PUBLISH_DRAG_SOURCE:case c.END_DRAG:case c.DROP:default:return f}var i=e.targetIds,n=t.targetIds,r=(0,s.default)(i,n),a=!1;if(0===r.length){for(var o=0;o<i.length;o++)if(i[o]!==n[o]){a=!0;break}}else a=!0;if(!a)return h;var l=n[n.length-1],u=i[i.length-1];return l!==u&&(l&&r.push(l),u&&r.push(u)),r}function a(e,t){return e!==h&&(e===f||"undefined"==typeof t||(0,u.default)(t,e).length>0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.areDirty=a;var o=i(2027),s=n(o),l=i(2009),u=n(l),c=i(302),d=i(303),h=[],f=[]},function(e,t,i){"use strict";function n(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){
case l.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case l.HOVER:return n(e.clientOffset,t.clientOffset)?e:s({},e,{clientOffset:t.clientOffset});case l.END_DRAG:case l.DROP:return u;default:return e}}function a(e){var t=e.clientOffset,i=e.initialClientOffset,n=e.initialSourceClientOffset;return t&&i&&n?{x:t.x+n.x-i.x,y:t.y+n.y-i.y}:null}function o(e){var t=e.clientOffset,i=e.initialClientOffset;return t&&i?{x:t.x-i.x,y:t.y-i.y}:null}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=r,t.getSourceClientOffset=a,t.getDifferenceFromInitialOffset=o;var l=i(302),u={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return(0,o.default)(e)?e.some(function(e){return e===t}):e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(50),o=n(a)},,,,,,,,,,,,,,,,,,,,,,,,,,,39,39,39,39,,,,,function(e,t){(function(t){function i(e){return"number"==typeof e&&n(e)}var n=t.isFinite;e.exports=i}).call(t,function(){return this}())},,,,,,,,function(e,t,i){function n(e,t,i,n){var d=-1,h=a,f=!0,p=e.length,g=[],v=t.length;if(!p)return g;i&&(t=s(t,l(i))),n?(h=o,f=!1):t.length>=c&&(h=u,f=!1,t=new r(t));e:for(;++d<p;){var m=e[d],b=null==i?m:i(m);if(m=n||0!==m?m:0,f&&b===b){for(var y=v;y--;)if(t[y]===b)continue e;g.push(m)}else h(t,b,n)||g.push(m)}return g}var r=i(309),a=i(450),o=i(451),s=i(174),l=i(313),u=i(314),c=200;e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(691),r=i(176),a=i(243),o=r(function(e,t){return a(e)?n(e,t):[]});e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r=i(713),a=n(r);t.isFirefox=(0,a.default)(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=(0,a.default)(function(){return Boolean(window.safari)})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){x.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=A(e),i=_(t);return function(e){var t,n,s=e.displayName||e.name||"Component",c=(n=t=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),u(n,[{key:"getDecoratedComponentInstance",value:function(){return(0,m.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return i.dragDropManager}},{key:"getChildContext",value:function(){return i}},{key:"render",value:function(){var t=this;return h.default.createElement(e,l({},this.props,{ref:function(e){t.child=e}}))}}]),n}(d.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+s+")",t.childContextTypes=E,n);return(0,y.default)(c,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var d=i(1),h=n(d),f=i(5),p=n(f),g=i(1661),v=i(40),m=n(v),b=i(173),y=n(b),w=i(325),x=n(w),E=t.CHILD_CONTEXT_TYPES={dragDropManager:p.default.object.isRequired},_=t.createChildContext=function(e,t){return{dragDropManager:new g.DragDropManager(e,t)}},A=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===("undefined"==typeof t?"undefined":c(t))&&"function"==typeof t.default&&(t=t.default),(0,m.default)("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t===e||null!==t&&null!==e&&(0,o.default)(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(474),o=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,i,n=e.DecoratedComponent,s=e.createHandler,f=e.createMonitor,v=e.createConnector,m=e.registerHandler,y=e.containerDisplayName,x=e.getType,_=e.collect,S=e.options,T=S.arePropsEqual,I=void 0===T?A.default:T,D=n.displayName||n.name||"Component",O=(i=t=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.handleChange=n.handleChange.bind(n),n.handleChildRef=n.handleChildRef.bind(n),(0,b.default)("object"===u(n.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",D,D),n.manager=n.context.dragDropManager,n.handlerMonitor=f(n.manager),n.handlerConnector=v(n.manager.getBackend()),n.handler=s(n.handlerMonitor),n.disposable=new g.SerialDisposable,n.receiveProps(e),n.state=n.getCurrentState(),n.dispose(),n}return o(t,e),c(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!I(e,this.props)||!(0,E.default)(t,this.state)}}]),c(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new g.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){I(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(x(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=m(e,this.handler,this.manager),i=t.handlerId,n=t.unregister;this.handlerId=i,this.handlerMonitor.receiveHandlerId(i),this.handlerConnector.receiveHandlerId(i);var r=this.manager.getMonitor(),a=r.subscribeToStateChange(this.handleChange,{handlerIds:[i]});this.disposable.setDisposable(new g.CompositeDisposable(new g.Disposable(a),new g.Disposable(n)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,E.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){var e=_(this.handlerConnector.hooks,this.handlerMonitor);return e}},{key:"render",value:function(){return h.default.createElement(n,l({},this.props,this.state,{ref:C(n)?this.handleChildRef:null}))}}]),t}(d.Component),t.DecoratedComponent=n,t.displayName=y+"("+D+")",t.contextTypes={dragDropManager:p.default.object.isRequired},i);return(0,w.default)(O,n)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var d=i(1),h=n(d),f=i(5),p=n(f),g=i(1654),v=i(106),m=(n(v),i(40)),b=n(m),y=i(173),w=n(y),x=i(474),E=n(x),_=i(882),A=n(_),C=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return"string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":a(e))||t&&(0,s.default)(e)&&e.every(function(e){return r(e,!1)})}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r;var o=i(50),s=n(o)},function(e,t){"use strict";function i(e,t){if(e===t)return!0;if("object"!==("undefined"==typeof e?"undefined":n(e))||null===e||"object"!==("undefined"==typeof t?"undefined":n(t))||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<i.length;o+=1){if(!a.call(t,i[o]))return!1;var s=e[i[o]],l=t[i[o]];if(s!==l||"object"===("undefined"==typeof s?"undefined":n(s))||"object"===("undefined"==typeof l?"undefined":n(l)))return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+("You can either wrap "+t+" into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function a(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,s.isValidElement)(t)){var n=t;return void e(n,i)}var a=t;r(a);var o=i?function(t){return e(t,i)}:e;return(0,u.default)(a,o)}}function o(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i],r=a(n);t[i]=function(){return r}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=i(1),l=i(2178),u=n(l)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){n(this,e),this.heightData=t,this.numberOfChildren=i}return r(e,[{key:"getTotalScrollableHeight",value:function(){}},{key:"getDisplayIndexStart",value:function(e){}},{key:"getDisplayIndexEnd",value:function(e){}},{key:"getTopSpacerHeight",value:function(e){}},{key:"getBottomSpacerHeight",value:function(e){}}]),e}();e.exports=a},function(e,t,i){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=t.React||i(1),l=t.PropTypes||i(5),u=i(887);i(2185);var c=i(886),d=i(2186),h=i(683),f=i(2184),p=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));g.call(i);var a=i.recomputeInternalStateFromProps(e);i.computedProps=a.computedProps,i.utils=a.utils,i.shouldAttachToBottom=e.displayBottomUpwards;var o=a.newState;return o.scrollTimeout=void 0,o.isScrolling=!1,i.state=o,i}return a(t,e),o(t,null,[{key:"containerHeightScaleFactor",value:function(e){if(!h(e))throw new Error("The scale factor must be a number.");return{type:c.CONTAINER_HEIGHT_SCALE_FACTOR,amount:e}}}]),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.recomputeInternalStateFromProps(e);this.computedProps=t.computedProps,this.utils=t.utils,this.setState(t.newState)}},{key:"componentWillUpdate",value:function(){this.props.displayBottomUpwards&&(this.preservedScrollState=this.utils.getScrollTop()-this.loadingSpinnerHeight)}},{key:"componentDidUpdate",value:function(e,t){if(this.loadingSpinnerHeight=this.utils.getLoadingSpinnerHeight(),!e.useWindowAsScrollContainer&&this.props.useWindowAsScrollContainer&&this.utils.subscribeToScrollListener(),this.props.displayBottomUpwards){var i=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<i?this.utils.setScrollTop(i):e.isInfiniteLoading&&!this.props.isInfiniteLoading&&this.utils.setScrollTop(this.state.infiniteComputer.getTotalScrollableHeight()-t.infiniteComputer.getTotalScrollableHeight()+this.preservedScrollState)}var n=this.state.numberOfChildren!==t.numberOfChildren;if(n){var r=d.recomputeApertureStateFromOptionsAndScrollTop(this.state,this.utils.getScrollTop());this.setState(r)}var a=n&&!this.hasAllVisibleItems()&&!this.state.isInfiniteLoading;a&&this.onInfiniteLoad()}},{key:"componentDidMount",value:function(){if(this.utils.subscribeToScrollListener(),this.hasAllVisibleItems()||this.onInfiniteLoad(),this.props.displayBottomUpwards){var e=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<e&&this.utils.setScrollTop(e)}}},{key:"componentWillUnmount",value:function(){this.utils.unsubscribeFromScrollListener()}},{key:"render",value:function(){var e,t=this;e=this.state.numberOfChildren>1?this.computedProps.children.slice(this.state.displayIndexStart,this.state.displayIndexEnd+1):this.computedProps.children;var i={};this.state.isScrolling&&(i.pointerEvents="none");var n=this.state.infiniteComputer.getTopSpacerHeight(this.state.displayIndexStart),r=this.state.infiniteComputer.getBottomSpacerHeight(this.state.displayIndexEnd);if(this.computedProps.displayBottomUpwards){var a=this.computedProps.containerHeight-this.state.infiniteComputer.getTotalScrollableHeight();a>0&&(n=a-this.loadingSpinnerHeight)}var o=void 0===this.computedProps.infiniteLoadBeginEdgeOffset?null:s.createElement("div",{ref:function(e){t.loadingSpinner=e}},this.state.isInfiniteLoading?this.computedProps.loadingSpinnerDelegate:null);return s.createElement("div",{className:this.computedProps.className,ref:function(e){t.scrollable=e},style:this.utils.buildScrollableStyle(),onScroll:this.utils.nodeScrollListener},s.createElement("div",{ref:function(e){t.smoothScrollingWrapper=e},style:i},s.createElement("div",{ref:function(e){t.topSpacer=e},style:d.buildHeightStyle(n)}),this.computedProps.displayBottomUpwards&&o,e,!this.computedProps.displayBottomUpwards&&o,s.createElement("div",{ref:function(e){t.bottomSpacer=e},style:d.buildHeightStyle(r)})))}}]),t}(s.Component);p.propTypes={children:l.any,handleScroll:l.func,preloadBatchSize:l.oneOfType([l.number,l.shape({type:l.oneOf(["containerHeightScaleFactor"]).isRequired,amount:l.number.isRequired})]),preloadAdditionalHeight:l.oneOfType([l.number,l.shape({type:l.oneOf(["containerHeightScaleFactor"]).isRequired,amount:l.number.isRequired})]),elementHeight:l.oneOfType([l.number,l.arrayOf(l.number)]).isRequired,containerHeight:l.number,useWindowAsScrollContainer:l.bool,displayBottomUpwards:l.bool.isRequired,infiniteLoadBeginEdgeOffset:l.number,onInfiniteLoad:l.func,loadingSpinnerDelegate:l.node,isInfiniteLoading:l.bool,timeScrollStateLastsForAfterUserScrolls:l.number,className:l.string,styles:l.shape({scrollableStyle:l.object}).isRequired},p.defaultProps={handleScroll:function(){},useWindowAsScrollContainer:!1,onInfiniteLoad:function(){},loadingSpinnerDelegate:s.createElement("div",null),displayBottomUpwards:!1,isInfiniteLoading:!1,timeScrollStateLastsForAfterUserScrolls:150,className:"",styles:{}};var g=function(){var e=this;this.shouldAttachToBottom=!1,this.preservedScrollState=0,this.loadingSpinnerHeight=0,this.generateComputedUtilityFunctions=function(t){var i={};return i.getLoadingSpinnerHeight=function(){var t=0;return e.loadingSpinner&&(t=e.loadingSpinner.offsetHeight||0),t},t.useWindowAsScrollContainer?(i.subscribeToScrollListener=function(){u.addEventListener("scroll",e.infiniteHandleScroll)},i.unsubscribeFromScrollListener=function(){u.removeEventListener("scroll",e.infiniteHandleScroll)},i.nodeScrollListener=function(){},i.getScrollTop=function(){return u.pageYOffset},i.setScrollTop=function(e){u.scroll(u.pageXOffset,e)},i.scrollShouldBeIgnored=function(){return!1},i.buildScrollableStyle=function(){return{}}):(i.subscribeToScrollListener=function(){},i.unsubscribeFromScrollListener=function(){},i.nodeScrollListener=e.infiniteHandleScroll,i.getScrollTop=function(){return e.scrollable?e.scrollable.scrollTop:0},i.setScrollTop=function(t){e.scrollable&&(e.scrollable.scrollTop=t)},i.scrollShouldBeIgnored=function(t){return t.target!==e.scrollable},i.buildScrollableStyle=function(){return Object.assign({},{height:e.computedProps.containerHeight,overflowX:"hidden",overflowY:"scroll",WebkitOverflowScrolling:"touch"},e.computedProps.styles.scrollableStyle||{})}),i},this.recomputeInternalStateFromProps=function(t){f(t);var i=d.generateComputedProps(t),n=e.generateComputedUtilityFunctions(t),r={};return r.numberOfChildren=s.Children.count(i.children),r.infiniteComputer=d.createInfiniteComputer(i.elementHeight,i.children),void 0!==i.isInfiniteLoading&&(r.isInfiniteLoading=i.isInfiniteLoading),r.preloadBatchSize=i.preloadBatchSize,r.preloadAdditionalHeight=i.preloadAdditionalHeight,r=Object.assign(r,d.recomputeApertureStateFromOptionsAndScrollTop(r,n.getScrollTop())),{computedProps:i,utils:n,newState:r}},this.infiniteHandleScroll=function(t){e.utils.scrollShouldBeIgnored(t)||(e.computedProps.handleScroll(e.scrollable),e.handleScroll(e.utils.getScrollTop()))},this.manageScrollTimeouts=function(){e.state.scrollTimeout&&clearTimeout(e.state.scrollTimeout);var t=e,i=setTimeout(function(){t.setState({isScrolling:!1,scrollTimeout:void 0})},e.computedProps.timeScrollStateLastsForAfterUserScrolls);e.setState({isScrolling:!0,scrollTimeout:i})},this.getLowestPossibleScrollTop=function(){return e.state.infiniteComputer.getTotalScrollableHeight()-e.computedProps.containerHeight},this.hasAllVisibleItems=function(){return!(h(e.computedProps.infiniteLoadBeginEdgeOffset)&&e.state.infiniteComputer.getTotalScrollableHeight()<e.computedProps.containerHeight)},this.passedEdgeForInfiniteScroll=function(t){var i=e.computedProps.infiniteLoadBeginEdgeOffset;return"number"==typeof i&&(e.computedProps.displayBottomUpwards?!e.shouldAttachToBottom&&t<i:t>e.state.infiniteComputer.getTotalScrollableHeight()-e.computedProps.containerHeight-i)},this.onInfiniteLoad=function(){e.setState({isInfiniteLoading:!0}),e.computedProps.onInfiniteLoad()},this.handleScroll=function(t){e.shouldAttachToBottom=e.computedProps.displayBottomUpwards&&t>=e.getLowestPossibleScrollTop(),e.manageScrollTimeouts();var i=d.recomputeApertureStateFromOptionsAndScrollTop(e.state,t);e.passedEdgeForInfiniteScroll(t)&&!e.state.isInfiniteLoading?(e.setState(Object.assign({},i)),e.onInfiniteLoad()):e.setState(i)}};e.exports=p,t.Infinite=p}).call(t,function(){return this}())},function(e,t){"use strict";e.exports={CONTAINER_HEIGHT_SCALE_FACTOR:"containerHeightScaleFactor"}},function(e,t){(function(t){"use strict";var i;i="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(t,function(){return this}())},function(e,t){"use strict";function i(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function n(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);i(n,t),t="length"in n?n[0]:n}return c=t||c}function r(){return!(!document||!document.body)&&(n(document.body),!0)}function a(e){if(!e&&!c&&!r())throw new Error(["react-modal: Cannot fallback to `document.body`, because it's not ready or available.","If you are doing server-side rendering, use this function to defined an element.","`Modal.setAppElement(el)` to make this accessible"])}function o(e){a(e),(e||c).setAttribute("aria-hidden","true")}function s(e){a(e),(e||c).removeAttribute("aria-hidden")}function l(){c=null}function u(){c=document.body}Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=i,t.setElement=n,t.tryForceFallback=r,t.validateElement=a,t.hide=o,t.show=s,t.documentNotReadyOrSSRTesting=l,t.resetForTesting=u;var c=null},function(e,t){"use strict";function i(){return o}function n(e){return o[e]||(o[e]=0),o[e]+=1,e}function r(e){return o[e]&&(o[e]-=1),e}function a(){return Object.keys(o).reduce(function(e,t){return e+o[t]},0)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=i,t.add=n,t.remove=r,t.totalCount=a;var o={}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1748),a=n(r),o=a.default,s=o.canUseDOM?window.HTMLElement:{};t.default=s,e.exports=t.default},function(e,t){"use strict";function i(e){return e.offsetWidth<=0&&e.offsetHeight<=0||"none"===e.style.display}function n(e){for(var t=e;t&&t!==document.body;){if(i(t))return!1;t=t.parentNode}return!0}function r(e,t){var i=e.nodeName.toLowerCase(),r=s.test(i)&&!e.disabled||("a"===i?e.href||t:t);return r&&n(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var i=isNaN(t);return(i||t>=0)&&r(e,!i)}function o(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;/*!
	 * Adapted from jQuery UI core
	 *
	 * http://jqueryui.com
	 *
	 * Copyright 2014 jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * http://api.jqueryui.com/category/ui-core/
	 */
var s=/input|select|textarea|button|object/;e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(2192),a=n(r);t.default=a.default,e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},function(e,t,i){var n,r;!function(a){function o(e,t,i,n){return function(e,r){var a=n({statics:{getClass:function(){return e.getClass?e.getClass():e}},getInstance:function(){return e.prototype.isReactComponent?this.refs.instance:this},__outsideClickHandler:function(){},getDefaultProps:function(){return{excludeScrollbar:r&&r.excludeScrollbar}},componentDidMount:function(){if("undefined"!=typeof document&&document.createElement){var e,n=this.getInstance();if(r&&"function"==typeof r.handleClickOutside){if(e=r.handleClickOutside(n),"function"!=typeof e)throw new Error("Component lacks a function for processing outside click events specified by the handleClickOutside config option.")}else if("function"==typeof n.handleClickOutside)e=t.Component.prototype.isPrototypeOf(n)?n.handleClickOutside.bind(n):n.handleClickOutside;else{if("function"!=typeof n.props.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");e=n.props.handleClickOutside}var a=i.findDOMNode(n);null===a&&(console.warn("Antipattern warning: there was no DOM node associated with the component that is being wrapped by outsideClick."),console.warn(["This is typically caused by having a component that starts life with a render function that","returns `null` (due to a state or props value), so that the component 'exist' in the React","chain of components, but not in the DOM.\n\nInstead, you need to refactor your code so that the","decision of whether or not to show your component is handled by the parent, in their render()","function.\n\nIn code, rather than:\n\n  A{render(){return check? <.../> : null;}\n  B{render(){<A check=... />}\n\nmake sure that you","use:\n\n  A{render(){return <.../>}\n  B{render(){return <...>{ check ? <A/> : null }<...>}}\n\nThat is:","the parent is always responsible for deciding whether or not to render any of its children.","It is not the child's responsibility to decide whether a render instruction from above should","get ignored or not by returning `null`.\n\nWhen any component gets its render() function called,","that is the signal that it should be rendering its part of the UI. It may in turn decide not to","render all of *its* children, but it should never return `null` for itself. It is not responsible","for that decision."].join(" ")));var o=this.__outsideClickHandler=g(a,n,e,this.props.outsideClickIgnoreClass||c,this.props.excludeScrollbar,this.props.preventDefault||!1,this.props.stopPropagation||!1),s=l.length;l.push(this),u[s]=o,this.props.disableOnClickOutside||this.enableOnClickOutside()}},componentWillReceiveProps:function(e){this.props.disableOnClickOutside&&!e.disableOnClickOutside?this.enableOnClickOutside():!this.props.disableOnClickOutside&&e.disableOnClickOutside&&this.disableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=l.indexOf(this);e>-1&&(u[e]&&u.splice(e,1),l.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||d;t.forEach||(t=[t]),t.forEach(function(t){document.addEventListener(t,e)})}},disableOnClickOutside:function(){var e=this.__outsideClickHandler;if("undefined"!=typeof document){var t=this.props.eventTypes||d;t.forEach||(t=[t]),t.forEach(function(t){document.removeEventListener(t,e)})}},render:function(){var i=this.props,n={};return Object.keys(this.props).forEach(function(e){"excludeScrollbar"!==e&&(n[e]=i[e])}),e.prototype.isReactComponent&&(n.ref="instance"),n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,t.createElement(e,n)}});return function(e,t){var i=e.displayName||e.name||"Component";t.displayName="OnClickOutside("+i+")"}(e,a),a}}function s(a,o){n=[i(1),i(13),i(32)],r=function(e,t,i){return i||(i=e.createClass),o(a,e,t,i)}.apply(t,n),!(void 0!==r&&(e.exports=r))}var l=[],u=[],c="ignore-react-onclickoutside",d=["mousedown","touchstart"],h=function(e,t,i){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(i):e.classList.contains(i))},f=function(e,t,i){if(e===t)return!0;for(;e.parentNode;){if(h(e,t,i))return!0;e=e.parentNode}return e},p=function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY},g=function(e,t,i,n,r,a,o){return function(t){a&&t.preventDefault(),o&&t.stopPropagation();var s=t.target;r&&p(t)||f(s,e,n)!==document||i(t)}};s(a,o)}(this)},,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var r=i(328);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var a=i(2213),o=n(a),s=i(2214),l=n(s),u=i(2215),c=n(u);t.SortableContainer=o.default,t.SortableElement=l.default,t.SortableHandle=c.default,t.sortableContainer=o.default,t.sortableElement=l.default,t.sortableHandle=c.default},,,,,,,,,,,,,,,,function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function s(e){var t=new FileReader,i=o(t);return t.readAsArrayBuffer(e),i}function l(e){var t=new FileReader,i=o(t);return t.readAsText(e),i}function u(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var i=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function g(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,n){e=t(e),n=i(n);var r=this.map[e];this.map[e]=r?r+","+n:n},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,n){this.map[t(e)]=i(n)},r.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),n(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(E.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=f,e.Response=v,e.fetch=function(e,t){return new Promise(function(i,n){var r=new f(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new v(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,[2314,1756],,,[2314,1758],,,function(e,t,i){"use strict";i(39),i(1759),i(94),i(65)},,,[2314,1761],,,,,,,[2314,1765],,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(){if(l.length)throw l.shift()}function r(e){var t;t=s.length?s.pop():new a,t.task=e,o(t)}function a(){this.task=null}var o=i(1044),s=[],l=[],u=o.makeRequestCallFromTimer(n);e.exports=r,a.prototype.call=function(){try{this.task.call()}catch(e){r.onerror?r.onerror(e):(l.push(e),u())}finally{this.task=null,s[s.length]=this}}},function(e,t){(function(t){"use strict";function i(e){s.length||(o(),l=!0),s[s.length]=e}function n(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>c){for(var t=0,i=s.length-u;t<i;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0,l=!1}function r(e){var t=1,i=new h(e),n=document.createTextNode("");return i.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function a(e){return function(){function t(){clearTimeout(i),clearInterval(n),e()}var i=setTimeout(t,0),n=setInterval(t,50)}}e.exports=i;var o,s=[],l=!1,u=0,c=1024,d="undefined"!=typeof t?t:self,h=d.MutationObserver||d.WebKitMutationObserver;o="function"==typeof h?r(n):a(n),i.requestFlush=o,i.makeRequestCallFromTimer=a}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{setSelectAttributes:(0,T.bindActionCreators)(I.setSelectAttributes,e),setSelectMetrics:(0,T.bindActionCreators)(I.setSelectMetrics,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeList=void 0;var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(8),v=n(g),m=i(15),b=n(m),y=i(459),w=n(y),x=i(5),E=n(x),_=i(1),A=n(_),C=i(108),S=i(14),T=i(16),I=i(84),D=i(60),O=i(59),M=i(145),k=i(215),N=i(528),P=n(N),L={drop:k.drop,hover:k.hover,canDrop:function(){return!0}},R=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!1}),currentItem:t.getItem()}},F=function(e){return e&&e.toString().toLocaleLowerCase()},j=function(e,t){return F(e.name).indexOf(F(t))>=0},B=function(e,t){return e.type===O.HIERARCHY&&b.default.findIndex(e.attributes,function(e){return F(e.name).indexOf(F(t))>=0})>=0},H=function(e,t,i){return e.isMFA&&t&&b.default.some(t[e.id],function(e){return b.default.some(b.default.map(e,function(e){return F(e.name)}),function(e){return e&&e.indexOf(F(i))>=0})})},V=function(e,t,i){return b.default.findIndex(e.attributes,function(e){return e.isMFA&&H(e,t,i)})>=0},U=function(e,t){return""===e?function(e){return e}:w.default.filter(function(i){return j(i,e)||B(i,e)||H(i,t,e)||V(i,t,e)})},W=function(){return w.default.filter(function(e){return e.isMFA||e.type===O.HIERARCHY&&b.default.findIndex(e.attributes,function(e){return e.isMFA})>=0})},z=t.AttributeList=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.getUUID=function(){return i.UUID},i.setSelectObjects=function(e,t){var n=i.props,r=n.setSelectAttributes,a=n.setSelectMetrics;e.length>0?r(e,t):r(e,null),a([])},i.UUID=(new Date).valueOf(),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.attributeList,i=e.selectedObjects,n=e.connectDropTarget,r=e.isOver,a=e.currentItem,o=e.keyword,s=e.isDivided,l=e.mfaOnly,u=e.objectType,c=[U(o,this.props.AllAttributesInMFA)];l&&c.push(W());var d=w.default.flow(c)(t);return n(A.default.createElement("div",{className:(0,v.default)("attribute-list",{hovering:r&&a&&(a.type===O.METRICS||a.isInLinearHierarchy||a.isInGraphHierarchy)},{divided:s})},A.default.createElement("div",{className:"object-type-name"},"Attribute"),A.default.createElement(P.default,{objects:d,keyword:o,objectType:u,selectedObjects:i,setSelectObjects:this.setSelectObjects})))}}]),t}(_.Component);z.propTypes={keyword:E.default.string,objectType:E.default.string,mfaOnly:E.default.bool,isDivided:E.default.bool,attributeList:E.default.array,selectedObjects:E.default.array,setSelectAttributes:E.default.func,setSelectMetricsOnPanel:E.default.func,AllAttributesInMFA:E.default.object,isOver:E.default.bool,currentItem:E.default.object,connectDropTarget:E.default.func};var G=function(e){return{attributeList:(0,D.selectedAttributes)(e),selectedObjects:(0,D.getSelectedAttributesOnPanel)(e),selectedMetrics:(0,D.getSelectedMetricsOnPanel)(e),AllAttributesInMFA:(0,D.AllAttributesInMFA)(e)}};t.default=(0,T.compose)((0,S.connect)(G,r),(0,C.DropTarget)(M.OBJECT_ROW,L,R))(z)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleMenuClick=t.menuConfig=void 0;var a=i(46),o=r(a),s=i(15),l=r(s),u=i(29),c=i(1081),d=r(c),h=i(1),f=r(h),p=i(182),g=i(84),v=i(59),m=i(354),b=i(84),y=i(216),w=i(522),x=n(w),E=i(260);t.menuConfig=[{key:x.RENAME,getName:function(){return"Rename"},handler:function(){return function(e){e()}},showInSingleRow:!0,showInMultipleRows:!1,showInCrossSelection:!1},{key:x.CONVERT,getName:function(e){return"Convert to "+(e===v.ATTRIBUTES?"Metric":"Attribute")},handler:function(e){return function(t,i){var n=i(e);(0,u.dispatchAction)(t(n,"Convert Object Type"))}},showInSingleRow:!0,showInMultipleRows:!0,showInCrossSelection:!1,customizedDisplayLogic:function(e){return l.default.findIndex(e,function(e){return"hierarchy"===e.type||e.isInGraphHierarchy})<0}},{key:x.CREATE_MFA,getName:function(){return"Create Multi-forms Attribute"},handler:function(){return function(e){(0,u.dispatchAction)(e())}},showInSingleRow:!1,showInMultipleRows:!0,doNotShowInMetric:!0,showInCrossSelection:!1,customizedDisplayLogic:function(e){var t=!1,i=l.default.map(e,function(e){return l.default.map(e.tid,function(e){return e.id})}),n=l.default.intersection.apply(l.default,(0,o.default)(i));if(t=n.length>0&&l.default.findIndex(e,function(e){return e.tid.length>1})<0,!t){var r=l.default.uniq(l.default.flatMap(i));l.default.findIndex(e,function(e){return l.default.intersection(l.default.map(e.tid,function(e){return e.id}),r).length===r.length})>=0&&(t=!0)}return t}},{key:x.EDIT_MFA,getName:function(){return"Edit Multi-forms Attribute"},handler:function(){return function(e){(0,u.dispatchAction)(e())}},showInSingleRow:!0,showInMultipleRows:!1,showInCrossSelection:!1,customizedDisplayLogic:function(e){return 1===e.length&&e[0].isMFA}},{key:x.CREATE_HIERARCHY,getName:function(){return"Create Hierarchy"},showInSingleRow:!0,showInMultipleRows:!0,showInCrossSelection:!1,handler:function(){return function(e,t){var i=t();(0,u.dispatchAction)(e(i)),(0,u.dispatchAction)((0,b.setSelectAttributesOnPanel)([]))}},customizedDisplayLogic:function(e,t){return 1===e.length?t===v.ATTRIBUTES&&!e[0].isInLinearHierarchy&&!e[0].isInGraphHierarchy&&e[0].type!==v.HIERARCHY:t===v.ATTRIBUTES&&l.default.findIndex(e,function(e){return e.isInLinearHierarchy||e.isInGraphHierarchy||e.type===v.HIERARCHY})===-1}},{key:x.DELETE_FROM_HIERARCHY,getName:function(){return"Delete from Hierarchy"},showInSingleRow:!0,showInMultipleRows:!0,showInCrossSelection:!1,handler:function(){return function(e,t){var i=t();(0,u.dispatchAction)(e(i,"Delete attribute from hierarchy"))}},customizedDisplayLogic:function(e,t){return t===v.ATTRIBUTES&&(1===e.length?e[0].isInLinearHierarchy||e[0].isInGraphHierarchy:l.default.findIndex(e,function(e){return!e.isInLinearHierarchy||!e.isInGraphHierarchy})<0)}},{key:x.DELETE_HIERARCHY,getName:function(){return"Delete Hierarchy"},showInSingleRow:!0,showInMultipleRows:!1,showInCrossSelection:!1,handler:function(){return function(e,t){var i=t();(0,u.dispatchAction)(e(i,"Delete attribute from hierarchy"))}},customizedDisplayLogic:function(e,t){return t===v.ATTRIBUTES&&(1===e.length?e[0].type===v.HIERARCHY:void 0)}},{key:x.CONVERT_DATA_TYPE,getName:function(){return"Convert DataType"},showInSingleRow:!1,showInMultipleRows:!1,hasSubMenu:!1,showInCrossSelection:!1,getSubMenu:function(e){return l.default.map(l.default.filter(x.ObjectRowAvailableType,function(t){return e!==v.METRICS||t.isVisibleForMetirc}),function(t){return{key:t.columnDataType,getName:function(){return t.columnDataType},handler:function(i,n){var r=[n(e,t)];(0,u.dispatchAction)(i(r,"Change Data Type"))}}})}},{key:x.UNMAP,getName:function(){return"Linked to"},showInSingleRow:!0,showInMultipleRows:!1,hasSubMenu:!0,showInCrossSelection:!1,customizedDisplayLogic:function(e,t){var i=!1;return 1===e.length&&(i=e[0].isLinked),i},getSubMenu:function(e,t){return[{key:x.UNMAP+"test",getName:function(){return f.default.createElement(d.default,{selectedObject:t&&t[0],objectType:e})},handler:function(e,t){}}]}}],t.handleMenuClick=function(e,t){return function(e){var i=e.item,n=(e.key,e.keyPath),r=i.props.handler,a=n.pop(),o=function(e){return e},s=function(e){return e};switch(a){case x.RENAME:o=function(){return y.RMCObjectSubject$.onNext()};break;case x.CONVERT:o=p.manipulateModel,s=function(e){var i=l.default.map(t,function(e){return e.id});return l.default.map(i,function(t){return(0,E.getConvertObjectTypeOperation)(void 0,e,t)})};break;case x.CREATE_MFA:case x.EDIT_MFA:o=m.openMFADialog;break;case x.CONVERT_DATA_TYPE:o=p.manipulateModel,s=function(e,i){var n=t[0],r=n.id,a=n.forms,o=i.baseFormType!==x.NUMBER?void 0:i.columnDataType,s=e===v.ATTRIBUTES?i.baseFormType:void 0,l=e===v.ATTRIBUTES?a[0].objectId:void 0;return(0,E.getChangeDataTypeOperation)(r,e,o,s,l)};break;case x.DELETE_FROM_HIERARCHY:o=p.manipulateModel,s=function(){var e=l.default.map(t,function(e){return e.id}),i=l.default.map(t,function(e){return e.hierarchyName});return(0,E.getDeleteAttrFromHier)(e,i)};break;case x.DELETE_HIERARCHY:o=p.manipulateModel,s=function(){var e=t[0],i=e.id,n=e.name;return(0,E.getDeleteHierarchyOperation)(i,n)};break;case x.CREATE_HIERARCHY:o=g.createHierarchyObj,s=function(){var e=l.default.map(t,function(e){return e.id}),i=l.default.map(t,function(e){return e.name});return(0,E.getCreateHierachyObjParams)(e,i)};break;default:return}r&&r(o,s)}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=r(a),s=i(2),l=r(s),u=i(6),c=r(u),d=i(4),h=r(d),f=i(3),p=r(f),g=i(15),v=r(g),m=i(26),b=(r(m),i(459)),y=r(b),w=i(5),x=r(w),E=i(1),_=r(E),A=i(14),C=i(13),S=(r(C),i(185)),T=r(S),I=i(151),D=r(I),O=i(372),M=r(O),k=i(1068),N=i(522),P=n(N),L=i(59),R=i(146),F=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.filteringMenuContent=function(e,t){var n=[];return t.length>1&&n.push(y.default.filter({showInMultipleRows:!0})),1===t.length&&n.push(y.default.filter({showInSingleRow:!0})),i.props.selectedObjectsCombined.selectedAttributes.length>0&&i.props.selectedObjectsCombined.selectedMetrics.length>0?n.push(y.default.filter({showInCrossSelection:!0})):n.push(y.default.filter({showInCrossSelection:!1})),e===L.METRICS&&n.push(y.default.filter(function(e){return!e.doNotShowInMetric})),n.push(y.default.filter(function(i){return!i.customizedDisplayLogic||i.customizedDisplayLogic(t,e)})),y.default.flow(n)(k.menuConfig)},i.getDataType=function(e){if(1===e.length){var t=e[0];return t.forms&&t.forms[0].baseFormType!=P.NUMBER?t.forms[0].baseFormType:t.dataType}},i.handleSubMenuChange=function(e){var t=!1;(e.length>0||v.default.find(i.menuItem,"props.active"))&&(t=!0),i.contextMenu.handleCXMVisibleChange(t)},i.updateMenuItem=function(e){e&&!v.default.find(i.menuItem,["props.eventKey",e.props.eventKey])&&i.menuItem.push(e)},i.hideContextMenu=function(){i.contextMenu.handleCXMVisibleChange(!1)},i.contextMenu=null,i.menuItem=[],i.id="SUB_MENU"+Date.now(),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.children,n=t.objectType,r=t.selectedObjects,a=this.filteringMenuContent(n,r),o=_.default.createElement(D.default,{onClick:(0,k.handleMenuClick)(a,r),defaultSelectedKeys:[this.getDataType(r)],onSubMenuChange:this.handleSubMenuChange,id:this.id,getPopupContainer:function(){return document.getElementById(e.id)}},v.default.map(a,function(t){return t.hasSubMenu?_.default.createElement(M.default,{ref:e.updateMenuItem,title:t.getName(n),key:t.key},v.default.map(t.getSubMenu(n,r),function(e){return _.default.createElement(D.default.Item,{key:e.key,handler:e.handler},e.getName())})):_.default.createElement(D.default.Item,{key:t.key,ref:e.updateMenuItem,handler:t.handler?t.handler(n):null},t.getName(n))}));return _.default.createElement(T.default,{ref:function(t){return e.contextMenu=t},menu:o},i)}},{key:"componentWillReceiveProps",value:function(e){this.contextMenu&&this.contextMenu.state.cxmVisible&&0===e.selectedObjects.length&&this.contextMenu.handleCXMVisibleChange(!1)}}]),t}(E.Component);F.propTypes={objectType:x.default.string.isRequired,selectedObjects:x.default.array,children:x.default.element.isRequired,selectedObjectsCombined:x.default.object};var j=function(e,t){return{selectedObjectsCombined:(0,R.selectObjects)(e)}};t.default=(0,A.connect)(j,null,null,{withRef:!0})(F)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HierarchyWrapper=void 0;var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(5),g=n(p),v=i(1),m=n(v),b=i(14),y=i(524),w=n(y),x=i(60),E=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return m.default.createElement(w.default,this.props)}}]),t}(m.default.Component);w.default.propTypes={selectedTableIds:g.default.array};var _=function(e){return{selectedTableIds:(0,x.selectedTableIds)(e)}};t.default=(0,b.connect)(_,null,null,{withRef:!0})(E),t.HierarchyWrapper=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSortedHierAttr=t.isGraphHierarchy=void 0;var r=i(28),a=n(r),o=i(1340),s=n(o),l=i(117),u=n(l),c=i(55),d=n(c),h=function e(t,i,n){if(n[i]||(n[i]={}),!n[i].visited){(0,d.default)(n[i],{visited:!0});var r=t[i];if(r.relationships){var a=!0,o=!1,s=void 0;try{for(var l,c=(0,u.default)(r.relationships);!(a=(l=c.next()).done);a=!0){var h=l.value,f=h.child;f&&(n[f]||(n[f]={}),n[f].inDegree?n[f].inDegree++:(0,d.default)(n[f],{inDegree:1}),e(t,f,n))}}catch(e){o=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw s}}}}};t.isGraphHierarchy=function(e){var t=!0,i=!1,n=void 0;try{for(var r,o=(0,u.default)((0,s.default)(e));!(t=(r=o.next()).done);t=!0){var l=r.value;if(l.relationships&&l.relationships.length>1)return!0}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}var c={},d=!0,f=!1,p=void 0;try{for(var g,v=(0,u.default)((0,a.default)(e));!(d=(g=v.next()).done);d=!0){var m=g.value;h(e,m,c)}}catch(e){f=!0,p=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw p}}var b=!0,y=!1,w=void 0;try{for(var x,E=(0,u.default)((0,s.default)(c));!(b=(x=E.next()).done);b=!0){var _=x.value;if(_.inDegree>1)return!0}}catch(e){y=!0,w=e}finally{try{!b&&E.return&&E.return()}finally{if(y)throw w}}var A=!0,C=!1,S=void 0;try{for(var T,I=(0,u.default)((0,a.default)(e));!(A=(T=I.next()).done);A=!0){var D=T.value;if(!e[D].relationships&&void 0===c[D].inDegree)return!0}}catch(e){C=!0,S=e}finally{try{!A&&I.return&&I.return()}finally{if(C)throw S}}return!1},t.getSortedHierAttr=function(e){var t=[],i=!0,n=!1,r=void 0;try{for(var o,l=(0,u.default)((0,s.default)(e));!(i=(o=l.next()).done);i=!0){var c=o.value,d=c,h=0;for(t=[];d.relationships&&d.relationships.length>0&&d.relationships[0].child;)t.push(d),h++,d=e[d.relationships[0].child];if(t.push(d),h++,h===(0,a.default)(e).length)break}}catch(e){n=!0,r=e}finally{try{!i&&l.return&&l.return()}finally{if(n)throw r}}return t}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(55),a=n(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];(0,a.default)({},e);switch(t.type){default:return e}};t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(66),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(94);var v=i(1),m=n(v),b=function(e){function t(e){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.FormCategoryData.map(function(e){return m.default.createElement(a.default.Option,{key:e},e)});return m.default.createElement(a.default,{dropdownClassName:"mfadialog-formCategoryDropdown",defaultValue:this.props.defaultValue,onSelect:this.props.onChange,style:{width:"127px"},disabled:this.props.disabled},e)}}]),t}(m.default.Component);t.default=b},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){this.props.switchMFATable({tableId:e,tableName:this.props.mfaTableData.tid2tname[e]}),d.apply(this)}function a(e,t){var i={Key:e.key,Name:e.Name,Item:"Name",Value:t};this.props.updateMFADialogItem(i),c.apply(this),d.apply(this)}function o(e,t){var i={Key:e.key,Name:e.Name,Item:"FormCategory",Value:t};this.props.updateMFADialogItem(i),d.apply(this),c.apply(this)}function s(e,t){var i={Key:e.key,Name:e.Name,Item:"DisplayForm",Value:t.target.checked};this.props.updateMFADialogItem(i)}function l(){this.props.addNewForm()}function u(e,t){this.props.delOneForm(e.key),d.apply(this),c.apply(this)}function c(){var e=this,t=this.idForm,i={};for(var n in this.props.mfaDialog.data){var r=this.props.mfaDialog.data[n];for(var a in r)""!==r[a].FormCategory&&r[a].FormCategory!==t&&!function(){var t=r[a].Name,n=V.default.find(e.attributesInHier,function(e){return e.name===t});n&&(i[t]=n.hierarchyName)}()}var o=(0,Y.generateHierarchyWarningMsg)(i);o!==this.props.mfaDialog.hierarchyMsg&&this.props.setHierarchyMsg(o)}function d(){var e=!0,t="",i=this.props.mfaDialog.data,n=this.props.FormCategoryData[0];for(var r in i){var a=V.default.flatMap(i[r],function(e){return e.Name});if(a.includes("")){e=!1,t="Empty Form Name Not Allowed";break}if(V.default.uniq(a).length!==a.length){e=!1,t="Duplicated Form Name Not Allowed";break}var o=V.default.flatMap(i[r],function(e){return e.FormCategory});if(o.includes("")){e=!1,t="Empty Form Category Not Allowed";break}if(V.default.uniq(o).length!==o.length){e=!1,t="The same Form Category cannot be used more than once within each table containing a multi-form attribute.";break}var s=V.default.countBy(o),l=0,u=0;if("Latitude"in s&&(l=s.Latitude),"Longitude"in s&&(u=s.Longitude),l!==u){e=!1,
t=1!==l?"Latitude form category is missing.":"Longitude form category is missing.";break}if(!o.includes(n)){e=!1,t="A column must be assigned to the ID form category within each table containing a multi-form attribute.";break}}this.props.selectedAttributes.length>1&&V.default.uniqBy(V.default.filter(V.default.flatMap(i),function(e){return e.FormCategory===n}),function(e){return e.Name}).length>1&&(e=!1,t="All tables should share the same attribute as ID Form"),e===this.props.mfaDialog.mfaValid&&t===this.props.mfaDialog.validMsg||(this.props.setMFAValid(e),this.props.setValidMsg(t))}function h(e,t){var i=this;(0,Y.getFormCategory)(V.default.map(this.props.selectedAttributes,function(e){return e.id})).then(function(e){if(e&&e.modelForms&&e.modelForms.systemForms&&e.modelForms.tables){var t=V.default.reduce(e.modelForms.systemForms,function(e,t){return e[t.id]=t.name,e},{}),n=V.default.reduce(i.props.selectedAttributes,function(e,t){return e[t.id]=t.name,e},{});V.default.forEach(e.modelForms.tables,function(e){i.props.updateMFADialog({tableId:e.tableId,tableValue:V.default.map(e.mappings,function(e,i){return{key:i,Name:n[e.attributeId],FormCategory:t[e.formId],DisplayForm:e.displayForm}})})})}i.props.setSpinning(!1)}).catch(function(n){console.log("error in form category auto detection, set the form category in sequence.",n),i.props.setSpinning(!1),V.default.forEach(e,function(e){var n=V.default.filter(i.props.selectedAttributes,function(t){return V.default.findKey(t.tid,function(t){return t.id===e})});n=V.default.filter(n,function(e){return!e.isMFA}),n=V.default.reverse(V.default.sortBy(n,function(e){return e.tid.length})),i.props.updateMFADialog({tableId:e,tableValue:V.default.map(n,function(e,i){return{key:i,Name:e.name,FormCategory:i>=0&&i<t.length?t[i]:"",DisplayForm:!0}})})})})}function f(e){return{updateMFADialog:(0,W.bindActionCreators)(G.updateMFADialog,e),updateMFADialogItem:(0,W.bindActionCreators)(G.updateMFADialogItem,e),setMFAValid:(0,W.bindActionCreators)(G.setMFAValid,e),addNewForm:(0,W.bindActionCreators)(G.addNewForm,e),delOneForm:(0,W.bindActionCreators)(G.delOneForm,e),markEditMode:(0,W.bindActionCreators)(G.markEditMode,e),switchMFATable:(0,W.bindActionCreators)(G.switchMFATable,e),setValidMsg:(0,W.bindActionCreators)(G.setValidMsg,e),setHierarchyMsg:(0,W.bindActionCreators)(G.setHierarchyMsg,e),setSpinning:(0,W.bindActionCreators)(G.setSpinning,e)}}Object.defineProperty(t,"__esModule",{value:!0});var p=i(213),g=n(p),v=i(83),m=n(v),b=i(255),y=n(b),w=i(66),x=n(w),E=i(27),_=n(E),A=i(110),C=n(A),S=i(9),T=n(S),I=i(2),D=n(I),O=i(6),M=n(O),k=i(4),N=n(k),P=i(3),L=n(P);i(341),i(142),i(342),i(94),i(495),i(212);var R=i(1),F=n(R),j=i(5),B=n(j),H=i(15),V=n(H),U=i(14),W=i(16),z=i(60),G=(i(217),i(354)),$=i(1073),q=n($),Y=i(261),J=function(e){function t(e){(0,D.default)(this,t);var i=(0,N.default)(this,(t.__proto__||(0,T.default)(t)).call(this,e)),n=i.props.mfaTableData;V.default.isEmpty(i.props.mfaDialog.data)&&(n.editMode?i.props.markEditMode():(setTimeout(function(){V.default.findIndex(V.default.flatMap(i.props.mfaDialog.data),function(e){return""!==e.FormCategory})<0&&i.props.setSpinning(!0)},1e3),h.call(i,V.default.keys(n.data),e.FormCategoryData)),i.props.switchMFATable({tableId:n.currentTableId,tableName:n.currentTableName}),V.default.forEach(n.data,function(e,t){i.props.updateMFADialog({tableId:t,tableValue:V.default.map(e,function(e,t){return{key:t,Name:e.name,FormCategory:e.formCategory,DisplayForm:e.displayForm}})})}));var r=i.props.mfaDialog.data,l=i.props.mfaDialog.currentTableId;return i.columns=[{title:"Name",dataIndex:"Name",key:"Name",width:175,render:function(e,t,n){return F.default.createElement(x.default,{dropdownClassName:"mfadialog-formNameDropdown",disabled:!(!r.selectedOnlyOneLinkedAttr||0!==n),defaultValue:e,onChange:V.default.curry(a)(t).bind(i),style:{width:"157px"}},i.props.attrInTable.map(function(e){return F.default.createElement(x.default.Option,{key:e.name},e.name)}))}},{title:"Form Category",key:"FormCategory",width:141,render:function(e,t,n){return F.default.createElement(q.default,{FormCategoryData:i.props.FormCategoryData,defaultValue:r[l]&&r[l].length>0?r[l][n].FormCategory:null,disabled:!(!r.selectedOnlyOneLinkedAttr||0!==n),onChange:V.default.curry(o)(t).bind(i)})}},{title:"Display Form",key:"DisplayForm",width:100,render:function(e,t,n){return F.default.createElement("div",null,F.default.createElement(C.default,{defaultChecked:!(r[l]&&r[l].length>0)||r[l][n].DisplayForm,onChange:V.default.curry(s)(t).bind(i)}),F.default.createElement(m.default,{className:"delete-one-form",icon:"close",size:"default",onClick:V.default.curry(u)(t).bind(i),disabled:!(!r.selectedOnlyOneLinkedAttr||0!==n)}))}}],i}return(0,L.default)(t,e),(0,M.default)(t,[{key:"render",value:function(){var e=this,t=V.default.get(this,"props.mfaDialog.data."+this.props.mfaDialog.currentTableId,null),i=F.default.createElement(_.default,{type:"loading",spin:!0});return F.default.createElement(g.default,{spinning:this.props.mfaDialog.spinning,wrapperClassName:"mfa-auto-detecting-spin",indicator:i},F.default.createElement("div",{id:"MFATable"},F.default.createElement("div",{className:"mfa-table-name"},F.default.createElement("span",null,"Table Name"),F.default.createElement(x.default,{dropdownClassName:"mfadialog-tableNameDropdown",defaultValue:this.props.mfaDialog.currentTableId,onChange:r.bind(this)},V.default.map(V.default.keys(this.props.mfaTableData.tid2tname),function(t){return F.default.createElement(x.default.Option,{key:t,value:t},e.props.mfaTableData.tid2tname[t])}))),F.default.createElement("div",{className:"table-border"},F.default.createElement("div",{className:"mfa-table-rows"},F.default.createElement(y.default,{columns:this.columns,pagination:!1,bordered:!1,size:"middle"}),F.default.createElement(y.default,{columns:this.columns,dataSource:t,pagination:!1,bordered:!1,size:"middle",scroll:{x:!1,y:300},showHeader:!1})),F.default.createElement("div",{id:"add-new-form-btn"},F.default.createElement(m.default,{icon:"plus-circle-o",size:"default",onClick:l.bind(this)},"Add New Form")))))}},{key:"componentDidMount",value:function(){d.call(this),c.apply(this)}}]),t}(F.default.Component),K=function(e){return{mfaDialog:e.dmState.mfaDialog,selectedAttributes:(0,z.getSelectedAttributesOnPanel)(e)}};J.propTypes={FormCategoryData:B.default.array,attrInTable:B.default.array,mfaTableData:B.default.object},t.default=(0,U.connect)(K,f,null,{withRef:!0})(J)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this,t=x.default.values(this.props.FormCategoryData);if(x.default.isEmpty(t))this.idForm=null;else{var i=x.default.result(this.props,"selectedAttributes[0].forms[0].objectId"),n=this.props.FormCategoryData[i];if(n&&t[0]!==n){var r=x.default.findIndex(t,function(e){return e===n});if(r<0)console.log("Something goes wrong when getting ID Form!");else{var a=[t[r],t[0]];t[0]=a[0],t[r]=a[1]}}this.idForm=t[0]}this.FormCategoryData=t;var o=this.props.selectedAttributes.length>1,s=[],l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,f=void 0,p=void 0;if(this.props.selectedAttributes.length>0){u=x.default.uniq(x.default.map(x.default.flatten(x.default.map(this.props.selectedAttributes,function(e){return e.tid})),function(e){return e.id})),u.length>1?(p=1===x.default.flatten(x.default.map(this.props.selectedAttributes,function(e){return e.tid.length>1})).length,l=x.default.flatten(x.default.filter(x.default.map(this.props.selectedAttributes,function(e){if(1===e.tid.length)return e.tid[0].id}),function(e){return e})),l.length>1,l.length>=1&&(l=l[0])):l=u.length>0?u[0]:null,c=x.default.map(u,function(t){return x.default.result(x.default.find(e.props.tables,function(e){return e.id===t}),"name")}),d=x.default.zipObject(u,c),h=this.props.mfaDialog&&this.props.mfaDialog.currentTableId?this.props.mfaDialog.currentTableId:x.default.isEmpty(l)?u.length>0?u[0]:null:l,f=h in d?d[h]:"";var g=this.props.allAttributes,v=(0,T.getHierAttributes)(g);g=x.default.concat(g,v),this.attributesInHier=v,s=x.default.filter(g,function(e){return x.default.findKey(e.tid,function(e){return e.id===h})}),s=x.default.filter(s,{isMFA:!1}),1===u.length&&(s=x.default.filter(s,function(e){return 1===e.tid.length})),s=x.default.reverse(x.default.sortBy(s,function(e){return e.tid.length})),o||this.props.attributesFromMFA[h]&&(s=x.default.concat(s,this.props.attributesFromMFA[h]))}this.attrInTable=s;var m={data:{},tid2tname:d,selectedOnlyOneLinkedAttr:p};m.currentTableId=h,m.currentTableName=f,o?x.default.forEach(u,function(t){var i=x.default.filter(e.props.selectedAttributes,function(e){return x.default.findKey(e.tid,function(e){return e.id===t})});i=x.default.filter(i,function(e){return!e.isMFA}),i=x.default.reverse(x.default.sortBy(i,function(e){return e.tid.length})),m.data[t]=x.default.map(i,function(e,t){return{key:t,name:e.name,formCategory:"",displayForm:!0}})}):x.default.isEmpty(this.props.attributesFromMFA)||(x.default.forEach(this.props.attributesFromMFA,function(e,t){m.data[t]=x.default.map(e,function(e,t){return{key:t,name:e.name,formCategory:e.formCategory,displayForm:e.displayForm}})}),m.editMode=!0),this.mfaTableData=m}function a(e){return{}}Object.defineProperty(t,"__esModule",{value:!0}),t.MFATableWrapper=void 0;var o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(15),x=n(w),E=i(14),_=i(60),A=i(217),C=i(1074),S=n(C),T=i(261),I=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return r.call(i),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return m.default.createElement(S.default,{FormCategoryData:this.FormCategoryData,attrInTable:this.attrInTable,mfaTableData:this.mfaTableData})}}]),t}(m.default.Component),D=function(e){return{mfaDialog:e.dmState.mfaDialog,selectedAttributes:(0,_.getSelectedAttributesOnPanel)(e),allAttributes:(0,_.attributes)(e),tables:(0,A.srcTables)(e),attributesFromMFA:(0,_.attributesFromMFA)(e)}};I.propTypes={FormCategoryData:y.default.object},t.default=(0,E.connect)(D,a,null,{withRef:!0})(I),t.MFATableWrapper=I},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{openMFADialog:(0,I.bindActionCreators)(N.openMFADialog,e),closeMFADialog:(0,I.bindActionCreators)(N.closeMFADialog,e),updateMFADialog:(0,I.bindActionCreators)(N.updateMFADialog,e),manipulateModel:(0,I.bindActionCreators)(P.manipulateModel,e),setMFANameValid:(0,I.bindActionCreators)(N.setMFANameValid,e),setValidNameMsg:(0,I.bindActionCreators)(N.setValidNameMsg,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(335),o=n(a),s=i(111),l=n(s),u=i(64),c=n(u),d=i(83),h=n(d),f=i(9),p=n(f),g=i(2),v=n(g),m=i(6),b=n(m),y=i(4),w=n(y),x=i(3),E=n(x);i(499),i(258),i(65),i(142);var _=i(1),A=n(_),C=i(15),S=n(C),T=i(14),I=i(16),D=i(60),O=i(217),M=i(1075),k=n(M),N=i(354),P=i(182);i(675);var L=i(261),R=function(e){function t(e){(0,v.default)(this,t);var i=(0,w.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e));return i.handleNewAttributeNameChange=function(e){var t=e.target.value,n=!0,r="";""===t?(n=!1,r="Cannot rename column with empty string."):(t.includes("[")||t.includes("]")||t.includes("\\")||t.includes('"'))&&(n=!1,r='MFA name contains illegal character. The following characters are not allowed: [ ] " \\'),n===i.props.mfaDialog.mfaNameValid&&r===i.props.mfaDialog.validNameMsg||(i.props.setMFANameValid(n),i.props.setValidNameMsg(r))},i.onCancel=function(){i.props.closeMFADialog()},i.onOK=function(){var e=i.newNameInput.input.value,t=i.props.selectedAttributes[0],n=S.default.get(t,"forms[0].objectId"),r=i.FormCategoryData[n],a=i.props.manipulateModel,o=(0,L.generatePatchMFAOperations)(e,r,i.props.attributes,i.props.mfaDialog,t,i.props.attributesFromMFA);S.default.isEmpty(o)||a(o,"creating MFA..."),i.props.closeMFADialog()},i.FormCategoryData=[],(0,L.getFormCategory)().then(function(e){if(e&&e.forms){var t=e.forms,n=t.map(function(e){return e.id}),r=t.map(function(e){return e.name});i.FormCategoryData=S.default.zipObject(n,r)}}).catch(function(e){return console.log(e)}),i}return(0,E.default)(t,e),(0,b.default)(t,[{key:"render",value:function(){var e=this,t=this.props.mfaDialog;return A.default.createElement(o.default,{wrapClassName:"MFADialog-wrapper",title:this.props.mfaDialog.editMode?"Edit Multi-forms Attribute":"Create Multi-forms Attribute",visible:this.props.mfaDialog.showMFADialog,width:465,maskClosable:!1,onCancel:this.onCancel,footer:[A.default.createElement(l.default,{key:"okwrapper",overlayClassName:"mfa-error-tooltip",placement:"top",title:t.validNameMsg||t.validMsg},A.default.createElement(h.default,{key:"OK",disabled:!(t.mfaValid&&t.mfaNameValid),type:"primary",size:"default",onClick:this.onOK},this.props.mfaDialog.editMode?"OK":"Create")),A.default.createElement(h.default,{className:"cancel",key:"Cancel",size:"default",onClick:this.onCancel},"Cancel")]},A.default.createElement("div",{className:"mfa-name"},A.default.createElement("div",{className:"mfa-name-icon"}),A.default.createElement("span",null,"New Attribute Name"),A.default.createElement(c.default,{id:"mfa-name-input",ref:function(t){e.newNameInput=t},onChange:this.handleNewAttributeNameChange})),A.default.createElement(k.default,{ref:function(t){e.tableElement=t},key:"mfatable"+(new Date).getTime(),FormCategoryData:this.FormCategoryData}),A.default.createElement(l.default,{overlayClassName:"mfa-remove-hier-warning-tooltip",placement:"topLeft",title:this.props.mfaDialog.hierarchyMsg},A.default.createElement("div",{className:"remove-from-hier-warning",style:{display:"flex",visibility:S.default.isEmpty(this.props.mfaDialog.hierarchyMsg)?"hidden":"visible"}},A.default.createElement("div",{className:"warning-icon"}),A.default.createElement("div",null,this.props.mfaDialog.hierarchyMsg))))}},{key:"componentWillReceiveProps",value:function(e){if(this.newNameInput&&(!this.props.mfaDialog.showMFADialog&&e.mfaDialog.showMFADialog||!this.props.mfaDialog.currentTableId)){var t=this.props.selectedAttributes.length>1,i=void 0;if(t){var n=S.default.reverse(S.default.sortBy(this.props.selectedAttributes,function(e){return e.tid.length}));i=n.length>0?n[0].name:"Custom MFA"}else i=this.props.selectedAttributes.length>0?this.props.selectedAttributes[0].name:"Custom MFA";this.newNameInput.input.value=i}}}]),t}(A.default.Component),F=function(e){return{mfaDialog:e.dmState.mfaDialog,tables:(0,O.srcTables)(e),attributes:(0,D.attributes)(e),attributesFromMFA:(0,D.attributesFromMFA)(e),selectedAttributes:(0,D.getSelectedAttributesOnPanel)(e)}};t.default=(0,T.connect)(F,r)(R)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(55),a=n(r),o=i(15),s=n(o),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=(0,a.default)({},e);switch(t.type){case"OPEN_MFADIALOG":return i.showMFADialog=!0,i.editMode=null,i.data={},i.currentTableId=null,i.currentTableName=null,i.validMsg="",i.validNameMsg="",i.mfaNameValid=!0,i.hierarchyMsg="",i.spinning=!1,i;case"CLOSE_MFADIALOG":return i.showMFADialog=!1,i;case"UPDATE_MFADIALOG":return i.data[t.value.tableId]=t.value.tableValue,i;case"UPDATE_MFADIALOGITEM":return i.data[i.currentTableId].forEach(function(e){e.key===t.value.Key&&(e[t.value.Item]=t.value.Value,"DisplayForm"!==t.value.Item&&"FormCategory"!==t.value.Item||s.default.forEach(i.data,function(t){s.default.forEach(t,function(t){t.FormCategory===e.FormCategory&&(t.DisplayForm=e.DisplayForm)})}))}),i;case"SET_MFAVALID":return i.mfaValid=t.value,i;case"SET_MFANAMEVALID":return i.mfaNameValid=t.value,i;case"SET_VALIDMSG":return i.validMsg=t.value,i;case"SET_VALIDNAMEMSG":return i.validNameMsg=t.value,i;case"ADD_NEWFORM":var n=s.default.result(s.default.maxBy(i.data[i.currentTableId],"key"),"key")+1;return i.data[i.currentTableId].push({key:n?n:0,Name:"",FormCategory:"",DisplayForm:!0}),i;case"DEL_FORM":return s.default.remove(i.data[i.currentTableId],function(e){return e.key===t.value}),i;case"MARK_EDIT":return i.editMode=!0,i;case"SWITCH_TABLE":return i.currentTableId=t.value.tableId,i.currentTableName=t.value.tableName,i;case"SET_HIERARCHYMSG":return i.hierarchyMsg=t.value,i;case"SET_SPINNING":return i.spinning=t.value,i;default:return e}};t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{setSelectAttributes:(0,_.bindActionCreators)(A.setSelectAttributes,e),setSelectMetrics:(0,_.bindActionCreators)(A.setSelectMetrics,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.MetricList=void 0;var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(8),v=n(g),m=i(5),b=n(m),y=i(1),w=n(y),x=i(108),E=i(14),_=i(16),A=i(84),C=i(60),S=i(59),T=i(145),I=i(215),D=i(528),O=n(D),M={drop:I.drop,hover:I.hover,canDrop:function(){return!0}},k=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),currentItem:t.getItem()}},N=function(e,t){return""===t?e:e.filter(function(e){return e.name.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase())>=0})},P=t.MetricList=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.getUUID=function(){return i.UUID},i.setSelectObjects=function(e,t){var n=i.props,r=n.setSelectAttributes,a=n.setSelectMetrics;e.length>0?a(e,t):a(e,null),r([])},i.UUID=(new Date).valueOf(),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.metricList,i=e.selectedObjects,n=e.connectDropTarget,r=e.isOver,a=e.currentItem,o=e.keyword,s=e.isDivided,l=e.objectType;return n(w.default.createElement("div",{className:(0,v.default)("metric-list",{hovering:r&&a&&a.type===S.ATTRIBUTES},{divided:s})},w.default.createElement("div",{className:"object-type-name"},"Metric"),w.default.createElement(O.default,{objects:N(t,o),keyword:o,objectType:l,selectedObjects:i,setSelectObjects:this.setSelectObjects})))}}]),t}(y.Component);P.propTypes={keyword:b.default.string,objectType:b.default.string,isDivided:b.default.bool,metricList:b.default.array,selectedObjects:b.default.array,selectedAttributes:b.default.array,setSelectAttributes:b.default.func,setSelectMetrics:b.default.func,isOver:b.default.bool,currentItem:b.default.object,connectDropTarget:b.default.func};var L=function(e){return{metricList:(0,C.selectedMetrics)(e),selectedObjects:(0,C.getSelectedMetricsOnPanel)(e),selectedAttributes:(0,C.getSelectedAttributesOnPanel)(e)}};t.default=(0,_.compose)((0,E.connect)(L,r),(0,x.DropTarget)(T.OBJECT_ROW,M,k))(P)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{updateRightPanel:(0,x.bindActionCreators)(I.updateRightPanel,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(5),v=n(g),m=i(1),b=n(m),y=i(108),w=i(14),x=i(16),E=i(275),_=n(E),A=i(223),C=n(A),S=i(279),T=n(S),I=i(38),D=i(1067),O=n(D),M=i(59),k=i(145),N=i(1082),P=i(1078),L=n(P),R=i(1076),F=n(R),j=i(527),B=n(j),H=i(1080),V=n(H);i(1780);var U=_.default.TabPane,W=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}},z=200,G=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.onSelected=function(e){switch(e){case M.ALL:i.setState(function(){return{showAttributes:!0,showMetric:!0,showMFA:!1}});break;case M.ATTRIBUTES:i.setState(function(){return{showAttributes:!0,showMetric:!1,showMFA:!1}});break;case M.METRICS:i.setState(function(){return{showAttributes:!1,showMetric:!0,showMFA:!1}});break;case M.MFA:i.setState(function(){return{showAttributes:!0,showMetric:!1,showMFA:!0}});break;default:return}},i.onSearch=function(e){i.state.keyword!==e&&i.setState(function(t,i){return{keyword:e}})},i.updatingPreviewIndicator=function(e){var t=i.props.isOver;e.isOver&&!t&&j.draggingIndicator$.onNext(M.DRAGGING_INDEX_FORBIDDEN)},i.resizeRightPanel=i.resizeRightPanel.bind(i),i.state={showAttributes:!0,showMetric:!0,showMFA:!1,keyword:""},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.state,t=e.showAttributes,i=e.showMetric,n=e.keyword,r=e.showMFA,a=this.props.connectDropTarget;return a(b.default.createElement("div",{className:"model-panel"},b.default.createElement(F.default,null),b.default.createElement(C.default,{onStop:this.resizeRightPanel,position:{x:0,y:0},style:{height:window.innerHeight-this.props.layout.toolbar.height,left:-4},direction:"y",bounds:{left:this.props.layout.rightPanel.width-2*z,right:this.props.layout.rightPanel.width-z}}),b.default.createElement(_.default,{activeKey:N.OBJECTS_TAB_KEY,onChange:function(){}},b.default.createElement(U,{tab:b.default.createElement(T.default,{title:"OBJECTS",iconClass:"objects"}),key:N.OBJECTS_TAB_KEY},b.default.createElement("div",{className:"column-object-list",style:{overflow:"atuo",height:this.props.layout.rightPanel.height-24}},b.default.createElement(V.default,{onFilter:this.onSelected,onSearch:this.onSearch,showAttributes:t,showMetric:i,showMFA:r}),t?b.default.createElement(O.default,{keyword:n,isDivided:i,mfaOnly:r,objectType:M.ATTRIBUTES}):null,i?b.default.createElement(L.default,{keyword:n,isDivided:t,objectType:M.METRICS}):null))),b.default.createElement(B.default,null)))}},{key:"componentDidUpdate",value:function(e){this.updatingPreviewIndicator(e)}},{key:"resizeRightPanel",value:function(e,t){var i={width:this.props.layout.rightPanel.width-t.x};this.props.updateRightPanel(i)}}]),t}(m.Component),$=function(e){return{panelView:e.uiComponentState.panelView,layout:e.layout}};G.propTypes={layout:v.default.object,updateRightPanel:v.default.func,connectDropTarget:v.default.func,isOver:v.default.bool},t.default=(0,x.compose)((0,w.connect)($,r),(0,y.DropTarget)(k.OBJECT_ROW,{},W))(G)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(12),a=n(r),o=i(64),s=n(o),l=i(66),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(65),i(94);var w=i(1),x=n(w),E=i(5),_=n(E),A=i(8),C=n(A),S=i(26),T=n(S),I=i(59),D=i(216);i(1778);var O=s.default.Group,M=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.onChange=function(e){""!==e.target.value&&""===i.state.keyword&&i.setCleanIcon(),""===e.target.value&&i.setSearchIcon(),i.search(e.target.value)},i.setSearchIcon=function(){return(0,T.default)(".object-search .ant-input-suffix").unbind("click").css("background-position","-557px -520px")},i.setCleanIcon=function(){return(0,T.default)(".object-search .ant-input-suffix").on("click",i.emitEmpty).css("background-position","-556px -560px")},i.emitEmpty=function(e){i.setSearchIcon(),i.search("")},i.search=function(e){i.setState({keyword:e});var t=i.props.onSearch;t(e)},i.state={attribute:0,mfa:0,hierarchy:0,metric:0,keyword:""},i.subscriber=null,i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props,t=e.wrapperClsName,i=e.showAttributes,n=e.showMetric,r=e.showMFA,a=e.onFilter,o=this.state,l=o.attribute,c=o.hierarchy,d=o.mfa,h=o.metric,f=o.keyword,p=" ",g=(l+c)*(i?1:0)+h*(n?1:0)+d*(r||i?1:0);return x.default.createElement("div",{className:"object-search-wrapper"},x.default.createElement("div",{className:(0,C.default)(t,"object-search")},x.default.createElement(O,null,x.default.createElement(u.default,{style:{width:"45px"},className:"model-panel-select",dropdownClassName:"model-panel-select-dropDown mstr-as-select-dropdown",dropdownMatchSelectWidth:!1,onSelect:a,defaultValue:I.ALL},x.default.createElement(u.default.Option,{className:"model-panel-select-option model-panel-select-all",value:I.ALL},"All"),x.default.createElement(u.default.Option,{className:"model-panel-select-option",value:I.ATTRIBUTES},x.default.createElement("div",{className:"object-search-attribute"},"Attribute")),x.default.createElement(u.default.Option,{className:"model-panel-select-option",value:I.MFA},x.default.createElement("div",{className:"object-search-mfa"},"Multi-forms Attribute")),x.default.createElement(u.default.Option,{className:"model-panel-select-option",value:I.METRICS},x.default.createElement("div",{className:"object-search-metric"},"Metric"))),x.default.createElement(s.default,{type:"text",suffix:p,className:"model-panel-searchBox",onChange:this.onChange,value:f}))),x.default.createElement("div",{className:"objects-count-label"},x.default.createElement("span",null,g+(g<=1?" object":" objects"))))}},{key:"componentWillMount",value:function(){var e=this;this.subscriber=D.objectCountSubject$.subscribe(function(t){e.setState(function(){return(0,a.default)({},t.objectType,t.num)})})}},{key:"componentWillUnmount",value:function(){this.subscriber.dispose()}}]),t}(w.Component);t.default=M,M.propTypes={wrapperClsName:_.default.string,showAttributes:_.default.bool,showMetric:_.default.bool,showMFA:_.default.bool,onFilter:_.default.func.isRequired,onSearch:_.default.func.isRequired}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(83),a=n(r),o=i(110),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(142),i(212);var b=i(1),y=n(b),w=i(5),x=n(w),E=i(15),_=n(E),A=i(182),C=i(29),S=i(59);i(1779);var T=i(26),I=n(T),D=s.default.Group,O=40,M=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));k.call(i);var n=i.props.selectedObject;return i.state={checkedList:_.default.map(n.tid,function(e){return e.id}),checkAll:!0},i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedObject,i=t.tid;return this.longTableList=[],this.tableOptions=_.default.map(i,function(t){var i=t.name;return i.length>O&&(e.longTableList.push({label:i,value:t.id}),i=i.substr(0,O)+"..."),{label:i,value:t.id}}),y.default.createElement("div",{className:"unmapLayout"},y.default.createElement("div",{onClick:this.stopPropagation,className:"unmapTableList"},y.default.createElement(s.default,{className:"selectAll",onClick:this.onCheckAllChange,checked:this.state.checkAll},"Select all"),y.default.createElement("hr",null),y.default.createElement(D,{onChange:this.onChange,options:this.tableOptions,value:this.state.checkedList,className:"unmapTableGroup"})),y.default.createElement("div",{className:"unmapButtons"},y.default.createElement(a.default,{className:"unmapButton",onClick:this.onUnmap,disabled:this.state.checkedList.length===this.tableOptions.length},"OK")," ",y.default.createElement(a.default,null,"Cancel")))}},{key:"AddTooltip",value:function(){if(this.longTableList){var e=(0,I.default)(".unmapTableGroup .ant-checkbox-group-item .ant-checkbox"),t=(0,I.default)(".unmapTableGroup .ant-checkbox-group-item span").not(".ant-checkbox, .ant-checkbox-inner"),i=[];_.default.forEach(this.longTableList,function(t){var n=_.default.findIndex(e,function(e){return e.firstChild.value===t.value});i.push({index:n,value:t.label})}),_.default.forEach(i,function(e){return t[e.index].title=e.value})}}},{key:"componentDidUpdate",value:function(){this.AddTooltip()}},{key:"componentDidMount",value:function(){this.AddTooltip()}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedObject;this.setState({checkedList:_.default.map(t.tid,function(e){return e.id}),checkAll:!0})}}]),t}(y.default.Component),k=function(){var e=this;this.longTableList=[],this.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},this.onChange=function(t){e.setState({checkedList:t,checkAll:t.length===e.tableOptions.length})},this.onCheckAllChange=function(t){e.setState({checkedList:t.target.checked?_.default.map(e.tableOptions,function(e){return e.value}):[],checkAll:t.target.checked})},this.onUnmap=function(){var t=e.props,i=t.selectedObject,n=t.objectType,r=_.default.map(e.tableOptions,function(e){return e.value}),a=1===e.state.checkedList.length?r:_.default.difference(r,e.state.checkedList);n===S.METRICS?e.unmapForMetric(a,i):e.unmapForAttribute(a,i)},this.unmapForAttribute=function(e,t){var i=_.default.map(e,function(e){return{operator:"Remove",path:"/attributeLink",value:{tableId:e,attributeId:t.id,highlight:!0}}});(0,C.dispatchAction)((0,A.manipulateModel)(i,"Unlink Attribute"))},this.unmapForMetric=function(e,t){var i=_.default.map(e,function(e){return{operator:"Remove",path:"/metricLink",value:{tableId:e,metricId:t.id,highlight:!0}}});(0,C.dispatchAction)((0,A.manipulateModel)(i,"Unlink Metric"))}};t.default=M,M.propTypes={selectedObject:x.default.object,objectType:x.default.string}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OBJECTS_TAB_KEY="OBJECTS_TAB"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1079),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{show:e.dmState.publishProgress.show}}function a(e){return{togglePublishProgress:(0,C.bindActionCreators)(I.togglePublishProgress,e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(335),s=n(o),l=i(339),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(499),i(980);var w=i(1),x=n(w),E=i(5),_=n(E),A=i(14),C=i(16),S=i(152),T=n(S),I=i(84),D=i(1328);i(1781);var O=function(e){function t(){(0,f.default)(this,t);var e=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this));return e.handleOk=function(){e.props.togglePublishProgress({show:!1})},e.handleCancel=function(){e.props.togglePublishProgress({show:!1})},e.state={},e}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this,t=null,i=null;return this.state.cubeStatus&&(this.state.cubeStatus.status===-1?t=x.default.createElement("div",null,x.default.createElement("div",null,"Failed to publish cube..."),x.default.createElement("div",null,this.state.message)):(1===this.state.cubeStatus.status&&(i=x.default.createElement("div",null,"Cube published successfully!"),this.props.togglePublishProgress({show:!1}),mstrAppSchema&&(window.onbeforeunload=null,mstrAppSchema.close())),this.state.cubeStatus.tableStatus&&(t=this.state.cubeStatus.tableStatus.map(function(t){var i=e.estimateTableProgress(t.status);return x.default.createElement("div",{className:"publish-progress-list",key:t.tableId},x.default.createElement(u.default,{type:"circle",width:20,percent:i}),x.default.createElement("span",{className:"table-name"},t.tableName),x.default.createElement("span",{className:"table-status"},t.status))})))),x.default.createElement(s.default,{className:"publish-progress",title:"Cube Publishing Progress",visible:this.props.show,footer:[x.default.createElement(T.default,{onClick:this.handleCancel,text:"Cancel",key:"Cancel"}),x.default.createElement(T.default,{onClick:this.handleOk,type:"EMPHASIZED",text:"OK",key:"OK"})]},t,i)}},{key:"estimateTableProgress",value:function(e){var t=0;return"Reserved"===e?t=10:"Publishing"===e?t=50:"Completed"===e&&(t=100),t}},{key:"componentWillMount",value:function(){var e=this;D.publishStatusSubject.subscribe(function(t){e.setState({cubeStatus:t.cubeStatus,message:t.message})},function(e){console.log("Error getting publish progress: "+e)},function(){console.log("Getting publish progress completed")})}}]),t}(x.default.Component);O.propTypes={show:_.default.bool,togglePublishProgress:_.default.func},O.defaultProps={show:!1},t.default=(0,A.connect)(r,a)(O)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{
default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=r(a),s=i(112),l=n(s),u={show:!1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],i=(0,o.default)({},e);switch(t.type){case l.TOGGLE_PUBLISH_PROGRESS:return i.show=t.payload.show,i;case l.UPDATE_PUBLISH_PROGRESS:return i.progress=t.payload,i;default:return e}};t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window.mstrAppSchema&&window.mstrAppSchema.cubeName?window.mstrAppSchema.cubeName:"",n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"SET_DATASET_NAME":return t.dataSetName;default:return e}};t.default=n},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(53),o=r(a),s=i(55),l=r(s),u=i(112),c=n(u),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=(0,l.default)({},e);switch(t.type){case"SET_IMPORTSOURCE":return(0,l.default)({},t.model);case"SET_DIRTY":return(0,l.default)({},e,{dirty:t.dirty});case c.CREATE_HIERARCHY_OBJ:return i=JSON.parse((0,o.default)(e)),i.defn.objects.hierarchy?i.defn.objects.hierarchy.push(t.hierarchy):i.defn.objects.hierarchy=[t.hierarchy],i;default:return e}};t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tree",t=arguments[1];switch(t.type){case"SET_LAYOUT":return t.value;default:return e}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o={title:"",msg:"",show:!1,style:""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case"SHOW_MESSAGE":return t.payload;case"READ_MESSAGE":return(0,a.default)({},t.payload,{show:!1});default:return e}};t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(55),a=n(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SET_MSG_ID":return(0,a.default)({},t.msgId);default:return e}};t.default=o},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(112),a=n(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case a.SET_PUBLISH_JOB_ID:return t.jobId;default:return e}};t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(16),a=i(1086),o=n(a),s=i(1090),l=n(s),u=i(1089),c=n(u),d=i(1270),h=n(d),f=i(1085),p=n(f),g=i(1087),v=n(g),m=i(1077),b=n(m),y=i(1097),w=n(y),x=i(1088),E=n(x),_=i(1091),A=n(_),C=i(1096),S=n(C),T=i(1072),I=n(T),D=i(1093),O=n(D),M=(0,r.combineReducers)({dataSet:o.default,msgId:l.default,message:c.default,loading:h.default,publishProgress:p.default,importSources:v.default,selectedObjects:S.default,lastSelectedObject:O.default,mfaDialog:b.default,tablepreview:w.default,layout:E.default,publishJobId:A.default,hierarchyList:I.default});t.default=M},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(112),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case n.SET_LAST_OBJECT_SELECTED:return t.object;default:return e}};t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(112),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case n.SET_SELECTED_ATTRIBUTES_ON_PANEL:return t.payload;case n.SET_ATTRIBUTES_SELECTION_OF_ONE_TABLE:var i=[];return e.forEach(function(e){a(e.tid,t.payload.tableId)||i.push(e)}),i=i.concat(t.payload.attributes);default:return e}},a=function(e,t){var i=e.filter(function(e){return e.id===t});return i.length>0};t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(112),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case n.SET_SELECTED_METRICS_ON_PANEL:return t.payload;case n.SET_METRICS_SELECTION_OF_ONE_TABLE:var i=[];return e.forEach(function(e){a(e.tid,t.payload.tableId)||i.push(e)}),i=i.concat(t.payload.metrics);default:return e}},a=function(e,t){var i=e.filter(function(e){return e.id===t});return i.length>0};t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(16),a=i(1094),o=n(a),s=i(1095),l=n(s),u=(0,r.combineReducers)({selectedAttributes:o.default,selectedMetrics:l.default});t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){switch(t.type){case"TOGGLE_TABLEPREVIEW":return"open"===e?"collapsed":"open";default:return"open"}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(14);i(170),i(1782);var m=i(5),b=n(m),y=i(1104),w=n(y),x=i(1108),E=n(x),_=i(15),A=n(_),C=i(152),S=n(C),T=i(224),I=i(218),D=i(116),O=i(149),M=i(356),k=i(226),N=n(k),P=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.setFacetView=function(e){i.setState({viewType:e})},i.clearFilters=function(){var e=T.facetManager.getTableFacetBuilder(i.props.tableId);e.resetFilters(i.props.colName)},i.addFilterGroup=function(e){var t=i.props,n=t.tableId,r=t.colName,a=T.facetManager.getTableFacetBuilder(n);a&&r&&a.addFilterGroup(r,e)},i.createFilter=function(){var e=i.props,t=e.tableId,n=e.colName,r=T.facetManager.getTableFacetBuilder(t);if(r&&n){var a=r.getFilterExpression();console.log(a),(0,O.submitFilterExpression)(a).catch(function(e){return console.log(e)})}},i.getElement=function(){try{var e=i.props,t=e.colName,n=e.dim,r=e.filterTime,a=e.tableId,o=e.dismissFacetTab,s={w:n.w-12,h:n.h-18},l={w:n.w-12,h:s.h-116},u={h:25},c=T.facetManager.getTableFacetBuilder(a),d=void 0,h=!1;if(c){var f=c.getDim(t);return f&&(d=(0,D.getFacetType)(f.getType()),h=f.hasFilter()),c.tableSize()>0?g.default.createElement("div",{key:t+"-big-facet",className:"bigfacet-container",style:{width:s.w,height:s.h}},g.default.createElement("div",{className:"facet-column"},t),g.default.createElement(E.default,{facetType:d,dim:{height:u.h},setFacetView:i.setFacetView,clearFilters:i.clearFilters,viewType:i.state.viewType,addFilter:i.addFilterGroup,columnHasFilter:h}),g.default.createElement("div",{className:"facet-container",style:{height:l.h,width:l.w}},g.default.createElement(w.default,{tableId:i.props.tableId,colName:t,dim:l,viewType:i.state.viewType,filterTime:r,facetType:d})),g.default.createElement("div",{className:"facet-action-container"},g.default.createElement("div",null,g.default.createElement(S.default,{type:"EMPHASIZED",isDisabled:!h,text:"Create Filter",onClick:i.createFilter})),g.default.createElement("div",null,g.default.createElement("div",{onClick:o},"Dismiss")))):i.emptyFacetState()}throw new Error("Invalid facet instance")}catch(e){return i.inProgressState()}},i.inProgressState=function(){var e=i.props.dim;return g.default.createElement("div",{className:"bigfacet-empty-sate"},g.default.createElement("div",{className:"facet-loading-state",style:{height:e.h}}))},i.columnSelectionState=function(){return g.default.createElement("div",{className:"bigfacet-empty-sate"},g.default.createElement(N.default.EmptyContent,{title:"Nothing here...",text:"Select a column to dive into its deep dark secrets"}))},i.emptyFacetState=function(){var e=i.props.colName;return g.default.createElement("div",{className:"bigfacet-empty-sate"},g.default.createElement("div",{className:"bf-column-name-style"},e),g.default.createElement(N.default.EmptyContent,{title:"No Data"}))},i.state={viewType:I.facetViewType.GROUP,showDatePicker:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(!(this.props.colName!==e.colName||e.tableId&&this.props.tableId!==e.tableId)&&A.default.isEqual(this.props.dim,e.dim)&&this.state.viewType===t.viewType&&this.props.filterTime===e.filterTime)}},{key:"componentWillReceiveProps",value:function(e){this.props.colName!==e.colName&&this.setState({viewType:I.facetViewType.GROUP})}},{key:"render",value:function(){return g.default.createElement("div",null,this.props.colName?this.getElement():this.columnSelectionState())}}]),t}(p.Component);P.propTypes={colName:b.default.string,tableId:b.default.string,dim:b.default.object.isRequired,filterTime:b.default.number,dismissFacetTab:b.default.func},t.default=(0,v.connect)(null,{dismissFacetTab:M.dismissFacetTab})(P)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p);i(170);var v=i(5),m=n(v),b=i(224),y=i(1101),w=n(y),x=i(1103),E=n(x),_=i(8),A=n(_),C=i(218),S=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.addFilter=function(e){i.fb.addFilter(i.props.colName,e)},i.removeFilter=function(e){i.fb.removeFilter(i.props.colName,e)},i.isPropChanged=function(e,t){return i.props[t]!==e[t]},i.getStringFacet=function(){var e=i.props,t=e.viewType,n=e.dim,r=e.colName,a=e.facetType,o=(0,A.default)(t===C.facetViewType.GROUP?"show":"hide"),s=(0,A.default)(t!==C.facetViewType.GROUP?"show":"hide");return g.default.createElement("div",{key:r+"-facet-container"},g.default.createElement("div",{className:o},g.default.createElement(w.default,{dim:n,grpData:i.state.grpBins||[],addFilter:i.addFilter,removeFilter:i.removeFilter})),g.default.createElement("div",{className:s},g.default.createElement(E.default,{dim:n,grpData:i.state.uniqueBins||[],addFilter:i.addFilter,removeFilter:i.removeFilter,facetType:a})))},i.state={},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.loadFacetData(this.props,!0)}},{key:"componentWillReceiveProps",value:function(e){(this.isPropChanged(e,"colName")||this.isPropChanged(e,"tableId")||this.isPropChanged(e,"filterTime"))&&e.tableId&&e.colName&&this.loadFacetData(e,!0),this.isPropChanged(e,"viewType")&&(e.viewType===C.facetViewType.GROUP&&!this.state.grpBins||e.viewType===C.facetViewType.DISTINCT&&!this.state.uniqueBins)&&this.loadFacetData(e,!1)}},{key:"loadFacetData",value:function(e,t){this.fb=b.facetManager.getTableFacetBuilder(e.tableId),this.dim=this.fb.getDim(e.colName),this.dim&&(e.viewType===C.facetViewType.GROUP?t?this.setState({grpBins:this.getGroupBin(e),uniqueBins:void 0}):this.setState({grpBins:this.getGroupBin(e)}):t?this.setState({uniqueBins:this.getDistinctBin(e),grpBins:void 0}):this.setState({uniqueBins:this.getDistinctBin(e)}))}},{key:"getGroupBin",value:function(e){var t=e.dim.h/C.barHeight-1;return this.dim.group(t).list()}},{key:"getDistinctBin",value:function(){return this.dim.group().list()}},{key:"render",value:function(){return g.default.createElement("div",null,this.getStringFacet())}}]),t}(p.Component);S.propTypes={dim:m.default.object.isRequired,viewType:m.default.string,tableId:m.default.string,colName:m.default.string,facetType:m.default.string},t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p);i(170);var v=i(5),m=n(v),b=i(531),y=n(b),w=i(15),x=n(w),E=i(218),_=function(e){function t(){var e,i,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.isPropChanged=function(e,t){return n.props[t]!==e[t]},r=i,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.isPropChanged(e,"grpData")||!x.default.isEqual(this.props.dim,e.dim)}},{key:"render",value:function(){var e=this.props,t=e.dim,i=e.grpData,n=t.h-E.containerHeightOffset;return g.default.createElement("div",{className:"string-facet",style:{width:t.w,height:t.h}},g.default.createElement("div",{className:"histogram-container",style:{height:t.h}},g.default.createElement(y.default,{rowHeight:E.barHeight,group:i||[],containerHeight:n,width:t.w,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter})))}}]),t}(p.Component);_.propTypes={grpData:m.default.array.isRequired,dim:m.default.object.isRequired,addFilter:m.default.func,removeFilter:m.default.func},t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1100),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p);i(170);var v=i(5),m=n(v),b=i(531),y=n(b),w=i(15),x=n(w),E=i(1298),_=n(E),A=i(1295),C=n(A),S=i(218),T=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onChange=function(e){null!=e&&i.setState({pattern:String(e).toUpperCase()})},i.isPropChanged=function(e,t){return i.props[t]!==e[t]},i.isStateChanged=function(e,t){return i.state[t]!==e[t]},i.getSortedData=function(e,t){var n=i.props.facetType,r=t;try{switch(e){case S.SORTAZ:r=i.isNumericType(n)?t.sort(function(e,t){return e.key-t.key}):t.sort(function(e,t){return e.key.localeCompare(t.key)});break;case S.SORTZA:r=i.isNumericType(n)?t.sort(function(e,t){return t.key-e.key}):t.sort(function(e,t){return t.key.localeCompare(e.key)});break;case S.SORTASC:r=t.sort(function(e,t){return e.maxValue-t.maxValue});break;case S.SORTDEC:r=t.sort(function(e,t){return t.maxValue-e.maxValue})}return r}catch(e){return r}},i.isNumericType=function(e){return e&&(e===S.facetType.NUMERIC||e===S.facetType.DATE||e===S.facetType.TIMESTAMP||e===S.facetType.TIME)},i.sortChange=function(e){var t=i.props.grpData;i.setState({grpData:i.getSortedData(e,t),sortStyle:e})},i.state={pattern:null,grpData:[],sortStyle:S.SORTDEC},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.setState({grpData:this.props.grpData})}},{key:"componentWillReceiveProps",value:function(e){this.props.grpData!==e.grpData&&this.setState({grpData:this.getSortedData(this.state.sortStyle,e.grpData)})}},{key:"shouldComponentUpdate",value:function(e,t){return this.isPropChanged(e,"grpData")||this.isStateChanged(t,"pattern")||this.isStateChanged(t,"sortStyle")||!x.default.isEqual(this.props.dim,e.dim)}},{key:"render",value:function(){var e=this.props.dim,t=this.state,i=t.pattern,n=t.grpData,r=e.h-S.facetDim.uniqueFacet.toolbarH,a=n;return i&&(a=this.state.grpData.filter(function(e){var t=null!=e.keyAlias?e.keyAlias:e.key;return null!=t&&String(t).toUpperCase().indexOf(i)!==-1})),g.default.createElement("div",{className:"string-facet",style:{width:e.w,height:e.h}},g.default.createElement("div",{className:"search-container"},g.default.createElement("div",{className:"input-select-container"},g.default.createElement(_.default,{onChange:this.sortChange,className:"input-select-function",dataSource:S.stringOperations})),g.default.createElement("div",{className:"input-search-container"},g.default.createElement(C.default,{className:"input-search",size:"small",onChange:this.onChange}))),g.default.createElement("div",{className:"histogram-container",style:{height:r}},g.default.createElement(y.default,{rowHeight:S.barHeight,group:a||[],containerHeight:r-S.containerHeightOffset,width:e.w,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter,pattern:i})))}}]),t}(p.Component);T.propTypes={grpData:m.default.array.isRequired,dim:m.default.object.isRequired,addFilter:m.default.func.isRequired,removeFilter:m.default.func.isRequired,facetType:m.default.string.isRequired},t.default=T},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1102),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1099),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p);i(170);var v=i(5),m=n(v),b=i(26),y=(n(b),i(573)),w=i(15),x=n(w),E=4,_=2,A="{Space}",C="{Tab}",S="{Null}",T="null",I="{Empty}",D="empty",O="{Binary}",M="binary",k="{Special Chars}",N=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.click=function(){i.props.barClick(i.props.barData)},i.showTip=function(e){var t=i.props.barData,n=e.clientX,r=e.clientY;i.time=setTimeout(function(){i.tooltip=y.Facetviewer.facetHover(t,r,n,t.size)},600)},i.moveTip=function(e){var t=e.clientX,i=e.clientY;y.Facetviewer.facetMove(i,t)},i.hideTip=function(){clearTimeout(i.time),y.Facetviewer.cancelTip()},i.getBarData=function(e){if(null!=e.keyAlias||null!=e.key){var t=String(i.getKeyDisplayVal(e));return i.getBarKeyData(t,e.aliasEllipsis)}return null!=e.lowAlias&&null!=e.highAlias?e.lowAlias===e.highAlias?i.getBarKeyData(e.lowAlias,e.aliasEllipsis):i.getBarRangeData(e.lowAlias,e.highAlias,e.aliasEllipsis):null!=e.sc?i.getBarKeyData(e.scAlias,e.aliasEllipsis):void 0},i.getBarRangeData=function(e,t,n){return g.default.createElement("div",{className:"bf-bar-text"},g.default.createElement("div",{className:"range-val-1"},i.getDisplayNode(e,n)),g.default.createElement("div",{className:"range-val-to"},"to"),g.default.createElement("div",{className:"range-val-2"},i.getDisplayNode(t,n)))},i.getBarKeyData=function(e,t){var n=i.props.pattern;if(!n)return g.default.createElement("div",{className:"bf-bar-text"},g.default.createElement("div",{className:"bf-key-val"},i.getDisplayNode(e,t)));var r=e.toUpperCase().indexOf(n);return r>-1?g.default.createElement("div",{style:{whiteSpace:"pre"},className:"bf-bar-text"},e.substring(0,r),g.default.createElement("span",{className:"keyword"},e.substring(r,r+n.length)),e.substring(r+n.length)):void 0},i.getTextNode=function(e,t,i){if(t&&t.length>0){for(var n="",r="",a=0;a<t.length;a++)if(32===t[a].charCodeAt(0))n+=A;else{if(9!==t[a].charCodeAt(0))break;n+=C}t=t.replace(/^[ \t]+/,"");for(var o=t.length-1;o>=0;o--)if(32===t[o].charCodeAt(0))r=A+r;else{if(9!==t[o].charCodeAt(0))break;r=C+r}return t=t.replace(/[ \t]+$/,""),g.default.createElement("span",{className:"bf-key-val-inner"},e,n?g.default.createElement("span",{className:"bf-prefix-sufix"}," ",n," "):null,g.default.createElement("span",{style:{whiteSpace:"pre"}},t),i===!0?g.default.createElement("span",{className:"bf-tooltip-ellipsis"},"..."):null,r?g.default.createElement("span",{className:"bf-prefix-sufix"}," ",r," "):null)}return t},i.getDisplayNode=function(e,t){return e===S?g.default.createElement("span",{className:"bf-key-val-inner"},i.prefix,g.default.createElement("span",{className:"bf-prefix-sufix"},T)):e===I?g.default.createElement("span",{className:"bf-key-val-inner"},i.prefix,g.default.createElement("span",{className:"bf-prefix-sufix"},D)):e===O?g.default.createElement("span",{className:"bf-key-val-inner"},i.prefix,g.default.createElement("span",{className:"bf-prefix-sufix"},M)):e===k?g.default.createElement("span",{className:"bf-key-val-inner"},i.prefix,g.default.createElement("span",{className:"bf-prefix-sufix"},e+"...")):i.getTextNode(i.prefix,x.default.escape(e),t)},i.prefix="",i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"getKeyDisplayVal",value:function(e){return e.keyAlias?e.keyAlias:e.key===-(1/0)?T:e.key}},{key:"render",value:function(){var e=this.props.barData;null!=e.prefix&&(this.prefix=e.prefix),e.barWidth<_&&e.barWidth>0&&(e.barWidth=_),e.filterWidth>0&&e.filterWidth<_&&(e.filterWidth=_);var t=e.globalFilter===!0&&e.grpFilter!==!0||e.binFilter===!0?e.filterWidth:0;return g.default.createElement("div",{className:"bigfacet-bar-container",style:{width:e.maxWidth+E}},g.default.createElement("div",{className:"bigfacet-bar",style:{width:e.barWidth,borderLeftWidth:t}}),g.default.createElement("div",{className:"bar-text-container",style:{width:e.maxWidth},onClick:this.click,onMouseEnter:this.showTip,onMouseMove:this.moveTip,onMouseLeave:this.hideTip},this.getBarData(e)),e.binFilter?g.default.createElement("div",{className:"bigfacet-bar-selector"}):null)}}]),t}(p.Component);N.propTypes={barData:m.default.object.isRequired,barClick:m.default.func,pattern:m.default.string},t.default=N},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v);i(170);var b=i(885),y=n(b),w=i(1105),x=n(w),E=i(5),_=n(E),A=i(26),C=n(A),S=22,T=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.barClick=function(e){e&&(e.binFilter===!0?i.props.removeFilter(e):i.props.addFilter(e))},i.handleScroll=function(){setTimeout(function(){(0,C.default)(".bf-infinite-container .bar-tooltip").hide()},200)},i.buildElements=function(e){var t=[];return i.barData.forEach(function(n,r){t.push(m.default.createElement(x.default,{key:r,barClass:"default-bar-row",barData:i.barData[r],barClick:i.barClick,pattern:e}))}),t},i.state={elements:[]},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.group!==e.group&&this.resetMaxBin(e.group),this.buildFacets(e.group,e.width,e.pattern)}},{key:"componentDidMount",value:function(){this.resetMaxBin(this.props.group),this.buildFacets(this.props.group,this.props.width)}},{key:"resetMaxBin",value:function(e){Array.isArray(e)&&e.length>0&&(this.maxBin=e.reduce(function(e,t){return e.maxValue>t.maxValue?e:t}))}},{key:"buildFacets",value:function(e,t,i){var n=this,r=t-S,o=e.reduce(function(e,t){return e+t.maxValue},0);if(this.barData=[],this.maxBin){var s=r/this.maxBin.maxValue;e.forEach(function(e){n.barData.push((0,a.default)({maxWidth:r,barWidth:e.maxValue*s,filterWidth:e.filterValue*s,size:o},e))})}this.setState({elements:this.buildElements(i)})}},{key:"render",value:function(){var e=this,t=this.props,i=t.rowHeight,n=t.containerHeight;return m.default.createElement(y.default,{ref:function(t){e.container=t},className:"bf-infinite-container",elementHeight:i,containerHeight:n,handleScroll:this.handleScroll},this.state.elements)}}]),t}(v.Component);T.propTypes={rowHeight:_.default.number.isRequired,width:_.default.number.isRequired,containerHeight:_.default.number.isRequired,group:_.default.array.isRequired,addFilter:_.default.func,removeFilter:_.default.func},t.default=T},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=r(a),s=i(2),l=r(s),u=i(6),c=r(u),d=i(4),h=r(d),f=i(3),p=r(f),g=i(1),v=r(g),m=i(5),b=r(m);i(170);var y=i(1292),w=r(y),x=i(1310),E=r(x),_=i(1318),A=r(_),C=i(8),S=r(C),T=i(218),I=n(T),D=i(10),O=r(D),M=i(116),k=n(M),N=i(153),P=r(N),L=15,R=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.toggleDatePicker=function(e){var t={x:e.clientX,y:e.clientY+L};i.setState({datePickerVisible:!i.state.datePickerVisible,dpPos:t})},i.toggleNumericSelector=function(e){var t={x:e.clientX,y:e.clientY+L};i.setState({numericSelectorVisible:!i.state.numericSelectorVisible,nsPos:t})},i.toggleTimeSelector=function(e){var t={x:e.clientX,y:e.clientY+L};i.setState({timeSelectorVisible:!i.state.timeSelectorVisible,timeSelectorPos:t})},i.onDatePickerClose=function(){i.setState({datePickerVisible:!1})},i.onNumericSelectorClose=function(){i.setState({numericSelectorVisible:!1})},i.onTimeSelectorClose=function(){i.setState({timeSelectorVisible:!1})},i.onDateSelect=function(e){if(e){var t=i.getNumericFilter(e);i.isValidBin(t)&&i.props.addFilter([t])}},i.onNumericFilter=function(e){if(e){var t=i.getNumericFilter(e);i.isValidBin(t)&&i.props.addFilter([t])}},i.onTimeSelect=function(e){i.transformTimeToMillis(e);var t=i.getNumericFilter(e);i.isValidBin(t)&&i.props.addFilter([t])},i.transformTimeToMillis=function(e){e&&(e.value1&&(e.value1=i.getMillis(e.value1)),e.value2&&(e.value2=i.getMillis(e.value2)))},i.getMillis=function(e){var t=null;if(e){var i=(0,O.default)(I.BASE_DATE_FOR_TIME+e,I.DATE_TIME_PATTERN);i.isValid()&&(t=i.valueOf())}return t},i.getNumericFilter=function(e){var t={type:"ADD",operation:e.operation};switch(e.operation){case I.BETWEEN:t.low=e.value1,t.high=e.value2;break;case I.EQUALS:case I.LESS:case I.LESSTE:case I.GREATER:case I.GREATERTE:case I.DNEQUALS:t.key=e.value1}return t},i.state={datePickerVisible:!1,numericSelectorVisible:!1,timeSelectorVisible:!1},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"isValidBin",value:function(e){var t=!0;switch(e.operation){case I.BETWEEN:null!=e.low&&null!=e.high||(t=!1);break;case I.EQUALS:case I.LESS:case I.LESSTE:case I.GREATER:case I.GREATERTE:case I.DNEQUALS:null==e.key&&(t=!1)}return t}},{key:"render",value:function(){var e=this.props,t=e.facetType,i=e.dim,n=e.setFacetView,r=e.clearFilters,a=e.viewType,o=e.columnHasFilter,s=o?I.ICON_ACTIVE:I.ICON_DISABLED,l=o?r:function(){},u=(0,S.default)("facet-icon",a===I.facetViewType.GROUP?"group-facet-icon-selected":"group-facet-icon","facet-group-unique-float","icon-margin2"),c=(0,S.default)("facet-icon",a===I.facetViewType.GROUP?"unique-facet-icon":"unique-facet-icon-selected","facet-group-unique-float","icon-margin3"),d=(0,S.default)("facet-icon",this.state.numericSelectorVisible===!0?"slider-selected":"slider","icon-margin1"),h=(0,S.default)("facet-icon",this.state.datePickerVisible===!0?"date-selected":"date","icon-margin1"),f=(0,S.default)("facet-icon",this.state.datePickerVisible===!0?"date-time-selected":"date-time","icon-margin1"),p=(0,S.default)("facet-icon",this.state.timeSelectorVisible===!0?"time-selected":"time","icon-margin1");return v.default.createElement("div",{className:"facet-toolbar",style:{height:i.h}},v.default.createElement(P.default,{text:I.RESET},v.default.createElement("div",{className:"facet-icon reset-icon reset-icon-margin",onClick:l,style:{opacity:s}})),t!==k.FACET_TYPE_STRING?v.default.createElement("div",{className:"facet-tb-split-line"}):null,t===k.FACET_TYPE_NUMERIC?v.default.createElement(P.default,{text:I.RANGE_SELECTOR},v.default.createElement("div",{className:d,onClick:this.toggleNumericSelector},this.state.numericSelectorVisible?v.default.createElement(E.default,{visible:this.state.numericSelectorVisible,onClose:this.onNumericSelectorClose,onSelect:this.onNumericFilter,pos:this.state.nsPos}):null)):null,t===k.FACET_TYPE_DATE?v.default.createElement(P.default,{text:I.DATE_SELECTOR},v.default.createElement("div",{className:h,onClick:this.toggleDatePicker},v.default.createElement(w.default,{visible:this.state.datePickerVisible,showTime:!1,onClose:this.onDatePickerClose,onSelect:this.onDateSelect,pos:this.state.dpPos}))):null,t===k.FACET_TYPE_TIME?v.default.createElement(P.default,{text:I.TIME_SELECTOR},v.default.createElement("div",{className:p,onClick:this.toggleTimeSelector},this.state.timeSelectorVisible?v.default.createElement(A.default,{visible:this.state.timeSelectorVisible,onClose:this.onTimeSelectorClose,onSelect:this.onTimeSelect,pos:this.state.timeSelectorPos}):null)):null,t===k.FACET_TYPE_TIMESTAMP?v.default.createElement(P.default,{text:I.DATE_TIME_SELECTOR},v.default.createElement("div",{className:f,onClick:this.toggleDatePicker},v.default.createElement(w.default,{visible:this.state.datePickerVisible,showTime:!0,onClose:this.onDatePickerClose,onSelect:this.onDateSelect,pos:this.state.dpPos}))):null,v.default.createElement(P.default,{text:I.UNIQUE_VIEW},v.default.createElement("div",{className:c,onClick:function(){return n(I.facetViewType.DISTINCT)}})),v.default.createElement(P.default,{text:I.BIN_VIEW},v.default.createElement("div",{className:u,onClick:function(){return n(I.facetViewType.GROUP)}})))}}]),t}(g.Component);R.propTypes={dim:b.default.object,facetType:b.default.string,setFacetView:b.default.func,clearFilters:b.default.func,viewType:b.default.string,addFilter:b.default.func,columnHasFilter:b.default.bool},t.default=R},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1107),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1098),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u.UPDATE_FACET_FILTER:return(0,s.default)({},e,{filterTime:t.filterTime});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=r(o);t.default=a;var l=i(262),u=n(l),c={filterTime:Date.now(),columnName:null}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(13),y=i(14),w=i(5),x=n(w);i(676);var E=i(115),_=i(26),A=n(_),C=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.el=document.createElement("div"),i.state={hilightLastScript:!1},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.updateHighlightingStatus(this.props,e)}},{key:"componentWillMount",value:function(){this.updateHighlightingStatus(this.props,null)}},{key:"updateHighlightingStatus",value:function(e,t){(!t&&this.props.selectedColumn||t.selectedColumn!==this.props.selectedColumn)&&this.setState({highlighting:!0})}},{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this,t=this.props,i=t.selectedColumn,n=t.currentTableId,r=(0,E.$$)("derivedtableview_"+n),o={};if(r&&r.config.columns&&i){var s=(0,A.default)(r.getHeaderNode(i)).parent(),l=s.offset(),u=Math.min((0,A.default)(r.getNode()).find(".webix_column").height(),(0,A.default)(r.getNode()).find(".webix_ss_center").height()),c=(0,A.default)(r.getNode()).find(".webix_hs_center").height();l&&(o=(0,a.default)({},o,{top:l.top-1,left:l.left,width:s.width(),height:Math.min(u+c,r.$height)
}))}return(0,b.createPortal)(m.default.createElement("div",{ref:function(t){e._node=t},style:(0,a.default)({display:this.state.highlighting?"flex":"none",position:"absolute"},o),onAnimationEnd:function(){e.setState({highlighting:!1}),e.props.onAnimationEnd()},className:this.state.highlighting?"popup-column-highlight":""}),this.el)}}]),t}(v.Component),S=function(e){return{layout:e.layout}};C.propTypes={currentTableId:x.default.string,selectedColumn:x.default.string,onAnimationEnd:x.default.func},t.default=(0,y.connect)(S,null)(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DATACELLEDITORID=void 0;var r=i(332),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(485);var v=i(26),m=n(v),b=i(15),y=n(b),w=i(8),x=n(w),E=i(5),_=n(E),A=i(1),C=n(A),S=i(13),T=i(14),I=i(16),D=i(153),O=n(D),M=i(187),k=i(149),N=i(263),P=i(146),L=i(1288),R=n(L);i(1783);var F=t.DATACELLEDITORID="mstr-as-datacell-editor-id",j=3,B=72,H=function(e){return{col:e.attr("aria-colindex")-1,row:e.attr("aria-rowindex")-1}},V=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.state={value:"",dataSource:[]},i.applyToAll=function(){var e=i.props,t=e.editingCell.colName,n=e.toggleEditCell,r=i.props.editingCell.originalValue,a=i.getCurValue();n(!1),a!==r&&(0,k.submitApplyToAll)({columnName:t,from:r},a)},i.applyToCell=function(e){return function(){var t=H(e),n=i.props.editingCell.originalValue,r=i.getCurValue();i.props.toggleEditCell(!1),r!==n&&(0,k.submitApplyToCell)(t,r)}},i.cancel=function(){i.props.toggleEditCell(!1)},i.getCurValue=function(){return i.state.value},i.getDim=function(e){return{top:e.offset().top-j,left:e.offset().left-j-(i.displayButtonOnLeft(e)?B:0),height:e.height()+2*j}},i.displayButtonOnLeft=function(e){var t=e.offset&&e.offset().left,i=e.width(),n=window.innerWidth-t-i;return!y.default.isNaN(n)&&n<=B},i.onChange=function(e){i.setState({value:e})},i.onFiltering=function(e,t){return y.default.startsWith(y.default.toLower(t.key),y.default.toLower(e))},i.onKeyDown=function(e){return function(t){if(!y.default.result(i.auto,"select.rcSelect.state.open"))switch(t.keyCode){case 27:return void i.cancel();case 13:return void(t.ctrlKey||t.metaKey?i.applyToCell(e)():i.applyToAll())}}},i.portal=document.createElement("div"),i.auto=null,i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.portal.className="mstr-as-datacell-editor-portal",document.body.appendChild(this.portal)}},{key:"componentWillReceiveProps",value:function(e){e.editingCell.originalValue!==this.state.value&&this.setState({value:e.editingCell.originalValue,dataSource:(0,M.getEditCellSuggest)(e.previewResult,e.editingCell.colName)})}},{key:"componentDidUpdate",value:function(){var e=(0,m.default)("#"+F).find("input")[0];e&&"number"==typeof e.selectionStart&&(e.selectionStart=0,e.selectionEnd=e.value.length)}},{key:"render",value:function(){var e=this,t=this.props.editingCell,i=t.visible,n=t.$target;return i&&n?(0,S.createPortal)(C.default.createElement(R.default,{onClickOutside:this.cancel},C.default.createElement("div",{id:F,className:(0,x.default)("mstr-as-datacell-editor",this.displayButtonOnLeft(n)?"display-btn-on-left":""),style:this.getDim(n),onKeyDown:this.onKeyDown(n)},C.default.createElement(a.default,{ref:function(t){e.auto=t},className:"mstr-as-datacell-editor-input",dropdownClassName:"mstr-as-select-dropdown",dataSource:this.state.dataSource,style:{width:n.outerWidth()},autoFocus:!0,value:this.state.value,onChange:this.onChange,filterOption:this.onFiltering,getPopupContainer:function(){return document.getElementById(F)}}),C.default.createElement("div",{className:"mstr-as-datacell-editor-btn-group"},C.default.createElement(O.default,{text:"Apply To All (Enter)",placement:"bottom"},C.default.createElement("div",{className:"mstr-as-datacell-editor-btn apply-to-all",onClick:this.applyToAll})),C.default.createElement(O.default,{text:"Apply (Ctrl + Enter)",placement:"bottom"},C.default.createElement("div",{className:"mstr-as-datacell-editor-btn apply-to-cell",onClick:this.applyToCell(n)})),C.default.createElement(O.default,{text:"Cancel (Esc)",placement:"bottom"},C.default.createElement("div",{className:"mstr-as-datacell-editor-btn cancel",onClick:this.cancel}))))),this.portal):null}}]),t}(C.default.Component);V.propTypes={editingCell:_.default.shape({visible:_.default.bool,colName:_.default.string,$target:_.default.object,originalValue:_.default.string}),toggleEditCell:_.default.func,previewResult:_.default.array},V.defaultProps={editingCell:{visible:!1,colName:"",$target:(0,m.default)(),originalValue:""},toggleEditCell:function(){},previewResult:[]},t.default=(0,T.connect)(function(e){return{editingCell:(0,P.selectedEditingCell)(e)}},function(e){return{toggleEditCell:(0,I.bindActionCreators)(N.toggleEditCell,e)}})(V)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(53),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=i(14),_=i(263),A=i(29),C=i(115),S=i(1112),T=n(S),I=i(26),D=n(I),O=i(15),M=n(O),k=i(187),N=i(149),P=i(148),L=i(146),R=i(22),F=i(568),j=i(224),B=i(52),H=i(126);i(676);var V=i(357),U=i(84),W=i(60),z=i(358),G=i(542),$=i(265),q=i(363),Y=i(544),J=i(116),K=i(545),X=(i(261),i(356)),Q=i(147),Z=i(22),ee=i(113),te=i(1111),ie=n(te),ne=i(151),re=n(ne),ae=i(185),oe=n(ae),se=i(372),le=n(se),ue=i(186),ce=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.emptyDataGridCurtain=function(e){var t=e.rawRowCount,i=e.rowLimit,n=e.tableType,r=e.hasBackendWrangler,a=e.hasFrontendWrangler,o=e.showWrangler,s="This table contains no data",l="Your wrangling operations have exluded all the data. You won’t have any data in this table when you publish this dataset.",u="We ran out of sample data. The final results in the dataset after publishing might contain data as operations will be applied on the whole table.",c="";return c="source"===n?r||o&&a?i>=t?l:u:s:u,"<div class='empty-content no_data'>\n      <div class='empty-title'>No Data</div>\n"+("      <div class='empty-text'>"+c+"</div>")+"    </div>"},i.selectFacetColumn=function(){if((0,Q.selectActiveTabKey)((0,A.getAllState)())===ee.COLUMN_DETAILS_TAB_KEY){var e=(0,Z.selectDetailFacetColumn)((0,A.getAllState)());null!=e&&i.grid.getColumnIndex(e)>=0&&i.grid.select(e)}},i.onFacetHeaderClick=function(e,t,n){if(i.props.showWrangler===!1){var r=(0,V.idColumnCheck)([n],i.tableId)[0];r&&i.props.showDetailFacet(r)}},i.tableId=i.props.tableId,i.tableData=i.props.tableData,i.columMetadata=i.getTableMetadata(i.props.tableData),i.DATA_GRID_ID="derivedtableview_"+i.tableId,i.grid=null,i.updateDataGrid=i.updateDataGrid.bind(i),i.handleMenuClick=i.handleMenuClick.bind(i),i.menuHandlers=[],i.state={highlightedColumns:[],columnSelectionUpdated:!1},i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"getTableMetadata",value:function(e){var t={};return e&&e.header&&e.header.forEach(function(e){t[e.id]=e.width}),t}},{key:"handleMenuClick",value:function(e){var t=e.keyPath,i=e.key,n=t&&2===t.length?t[1]:i,r=this.menuHandlers.filter(function(e){return e.key===n})[0].handler;r&&r(i)}},{key:"hideContextMenu",value:function(){this.contextMenu.handleCXMVisibleChange(!1)}},{key:"canActivateContextMenu",value:function(e){return 0===e.button}},{key:"getScrollHideTargetNode",value:function(){return this.grid&&this.grid.$view?this.grid.$view:void 0}},{key:"render",value:function(){var e=this,t=this.props,i=t.dim,n=t.currentTableData;this.menuHandlers=(0,V.initHeaderMenuHandler)(this);var r=y.default.createElement(re.default,{onClick:this.handleMenuClick},this.menuHandlers.filter(function(e){return e.applicable}).map(function(t){return t.getSubMenu?y.default.createElement(le.default,{className:"mstr-as-sub-menu header-menu-submenu",ref:e.updateMenuItem,title:y.default.createElement("span",null,t.name),key:t.key},t.getSubMenu().map(function(e){return y.default.createElement(re.default.Item,{key:e.value,disabled:e.disabled,handler:e.handler},e.node)})):y.default.createElement(re.default.Item,{key:t.key,disabled:t.disabled,handler:t.handler?t.handler:null},t.name)}));return y.default.createElement(oe.default,{ref:function(t){e.contextMenu=t},menu:r,canActivate:function(t){return e.canActivateContextMenu(t)},getScrollHideTargetNode:function(){return e.getScrollHideTargetNode()}},y.default.createElement("div",null,y.default.createElement(T.default,{previewResult:n.previewResult}),y.default.createElement("div",{ref:function(t){e._node=t},style:{top:i.y,left:i.x,width:i.w,height:i.h},className:this.props.showObjectInfoHeader?"three-rows-header":"two-rows-header"}),this.state.columnSelectionUpdated&&this.state.highlightedColumns.length>0?y.default.createElement(ie.default,{key:this.state.key,onAnimationEnd:function(){return e.onHighlightAnimationEnd()},currentTableId:this.props.tableData.tableId,selectedColumn:this.state.highlightedColumns[this.state.highlightedColumns.length-1]}):null))}},{key:"onHighlightAnimationEnd",value:function(){this.setState({columnSelectionUpdated:!1})}},{key:"componentWillReceiveProps",value:function(e){this.props.dim.w===e.dim.w&&this.props.dim.h===e.dim.h||this.resizeGrid(e.dim.w,e.dim.h),e&&e.tableHeader&&(this.columMetadata=this.getTableMetadata({header:e.tableHeader})),this.updateColumnSelection(e),e.showWrangler!==this.props.showWrangler&&e.showWrangler&&(0,N.dwTableListener)(this.DATA_GRID_ID)}},{key:"createGridHeader",value:function(e){var t=this;e&&e.length>0&&(e&&e.forEach(function(e){t.columMetadata[e.id]&&(e.width=t.columMetadata[e.id])}),this.grid.refreshColumns(e))}},{key:"getTableScrollLength",value:function(e){var t=(0,D.default)(e.$view).children(".webix_vscroll_y").children().height(),i=(0,D.default)(e.$view).children(".webix_vscroll_x").children().width();return i=i>1?i:1,t=t>1?t:1,{x:i,y:t}}},{key:"refreshTableData",value:function(e){var t={};if(e.header&&e.header.length>0){var i=this.grid.getScrollState(),n=this.getTableScrollLength(this.grid),r={x:i.x/n.x,y:i.y/n.y};this.grid.blockEvent(),this.grid.clearAll(!0),this.grid.unblockEvent(),t=this.fixTableData(e,this.props.tableId),"onFilter"===e.eventType?this.grid.refreshColumns():(this.props.setSelectedColumns([]),this.createGridHeader(t.header)),t.data&&t.data.length?(this.grid.parse(t.data,"json"),this._emptyDataCurtain&&(this._emptyDataCurtain.remove(),this._emptyDataCurtain=void 0)):this._emptyDataCurtain||(this._emptyDataCurtain=(0,D.default)(this.emptyDataGridCurtain(this.props)).appendTo((0,D.default)(this.grid.getNode()).find(".webix_ss_body"))),n=this.getTableScrollLength(this.grid),this.grid.scrollTo(r.x*n.x>0?r.x*n.x+1:0,r.y*n.y>0?r.y*n.y+1:0),i=this.grid.getScrollState(),this.grid.scrollTo(i.x>0?i.x-1:0,i.y>0?i.y-1:0),this.selectFacetColumn()}else this.grid.clearAll(!0);(0,N.clearTextSelectionUI)()}},{key:"fixTableData",value:function(e,t){var i=(0,k.encodeGridData)(e);return i=(0,k.resolveWebixIdForGrid)(i,t)}},{key:"componentDidUpdate",value:function(e){(0,s.default)(e.dim)!==(0,s.default)(this.props.dim)&&this.resizeGrid(this.props.dim.w,this.props.dim.h)}},{key:"componentWillUpdate",value:function(e,t){var i=this,n=e.dataModel!==this.props.dataModel&&e.showObjectInfoHeader;if((n||void 0===this.props.tableData.options.showObjectInfoHeader||this.props.tableData.options.showObjectInfoHeader!==e.showObjectInfoHeader)&&(this.props.tableData.options.showObjectInfoHeader=e.showObjectInfoHeader,this.recreateHeadersWithSavedWidth(this.props.tableData,this.props.tableId),this.recreateHeaderAndFacet(this.props.tableData)),e.tableData.timestamp!==this.props.tableData.timestamp){var r=j.facetManager.removeTableFacetBuilder(e.tableId);this.recreateHeaderAndFacet(e.tableData,r)}if(this.props.formSelectedFunc!==e.formSelectedFunc){var a=M.default.find((0,z.getExpressionByFuncStr)(e.formSelectedFunc).parameters,function(e){return e.field===G.COLUMN_FIELD});this.grid.config.multiselect=!a||a.multiple}var o=(0,V.idColumnCheck)(this.grid.getSelectedId(!0,!0),this.props.tableId);if((0,s.default)(this.props.formSelectedCols)!==(0,s.default)(e.formSelectedCols)){this._silentSelect=!0;var l=!1;(0,V.idColumnCheck)(M.default.difference(o,e.formSelectedCols),this.tableId).forEach(function(e){i.grid.getColumnIndex(e)>=0&&o.indexOf(e)>=0&&(i.grid.unselect(e),l=!0)}),(0,V.idColumnCheck)(M.default.difference(e.formSelectedCols,o),this.tableId).forEach(function(e){i.grid.getColumnIndex(e)>=0&&o.indexOf(e)<0&&(i.grid.select(e,!0),i.grid.showCell(null,e),l=!0)}),this.props.formSelectedCols!==e.formSelectedCols&&(l=!0),o=(0,V.idColumnCheck)(this.grid.getSelectedId(!0,!0),this.tableId),this._silentSelect=!1}}},{key:"componentDidMount",value:function(){this.loadPreviewComponent(),void 0!==this.props.tableData.options.showObjectInfoHeader&&this.props.tableData.options.showObjectInfoHeader===this.props.showObjectInfoHeader||(this.recreateHeadersWithSavedWidth(this.props.tableData,this.props.tableId),this.props.tableData.options.showObjectInfoHeader=this.props.showObjectInfoHeader),this.resizeGrid(this.props.dim.w,this.props.dim.h),this.recreateHeaderAndFacet(this.props.tableData),this.grid.scrollTo(this.props.scrollState?this.props.scrollState.x:0,this.props.scrollState?this.props.scrollState.y:0),this.updateColumnSelection(this.props),this.props.showWrangler&&(0,N.dwTableListener)(this.DATA_GRID_ID)}},{key:"updateColumnSelection",value:function(e){var t=this,i=e.tableColumnSelection[e.tableData.tableId];if(i||(i=[]),0===i.length)return void this.setState({highlightedColumns:[]});if(e.lastSelectedObject){var n=M.default.compact(M.default.uniqWith(e.objectIdColumnMap[e.lastSelectedObject.id]?e.objectIdColumnMap[e.lastSelectedObject.id].map(function(t){if(void 0===t.formName||t.formName&&"ID"===t.formName)return(0,V.idColumnCheck)([t.columnName],e.tableData.tableId)[0]}):null,M.default.isEqual));this.grid&&n&&(M.default.difference(n,this.state.highlightedColumns).length>0||M.default.difference(this.state.highlightedColumns,n).length>0)&&(n.forEach(function(e){t.grid.showCell(null,e)}),this.setState({highlightedColumns:n,columnSelectionUpdated:!0,key:Math.random()}))}}},{key:"recreateHeadersWithSavedWidth",value:function(e,t){var i=(0,P.createDatagridHeaders)(e.originalHeader,null,t);e.header.forEach(function(e){e.header=i.find(function(t){return t.id===e.id}).header})}},{key:"componentWillUnmount",value:function(){this.grid.destructor(),this.grid=null}},{key:"recreateHeaderAndFacet",value:function(e,t){this.refreshTableData(e),j.facetManager.getTableFacetBuilder(this.props.tableId)?(this.fb=j.facetManager.getTableFacetBuilder(this.props.tableId),this.fb.updateCallback(this.updateDataGrid)):(this.fb=(0,F.facetBuilder)({columns:e.header,data:e.data,callback:this.updateDataGrid,oldFacetConfigs:t,onHeaderClick:this.onFacetHeaderClick}),j.facetManager.addTableFacetBuilder(this.props.tableId,this.fb)),this.renderFacets()}},{key:"renderFacets",value:function(){var e=this,t=j.facetManager.getTableFacetBuilder(this.props.tableId);if(t&&this.grid){var i=[];this.grid.eachColumn(function(t){i[e.grid.getColumnIndex(t)]={colId:e.grid.getColumnConfig(t).originalId,width:e.grid.getColumnConfig(t).width}}),(0,J.renderVisibleFacets)(t,{gridColumns:i,posX:this.grid.getScrollState().x||0,gridWidth:this.grid.config.width||0})}}},{key:"resizeGrid",value:function(e,t){this.grid.define("width",e),this.grid.define("height",t),this.grid.resize()}},{key:"updateDataGrid",value:function(e,t,i){this.setTableData((0,a.default)({},this.tableData,{data:e,header:t,eventType:i}))}},{key:"setTableData",value:function(e){this.tableData=e,this.refreshTableData(e),K.wranglerEngine.updateTableData(e)}},{key:"loadPreviewComponent",value:function(){var e=this;C.webix.ui.datafilter.previewFacetContainer={refresh:function(t,i,n){var r=(0,D.default)(i).find(".preview-facet-container")[0],a=(0,D.default)(r).attr("id");e.fb&&e.fb.updateContainer(a,r,e.onFacetHeaderClick)},render:function(e,t){return(0,D.default)("<div>",{id:t.elId,class:"preview-facet-container","data-webixId":t.colname}).get(0).outerHTML}},C.webix.ui(this.getComponentDefinition(this)),this.grid=(0,C.$$)(this.DATA_GRID_ID);var t=this.grid;this.tableId;t.attachEvent("onColumnResize",function(i,n,r,a){if(a){var o=t.config.customMinColumnWidth;o&&n<o&&(t.setColumnWidth(i,o),n=o),e.props.updateGridOnResize({tabId:e.props.tableId,colId:i,width:n}),clearTimeout(e.timer),e.timer=setTimeout(function(){return e.renderFacets()},10)}}),t.attachEvent("onAfterScroll",function(){clearTimeout(e.timer),e.timer=setTimeout(function(){return e.renderFacets()},150)});var i=t.getNode().getElementsByClassName("webix_ss_header")[0];C.webix.event(i,"click",function(n){var r=(0,D.default)(n.target).closest(".preview-facet-container",i),a=(0,V.idColumnCheck)([(0,V.getColumnName)(n,i)||(0,V.getFacetColumnName)(n,i)],e.tableId)[0];a&&(t.getSelectedId()&&n.shiftKey&&t.config.multiselect?t.selectRange(t.getSelectedId(!0,!0).slice(-1)[0],a):(t.select(a,(0,J.multiSelectKey)(n)&&t.config.multiselect),e.props.showWrangler&&r&&r.length>0&&e.props.showDetailFacet(a))),(0,D.default)(n.target).is(".header-menu-button")&&(e.contextMenu.onContextMenu(n),n.stopPropagation())})}},{key:"hoverTableRow",value:function(e){var t=(0,C.$$)(q.POPUP_PREVIEW_GRID_ID),i=(0,C.$$)(this.DATA_GRID_ID),n=[i,t];n.forEach(function(t){void 0!==t.last_hover_rowIndex&&e!==t.last_hover_rowIndex&&t.removeRowCss(t.data.order[t.last_hover_rowIndex],"hoverdatatable"),t.addRowCss(t.data.order[e],"hoverdatatable"),t.last_hover_rowIndex=e})}},{key:"getComponentDefinition",value:function(e){var t=this.props,i=t.setSelectedColumns,n=t.hidePopPreview,r=this;return{view:"datatable",id:this.DATA_GRID_ID,container:e._node,css:"dwWindowTable",customMinColumnWidth:ue.gridColumnWidth,resizeColumn:!0,scroll:"xy",select:"column",multiselect:!0,hover:"hoverdatatable",navigation:!1,scrollAlignY:!1,on:{onScrollY:function(){r.props.popShow&&(0,C.$$)(q.POPUP_PREVIEW_GRID_ID).scrollTo(0,this.getScrollState().y),r.props.updateGridScrollState({tabId:r.tableId,scrollState:this.getScrollState()}),r.props.editingCell&&r.props.editingCell.visible&&(0,A.dispatchAction)((0,_.toggleEditCell)(!1))},onScrollX:function(){r.props.popShow&&n(),r.props.updateGridScrollState({tabId:r.tableId,scrollState:this.getScrollState()}),r.props.editingCell&&r.props.editingCell.visible&&(0,A.dispatchAction)((0,_.toggleEditCell)(!1))},onSelectChange:function(){if(r.hideContextMenu(),!r._silentSelect){var e=(0,V.idColumnCheck)(this.getSelectedId(!0,!0),r.tableId);i(e)}},onMouseMoving:function(e){if(r.props.popShow){if(!this.locate(e))return;var t=this.locate(e).rind;r.hoverTableRow(t)}},onBeforeRender:function(){var e=(0,D.default)(".table-header-text[contenteditable='true']"),t=(0,D.default)("#"+S.DATACELLEDITORID).find("input");1===e.length&&document.activeElement===e[0]&&(this._editCursor=!0),1===t.length&&document.activeElement===t[0]&&(this._editCellCursor=!0);var i=r.props.gridSelectedText;D.default.isEmptyObject(i)?this._clearTextSelection=!0:this._clearTextSelection=!1},onAfterRender:function(){if(r.props.showWrangler){if(this._editCursor){var e=(0,D.default)(this.$view).find(".text-wrapper[contenteditable='true']");if(1===e.length)return void e.focus();this._editCursor=!1}if(this._editCellCursor){var t=(0,D.default)("#"+S.DATACELLEDITORID).find("input");if(1===t.length)return void t.focus();this._editCellCursor=!1}var i=r.props.gridSelectedText;if(this._clearTextSelection)(0,N.clearTextSelectionUI)();else{var n=this.getItemNode({row:i.rowWebix,column:i.columnWebix});n&&(0,D.default)(n).selText({startOffset:i.startOffset,endOffset:i.endOffset})}}}}}}}]),t}(b.Component);ce.propTypes={formSelectedCols:x.default.array,formSelectedFunc:x.default.string,dim:x.default.object,tableId:x.default.string,tableData:x.default.object,setSelectedColumns:x.default.func.isRequired,showWrangler:x.default.bool,showObjectInfoHeader:x.default.bool,tableHeader:x.default.array,dataModel:x.default.object,updateGridOnResize:x.default.func,hidePopPreview:x.default.func,showDetailFacet:x.default.func,currentTableData:x.default.object,columnNameObjectNameMap:x.default.object,setSelectAttributesOfOneTable:x.default.func,setSelectMetricsOfOneTable:x.default.func,tableIdMap:x.default.object,tableColumnSelection:x.default.object,selectedAttributes:x.default.array,selectedMetrics:x.default.array,editingCell:x.default.object};var de=function(e){return{gridSelectedText:(0,L.selectSelecetdText)(e),formSelectedCols:(0,R.selectDataGridFormColumn)(e)||[],formSelectedFunc:(0,R.selectDataGridFormFunc)(e)||"",showWrangler:(0,R.selectDW)(e).showWrangler,showObjectInfoHeader:(0,R.selectShowObjectInfoHeader)(e)&&!(0,R.selectDW)(e).showWrangler,dataModel:(0,R.selectDataModel)(e),selectedAttributes:(0,W.selectedAttributes)(e),selectedMetrics:(0,W.selectedMetrics)(e),tableHeader:(0,R.selectCurrentTableHeader)(e),scrollState:(0,R.selectCurrentTableScrollState)(e),columnNameObjectNameMap:(0,L.selectColumnNameObjectIdMap)(e).columnNameObjectNameMap,tableColumnSelection:(0,L.selectTableColumnSelection)(e),tableIdMap:(0,L.selectColumnNameObjectIdMap)(e).tableIdMap,popShow:(0,Y.selectPopShowed)(e),currentTableData:(0,R.selectCurrentPreviewTableData)(e),lastSelectedObject:e.dmState.lastSelectedObject,rawRowCount:(0,R.selectPreviewTableRawRowCount)(e),rowLimit:(0,R.selectPreviewTableRowLimit)(e),tableType:(0,R.selectPreviewTableType)(e),hasBackendWrangler:(0,R.selectPreviewTableWranglerStatus)(e),hasFrontendWrangler:(0,Q.selectCurrentWranglerStatus)(e),objectIdColumnMap:(0,L.selectObjectIdColumnMap)(e).objectIdColumnMap,editingCell:(0,L.selectedEditingCell)(e)}};t.default=(0,E.connect)(de,{setSelectedColumns:H.setSelectedColumns,updateGridOnResize:B.updateGridOnResize,setSelectAttributesOfOneTable:U.setSelectAttributesOfOneTable,setSelectMetricsOfOneTable:U.setSelectMetricsOfOneTable,hidePopPreview:$.hidePopPreview,updateGridScrollState:B.updateGridScrollState,showDetailFacet:X.showDetailFacet})(ce)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1113),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.SET_HIGHLIGHTED_TEXT:return t.selText;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.SET_SELECTED_COLUMN:return[].concat((0,d.default)(t.selectedCols));default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case p.TOGGLE_EDIT_CELL:return(0,u.default)({},t);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var l=i(7),u=r(l),c=i(46),d=r(c),h=i(16),f=i(532),p=n(f);t.default=(0,h.combineReducers)({selectedCols:o,selText:a,editCell:s})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{showTbPreview:(0,S.selectTablePreviewState)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(53),o=n(a),s=i(7),l=n(s),u=i(9),c=n(u),d=i(2),h=n(d),f=i(6),p=n(f),g=i(4),v=n(g),m=i(3),b=n(m),y=i(1),w=n(y),x=i(5),E=n(x),_=(i(248),i(14)),A=i(1114),C=n(A),S=i(22),T=i(8),I=n(T),D=function(e){function t(){return(0,h.default)(this,t),(0,v.default)(this,(t.__proto__||(0,c.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.showTbPreview,n=(0,l.default)({},t);return w.default.createElement("div",{className:(0,I.default)("table-preview-grid"),style:{background:"white",display:i,width:t.w,height:t.h}},w.default.createElement(C.default,{dim:n,tableData:this.props.tableData,tableId:this.props.tableId}))}},{key:"shouldComponentUpdate",value:function(e,t){return e.tableData.timestamp!==this.props.tableData.timestamp||!this.compareDim(e.dim,this.props.dim)}},{key:"compareDim",value:function(e,t){return(0,o.default)(e)===(0,o.default)(t)}}]),t}(y.Component);D.propTypes={dim:E.default.object.isRequired,tableData:E.default.object,showTbPreview:E.default.bool,tableId:E.default.string},t.default=(0,_.connect)(r)(D)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1116),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{showWrangler:(0,F.selectDW)(e).showWrangler,showObjectInfoHeaderChecked:(0,F.selectShowObjectInfoHeader)(e),showTbPreview:(0,F.selectTablePreviewState)(e),layout:e.layout,tablePreviewMap:(0,F.selectTablePreviewMap)(e),currentPreviewTableId:(0,F.selectCurrentPreviewTableId)(e),currentPipelineId:(0,F.selectCurrentPipelineId)(e),selectedTableIds:(0,F.selectSelectedTableIds)(e),tableList:e.dpState.tableList,isEditPipelineMode:e.dpState.isEditPipelineMode,lastSelectedObject:e.dmState.lastSelectedObject,objectIdColumnMap:(0,Z.selectObjectIdColumnMap)(e).objectIdColumnMap,pipelines:e.dpState.wsdefinition.pipelines,curtainAlreadyShowed:e.dmState.loading.show}}function a(e){return{toggleDataWrangler:(0,A.bindActionCreators)(I.toggleDataWrangler,e),updatePreviewPanel:(0,A.bindActionCreators)(O.updatePreviewPanel,e),updatePreviewTableId:(0,A.bindActionCreators)(D.updatePreviewTableId,e),toggleObjectInfoHeader:(0,A.bindActionCreators)(D.toggleObjectInfoHeader,e),setLastSelectedObject:(0,A.bindActionCreators)(ee.setLastSelectedObject,e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=n(o),l=i(28),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b),w=i(1),x=n(w),E=i(5),_=n(E),A=i(16),C=i(14),S=i(8),T=n(S),I=i(126),D=i(52),O=i(38),M=i(1153),k=n(M),N=i(1157),P=n(N),L=i(1117),R=n(L),F=i(22),j=i(223),B=n(j);i(1815);var H=i(1163),V=n(H),U=i(545),W=i(148),z=i(278),G=n(z),$=i(279),q=n($),Y=i(275),J=n(Y),K=i(1277),X=n(K),Q=i(150),Z=i(146),ee=i(84),te=i(363),ie=n(te),ne=J.default.TabPane,re=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.getTableMetadata=function(e){return i.props.tableList.find(function(t){return t.id===e})},i.getTableNameFromId=function(e){var t=i.getTableMetadata(e);if(i.props.isEditPipelineMode)return t?t.name:"";var n=i.props.pipelines.find(function(e){return e.id===t.pipelineId});return n?n.name:""},i.getTableIconColor=function(e){var t=i.getTableMetadata(e);return t&&t.datasource?Q.dataSouceColorPallette.getTableIconColor(t.datasource.databaseType):-2},i.wrangleAction=function(){i.props.toggleDataWrangler()},i.state={},i.showObjectInfoHeaderChecked=i.props.showObjectInfoHeaderChecked,i.startDataWrangler=i.startDataWrangler.bind(i),i.getTableData=i.getTableData.bind(i),i.getTableNameFromId=i.getTableNameFromId.bind(i),i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.lastSelectedObject&&(0,u.default)(e.lastSelectedObject).length>0){var t=e.objectIdColumnMap[e.lastSelectedObject.id];if(t){var i=t.map(function(e){return e.tableId});i.length>0&&!i.includes(this.props.currentPreviewTableId)&&this.props.updatePreviewTableId(i[0])}}(e.showTbPreview&&e.showTbPreview!==this.props.showTbPreview||e.currentPreviewTableId&&this.props.currentPreviewTableId!==e.currentPreviewTableId)&&(this.props.tablePreviewMap[e.currentPreviewTableId]||e.showTbPreview&&(0,W.previewTable)(e.currentPreviewTableId,null,e.currentPipelineId))}},{key:"componentDidUpdate",value:function(){var e=this.getTableData(this.props.currentPreviewTableId,this.props.tablePreviewMap);void 0===this.props.currentPreviewTableId||null===this.props.currentPreviewTableId||U.wranglerEngine.getTableId()===this.props.currentPreviewTableId&&void 0!==U.wranglerEngine.getTableId()&&e.timestamp===U.wranglerEngine.getTableDataTimestamp()||U.wranglerEngine.init(e,this.props.currentPreviewTableId)}},{key:"startDataWrangler",value:function(){this.props.toggleDataWrangler()}},{key:"getTableData",value:function(e,t){return t[e]?{tableId:e,header:t[e].previewHeader,originalHeader:t[e].originalHeader,options:t[e].options,data:t[e].previewResult,loading:!1,offline:!1,timestamp:t[e].timestamp}:{header:[],data:[],loading:!0,offline:!1,originalHeader:[],options:{}}}},{key:"setActiveTab",value:function(e){this.props.setLastSelectedObject(null),this.props.updatePreviewTableId(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.dim,n=t.showWrangler,r=t.showTbPreview,a={x:0,y:0,w:0,h:0};n?(a.w=window.innerWidth-this.props.layout.wranglerPanel.width,a.h=window.innerHeight-this.props.layout.toolbar.height-36-this.props.layout.expBuilderPanel.height-8):r&&(a.w=this.props.layout.workspacePanel.width,a.h=this.props.layout.previewPanel.height-24);var o={zIndex:100,left:this.props.layout.sidebar.width+this.props.layout.leftPanel.width,width:i.w,height:i.h};n&&(o.position="fixed",o.top=36,o.left=0,o.width=window.innerWidth);var l=this.getTableData(this.props.currentPreviewTableId,this.props.tablePreviewMap),u=x.default.createElement("div",null,x.default.createElement("p",null,"Size: ",l.data?l.data.length:0," rows, ",l.header?l.header.length:0," columns "),x.default.createElement("p",null,"Last refreshed: ",Date(l.timestamp))),c=function(t){return e.props.currentPreviewTableId===t?[{name:"info",tooltip:"Table Info",iconClass:"info-table-icon",actionType:"popover",title:e.getTableNameFromId(e.props.currentPreviewTableId),content:u},{name:"wrangle",tooltip:"Wrangle",iconClass:"wrangle-table-icon",actionType:"function",action:e.wrangleAction}]:[]},d=this.props.isEditPipelineMode?this.props.layout.workspacePanel.width:this.props.layout.workspacePanel.width-94;return x.default.createElement("div",{className:(0,T.default)("data-preview-workspace",{"data-wrangler-workspace":n}),style:o},x.default.createElement(ie.default,null),n?x.default.createElement(V.default,null):null,x.default.createElement("div",{className:"preview-panel",style:{overflow:n?"hidden":""}},n&&l.header&&l.header.length>0?x.default.createElement("div",{className:"wrangler-header-and-panel-container"},x.default.createElement(P.default,{toggleDataWrangler:this.props.toggleDataWrangler,tableData:l,tableId:this.props.currentPreviewTableId,tableName:this.getTableNameFromId(this.props.currentPreviewTableId)}),x.default.createElement(k.default,null)):x.default.createElement(B.default,{onStop:function(t,i){var n=e.props.layout.previewPanel;e.props.updatePreviewPanel((0,s.default)({},n,{height:n.height-i.y}))},position:{y:0,x:0},style:{top:-2,width:this.props.layout.workspacePanel.width},axis:"y",bounds:{top:-this.props.layout.workspacePanel.height+this.props.layout.previewPanel.height+30,bottom:this.props.layout.previewPanel.height-30}}),this.props.selectedTableIds.length>0&&(r||n)?x.default.createElement("div",{className:(0,T.default)("preview-panel-container",this.props.isEditPipelineMode?"edit-pipeline-mode":"")},x.default.createElement(J.default,{tabBarStyle:{width:d},collapseInactiveTabTitle:!1,activeKey:this.props.currentPreviewTableId,onChange:function(t){return e.setActiveTab(t)}},this.props.selectedTableIds.map(function(t){return x.default.createElement(ne,{tab:x.default.createElement(q.default,{title:e.getTableNameFromId(t),iconClass:e.getTableMetadata(t).datasource?null:"derived-table-icon",tableIconColor:e.getTableMetadata(t).datasource?e.getTableIconColor(t):null,
enableActions:!l.loading,actionIcons:c(t)}),key:t},e.props.currentPreviewTableId===t&&l.header&&l.header.length>0?x.default.createElement(R.default,{dim:a,tableId:t,tableData:l}):x.default.createElement("div",{style:{height:e.props.dim.h?e.props.dim.h:"100%"}},!e.props.curtainAlreadyShowed&&x.default.createElement(G.default,{text:"Loading data",size:"large"})))})),!this.props.isEditPipelineMode&&this.props.selectedTableIds.length>0&&!this.props.showWrangler?x.default.createElement("div",{className:"show-object-info-checkbox"},x.default.createElement("div",{className:"show-object-info-checkbox-wrapper"},x.default.createElement(X.default,{checked:this.props.showObjectInfoHeaderChecked,onChange:function(){return e.props.toggleObjectInfoHeader()}}),x.default.createElement("div",{className:"show-object-info-text"},"Show Objects"))):null):null))}}]),t}(w.Component);re.propTypes={dim:_.default.object.isRequired,showWrangler:_.default.bool,showTbPreview:_.default.bool,toggleDataWrangler:_.default.func,layout:_.default.object,updatePreviewPanel:_.default.func,tablePreviewMap:_.default.object,currentPreviewTableId:_.default.string,currentPipelineId:_.default.string,updatePreviewTableId:_.default.func,tableList:_.default.array,selectedTableIds:_.default.array,toggleObjectInfoHeader:_.default.func,showObjectInfoHeaderChecked:_.default.bool,isEditPipelineMode:_.default.bool,objectIdColumnMap:_.default.object,lastSelectedObject:_.default.object,pipelines:_.default.array},t.default=(0,C.connect)(r,a)(re)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1122),a=n(r),o=i(1151),s=n(o),l=i(1152),u=n(l),c=i(1123),d=n(c),h=i(1146),f=n(h),p=i(1147),g=n(p),v=i(1121),m=n(v),b=i(1140),y=n(b),w=i(1131),x=n(w),E=i(1143),_=n(E),A=i(1134),C=n(A),S=i(1149),T=n(S);t.default={column:a.default,separator:s.default,text:u.default,hidden:f.default,dataType:d.default,range:g.default,aggregation:m.default,filter:y.default,codemirror:x.default,filterOp:_.default,filterArgs:C.default,rowFilter:T.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(46),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=i(8),_=n(E),A=i(95),C=n(A),S=i(534),T=n(S),I=i(567),D=n(I);i(1784);var O=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"onRemoveAggregation",value:function(e){var t=this.props,i=t.value,n=t.onChange;n(i.slice(0,e).concat(i.slice(e+1)))}},{key:"onValueChange",value:function(e,t,i){var n=[].concat((0,s.default)(this.props.value));n[i]=(0,a.default)({},n[i]),n[i][e]=t,this.props.onChange(n),n.every(function(e){return e.column&&e.func})&&this.props.onChange([].concat((0,s.default)(n),[{func:I.FUNCTIONS.SUM}]))}},{key:"onFuncChange",value:function(e,t){this.onValueChange("func",e,t)}},{key:"onColumnChange",value:function(e,t){this.onValueChange("column",e,t)}},{key:"render",value:function(){var e=this,t=this.props,i=t.className,n=t.value;return y.default.createElement("div",{className:(0,_.default)("mstr-as-wrangler-exp-aggregation",i)},n.map(function(t,i){return y.default.createElement("div",{className:"aggregation-item"},y.default.createElement(C.default,{className:"aggregate-func-selector",datasource:D.default,value:t.func,onChange:function(t){e.onFuncChange(t,i)}}),y.default.createElement(T.default,{value:t.column,onChange:function(t){e.onColumnChange(t,i)}}),i===n.length-1?null:y.default.createElement("div",{className:"remove",onClick:function(){e.onRemoveAggregation(i)}}))}))}}]),t}(b.Component);t.default=O,O.propTypes={onChange:x.default.func.isRequired,value:x.default.array,className:x.default.string},O.defaultProps={value:[{func:I.FUNCTIONS.SUM}],className:""}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e&&e.length&&e[0].column&&e[0].func?void 0:"Must specify at least one aggregation."}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=n(a),s=i(1),l=n(s),u=i(1120),c=n(u),d=i(67),h=n(d);t.default=function(e){var t=c.default,i=(0,o.default)({},e,{control:t});return l.default.createElement(h.default,(0,o.default)({},i,{validate:r}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i,n){var r=(0,f.getExpressionByFuncStr)(t.funcStr),a=r&&r.parameters.find(function(e){return e.field===n}),o=a||{},s=o.min,l=void 0===s?1:s,u=o.multiple;return e&&e.length?l&&(!e||e.length<l)?"Must select at least "+l+" columns.":void 0:u&&1===l?"Must select at lease one column.":"Must select a column."}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=n(a),s=i(1),l=n(s),u=i(534),c=n(u),d=i(67),h=n(d),f=i(358);t.default=function(e){var t=c.default,i=(0,o.default)({},e,{control:t}),n=e.config;return l.default.createElement(h.default,(0,o.default)({},i,{validate:!n||n.optional?null:[r]}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(535),u=n(l),c=i(67),d=n(c);t.default=function(e){var t=u.default,i=(0,a.default)({},e,{control:t});return s.default.createElement(d.default,i)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return o.default.createElement("div",{className:"mstrExp-editor-wrapper"},o.default.createElement(l.default,e),o.default.createElement(c.default,null))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),o=n(a),s=i(1126),l=n(s),u=i(1130),c=n(u);i(1787),t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateExpression=void 0;var r=i(227),a=i(38),o=i(20),s=i(22),l=i(219),u=i(537),c=i(15),d=n(c);t.validateExpression=function(e,t,i){return function(n,c){var h={clientId:o.workspaceManager.currentClientId,requestId:o.workspaceManager.generateRequestId(),tableId:c().dpState.currentPreviewTableId,workspaceId:c().dpState.wsdefinition.id,pipelineId:(0,s.selectCurrentPipelineId)(c()),expression:i};return e.setState(function(){return{isValidating:!0}}),(0,r.validateMSTRExp)(c,h).then(function(i){if(i&&"immediateResponse"===i.status){var n=i.resultData;if(n.errorType){e.setState(function(){return{isValidating:!1,validateResult:l.INVALID,errMsg:n.errorType+": "+n.msg}});try{var r="string"==typeof n.startPos?n.startPos.split("."):[],a="string"==typeof n.currentPos?n.currentPos.split("."):[],o=r.pop(),s=r.pop(),c=a.pop(),h=a.pop();(0,u.highLightErrors)(t,d.default.toNumber(s),d.default.toNumber(h),d.default.toNumber(o),d.default.toNumber(c))}catch(e){throw e}}else e.setState(function(){return{isValidating:!1,validateResult:l.VALID}})}}).catch(function(t){e.setState(function(){return{isValidating:!1}}),n((0,a.showErrorDialog)(t.message,t.errorMessage))})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(83),a=n(r),o=i(64),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(142),i(65);var b=i(1),y=n(b),w=i(5),x=n(w),E=i(8),_=n(E),A=i(2157),C=n(A),S=i(14),T=i(16),I=i(22),D=i(1125),O=i(219),M=i(536),k=n(M),N=i(537),P=i(359),L=i(15),R=n(L),F=i(26),j=n(F);i(1773),i(1373),i(1771),i(1375),i(1374),i(1772),i(1788);var B=a.default.Group,H=i(190),V=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.handleValidate=function(){var e=i.editor&&i.editor.getCodeMirror(),t=e.getDoc().getValue();""!==t&&i.props.validateExpression(i,e,t)},i.onKeyUp=function(e,t){if(!e.state.completionActive)switch(t.keyCode){case 57:(0,N.insertFormulas)(e,")"),(0,N.setCursor)(e);break;case 219:(0,N.insertFormulas)(e,"]"),(0,N.setCursor)(e)}},i.onToolbarClick=function(e){var t=e.target.getAttribute&&e.target.getAttribute("op"),n=i.editor&&i.editor.getCodeMirror();switch(t){case O.PLUS:(0,N.insertFormulas)(n,"+"),(0,N.setCursor)(n,0);break;case O.MNS:(0,N.insertFormulas)(n,"-"),(0,N.setCursor)(n,0);break;case O.MTP:(0,N.insertFormulas)(n,"*"),(0,N.setCursor)(n,0);break;case O.DVD:(0,N.insertFormulas)(n,"/"),(0,N.setCursor)(n,0);break;case O.PTH:(0,N.insertFormulas)(n,"()"),(0,N.setCursor)(n);break;case O.SBK:(0,N.insertFormulas)(n,"[]"),(0,N.setCursor)(n);break;default:return}},i.onClear=function(){var e=i.editor&&i.editor.getCodeMirror();e.setValue(""),e.clearHistory(),i.setState(function(){return{validateResult:O.UNCHECKED}})},i.state={isValidating:!1,validateResult:O.UNCHECKED,fnHints:[],errMsg:""},i.editor=null,i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.onChange,n=t.columns,r=this.state,o=r.fnHints,l=r.isValidating,u=r.validateResult,c=r.errMsg,d=this.editor&&this.editor.getCodeMirror(),h=function(){var t={expression:arguments.length<=0?void 0:arguments[0],colName:e.colName.input.value};i(t),e.setState(function(){return{validateResult:O.UNCHECKED}}),(0,N.scrollToCursor)(d)},f=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a={expression:e.editor.getCodeMirror().getValue(),colName:n[0].target.value};i(a)};k.default.updateKeyWords(this.state.fnHints,R.default.map(n,function(e){return e.id}));var p={mode:"mstr",lineWrapping:!0,scrollbarStyle:"simple",matchBrackets:!0,autofocus:!0,onKeyEvent:function(e,t){"keyup"===t.type&&H.showHint(e)},styleSelectedText:"codeMirror-selectedText",hintOptions:{completeSingle:!1,hint:(0,N.mstrHint)(n,o)}};return y.default.createElement("div",{className:"mstrExp-editor-editor"},y.default.createElement("div",{className:"mstrExp-editor-editor-colName"},y.default.createElement("span",{className:"mstrExp-editor-editor-colName-label"},"Display Name"),y.default.createElement(s.default,{ref:function(t){e.colName=t},className:"mstrExp-editor-editor-colName-input",placeholder:"New Column",onChange:f})),y.default.createElement("div",{className:"mstrExp-editor-editor-toolbar"},y.default.createElement(B,{onClick:this.onToolbarClick},y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.PLUS},y.default.createElement("div",{className:"toolbar-btn-plus"})),y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.MNS},y.default.createElement("div",{className:"toolbar-btn-minus"})),y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.MTP},y.default.createElement("div",{className:"toolbar-btn-multiple"})),y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.DVD},y.default.createElement("div",{className:"toolbar-btn-divide"})),y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.PTH},y.default.createElement("div",{className:"toolbar-btn-parenthesis"})),y.default.createElement(a.default,{size:"size",className:"toolbar-btn",op:O.SBK},y.default.createElement("div",{className:"toolbar-btn-brackets"}))),y.default.createElement(a.default,{className:"toolbar-btn clear",size:"small",onClick:this.onClear},"Clear")),y.default.createElement(C.default,{ref:function(t){e.editor=t},options:p,onChange:h}),y.default.createElement("div",{className:"mstrExp-editor-editor-validate"},y.default.createElement("p",{className:(0,_.default)("mstrExp-editor-editor-validate-label",{loading:l},{unchecked:u===O.UNCHECKED},{valid:u===O.VALID},{invalid:u===O.INVALID})},u===O.UNCHECKED?"Require validation":u===O.VALID?"Expression is valid":u===O.INVALID?c:""),y.default.createElement(a.default,{className:(0,_.default)("toolbar-btn","validate",{validating:l},{unchecked:u===O.UNCHECKED},{valid:u===O.VALID},{invalid:u===O.INVALID}),size:"small",onClick:this.handleValidate,enabled:!l},l?"Validating":"Validate")))}},{key:"componentDidMount",value:function(){var e=this,t=this.editor.getCodeMirror();t.on("keyup",this.onKeyUp),(0,N.autoPopupHints)(t),this.subItemInsert=P.formulaItemInsert$.subscribe(function(e){(0,N.insertFormulas)(t,e+"()"),(0,N.setCursor)(t)}),this.subHints=P.formulaHints$.subscribe(function(t){e.setState(function(){return{fnHints:t}})}),(0,j.default)(".mstr-as-wrangler-exp-builder").height(O.MAX_EXPRESSION_HEIGHT)}},{key:"componentWillUnmount",value:function(){this.subItemInsert.dispose(),this.subHints.dispose(),(0,j.default)(".mstr-as-wrangler-exp-builder").height(O.DEFAULT_EXPRESSION_HEIGHT)}}]),t}(b.Component);V.PropTypes={columns:x.default.array.isRequired,onChange:x.default.func.isRequired,validateExpression:x.default.func},t.default=(0,S.connect)(function(e){return{columns:(0,I.selectCurrentPreviewTableColumns)(e)}},function(e){return{validateExpression:(0,T.bindActionCreators)(D.validateExpression,e)}})(V)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="New_Column_Functions_Cache";t.default={get:function(){return window.sessionStorage.getItem(i)},set:function(e){window.sessionStorage.setItem(i,e)},remove:function(){window.sessionStorage.removeItem(i)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.content;return o.default.createElement("div",{className:"mstrExp-editor-desc"},o.default.createElement("p",null,t))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),o=n(a),s=i(5),l=n(s);i(1789),r.propTypes={content:l.default.string},t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(213),a=n(r),o=i(27),s=n(o),l=i(66),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b),w=i(64),x=n(w);i(341),i(495),i(94),i(65);var E=i(1),_=n(E),A=i(326),C=n(A),S=i(5),T=n(S),I=i(8),D=n(I),O=i(359),M=i(219),k=i(15),N=n(k);i(1790);var P=x.default.Search,L=x.default.Group,R=function(e){return"string"!=typeof e?"":e.split(" ",1).pop().replace("/","")},F=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.onItemClick=function(e){return function(){i.props.onSelectFormula(e)}},i.onItemDBClick=function(e){return function(){i.onItemClick(e)(),O.formulaItemInsert$.onNext(e.n)}},i.onSearch=function(e){var t=e.target.value;i.setState(function(){return{keyword:t}})},i.state={selectedCategoryID:"",keyword:""},i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this,t=this.state,i=t.selectedCategoryID,n=t.keyword,r=this.props,o=r.fncs,l=r.categories,c=r.selectedFuncID,d=""===i||i===M.ALL?{did:M.ALL,n:M.ALL,fns:N.default.reduce(o,function(e,t){return e.concat(t.fns)},[])}:N.default.find(o,function(e){return e.did===i});return d.fns=N.default.sortBy(d.fns,function(e){return e.n}),_.default.createElement("div",{className:"mstrExp-editor-functions"},_.default.createElement("div",{className:"mstrExp-editor-functions-searchBox"},_.default.createElement(L,{compact:!0},_.default.createElement(u.default,{className:"mstrExp-editor-functions-searchBox-dropDown mstr-as-select",dropdownMatchSelectWidth:!1,dropdownClassName:"mstr-as-select-dropdown mstrExp-editor-dropDown",value:""===i?M.ALL:i,placeholder:"Select a function category",onChange:function(t){e.setState(function(){return{selectedCategoryID:t}}),e.props.clearFormulaDesc()}},N.default.map([{did:M.ALL,n:"All"}].concat(N.default.sortBy(l,function(e){return e.n})),function(e){return _.default.createElement(u.default.Option,{value:e.did},_.default.createElement("div",{className:R(e.n)},e.n))})),_.default.createElement(P,{className:"mstrExp-editor-functions-searchBox-input",onSearch:function(t){return e.setState(function(){return{keyword:t}})},onKeyUp:this.onSearch}))),_.default.createElement("div",{className:"mstrExp-editor-functions-list"},d?_.default.createElement(C.default,{length:d.fns&&d.fns.length?d.fns.length:0,objectType:"simple",itemRenderer:function(t){var i=void 0;return""!==n&&(i=d.fns[t]&&d.fns[t].n&&N.default.toLower(d.fns[t].n).indexOf(N.default.toLower(n))>=0),i||void 0===i?_.default.createElement("div",{className:(0,D.default)("mstrExp-editor-functions-list-item",{isSelected:""!==c&&d.fns[t].did===c}),key:""+d.fns[t].did,onClick:e.onItemClick(d.fns[t]),onDoubleClick:e.onItemDBClick(d.fns[t])},_.default.createElement("span",null,d.fns[t].n)):null}}):_.default.createElement(a.default,{className:"mstrExp-editor-functions-list-spinner",indicator:_.default.createElement(s.default,{type:"loading",style:{fontSize:16}})})))}}]),t}(E.Component);F.propTypes={fncs:T.default.array,categories:T.default.array,selectedFuncID:T.default.string,onSelectFormula:T.default.func,clearFormulaDesc:T.default.func},t.default=F},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(1128),y=n(b),w=i(1129),x=n(w),E=i(227),_=i(20),A=i(29),C=i(38),S=i(359),T=i(219),I=i(1127),D=n(I),O=i(15),M=n(O),k=i(188),N=n(k);i(1791);var P=function(){var e=D.default.get();return e?N.default.resolve({systemFunctions:e}):(0,E.getSystemFunctions)(_.workspaceManager.initialWorkspaceId).then(function(e){return D.default.set(e.systemFunctions),e})},L=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.onSelectFormula=function(e){i.setState(function(){return{selectedFuncID:e.did,selectedFuncDes:e.des}})},i.clearFormulaDesc=function(){i.setState({selectedFuncDes:""})},i.state={fncs:[],selectedCategoryID:"",selectedFuncID:"",selectedFuncDes:"",categories:[]},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.state,t=e.fncs,i=e.categories,n=e.selectedFuncID,r=e.selectedFuncDes;return m.default.createElement("div",{className:"mstrExp-editor-formula"},m.default.createElement(x.default,{fncs:t,categories:i,selectedFuncID:n,onSelectFormula:this.onSelectFormula,clearFormulaDesc:this.clearFormulaDesc}),m.default.createElement(y.default,{content:r}))}},{key:"componentDidMount",value:function(){var e=this;P().then(function(t){var i=t.systemFunctions&&JSON.parse(t.systemFunctions);if(i.fncs){i.fncs=M.default.map(i.fncs,function(e){return(0,a.default)({},e,{fns:M.default.filter(e.fns,function(e){return T.BDE_FUNCTIONS.indexOf(e.did)>=0})})}),i.fncs=M.default.filter(i.fncs,function(e){return!!e.fns.length});var n=M.default.reduce(i.fncs,function(e,t){return e.concat(M.default.map(t.fns,function(e){return e.n}))},[]);e.setState(function(){return{fncs:i.fncs,categories:M.default.map(i.fncs,function(e){return{n:e.n,did:e.did}})}}),S.formulaHints$.onNext(M.default.sortBy(n))}}).catch(function(e){(0,A.dispatchAction)((0,C.showErrorDialog)(e))})}}]),t}(v.Component);t.default=L},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(1124),u=n(l),c=i(67),d=n(c);t.default=function(e){var t=u.default,i=(0,a.default)({},e,{control:t});return s.default.createElement(d.default,i)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(8),m=n(v),b=i(540);i(1793);var y=i(360),w=i(130),x=i(220),E=(n(x),i(570)),_=n(E),A=i(572),C=n(A),S=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={input:"",result:[],numericWarning:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"addButtonClick",value:function(){var e=this.state,t=e.result,i=e.input,n=e.numericWarning;if(!(!i||i.length<=0||n||t.includes(i))){var r=t.concat(i);this.setState({result:r,input:""}),this.props.onChange(r)}}},{key:"inputOnChange",value:function(e,t){this.setState({input:e}),this.validateInput(e,t)}},{key:"validateInput",value:function(e,t){e&&t&&(0,y.isNumeric)(t)&&!(0,y.isNumberValue)(e)?this.setState({numericWarning:!0}):this.setState({numericWarning:!1})}},{key:"render",value:function(){var e=this,t=this.props,i=t.className,n=t.onChange,r=t.dataType,a=this.state,o=a.result,s=a.input,l=a.numericWarning,u=g.default.createElement("input",{type:"string",onKeyDown:function(t){13===t.keyCode&&(t.preventDefault(),e.addButtonClick())},onChange:function(t){return e.inputOnChange(t.target.value,r)},value:s});return(0,y.isDateTime)(r)&&(u=g.default.createElement(_.default,{disableDate:r===w.TYPE_VALUES.TIME,showTime:r===w.TYPE_VALUES.TIMESTAMP||r===w.TYPE_VALUES.TIME,onChange:function(t,i){e.inputOnChange(i,r)},formattedValue:s})),g.default.createElement("div",{className:"inList-wrapper"},g.default.createElement("div",{className:(0,m.default)("mstr-as-wrangler-exp-text",i)},g.default.createElement("div",{className:"inputBox"}," ",u," "),g.default.createElement("div",{onClick:function(){return e.addButtonClick()},className:(0,m.default)("add-icon",!s||s.length<=0||l?"disabled":"")}),g.default.createElement("a",{className:"mstr-as-wrangler-exp-text-error-icon",style:{display:l?"inline-block":"none"}},g.default.createElement(C.default,{text:"A numeric value is required!"},g.default.createElement("div",null)))),g.default.createElement(b.OrderableList,{results:o,listCss:"result-list",shouldCancelStart:function(e){return"remove"===e.target.className},onRemove:function(t){var i=o.slice(0,t).concat(o.slice(t+1));n(i),e.setState({result:i})}}))}}]),t}(p.Component);t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(144),g=n(p);i(254);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(14),x=i(8),E=n(x),_=i(95),A=n(_),C=i(274),S=n(C),T=i(220),I=n(T),D=i(22),O=i(360),M=i(130),k=i(570),N=n(k);i(1794);var P=i(221),L=n(P),R=g.default.Group,F=g.default.Button,j=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={argType:I.default.VALUE_TYPE_CONST},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onValueTypeChange",value:function(e){this.setState({argType:e}),this.props.onChange(void 0)}},{key:"render",value:function(){var e=this,t=this.props,i=t.onChange,n=t.className,r=t.value,a=t.columns,o=t.values,s=o.column&&o.column[0];s=a.find(function(e){return e.id===s});var l=s?s.type:null,u=this.state.argType,c=o&&o.operator&&L.default.find(function(e){return e.value===o.operator}),d=c&&c.widget,h=m.default.createElement("div",{className:"const-value"},m.default.createElement("input",{onChange:function(e){var t=e.target.value;i(t?{type:I.default.VALUE_TYPE_CONST,data:t,dataType:l}:null)},value:r&&r.data||""})),f=m.default.createElement(A.default,{onChange:function(t){i(t?{data:t,type:e.state.argType,dataType:a.find(function(e){return e.id===t}).type}:void 0)},datasource:a.filter(function(e){return(s&&s.id)!==e.id}).map(function(e){return{text:e.id,value:e.id,prefix:m.default.createElement(S.default,{type:e.type}),disabled:!(0,O.isDataTypeCompatible)(l,e.type)}}),value:r&&r.data||void 0}),p=h;(0,O.isDateTime)(l)?p=m.default.createElement("div",{className:"const-value"},m.default.createElement(N.default,{disableDate:l===M.TYPE_VALUES.TIME,showTime:l===M.TYPE_VALUES.TIMESTAMP||l===M.TYPE_VALUES.TIME,onChange:function(e,t){i(t?{type:I.default.VALUE_TYPE_CONST,data:t,dataType:l}:null)},formattedValue:r&&r.data})):l===M.TYPE_VALUES.BOOLEAN&&(p=m.default.createElement(A.default,{onChange:function(t){i(t?{data:t,type:e.state.argType,dataType:M.TYPE_VALUES.BOOLEAN}:void 0)},datasource:[{text:"true",value:"true"},{text:"false",value:"false"}],value:r&&r.data||void 0}));var g=m.default.createElement(d,{dataType:l,onChange:function(e){i(e&&e.length?{data:e,type:I.default.VALUE_TYPE_LIST,dataType:l}:void 0)}}),v=m.default.createElement("div",{className:"mstr-as-filter-arg-value-selector"},m.default.createElement(R,{onChange:function(t){return e.onValueTypeChange(t.target.value)},defaultValue:I.default.VALUE_TYPE_CONST},m.default.createElement(F,{value:I.default.VALUE_TYPE_CONST},"Value"),m.default.createElement(F,{value:I.default.VALUE_TYPE_COLUMN},"Column")),u===I.default.VALUE_TYPE_COLUMN?f:p);return c&&c.constOnly&&(v=m.default.createElement("div",{className:"const-only-value"},m.default.createElement("input",{type:"text",value:r&&r.data||"",onChange:function(t){i({data:t.target.value,type:e.state.argType,dataType:l})}}))),m.default.createElement("div",{className:(0,E.default)("mstr-as-wrangler-exp-filter-args",n)},d?g:v)}}]),t}(v.Component);j.propTypes={columns:y.default.array.isRequired},t.default=(0,w.connect)(function(e){return{columns:(0,D.selectCurrentPreviewTableColumns)(e)}})(j)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.type===b.default.VALUE_TYPE_CONST}function a(e,t,i,n){var a=t.column;if(!e)return"Must not be empty.";var o=a&&a[0];return o&&r(e)&&(0,y.isNumeric)(e.dataType)&&!(0,y.isNumberValue)(e.data)?"Must be a number.":void 0}function o(e){var t=e.config,i=e.values,n=e.curValue,r=e.formValueChangeHandler,o=i.operator,s=o&&v.default.find(function(e){return e.value===o}).parameters,u=2===s;return s?l.default.createElement("div",{className:"mstr-as-filter-args"},l.default.createElement(h.default,{onBlur:function(e){return e.preventDefault()},name:"args[0]",component:p.default,validate:a,control:c.default,onChange:function(e,t){r("args",u?[t,n&&n[1]]:[t])},config:{label:t.label,type:t.type},values:i}),u?l.default.createElement(h.default,{onBlur:function(e){return e.preventDefault()},name:"args[1]",component:p.default,validate:a,control:c.default,config:{label:"",type:t.type},onChange:function(e,t){r("args",[n&&n[0],t])},values:i}):null):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=i(1),l=n(s),u=i(1133),c=n(u),d=i(67),h=n(d),f=i(264),p=n(f),g=i(221),v=n(g),m=i(220),b=n(m),y=i(360);i(1795)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=n(o);i(1796),t.default=function(e){var t=e.column,i=e.func,n=e.parameters,r=void 0===n?[]:n,o=e.className,l=null;return 1===r.length?l=a.default.createElement("span",null,r[0]):2===r.length&&(l=a.default.createElement("span",null,a.default.createElement("span",null,r[0]),a.default.createElement("span",{className:"and"},"and"),a.default.createElement("span",null,r[1]))),a.default.createElement("div",{className:(0,s.default)("mstr-as-filter-display-expr",o)},a.default.createElement("span",{className:"column"},t),a.default.createElement("span",{className:"func"},i),a.default.createElement("span",{className:"parameters"},l))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{column:(0,E.selectFilterEditingColumn)(e),func:(0,E.selectFilterEditingFunc)(e),parameters:(0,E.selectFilterEditingParameters)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(14),w=i(1135),x=n(w),E=i(539);i(1797);var _=function(e){function t(){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.column,i=e.func,n=e.parameters,r=void 0===n?[]:n;return v.default.createElement("div",{className:"mstr-as-single-filter-preview"},t||i||r.length>0?v.default.createElement(x.default,this.props):v.default.createElement("div",{className:"preview-placeholder"},"Qualification Details"))}}]),t}(g.Component);_.propTypes={column:b.default.string,func:b.default.string,parameters:b.default.array},t.default=(0,y.connect)(r,null)(_)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(144),g=n(p);i(254);var v=i(1),m=n(v),b=i(5),y=n(b);i(1798);var w=g.default.Group,x=g.default.Button,E=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.value;return m.default.createElement("div",{className:"mstr-as-filter-parameter"},m.default.createElement(w,{defaultValue:"cst"},m.default.createElement(x,{value:"cst"},"Value"),m.default.createElement(x,{value:"column"},"Column")),m.default.createElement("input",{onChange:function(e){return t(e.target.value)},value:i||""}))}}]),t}(v.Component);t.default=E,E.propTypes={value:y.default.string}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){var n={type:"func",funcName:t,args:[{type:"column",columnName:e}].concat(i)};return(0,b.default)(n)}function a(e,t){return t.find(function(t){return t.id===e}).type}function o(e){return{columns:(0,N.selectCurrentPreviewTableColumns)(e),selectedColumn:(0,P.selectFilterEditingColumn)(e),selectedFunc:(0,P.selectFilterEditingFunc)(e),parameters:(0,P.selectFilterEditingParameters)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(9),l=n(s),u=i(2),c=n(u),d=i(6),h=n(d),f=i(4),p=n(f),g=i(3),v=n(g),m=i(53),b=n(m),y=i(1),w=n(y),x=i(5),E=n(x),_=i(14),A=i(95),C=n(A),S=i(129),T=n(S),I=i(221),D=n(I),O=i(1137),M=n(O),k=i(1139),N=i(22),P=i(539);i(1799);var L=function(e){function t(){return(0,c.default)(this,t),(0,p.default)(this,(t.__proto__||(0,l.default)(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,h.default)(t,[{key:"onSave",value:function e(t){var i=t.selectedColumn,n=t.selectedFunc,o=t.parameters,e=t.onSave,s=t.columns;i&&n&&o&&e(r(i,n,o.map(function(e){return{type:"const",data:e,dataType:a(i,s)}})))}},{key:"clearFilter",value:function(){this.props.onSave(r("",null,[]))}},{key:"componentDidMount",value:function(){this.props.clearEditingFilter(),this.clearFilter()}},{key:"componentWillUpdate",value:function(e){this.onSave(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.selectedColumn,n=t.selectedFunc,o=t.parameters,s=t.columns,l=t.onSave,u=D.default.map(function(e){var t=e.value,i=e.text;return{value:t,text:i}}),c=s.map(function(e){return{value:e.id,text:e.id}}),d=[];if(n)for(var h=D.default.find(function(e){return e.value===n}),f=function(t){h.widget?d.push(w.default.createElement("div",{className:"mstr-as-filter-parameter"},w.default.createElement("div",{className:"title"},"Value"),w.default.createElement(h.widget,{className:"parameter",onChange:function(i){return e.props.setEditingFilterParameter(t,i.join(", "))}}))):d.push(w.default.createElement(M.default,{value:o[t],onChange:function(i){e.props.setEditingFilterParameter(t,i)}}))},p=0;p<h.parameters;p++)f(p);return w.default.createElement("div",{className:"mstr-as-single-filter-editor"},w.default.createElement("div",{className:"column-func"},w.default.createElement("div",{className:"column-select"},w.default.createElement("div",{className:"title"},"Based On"),w.default.createElement(C.default,{datasource:c,onChange:function(t){e.props.setEditingFilterColumn(t)}})),w.default.createElement("div",{className:"func-select"},w.default.createElement("div",{className:"title"},"Operator"),w.default.createElement(C.default,{datasource:u,onChange:function(t){e.props.setEditingFilterFunc(t)}}))),w.default.createElement("div",{className:"func-parameters"},d),w.default.createElement("div",{className:"btn-bar",style:{display:"none"}},w.default.createElement(T.default,{type:"secondary",onClick:function(){}},"Cancel"),w.default.createElement(T.default,{type:"primary",onClick:function(){
l(r(i,n,o.map(function(e){return{type:"const",data:e,dataType:a(i,s)}})))}},"Save")))}}]),t}(y.Component);L.propTypes={columns:E.default.array.isRequired,setEditingFilterColumn:E.default.func.isRequired,setEditingFilterFunc:E.default.func.isRequired,setEditingFilterParameter:E.default.func.isRequired,onSave:E.default.func.isRequired,selectedColumn:E.default.string,selectedFunc:E.default.string,parameters:E.default.array},t.default=(0,_.connect)(o,{setEditingFilterColumn:k.setEditingFilterColumn,setEditingFilterFunc:k.setEditingFilterFunc,setEditingFilterParameter:k.setEditingFilterParameter,clearEditingFilter:k.clearEditingFilter})(L)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return{type:u.FILTER_EDITOR_SET_COLUMN,column:e}}function a(e){return{type:u.FILTER_EDITOR_SET_FUNC,func:e}}function o(e,t){return{type:u.FILTER_EDITOR_SET_PARAMETER,index:e,parameter:t}}function s(){return{type:u.FILTER_EDITOR_CLEAR}}Object.defineProperty(t,"__esModule",{value:!0}),t.setEditingFilterColumn=r,t.setEditingFilterFunc=a,t.setEditingFilterParameter=o,t.clearEditingFilter=s;var l=i(538),u=n(l)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(7),g=n(p),v=i(1),m=n(v),b=i(1136),y=n(b),w=i(1138),x=n(w);i(1800);var E=i(67),_=n(E);t.default=function(e){var t=A,i=(0,g.default)({},e,{control:t});return m.default.createElement(_.default,i)};var A=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.onChange;return m.default.createElement("div",{className:"mstr-as-exp-filter-field"},m.default.createElement(y.default,null),m.default.createElement(x.default,{onSave:function(t){return e(t)}}))}}]),t}(v.Component)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.FILTER_EDITOR_SET_COLUMN:return(0,u.default)({},e,{column:t.column});case d.FILTER_EDITOR_SET_FUNC:return(0,u.default)({},e,{parameters:[],func:t.func});case d.FILTER_EDITOR_SET_PARAMETER:var i=[].concat((0,s.default)(e.parameters));return i[t.index]=t.parameter,(0,u.default)({},e,{parameters:i});case d.FILTER_EDITOR_CLEAR:return h;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(46),s=r(o),l=i(7),u=r(l);t.default=a;var c=i(538),d=n(c),h={column:"",func:null,parameters:[]}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(14),m=i(8),b=n(m),y=i(95),w=n(y),x=i(221),E=n(x),_=i(22),A=i(126);i(1801);var C=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.values.column!==this.props.values.column&&this.props.onChange("")}},{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.className,n=e.value,r=e.values.column,a=e.setExpFormField,o=e.columns,s=r&&r[0];s=o.find(function(e){return e.id===s});var l=s&&s.type,u=l?E.default.filter(function(e){return e.allows.indexOf(l)>=0}):E.default;return g.default.createElement("div",{className:(0,b.default)("mstr-as-wrangler-exp-filter-operator",i)},g.default.createElement(w.default,{onChange:function(e){t(e),a("args",[])},datasource:u,value:n||""}))}}]),t}(p.Component);t.default=(0,v.connect)(function(e){return{columns:(0,_.selectCurrentPreviewTableColumns)(e)}},{setExpFormField:A.setExpFormField})(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(1142),u=n(l),c=i(67),d=n(c);t.default=function(e){var t=u.default,i=(0,a.default)({},e,{control:t});return s.default.createElement(d.default,i)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(95),m=n(v),b=i(533),y=n(b);i(1802);var w=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=y.default.map(function(e,t){return{category:e.category,title:e.title,items:e.items.filter(function(e){return!e.hidden}).map(function(e,i){return{value:t+"_"+i,text:e.title}})}}),t=this.props,i=t.onChange,n=t.value;return g.default.createElement("div",{className:"mstr-as-wrangler-func-select"},g.default.createElement(m.default,{onChange:i,datasource:e,hasGroups:!0,value:n}))}}]),t}(p.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentWillUpdate",value:function(e){this.props.onChange(e.value)}},{key:"componentDidMount",value:function(){this.props.onChange(this.props.value)}},{key:"render",value:function(){return g.default.createElement("div",null,g.default.createElement("input",{type:"hidden",value:this.props.value}))}}]),t}(p.Component);t.default=v},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(1145),u=n(l),c=i(67),d=n(c);t.default=function(e){var t=u.default,i=(0,a.default)({},e,{control:t});return s.default.createElement(d.default,i)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return o(e)?void 0:"Must be a number."}function a(e){return parseInt(e)>=0?void 0:"Must be a number greater than -1."}function o(e){return e&&/^[-?0-9]+$/g.test(e)}function s(e,t){if(o(e)&&o(t))return parseInt(e)<=parseInt(t)?void 0:"Start entry must not be greater than the End entry."}function l(e,t){var i=t&&t.positions;return r(e)||a(e)||s(i&&i[0],i&&i[1])}function u(e){var t=(e.name,e.validate,e.config),i=e.curValue,n=e.formValueChangeHandler;return d.default.createElement("div",{className:"mstr-as-range-field-wrapper"},d.default.createElement(m.default,{name:"positions0",component:g.default,validate:l,config:{label:t.label&&t.label[0]||"Start",type:t.type},control:f.default,onChange:function(e,t){n("positions",[t,i&&i[1]])}}),d.default.createElement(m.default,{name:"positions1",component:g.default,validate:l,config:{label:t.label&&t.label[1]||"End",type:t.type},control:f.default,onChange:function(e,t){n("positions",[i&&i[0],t])}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var c=i(1),d=n(c),h=(i(178),i(361)),f=n(h),p=i(264),g=n(p),v=i(67),m=n(v);i(1804)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(362),m=n(v),b=i(95),y=n(b);i(1805);var w=function(e){return m.default.filter(function(t){return t.supportingFuncs.indexOf(e)>=0}).map(function(e){return{value:e.text,text:e.text}})},x=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,i=e.config.filteringTag;return g.default.createElement("div",{className:"mstr-as-wrangler-exp-rowFilter"},g.default.createElement(y.default,{value:v.CONTAINS,onChange:function(e){t(e)},datasource:w(i)}))}},{key:"componentDidMount",value:function(){this.props.onChange&&this.props.onChange(v.CONTAINS)}}]),t}(p.Component);t.default=x},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(264),u=n(l),c=i(361),d=n(c),h=i(1148),f=n(h),p=i(67),g=n(p),v=i(362),m=function(e){if(!e||""===e.value)return"Field must not be empty."};t.default=function(e){var t=e.config,i=e.curValue,n=e.formValueChangeHandler,r=e.values;return s.default.createElement("div",{className:"mstr-as-row-filter-field-wrapper"},s.default.createElement(g.default,{name:"rowFilterFunc",component:u.default,config:(0,a.default)({},t,{filteringTag:r&&r.method}),control:f.default,onChange:function(e,r){n(t.field,[r,i&&i[1]])}}),"undefined"==typeof i||Array.isArray(i)&&i[0]!==v.ISEMPTY?s.default.createElement(g.default,{name:"rowFilterStr",component:u.default,validate:m,config:(0,a.default)({},t,{cssClass:"mstr-as-row-filter-field-wrapper-input"}),control:d.default,onChange:function(e,r){n(t.field,[i&&i[0],r])}}):null)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(12),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(8),x=n(w),E=i(541),_=i(95),A=n(_);i(1806);var C=i(15),S=n(C),T=i(266),I=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.state={stringInput:!0,regexInput:!1,selectionValue:E.SEPARATOR_OTHER},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"separatorSelectChange",value:function(e,t){e===E.SEPARATOR_OTHER||e===E.SEPARATOR_REGULAR_EXPRESSION?(this.setState({stringInput:!0,regexInput:e===E.SEPARATOR_REGULAR_EXPRESSION,selectionValue:e}),t("")):(this.setState({stringInput:!1,selectionValue:e}),t(S.default.escapeRegExp(e)))}},{key:"render",value:function(){var e=this,t=this.props,i=t.onChange,n=t.value,r=t.className,o=this.state,s=o.stringInput,l=o.regexInput,u=o.selectionValue,c=this.props.config.field.toString(),d=E.SeparatorList.map(function(e){return{value:e.value,text:e.text}});return m.default.createElement("div",{className:(0,x.default)("mstr-as-wrangler-exp-separator",r)},m.default.createElement(A.default,{value:u,onChange:function(t){return e.separatorSelectChange(t,i)},datasource:d,placeholder:"select a Separator"}),s?m.default.createElement("input",{className:"mstr-as-wrangler-exp-separator-input",type:"string",onChange:function(e){var t;i(l?(t={},(0,a.default)(t,"isRegExp_"+c,l),(0,a.default)(t,c,e.target.value),t):S.default.escapeRegExp(e.target.value))},value:l?n?n[c]:"":n?(0,T.unescapeRegex)(n):""}):null)}}]),t}(v.Component);t.default=I,I.propTypes={onChange:y.default.func.isRequired,className:y.default.string}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(28),s=n(o),l=i(1),u=n(l),c=i(1150),d=n(c),h=i(67),f=n(h),p=i(26),g=n(p),v=function(e){if(!e)return"Must not be empty.";if(!("object"!==g.default.type(e)||(0,s.default)(e).length<2)){var t=!0;return(0,s.default)(e).forEach(function(i){if("string"===g.default.type(e[i]))try{new RegExp(e[i])}catch(e){t=!1}}),t?void 0:"Invalid regular expression."}};t.default=function(e){var t=d.default,i=(0,a.default)({},e,{control:t});return u.default.createElement(f.default,(0,a.default)({},i,{validate:v}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(361),u=n(l),c=i(67),d=n(c);t.default=function(e){var t=u.default,i=(0,a.default)({},e,{control:t});return s.default.createElement(d.default,i)}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ExpBuilder=t.EXPRESSION_BUILDER_DEFAULT_HEIGHT=void 0;var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(14),m=i(542),b=n(m),y=i(223),w=n(y),x=i(38);i(1809);var E=t.EXPRESSION_BUILDER_DEFAULT_HEIGHT=280,_=t.ExpBuilder=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={expBuilderHeight:E},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this;return g.default.createElement("div",{className:"mstr-as-wrangler-exp-builder",style:{height:this.props.height}},g.default.createElement("div",{className:"builder-header"},"Expression Builder".toUpperCase()),g.default.createElement(b.default,null),g.default.createElement(w.default,{onStop:function(t,i){e.props.setExpBuilderHeight(i.y)},position:{x:0,y:this.props.height},style:{top:0,width:"100%"},axis:"y",bounds:{top:E-60,bottom:2*E}}))}}]),t}(p.Component),A=function(e){return{height:e.layout.expBuilderPanel.height}};t.default=(0,v.connect)(A,{setExpBuilderHeight:x.setExpBuilderHeight})(_)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=r(a),s=i(543),l=n(s),u={show:!1,baseColumn:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.SHOW_POP_PREVIEW:return{show:!0,baseColumn:t.column};case l.HIDE_POP_PREVIEW:return(0,o.default)({},u);default:return e}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1159);i(1811);var w=i(126),x=i(22),E=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={detailViewMin:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return g.default.createElement("div",{className:"wrangler-view-header"},g.default.createElement("div",{className:"leftMostLabel"}," ",this.props.tableName," "),g.default.createElement("div",{className:"midlabel"},this.props.tableData.header?this.props.tableData.header.length:"--"," ","columns"),g.default.createElement("div",{className:"midlabel"},this.props.rawRowCount?this.props.rawRowCount:"--"," ","rows"),g.default.createElement("div",{className:"midlabel"},"Sample:"," ",this.props.tableData.data?this.props.tableData.data.length:"--"," ","rows"),g.default.createElement("div",{onClick:this.props.toggleDataWrangler,className:"tableHeaderRightButton"},"DONE"))}}]),t}(p.Component);E.propTypes={toggleDataWrangler:m.default.func.isRequired,tableName:m.default.string,tableData:m.default.object};var _=function(e){return{rawRowCount:(0,x.selectPreviewTableRawRowCount)(e),applyButtonEnabled:(0,y.selectApplyButtonEnabled)(e)}};t.default=(0,b.connect)(_,{toggleDataWrangler:w.toggleDataWrangler})(E)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){return{type:s.APPLY_BUTTON_ENABLED}}function a(){return{type:s.APPLY_BUTTON_DISABLE}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyButtonEnable=r,t.applyButtonDisable=a;var o=i(546),s=n(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1155),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=r(a),s=i(546),l=n(s),u={applyButtonEnabled:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.APPLY_BUTTON_ENABLED:return(0,o.default)({},e,{applyButtonEnabled:!0});case l.APPLY_BUTTON_DISABLE:return(0,o.default)({},e,{applyButtonEnabled:!1});default:return e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectApplyButtonEnabled=t.selectDataWranglerHeader=void 0;var n=i(82),r=i(22),a=t.selectDataWranglerHeader=(0,n.createSelector)(r.selectDataWranglerRoot,function(e){return e.header});t.selectApplyButtonEnabled=(0,n.createSelector)(a,function(e){return e.applyButtonEnabled})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(1109),m=n(v),b=i(5),y=n(b),w=i(14),x=i(147),E=i(113),_=i(22),A=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.activeTab===E.COLUMN_DETAILS_TAB_KEY}},{key:"render",value:function(){var e=this.props,t=e.dim,i=e.currentPreviewTableId,n=e.activeTab,r=e.filterTime,a=e.columnName;return g.default.createElement("div",{className:"mstr-as-facet-panel"},n===E.COLUMN_DETAILS_TAB_KEY?g.default.createElement(m.default,{colName:a,tableId:i,dim:t,filterTime:r}):null)}}]),t}(p.Component),C=function(e){return{currentPreviewTableId:e.dpState.currentPreviewTableId,activeTab:(0,x.selectActiveTabKey)(e),filterTime:(0,x.selectFilterTime)(e),columnName:(0,_.selectDetailFacetColumn)(e)}};A.propTypes={dim:y.default.object.isRequired,currentPreviewTableId:y.default.string,activeTab:y.default.string,filterTime:y.default.number},t.default=(0,w.connect)(C,null)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(14),x=i(8),E=n(x),_=i(226),A=n(_),C=i(147),S=i(267),T=i(183);i(1812);var I=i(52),D=S.SupportedTransforms,O=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.scripts,n=t.splitDisabledHistory,r=t.clearDisabledHistory,o=t.disableAllHistory,s=i.every(function(e){return e.disabled}),l=i.every(function(e){return!e.disabled});return i.length?m.default.createElement("div",{className:"mstr-as-history"},m.default.createElement("div",{className:"toolbar"},m.default.createElement("div",{className:(0,E.default)("clear-all",{disabled:s}),title:"Disable Scripts",onClick:function(){return!s&&o()}}),m.default.createElement("div",{className:(0,E.default)("clear-all-disabled",{disabled:l}),title:"Remove Disabled Scripts",onClick:function(){return!l&&r()}})),m.default.createElement("div",{className:"script-list"},i.map(function(t,i){var r=t.frontendInfo,o=t.isNew,s=D[r.name];return m.default.createElement("div",{className:(0,E.default)("script-container",{disabled:t.disabled,hilight:o}),onAnimationEnd:o?function(){return e.props.unSetNewScript(i)}:null,key:i,onClick:function(){n(i)}},i+1+") ",m.default.createElement("span",{className:"script"},m.default.createElement(s,{params:(0,a.default)({},r)})))}))):m.default.createElement("div",{className:"mstr-as-history"},m.default.createElement(A.default.EmptyContent,{title:"Nothing here...",text:"Be the first one to perform a wrangling operation and create history.  "}))}}]),t}(v.Component);O.propTypes={scripts:y.default.array,splitDisabledHistory:y.default.func,disableAllHistory:y.default.func,clearDisabledHistory:y.default.func,unSetNewScript:y.default.func};var M=function(e){return{scripts:(0,C.selectFormattedHistory)(e)}};t.default=(0,w.connect)(M,{splitDisabledHistory:T.splitDisabledHistory,disableAllHistory:T.disableAllHistory,clearDisabledHistory:T.clearDisabledHistory,unSetNewScript:I.unSetNewScript})(O)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(14),x=i(226),E=n(x),_=i(147),A=i(267),C=i(26),S=n(C),T=i(15),I=n(T);i(1813);var D=i(22),O=i(113),M=i(146),k=i(222),N=n(k),P=A.SupportedTransforms,L=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.dwEngineInteraction(this.props)}},{key:"componentWillReceiveProps",value:function(e){(e.selectedText!==this.props.selectedText||S.default.isEmptyObject(e.selectedText)&&e.selectedCols!==this.props.selectedCols)&&this.dwEngineInteraction(e)}},{key:"dwEngineInteraction",value:function(e){var t=e.selectedText,i=e.selectedCols,n=e.recommendations;t&&!S.default.isEmptyObject(t)?(n&&n.length&&I.default.difference(n[0].column,t.column).length&&k.AllExports.interaction({type:N.default.engine.clear}),k.AllExports.interaction({type:N.default.engine.highlight,position:{row:t.row,col:t.column},selection:{startCursor:t.startOffset,endCursor:t.endOffset}})):i&&i.length?k.AllExports.interaction({type:N.default.engine.col,position:{row:-1,col:i},shift:i.length>1,ctrl:i.length>1}):n&&n.length&&k.AllExports.interaction({type:N.default.engine.clear})}},{key:"shouldComponentUpdate",value:function(e){return e.activeTab===O.RECOMMENDATION_TAB_KEY}},{key:"render",value:function(){var e=this,t=this.props,i=t.selectedCols,n=t.recommendations;return n&&n.length?m.default.createElement("div",{className:"mstr-as-wrangler-panel"},m.default.createElement("div",{className:"recom-header"},i.length>1?i.length+" selected columns":i[0]||""),m.default.createElement("div",{className:"transform-list"},n.map(function(t,i){var n=P[t.name];return m.default.createElement("div",{className:"transform-container ignore-clear-text-selection",key:i,onMouseOver:function(){return(0,A.previewOnSuggestion)(t.transform,e.props.currentPreviewTableId)},onClick:function(){return(0,A.executeTransform)(t.transform)}},m.default.createElement("div",{className:"abbr"},t.name.substr(0,1).toUpperCase()),m.default.createElement("div",{className:"transform"},m.default.createElement(n,{params:(0,a.default)({},t),columnContext:!0})))}))):m.default.createElement("div",{className:"mstr-as-wrangler-panel"},m.default.createElement(E.default.EmptyContent,{title:"Try me...",text:"Select some data and you will see the light."}))}}]),t}(v.Component),R=function(e){return{activeTab:(0,_.selectActiveTabKey)(e),recommendations:(0,_.selectRecommendations)(e),selectedCols:(0,D.selectDataGridFormColumn)(e)||[],selectedText:(0,M.selectSelecetdText)(e),currentPreviewTableId:e.dpState.currentPreviewTableId}};L.propTypes={recommendations:y.default.array,selectedCols:y.default.array,selectedText:y.default.object,currentPreviewTableId:y.default.string,activeTab:y.default.string},t.default=(0,w.connect)(R,null)(L)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(16),m=i(14),b=i(5),y=n(b),w=i(1162),x=n(w),E=i(1160),_=n(E),A=i(1161),C=n(A),S=i(113),T=i(147),I=i(183),D=i(223),O=n(D),M=i(38),k=i(279),N=n(k),P=i(275),L=n(P);i(1814);var R=L.default.TabPane,F=220,j=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.resizeWranglerPanel=i.resizeWranglerPanel.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.activeTab,i=e.setActiveTab,n=this.props.layout.wranglerPanel.width,r=window.innerHeight-this.props.layout.toolbar.height,a={w:n,h:r-24};return g.default.createElement("div",{style:{width:n,height:"100%"},className:"wrangler-panel"},g.default.createElement(L.default,{activeKey:t,onChange:i},g.default.createElement(R,{tab:g.default.createElement(N.default,{title:"RECOMMENDATION",iconClass:"recommendation"}),key:S.RECOMMENDATION_TAB_KEY},g.default.createElement(x.default,null)),g.default.createElement(R,{tab:g.default.createElement(N.default,{title:"FACET",iconClass:"columnDetail"}),key:S.COLUMN_DETAILS_TAB_KEY},g.default.createElement(_.default,{dim:a})),g.default.createElement(R,{tab:g.default.createElement(N.default,{title:"HISTORY",iconClass:"history"}),key:S.HISTORY_TAB_KEY},g.default.createElement(C.default,null))),g.default.createElement(O.default,{onStop:this.resizeWranglerPanel,position:{x:n,y:0},style:{height:r},direction:"x",bounds:{left:F,right:2*F}}))}},{key:"resizeWranglerPanel",value:function(e,t){var i={display:this.props.layout.wranglerPanel.display,height:this.props.layout.wranglerPanel.height,width:t.x};this.props.updateWranglerPanel(i)}}]),t}(p.Component),B=function(e){return{activeTab:(0,T.selectActiveTabKey)(e),layout:e.layout}},H=function(e){return{setActiveTab:(0,v.bindActionCreators)(I.setActiveTab,e),updateWranglerPanel:(0,v.bindActionCreators)(M.updateWranglerPanel,e)}};j.propTypes={activeTab:y.default.string,setActiveTab:y.default.func,layout:y.default.object,updateWranglerPanel:y.default.func},t.default=(0,m.connect)(B,H)(j)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.SET_TABLE_PANEL_ACTIVE_TAB:return{activeTab:t.activeTab};default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.SET_DW_RECOMMENDATIONS:return[].concat((0,l.default)(t.recommendations));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(46),l=r(s),u=i(16),c=i(364),d=n(c),h=i(113),f=i(1110),p=r(f),g={activeTab:h.RECOMMENDATION_TAB_KEY};t.default=(0,u.combineReducers)({tabs:a,recommendations:o,facetData:p.default})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.aggregation.map(function(e){var t=u.default.find(h.default,function(t){return t.value===e.func});return t.text+"("+e.column+")"}).join(", "),n=f[t.groupBy&&t.groupBy.length?"GROUPBY":"BASE"],r=t.groupBy.join(", ");return s.default.createElement("div",{className:"aggregate"},(0,c.parse)(n,(0,a.default)({},t,{aggregate:i,groupBy:r})))};var o=i(1),s=n(o),l=i(15),u=n(l),c=i(45),d=i(567),h=n(d),f={BASE:"Aggregate @{aggregate}",GROUPBY:"Aggregate @{aggregate} group by @{groupBy}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,i=e.columnContext;return(0,a.default)({params:t,className:"Cut"},o,i&&s)};var r=i(365),a=n(r),o={BASE:"Cut out in @{column}",POS:"Cut out between positions @{start}, @{end} in @{column}",ON:"Cut out on pattern @{on} in @{column}",BETWEEN:"Cut out between patterns @{after} and @{before} in @{column}",AFTER:"Cut out after pattern @{after} in @{column}",BEFORE:"Cut out before pattern @{before} in @{column}"},s={BASE:"Cut out in @{column}",POS:"Cut out between positions @{start}, @{end}",ON:"Cut out on pattern @{on}",BETWEEN:"Cut out between patterns @{after} and @{before}",AFTER:"Cut out after pattern @{after}",BEFORE:"Cut out before pattern @{before}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=(0,a.default)({},t,{column:t.transform.column.join(", ")});return s.default.createElement("div",{className:"dltRow"},(0,l.parse)(u.BASE,i))};var o=i(1),s=n(o),l=i(45),u={BASE:"Delete rows in @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=(0,a.default)({},t,{column:t.column.join(", ")});return s.default.createElement("div",{className:"drop"},(0,l.parse)(u.BASE,i))};var o=i(1),s=n(o),l=i(45),u={BASE:"Delete columns @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=Array.isArray(t.column)?t.column:t.transform.column,n=(0,a.default)({},t,{column:i.join(", ")});return s.default.createElement("div",{className:"duplCln"},(0,l.parse)(u.BASE,n))};var o=i(1),s=n(o),l=i(45),u={BASE:"Duplicate Column @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params;return a.default.createElement("div",{className:"edit"},(0,o.parse)(s[t.update_method],t))};var r=i(1),a=n(r),o=i(45),s={TITLECASE:"Transform to Title Case in @{column}",UPPER:"Transform to UPPER CASE in @{column}",LOWER:"Transform to lower case in @{column}",CAPITALIZE:"Capitalize first letter in @{column}",UNCAPITALIZE:"Uncapitalize first letter in @{column}",UNESCAPE:"Unescape HTML in @{column}",PADFIRST:"Pad before text in @{column} with  '@{pad}'",PADLAST:"Pad after text in @{column} with '@{pad}'",TRIM:"Trim whitespaces on both ends in @{column}",COLLAPSE:"Collapse consecutive whitespaces in @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,i=e.columnContext;return(0,a.default)({params:t,className:"extract"},o,i&&s)};var r=i(365),a=n(r),o={BASE:"Extract on @{column}",POS:"Extract between positions @{start}, @{end} on @{column}",ON:"Extract pattern @{on} on @{column} ",BETWEEN:"Extract between patterns @{after} and @{before} on @{column}",AFTER:"Extract after pattern @{after} on @{column}",BEFORE:"Extract before pattern @{before} on @{column}"},s={BASE:"Extract on @{column}",POS:"Extract between positions @{start}, @{end}",ON:"Extract pattern @{on}",BETWEEN:"Extract between patterns @{after} and @{before}",AFTER:"Extract after pattern @{after}",BEFORE:"Extract before pattern @{before}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=(0,a.default)({},t,{column:t.transform.column.join(", ")});return s.default.createElement("div",{className:"edit"},(0,l.parse)(u[t.transform.update_method],i))};var o=i(1),s=n(o),l=i(45),u={FILLDOWN:"Fill down the blank cells in @{column}",BLANKDOWN:"Blank down the duplicated cells in @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{
value:!0}),t.default=function(){var e="Facet";return a.default.createElement("div",{className:"filter"},(0,o.parse)("Filter data with @{filter}",{filter:e}))};var r=i(1),a=n(r),o=i(45)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=(0,a.default)({},t,{column:t.transform.column.join(", ")});return s.default.createElement("div",{className:"replace"},(0,l.parse)(u[t.transform.replace_method],i))};var o=i(1),s=n(o),l=i(45),u={FINDANDREPLACECHINCELL:"Find and Replace cells in @{column}",FINDANDREPLACECELL:"Find and Replace cells in @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=(0,a.default)({},t,{column:t.column.join(", ")});return s.default.createElement("div",{className:"keep-columns"},(0,l.parse)(u.BASE,i))};var o=i(1),s=n(o),l=i(45),u={BASE:"Keep columns @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i={},n=u.BASE;return s.default.createElement("div",null,(0,l.parse)(n,(0,a.default)({},t,i)))};var o=i(1),s=n(o),l=i(45),u={BASE:"Add new column @{expression}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params;return a.default.createElement("div",null,t.description)};var r=i(1),a=n(r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.transform,n=u.BASE;return s.default.createElement("div",null,(0,l.parse)(n,(0,a.default)({},t,i)))};var o=i(1),s=n(o),l=i(45),u={BASE:"Edit cell in @{columnName}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.glue?"using '"+t.glue+"'":"",n=(0,a.default)({},t,{column:t.column.join(", "),glue:i});return s.default.createElement("div",{className:"merge"},(0,l.parse)(u.BASE,n))};var o=i(1),s=n(o),l=i(45),u={BASE:"Merge columns @{column} @{glue}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i={},n=u.BASE;return s.default.createElement("div",{className:"open-refine"},(0,l.parse)(n,(0,a.default)({},t,i)))};var o=i(1),s=n(o),l=i(45),u={BASE:"New column based on @{column} with Open Refine Expression @{expression}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i={},n="";switch(t.method){case"cell":i={column:t.column.join(", ")},n=u.CELLS;break;case"row":n=u.ROWS}return s.default.createElement("div",{className:"drop"},(0,l.parse)(n,(0,a.default)({},t,i)))};var o=i(1),s=n(o),l=i(45),u={CELLS:"Delete duplicated cells in @{column}",ROWS:"Delete duplicated rows in the table"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params;return s.default.createElement("div",{className:"rename"},(0,l.parse)(u.BASE,(0,a.default)({},t)))};var o=i(1),s=n(o),l=i(45),u={BASE:"Rename column @{column} to @{names}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.column.join(", "),n=t.types,r=c.default.find(function(e){return e.value===(n&&n[0])});return t={column:i,types:r&&r.text||n},s.default.createElement("div",{className:"set-type"},(0,l.parse)(d.BASE,(0,a.default)({},t,{column:i})))};var o=i(1),s=n(o),l=i(45),u=i(130),c=n(u),d={BASE:"Change data type of @{column} to @{types}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){switch(t){case h.TYPE_VALUES.LONG:case h.TYPE_VALUES.SHORT:case h.TYPE_VALUES.INTEGER:case h.TYPE_VALUES.FLOAT:case h.TYPE_VALUES.DOUBLE:return Number(e)+"";default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,i=t.column,n=t.operator,a=t.args,l=(u.default.find(function(e){return e.value===n})||{text:n}).text.toLowerCase(),c=i+" "+l.toLowerCase()+" "+a.map(function(e){var t=e.data,i=e.type,n=e.dataType;switch(i){case d.default.VALUE_TYPE_LIST:return t.map(function(e){return r(e,n)}).join(", ");case d.default.VALUE_TYPE_CONST:return r(t,n);default:return t}}).join(" and ");return o.default.createElement("div",{className:"filter"},(0,s.parse)(f.BASE,{filter:c}))};var a=i(1),o=n(a),s=i(45),l=i(221),u=n(l),c=i(220),d=n(c),h=i(130),f={BASE:"Filter @{filter}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.transform,n=u.BASE;return s.default.createElement("div",null,(0,l.parse)(n,(0,a.default)({},t,i)))};var o=i(1),s=n(o),l=i(45),u={BASE:"Edit cell in row @{row} at cell @{col} value is @{to}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default=function(e){var t=e.params,i=t.column.join(", "),n=u["desc"===t.direction?"DESC":"ASC"];return s.default.createElement("div",{className:"set-type"},(0,l.parse)(n,(0,a.default)({},t,{column:i})))};var o=i(1),s=n(o),l=i(45),u={ASC:"Sort ascending using @{column}",DESC:"Sort descending using @{column}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,i=e.columnContext;return(0,a.default)({params:t,className:"split"},o,i&&s)};var r=i(365),a=n(r),o={BASE:"Split on @{column}",LENGTH:"Split by fixed length @{lengths} on @{column}",POS:"Split between positions @{start}, @{end} on @{column}",ON:"Split on separator @{on} on @{column}",BETWEEN:"Split between separators @{after} and @{before} on @{column}",AFTER:"Split after separator @{after} on @{column}",BEFORE:"Split before separator @{before} on @{column}"},s={BASE:"Split @{column}",LENGTH:"Split by fixed length @{lengths}",POS:"Split between positions @{start}, @{end}",ON:"Split on separator @{on}",BETWEEN:"Split between separators @{after} and @{before}",AFTER:"Split after separator @{after}",BEFORE:"Split before separator @{before}"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){this._setup(),this.maxSize=e,this.maxMemoryUsage=t,this.evictCallBack=i}function a(e){e=e||{},this.weight=e.weight||0,this.next=e.next||null,this.prev=e.prev||null,this._items={},this._head=null,this._tail=null,this._length=0}var o=i(280),s=n(o),l=i(53),u=n(l),c=i(28),d=n(c);r.prototype.put=function(e,t){var i=this.cache[e];if(i)return void(i.value=t);if(this.maxSize)this.cacheSize===this.maxSize&&this._evict();else if(this.maxMemoryUsage){var n=this._getCacheSize(this.cache);console.log(n),console.log(this.maxMemoryUsage),n>this.maxMemoryUsage&&this._evictBelowSizeLimit()}if(this.head.weight>0){var r=this.head;this.head=new a({weight:0,next:r}),r.prev=this.head}this.head.add(e),this.cache[e]={value:t,frequencySet:this.head},this.cacheSize=this.cacheSize+1},r.prototype.get=function(e){var t=this.cache[e];if(!t)return null;var i=t.frequencySet,n=i.next;return n&&n.weight===i.weight+1||(n=new a({weight:i.weight+1,prev:i,next:i.next}),i.next=n),i.remove(e),n.add(e),t.frequencySet=n,i.isEmpty()&&this._removeFrequencySet(i),t.value},r.prototype.flush=function(){this._setup()},r.prototype.evictKey=function(e){this._evictKey(e)},r.prototype._evictKey=function(e){var t=this.cache[e];t&&(delete this.cache[e],this.evictCallBack&&this.evictCallBack(e),t.frequencySet.remove(e),t.frequencySet.isEmpty()&&this._removeFrequencySet(t.frequencySet),this._updateCacheSize(e),this.cacheSize=this.cacheSize-1,console.log("After evicting, cache Size is "+this.cacheSize))},r.prototype._getCacheSize=function(){var e=this;console.time("estimateSize"),this.valueSizeCache?((0,d.default)(this.cache).forEach(function(t){void 0===e.valueSizeCache[t]&&(e.valueSizeCache[t]=(0,u.default)(e.cache[t].value).length)}),(0,d.default)(this.valueSizeCache).forEach(function(t){void 0===e.cache[t]&&(console.log("remove obsolete value size cache"),delete e.valueSizeCache[t])})):this.valueSizeCache={};var t=0;return(0,d.default)(this.valueSizeCache).forEach(function(i){t+=e.valueSizeCache[i]}),console.timeEnd("estimateSize"),t},r.prototype._updateCacheSize=function(e){delete this.valueSizeCache[e]},r.prototype._evictBelowSizeLimit=function(){var e=this._getCacheSize(this.cache);console.log(e),console.log(this.maxMemoryUsage),e>this.maxMemoryUsage&&(this._evict(),this._evictBelowSizeLimit())},r.prototype._setup=function(){this.cache=(0,s.default)(null),this.head=new a({weight:0}),this.cacheSize=0,this.valueSizeCache={}},r.prototype._evict=function(){var e=this.head&&this.head.getTail();this.evictKey(e)},r.prototype._removeFrequencySet=function(e){var t=e.next;t&&e===this.head?(t.prev=null,this.head=t):e&&(e.prev?e.prev.next=e.next:null,e.next?e.next.prev=e.prev:null)},a.prototype.add=function(e){if(!this._items[e]){var t={next:this.head,prev:null,value:e};this.head?this.head.prev=t:this.tail=t,this.head=t,this._items[e]=t,this._length=this._length+1}},a.prototype.remove=function(e){var t=this._items[e];if(t){var i=t.prev,n=t.next;i?i.next=n:this.head=n,n?n.prev=i:this.tail=i,delete this._items[e],this._length=this._length-1}},a.prototype.isEmpty=function(){return this._length<1},a.prototype.getTail=function(){return this.tail&&this.tail.value},e.exports=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1118),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.toString().split(",").map(function(e){return Number(e.trim())}).filter(function(e){return!isNaN(e)&&e>=0})}function a(e){var t={op:"splitColumn",columnName:e._column[0]};if(t.mode="separator",t.regex=!1,t.removeOriginalColumn=!1,e._positions&&e._positions.length>0)t.maxColumns="2",t.separatorSolutionInt=5,"string"==typeof e._positions[0]&&(e._positions=r(e._positions)),t.betweenParams=e._positions;else if(e._lengths)t.fieldLengths=r(e._lengths),t.mode="lengths";else if(e._before&&e._after){var i=e._before,n=e._after;e._isRegExp_after||"regexp"===V.default.type(n)?(t.regex=!0,"regexp"===V.default.type(n)&&(n=n.toString().slice(1,-1))):n=(0,B.unescapeRegex)(n),e._isRegExp_before||"regexp"===V.default.type(i)?(t.regex2=!0,"regexp"===V.default.type(i)&&(i=i.toString().slice(1,-1))):i=(0,B.unescapeRegex)(i),t.separatorSolutionInt=6,t.betweenParams=[n,i]}else if(e._before){var a=e._before;e._isRegExp_before||"regexp"===V.default.type(a)?(t.regex=!0,"regexp"===V.default.type(a)&&(a=a.toString().slice(1,-1))):a=(0,B.unescapeRegex)(a),t.separator=a,t.separatorSolutionInt=1}else if(e._after){var o=e._after;e._isRegExp_after||"regexp"===V.default.type(o)?(t.regex=!0,"regexp"===V.default.type(o)&&(o=o.toString().slice(1,-1))):o=(0,B.unescapeRegex)(o),t.separator=o,t.separatorSolutionInt=3}else if(e._on){var s=e._on;e._isRegExp_on||"regexp"===V.default.type(s)?(t.regex=!0,"regexp"===V.default.type(s)&&(s=s.toString().slice(1,-1))):s=(0,B.unescapeRegex)(s),t.maxColumns=Number(e._max)>1?Number(e._max):2,t.separatorSolutionInt=0,t.separator=s}return t.frontendInfo=e,t}function o(e){return e&&"object"!==("undefined"==typeof e?"undefined":(0,R.default)(e))?"'"+e.toString().replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'":e}function s(e,t){return"regexp"===V.default.type(e)?e:t?new RegExp(e):"'"+(0,B.unescapeRegex)(e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}function l(e){return u(e._column,e._types,e)}function u(e,t,i){if(e&&e.length>0){for(var n={op:"changeColumnsDatatype"},r=[],a=0;a<e.length;a++){var o=e[a];o&&r.push({columnName:o,datatype:t[a]||t[0]})}return n.columnInfo=r,n.frontendInfo=i,n}}function c(e){var t=e._column.map(function(e){var t={};return t.id=e,t});return d(t,e)}function d(e,t){if(e&&e.length>0){for(var i={op:"core/column-removal"},n=[],r=0;r<e.length;r++){var a=e[r].id;n.push(a)}return i.columnNames=n,i.frontendInfo=t,i}}function h(e){var t={op:"core/column-addition",baseColumnName:P(e._column),newColumnName:(e._column?e._column[0]:"")+"_Merge",expression:""},i=k(e);return t.expression=i,t.frontendInfo=e,t.isStringOp=!0,t}function f(e){var t={op:"core/column-addition",baseColumnName:e._column[0],newColumnName:"derived_column_"+F.mbde.derivedColumnCount++,expression:""};return t.expression=Array.isArray(e._expression)?e._expression.join(""):e._expression,t.isStringOp=!1,t.frontendInfo=e,t.isStringOp=!0,t}function p(e){var t={op:"deriveColumnFromExpression",newColumnName:""===e.expression.colName?"derived_column_"+F.mbde.derivedColumnCount++:e.expression.colName,expression:e.expression.expression};return t.frontendInfo=e,t}function g(e){var t=e._groupBy,i=e._aggregation;e._aggregation=i=i.filter(function(e){return e.func&&e.column&&e.column.length});var n=t.map(function(e){return{expression:e,aggregation:"groupby"}}).concat(i.map(function(e){return{expression:e.column[0],aggregation:e.func}}));return{op:"groupByColumns",frontendInfo:e,columns:n}}function v(e){return{op:"addFilters",frontendInfo:e,filters:JSON.parse(e._filter)}}function m(e){var t=e._column;return{op:"keepColumns",frontendInfo:e,columnNames:t}}function b(e){var t=e.column,i=e.rowFilterFunc,n=e.rowFilterStr;return{op:"core/row-removal",frontendInfo:e,engineConfig:Y(t,i,n)}}function y(e){var t=e._column;return{op:"core/column-addition",engineConfig:{facets:[],mode:"row-based"},newColumnName:t[0]+" Copy",baseColumnName:t[0],expression:"grel:value",onError:"set-to-blank",frontendInfo:e}}function w(e){var t=e._column,i=e._operator,n=e._args,r={type:"func",funcName:i,args:[{type:"column",columnName:t[0]}]};return n.forEach(function(e){switch(e.type){case $.default.VALUE_TYPE_LIST:e.data.forEach(function(t){r.args.push({type:"const",data:t,dataType:e.dataType})});break;case $.default.VALUE_TYPE_COLUMN:r.args.push({type:"column",columnName:e.data});break;case $.default.VALUE_TYPE_CONST:r.args.push({type:"const",data:e.data,dataType:e.dataType});break;default:alert("filter argument type not supported!")}}),{op:"addFilters",frontendInfo:e,filters:r}}function x(e){var t=e._column[0],i={op:"core/column-addition",baseColumnName:t,newColumnName:t+"_Ext",expression:""};if(e._positions&&2==e._positions.length)i.expression="substring( value ,"+e._positions[0]+", "+e._positions[1]+" )";else if(e._before&&e._after){var n="partition( value , "+s(e._after,e._isRegExp_after)+" )";i.expression="with( "+n+", after, with(partition(after[2] ,"+s(e._before,e._isRegExp_before)+"), before, if(or( and( isBlank(after[1]), isBlank(after[2])), and( isBlank(before[1]), isBlank(before[2]))), null , before[0])))"}else if(e._before){var r="partition( value , "+s(e._before,e._isRegExp_before)+" )";i.expression="with( "+r+", partitions, if( and( isBlank(partitions[1]), isBlank(partitions[2])), null, partitions[0]) )"}else e._after?i.expression="partition( value ,"+s(e._after,e._isRegExp_after)+" )[2]":e._on&&(i.expression="partition( value ,"+s(e._on,e._isRegExp_on)+" )[1]");return i.frontendInfo=e,i.isStringOp=!0,i}function E(e){var t=e._column[0],i={op:"core/text-transform",columnName:t,expression:""};if(e._positions&&2==e._positions.length)i.expression="substring( value , 0 , "+e._positions[0]+" ) + substring( value , "+e._positions[1]+" )";else if(e._before&&e._after){var n="partition( value , "+s(e._after,e._isRegExp_after)+" )";i.expression="with( "+n+", after, with(partition(after[2] ,"+s(e._before,e._isRegExp_before)+"), before, if(or( and( isBlank(after[1]), isBlank(after[2])), and( isBlank(before[1]), isBlank(before[2]))), value,after[0]+after[1]+before[1]+before[2])))"}else if(e._before){var r="partition( value , "+s(e._before,e._isRegExp_before)+" )";i.expression="with( "+r+", partitions, if( and( isBlank(partitions[1]), isBlank(partitions[2])), value, partitions[1]+partitions[2]) )"}else if(e._after){var a="partition( value , "+s(e._after,e._isRegExp_after)+" )";i.expression="with( "+a+", partitions, partitions[0]+partitions[1] )"}else if(e._on){var o="partition( value , "+s(e._on,e._isRegExp_on)+" )";i.expression="with( "+o+", partitions, partitions[0]+partitions[2] )"}return i.frontendInfo=e,i.isStringOp=!0,i}function _(e){return{op:"core/column-rename",oldColumnName:e._column[0],newColumnName:e._names[0],frontendInfo:e}}function A(e){var t=e._column,i={op:"sortByColumns",orderBy:[]};return t.forEach(function(t){i.orderBy.push({columnName:t,ascending:"desc"!=e._direction})}),i.frontendInfo=e,i}function C(e){var t=e._column,i="row"==e._method?"groupby":"first",n={op:"groupByColumns"},r=[];if(F.mbde.previewColumns&&F.mbde.previewColumns.length>0)for(var a=0;a<F.mbde.previewColumns.length;a++){var o=F.mbde.previewColumns[a];t.includes(o)?r.push({expression:o,aggregation:"groupby",newColumnName:o}):r.push({expression:o,aggregation:i,newColumnName:o})}return n.columns=r,n.frontendInfo=e,n}function S(e){return{op:"core/row-deduplicate",mode:"row"===e._method?"row-based":"column-based",columnNames:e._column||[],frontendInfo:e}}function T(e){var t=e._column[0],i={op:"core/text-transform",expression:"",columnName:t},n="";if(void 0!=e._to);else if(e._update_method)switch(e._update_method){case j.editString.upper:n="value.toUppercase()";break;case j.editString.lower:n="value.toLowercase()";break;case j.editString.capitalize:n="value[0].toUppercase()+value.substring(1,value.length())";break;case j.editString.uncapitalize:n="value[0].toLowercase()+value.substring(1,value.length())";break;case j.editString.titlecase:n="value.toTitlecase()";break;case j.editString.unescape:n="value.unescape('html')";break;case j.editString.padfirst:n=o(e._pad)+' + if(isNull(value), "", value)';break;case j.editString.padlast:n='if(isNull(value), "", value) + '+o(e._pad);break;case j.editString.collapse:n="value.replace(/\\s+/,' ')";break;case j.editString.trim:n="value.trim()";break;default:throw"Illegal update_method"}return i.expression=n,i.frontendInfo=e,i.onError="keep-original",i.isStringOp=!0,i}function I(e){var t=e.column[0],i=e.update_method,n={op:"core/"+("FILLDOWN"===i?"fill-down":"blank-down"),engineConfig:{facets:[],mode:"row-based"},columnName:t};return n.frontendInfo=e,n}function D(e){var t=e.row,i=e.col,n=e.to,r={op:"core/single-edit",engineConfig:{mode:"row-based",facets:[]},row:t,col:i,to:n};return r.frontendInfo=e,r}function O(e){var t=e.columnName,i=e.from,n=e.to,r={op:"core/mass-edit",columnName:t,edits:[{fromBlank:!1,from:[i],to:n}]};return r.frontendInfo=e,r}function M(e){var t=e.column[0],i=e.replace_method,n=e.replacedWith,r=e.rowFilterStr,a=e.rowFilterFunc,o=e.from,s=e.to,l=void 0,u=void 0;if("FINDANDREPLACECELL"===i){switch(a){case q.CONTAINS:u=q.FUNCCONTAINS;break;case q.BEGINSWITH:u=q.FUNCSTARTSWITH;break;case q.ENDSWITH:u=q.FUNCENDSWITH}l="grel:if("+u+'(value, "'+r+'"), replace(value, value, "'+n+'"), value)'}else"FINDANDREPLACECHINCELL"===i&&(l='grel:replace (value, "'+o+'", "'+s+'")');var c={op:"core/text-transform",engineConfig:{facets:[],mode:"row-based"},isStringOp:!0,columnName:t,expression:l,onError:"keep-original",repeat:!1,repeatCount:10};return c.frontendInfo=e,c}function k(e){var t="",i=e._glue.replace(/\\/g,"\\\\").replace(/'/g,"\\'")||"";F.mbde.combineColumnIds=e._column;for(var n=0;n<F.mbde.combineColumnIds.length;n++){var r=F.mbde.combineColumnIds[n];t=t+N(r)+(n==F.mbde.combineColumnIds.length-1?"":" + '"+i+"' + ")}return t}function N(e){var t="["+o(e)+"]";return"if(isNull(cells"+t+"),'',cells"+t+".value)"}function P(e){for(var t=(0,z.selectCurrentPreviewTableColumns)((0,W.getAllState)()),i=t.length-1;i>=0;i--)if(e.indexOf(t[i].id)>-1)return t[i].id;return null}Object.defineProperty(t,"__esModule",{value:!0});var L=i(35),R=n(L);t.dwSplit=a,t.dwChangeType=l,t.dwDrop=c,t.dwMerge=h,t.dwOpenRefineExp=f,t.dwMSTRExp=p,t.aggregate=g,t.dwFilter=v,t.dwKeepColumns=m,t.dwDeleteRow=b,t.dwDuplicateCln=y,t.dwSimpleFilter=w,t.dwExtract=x,t.dwCut=E,t.dwRename=_,t.dwSort=A,t.dwGroupBy=C,t.dwRemove=S,t.dwUpdate=T,t.dwFillAndBlankDown=I,t.dwSingleEdit=D,t.dwMassEdit=O,t.dwFindAndReplace=M;var F=i(276),j=i(222),B=i(266),H=i(26),V=n(H),U=i(15),W=(n(U),i(29)),z=i(22),G=i(220),$=n(G),q=i(362),Y=function(e,t,i){var n={mode:"row-based"};switch(t){case q.CONTAINS:case q.BEGINSWITH:case q.ENDSWITH:n.facets=e.map(function(e){return{caseSensitive:!0,columnName:e,mode:"regex",name:e,query:i,type:"text"}});break;case q.ISEMPTY:n.facets=e.map(function(e){return{columnName:e,expression:"value",invert:!1,name:e,omitBlank:!1,omitError:!1,selectBlank:!0,selectError:!1,selection:[],type:"list"}});break;case q.EQUALSTO:case q.NOTEQUALSTO:n.facets=e.map(function(e){return{columnName:e,expression:"value",invert:t===q.NOTEQUALSTO,name:e,omitBlank:!1,omitError:!1,selectBlank:!1,selectError:!1,selection:[{v:{v:i,l:i}}],type:"list"}})}return n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{id:0,text:"",value:""},{id:1,text:"Comma",value:","},{id:2,text:"Tab",value:"\t"},{id:3,text:"Whitespace",value:" "},{id:4,text:"Newline",value:"\n"},{id:5,text:"Pipe",value:"|"},{id:6,text:"Period",value:"."},{id:7,text:"Other",value:"Other"},{id:8,text:"Regex",value:"Regex"}],n=["","string","long","integer","short","boolean","double","float","date","timestamp"].map(function(e,t){return{id:t+1,text:e,value:e}}),r={none:0,one:1,multi:2,multiPossible:3};t.transformMenuList=[{id:1,title:!0,group:"a",func:"Select function",value:"",text:""},{id:2,title:!0,group:"a",func:"Split",value:"",text:"Split"},{id:2.1,group:"a",func:"Split Position",value:"Split Between Fixed Positions",text:"Split Between Fixed Positions",paraText:["Start Position","End Position"],paraInput:["number","number"],multiColumn:r.one},{id:2.2,group:"a",func:"Split Lengths",value:"Split By Fixed Length",text:"Split By Fixed Length",paraText:["Length"],paraInput:["text"],multiColumn:r.one},{id:2.3,group:"a",func:"Split On",value:"Split On Separator",text:"Split On Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:2.4,group:"a",func:"Split Before",value:"Split Before Separator",text:"Split Before Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:2.5,group:"a",func:"Split After",value:"Split After Separator",text:"Split After Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:2.6,group:"a",func:"Split Between",value:"Split Between Separator",text:"Split Between Separator",paraText:["After","Before"],paraInput:[i,i],multiColumn:r.one},{id:3,title:!0,group:"a",func:"Extract",value:"",text:"Extract"},{id:3.1,group:"a",func:"Extract Position",value:"Extract Between Fixed Positions",text:"Extract Between Fixed Positions",paraText:["Start Position","End Position"],paraInput:["number","number"],multiColumn:r.one},{id:3.2,group:"a",func:"Extract On",value:"Extract Characters",text:"Extract Characters",paraText:["Characters"],paraInput:[i],multiColumn:r.one},{id:3.3,group:"a",func:"Extract Before",value:"Extract Before Separator",text:"Extract Before Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:3.4,group:"a",func:"Extract After",value:"Extract After Separator",text:"Extract After Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:4,title:!0,group:"a",func:"Cut",value:"",text:"Cut"},{id:4.1,group:"a",func:"Cut Position",value:"Cut Between Fixed Positions",text:"Cut Between Fixed Positions",paraText:["Start Position","End Position"],paraInput:["number","number"],multiColumn:r.one},{id:4.2,group:"a",func:"Cut On",value:"Cut Characters",text:"Cut Characters",paraText:["Characters"],paraInput:[i],multiColumn:r.one},{id:4.3,group:"a",func:"Cut Before",value:"Cut Before Separator",text:"Cut Before Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:4.4,group:"a",func:"Cut After",value:"Cut After Separator",text:"Cut After Separator",paraText:["Separator"],paraInput:[i],multiColumn:r.one},{id:5,title:!0,group:"b",func:"Delete",value:"",text:"Delete"},{id:5.1,group:"b",func:"Drop",value:"Drop Columns",text:"Drop Columns",paraText:[],paraInput:[],multiColumn:r.multiPossible},{id:5.2,group:"b",func:"remove method cell",value:"Drop Duplicate Cells",text:"Drop Duplicate Cells",paraText:[],paraInput:[],multiColumn:r.multiPossible},{id:5.3,group:"all",func:"remove method row",value:"Drop Duplicate Rows",text:"Drop Duplicate Rows",paraText:[],paraInput:[],multiColumn:r.none},{id:6,title:!0,group:"b",func:"Find and Replace",value:"",text:"Find and Replace"},{id:7,title:!0,group:"b",func:"Selector",value:"",text:"Selector"},{id:8,title:!0,group:"c",func:"Transform Cell",value:"",text:"Transform Cell"},{id:8.1,group:"c",func:"edit update_method TITLECASE",value:"To Title Case",text:"To Title Case",paraText:[],paraInput:[],multiColumn:r.one},{id:8.2,group:"c",func:"edit update_method UPPER",value:"To UPPERCASE",text:"To UPPERCASE",paraText:[],paraInput:[],multiColumn:r.one},{id:8.3,group:"c",func:"edit update_method LOWER",value:"To lowercase",text:"To lowercase",paraText:[],paraInput:[],multiColumn:r.one},{id:8.4,group:"c",func:"edit update_method CAPITALIZE",value:"CAPITALIZE First",text:"CAPITALIZE First",paraText:[],paraInput:[],multiColumn:r.one},{id:8.5,group:"c",func:"edit update_method UNCAPITALIZE",value:"uncapitalize First",text:"uncapitalize First",paraText:[],paraInput:[],multiColumn:r.one},{id:8.6,group:"c",func:"edit update_method UNESCAPE",value:"Unescape HTML",text:"Unescape HTML",paraText:[],paraInput:[],multiColumn:r.one},{id:8.11,group:"c",func:"edit update_method Padfirst",value:"Pad Before Leading",text:"Pad Before Leading",paraText:["Characters"],paraInput:["text"],multiColumn:r.one},{id:8.12,group:"c",func:"edit update_method Padlast",value:"Pad After Trailing",text:"Pad After Trailing",paraText:["Characters"],paraInput:["text"],multiColumn:r.one},{id:9,title:!0,group:"c",func:"Whitespace",value:"",text:"Whitespace"},{id:9.1,group:"c",func:"edit update_method Trim",value:"Trim Leading and Trailing Whitespace",text:"Trim Leading and Trailing Whitespace",paraText:[],paraInput:[],multiColumn:r.one},{id:9.2,group:"c",func:"edit update_method Collapse",value:"Collapse Consecutive Whitespace",text:"Collapse Consecutive Whitespace",paraText:[],paraInput:[],multiColumn:r.one},{id:10,title:!0,group:"d",func:"Other",value:"",text:"Other"},{id:10.1,group:"c",func:"set_name",value:"Rename Columns",text:"Rename Columns",paraText:["Characters"],paraInput:["text"],multiColumn:r.one},{id:10.2,group:"c",func:"Merge glue",value:"Merge Columns",text:"Merge Columns",paraText:["Characters"],paraInput:["text"],multiColumn:r.multi},{id:10.5,group:"c",func:"set_type",value:"Change Columns data types",text:"Change Columns data types",multiColumns:!0,paraText:["Data Types"],paraInput:[n],multiColumn:r.multiPossible},{id:10.3,group:"c",func:"sort direction asc",value:"Sort by Columns asc",text:"Sort by Columns asc",paraText:[],paraInput:[],multiColumn:r.multiPossible},{id:10.4,group:"c",func:"sort direction desc",value:"Sort by Columns desc",text:"Sort by Columns desc",paraText:[],paraInput:[],multiColumn:r.multiPossible},{id:10.4,group:"c",func:"open_refine_exp expression",value:"Derived by Open Refine function",text:"Derived by Open Refine function",paraText:["Expression"],paraInput:["textArea"],multiColumn:r.one}]},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.TOGGLE_DATA_WRANGLER:return(0,s.default)({},e,{showWrangler:!e.showWrangler});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=r(o);t.optionsReducer=a;var l=i(16),u=i(178),c=i(262),d=n(c),h=i(1158),f=r(h),p=i(1164),g=r(p),v=i(1115),m=r(v),b=i(1141),y=r(b),w=i(1154),x=r(w),E={showWrangler:!1};t.default=(0,l.combineReducers)({opts:a,pop:x.default,header:f.default,panel:g.default,grid:m.default,expForm:u.reducer,filterEditor:y.default})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(377),y=n(b),w=i(571),x=n(w),E=i(1305),_=n(E),A=i(47),C=(0,x.default)(_.default,function(e){return!!e.group}),S=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.htmlId,i=e.dim,n=e.columnName,r=e.group,a=A.DimConstant.JOINPANEL.HISTOGRAM_HEADER.h,o=i.h-a;return g.default.createElement("div",{id:t,style:{display:"inline-block",width:150,height:i.h,marginLeft:-1,verticalAlign:"top"}},g.default.createElement("div",{className:"div-alignleft-text joinpanel-histogram",style:{height:a,paddingLeft:8,borderBottom:0}},g.default.createElement(y.default,{key:t+"-colname",text:n,maxWidth:"136",className:"histogram-header-style"})),g.default.createElement("div",{className:"joinpanel-histogram",style:{width:"100%",height:o}},g.default.createElement(C,{key:t+"-facet",htmlId:t+"-facet",group:r,rowHeight:17,maxBarWidth:142,containerHeight:o})))}}]),t}(p.Component);S.propTypes={dim:m.default.object.isRequired,htmlId:m.default.string,columnName:m.default.string},t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1193),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(1194),y=n(b),w=i(15),x=n(w),E=function(e){function t(){var e,i,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.isGroupExist=function(e){var t=!1;return e.every(function(e){return!e.columnId||(t=!0,!1)}),t},r=i,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(){this.scrollToRight()}},{key:"scrollToRight",value:function(){var e=this.messageLihistogramView.scrollWidth,t=this.messageLihistogramView.clientWidth,i=e-t;this.messageLihistogramView.scrollLeft=i>0?i:0}},{key:"shouldComponentUpdate",value:function(e,t){var i=this;return["dataGroup","align","quickViewId"].some(function(t){return i.props[t]!==e[t]})||!x.default.isEqual(this.props.dim,e.dim)}},{key:"render",value:function(){var e=this,t=this.props,i=t.htmlId,n=t.dim,r=t.dataGroup,a=t.align,o=t.quickViewId,s=this.isGroupExist(r),l={h:n.h};return g.default.createElement("div",{id:i,className:"join-panel-data-view",style:{position:"absolute",top:n.y,left:n.x,width:n.w,height:n.h}},s===!1?g.default.createElement("div",null,g.default.createElement("div",{className:"joinpanel-icon-src column-preview-icon joinpanel-item-aling-center"
}),g.default.createElement("span",{className:"joinpanel-item-aling-center joinpanel-view-title",style:{marginTop:40}},"Column Preview")):null,g.default.createElement("div",{ref:function(t){e.messageLihistogramView=t},style:{whiteSpace:"nowrap",overflowX:"auto",overflowY:"hidden",textAlign:a}},r?r.map(function(e,t){return e&&e.columnId&&(o===-1||o===t)?g.default.createElement(y.default,{key:a+"-histo-"+t,htmlId:a+"-histo-"+t,dim:l,columnName:e.columnId,group:e.data}):null}):null))}}]),t}(p.Component);E.propTypes={dim:m.default.object.isRequired,htmlId:m.default.string,dataGroup:m.default.array,align:m.default.string,quickViewId:m.default.number},t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1195),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(47),y=i(1217),w=n(y),x=i(1196),E=n(x),_=i(14),A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.closeRecommendation=function(){i.setState({showRecommendationFlag:!1})},i.showRecommendation=function(){i.setState({showRecommendationFlag:!0})},i.state={showRecommendationFlag:!0},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.viewMinimized,n=e.joinPanelDim,r=e.joinInfoData,a=e.quickViewId,o=t.w/2-b.DimConstant.JOINPANEL.JOIN_VIEW.w/2,s={x:0,y:0,w:o,h:t.h},l={x:o,y:0,w:b.DimConstant.JOINPANEL.JOIN_VIEW.w,h:t.h},u={x:s.w+l.w-1,y:0,w:o+1,h:t.h},c=this.state.showRecommendationFlag===!0?"block":"none",d=i===!1?"block":"none";return g.default.createElement("div",null,g.default.createElement("div",{className:"curtain-cover-style",style:{position:"absolute",top:n.y,left:n.x,width:n.w,height:n.h,display:c}}),g.default.createElement("div",{style:{background:"#f8f8f8",position:"absolute",top:t.y,left:n.x,width:n.w,height:n.h}},g.default.createElement("div",{style:{display:d}},g.default.createElement(E.default,{htmlId:"leftColumnPreview",dim:s,dataGroup:r.lGroups,align:"right",quickViewId:a}),g.default.createElement(w.default,{dim:l,closeRecommendation:this.closeRecommendation,showRecommendation:this.showRecommendation,showRecommendationFlag:this.state.showRecommendationFlag}),g.default.createElement(E.default,{htmlId:"rightColumnPreview",dim:u,dataGroup:r.rGroups,align:"left",quickViewId:a}))))}}]),t}(p.Component);A.propTypes={dim:m.default.object.isRequired,viewMinimized:m.default.bool,joinPanelDim:m.default.object.isRequired,quickViewId:m.default.number},A.defaultProps={viewMinimized:!1};var C=function(e){return{joinInfoData:e.joinPanelReducer.joinInfoData,quickViewId:e.joinPanelReducer.quickViewId}};t.default=(0,_.connect)(C,null)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(64),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(65);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(8),x=n(w),E=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.defaultTabname,n=e.onDTChnge,r=e.tableNameExist,o=(0,x.default)("derivedtab-input-style",{"on-error":r===!0}),s=(0,x.default)("derived-table-error-style",{"on-error":r===!0});return m.default.createElement("div",{className:"joinview-derivedtab-section",style:{position:"absolute",top:t.y,left:t.x,width:t.w,height:t.h}},m.default.createElement("label",{className:"derivedtab-label-style"},"Name Derived Table"),m.default.createElement(a.default,{id:"txtDerivedTable",className:o,onChange:function(e){return n(e)},value:i}),m.default.createElement("div",{className:s},"this name is already in use, please use a different name"))}}]),t}(v.Component);E.propTypes={dim:y.default.object.isRequired,defaultTabname:y.default.string.isRequired,onDTChnge:y.default.func,tableNameExist:y.default.bool.isRequired},t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1198),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(152),y=n(b),w=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.performJoinOperation=function(){i.setState({submitDisable:!0,cancelDisable:!0}),i.props.addJoin&&i.props.addJoin()},i.state={submitDisable:!1,cancelDisable:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.canSubmit,n=e.closeJoinPanel,r={x:217,y:10,w:72,h:26},a={x:310,y:10,w:72,h:26},o=this.state.submitDisable===!0?this.state.submitDisable:!i;return g.default.createElement("div",{style:{position:"absolute",top:t.y,left:t.x,width:t.w,height:t.h}},g.default.createElement(y.default,{htmlId:"btnCancel",dim:a,text:"Cancel",onClick:n,type:"NORMAL",isDisabled:this.state.cancelDisable}),g.default.createElement(y.default,{htmlId:"btnDone",dim:r,text:"Done",type:"EMPHASIZED",isDisabled:o,onClick:this.performJoinOperation}))}}]),t}(p.Component);w.propTypes={dim:m.default.object.isRequired,canSubmit:m.default.bool,addJoin:m.default.func,closeJoinPanel:m.default.func},t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1200),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{leftTable:e.joinPanelReducer.leftTable,rightTable:e.joinPanelReducer.rightTable}}function a(e){return{removeJoinOperation:(0,A.bindActionCreators)(E.removeJoinOperation,e),editJoinOperation:(0,A.bindActionCreators)(E.editJoinOperation,e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(1302),x=n(w),E=i(114),_=i(14),A=i(16),C=i(153),S=n(C),T=i(150),I=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.mouseOver=function(){i.setState({buttonDisplay:"block",viewOnlyDisplay:"block"})},i.mouseOut=function(){i.setState({buttonDisplay:"none",viewOnlyDisplay:"none"})},i.removeJoin=function(){i.props.removeJoinOperation(i.props.operationId)},i.onChangeLeftCol=function(e){i.props.editJoinOperation(e,i.props.operationId,"LEFT"),i.setState({leftCol:e,leftDatasource:[]})},i.onChangeRightCol=function(e){i.props.editJoinOperation(e,i.props.operationId,"RIGHT"),i.setState({rightCol:e,rightDatasource:[]})},i.onSearchLeft=function(e){if(e&&e.length>0){var t=i.getFilteredDatasource(i.props.leftDatasource,e);i.setState({leftDatasource:t,leftCol:e})}else i.setState({leftDatasource:i.props.leftDatasource,leftCol:""})},i.onSearchRight=function(e){if(e&&e.length>0){var t=i.getFilteredDatasource(i.props.rightDatasource,e);i.setState({rightDatasource:t,rightCol:e})}else i.setState({rightDatasource:i.props.rightDatasource,rightCol:""})},i.onLeftInputClick=function(){i.setState({leftDatasource:i.props.leftDatasource})},i.onRightInputClick=function(){i.setState({rightDatasource:i.props.rightDatasource})},i.state={buttonDisplay:"none",viewOnlyDisplay:"none",leftDatasource:[],rightDatasource:[],leftCol:"",rightCol:""},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"getFilteredDatasource",value:function(e,t){var i=[];return e&&e.length>0&&t&&e.forEach(function(e){e&&e.toUpperCase().indexOf(t.toUpperCase())!==-1&&i.push(e)}),i}},{key:"componentDidMount",value:function(){this.props.joinDetails&&this.props.joinDetails.leftCol?this.setState({leftCol:this.props.joinDetails.leftCol,leftDatasource:[]}):this.setState({leftCol:"",leftDatasource:[]}),this.props.joinDetails&&this.props.joinDetails.rightCol?this.setState({rightCol:this.props.joinDetails.rightCol,rightDatasource:[]}):this.setState({rightCol:"",rightDatasource:[]})}},{key:"componentWillReceiveProps",value:function(e){e.joinDetails&&e.joinDetails.leftCol?this.setState({leftCol:e.joinDetails.leftCol,leftDatasource:[]}):this.setState({leftCol:"",leftDatasource:[]}),e.joinDetails&&e.joinDetails.rightCol?this.setState({rightCol:e.joinDetails.rightCol,rightDatasource:[]}):this.setState({rightCol:"",rightDatasource:[]})}},{key:"render",value:function(){var e=this.props,t=e.htmlId,i=e.joinDetails,n=e.onClick,r=e.operationId,a={x:0,y:0,w:130,h:26},o={x:190,y:0,w:130,h:26},s=i.viewOnly===!0?"block":this.state.viewOnlyDisplay,l=this.props.leftTable.datasource?this.props.leftTable.datasource.databaseType:-2,u=this.props.rightTable.datasource?this.props.rightTable.datasource.databaseType:-2,c=T.dataSouceColorPallette.getTableBackgroundColor(l),d=T.dataSouceColorPallette.getTableBackgroundColor(u);return m.default.createElement("div",{onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,id:t,className:"joinview-join-operation",style:{position:"relative",width:400,height:38}},m.default.createElement(S.default,{text:"View Only"},m.default.createElement("div",{"data-tip":"View Only",className:"joinpanel-icons view-only-icon",onClick:function(){return n(r)},style:{position:"absolute",top:10,left:14,width:18,height:18,display:s}})),m.default.createElement("div",{style:{position:"absolute",top:7,left:40,width:320,height:26}},i.existing&&i.existing===!0?m.default.createElement("div",{id:t+"-left",className:"joinoperation-lbl-col divtext-center-right",style:{position:"absolute",top:a.y,left:a.x,width:a.w,height:a.h}},i.leftCol):m.default.createElement(x.default,{placeHolder:"Add Column",htmlId:t+"-left",dim:a,className:"joinPanel-input-box left-border",datasource:this.state.leftDatasource,val:this.state.leftCol,onChange:this.onChangeLeftCol,handleSearch:this.onSearchLeft,onInputClick:this.onLeftInputClick,onDropdownClick:this.onLeftInputClick,borderColor:c}),m.default.createElement("div",{className:"div-centered-text joinoperation-lbl-col",style:{position:"absolute",top:0,left:130,width:60,height:26}},"undefined"!=typeof i.matchPercent?i.matchPercent+"%":null),i.existing&&i.existing===!0?m.default.createElement("div",{id:t+"-right",className:"joinoperation-lbl-col divtext-center-left",style:{position:"absolute",top:o.y,left:o.x,width:o.w,height:o.h}},i.rightCol):m.default.createElement(x.default,{placeHolder:"Add Column",htmlId:t+"-right",dim:o,className:"joinPanel-input-box right-border",datasource:this.state.rightDatasource,val:this.state.rightCol,onChange:this.onChangeRightCol,handleSearch:this.onSearchRight,onInputClick:this.onRightInputClick,onDropdownClick:this.onRightInputClick,borderColor:d})),m.default.createElement(S.default,{text:"Delete"},m.default.createElement("div",{className:"joinpanel-icons delete-join-icon",onClick:this.removeJoin,style:{position:"absolute",top:10,right:14,width:18,height:18,display:this.state.buttonDisplay}})))}}]),t}(v.Component);I.propTypes={htmlId:y.default.string,joinDetails:y.default.object,removeJoinOperation:y.default.func.isRequired,leftDatasource:y.default.array,rightDatasource:y.default.array,operationId:y.default.number,editJoinOperation:y.default.func,viewOnly:y.default.bool,onClick:y.default.func,leftTable:y.default.object,rightTable:y.default.object},t.default=(0,_.connect)(r,a)(I)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1202),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{quickPreviewHistogram:(0,_.bindActionCreators)(E.quickPreviewHistogram,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(1203),w=n(y),x=i(14),E=i(114),_=i(16),A=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.onClickViewOnly=function(e){var t=i.state.viewOnlyId===e?-1:e;i.setState({viewOnlyId:t},function(){i.props.quickPreviewHistogram(t)})},i.state={viewOnlyId:-1},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){var e=this.messageList.scrollHeight,t=this.messageList.clientHeight,i=e-t;this.messageList.scrollTop=i>0?i:0}},{key:"render",value:function(){function e(e){return e&&e.length>0?e.map(function(e){return e.name}):[]}var t=this,i=this.props,n=i.dim,r=i.joinOperations,a=i.leftTable,o=i.rightTable,s=e(a.columns),l=e(o.columns);return v.default.createElement("div",{ref:function(e){t.messageList=e},className:"join-panel-div-vscroll",style:{position:"absolute",top:n.y,left:n.x,width:n.w,height:n.h}},r.map(function(e,i){return v.default.createElement(w.default,{key:"join-operaton-"+i,htmlId:"join-operaton-"+i,joinDetails:e,leftDatasource:s,rightDatasource:l,operationId:i,onClick:t.onClickViewOnly})}))}}]),t}(g.Component);A.propTypes={dim:b.default.object.isRequired,joinOperations:b.default.array.isRequired,leftTable:b.default.object,rightTable:b.default.object,quickPreviewHistogram:b.default.func};var C=function(e){return{leftTable:e.joinPanelReducer.leftTable,rightTable:e.joinPanelReducer.rightTable}};t.default=(0,x.connect)(C,r)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1204),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{addJoin:(0,x.bindActionCreators)(y.addJoin,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(114),w=i(14),x=i(16),E=function(e){function t(){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.addJoin,n=e.showRecommendation;return v.default.createElement("div",{style:{position:"absolute",top:t.y,left:t.x,width:t.w,height:t.h}},v.default.createElement("div",{className:"joinpanel-icons add-icon",onClick:function(){return i({})},style:{position:"absolute",left:14,width:18,height:18,top:10}}),v.default.createElement("div",{className:"jointoolbar-add-join-text",onClick:function(){return i({})},style:{position:"absolute",top:"50%",left:38,width:75,transform:"translateY(-50%)"}},"Add New Join"),v.default.createElement("div",{className:"joinpanel-icons recommendation-icon",onClick:n,style:{position:"absolute",right:14,width:18,height:18,top:10}}))}}]),t}(g.Component);E.propTypes={dim:b.default.object.isRequired,addJoin:b.default.func.isRequired,showRecommendation:b.default.func.isRequired},t.default=(0,w.connect)(null,r)(E)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1206),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=n(b),w=i(47),x=function(e){function t(){var e,i,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.joinTypeSelected=function(){n.props.onSelect(n.props.htmlId)},r=i,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.type,n=e.htmlId,r=e.selected,a=(0,y.default)("joinview-join-type",{selected:r}),o=(0,y.default)("jointype-image",{"inner-join":i===w.DimConstant.JOINPANEL.JOIN_TYPE.INNER_JOIN,"full-outer-join":i===w.DimConstant.JOINPANEL.JOIN_TYPE.FULL_OUTER_JOIN,"left-join":i===w.DimConstant.JOINPANEL.JOIN_TYPE.LEFT_JOIN,"right-join":i===w.DimConstant.JOINPANEL.JOIN_TYPE.RIGHT_JOIN});return g.default.createElement("div",{id:"join-type-"+n,className:a,onClick:this.joinTypeSelected,style:{position:"absolute",top:t.y,left:t.x,width:t.w,height:t.h}},g.default.createElement("div",{className:o}),g.default.createElement("div",{className:"jointype-text"},i))}}]),t}(p.Component);x.propTypes={dim:m.default.object.isRequired,type:m.default.string.isRequired,htmlId:m.default.string.isRequired,selected:m.default.bool.isRequired,onSelect:m.default.func.isRequired},t.default=x},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1208),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{editJoinType:(0,A.bindActionCreators)(_.editJoinType,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(1209),w=n(y),x=i(47),E=i(14),_=i(114),A=i(16),C=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.selectJoin=function(e){i.props.editJoinType(e)},i.joinTypeId={innerJoin:"innerJoin",fullJoin:"fullJoin",leftJoin:"leftJoin",rightJoin:"rightJoin"},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.dim,t={x:32,y:10,w:60,h:60},i={x:117,y:10,w:80,h:60},n={x:222,y:10,w:60,h:60},r={x:307,y:10,w:60,h:60};return v.default.createElement("div",{style:{position:"absolute",top:e.y,left:e.x,width:e.w,height:e.h}},v.default.createElement(w.default,{htmlId:this.joinTypeId.innerJoin,selected:"innerJoin"===this.props.joinType,dim:t,type:x.DimConstant.JOINPANEL.JOIN_TYPE.INNER_JOIN,onSelect:this.selectJoin}),v.default.createElement(w.default,{htmlId:this.joinTypeId.fullJoin,selected:"fullJoin"===this.props.joinType,dim:i,type:x.DimConstant.JOINPANEL.JOIN_TYPE.FULL_OUTER_JOIN,onSelect:this.selectJoin}),v.default.createElement(w.default,{htmlId:this.joinTypeId.leftJoin,selected:"leftJoin"===this.props.joinType,dim:n,type:x.DimConstant.JOINPANEL.JOIN_TYPE.LEFT_JOIN,onSelect:this.selectJoin}),v.default.createElement(w.default,{htmlId:this.joinTypeId.rightJoin,selected:"rightJoin"===this.props.joinType,dim:r,type:x.DimConstant.JOINPANEL.JOIN_TYPE.RIGHT_JOIN,onSelect:this.selectJoin}))}}]),t}(g.Component);C.propTypes={dim:b.default.object.isRequired,editJoinType:b.default.func,joinType:b.default.string};var S=function(e){return{joinType:e.joinPanelReducer.joinType.newVal}};t.default=(0,E.connect)(S,r)(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1210),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{applyJoinOperations:(0,N.bindActionCreators)(k.applyJoinOperations,e),toggleJoinPanel:(0,N.bindActionCreators)(k.toggleJoinPanel,e),setDerivedTableName:(0,N.bindActionCreators)(k.setDerivedTableName,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(47),w=i(1211),x=n(w),E=i(1199),_=(n(E),i(1201)),A=n(_),C=i(1207),S=n(C),T=i(1205),I=n(T),D=i(1216),O=n(D),M=i(14),k=i(114),N=i(16),P=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.isTableNameDuplicate=function(e,t){return i.props.tableList.some(function(i){if(i.name&&i.id&&i.name===e&&i.id!==t)return!0})},i.updateDerivedTable=function(e){e.target.value&&0!==e.target.value.length?this.setState({emptyDerivedTab:!1}):this.setState({emptyDerivedTab:!0}),this.props.setDerivedTableName(e.target.value)},i.canSubmitJoin=function(){var e=i.hasValidJoinCondition();return e&&i.props.joinMode===y.JOIN_MODE.EDIT_JOIN&&(e=i.props.joinEdited||i.props.joinType.currentVal!==i.props.joinType.newVal),e},i.hasValidJoinCondition=function(){return i.props.joinList.some(function(e){return null!=e.leftCol&&null!=e.rightCol})},i.state={emptyDerivedTab:!1},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.tableList===e.tableList}},{key:"render",value:function(){var e=this.props,t=e.dim,i=e.showRecommendation,n=e.closeRecommendation,r=e.showRecommendationFlag,a=e.joinList,o=e.applyJoinOperations,s=e.toggleJoinPanel,l=(e.derivedTableName,e.derivedTableId,e.joinInProgress),u=this.canSubmitJoin(),c=t.h-y.DimConstant.JOINPANEL.JOIN_VIEW.joinActionH,d=c-y.DimConstant.JOINPANEL.JOIN_VIEW.joinToolbarH,h={x:0,y:0,w:t.w,h:y.DimConstant.JOINPANEL.JOIN_VIEW.headerH},f={x:0,y:h.h,w:t.w,h:y.DimConstant.JOINPANEL.JOIN_VIEW.joinTypeH},p={x:0,y:d,w:t.w,h:y.DimConstant.JOINPANEL.JOIN_VIEW.joinToolbarH},g={x:0,y:c,w:t.w,h:y.DimConstant.JOINPANEL.JOIN_VIEW.joinActionH},m=t.h-h.h-f.h-p.h-g.h,b={x:0,y:f.y+f.h,w:t.w,h:m},w={x:40,y:d,w:y.DimConstant.JOINPANEL.JOIN_VIEW.recommendationViewW,h:y.DimConstant.JOINPANEL.JOIN_VIEW.recommendationViewH};return v.default.createElement("div",{className:"joinview-main-section",style:{position:"absolute",top:t.y,left:t.x,width:t.w,height:t.h}},l===!0?v.default.createElement("div",{className:"join-view-progress",style:{width:t.w,height:t.h-g.h}}):null,v.default.createElement("div",{className:"joinview-header",style:{position:"absolute",left:h.x,top:h.y,width:h.w,height:h.h}},v.default.createElement("span",{className:"joinpanel-item-aling-center"},"JOIN")),v.default.createElement(x.default,{dim:f}),v.default.createElement(I.default,{joinOperations:a,dim:b}),v.default.createElement(S.default,{dim:p,showRecommendation:i}),v.default.createElement(A.default,{dim:g,canSubmit:u,closeJoinPanel:s,addJoin:function(){return o(a)}}),r===!0?v.default.createElement(O.default,{dim:w,closeRecommendation:n}):null)}}]),t}(g.Component);P.propTypes={dim:b.default.object.isRequired,showRecommendation:b.default.func.isRequired,closeRecommendation:b.default.func.isRequired,showRecommendationFlag:b.default.bool,joinList:b.default.array,setDerivedTableName:b.default.func,joinEdited:b.default.bool.isRequired,joinMode:b.default.string.isRequired,tableList:b.default.array,joinType:b.default.shape({currentVal:b.default.string.isRequired,newVal:b.default.string.isRequired}),derivedTableName:b.default.shape({currentVal:b.default.string.isRequired,newVal:b.default.string.isRequired}),derivedTableId:b.default.string,joinInProgress:b.default.bool};var L=function(e){return{joinList:e.joinPanelReducer.joinList,leftTable:e.joinPanelReducer.leftTable,rightTable:e.joinPanelReducer.rightTable,derivedTableName:e.joinPanelReducer.derivedTableName,joinEdited:e.joinPanelReducer.joinEdited,joinMode:e.joinPanelReducer.joinMode,joinType:e.joinPanelReducer.joinType,tableList:e.dpState.tableList,derivedTableId:e.joinPanelReducer.derivedTableId,joinInProgress:e.joinPanelReducer.joinInProgress}};t.default=(0,M.connect)(L,r)(P)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(377),y=n(b),w=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.htmlId,i=e.recommendationObject,n=e.onSelect;return g.default.createElement("div",{id:t,className:"recommendation-list-style",onClick:function(){return n(i)},style:{position:"relative",width:320,height:32,marginTop:4}},g.default.createElement("div",{className:"recommendation-row joinpanel-item-aling-center"},g.default.createElement("div",{className:"recommendation-row-cell1"},g.default.createElement(y.default,{text:i.leftCol,maxWidth:"120",className:"recommendation-row-cell1-font"})),g.default.createElement("div",{className:"recommendation-row-cell2"},i.matchPercent,"%"),g.default.createElement("div",{className:"recommendation-row-cell3"},g.default.createElement(y.default,{text:i.rightCol,maxWidth:"120",className:"recommendation-row-cell3-font"}))))}}]),t}(p.Component);w.propTypes={recommendationObject:m.default.object.isRequired,htmlId:m.default.string,onSelect:m.default.func.isRequired},t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1213),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{loadRecommendations:(0,_.bindActionCreators)(x.loadRecommendations,e),addJoin:(0,_.bindActionCreators)(x.addJoin,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(1214),w=n(y),x=i(114),E=i(14),_=i(16),A=i(1238),C=i(278),S=n(C),T=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.closeRecommendation=function(){i.props.closeRecommendation()},i.onSelect=function(e){i.props.addJoin(e)},i.state={loading:!1},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0},function(){e.props.loadRecommendations()})}},{key:"componentWillReceiveProps",value:function(e){this.state.loading===!0&&e.recLoading===!1&&this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props,i=t.dim,n=t.recommendationList;return v.default.createElement("div",{className:"joinPanel-recommendation-popup",style:{width:i.w,height:i.h}},v.default.createElement("div",{className:"recommendation-panel-header div-centered-text",style:{position:"absolute",top:0,left:0,width:"100%",height:28}},"Recommended Joins",v.default.createElement("div",{className:"joinpanel-icons delete-join-icon",onClick:this.closeRecommendation,style:{position:"absolute",top:5,right:6}})),v.default.createElement("div",{className:"join-panel-div-vscroll",style:{position:"absolute",top:40,left:0,width:"100%",height:120}},this.state.loading===!0?v.default.createElement(S.default,null):n.length>0?n.map(function(t,i){return v.default.createElement(w.default,{key:"rec-"+i,htmlId:"rec-"+i,recommendationObject:t,onSelect:e.onSelect})}):v.default.createElement("div",{className:"recommendation-text-position"},"No Recommendation")))}}]),t}(g.Component);T.propTypes={dim:b.default.object.isRequired,closeRecommendation:b.default.func.isRequired,recommendationList:b.default.array.isRequired,loadRecommendations:b.default.func,addJoin:b.default.func,recLoading:b.default.bool};var I=function(e){return{recommendationList:(0,A.selectFilteredRecommendations)(e),recLoading:e.joinPanelReducer.recLoading}};t.default=(0,E.connect)(I,r)(T)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1215),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1212),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1197),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(47),m=i(5),b=n(m),y=i(1300),w=n(y),x=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.location,n=e.matchPercent,r=e.rowCount,a=void 0;a="left"===i?t.w/2-v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2-v.DimConstant.JOINPANEL.JOININFO_DATABOX.lineLength+5:t.w/2+v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2+5;var o={x:a,y:t.Y,w:v.DimConstant.JOINPANEL.JOININFO_DATABOX.lineLength-10,h:t.h},s={x:0,y:v.DimConstant.JOINPANEL.JOININFO_VIEW.h/2,w:o.w,h:2};return g.default.createElement("div",{style:{position:"absolute",top:o.Y,left:o.x,width:o.w,height:o.h}},g.default.createElement("div",{className:"joinConnector-container"},g.default.createElement("div",{className:"joinConnector-top-text"},n,"% matched"),g.default.createElement("div",{className:"joinConnector-dotted-line"},g.default.createElement(w.default,{width:s.w})),g.default.createElement("div",{className:"joinConnector-bottom-text"},"Out of ",r," sample rows")))}}]),t}(p.Component);x.propTypes={dim:b.default.object.isRequired,location:b.default.string.isRequired,matchPercent:b.default.string,rowCount:b.default.number},t.default=x},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1219),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(47),m=i(5),b=n(m),y=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.matchPercent,n=t.w/2-v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2,r={x:n,y:v.DimConstant.JOINPANEL.JOININFO_VIEW.h/2-v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2,w:v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter,h:v.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter};return g.default.createElement("div",{className:"joininfo-databox",style:{position:"absolute",width:r.w,height:r.h,top:r.y,left:r.x}},g.default.createElement("div",{className:"joinpanel-item-aling-center"},g.default.createElement("div",{className:"joinpanelinfo-databox-label"},"On the sample data"),g.default.createElement("div",{className:"joinpanelinfo-databox-match",style:{marginTop:10,marginBottom:6}},i,"%"),g.default.createElement("div",{className:"joinpanelinfo-databox-label"},"match found")))}}]),t}(p.Component);y.propTypes={dim:b.default.object.isRequired,matchPercent:b.default.string},t.default=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1221),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(1222),y=n(b),w=i(1225),x=n(w),E=i(1220),_=n(E),A=i(47),C=i(14),S=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.showJoinPanel,n=e.leftTable,r=e.rightTable,a=e.joinInfoData,o=t.w/2-A.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2-A.DimConstant.JOINPANEL.JOININFO_DATABOX.lineLength-A.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter,s=t.w/2+A.DimConstant.JOINPANEL.JOININFO_DATABOX.diameter/2+A.DimConstant.JOINPANEL.JOININFO_DATABOX.lineLength,l=A.DimConstant.JOINPANEL.JOININFO_VIEW.h/2,u={
x:o,y:l,w:A.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter,h:A.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter},c={x:s,y:l,w:A.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter,h:A.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter},d={x:u.x+100,y:400},h={x:c.x-600,y:400},f=n.name,p=r.name;return g.default.createElement("div",{className:"join-panel-table-view",style:{position:"absolute",overflow:"hidden",top:t.y,left:t.x,width:t.w,height:t.h}},g.default.createElement(x.default,{location:"left",dim:u,table:n,tableName:f,defaultPos:d,showJoinPanel:i}),a.matchPercent?g.default.createElement("div",null,g.default.createElement(_.default,{key:"conn-left",location:"left",dim:t,matchPercent:a.lMatchPercent,rowCount:a.lRowCount}),g.default.createElement(y.default,{dim:t,matchPercent:a.matchPercent}),g.default.createElement(_.default,{key:"conn-right",location:"right",dim:t,matchPercent:a.rMatchPercent,rowCount:a.rRowCount})):null,g.default.createElement(x.default,{location:"right",dim:c,table:r,tableName:p,defaultPos:h,showJoinPanel:i}))}}]),t}(p.Component);S.propTypes={dim:m.default.object.isRequired,showJoinPanel:m.default.bool.isRequired,leftTable:m.default.object,rightTable:m.default.object,joinInfoData:m.default.object};var T=function(e){return{leftTable:e.joinPanelReducer.leftTable,rightTable:e.joinPanelReducer.rightTable,showJoinPanel:e.joinPanelReducer.showJoinPanel,joinInfoData:e.joinPanelReducer.joinInfoData}};t.default=(0,C.connect)(T,null)(S)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=n(b),w=i(47),x=i(248),E=i(377),_=n(E),A=i(150);i(1816);var C=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={loading:!0},i.springConfig={stiffness:200,damping:25},i.loadDelay=50,i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dim,i=e.defaultPos,n=e.tableName,r=(0,y.default)("joininfo-tablebox"),a=this.props.table.datasource?this.props.table.datasource.databaseType:-2,o=A.dataSouceColorPallette.getTableIconColor(a),s=A.dataSouceColorPallette.getTableBackgroundColor(a);return g.default.createElement(x.Motion,{defaultStyle:{x:i.x,y:i.y},style:{x:(0,x.spring)(t.x,this.springConfig),y:(0,x.spring)(t.y,this.springConfig),w:t.w,h:t.h}},function(e){var t=e.x,i=e.y,a=e.w,l=e.h;return g.default.createElement("div",{className:r,style:{position:"absolute",backgroundColor:s,zIndex:110,top:i,left:t,width:a,height:l,marginTop:-w.DimConstant.JOINPANEL.JOININFO_TABLEBOX.diameter/2}},g.default.createElement("div",{className:"join-panel-table-icon"},g.default.createElement("i",{className:"table-icon-font join-panel-table-icon-size",style:{color:o}},"")),g.default.createElement("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",textAlign:"center",marginTop:5}},g.default.createElement(_.default,{text:n,maxWidth:"140",className:"joinpanelinfo-databox-label"})))})}}]),t}(p.Component);C.propTypes={dim:m.default.object.isRequired,location:m.default.string.isRequired,defaultPos:m.default.object.isRequired,tableName:m.default.string,table:m.default.object},t.default=C},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1224),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1223),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v);i(1817);var b=i(1226),y=n(b),w=i(1235),x=n(w),E=i(1218),_=n(E),A=i(248),C=i(47),S=i(14),T=i(8),I=n(T),D=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.setDetailViewMin=function(e){i.setState({detailViewMin:e})},i.state={detailViewMin:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props.dim,i=t.h-C.DimConstant.JOINPANEL.JOININFO_VIEW.h-C.DimConstant.JOINPANEL.JOINRESULT_VIEW_TABLE.h-C.DimConstant.JOINPANEL.JOINRESULT_VIEW_TOOLBAR.h,n=C.DimConstant.JOINPANEL.JOINRESULT_VIEW_TABLE.h+C.DimConstant.JOINPANEL.JOINRESULT_VIEW_TOOLBAR.h,r=t.h-n;i<C.DimConstant.JOINPANEL.JOIN_VIEW.minH&&(i=C.DimConstant.JOINPANEL.JOIN_VIEW.minH,n=t.h-C.DimConstant.JOINPANEL.JOININFO_VIEW.h-i,r=t.h-n);var a=0===t.h?0:C.DimConstant.JOINPANEL.JOININFO_VIEW.h,o={x:0,y:0,w:t.w,h:a},s={x:0,y:C.DimConstant.JOINPANEL.JOININFO_VIEW.h,w:t.w,h:i},l={x:0,y:r,w:t.w,h:n};return g.default.createElement("div",{className:(0,I.default)(this.props.showJoinPanel?"":"hide")},g.default.createElement(A.Motion,{defaultStyle:{x:0,y:window.innerHeight},style:{x:(0,A.spring)(t.x),y:(0,A.spring)(t.y),w:(0,A.spring)(t.w),h:(0,A.spring)(t.h)}},function(i){var n=i.x,r=i.y,a=i.w,u=i.h;return g.default.createElement("div",{id:"join-panel",className:"mbde_container",style:{position:"absolute",top:r,left:n,width:a,height:u,zIndex:100}},g.default.createElement(y.default,{dim:o}),g.default.createElement(_.default,{joinPanelDim:t,dim:s,viewMinimized:e.state.detailViewMin}),g.default.createElement(x.default,{joinPanelDim:t,dim:l,setDetailViewMin:e.setDetailViewMin}))}))}}]),t}(p.Component);D.propTypes={dim:m.default.object.isRequired,showJoinPanel:m.default.bool};var O=function(e){return{showJoinPanel:e.joinPanelReducer.showJoinPanel}};t.default=(0,S.connect)(O,null)(D)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return new A.default(function(e,t){D.tableJoinManager.currentJoinEditMode=!1,D.tableJoinManager.currentJoinTgTable=null,D.tableJoinManager.currentJoinType="innerJoin";var i={joinMode:P.JOIN_MODE.NEW_JOIN};if(C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.OVERVIEW&&S.pipelineManager.pipelineVisual.graph){var n=S.pipelineManager.pipelineVisual.graph.getSelectedNodes();if(n&&2===n.length){var r=S.pipelineManager.pipelineVisual.graph.getNode(n[0]);D.tableJoinManager.currentJoinLeftNode=r;var a=S.pipelineManager.pipelineVisual.graph.getNode(n[1]);D.tableJoinManager.currentJoinRightNode=a,r&&a&&r.sessionId&&a.sessionId?o(i,n):i.exception={summary:"Internal Session Error",message:"Issue with selected table or session"}}else i.exception={summary:"Internal Session Error",message:"Join operation required two seleced tables"}}else if(C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.EDIT&&S.pipelineManager.pipelineVisual.pegraph){var s=S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes();if(s&&2===s.length){var l=S.pipelineManager.pipelineVisual.pegraph.getNode(s[0]);D.tableJoinManager.currentJoinLeftNode=l;var u=S.pipelineManager.pipelineVisual.pegraph.getNode(s[1]);if(D.tableJoinManager.currentJoinRightNode=u,l&&u&&l.sessionId&&u.sessionId)if(l.outedges.length>0||u.outedges.length>0){var c=l.outedges.length>0?l:u,d="Table "+c.name+" is used to derive "+c.outedges[0].tonode.name+" for "+c.outedges[0].tonode.tabletype+". Cannot be reused to derive another table.";i.exception={summary:"Invalid Join Operation",message:d}}else o(i,s);else i.exception={summary:"Internal Session Error",message:"Issue with selected table or session"}}else i.exception={summary:"Internal Session Error",message:"Join operation required two seleced tables"}}else i.exception={summary:"Internal Session Error",message:"Empty pipeline"};e(i)})}function o(e,t){if(e&&t){for(var i=function(i){var n=t[i],r=n.split(":")[1],a=(0,L.getAllState)().dpState.tableList.find(function(e){return e.id===r}),o=a.processedSelectedColumns?a.processedSelectedColumns:a.selectedColumns,s=[];for(var l in o){var u=o[l];s.push(u)}0===i?(e.leftTable=a,D.tableJoinManager.currentJoinLeftTable=a,e.leftTable.columns=s):1===i&&(e.rightTable=a,D.tableJoinManager.currentJoinRightTable=a,e.rightTable.columns=s)},n=0;n<t.length;n++)i(n);e.joinList=[{}],e.dtName=(0,V.getValidTableName)("Join"),e.joinType=D.tableJoinManager.currentJoinType}}function s(e){return new A.default(function(t,i){var n={joinMode:P.JOIN_MODE.EDIT_JOIN};if(S.pipelineManager.pipelineVisual.pegraph&&(D.tableJoinManager.currentJoinEditMode=!0,S.pipelineManager.pipelineVisual.pegraph.targetnode)){var r=S.pipelineManager.pipelineVisual.pegraph.targetnode,a=r.inedges;if(2===a.length)for(var o=0;o<2;o++){var s=a[o].fromnode,l=s.data,u=l.processedSelectedColumns?l.processedSelectedColumns:l.selectedColumns,c=[];for(var d in u){var h=u[d];c.push(h)}0===r.data.tablesOrder.indexOf(l.id)?D.tableJoinManager&&(n.leftTable=l,D.tableJoinManager.currentJoinLeftTable=l,D.tableJoinManager.currentJoinLeftNode=s,n.leftTable.columns=c):D.tableJoinManager&&(n.rightTable=l,D.tableJoinManager.currentJoinRightTable=l,D.tableJoinManager.currentJoinRightNode=s,n.rightTable.columns=c)}D.tableJoinManager.currentJoinTgTable=r.data;var f=D.tableJoinManager.currentJoinTgTable.joinConditions,p=D.tableJoinManager.currentJoinTgTable.joinType,g=[];f.forEach(function(e){var t={};t.leftCol=e.leftColumnId,t.rightCol=e.rightColumnId,t.matchPercent=e.matchPercent?(0,N.toFixed)(e.matchPercent,0):"",t.existing=!0,g.push(t)}),n.joinList=g,n.dtName=r.name,n.joinType=p,D.tableJoinManager.currentJoinType=p,n.derivedTableId=e,n.joinInfoData={lGroups:[],rGroups:[]},g.forEach(function(e){n.joinInfoData.lGroups.push({columnId:e.leftCol}),n.joinInfoData.rGroups.push({columnId:e.rightCol})})}t(n)})}function l(e,t,i,n){i&&0===(0,E.default)(i).length?e.forEach(function(e){e.requiredData=!0}):e&&"REMOVE"!==n&&e[t]&&(e[t].requiredData=!0)}function u(e){e&&e.forEach(function(e){e.requiredData=!1})}function c(e,t,i,n,r){function a(){return new A.default(function(i,n){var r={};r.lGroups=[],r.rGroups=[],s().then(function(n){e.forEach(function(e,i){if(e.leftCol&&e.rightCol)if(e.requiredData){var a=o(n,e.leftCol,e.rightCol);r.lGroups[i]=a.lGroup,r.rGroups[i]=a.rGroup}else{var s=o(t,e.leftCol,e.rightCol);r.lGroups[i]=s.lGroup,r.rGroups[i]=s.rGroup}else if(e.leftCol){for(var l=0;l<t.lGroups.length;l++)if(e.leftCol===t.lGroups[l].columnId){r.lGroups[i]=t.lGroups[l],r.rGroups[i]={};break}}else if(e.rightCol){for(var u=0;u<t.rGroups.length;u++)if(e.rightCol===t.rGroups[u].columnId){r.lGroups[i]={},r.rGroups[i]=t.rGroups[u];break}}else r.lGroups[i]={},r.rGroups[i]={}}),r.lGroups=r.lGroups.concat(),r.rGroups=r.rGroups.concat(),g(n,r),u(e),i(r)},function(e){n(e)})})}function o(e,t,i){var n={lGroup:null,rGroup:null};if(e&&e.lGroups&&e.rGroups)for(var r=0;r<e.lGroups.length;r++)if(e.lGroups[r].columnId===t&&e.rGroups[r].columnId===i)return{lGroup:e.lGroups[r],rGroup:e.rGroups[r]};return n}function s(){return new A.default(function(t,i){var n={};(0,k.previewJoinData)(e),!f(e)&&D.tableJoinManager.currentJoinLeftTable&&D.tableJoinManager.currentJoinRightTable?I.previewJoinInfoSummary(C.workspaceManager.initialWorkspaceId,D.tableJoinManager.currentJoinType,D.tableJoinManager.currentJoinLeftTable.id,D.tableJoinManager.currentJoinRightTable.id,e).then(function(r){if(r&&r.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE){var a=r.joinInfoSummary;a&&(n.lMatchPercent=(0,N.toFixed)(100*a.leftTable.matchRatio,1),n.lRowCount=a.leftTable.sampleRowCount,n.matchPercent=(0,N.toFixed)(100*a.matchRatio,0),n.rMatchPercent=(0,N.toFixed)(100*a.rightTable.matchRatio,1),n.rRowCount=a.rightTable.sampleRowCount);var o=r.joinColumnInfos;o&&o.length>0&&(n.lGroups=[],n.rGroups=[],d(n,o,e)),t(n)}else r&&"delayedResponse"===r.status||i("Error: Error in getting join preview info")}).catch(function(e){return i(e)}):t(n)})}function c(t,i){return new A.default(function(n,r){var a={};D.tableJoinManager.currentJoinLeftTable&&D.tableJoinManager.currentJoinRightTable?I.previewColumnData(C.workspaceManager.initialWorkspaceId,"innerJoin","LEFT"===i?D.tableJoinManager.currentJoinLeftTable.id:D.tableJoinManager.currentJoinRightTable.id,t).then(function(t){if(t&&t.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE){var i=t.joinColumnInfos;i&&i.length>0&&(a.lGroups=[],a.rGroups=[],d(a,i,e)),n(a)}else t&&"delayedResponse"===t.status||r("Error: Error in getting join preview info")}).catch(function(e){return r(e)}):n(a)})}function d(e,t,i){t.forEach(function(t){t.leftTable&&e.lGroups.push(h(t.leftTable)),t.rightTable&&e.rGroups.push(h(t.rightTable)),t.leftTable.columnId&&t.rightTable.columnId&&i.forEach(function(e){e.leftCol===t.leftTable.columnId&&e.rightCol===t.rightTable.columnId&&(e.matchPercent=(0,N.toFixed)(100*t.matchRatio,0))})})}function h(e){var t={data:[]};if(e.elements){var i=e.elements;if(Array.isArray(i.element)&&Array.isArray(i.count)&&Array.isArray(i.isMismatch))for(var n=Math.min(i.element.length,i.isMismatch.length,i.count.length),r=0;r<n;r++){var a={};a=null!=i.element[r]?{key:i.element[r],value:i.count[r],isMismatch:i.isMismatch[r]}:{key:"null",value:i.count[r],isMismatch:i.isMismatch[r]},t.data.push(a)}t.data.sort(function(e,t){return t.count-e.count})}return t.columnId=e.columnId,t}function f(e){var t=!0;return e.forEach(function(e){e.leftCol&&e.rightCol&&(t=!1)}),t}if(r&&(D.tableJoinManager.currentJoinType=r),l(e,n,t,i),"REMOVE"===i&&e[n]){var p=e[n];return e.splice(n,1),0===e.length&&e.push({}),p.leftCol&&p.rightCol?a():new A.default(function(e,i){var r=JSON.parse((0,w.default)(t));r.lGroups.splice(n,1),r.rGroups.splice(n,1),e(r)})}if("EDIT"===i&&e[n]){var v=e[n];if(v.leftCol&&v.rightCol)return a();if(v.leftCol)return new A.default(function(e,i){c(v.leftCol,"LEFT").then(function(i){var r=JSON.parse((0,w.default)(t));r.lGroups[n]=i.lGroups[0],r.rGroups[n]={},e(r)},function(e){i(e)})});if(v.rightCol)return new A.default(function(e,i){c(v.rightCol,"RIGHT").then(function(i){var r=JSON.parse((0,w.default)(t));r.rGroups[n]=i.lGroups[0],r.lGroups[n]={},e(r)},function(e){i(e)})})}else if("ADD"===i&&e[n]){var m=e[n];if(m&&m.leftCol&&m.rightCol)return a()}}function d(e,t,i){return new A.default(function(n,r){try{if(D.tableJoinManager.currentJoinLeftTable&&D.tableJoinManager.currentJoinRightTable){var a=D.tableJoinManager.currentJoinLeftTable.id,o=D.tableJoinManager.currentJoinRightTable.id,s=D.tableJoinManager.currentJoinType,l=[];if(e.forEach(function(e){if(e.leftCol&&e.rightCol){var t={};t.lColumnId=e.leftCol,t.rColumnId=e.rightCol,l.push(t)}}),a&&o&&l.length>0&&s&&D.tableJoinManager.currentJoinLeftNode&&D.tableJoinManager.currentJoinRightNode)if(D.tableJoinManager.currentJoinEditMode===!0){var u=[D.tableJoinManager.currentJoinLeftNode.id,D.tableJoinManager.currentJoinRightNode.id],c=D.tableJoinManager.currentJoinLeftTable.columns.length>=D.tableJoinManager.currentJoinRightTable.columns.length?D.tableJoinManager.currentJoinLeftNode.sessionId:D.tableJoinManager.currentJoinRightNode.sessionId,d=D.tableJoinManager.currentJoinTgTable,p={initialWorkspaceId:C.workspaceManager.initialWorkspaceId,targetPipelineId:c,leftTableId:a,rightTableId:o,joinColumnList:l,joinType:s,nodeids:u,tgId:D.tableJoinManager.currentJoinTgTable.id,tableinfo:d,joinList:e};D.tableJoinManager.currentJoinTgTable&&D.tableJoinManager.currentJoinTgTable.name!==t?(0,O.renameDerivedTable)(D.tableJoinManager.currentJoinTgTable.id,C.workspaceManager.initialWorkspaceId,c,t).then(function(){return f(p,i).then(function(){return n()}).catch(function(e){return r(e)})}).catch(function(e){return r(e)}):f(p,i).then(function(){return n()}).catch(function(e){return r(e)})}else{var g=D.tableJoinManager.currentJoinLeftTable.columns.length>=D.tableJoinManager.currentJoinRightTable.columns.length?D.tableJoinManager.currentJoinLeftNode.sessionId:D.tableJoinManager.currentJoinRightNode.sessionId;(0,O.joinTables)(C.workspaceManager.initialWorkspaceId,g,[a,o],[D.tableJoinManager.currentJoinLeftNode.id,D.tableJoinManager.currentJoinRightNode.id],t).then(function(t){if(t&&t.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE){var u=[D.tableJoinManager.currentJoinLeftNode.id,D.tableJoinManager.currentJoinRightNode.id],c={initialWorkspaceId:C.workspaceManager.initialWorkspaceId,targetpipelineId:g,leftTableId:a,rightTableId:o,joinColumnList:l,joinType:s,nodeids:u,tableId:t.tableGroup.id,tableinfo:t.tableGroup,joinList:e};h(c,i).then(function(){return n()}).catch(function(e){return r(e)})}else console.log(t),r(P.JOIN_EXCEPTION.SUMMARY)})}}}catch(e){r(e)}})}function h(e,t){return new A.default(function(i,n){e&&t?(C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.OVERVIEW&&S.pipelineManager.pipelineVisual.graph&&S.pipelineManager.pipelineVisual.graph.setNodesInProgress(e.nodeids,!0),(0,O.addJoinOperation)(e.initialWorkspaceId,e.targetpipelineId,e.leftTableId,e.rightTableId,e.joinColumnList,e.joinType,e.nodeids,e.tableId,e.tableinfo).then(function(t){if(t&&t.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE){var r=t.tableGroup,a=r.joinConditions;if(p(a,e.joinList),C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.OVERVIEW&&S.pipelineManager.pipelineVisual.graph){var o=S.pipelineManager.getNewPipelineName(e.targetpipelineId,e.nodeids);(0,M.editPipeline)(C.workspaceManager.initialWorkspaceId,e.targetpipelineId,o).then(function(t){t&&t.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE&&S.pipelineManager.mergePipelines(e.targetpipelineId,e.nodeids,r,o)})}else C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.EDIT&&S.pipelineManager.pipelineVisual.pegraph&&S.pipelineManager.addDerivedTable(r.id,e.nodeids,e.joinType,r,S.pipelineManager.selectedPipelineId,r.name);i()}else console.log((0,w.default)(t)),C.workspaceManager.currentWorkspaceMode===B.WORKSPACE_MODE.OVERVIEW&&S.pipelineManager.pipelineVisual.graph&&S.pipelineManager.pipelineVisual.graph.setNodesInProgress(e.nodeids,!1),n(P.JOIN_EXCEPTION.SUMMARY)}).catch(function(e){n(P.JOIN_EXCEPTION.SUMMARY)})):n(P.JOIN_EXCEPTION.SUMMARY)})}function f(e,t){return new A.default(function(i,n){e&&t?(0,O.addJoinOperation)(e.initialWorkspaceId,e.targetPipelineId,e.leftTableId,e.rightTableId,e.joinColumnList,e.joinType,e.nodeids,e.tgId,e.tableinfo).then(function(r){if(r&&r.status===F.SERVICE_RESPONSE_TYPE_IMMEDIATE){var a=r.tableGroup;if(a){var o=a.joinConditions;p(o,e.joinList);var s=a.joinType;if(S.pipelineManager.pipelineVisual.pegraph&&e.tableinfo){var l=e.targetPipelineId+":"+r.tableGroup.id,u=S.pipelineManager.pipelineVisual.pegraph.getNode(l);u.data=a,u.updateIcon(s),u.setTitle(u.data.name),t((0,H.updatePreviewTableId)()),C.workspaceManager.removeCacheRecursively((0,L.getAllState)(),a.id),t((0,H.updateTableList)({type:"UPDATE",tableInfo:a})),a.pipelineId=e.targetPipelineId,t((0,H.updatePreviewTableId)(a.id))}else n(P.JOIN_EXCEPTION.SUMMARY)}i()}else n(P.JOIN_EXCEPTION.SUMMARY)}).catch(function(e){n(P.JOIN_EXCEPTION.SUMMARY)}):n(P.JOIN_EXCEPTION.SUMMARY)})}function p(e,t){e.forEach(function(e){t.every(function(t){return t.leftCol!==e.leftColumnId||t.rightCol!==e.rightColumnId||(e.matchPercent=t.matchPercent,!1)})})}function g(e,t){t.lMatchPercent=e.lMatchPercent,t.lRowCount=e.lRowCount,t.matchPercent=e.matchPercent,t.rMatchPercent=e.rMatchPercent,t.rRowCount=e.rRowCount}function v(e,t,i,n,r){var a=JSON.parse((0,w.default)(t));if(r&&a)a.lGroups.forEach(function(e){delete e.data}),a.rGroups.forEach(function(e){delete e.data});else{var o=e[n];"EDIT"===i&&o?o.leftCol&&o.rightCol?a.lGroups[n]&&a.rGroups[n]&&(a.lGroups[n]={columnId:o.leftCol},a.rGroups[n]={columnId:o.rightCol}):(o.leftCol||o.rightCol)&&(o.leftCol&&(a.lGroups[n]={columnId:o.leftCol}),o.rightCol&&(a.rGroups[n]={columnId:o.rightCol})):"ADD"!==i&&"REMOVE"!==i||!e[n]||o&&Array.isArray(a.lGroups)&&Array.isArray(a.rGroups)&&(a.lGroups[n]={columnId:o.leftCol},a.rGroups[n]={columnId:o.rightCol})}return a}function m(e){var t=JSON.parse((0,w.default)(e));return t&&t.lGroups&&t.lGroups.forEach(function(e){!e.data&&(e.data=[])}),t&&t.rGroups&&t.rGroups.forEach(function(e){!e.data&&(e.data=[])}),t}function b(e){var t=!1;if(D.tableJoinManager&&D.tableJoinManager.currentJoinTgTable&&D.tableJoinManager.currentJoinTgTable.joinConditions){var i=D.tableJoinManager.currentJoinTgTable.joinConditions,n=[];e.forEach(function(e){e.leftCol&&e.rightCol?n.push(e):null}),t=n.some(function(e){return!i.some(function(t){return e.leftCol===t.leftColumnId&&e.rightCol===t.rightColumnId})}),t=t===!1&&n.length>0&&i.length!==n.length||t}return t}Object.defineProperty(t,"__esModule",{value:!0});var y=i(53),w=r(y),x=i(28),E=r(x),_=i(155),A=r(_);t.getJoinContext=a,t.getEditJoinContext=s,t.getJoinInfo=c,t.applyJoin=d,t.getInterimJoinInfoData=v,t.getOnExceptionJoinInfo=m,t.isJoinEdited=b;var C=i(20),S=i(85),T=i(1325),I=n(T),D=i(369),O=i(131),M=i(133),k=i(548),N=i(187),P=i(47),L=i(29),R=i(87),F=n(R),j=i(184),B=n(j),H=i(52),V=i(52);i(224)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){return new s.default(function(e,t){d.tableJoinManager&&d.tableJoinManager.currentJoinLeftTable&&d.tableJoinManager.currentJoinRightTable&&d.tableJoinManager.currentJoinLeftNode&&u.suggestJoins(d.tableJoinManager.currentJoinLeftNode.sessionId,c.workspaceManager.initialWorkspaceId,[d.tableJoinManager.currentJoinLeftTable.id,d.tableJoinManager.currentJoinRightTable.id]).then(function(t){var i=t.recommendations;if(Array.isArray(i)&&i.length>0){var n=i.map(function(e){return{leftCol:e.leftColumnId,rightCol:e.rightColumnId,matchPercent:(0,h.toFixed)(100*e.matchRatio,0)}});e(n)}else e([])}).catch(function(t){e([])})})}Object.defineProperty(t,"__esModule",{value:!0});var o=i(155),s=r(o);t.getJoinRecommendations=a;var l=i(1327),u=n(l),c=i(20),d=i(369),h=i(187)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.toggleResultTableView=i.toggleResultTableView.bind(i),i.state={resultTableMinimize:!0},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleResultTableView",value:function(){this.setState({resultTableMinimize:!this.state.resultTableMinimize}),this.props.toggleResultTableView()}},{key:"render",value:function(){var e=this.props.dim;return g.default.createElement("div",{className:"join-panel-join-result-header",style:{position:"absolute",top:e.y,left:e.x,width:e.w,height:e.h}},g.default.createElement("span",{style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)"}}," JOIN RESULT PREVIEW "),g.default.createElement("span",{onClick:this.toggleResultTableView,className:"join-panel-result-tblink",style:{position:"absolute",right:14,top:"50%",transform:"translateY(-50%)"}},this.state.resultTableMinimize===!0?"Maximize":"Minimize"))}}]),t}(p.Component);b.propTypes={dim:m.default.object.isRequired,toggleResultTableView:m.default.func.isRequired},t.default=b},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1230),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(115),x=i(248),E=i(187),_=i(568),A=i(47),C=i(116),S=i(186),T=i(26),I=n(T),D=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.updateDataGrid=function(e,t,n){i.setTableData((0,a.default)({},i.joinData,{data:e,header:t,eventType:n}))},i.setTableData=function(e){i.joinData=e,i.refreshJoinTablePreview(e)},i.springConfig={stiffness:210,damping:20},i.DATA_GRID_ID="joinTableDataView",i.JOIN_DATA_PANEL="dpJoinTablePreview",i.DATA_GRID_STATUS="joinTableDataStatus",i.columMetadata=i.getTableMetadata(i.props.joinData),i.joinData=i.props.joinData,i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"getTableMetadata",value:function(e){var t={};return e&&e.header&&e.header.forEach(function(e){t[e.id]=e.width}),t}},{key:"componentDidMount",value:function(){this.loadPreviewComponent(),this.props.joinData&&(this.joinData=this.props.joinData,this.recreateGridWithFacet(this.joinData))}},{key:"componentWillReceiveProps",value:function(e){e&&(this.props.dim.h!==e.h&&(this.ui.define("height",e.h),this.ui.resize()),e&&e.joinData&&(this.gridStatus.setHTML("Total rows: "+e.joinData.data.length),this.props.joinData!==e.joinData&&e.joinData.eventType===A.joinDataEvent.PREVIEW&&this.recreateGridWithFacet(e.joinData)))}},{key:"recreateGridWithFacet",value:function(e){if(this.refreshJoinTablePreview(e),e.header&&e.data){var t=void 0;this.fb&&(t=this.fb.getFacetConfigs(),this.fb.dispose()),this.fb=(0,_.facetBuilder)({columns:e.header,data:e.data,callback:this.updateDataGrid,oldFacetConfigs:t}),this.renderFacets()}}},{key:"fixTableData",value:function(e){var t=(0,E.encodeGridData)(e);return t=(0,E.resolveWebixIdForGrid)(t)}},{key:"refreshJoinTablePreview",value:function(e){var t=this,i={};if(e.header&&e.header.length>0){var n=this.grid.getScrollState();i=this.fixTableData(e),this.joinDataPanel.show(),this.grid.clearAll(!0),i.header&&i.header.forEach(function(e){t.columMetadata[e.id]&&(e.width=t.columMetadata[e.id])}),this.grid.refreshColumns(i.header),"onFilter"===e.eventType&&(this.grid.scrollTo(n.x>0?n.x+1:0,0),this.grid.scrollTo(n.x>0?n.x-1:0,0)),i.data&&i.data.length>=0&&(this.grid.parse(i.data,"json"),this.gridStatus.setHTML("Total rows: "+i.data.length)),this.gridStatus.show()}else this.grid.clearAll(),this.joinDataPanel.hide();return i}},{key:"componentWillUnmount",value:function(){this.ui.destructor(),this.ui=null}},{key:"isValidTableGrid",value:function(e){return e&&e.header&&e.header.length>0}},{key:"render",value:function(){var e=this,t=this.props,i=t.dim,n=t.joinData;return m.default.createElement(x.Motion,{style:{x:(0,x.spring)(i.x),y:(0,x.spring)(0,this.springConfig),w:(0,x.spring)(i.w),h:(0,x.spring)(i.h,this.springConfig)}},function(t){var i=t.x,r=t.y,a=t.w,o=t.h;return m.default.createElement("div",{ref:function(t){e._node=t},className:"join-panel-join-result-table",style:{position:"absolute",top:r,left:i,width:a,height:o}},e.isValidTableGrid(n)?null:m.default.createElement("div",null,m.default.createElement("div",{className:"joinpanel-icon-src join-icon joinpanel-item-aling-center"}),m.default.createElement("div",{className:"joinpanel-item-aling-center joinpanel-view-title",style:{marginTop:40}},"Add columns to create a new join")))})}},{key:"loadPreviewComponent",value:function(e){var t=this;w.webix.ui.datafilter.joinFacetContainer={refresh:function(e,i,n){var r=(0,I.default)(i).find(".join-facet-container")[0],a=(0,I.default)(r).attr("id");t.fb&&t.fb.updateContainer(a,r)},render:function(e,t){return(0,I.default)("<div>",{id:t.elId,class:"join-facet-container"}).get(0).outerHTML}},this.ui=w.webix.ui(this.getComponentDefinition(this,e));this.joinDataPanel=(0,w.$$)(this.JOIN_DATA_PANEL),this.grid=(0,w.$$)(this.DATA_GRID_ID),this.gridStatus=(0,w.$$)(this.DATA_GRID_STATUS),this.grid.attachEvent("onColumnResize",function(e,i,n,r){if(r){var a=t.grid.config.customMinColumnWidth;a&&i<a&&(t.grid.setColumnWidth(e,a),i=a),t.columMetadata[e]&&(t.columMetadata[e]=i),clearTimeout(t.timer),t.timer=setTimeout(function(){return t.renderFacets()},10)}}),this.grid.attachEvent("onAfterScroll",function(){clearTimeout(t.timer),t.timer=setTimeout(function(){return t.renderFacets()},150)})}},{key:"renderFacets",value:function(){var e=this;if(this.fb&&this.grid&&this.props.dim){var t=[];this.grid.eachColumn(function(i){t[e.grid.getColumnIndex(i)]={colId:e.grid.getColumnConfig(i).originalId,width:e.grid.getColumnConfig(i).width}}),(0,C.renderVisibleFacets)(this.fb,{gridColumns:t,posX:this.grid.getScrollState().x||0,gridWidth:this.props.dim.w||0})}}},{key:"getComponentDefinition",value:function(e){return{id:this.JOIN_DATA_PANEL,hidden:!0,rows:[{view:"datatable",customMinColumnWidth:S.gridColumnWidth,id:this.DATA_GRID_ID,resizeColumn:!0,scroll:"xy",css:"dwWindowTable",scrollAlignY:!1},{view:"template",id:this.DATA_GRID_STATUS,height:20,template:"",borderless:!1,css:"mbde_datagrid_status webix_header"}],container:e._node}}}]),t}(v.Component);D.propTypes={dim:y.default.object,joinData:y.default.object},t.default=D},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1232),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(47),y=i(1231),w=n(y),x=i(1233),E=n(x),_=i(248),A=i(571),C=n(A),S=i(14),T=(0,C.default)(E.default,function(e){return!e.joinData.loading},function(e){return e.joinData.offline}),I=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.toggleResultTableView=i.toggleResultTableView.bind(i),i.state={resultTableMinimize:!0,joinData:{header:[],data:[],loading:!1,offline:!1}},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleResultTableView",value:function(){this.setState({resultTableMinimize:!this.state.resultTableMinimize}),this.props.setDetailViewMin(this.state.resultTableMinimize)}},{key:"componentDidMount",value:function(){var e=this;b.joinDataSubject.subscribe(function(t){e.setState({joinData:t})})}},{key:"componentWillReceiveProps",value:function(e){this.props.showJoinPanel!==e.showJoinPanel&&e.showJoinPanel===!1&&this.setState({joinData:{header:[],data:[],loading:!1,offline:!1,eventType:b.joinDataEvent.PREVIEW}})}},{key:"render",value:function(){var e=this,t=this.props,i=t.joinPanelDim,n=t.dim,r=(t.showJoinPanel,void 0),a=void 0;this.state.resultTableMinimize===!0?(r=n.h,a=n.y):(r=i.h-b.DimConstant.JOINPANEL.JOININFO_VIEW.h,a=i.h-r);var o={x:n.x,y:a,w:n.w,h:r},s={x:0,y:0,w:n.w,h:b.DimConstant.JOINPANEL.JOINRESULT_VIEW_TOOLBAR.h},l={x:0,y:s.h,w:n.w,h:o.h-s.h};return g.default.createElement(_.Motion,{style:{x:(0,_.spring)(o.x),y:(0,_.spring)(o.y),w:(0,_.spring)(o.w),h:(0,_.spring)(o.h)}},function(t){var i=t.x,n=t.y,r=t.w,a=t.h;return g.default.createElement("div",{className:"join-panel-join-result-table",style:{position:"absolute",top:n,left:i,width:r,height:a}},g.default.createElement(w.default,{dim:s,toggleResultTableView:e.toggleResultTableView}),g.default.createElement("div",{style:{position:"absolute",top:l.y,left:l.x,width:l.w,height:l.h}},g.default.createElement(T,{dim:l,joinData:e.state.joinData,spinnerText:"Loading Data...",offlineText:"Data Loading Failed"})))})}}]),t}(p.Component);I.propTypes={dim:m.default.object.isRequired,joinPanelDim:m.default.object.isRequired,setDetailViewMin:m.default.func.isRequired};var D=function(e){return{showJoinPanel:e.joinPanelReducer.showJoinPanel}};t.default=(0,S.connect)(D,null)(I)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1234),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1227),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};
switch(t.type){case u.FETCH_JOIN_RECOMMENDATIONS:return(0,s.default)({},e,{recData:t.recData,recLoading:!1});case u.LOAD_JOIN_CONTEXT:return(0,s.default)({},e,{leftTable:t.joinContext.leftTable,rightTable:t.joinContext.rightTable,joinList:t.joinContext.joinList,derivedTableName:{currentVal:t.joinContext.dtName,newVal:t.joinContext.dtName},joinType:{currentVal:t.joinContext.joinType,newVal:t.joinContext.joinType},joinMode:t.joinContext.joinMode,joinEdited:!1,derivedTableId:t.joinContext.derivedTableId});case u.TOGGLE_JOIN_PANEL:return(0,s.default)({},e,{showJoinPanel:!e.showJoinPanel});case u.LOAD_JOIN_INFO_PREVIEW:return e.showJoinPanel?(0,s.default)({},e,{joinInfoData:t.joinInfoData}):(0,s.default)({},e,{joinInfoData:{lGroups:[],rGroups:[]}});case u.RESET_JOIN_PANEL:return(0,s.default)({},e,{recData:[],leftTable:{},rightTable:{},joinList:[{}],joinInfoData:{lGroups:[],rGroups:[]},recLoading:!0,derivedTableName:{currentVal:"",newVal:""},joinType:{currentVal:"",newVal:""},quickViewId:-1,joinMode:c.JOIN_MODE.NEW_JOIN,joinEdited:!1,joinInProgress:!1});case u.SET_DERIVED_TAB_NAME:return(0,s.default)({},e,{derivedTableName:{currentVal:e.derivedTableName.currentVal,newVal:t.tabName}});case u.JOIN_OPERATION_COMPLETED:return(0,s.default)({},e,{joinList:t.joinList});case u.EDIT_JOIN_TYPE:return(0,s.default)({},e,{joinType:{currentVal:e.joinType.currentVal,newVal:t.joinType}});case u.QUICK_VIEW_JOIN:return(0,s.default)({},e,{quickViewId:t.joinId});case u.JOIN_OPERATION_EDITED:return(0,s.default)({},e,{joinEdited:t.joinEdited});case u.JOIN_CONDITION_UPDATED:return(0,s.default)({},e,{joinList:t.joinList});case u.SET_JOIN_PROGRESS:return(0,s.default)({},e,{joinInProgress:!0});case u.UNSET_JOIN_PROGRESS:return(0,s.default)({},e,{joinInProgress:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=r(o);t.default=a;var l=i(547),u=n(l),c=i(47),d={showJoinPanel:!1,recLoading:!0,recData:[],leftTable:{},rightTable:{},joinList:[{}],joinInfoData:{lGroups:[],rGroups:[]},derivedTableName:{currentVal:"",newVal:""},joinType:{currentVal:"",newVal:""},quickViewId:-1,joinMode:c.JOIN_MODE.NEW_JOIN,joinEdited:!1,joinInProgress:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFilteredRecommendations=t.selectAllJoins=t.selectAllRecommendations=void 0;var n=i(82),r=t.selectAllRecommendations=function(e){return e.joinPanelReducer.recData},a=t.selectAllJoins=function(e){return e.joinPanelReducer.joinList};t.selectFilteredRecommendations=(0,n.createSelector)(r,a,function(e,t){var i=e.filter(function(e){if(e.flag=0,t.forEach(function(t){e.leftCol===t.leftCol&&e.rightCol===t.rightCol&&(e.flag=1)}),0===e.flag)return e});return i})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v);i(1819);var b=i(8),y=n(b),w=i(48),x=function(e){function t(e,i){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e,i));return n.onClick=n.onClick.bind(n),n.inputElement={},n}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onClick",value:function(e){e.stopPropagation(),this.inputElement.click()}},{key:"render",value:function(){var e=this,t=this.props,i=t.datasourceType,n=t.datasourceTypeName,r=t.onSelect,a=t.selected,o=(0,y.default)("dp-icon","datasource","ds-"+i),s=(0,y.default)("dropdown-item-row",{"bottom-border-all":i===w.DBTYPES.ALL.v});return g.default.createElement("div",{ref:function(t){e.inputElement=t},className:(0,y.default)(s,{selected:a}),onClick:function(){return r(i)}},g.default.createElement("div",{className:"dp-image-container"},g.default.createElement("div",{className:o,onClick:this.onClick})),g.default.createElement("div",{className:"connection-div",title:n,onClick:this.onClick},g.default.createElement("div",{className:"connection-name"},n)))}}]),t}(p.Component);x.propTypes={onSelect:m.default.func.isRequired,datasourceType:m.default.number.isRequired,datasourceTypeName:m.default.string.isRequired,selected:m.default.bool},t.default=x},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{dropdownItemList:(0,S.selectAllDataSourceTypes)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(14);i(1820);var b=i(1239),y=n(b),w=i(8),x=n(w),E=i(894),_=n(E),A=i(5),C=n(A),S=i(128),T=i(268),I=(i(48),function(e){function t(){var e,i,n,r;(0,l.default)(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return i=n=(0,h.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.handleClickOutside=function(e){},r=i,(0,h.default)(n,r)}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dropdownItemList,i=e.showDropDown,n=e.onSelect,r=e.selectedType,a=-1;return v.default.createElement("div",{className:(0,x.default)({"dropdownlist-div":!0,show:i})},[{v:a,n:"All"}].concat(t).map(function(e){return v.default.createElement(y.default,{key:e.v,datasourceType:e.v,datasourceTypeName:e.n,onSelect:n,selected:(r||a)===e.v})}))}}]),t}(g.Component));I.propTypes={showDropDown:C.default.bool.isRequired,dropdownItemList:C.default.array.isRequired,onSelect:C.default.func.isRequired,collapseDsTypesdropdown:C.default.func.isRequired,selectedType:C.default.number},t.default=(0,m.connect)(r,{collapseDsTypesdropdown:T.collapseDsTypesdropdown})((0,_.default)(I))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{currentDataSourceType:(0,A.selectAllDatasourcesFilter)(e).dstp,expandDs:(0,A.selectAllDatasourcesFilter)(e).dpOpen,searchPattern:(0,A.selectAllDatasourcesFilter)(e).searchPattern}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(8),b=n(m),y=i(14),w=i(5),x=n(w);i(1821);var E=i(1240),_=n(E),A=(i(48),i(128)),C=i(268),S=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.onClick=i.onClick.bind(i),i.onSelect=i.onSelect.bind(i),i.onSearchChange=i.onSearchChange.bind(i),i.setSearchPattern=i.setSearchPattern.bind(i),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"onClick",value:function(e){this.props.expandDs?this.props.collapseDsTypesdropdown():this.props.expandDsTypesdropdown()}},{key:"onSelect",value:function(e){this.props.collapseDsTypesdropdown(),this.props.setCurrentDataSourceType(e)}},{key:"onSearchChange",value:function(e){this.setSearchPattern(e.target.value)}},{key:"setSearchPattern",value:function(e){this.props.setAllDataSourceSearchPattern(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.expandDs,n=t.currentDataSourceType,r=t.searchPattern,a=(0,b.default)("tablepanel-filter-box-section1","datasource","ds-"+n),o=(0,b.default)("tablepanel-filter-box-section2","filterbox-caret-dropdown","ignore-react-onclickoutside",{rotate:i});return v.default.createElement("div",{className:"tablepanel-filter-box-wrapper"},v.default.createElement("div",{className:"tablepanel-filter-box"},n===-1?v.default.createElement("div",{className:"tablepanel-filter-box-section1 ds-dp-all-text"},"All"):v.default.createElement("div",{className:a}),v.default.createElement("div",{className:o,onClick:this.onClick}),v.default.createElement("div",{className:"tablepanel-filter-box-section3"},v.default.createElement("input",{className:"table-search-input-style",value:r,type:"text",onChange:this.onSearchChange,onKeyUp:this.onSubmit}),v.default.createElement("div",{className:(0,b.default)("search",{clear:!!r}),onClick:function(){return e.setSearchPattern("")}}))),v.default.createElement(_.default,{onSelect:this.onSelect,selectedType:n,showDropDown:i}))}}]),t}(g.Component);S.propTypes={currentDataSourceType:x.default.number,expandDs:x.default.bool.isRequired,setCurrentDataSourceType:x.default.func.isRequired,setAllDataSourceSearchPattern:x.default.func.isRequired,collapseDsTypesdropdown:x.default.func.isRequired,expandDsTypesdropdown:x.default.func.isRequired,searchPattern:x.default.string},t.default=(0,y.connect)(r,{setAllDataSourceSearchPattern:C.setAllDataSourceSearchPattern,setCurrentDataSourceType:C.setCurrentDataSourceType,collapseDsTypesdropdown:C.collapseDsTypesdropdown,expandDsTypesdropdown:C.expandDsTypesdropdown})(S)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(326),y=n(b),w=i(551),x=n(w);i(1822);var E=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.datasources,i=e.hilightedWord;return g.default.createElement("div",{className:"all-datasource-list"},g.default.createElement(y.default,{length:t.length,itemRenderer:function(e,n){var r=t[e],a=r.n;if(i){var o=a.toUpperCase().indexOf(i.toUpperCase());a=g.default.createElement("div",{className:"name"},a.substring(0,o),g.default.createElement("span",{className:"keyword"},a.substring(o,o+i.length)),a.substring(o+i.length))}return g.default.createElement(x.default,{rowStyle:"datasource-row inactive",key:r.did,tooltip:r.n,connectionName:a,datasourceType:r.dbtp,dbrId:r.did})},type:"simple"}))}}]),t}(p.Component);t.default=E,E.propTypes={datasources:m.default.array,hilightedWord:m.default.string}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(16),y=i(14),w=i(226),x=n(w),E=i(129),_=n(E),A=i(1242),C=n(A),S=i(132),T=n(S),I=i(268),D=i(128),O=i(1241),M=n(O),k=i(38);i(1823);var N=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={dbRoleFetched:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.fetchAllDataSourceListRequest,n=t.fetchAllDataSourceListSUCCESS;i(),T.default.getDBRoles().then(function(t){n(t.dbRoles),e.setState({dbRoleFetched:!0})}).catch(function(){e.setState({dbRoleFetched:!0})})}},{key:"render",value:function(){var e=this,t=this.props,i=t.filteredDatasources,n=t.allDatasources,r=t.filter,a=g.default.createElement("div",{className:"datasource-list-container"},g.default.createElement(M.default,null),g.default.createElement("div",{className:"info"},i.length," databases"),g.default.createElement(C.default,{datasources:i,hilightedWord:r.searchPattern})),o=g.default.createElement("div",{className:"datasource-list-container"},g.default.createElement(x.default.EmptyContent,{title:"Nothing here...",text:"You can still add data source or tables from Data Import.",actions:g.default.createElement(_.default,{type:"secondary",onClick:function(){return e.props.openDI()}},"Add Data")}));return n.length||!this.state.dbRoleFetched?a:o}}]),t}(p.Component);N.propTypes={filteredDatasources:m.default.array,allDatasources:m.default.array,filter:m.default.object,fetchAllDataSourceListRequest:m.default.func.isRequired,fetchAllDataSourceListSUCCESS:m.default.func.isRequired,openDI:m.default.func.isRequired},N.defaultProps={filteredDatasources:[],allDatasources:[]};var P=function(e){return{allDatasources:(0,D.selectAllDatasources)(e),filteredDatasources:(0,D.selectAllDataSourceTypesFiltered)(e),filter:(0,D.selectAllDatasourcesFilter)(e)}},L=function(e){return{fetchAllDataSourceListRequest:(0,b.bindActionCreators)(I.fetchAllDataSourceListRequest,e),fetchAllDataSourceListSUCCESS:(0,b.bindActionCreators)(I.fetchAllDataSourceListSUCCESS,e),openDI:(0,b.bindActionCreators)(k.openDI,e)}};t.default=(0,y.connect)(P,L)(N)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.FETCH_ALL_DATASOURCE_LIST_SUCCESS:return(0,u.default)({},e,{datasources:[].concat((0,s.default)(t.allDatasources))});case d.EXPAND_DS_TYPES_DROPDOWN:return(0,u.default)({},e,{filter:(0,u.default)({},e.filter,{dpOpen:!0})});case d.COLLAPSE_DS_TYPES_DROPDOWN:return(0,u.default)({},e,{filter:(0,u.default)({},e.filter,{dpOpen:!1})});case d.SET_ALL_DATASOURCE_SEARCH_PATTERN:return(0,u.default)({},e,{filter:(0,u.default)({},e.filter,{searchPattern:t.pattern})});case d.SET_CURRENT_DATASOURCE_TYPES:return(0,u.default)({},e,{filter:(0,u.default)({},e.filter,{dstp:t.dstp})});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(46),s=r(o),l=i(7),u=r(l);t.default=a;var c=i(367),d=n(c),h={datasources:[],filter:{dstp:-1,searchPattern:"",dpOpen:!1}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return v.default.createElement("div",{className:"dp-divider"})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m);i(1824);var y=i(8),w=n(y),x=(i(48),function(e){function t(e,i){(0,l.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,i));return n.onClick=n.onClick.bind(n),n.inputElement={},n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"onClick",value:function(e){e.stopPropagation(),this.inputElement.click()}},{key:"render",value:function(){var e=this,t=this.props,i=t.dsId,n=t.name,r=t.onSelect,a=t.selected,o=t.iconClassName,s=t.className;return v.default.createElement("div",{ref:function(t){e.inputElement=t},className:(0,w.default)("dropdown-item-row",{selected:a},s),onClick:function(){return r(i)}},v.default.createElement("div",{className:"dp-image-container"},v.default.createElement("div",{className:(0,w.default)(o,"dp-icon"),onClick:this.onClick})),v.default.createElement("div",{className:"connection-div",title:n,onClick:this.onClick},v.default.createElement("div",{className:"connection-name"},n)))}}]),t}(g.Component));x.propTypes={className:b.default.string,iconClassName:b.default.string,name:b.default.string.isRequired,onSelect:b.default.func.isRequired,dsId:b.default.string.isRequired,selected:b.default.bool},x.Divider=r,t.default=x},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{showDropDown:(0,S.selectFilter)(e).dropdownOpen,dropdownItemList:(0,S.selectAllAddedDataSources)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(14);i(1825);var b=i(1245),y=n(b),w=i(8),x=n(w),E=i(894),_=n(E),A=i(5),C=n(A),S=i(128),T=i(550),I=i(48),D=i(368),O=function(e){function t(){var e,i,n,r;(0,l.default)(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return i=n=(0,h.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.handleClickOutside=function(e){n.props.showDropDown&&n.props.collapseDsdropdown()},r=i,(0,h.default)(n,r)}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.dropdownItemList,i=e.showDropDown,n=e.onSelect,r=e.selectedID,a="-1";return v.default.createElement("div",{className:(0,x.default)({"dropdownlist-div":!0,show:i})},v.default.createElement(y.default,{iconClassName:"datasource ds-"+I.DBTYPES.ALL.v,key:a,dsId:a,name:"All",onSelect:n,selected:(r||a)===a}),v.default.createElement(y.default.Divider,null),t.filter(function(e){return e.type!==I.DBTYPES.DERIVED_TABLES.v}).map(function(e){return v.default.createElement(y.default,{iconClassName:"datasource ds-"+e.type,key:e.id,dsId:e.id,name:e.name,onSelect:n,selected:(r||a)===e.id})}),v.default.createElement(y.default.Divider,null),v.default.createElement(y.default,{key:D.USED,dsId:D.USED,iconClassName:"ds-used",name:"Used",onSelect:n,selected:r===D.USED}),v.default.createElement(y.default,{key:D.UNUSED,dsId:D.UNUSED,className:"unused",iconClassName:"ds-unused",name:"Unused",onSelect:n,selected:r===D.UNUSED}),v.default.createElement(y.default,{key:D.DERIVED,dsId:D.DERIVED,iconClassName:"ds-derived",name:"Derived",onSelect:n,selected:r===I.DBTYPES.DERIVED_TABLES.v+""}))}}]),t}(g.Component);O.propTypes={showDropDown:C.default.bool.isRequired,dropdownItemList:C.default.array.isRequired,onSelect:C.default.func.isRequired,collapseDsdropdown:C.default.func.isRequired,selectedID:C.default.string},t.default=(0,m.connect)(r,{collapseDsdropdown:T.collapseDsdropdown})((0,_.default)(O))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{currentDataSourceId:(0,S.selectFilter)(e).dsId,datasources:(0,S.selectAllAddedDataSources)(e),expandDs:(0,S.selectFilter)(e).dropdownOpen,searchPattern:(0,S.selectFilter)(e).searchPattern,tableFilteringStatus:(0,S.selectFilter)(e).tableFilteringStatus}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(8),b=n(m),y=i(14),w=i(5),x=n(w);i(1826);var E=i(1246),_=n(E),A=i(48),C=i(368),S=i(128),T=i(550),I=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.onClick=i.onClick.bind(i),i.onSelect=i.onSelect.bind(i),i.onSearchChange=i.onSearchChange.bind(i),i.setSearchPattern=i.setSearchPattern.bind(i),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"onClick",value:function(e){this.props.expandDs?this.props.collapseDsdropdown():this.props.expandDsdropdown()}},{key:"onSelect",value:function(e){switch(e){case C.USED:this.props.setCurrentTableFilteringStatus(C.USED),this.props.setCurrentDataSource("-1");break;case C.UNUSED:this.props.setCurrentTableFilteringStatus(C.UNUSED),this.props.setCurrentDataSource("-1");break;case C.DERIVED:this.props.setCurrentTableFilteringStatus(C.DERIVED),this.props.setCurrentDataSource(A.DBTYPES.DERIVED_TABLES.v+"");break;default:this.props.setCurrentTableFilteringStatus(""),this.props.setCurrentDataSource(e)}this.props.collapseDsdropdown()}},{key:"onSearchChange",value:function(e){this.setSearchPattern(e.target.value)}},{key:"setSearchPattern",value:function(e){this.props.setDataSourceSearchPattern(e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.expandDs,n=t.datasources,r=t.currentDataSourceId,a=t.searchPattern,o=t.tableFilteringStatus,s=n.find(function(e){return e.id===r}),l=s&&s.type||o,u=(0,b.default)("tablepanel-filter-box-section1",s&&s.type?"datasource":"","ds-"+l),c=(0,b.default)("tablepanel-filter-box-section2","filterbox-caret-dropdown","ignore-react-onclickoutside",{rotate:i});return v.default.createElement("div",{className:"tablepanel-filter-box-wrapper"},v.default.createElement("div",{className:"tablepanel-filter-box"},l!=-1&&l?v.default.createElement("div",{className:u}):v.default.createElement("div",{className:"tablepanel-filter-box-section1 ds-dp-all-text"},"All"),v.default.createElement("div",{className:c,onClick:this.onClick}),v.default.createElement("div",{className:"tablepanel-filter-box-section3"},v.default.createElement("input",{className:"table-search-input-style",value:a,type:"text",onChange:this.onSearchChange}),v.default.createElement("div",{className:(0,b.default)("search",{clear:!!a}),onClick:function(){return e.setSearchPattern("")}}))),v.default.createElement(_.default,{onSelect:this.onSelect,selectedID:o||r}),v.default.createElement("div",{className:"disabled-curtain",style:{display:n.length?"none":"block"}}))}}]),t}(g.Component);I.propTypes={datasources:x.default.array.isRequired,currentDataSourceId:x.default.string,expandDs:x.default.bool.isRequired,setCurrentDataSource:x.default.func.isRequired,setDataSourceSearchPattern:x.default.func.isRequired,collapseDsdropdown:x.default.func.isRequired,expandDsdropdown:x.default.func.isRequired,searchPattern:x.default.string,setCurrentTableFilteringStatus:x.default.func,tableFilteringStatus:x.default.string},t.default=(0,y.connect)(r,{setDataSourceSearchPattern:T.setDataSourceSearchPattern,setCurrentDataSource:T.setCurrentDataSource,collapseDsdropdown:T.collapseDsdropdown,expandDsdropdown:T.expandDsdropdown,setCurrentTableFilteringStatus:T.setCurrentTableFilteringStatus})(I)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u.EXPAND_DS_DROPDOWN:return(0,s.default)({},e,{dropdownOpen:!0});case u.COLLAPSE_DS_DROPDOWN:return(0,s.default)({},e,{dropdownOpen:!1});case u.SET_DATASOURCE_SEARCH_PATTERN:return(0,s.default)({},e,{searchPattern:t.pattern});case u.SET_CURRENT_DATASOURCE:return(0,s.default)({},e,{dsId:t.dsId});case u.SET_CURRENT_TABLE_FILTERING_STATUS:return(0,s.default)({},e,{tableFilteringStatus:t.tableFilteringStatus});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=r(o);t.default=a;var l=i(549),u=n(l),c={searchPattern:"",dsId:"",tableFilteringStatus:"",dropdownOpen:!1}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(180),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(251);var b=i(1),y=n(b),w=i(5),x=n(w),E=i(14),_=i(8),A=n(_),C=i(151),S=n(C),T=i(48),I=i(186),D=i(127),O=i(38),M=i(128);i(1827);var k=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.changeView=i.changeView.bind(i),i.expandAll=i.expandAll.bind(i),i.collapseAll=i.collapseAll.bind(i),i.handleMenuClick=i.handleMenuClick.bind(i),i.onTreeView=i.props.showTablePanelTreeView.bind(i),i.onFlatView=i.props.showTablePanelFlatView.bind(i),i.state={treeView:!0},i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"changeView",value:function(){var e=this.props.panelView;e===I.PANEL_VIEW_TREE?this.onFlatView():this.onTreeView()}},{key:"expandAll",value:function(){this.props.expandAllDatasource()}},{key:"collapseAll",value:function(){this.props.collapseAllDatasource()}},{key:"handleMenuClick",value:function(e){var t=e.key;this[t]&&this[t]()}},{key:"removeAllUnused",value:function(){var e=this.props,t=e.datasources,i=e.removeTablesFromDataSource;t.forEach(function(e){if(e.type!==T.DBTYPES.DERIVED_TABLES.v){var t=e.tables.filter(function(e){return!e.used&&e.pending<=0}).map(function(t){return(0,s.default)({},t,{datasource:e})});i(t)}})}},{key:"render",value:function(){var e=this.props,t=e.filter,i=e.panelView,n=e.datasources,r=e.tableCount,o=i===I.PANEL_VIEW_TREE,s=n.every(function(e){return!!e.expanded}),l=n.every(function(e){return!e.expanded}),u=n.some(function(e){return e.type!==T.DBTYPES.DERIVED_TABLES.v&&e.tables.some(function(e){return!e.used})}),c=(0,A.default)("inpanel-toolbar-icon-src","toolbar-btn-active",{"flatview-icon":o,"treeview-icon":!o}),d=y.default.createElement(S.default,{onClick:this.handleMenuClick},y.default.createElement(S.default.Item,{key:"expandAll",disabled:!o||s},"Expand All"),y.default.createElement(S.default.Item,{key:"collapseAll",disabled:!o||l},"Collapse All"),y.default.createElement(S.default.Divider,null),y.default.createElement(S.default.Item,{key:"removeAllUnused",disabled:!u},"Remove All Unused Tables")),h=r>1?"# matches found":"# match found",f=r>1?"# tables":"# table";return y.default.createElement("div",{className:"table-panel-toolbar-box"},y.default.createElement("div",{className:"table-panel-toolbar-box-section1"},t&&t.searchPattern?h.replace("#",r):f.replace("#",r)),y.default.createElement(a.default,{overlay:d,trigger:["click"],align:{offset:[0,3]}},y.default.createElement("div",{className:"more"})),y.default.createElement("div",{className:"table-panel-toolbar-box-section2"},y.default.createElement("div",{className:c,onClick:this.changeView})),y.default.createElement("div",{className:"disabled-curtain",style:{display:n.length?"none":"block"}}))}}]),t}(b.Component);k.propTypes={filter:x.default.object,tableCount:x.default.number.isRequired,collapseAllDatasource:x.default.func.isRequired,expandAllDatasource:x.default.func.isRequired,showTablePanelFlatView:x.default.func.isRequired,showTablePanelTreeView:x.default.func.isRequired,removeTablesFromDataSource:x.default.func.isRequired,datasources:x.default.array};var N=function(e){return{filter:(0,M.selectFilter)(e),datasources:(0,M.selectFilteredDataSources)(e),panelView:e.uiComponentState.panelView}};t.default=(0,E.connect)(N,{expandAllDatasource:D.expandAllDatasource,collapseAllDatasource:D.collapseAllDatasource,showTablePanelFlatView:O.showTablePanelFlatView,showTablePanelTreeView:O.showTablePanelTreeView,removeTablesFromDataSource:D.removeTablesFromDataSource})(k)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(1),s=n(o),l=i(552),u=n(l);t.default=function(e){var t=e.datasources,i=[];return t.forEach(function(e){e.tables.forEach(function(t){return i.push((0,a.default)({},t,{datasource:{id:e.id,type:e.type,name:e.name}}))})}),s.default.createElement("div",{className:"table-panel-list-size"},s.default.createElement(u.default,{tables:i,showDatasource:!0}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(13),b=(n(m),i(5)),y=n(b),w=i(14),x=i(108),E=i(8),_=n(E),A=i(26),C=(n(A),i(15)),S=(n(C),i(48)),T=i(128),I=i(127),D=i(151),O=(n(D),i(185));n(O),i(20);i(1829);var M=i(150),k=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.leftSingleClickHandler=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=i.props,n=t.table,r=(t.key,[]);e?(i.isTableSelected()||r.push({dsid:n.datasource.id,key:n.key}),i.props.updateSelectedTable(r)):i.isTableSelected()?(r.push({dsid:n.datasource.id,key:n.key}),i.props.removeSelectedTable(r)):(r.push({dsid:n.datasource.id,key:n.key}),i.props.addSelectedTable(r))},i.mouseDownHandler=function(e){switch(e.nativeEvent.which){case 1:e.nativeEvent.ctrlKey||e.nativeEvent.metaKey||e.nativeEvent.shiftKey?e.nativeEvent.ctrlKey||e.nativeEvent.metaKey?i.leftSingleClickHandler(!1):e.nativeEvent.shiftKey:i.leftSingleClickHandler();break;case 3:var t=i.props,n=t.table,r=t.updateSelectedTable;!i.isTableSelected()&&r([{dsid:n.datasource.id,key:n.key}])}},i.isTableSelected=function(){var e=i.props.table;return!!e.isSelected},i.state={},i.isDerivedTable=i.isDerivedTable.bind(i),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"isDerivedTable",value:function(){var e=this.props.table;return e.datasource.type===S.DBTYPES.DERIVED_TABLES.v}},{key:"render",value:function(){var e=this.props,t=e.table,i=e.isDragging,n=e.connectDragSource,r=e.filter,a=e.showDatasource,o=e.dbClick,s=r.searchPattern,l=t.name,u=s&&l.toUpperCase().indexOf(s.toUpperCase()),c=this.isTableSelected(),d=v.default.createElement("div",{className:"name"},l);return s&&(d=v.default.createElement("div",{className:"name"},l.substring(0,u),v.default.createElement("span",{className:"keyword"},l.substring(u,u+s.length)),l.substring(u+s.length))),n(v.default.createElement("div",{onMouseDown:this.mouseDownHandler},v.default.createElement("div",{className:(0,_.default)("datasource-table-row",{"show-datasource-name":a,unused:!t.used&&!this.isDerivedTable(),derived:this.isDerivedTable(),isSelected:c}),style:{opacity:i?.5:1},title:(t.ns?t.ns+".":"")+t.name,onDoubleClick:o},v.default.createElement("div",{className:"table-icon-wrapper"},t.datasource.type===-2?v.default.createElement("div",{className:"derived-table-icon"}):v.default.createElement("i",{className:"table-icon-font",style:{color:M.dataSouceColorPallette.getTableIconColor(t.datasource.type)}},"")),v.default.createElement("div",{className:(0,_.default)("table-wrapper",{"table-unused":!t.used&&!this.isDerivedTable()})},d,a?v.default.createElement("div",{className:"datasource-name"},t.datasource.name):null))))}}]),t}(g.Component);k.propTypes={table:y.default.object.isRequired,connectDragSource:y.default.func.isRequired,dbClick:y.default.func,isDragging:y.default.bool,showDatasource:y.default.bool};var N={beginDrag:function(e){return e.table},canDrag:function(e){return e.table.datasource.type!==S.DBTYPES.DERIVED_TABLES.v}},P=function(e){return{filter:(0,T.selectFilter)(e)}};t.default=(0,x.DragSource)("table-row",N,r)((0,w.connect)(P,{removeTableFromDataSource:I.removeTablesFromDataSource,updateSelectedTable:I.updateSelectedTable,addSelectedTable:I.addSelectedTable,removeSelectedTable:I.removeSelectedTable})(k))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(5),y=n(b),w=i(551),x=n(w),E=i(552),_=n(E),A=i(14),C=i(8),S=n(C),T=i(127),I=i(48),D=function(e){function t(e,i){(0,u.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,i));return n.toggleTable=n.toggleTable.bind(n),n.mouseDown=n.mouseDown.bind(n),n}return(0,g.default)(t,e),(0,d.default)(t,[{key:"mouseDown",value:function(){}},{key:"toggleTable",value:function(){var e=this.props.datasource;e.expanded?this.props.collapseDataSource(e.id):this.props.expandDataSource(e.id)}},{key:"render",value:function(){var e=this.props.datasource,t=e.id,i=e.name,n=e.tables,r=e.expanded,o=e.type,s=(0,S.default)("datasource-row",{expanded:r,inactive:!r}),l=n.map(function(e){return(0,a.default)({},e,{datasource:{id:t,type:o}})});return m.default.createElement("div",null,m.default.createElement(x.default,{toggle:this.toggleTable,dbrId:t,datasourceType:o,tooltip:i,connectionName:i,connectionType:o,rowStyle:s,hasMenu:o!==I.DBTYPES.DERIVED_TABLES.v}),n.length&&r?m.default.createElement("div",null,m.default.createElement(_.default,{tables:l})):null)}}]),t}(v.Component);D.propTypes={datasource:y.default.object.isRequired,expandDataSource:y.default.func.isRequired,collapseDataSource:y.default.func.isRequired},t.default=(0,A.connect)(null,{expandDataSource:T.expandDataSource,collapseDataSource:T.collapseDataSource})(D)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(1252),s=n(o),l=i(48),u=function(e){var t=e.datasources;return a.default.createElement("div",{className:"table-panel-list-size"},t.filter(function(e){return e.type!==l.DBTYPES.DERIVED_TABLES.v||e.tables.length}).map(function(e){return a.default.createElement(s.default,{key:e.id,datasource:e})}))};t.default=u},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),o=r(a),s=i(9),l=r(s),u=i(2),c=r(u),d=i(6),h=r(d),f=i(4),p=r(f),g=i(3),v=r(g),m=i(1),b=r(m),y=i(13),w=i(14),x=i(5),E=r(x),_=i(1253),A=r(_),C=i(1250),S=r(C),T=i(127),I=i(186),D=n(I);
i(1830);var O=i(48),M=i(20),k=i(185),N=r(k),P=i(151),L=r(P),R=function(e){function t(e){(0,c.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return i.handleClickOutsideTableRow=function(e){var t=i.props.cleanSelectedTable;i.contains((0,y.findDOMNode)(i),e.target)||i.contains((0,y.findDOMNode)(i.menuCmp),e.target)||t()},i.handleMenuClick=function(e){var t=(e.domEvent,e.key);e.item;i[t]&&i[t]()},i.handleCXMVisibleChange=function(e){i.contextMenu.setState({cxmVisible:e})},i.getSelectedTables=function(){var e=i.props.datasources,t=[];return e.forEach(function(e){e.tables.forEach(function(i){i.isSelected&&t.push((0,o.default)({},i,{datasource:{id:e.id,type:e.type}}))})}),t},i.isDerivedTable=function(e){return e.datasource.type===O.DBTYPES.DERIVED_TABLES.v},i.isAdd2WSEnabled=function(){var e=i.getSelectedTables(),t=!0;return 1===e.length?t=i.isDerivedTable(e[0]):e.length>1&&e.forEach(function(e){i.isDerivedTable(e)||(t=!1)}),t},i.isRemoveEnabled=function(){var e=i.getSelectedTables(),t=!0;return 1===e.length?t=e[0].used||i.isDerivedTable(e[0])||e[0].pending>0:e.length>1&&e.forEach(function(e){!e.used&&e.pending<=0&&(t=!1)}),t},i.navigationViewClickHandler=function(e){i.handleCXMVisibleChange(!1)},i.id="TABLE_NAVIGATION_VIEW_MENU"+Date.now(),i}return(0,v.default)(t,e),(0,h.default)(t,[{key:"contains",value:function(e,t){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutsideTableRow)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutsideTableRow)}},{key:"add2WS",value:function(e){var t=this.getSelectedTables();t.forEach(function(e){e.datasource.type!==O.DBTYPES.DERIVED_TABLES.v&&M.workspaceManager.addTables([e],{clientX:350,clientY:150})})}},{key:"remove",value:function(){var e=this.props.removeTablesFromDataSource,t=this.getSelectedTables();t=t.filter(function(e){return!e.used}),e(t)}},{key:"render",value:function(){var e=this,t=this.props,i=t.datasources,n=t.panelView,r=b.default.createElement(L.default,{onClick:this.handleMenuClick,ref:function(t){return e.menuCmp=t}},b.default.createElement(L.default.Item,{key:"add2WS",disabled:this.isAdd2WSEnabled()},"Add to Canvas"),b.default.createElement(L.default.Item,{key:"remove",disabled:this.isRemoveEnabled()},"Remove"));return b.default.createElement("div",{onClick:this.navigationViewClickHandler},b.default.createElement(N.default,{menu:r,selectable:!0,ref:function(t){return e.contextMenu=t}},n===D.PANEL_VIEW_TREE?b.default.createElement(A.default,{datasources:i}):b.default.createElement(S.default,{datasources:i})))}}]),t}(m.Component);R.propTypes={datasources:E.default.array.isRequired,panelView:E.default.string.isRequired},t.default=(0,w.connect)(function(){return{}},{cleanSelectedTable:T.cleanSelectedTable,removeTablesFromDataSource:T.removeTablesFromDataSource})(R)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{setActiveTab:(0,w.bindActionCreators)(P.setActiveTab,e),updateLeftPanel:(0,w.bindActionCreators)(F.updateLeftPanel,e),openDI:(0,w.bindActionCreators)(F.openDI,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(14),w=i(16),x=i(1247),E=n(x),_=i(1249),A=n(_),C=i(1254),S=n(C),T=i(1243),I=n(T),D=i(129),O=n(D),M=i(48),k=i(128),N=i(269),P=i(127),L=i(223),R=n(L),F=i(38),j=i(279),B=n(j),H=i(275),V=n(H);i(1831);var U=V.default.TabPane,W=220,z=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.resizeLeftPanel=i.resizeLeftPanel.bind(i),i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.filteredDataSources,n=t.allDataSources,r=t.panelView,a=t.activeTab,o=t.setActiveTab,s=0;i=i.sort(function(e,t){return e.type===M.DBTYPES.DERIVED_TABLES.v?1:t.type===M.DBTYPES.DERIVED_TABLES.v?-1:0}),i.forEach(function(e){e.tables.forEach(function(e){return s++})});var l=this.props.layout.toolbar.height;return v.default.createElement("div",{className:"table-panel"},v.default.createElement("div",{className:"table-panel-container"},v.default.createElement(V.default,{activeKey:a,onChange:o},v.default.createElement(U,{tab:v.default.createElement(B.default,{showTitle:N.ALL_DATA_SOURCES_TAB_KEY===a,title:"DATA SOURCES",iconClass:"sources"}),key:N.ALL_DATA_SOURCES_TAB_KEY},v.default.createElement("div",{style:{height:this.props.layout.leftPanel.height-24,paddingTop:10}},v.default.createElement(I.default,null))),v.default.createElement(U,{tab:v.default.createElement(B.default,{showTitle:a===N.TABLES_TAB_KEY,title:"AVAILABLE TABLES",iconClass:"tables"}),key:N.TABLES_TAB_KEY},v.default.createElement("div",{className:"available-tables",style:{height:this.props.layout.leftPanel.height-24,paddingTop:10}},n&&n.length?v.default.createElement("div",{className:"",style:{height:"100%"}},v.default.createElement(E.default,{datasources:n}),v.default.createElement(A.default,{tableCount:s}),v.default.createElement(S.default,{datasources:i,panelView:r})):v.default.createElement(U.EmptyContent,{title:"Nothing here...",text:"Looks like you have no table in the canvas. Let's add some.",actions:v.default.createElement(O.default,{type:"secondary",onClick:function(){return e.props.openDI()}},"Add Data")})))),v.default.createElement(R.default,{onStop:this.resizeLeftPanel,position:{x:this.props.layout.leftPanel.width,y:0},style:{height:window.innerHeight-l,left:-4},axis:"x",bounds:{left:W,right:2*W}})))}},{key:"resizeLeftPanel",value:function(e,t){this.props.updateLeftPanel({width:t.x})}}]),t}(g.Component),G=function(e){return{allDataSources:(0,k.selectAllAddedDataSources)(e),filteredDataSources:(0,k.selectFilteredDataSources)(e),panelView:e.uiComponentState.panelView,activeTab:(0,k.selectActiveTabKey)(e),layout:e.layout}};z.propTypes={allDataSources:b.default.array,filteredDataSources:b.default.array,panelView:b.default.string,activeTab:b.default.string,setActiveTab:b.default.func,layout:b.default.object,updateLeftPanel:b.default.func},t.default=(0,y.connect)(G,r)(z)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1255),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.SET_TABLE_PANEL_ACTIVE_TAB:return{activeTab:t.activeTab};default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(16),s=i(366),l=r(s),u=i(269),c=i(554),d=n(c),h=i(1248),f=n(h),p=i(1244),g=n(p),v={activeTab:u.ALL_DATA_SOURCES_TAB_KEY};t.default=(0,o.combineReducers)({datasources:d.default,filter:f.default,allDatasources:g.default,tabs:a})},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{toggleDataWrangler:(0,_.bindActionCreators)(q.toggleDataWrangler,e),joinTable:(0,_.bindActionCreators)(z.joinTable,e),unionTable:(0,_.bindActionCreators)(z.unionTable,e),differenceTable:(0,_.bindActionCreators)(z.differenceTable,e),intersectTable:(0,_.bindActionCreators)(z.intersectTable,e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(117),s=r(o),l=i(9),u=r(l),c=i(2),d=r(c),h=i(6),f=r(h),p=i(4),g=r(p),v=i(3),m=r(v),b=i(1),y=r(b),w=i(5),x=r(w),E=i(108),_=i(16),A=i(14),C=i(148),S=i(85),T=i(20),I=i(184),D=n(I);i(1832);var O=i(185),M=r(O),k=i(151),N=r(k),P=i(29),L=i(270),R=i(22),F=i(60),j=i(131),B=i(114),H=i(47),V=n(H),U=i(133),W=i(383),z=i(52),G=i(87),$=i(154),q=i(126),Y=i(225),J=i(565),K=i(96),X={drop:function(e,t,i){var n=t.getClientOffset();T.workspaceManager.addTables([t.getItem()],{clientX:n.x,clientY:n.y})}},Q=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),didDrop:t.didDrop(),item:t.getItem()}},Z=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.state={previewOpen:!0,canActivateContextMenu:!1,targetNode:null},i.initContextMenuHandler(),i.showTablePreview=i.showTablePreview.bind(i),i.handleMenuClick=i.handleMenuClick.bind(i),i.generateContextMenu=i.generateContextMenu.bind(i),i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"showTablePreview",value:function(e){e&&e.data&&(0,C.previewTable)(e.data.id,e.tabletype,e.sessionId)}},{key:"resetGraphContainer",value:function(e){S.pipelineManager&&S.pipelineManager.pipelineVisual&&(S.pipelineManager.pipelineVisual.graphContainer.style.height=e+"px",S.pipelineManager.pipelineVisual.graph&&S.pipelineManager.pipelineVisual.graph.updateSize())}},{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){window.onkeydown=null}},{key:"componentDidMount",value:function(){this.initWorkspace(),window.onkeydown=function(e){e.shiftKey&&e.ctrlKey&&70===e.keyCode&&(0,W.getFeatureFlags)().then(function(e){e&&e.status===G.SERVICE_RESPONSE.TYPE.IMMEDIATE&&e.featureFlags&&(T.workspaceManager.featureFlags={version:e.version,list:e.featureFlags},(0,P.dispatchAction)((0,J.openFeatureFlagDialog)({title:"Feature Flags",okText:"Confirm",cancelText:"Cancel"})))})}}},{key:"componentDidUpdate",value:function(){this.resetGraphContainer()}},{key:"componentWillReceiveProps",value:function(e){if(S.pipelineManager.pipelineVisual.graph&&(this.props.currentPreviewTableId&&this.props.currentPreviewTableId!==e.currentPreviewTableId,this.props.selectedAttributes&&this.props.selectedAttributes!==e.selectedAttributes)){var t=this.getNodeIdsOfSelectedAttributes(e.selectedAttributes),i=e.selectedAttributes.map(function(e){return e.name}),n=S.pipelineManager.pipelineVisual.graph.findEdges(i);S.pipelineManager.pipelineVisual.graph.highlightNodes(t,!1),t.length>0&&S.pipelineManager.pipelineVisual.graph.highlightEdges(n),console.log("attribute selection changed",e.selectedAttributes,t)}}},{key:"getNodeIdsOfSelectedAttributes",value:function(e){var t=[],i={};e.forEach(function(e){e.tid.forEach(function(e){i[e.id]=!0})});var n=(0,P.getAllState)().dmState.importSources;if(n){var r=n.defn.objects.table,a=n.defn.objects.dbTable,o=r.filter(function(e){return i[e.id]}).map(function(e){return e.dbTable});t=a.filter(function(e){return o.indexOf(e.id)>-1}).map(function(e){return e.sparkDef.pipelineId+":"+e.sparkDef.finalTableId})}return t}},{key:"getHeightStyle",value:function(e){return this.props.showTbPreview?this.props.layout.workspacePanel.height-parseInt(this.props.layout.previewPanel.height)+"px":"100%"===e?e:parseFloat(e)+"px"}},{key:"handleMenuClick",value:function(e){var t=e.key,i=this.menuHandlers.filter(function(e){return e.key===t})[0].handler;i&&i(),this.setState({cxmVisible:!1})}},{key:"generateContextMenu",value:function(){return y.default.createElement(N.default,{onClick:this.handleMenuClick},this.menuHandlers.filter(function(e){return e.applicable}).map(function(e){return y.default.createElement(N.default.Item,{key:e.key,disabled:e.disabled},e.name)}))}},{key:"canActivateContextMenu",value:function e(t){var e=this.state.canActivateContextMenu;return this.setState({canActivateContextMenu:!1}),e}},{key:"changeOperation",value:function(e){(0,j.updateTableManipulation)(T.workspaceManager.initialWorkspaceId,S.pipelineManager.selectedPipelineId,S.pipelineManager.selectedTableId,e).then(function(t){var i=t.tableGroup.id,n=S.pipelineManager.selectedPipelineId+":"+i;if(S.pipelineManager.pipelineVisual.pegraph){var r=S.pipelineManager.pipelineVisual.pegraph.getNode(n);if(r){r.data=t.tableGroup,r.updateIcon(e);for(var a=r.inedges.map(function(e){return e.fromnode}),o=0;o<a.length;o++){var s=a[o];r.data.groupType===D.TABLE_OPERATION.DIFF?s.showRightIcon(o>0,"minus"):r.data.groupType===D.TABLE_OPERATION.JOIN?s.showRightIcon(!0,0===o?"ltable":"rtable"):s.showRightIcon(!1)}T.workspaceManager.removeCacheRecursively((0,P.getAllState)(),i),(0,C.previewTable)(i,r.tabletype,r.sessionId)}}S.pipelineManager.pipelineEdited=!0})}},{key:"editJoinHandler",value:function(){var e=S.pipelineManager.pipelineVisual.graph.targetnode;if(e){var t=e&&e.data?e.data.id:null;(0,P.dispatchAction)((0,B.toggleJoinPanel)(V.JOIN_MODE.EDIT_JOIN,t))}}},{key:"renameHandler",value:function(){var e=S.pipelineManager.pipelineVisual.graph.targetnode;e&&S.pipelineManager.pipelineVisual.graph.editNodeTitle(e)}},{key:"wrangleHandler",value:function(){var e=this,t=T.workspaceManager.currentWorkspaceMode===D.WORKSPACE_MODE.OVERVIEW?S.pipelineManager.pipelineVisual.graph.targetnode:S.pipelineManager.pipelineVisual.pegraph.targetnode;if(t&&t.data){var i=t.data.id,n=t.sessionId;this.props.tablePreviewMap[i]?this.props.toggleDataWrangler():(0,C.previewTable)(i,null,n).then(function(){e.props.toggleDataWrangler()})}}},{key:"editPipelineHandler",value:function(){var e=S.pipelineManager.pipelineVisual.graph.targetnode;e&&S.pipelineManager.pipelineVisual.editPipelineView(e)}},{key:"updateSelectedTable",value:function(e){(0,P.dispatchAction)((0,z.updateTableSelection)(e))}},{key:"deleteHandler",value:function(){if(T.workspaceManager.currentWorkspaceMode===D.WORKSPACE_MODE.OVERVIEW){if(S.pipelineManager.pipelineVisual.graph&&S.pipelineManager.pipelineVisual.graph.targetnode){var e=S.pipelineManager.pipelineVisual.graph.targetnode.selected?S.pipelineManager.pipelineVisual.graph.getSelectedNodes():[S.pipelineManager.pipelineVisual.graph.targetnode.id],t=[],i=[],n=!0,r=!1,a=void 0;try{for(var o,l=(0,s.default)(e);!(n=(o=l.next()).done);n=!0){var u=o.value,c=S.pipelineManager.pipelineVisual.graph.getNode(u);c&&c.sessionId&&(t.push(c.sessionId),i.push(c.name))}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}var d="Delete",h="",f=i.join(", ");if(e.length<=1&&S.pipelineManager.pipelineVisual.graph.targetnode.selected)h="Are you sure you want to delete this "+(S.pipelineManager.pipelineVisual.graph.targetnode.data.tables?"pipeline":"table")+"?";else if(e.length>1){var p=!1,g=!1;e.forEach(function(e){var t=S.pipelineManager.pipelineVisual.graph.getNode(e);t.data.tables?g=!0:p=!0}),h="Are you sure you want to delete these "+(p&&g?"tables and pipelines":p?"tables":"pipelines")+"?"}(0,P.dispatchAction)((0,Y.openConfirmDialog)({title:d,message:h,details:f,okAction:function(){T.workspaceManager.removePipelines(T.workspaceManager.initialWorkspaceId,t),e.forEach(function(e){S.pipelineManager.pipelineVisual.graph.removeNode(e)})},okText:"Confirm",cancelText:"Cancel"}))}}else if(T.workspaceManager.currentWorkspaceMode===D.WORKSPACE_MODE.EDIT&&S.pipelineManager.pipelineVisual.pegraph&&S.pipelineManager.pipelineVisual.pegraph.targetnode){var v=[],m=[];S.pipelineManager.pipelineVisual.pegraph.targetnode.selected?(m=S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes(),m.forEach(function(e){var t=S.pipelineManager.pipelineVisual.pegraph.getNode(e);t&&t.data&&v.push(t.data.id)})):(v.push(S.pipelineManager.pipelineVisual.pegraph.targetnode.data.id),m.push(S.pipelineManager.pipelineVisual.pegraph.targetnode.id)),(0,j.removeFinalTables)(T.workspaceManager.initialWorkspaceId,S.pipelineManager.selectedPipelineId,v,!1).then(function(e){e&&(e.forEach(function(e){var t=S.pipelineManager.selectedPipelineId+":"+e,i=S.pipelineManager.pipelineVisual.pegraph.getNode(t),n=i.inedges.map(function(e){return e.fromnode});n.forEach(function(e){e.showRightIcon(!1)}),S.pipelineManager.pipelineVisual.pegraph.removeNode(t)}),(0,P.dispatchAction)((0,z.updateTableSelectionUsingNodeIds)(S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes())),T.workspaceManager.updateWorkspaceDefinition(T.workspaceManager.initialWorkspaceId))})}}},{key:"render",value:function(){var e=this,t=this.state.previewOpen,i=this.getHeightStyle(this.props.layout.canvasPanel.height),n=this.generateContextMenu();return this.props.connectDropTarget(y.default.createElement("div",{className:"workspace-canvas-panel",style:{height:i,width:"100%"}},y.default.createElement(M.default,{ref:function(t){e.contextMenu=t},menu:n,canActivate:function(t){return e.canActivateContextMenu(t)}},y.default.createElement("div",{ref:function(t){e.svg=t},id:"netvizcontainer",className:"netvizcontainer",style:{height:i}},y.default.createElement("svg",{ref:function(t){e.svgElement=t},id:"dpnetviz",style:{height:"100%",width:"100%"}}))),y.default.createElement("div",{className:"table-context-menu-container",ref:function(t){e.preview=t},style:{display:t?"block":"none"}})))}},{key:"initWorkspace",value:function(){var e=this;S.pipelineManager.pipelineVisual=new S.PipelineVisual(this.svgElement,this.svg),S.pipelineManager.pipelineVisual.graphElement.addEventListener("node_contextmenu",function(t){var i=S.pipelineManager.pipelineVisual.graph.getNode(t.detail.targetnode),n=S.pipelineManager.pipelineVisual.graph.getSelectedNodes();if(i.inprogress)e.setState({canActivateContextMenu:!1});else{var r={};i.selected&&(r.join_menu={visible:2===n.length,disabled:!1},r.union_menu={visible:n.length>1,disabled:!1},r.unionall_menu={visible:n.length>1,disabled:!1},r.diff_menu={visible:n.length>1,disabled:!1},r.intersect_menu={visible:n.length>1,disabled:!1},r.rename_menu={visible:1===n.length,disabled:!1},r.wrangle_menu={visible:1===n.length,disabled:!1},r.editpipeline_menu={visible:1===n.length,disabled:!1}),r.del_menu={visible:!0,disabled:!1},e.updateContextMenuHandler(r),e.setState({canActivateContextMenu:!0,targetNode:i}),e.hideTextInput()}},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_SELECTION_CHANGED,function(t){var i=S.pipelineManager.pipelineVisual.graph.getSelectedNodes();e.hideContextMenu(),e.hideTextInput();var n=(0,P.getAllState)().layout.previewPanel;if(n.enabled&&!n.display&&i.length>0){var r={w:S.pipelineManager.pipelineVisual.graph.w,h:Math.max(0,S.pipelineManager.pipelineVisual.graph.h-n.height)};S.pipelineManager.pipelineVisual.graph.layout.autoPan(i,r)}(0,P.dispatchAction)((0,z.updateTableSelectionUsingNodeIds)(i))},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_DOUBLE_CLICKED,function(t){e.hideContextMenu(),e.hideTextInput(),(0,P.dispatchAction)((0,z.updateTableSelectionUsingNodeIds)([t.detail.node.id])),S.pipelineManager.pipelineVisual.graph.selectNode(t.detail.node.id),t.detail&&t.detail.node&&(t.detail.node.highlight(!1),S.pipelineManager.pipelineVisual.editPipelineView(t.detail.node))},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_NAMECHANGE,function(e){var t=e.detail.node,i=e.detail.name.trim();if(t)if(i.length>0&&S.pipelineManager.isValidPipelineName(t.sessionId,i))(0,U.editPipeline)(T.workspaceManager.initialWorkspaceId,t.sessionId,i).then(function(e){e&&e.status===G.SERVICE_RESPONSE.TYPE.IMMEDIATE&&(t.setTitle(i),T.workspaceManager.updateWorkspaceDefinition(T.workspaceManager.initialWorkspaceId))});else{t.setTitle(t.name);var n=0===i.length?"blank is not valid name":i+" is already used for other pipeline name";(0,$.openNotification)("Rename Pipeline",n)}},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_NAME_EDIT_REQUEST,function(e){e.detail&&e.detail.node&&S.pipelineManager.pipelineVisual.graph.editNodeTitle(e.detail.node)},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.ZOOM_CHANGED,function(t){var i=t.detail.scale;e.hideContextMenu(),"toolbar"!==t.detail.from&&(0,P.dispatchAction)((0,z.setOverviewCanvasZoomScale)(i)),S.pipelineManager.pipelineVisual.graph&&(S.pipelineManager.pipelineVisual.graph.showIcon(i>K.NODE_STYLE.ICON_DISPLAY_ZOOM_LIMIT),S.pipelineManager.pipelineVisual.graph.showLabel(i>K.NODE_STYLE.LABEL_DISPLAY_ZOOM_LIMIT))},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.PAN_STARTED,function(t){e.hideContextMenu(),e.hideTextInput()},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.LASSO_SELECTION_STARTED,function(t){e.hideContextMenu()},!1),S.pipelineManager.pipelineVisual.graphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_CLICKED,function(t){e.hideContextMenu(),e.hideTextInput()},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_SELECTION_CHANGED,function(t){var i=S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes();S.pipelineManager.pipelineVisual.removeTitleFocus(),e.hideContextMenu(),(0,P.dispatchAction)((0,z.updateTableSelectionUsingNodeIds)(i))},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.ZOOM_CHANGED,function(t){e.hideContextMenu(),"mousewheel"!==t.detail.from&&"manual"!==t.detail.from||(0,P.dispatchAction)((0,z.setEditPipelineCanvasZoomScale)(t.detail.scale))},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.PAN_STARTED,function(t){e.hideContextMenu()},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.LASSO_SELECTION_STARTED,function(t){e.hideContextMenu()},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_CLICKED,function(t){e.hideContextMenu()},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_CONTEXT_MENU,function(t){var i=S.pipelineManager.pipelineVisual.pegraph.getNode(t.detail.targetnode),n=S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes();if(i)if(i.selected&&1!==n.length){var r=n.filter(function(e){var t=S.pipelineManager.pipelineVisual.pegraph.getNode(e);return t&&t.outedges.length>0});if(0===r.length){var a={};a.join_menu={visible:!0,disabled:2!==n.length},a.addunion_menu={visible:!0,disabled:n.length<=1},a.addunionall_menu={visible:!0,disabled:n.length<=1},a.adddiff_menu={visible:!0,disabled:n.length<=1},a.addintersect_menu={visible:!0,disabled:n.length<=1},a.del_menu={visible:!0,disabled:n.length<=1},e.updateContextMenuHandler(a),e.setState({canActivateContextMenu:!0,targetNode:i})}}else{S.pipelineManager.selectedTableId=i.data.id;var o={};o.rename_menu={visible:!1,disabled:!1},o.editpipeline_menu={visible:!1,disabled:!1},o.wrangle_menu={visible:!0,disabled:!1},0===i.outedges.length&&(o.del_menu={visible:!0,disabled:!1}),e.updateContextMenuHandler(o),e.setState({canActivateContextMenu:!0,targetNode:i})}},!1),S.pipelineManager.pipelineVisual.pipelineGraphElement.addEventListener(K.GRAPH_EVENT.NAME.NODE_ICON_CONTEXT_MENU,function(t){var i=S.pipelineManager.pipelineVisual.pegraph.getNode(t.detail.targetnode),n=S.pipelineManager.pipelineVisual.pegraph.getSelectedNodes();if(i&&(!i.selected||1===n.length)){S.pipelineManager.selectedTableId=i.data.id;var r={};i.inedges.length>0&&(i.tabletype===D.TABLE_OPERATION.UNION||i.tabletype===D.TABLE_OPERATION.UNION_ALL||i.tabletype===D.TABLE_OPERATION.DIFF||i.tabletype===D.TABLE_OPERATION.INTERSECTION?(r.editunion_menu={visible:!0,disabled:i.tabletype===D.TABLE_OPERATION.UNION},r.editunionall_menu={visible:!0,disabled:i.tabletype===D.TABLE_OPERATION.UNION_ALL},r.editdiff_menu={visible:!0,disabled:i.tabletype===D.TABLE_OPERATION.DIFF},r.editintersect_menu={visible:!0,disabled:i.tabletype===D.TABLE_OPERATION.INTERSECTION}):i.tabletype!==D.TABLE_OPERATION.INNER_JOIN&&i.tabletype!==D.TABLE_OPERATION.LEFT_JOIN&&i.tabletype!==D.TABLE_OPERATION.FULL_JOIN&&i.tabletype!==D.TABLE_OPERATION.RIGHT_JOIN||(r.editjoin_menu={visible:!0,disabled:!1})),e.updateContextMenuHandler(r),e.setState({canActivateContextMenu:!0,targetNode:i})}},!1)}},{key:"initContextMenuHandler",value:function(){var e=this;this.menuHandlers=[{key:"join_menu",name:D.TABLE_OPERATION_NAME.JOIN,handler:function(){return e.props.joinTable()},applicable:this.props.tableOpertationState.canJoin},{key:"editjoin_menu",name:D.TABLE_OPERATION_NAME.EDIT_JOIN,handler:function(){return e.editJoinHandler()},applicable:!1},{key:"union_menu",name:D.TABLE_OPERATION_NAME.UNION,handler:function(){return e.props.unionTable(!1)},applicable:this.props.tableOpertationState.canUnion},{key:"unionall_menu",name:D.TABLE_OPERATION_NAME.UNION_ALL,handler:function(){return e.props.unionTable(!0)},applicable:this.props.tableOpertationState.canUnion},{key:"diff_menu",name:D.TABLE_OPERATION_NAME.DIFF,handler:function(){return e.props.differenceTable()},applicable:this.props.tableOpertationState.canUnion},{key:"intersect_menu",name:D.TABLE_OPERATION_NAME.INTERSECTION,handler:function(){return e.props.intersectTable()},applicable:this.props.tableOpertationState.canUnion},{key:"editunion_menu",name:D.TABLE_OPERATION_NAME.UNION,handler:function(){return e.changeOperation(D.TABLE_OPERATION.UNION)},applicable:!0},{key:"editunionall_menu",name:D.TABLE_OPERATION_NAME.UNION_ALL,handler:function(){return e.changeOperation(D.TABLE_OPERATION.UNION_ALL)},applicable:!0},{key:"editdiff_menu",name:D.TABLE_OPERATION_NAME.DIFF,handler:function(){return e.changeOperation(D.TABLE_OPERATION.DIFF)},applicable:!0},{key:"editintersect_menu",name:D.TABLE_OPERATION_NAME.INTERSECTION,handler:function(){return e.changeOperation(D.TABLE_OPERATION.INTERSECTION)},applicable:!0},{key:"editpipeline_menu",name:D.TABLE_OPERATION_NAME.EDIT_PIPELINE,handler:function(){return e.editPipelineHandler()},applicable:!0},{key:"wrangle_menu",name:D.TABLE_OPERATION_NAME.WRANGLE,handler:function(){return e.wrangleHandler()},applicable:!0},{key:"rename_menu",name:D.TABLE_OPERATION_NAME.RENAME,handler:function(){return e.renameHandler()},applicable:!0},{key:"addunion_menu",name:D.TABLE_OPERATION_NAME.UNION,handler:function(){return e.props.unionTable(!1)},applicable:!0},{key:"addunionall_menu",name:D.TABLE_OPERATION_NAME.UNION_ALL,handler:function(){return e.props.unionTable(!0)},applicable:!0},{key:"adddiff_menu",name:D.TABLE_OPERATION_NAME.DIFF,handler:function(){return e.props.differenceTable()},applicable:!0},{key:"addintersect_menu",name:D.TABLE_OPERATION_NAME.INTERSECTION,handler:function(){return e.props.intersectTable()},applicable:!0},{key:"del_menu",name:D.TABLE_OPERATION_NAME.DELETE,handler:function(){return e.deleteHandler()},applicable:!0}]}},{key:"updateContextMenuHandler",value:function(e){this.menuHandlers&&e&&(this.menuHandlers=this.menuHandlers.map(function(t){return t.applicable=e[t.key]&&e[t.key].visible,t.disabled=e[t.key]&&e[t.key].disabled,t}))}},{key:"hideContextMenu",value:function(){this.contextMenu.handleCXMVisibleChange(!1)}},{key:"hideTextInput",value:function(){S.pipelineManager.pipelineVisual.graph.hideNodeTitleInput()}}]),t}(b.Component);Z.propTypes={connectDropTarget:x.default.func,layout:x.default.object,currentPreviewTableId:x.default.string,currentPipelineId:x.default.string,tableOpertationState:x.default.object,unionTable:x.default.func,differenceTable:x.default.func,intersectTable:x.default.func,joinTable:x.default.func,showTbPreview:x.default.bool,tablePreviewMap:x.default.object,toggleDataWrangler:x.default.func};var ee=function(e){return{layout:e.layout,tableOpertationState:(0,L.selectTableOperationState)(e),currentPreviewTableId:(0,R.selectCurrentPreviewTableId)(e),currentPipelineId:(0,R.selectCurrentPipelineId)(e),showTbPreview:(0,R.selectTablePreviewState)(e),tablePreviewMap:(0,R.selectTablePreviewMap)(e),selectedAttributes:(0,F.getSelectedAttributesOnPanel)(e)}};t.default=(0,_.compose)((0,E.DropTarget)("table-row",X,Q),(0,A.connect)(ee,a))(Z)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1258),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{tablepreview:e.dpState.tablepreview,showJoinPanel:e.joinPanelReducer.showJoinPanel,showWrangler:(0,M.selectDW)(e).showWrangler,showTbPreview:(0,M.selectTablePreviewState)(e),layout:e.layout}}function a(e){return{enableDPToolbar:S.enableDPToolbar}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v),b=i(1259),y=n(b),w=(i(16),i(14)),x=i(85),E=i(38),_=i(1236),A=n(_),C=i(20),S=i(52),T=i(1189),I=n(T),D=i(5),O=n(D),M=i(22),k=i(29),N=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.getWranglerDim=function(){var e=i.props,t=e.showWrangler,n=e.showTbPreview;if(t)return{x:0,y:36,w:"100%",h:i.props.layout.workspacePanel.height};var r=n?i.props.layout.previewPanel.height:0;return{x:0,y:i.props.layout.workspacePanel.height-i.props.layout.previewPanel.height,w:i.props.layout.workspacePanel.width,h:r}},i.showPublishDialog=i.showPublishDialog.bind(i),i.closePublishDialog=i.closePublishDialog.bind(i),i.showToolbar=i.showToolbar.bind(i),i.state={showPublishDialog:!1,showToolbar:!1,canvasHeight:"100%",tablePreviewPanelHeight:0},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"showToolbar",value:function(){this.props.enableDPToolbar()}},{key:"showPublishDialog",value:function(){C.workspaceManager.isWorkspaceEmpty()?(0,k.dispatchAction)((0,E.showErrorDialog)("Empty Workspace","There are no tables to be published in Workspace")):this.setState({showPublishDialog:!0})}},{key:"closePublishDialog",value:function(){this.setState({showPublishDialog:!1})}},{key:"render",value:function(){var e=this,t=this.getWranglerDim(),i=this.props.showJoinPanel===!0?this.props.layout.toolbar.height:window.innerHeight,n=this.props.showJoinPanel===!0?this.props.layout.workspacePanel.height:0,r={x:0,y:i,w:window.innerWidth,h:n};return m.default.createElement("div",{ref:function(t){e.container=t},className:"workspace-panel",style:{outline:"0px",height:"100%",width:"100%"}},m.default.createElement(y.default,null),m.default.createElement(I.default,{dim:t,show:this.props.layout.previewPanel.display}),this.props.showJoinPanel?m.default.createElement(A.default,{dim:r}):null)}},{key:"componentDidUpdate",value:function(e){e.showPrep!==this.props.showPrep&&x.pipelineManager.pipelineVisual.graph&&x.pipelineManager.pipelineVisual.graph.updateSize()}}]),t}(v.Component);N.propTypes={showTbPreview:O.default.bool,showWrangler:O.default.bool,layout:O.default.object,enableDPToolbar:O.default.func,showJoinPanel:O.default.bool},t.default=(0,w.connect)(r,a)(N)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=r(a),s=i(7),l=r(s),u=i(55),c=r(u),d=i(370),h=n(d),f=i(15),p=(r(f),{tablepreview:"collapsed",toolbarEnabled:!1,wsdefinition:{pipelines:[]},tableList:[],selectedTableIds:[],currentPreviewTableId:null,tablePreviewMap:{},isEditPipelineMode:!1,showObjectInfoHeader:!1,overviewZoomScale:1,editPipelineZoomScale:1,enableAutoLayout:!0}),g=function(){var e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments[1];switch(n.type){case h.DP_REFRESH_TABLEPREVIEW:return e=(0,c.default)({},i),e.tablepreview="open",e;case h.DP_CLOSE_TABLEPREVIEW:return e=(0,c.default)({},i),e.tablepreview="collapsed",e;case h.DP_SET_WSDEFINITION:return e=(0,c.default)({},i),e.wsdefinition=n.value,e;case h.DP_ENABLE_TOOLBAR:return(0,l.default)({},i,{toolbarEnabled:!0});case h.DP_DISABLE_TOOLBAR:return e=(0,c.default)({},i),(0,l.default)({},i,{toolbarEnabled:!1});case h.DP_TOGGLE_EDIT_PIPELINE_MODE:return(0,l.default)({},i,{isEditPipelineMode:n.value});case h.UPDATE_TABLE_SELECTION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e.currentPreviewTableId&&0!==e.selectedTableIds.filter(function(t){
return t===e.currentPreviewTableId}).length||(e.currentPreviewTableId=e.selectedTableIds[0]),e;case h.UPDATE_TABLE_LIST:e=(0,c.default)({},i);var r=e.tableList,a=void 0;if("ADD"===n.value.type&&(a=r.concat(n.value.list)),"DELETE"===n.value.type){var s=void 0;s=n.value.list[0]&&n.value.list[0].id?n.value.list.map(function(e){return e.id}):n.value.list,a=r.filter(function(e){return!s.includes(e.id)}),s.map(function(t){return delete e.tablePreviewMap[t]}),e.selectedTableIds.filter(function(e){return s.includes(e)}).length>0&&(e.selectedTableIds=e.selectedTableIds.filter(function(e){return!s.includes(e)}))}return"REPLACE_ALL"===n.value.type&&(a=n.value.list),"UPDATE"===n.value.type&&(a=r.filter(function(e){return e.id!==n.value.tableInfo.id}).concat([n.value.tableInfo])),e.tableList=a,e;case h.UPDATE_TABLE_PREVIEW_MAP:return e=(0,c.default)({},i),e.tablePreviewMap=(0,l.default)({},e.tablePreviewMap),null===n.value.tablePreviewResult?delete e.tablePreviewMap[n.value.tableId]:e.tablePreviewMap[n.value.tableId]=n.value.tablePreviewResult,e;case h.UPDATE_TABLE_STATUS:e=(0,c.default)({},i);var u=n.value;return e.tableList=e.tableList.map(function(e){for(var t=0;t<u.length;t++){var i=u[t];if(e.datasource&&"fileLocal"===e.datasource.type&&i.fileId===e.datasource.fileId){e.fileAvailable=!0;break}e.datasource&&i.isOAuth&&i.sourceType===e.datasource.type&&(e.isOAuthMissing=!1)}return e}),e;case h.REMOVE_TABLE_PREVIEW_FROM_MAP:return e=(0,c.default)({},i),delete e.tablePreviewMap[n.value.tableId],e;case h.UPDATE_PREVIEW_TABLE_ID:return e=(0,c.default)({},i),e.currentPreviewTableId=n.value,e;case h.JOIN_TABLES_OPERATION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e;case h.UNION_TABLES_OPERATION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e;case h.UNION_ALL_TABLES_OPERATION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e;case h.DIFFERENCE_TABLES_OPERATION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e;case h.INTERSECT_TABLES_OPERATION:return e=(0,c.default)({},i),e.selectedTableIds=n.value,e;case h.UPDATE_GRID_ON_RESIZE:if(e=(0,c.default)({},i),e.tablePreviewMap=(0,l.default)({},e.tablePreviewMap),e.tablePreviewMap[n.value.tabId]){var d=e.tablePreviewMap[n.value.tabId].previewHeader;if(d){var f=(0,o.default)(d).find(function(e){return d[e].id===n.value.colId});f>=0&&(d[f].width=n.value.width)}}return e;case h.UPDATE_GRID_SCROLL_STATE:return e=(0,c.default)({},i),e.tablePreviewMap=(0,l.default)({},e.tablePreviewMap),e.tablePreviewMap[n.value.tabId]&&(e.tablePreviewMap[n.value.tabId].scrollState=n.value.scrollState),e;case h.TOGGLE_OBJECT_INFO_HEADER:return(0,l.default)({},i,{showObjectInfoHeader:!i.showObjectInfoHeader});case h.UPDATE_OVERVIEW_ZOOM_SCALE:return(0,l.default)({},i,{overviewZoomScale:n.scale});case h.UPDATE_EDIT_PIPELINE_ZOOM_SCALE:return(0,l.default)({},i,{editPipelineZoomScale:n.scale});case h.SET_DW_UPDATE_FLAG:return e=(0,c.default)({},i),t=e.tableList.filter(function(e){return e.id===n.tableId})[0],t.dwUpdateFlag=n.dwUpdateFlag,e;case h.UPDATE_TABLE_ROW_COUNT:return e=(0,c.default)({},i),t=e.tableList.filter(function(e){return e.id===n.tableId})[0],t.rawTotalCount=n.rawTotalCount,e;case h.UPDATE_OPERATION_LIST:return(0,l.default)({},i,{tableList:i.tableList.map(function(e){return n.tableId===e.id?(0,l.default)({},e,{operationList:{operations:n.operations}}):e})});case h.SET_DW_NEW_SCRIPT:return(0,l.default)({},i,{tableList:i.tableList.map(function(e){return n.tableId===e.id?(0,l.default)({},e,{operationList:{operations:e.operationList.operations&&e.operationList.operations.map(function(e,t){return t===n.idx?(0,l.default)({},e,{isNew:!0}):e})}}):e})});case h.UNSET_DW_NEW_SCRIPT:return(0,l.default)({},i,{tableList:i.tableList.map(function(e){return n.tableId===e.id?(0,l.default)({},e,{operationList:{operations:e.operationList.operations&&e.operationList.operations.map(function(e,t){return t===n.idx?(0,l.default)({},e,{isNew:!1}):e})}}):e})});case h.DP_TOGGLE_AUTOLAYOUT:return(0,l.default)({},i,{enableAutoLayout:n.value});default:return i}};t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.path,i=e.headers,n=void 0===i?"{}":i,r=e.form,a=void 0===r?"{}":r,s=e.method,u=void 0===s?"GET":s;return c.connectionBackend.task("arch.spark",{sessionState:mstrAppSchema.sessionState,path:t,headers:(0,l.default)((0,o.default)({},d,n)),form:a,method:u}).then(function(e){var t=e.httpStatus,i=e.body;if((t>=200||t<300)&&"ERROR"===i.status){var n=new Error(i.message);throw n.statusCode=t,n.errorMessage=i.message,n}return i})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(55),o=n(a),s=i(53),l=n(s),u=i(20),c=i(381),d={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"};t.default={post:function(e,t){return t.clientId=u.workspaceManager.currentClientId,r({path:e,headers:d,form:(0,l.default)(t),method:"POST"})},get:function(e,t){return r({path:e,headers:(0,o.default)({},d,t),method:"GET"})},del:function(e,t){return t.clientId=u.workspaceManager.currentClientId,r({path:e,headers:d,form:(0,l.default)(t),method:"DELETE"})},put:function(e,t){return t.clientId=u.workspaceManager.currentClientId,r({path:e,headers:d,form:(0,l.default)(t),method:"PUT"})},patch:function(e,t){return t.clientId=u.workspaceManager.currentClientId,r({path:e,headers:d,form:(0,l.default)(t),method:"PATCH"})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(55),a=n(r),o=i(53),s=n(o),l=i(20),u=i(381),c=i(374),d={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},h=(0,c.getSparkServerURL)(),f=function(e){var t=e.status;return t>=200&&t<300?e.json():e.json().then(function(e){if("ERROR"===e.status){var i=new Error(e.message);throw i.statusCode=t,i.errorMessage=e.message,i}return e}).catch(function(e){throw e})};t.default={post:function(e,t){return t.clientId=l.workspaceManager.currentClientId,u.connectionBackend.fetch(h+e,{method:"POST",headers:d,body:(0,s.default)(t)}).then(f,f)},get:function(e,t){return u.connectionBackend.fetch(h+e,{method:"GET",headers:(0,a.default)({},d,t)}).then(f,f)},del:function(e,t){return t.clientId=l.workspaceManager.currentClientId,u.connectionBackend.fetch(h+e,{method:"DELETE",headers:d,body:(0,s.default)(t)}).then(f,f)},put:function(e,t){return t.clientId=l.workspaceManager.currentClientId,u.connectionBackend.fetch(h+e,{method:"PUT",headers:d,body:(0,s.default)(t)}).then(f,f)},patch:function(e,t){return t.clientId=l.workspaceManager.currentClientId,u.connectionBackend.fetch(h+e,{method:"PATCH",headers:d,body:(0,s.default)(t)}).then(f,f)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1265),w=n(y),x=i(557),E=n(x),_=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(){var e=this.props,t=e.store,i=e.error;return g.default.createElement(b.Provider,{store:t},i?g.default.createElement(E.default,null):g.default.createElement(w.default,null))}}]),t}(p.Component);_.propTypes={store:m.default.object.isRequired,error:m.default.bool},t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{updateLeftPanel:(0,w.bindActionCreators)(R.updateLeftPanel,e),updateRightPanel:(0,w.bindActionCreators)(R.updateRightPanel,e),updatePreviewPanel:(0,w.bindActionCreators)(R.updatePreviewPanel,e),updateWorkspacePanel:(0,w.bindActionCreators)(R.updateWorkspacePanel,e),closeConfirmationDialog:(0,w.bindActionCreators)(R.closeConfirmationDialog,e),confirmConfirmationDialog:(0,w.bindActionCreators)(R.confirmConfirmationDialog,e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(14),w=i(16),x=i(108),E=i(2164),_=n(E),A=i(1256),C=n(A),S=i(1260),T=n(S),I=i(1308),D=n(I),O=i(1084),M=n(O),k=i(1083),N=n(k),P=i(1269),L=n(P),R=i(38);i(1836);var F=i(1274),j=n(F),B=i(1272),H=n(B),V=i(1266),U=n(V),W=i(557),z=n(W),G=i(1268),$=n(G),q=i(1267),Y=n(q),J=function(e){function t(){var e,i,n,r;(0,l.default)(this,t);for(var a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return i=n=(0,h.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),n.resize=function(){n.updateWorkspace(n.props.layout)},n.getWorkspacePanelUpdate=function(e,t,i,n){var r=window.innerWidth,a=window.innerHeight;return{width:r-(e.display?e.width:0)-(t.display?t.width:0)-(i.display?i.width:0),height:a-n.height}},r=i,(0,h.default)(n,r)}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.updateWorkspace(this.props.layout)}},{key:"updateWorkspace",value:function(e){var t=e.sidebar,i=e.leftPanel,n=e.toolbar,r=e.rightPanel,a=this.getWorkspacePanelUpdate(i,r,t,n);this.props.updateWorkspacePanel(a);var o={height:a.height},s={height:a.height};this.props.updateLeftPanel(o),this.props.updateRightPanel(s)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var e=this.props,t=e.confirmDialog,i=e.closeConfirmationDialog,n=e.confirmConfirmationDialog;return v.default.createElement("div",{className:"app-body"},v.default.createElement(j.default,null),this.props.layout.sidebar.display?v.default.createElement(H.default,null):null,v.default.createElement("div",null,this.props.layout.leftPanel.display?v.default.createElement("div",{style:this.getTablePanelStyle()},v.default.createElement(C.default,null)):null,v.default.createElement("div",{style:this.getWorkspacePanelStyle()},v.default.createElement(T.default,null)),this.props.layout.rightPanel.display?v.default.createElement("div",{style:{width:this.props.layout.rightPanel.width,float:"right"}},v.default.createElement(N.default,null)):null),v.default.createElement(M.default,null),v.default.createElement(L.default,null),v.default.createElement(D.default,{actionTitle:t.title,actionHeader:t.header,actionDetails:t.details,isOpen:t.visible,onCancel:i,onContinue:n}),v.default.createElement(U.default,null),v.default.createElement(z.default,null),v.default.createElement($.default,null),v.default.createElement(Y.default,null))}},{key:"getButtonStyle",value:function(e){return e?"":"toolbar-button-disabled"}},{key:"getAppSideBarStyle",value:function(){return{float:"left",width:this.props.layout.sidebar.width,height:window.innerHeight-this.props.layout.toolbar.height}}},{key:"getTablePanelStyle",value:function(){return{float:"left",width:this.props.layout.leftPanel.display?this.props.layout.leftPanel.width:0,height:window.innerHeight-this.props.layout.toolbar.height}}},{key:"getWorkspacePanelStyle",value:function(){return{float:"left",overflow:"hidden",width:window.innerWidth-(this.props.layout.sidebar.display?this.props.layout.sidebar.width:0)-(this.props.layout.leftPanel.display?this.props.layout.leftPanel.width:0)-(this.props.layout.rightPanel.display?this.props.layout.rightPanel.width:0),height:window.innerHeight-this.props.layout.toolbar.height}}}]),t}(g.Component);J.propTypes={layout:b.default.object,updateLeftPanel:b.default.func,updateRightPanel:b.default.func,updateWorkspacePanel:b.default.func};var K=function(e){return{layout:e.layout,selectedTableIds:e.dpState.selectedTableIds,modelInstance:e.dmState.importSources,wsDefinition:e.dpState.wsdefinition,confirmDialog:e.uiComponentState.confirmDialog}};t.default=(0,y.connect)(K,r)((0,x.DragDropContext)(_.default)(J))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1289),w=n(y),x=i(273),E=i(559),_=i(225),A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onCancel=i.onCancel.bind(i),i.onOK=i.onOK.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onOK",value:function(){this.props.dispatch((0,_.closeConfirmDialog)()),(0,E.executeOk)()}},{key:"onCancel",value:function(){this.props.dispatch((0,_.closeConfirmDialog)()),(0,E.executeCancel)()}},{key:"render",value:function(){var e=this.props.config,t=e.message,i=e.okText,n=e.cancelText,r=e.title,a=e.details,o=e.open;return g.default.createElement(w.default,{message:t,onOK:this.onOK,onCancel:this.onCancel,okText:i,cancelText:n,title:r,details:a,open:o})}}]),t}(p.Component);A.propTypes={config:m.default.object.isRequired};var C=function(e){return{config:(0,x.selectConfirmDialog)(e)}};t.default=(0,b.connect)(C,null)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1290),w=n(y),x=i(273),E=i(561),_=i(562),A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onCancel=i.onCancel.bind(i),i.onOK=i.onOK.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onOK",value:function(){this.props.dispatch((0,_.closeCubePublishDialog)()),(0,E.executeOk)()}},{key:"onCancel",value:function(){this.props.dispatch((0,_.closeCubePublishDialog)()),(0,E.executeCancel)()}},{key:"render",value:function(){var e=this.props.config,t=e.message,i=e.okText,n=e.cancelText,r=e.title,a=e.details,o=e.open;return g.default.createElement(w.default,{message:t,onOK:this.onOK,onCancel:this.onCancel,okText:i,cancelText:n,title:r,details:a,open:o})}}]),t}(p.Component);A.propTypes={config:m.default.object.isRequired};var C=function(e){return{config:(0,x.selectCubePublishDialog)(e)}};t.default=(0,b.connect)(C,null)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(14),y=i(1306),w=n(y),x=i(273),E=i(564),_=i(565),A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.onCancel=i.onCancel.bind(i),i.onOK=i.onOK.bind(i),i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"onOK",value:function(){this.props.dispatch((0,_.closeFeatureFlagDialog)()),(0,E.executeOk)()}},{key:"onCancel",value:function(){this.props.dispatch((0,_.closeFeatureFlagDialog)()),(0,E.executeCancel)()}},{key:"render",value:function(){var e=this.props.config,t=e.message,i=e.okText,n=e.cancelText,r=e.title,a=e.details,o=e.open;return g.default.createElement(w.default,{message:t,onOK:this.onOK,onCancel:this.onCancel,okText:i,cancelText:n,title:r,details:a,open:o})}}]),t}(p.Component);A.propTypes={config:m.default.object.isRequired};var C=function(e){return{config:(0,x.selectFeatureFlagDialog)(e)}};t.default=(0,b.connect)(C,null)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.text,i=e.show,n=e.blur,r=e.hideSpinner,a=(0,u.default)("curtain",{hide:!i,transparent:!n});return s.default.createElement("div",{className:"loading"},s.default.createElement("div",{className:a},r?null:s.default.createElement(p.default,{size:"large",text:t})))}function a(e,t){return{text:e.dmState.loading.text?e.dmState.loading.text:t.text,show:e.dmState.loading.show,blur:e.dmState.loading.blur,hideSpinner:e.dmState.loading.hideSpinner}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=n(o),l=i(8),u=n(l),c=i(5),d=n(c),h=i(14),f=i(278),p=n(f);i(1833),r.propTypes={text:d.default.string,show:d.default.bool,blur:d.default.bool,hideSpinner:d.default.bool},r.defaultProps={text:"Waiting",show:!1,blur:!0,hideSpinner:!1},t.default=(0,h.connect)(a)(r)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={text:"",show:!1,blur:!0,hideSpinner:!1},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case"TOGGLE_LOADING":return t.payload;default:return e}};t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return{updateLeftPanel:(0,w.bindActionCreators)(_.updateLeftPanel,e),updateRightPanel:(0,w.bindActionCreators)(_.updateRightPanel,e),updatePreviewPanel:(0,w.bindActionCreators)(_.updatePreviewPanel,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=void 0;var a=i(9),o=n(a),s=i(2),l=n(s),u=i(6),c=n(u),d=i(4),h=n(d),f=i(3),p=n(f),g=i(1),v=n(g),m=i(5),b=n(m),y=i(14),w=i(16),x=i(153),E=n(x),_=i(38),A=i(270);i(1834);var C=i(8),S=n(C),T=t.Sidebar=function(e){function t(){return(0,l.default)(this,t),(0,h.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props.workspaceOperationState.enableObjectPanelToggle;return v.default.createElement("div",{className:"app-sidebar",style:this.getAppSideBarStyle()},v.default.createElement(E.default,{placement:"right",text:"Table Panel",align:{offset:[-1,0]}},v.default.createElement("div",{className:(0,S.default)("sidebar-link-table-panel","sidebar-link",this.props.layout.leftPanel.display?"sidebar-link-on":null),onClick:function(){return e.toggleTablePanel()}},v.default.createElement("div",{className:(0,S.default)("sidebar-icon","sidebar-show-data-source-panel")}))),v.default.createElement(E.default,{placement:"right",text:"Object Panel",align:{offset:[-1,0]}},v.default.createElement("div",{className:(0,S.default)("sidebar-link-object-panel","sidebar-link",this.props.layout.rightPanel.display?"sidebar-link-on":null),onClick:t?function(){return e.toggleRightPanel()}:null},v.default.createElement("div",{className:(0,S.default)("sidebar-icon","sidebar-show-object-panel",t?null:"sidebar-icon-disabled")}))),v.default.createElement(E.default,{placement:"right",text:"Preview Panel",align:{offset:[-1,0]}},v.default.createElement("div",{className:(0,S.default)("sidebar-link-preview-panel","sidebar-link",this.props.layout.previewPanel.enabled?"sidebar-link-on":null),onClick:function(){return e.togglePreviewPanel()}},v.default.createElement("div",{className:(0,S.default)("sidebar-icon","sidebar-show-preview-panel")}))))}},{key:"getAppSideBarStyle",value:function(){return{float:"left",width:this.props.layout.sidebar.width,height:window.innerHeight-this.props.layout.toolbar.height+1}}},{key:"toggleTablePanel",value:function(){var e={display:!this.props.layout.leftPanel.display};this.props.updateLeftPanel(e)}},{key:"toggleRightPanel",value:function(){var e={display:!this.props.layout.rightPanel.display};this.props.updateRightPanel(e)}},{key:"togglePreviewPanel",value:function(){var e={enabled:!this.props.layout.previewPanel.enabled};this.props.updatePreviewPanel(e)}}]),t}(g.Component);T.propTypes={layout:b.default.object,updateLeftPanel:b.default.func,updateRightPanel:b.default.func,updatePreviewPanel:b.default.func,workspaceOperationState:b.default.object};var I=function(e){return{layout:e.layout,workspaceOperationState:(0,A.selectWorkspaceOperationState)(e)}};t.default=(0,y.connect)(I,r)(T)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1271),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{toggleDataWrangler:(0,x.bindActionCreators)(j.toggleDataWrangler,e),joinTable:(0,x.bindActionCreators)(B.joinTable,e),unionTable:(0,x.bindActionCreators)(B.unionTable,e),differenceTable:(0,x.bindActionCreators)(B.differenceTable,e),intersectTable:(0,x.bindActionCreators)(B.intersectTable,e),saveAndPublishInitially:(0,x.bindActionCreators)(E.saveAndPublishInitially,e),saveAndPublishInEditMode:(0,x.bindActionCreators)(E.saveAndPublishInEditMode,e),saveProgress:(0,x.bindActionCreators)(E.saveProgress,e),setOverviewCanvasZoomScale:(0,x.bindActionCreators)(B.setOverviewCanvasZoomScale,e),setEditPipelineCanvasZoomScale:(0,x.bindActionCreators)(B.setEditPipelineCanvasZoomScale,e),toggleAutoLayout:(0,x.bindActionCreators)(B.toggleAutoLayout,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var o=i(9),s=r(o),l=i(2),u=r(l),c=i(6),d=r(c),h=i(4),f=r(h),p=i(3),g=r(p),v=i(1),m=r(v),b=i(5),y=r(b),w=i(14),x=i(16),E=i(529),_=i(566),A=r(_),C=i(20),S=i(132),T=r(S),I=i(87),D=n(I),O=i(96),M=i(353);i(1835);var k=i(29),N=i(8),P=r(N),L=i(270),R=i(22),F=i(148),j=i(126),B=i(52),H=i(85),V=i(1324),U=r(V),W=i(153),z=r(W),G=i(95),$=r(G),q=i(1280),Y=r(q),J=i(271),K=i(562),X=t.Toolbar=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.FIT_TO_SCREEN_OPTION="fit_to_screen",i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props.workspaceOperationState,i=this.props.tableOpertationState,n=(t.canZoom?null:{disabled:"disabled"},t.enableToolbar?"none":"block"),r=this.props.canvasZoomScale,a=[];return this.outOfRange(r)&&a.push({value:r,text:Math.round(100*r)+"%"}),a=a.concat([{value:this.FIT_TO_SCREEN_OPTION,text:"Fit to Screen"},{value:.25,text:"25%"},{value:.5,text:"50%"},{value:.75,text:"75%"},{value:1,text:"100%"},{value:1.25,text:"125%"},{value:1.5,text:"150%"},{value:2,text:"200%"},{value:4,text:"400%"}]),m.default.createElement("div",{className:"toolbar-header"},m.default.createElement("div",{className:"toolbar-curtain",style:{display:n}}),m.default.createElement("div",{className:"left-section"},m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Save"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-save","margin-8px",this.getButtonStyle(t.canSave)),onClick:t.canSave?function(){return e.save()}:null})))),m.default.createElement("div",{className:"toolbar-icon toolbar-separator"}),m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Add Data Source"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-add-ds",this.getButtonStyle(t.canAddDS)),onClick:t.canAddDS?function(){return e.addDataSource()}:null}))))),m.default.createElement("div",{className:"toolbar-add-ds table-operation-section"},m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Wrangle"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-wrangle",this.getButtonStyle(i.canWrangle)),onClick:i.canWrangle?function(){return e.wrangle()}:null}))),m.default.createElement("div",{className:"toolbar-icon toolbar-separator"}),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Join"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-join",this.getButtonStyle(i.canJoin)),onClick:i.canJoin?function(){return e.props.joinTable()}:null}))),m.default.createElement("div",{className:"toolbar-icon toolbar-separator"}),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Union"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-union",this.getButtonStyle(i.canUnion)),onClick:i.canUnion?function(){return e.props.unionTable(!1)}:null}))),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Union All"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-union-all",this.getButtonStyle(i.canUnion)),onClick:i.canUnion?function(){return e.props.unionTable(!0)}:null}))),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Difference"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-difference",this.getButtonStyle(i.canUnion)),onClick:i.canUnion?function(){return e.props.differenceTable()}:null}))),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Intersect"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-intersect",this.getButtonStyle(i.canUnion)),onClick:i.canUnion?function(){return e.props.intersectTable()}:null})))),m.default.createElement("div",{className:"layout-operation-section"},m.default.createElement("div",{className:"layout-operation-container"},m.default.createElement("span",{className:"control-label"},"Auto Layout"),m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Auto Layout"},m.default.createElement(Y.default,{size:"small",defaultChecked:!0,disabled:i.showWrangler,onChange:function(){e.toggleAutoLayout()}})))),m.default.createElement("div",{className:"toolbar-icon toolbar-separator"}),m.default.createElement("div",{className:"layout-zoom-container"},m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Zoom Out"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-zoom-out",this.getButtonStyle(t.canZoom)),onClick:t.canZoom?function(){return e.zoomOut()}:null})))),m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Zoom In"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-zoom-in",this.getButtonStyle(t.canZoom)),onClick:t.canZoom?function(){return e.zoomIn()}:null})))),m.default.createElement("div",{className:"toolbar-zoom-ratio"},m.default.createElement($.default,{style:{width:100},disabled:!t.canZoom,onChange:function(t){return e.handleZoomChange(t)},value:r,datasource:a})))),m.default.createElement("div",{className:"right-section"},m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Publish Cube"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-publish","pull-right",this.getButtonStyle(t.canPublish)),onClick:t.canPublish?function(){return e.publish()}:null})))),m.default.createElement("div",{className:"toolbar-icon toolbar-separator pull-right"}),m.default.createElement("div",null,m.default.createElement("a",{className:"toolbar-link"},m.default.createElement(z.default,{text:"Exit"},m.default.createElement("div",{className:(0,P.default)("toolbar-icon","toolbar-exit","pull-right",this.getButtonStyle(t.canExit)),onClick:t.canExit?function(){return e.exit()}:null}))))))}},{key:"getButtonStyle",value:function(e){return this.props.workspaceOperationState.enableToolbar&&e?"":"toolbar-button-disabled"}},{key:"addDataSource",value:function(){T.default.openDataImport()}},{key:"wrangle",value:function(){var e=this;if(1===this.props.selectedTableIds.length){var t=this.props.selectedTableIds[0],i=this.props.currentPipelineId;this.props.tablePreviewMap[t]?this.props.toggleDataWrangler():(0,F.previewTable)(t,null,i).then(function(){e.props.toggleDataWrangler()})}}},{key:"save",value:function(){var e=this.props,t=e.cubeName,i=e.saveProgress;if(C.workspaceManager.isWorkspaceEmpty())(0,k.dispatchAction)((0,J.openAlertDialog)({message:"Empty Workspace",details:"There are no tables to be saved in Workspace"}));else if((M.dataModelingManager.isEditCubeMode()||M.dataModelingManager.isCubeSaved())&&M.dataModelingManager.isEditSuperCube())i({name:t,desc:window.mstrAppSchema&&window.mstrAppSchema.cubeDesc?window.mstrAppSchema.cubeDesc:""});else{var n=(0,A.default)(function(e){return i(e)});n.open()}}},{key:"publish",value:function(){var e=this.props,t=e.saveAndPublishInitially,i=e.saveAndPublishInEditMode;if(C.workspaceManager.isWorkspaceEmpty())(0,k.dispatchAction)((0,J.openAlertDialog)({message:"Empty Workspace",details:"There are no tables to be saved in Workspace"}));else if((M.dataModelingManager.isEditCubeMode()||M.dataModelingManager.isCubeSaved())&&M.dataModelingManager.isEditSuperCube())i();else{var n=(0,A.default)(function(e){var i=C.workspaceManager.featureFlags.list.filter(function(e){return"publish-dda"===e.id})[0];i&&i.enabled?(0,k.dispatchAction)((0,K.openCubePublishDialog)({title:"Select pipelines to be live mode (Non-cached in Spark Memory)",okText:"Confirm",cancelText:"Cancel",okAction:function(){t(e)}})):t(e)});n.open()}}},{key:"exit",value:function(){(0,U.default)(this.props.saveProgress,this.props.dirty)}},{key:"handleZoomChange",value:function(e){var t=void 0;if(e===this.FIT_TO_SCREEN_OPTION){var i=this.getGraph(),n=i.layout;n.fitToScreen("toolbar"),t=this.FIT_TO_SCREEN_OPTION,this.props.isEditPipelineMode?this.props.setOverviewCanvasZoomScale(t):this.props.setEditPipelineCanvasZoomScale(t)}else t=parseFloat(e),t&&this.zoom(t)}},{key:"outOfRange",value:function(e){return.25!==e&&.5!==e&&.75!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e&&4!==e&&e!==this.FIT_TO_SCREEN_OPTION}},{key:"zoomIn",value:function(){this.zoomDelta(.1)}},{key:"zoomOut",value:function(){this.zoomDelta(-.1)}},{key:"getGraph",value:function(){return this.props.isEditPipelineMode?H.pipelineManager.pipelineVisual.pegraph:H.pipelineManager.pipelineVisual.graph}},{key:"zoomDelta",value:function(e){var t=this.getGraph(),i=Math.round(100*t.zoomhandler.getScale())/100+e,n=Math.min(Math.max(D.MIN_ZOOM,i),D.MAX_ZOOM);this.zoom(n)}},{key:"zoom",value:function(e){var t=this.getGraph(),i={x:.5*t.w,y:.5*t.h};t.zoomhandler?t.zoomhandler.setRelativeZoom(e,i,O.GRAPH_LAYOUT.MANUAL):null,this.props.isEditPipelineMode?this.props.setEditPipelineCanvasZoomScale(e):this.props.setOverviewCanvasZoomScale(e)}},{key:"autoLayout",value:function(){var e=this.getGraph();e&&e.layout&&e.setLayout(e.layout.layout===O.GRAPH_LAYOUT.MANUAL?O.GRAPH_LAYOUT.FORCE_DIRECTED:e.layout.layout)}},{key:"toggleAutoLayout",value:function(){var e=!this.props.enableAutoLayout;e&&this.autoLayout(),this.props.toggleAutoLayout(e)}}]),t}(v.Component);X.propTypes={toggleDataWrangler:y.default.func,joinTable:y.default.func,unionTable:y.default.func,differenceTable:y.default.func,intersectTable:y.default.func,selectedTableIds:y.default.array,saveAndPublishInitially:y.default.func,saveAndPublishInEditMode:y.default.func,saveProgress:y.default.func,dirty:y.default.bool,cubeName:y.default.string,currentPipelineId:y.default.string,tablePreviewMap:y.default.object,tableOpertationState:y.default.object,workspaceOperationState:y.default.object,setOverviewCanvasZoomScale:y.default.func,setEditPipelineCanvasZoomScale:y.default.func,isEditPipelineMode:y.default.bool,canvasZoomScale:y.default.number};var Q=function(e){return{layout:e.layout,selectedTableIds:e.dpState.selectedTableIds,tableList:e.dpState.tableList,wsDefinition:e.dpState.wsdefinition,isEditPipelineMode:e.dpState.isEditPipelineMode,canvasZoomScale:e.dpState.isEditPipelineMode?e.dpState.editPipelineZoomScale:e.dpState.overviewZoomScale,tableOpertationState:(0,L.selectTableOperationState)(e),workspaceOperationState:(0,L.selectWorkspaceOperationState)(e),tablePreviewMap:(0,R.selectTablePreviewMap)(e),currentPipelineId:(0,R.selectCurrentPipelineId)(e),dirty:e.dmState.importSources.dirty,cubeName:e.dmState.dataSet,enableAutoLayout:e.dpState.enableAutoLayout}};t.default=(0,w.connect)(Q,a)(X)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1273),a=n(r);t.default=a.default;
},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=r(a),s=i(7),l=r(s),u=i(55),c=r(u),d=i(371),h=n(d),f={toolbar:{display:!0,height:36},sidebar:{display:!0,width:38,buttons:{tablePanel:{enabled:!0},objectPanel:{enabled:!0},previewPanel:{enabled:!0}}},leftPanel:{display:!0,width:220,height:200},rightPanel:{display:!1,width:200,height:200,metricSection:{minHeight:200}},canvasPanel:{display:!0,height:"100%"},previewPanel:{display:!1,height:400,enabled:!0},workspacePanel:{display:!0,height:800,width:600},wranglerPanel:{display:!0,height:"100%",width:218},expBuilderPanel:{height:280}},p=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=arguments[1];switch(i.type){case h.CANVAS_PANEL_UPDATE:return e=(0,c.default)({},t),e.canvasPanel=i.value,e;case h.LEFT_PANEL_UPDATE:if(e=(0,c.default)({},t),null!=i.value.width){var n=(t.leftPanel.display?i.value.width:0)-t.leftPanel.width;e=g(t,e,n)}else null!=i.value.display&&(e=g(t,e,i.value.display?t.leftPanel.width:0-t.leftPanel.width));return null!=i.value.display?e.leftPanel.display=i.value.display:null,null!=i.value.width?e.leftPanel.width=i.value.width:null,null!=i.value.height?e.leftPanel.height=i.value.height:null,e;case h.RIGHT_PANEL_UPDATE:if(e=(0,c.default)({},t),null!=i.value.width){var r=(t.rightPanel.display?i.value.width:0)-t.rightPanel.width;e=g(t,e,r)}else if(null!=i.value.display&&i.value.display!==t.rightPanel.display){var a=i.value.display?t.rightPanel.width:0-t.rightPanel.width;e=g(t,e,a)}return null!=i.value.display?e.rightPanel.display=i.value.display:null,null!=i.value.width?e.rightPanel.width=i.value.width:null,null!=i.value.height?e.rightPanel.height=i.value.height:null,i.value.metricSection?e.rightPanel.metricSection=i.value.metricSection:null,e;case h.PREVIEW_PANEL_UPDATE:return e=(0,c.default)({},t),null!=i.value.display?e.previewPanel.display=i.value.display:null,null!=i.value.height?e.previewPanel.height=i.value.height:null,null!=i.value.enabled&&(e.previewPanel.enabled=i.value.enabled),e;case h.WORKSPACE_PANEL_UPDATE:if(e=(0,c.default)({},t),null!=i.value.display?e.workspacePanel.display=i.value.display:null,null!=i.value.width?e.workspacePanel.width=i.value.width:null,null!=i.value.height?e.workspacePanel.height=i.value.height:null,null!=i.value.height){var s=i.value.height-t.workspacePanel.height;e=v(t,e,s)}return e;case h.WRANGLER_PANEL_UPDATE:return e=(0,c.default)({},t),e.wranglerPanel=i.value,e;case h.SET_EXP_BUILDER_HEIGHT:return(0,l.default)({},t,{expBuilderPanel:{height:i.value}});case h.TOOLBAR_UPDATE:return e=(0,c.default)({},t),(0,o.default)(i.value.buttons).map(function(t){e.toolbar.buttons[t]=i.value.buttons[t]}),null!=i.value.display?e.toolbar.display=i.value.display:null,null!=i.value.height?e.toolbar.height=i.value.height:null,e;default:return t}},g=function(e,t,i){var n=e.workspacePanel;return n.width=n.width-i,t.workspacePanel=n,t},v=function(e,t,i){var n=e.canvasPanel;return n.width=n.width-i,t.canvasPanel=n,t};t.default=p},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u.SET_TABLE_PANEL_VIEW:return(0,s.default)({},e,{panelView:t.panelView});case u.SET_APP_DISPLAY_MODE:return(0,s.default)({},e,{appDispalyMode:t.mode});case u.SHOW_CONFIRMATION_DIALOG:return(0,s.default)({},e,{confirmDialog:{visible:!0,title:t.title,header:t.header,details:t.details}});case u.CLOSE_CONFIRMATION_DIALOG:return(0,s.default)({},e,{confirmDialog:{visible:!1,title:"",header:"",details:""}});case c.OPEN_CONFIRM_DIALOG:return(0,s.default)({},e,{confirmationDialog:(0,s.default)({},t.config,{open:!0})});case c.CLOSE_CONFIRM_DIALOG:return(0,s.default)({},e,{confirmationDialog:{open:!1}});case d.OPEN_ALERT_DIALOG:return(0,s.default)({},e,{alertDialog:(0,s.default)({},t.config,{open:!0})});case d.CLOSE_ALERT_DIALOG:return(0,s.default)({},e,{alertDialog:{open:!1}});case h.OPEN_FEATUREFLAG_DIALOG:return(0,s.default)({},e,{featureFlagDialog:(0,s.default)({},t.config,{open:!0})});case h.CLOSE_FEATUREFLAG_DIALOG:return(0,s.default)({},e,{featureFlagDialog:{open:!1}});case f.OPEN_CUBEPUBLISH_DIALOG:return(0,s.default)({},e,{cubePublishDialog:(0,s.default)({},t.config,{open:!0})});case f.CLOSE_CUBEPUBLISH_DIALOG:return(0,s.default)({},e,{cubePublishDialog:{open:!1}});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=r(o);t.default=a;var l=i(371),u=n(l),c=i(558),d=i(555),h=i(563),f=i(560),p={panelView:"TREE",appDispalyMode:"dataprep",confirmDialog:{visible:!1,title:"",header:"",details:""},confirmationDialog:{open:!1,title:null,message:null,details:null,cancelText:null,okText:null},alertDialog:{open:!1,title:null,message:null,details:null,okText:null},featureFlagDialog:{open:!1,title:null,message:null,details:null,okText:null},cubePublishDialog:{open:!1,title:null,message:null,details:null,okText:null}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(110),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(212);var b=i(1),y=n(b);i(1838);var w=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement(a.default,(0,s.default)({className:"mstr-as-checkbox"},this.props))}}]),t}(y.default.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(181),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(253);var b=i(1),y=n(b);i(1840);var w=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement(a.default.Divider,(0,s.default)({className:"mstr-as-menu-divider"},this.props),this.props.children)}}]),t}(y.default.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(181),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(253);var b=i(1),y=n(b);i(1841);var w=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement(a.default.Item,(0,s.default)({className:"mstr-as-menu-item"},this.props),this.props.children)}}]),t}(y.default.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(502),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(987);var b=i(1),y=n(b);i(1845);var w=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){return y.default.createElement(a.default,(0,s.default)({className:"mstr-as-switch"},this.props))}}]),t}(b.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TABLE_UNIQUE_PROPERTIES=void 0;var r,a=i(12),o=n(a),s=i(48);t.TABLE_UNIQUE_PROPERTIES=(r={},(0,o.default)(r,s.DBTYPES.LOCALFILE.v.toString(),{dbr:!1,filename:!1,name:!0,ns:!0,sheetIndex:!1,type:!1,url:!1}),(0,o.default)(r,s.DBTYPES.URL.v.toString(),{dbr:!0,filename:!1,name:!0,ns:!0,sheetIndex:!1,type:!1,url:!1}),(0,o.default)(r,s.DBTYPES.GOOGLE_ANALYTICS.v.toString(),{dbr:!0,dbtn:!1,name:!0,sheetIndex:!1,type:!1,url:!0,account_id:!0}),(0,o.default)(r,s.DBTYPES.SALESFORCE.v.toString(),{dbr:!0,name:!0,sheetIndex:!1,type:!1,url:!0,account_id:!0}),(0,o.default)(r,s.DBTYPES.DROPBOX.v.toString(),{dbr:!0,name:!0,sheetIndex:!1,type:!1,url:!0,account_id:!0}),(0,o.default)(r,s.DBTYPES.GOOGLE_BIGQUERY.v.toString(),{dbtn:!1,name:!0,id:!1,n:!1,account_id:!0,ns:!0}),(0,o.default)(r,s.DBTYPES.GOOGLE_DRIVE.v.toString(),{dbr:!0,name:!0,sheetIndex:!1,type:!1,url:!0,account_id:!0}),(0,o.default)(r,s.DBTYPES.AMAZON_REDSHIFT.v.toString(),{dbr:!0,dbrn:!1,dbtn:!1,gbqbid:!1,name:!0,ns:!0}),(0,o.default)(r,"DATABASE",{dbr:!0,dbrn:!1,dbtn:!1,gbqbid:!1,n:!0,name:!1,ns:!0}),(0,o.default)(r,"FFSQL",{dbr:!0,dbtn:!1,name:!0,ns:!0,sql:!0}),r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,i=[];for(t in e){var n=e[t];i.push({n:n,ns:"idm_intel",dbr:"5471F97D4205F108FBDFA589E719BE8A",dbrn:"RedShift",tid:"",gbqpid:"",name:n})}return i}var a=i(53),o=(n(a),i(26));n(o),i(29),[{id:"5471F97D4205F108FBDFA589E719BE8A",type:4200,name:"RedShift",tables:r(["badge","lu_country","lu_state","lu_city","badge1","badge2","badge3","badge4","badge5","device","fact_access_transactions_view","access_transactions_view","access_transactions","day_of_week","daypart","hour","badge_columnx2","badge_columnx5"]),expanded:!1},{id:"E004C11248E86A7D167932B588DAF134",type:1700,name:"AppSchema_MySQL",tables:[{n:"badge",ns:"idm_intel",dbr:"E004C11248E86A7D167932B588DAF134",dbrn:"AppSchema_MySQL",tid:"",gbqpid:"",name:"badge"}],expanded:!1},{id:"35A0D1584858A9C059672F86F5537837",type:300,name:"FACETS (SQLServer)",tables:[{n:"Test_Time",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Test_Time"},{n:"Threshold-2",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Threshold-2"},{n:"date_data",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"date_data"},{n:"Date_THRESHOLD",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Date_THRESHOLD"},{n:"date2_datawithtime",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"date2_datawithtime"},{n:"DateTime_data",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"DateTime_data"},{n:"Datetime_MS",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Datetime_MS"},{n:"DateTime_THRESHOLD",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"DateTime_THRESHOLD"},{n:"DateTime_THRESHOLD2",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"DateTime_THRESHOLD2"},{n:"DateTime2",ns:"dbo",dbr:"35A0D1584858A9C059672F86F5537837",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"DateTime2"},{n:"disp",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"disp"},{n:"dt_table",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"dt_table"},{n:"Num_facets",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Num_facets"},{n:"PRAYER",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"PRAYER"},{n:"test_facet",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"test_facet"},{n:"Threshold-2",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Threshold-2"},{n:"Time_THRESHOLD",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Time_THRESHOLD"},{n:"Date_Threshold",ns:"dbo",dbr:"B617B36044D0C48BDEA1F8840F7CBA2D",dbrn:"FACETS (SQLServer)",tid:"",gbqpid:"",name:"Date_Threshold"}],expanded:!1},{id:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",type:1700,name:"mysql_sheng",tables:[{n:"numeric_test",ns:"fmbh",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"numeric_test"},{n:"city_payroll",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"city_payroll"},{n:"creditcard",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"creditcard"},{n:"empty_table",ns:"fmbh",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"empty_table"},{n:"fake100",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"fake100"},{n:"fake1000",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"fake1000"},{n:"loan_stats_simple",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"loan_stats_simple"},{n:"loan_stats_simple_500",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"loan_stats_simple_500"},{n:"online_retail",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"online_retail"},{n:"column_name",ns:"mde",dbr:"D0A7BEE045FC76362FA4C8A0A0B6B7F0",dbrn:"mysql_sheng",tid:"",gbqpid:"",name:"column_name"}],expanded:!1}]},function(e,t){"use strict";webix.skin.aircompact.barHeight=24,webix.skin.aircompact.tabbarHeight=26,webix.skin.aircompact.rowHeight=26,webix.skin.aircompact.listItemHeight=22,webix.skin.aircompact.inputHeight=29,webix.skin.aircompact.layoutMargin.wide=4,webix.skin.aircompact.layoutMargin.space=10,webix.skin.aircompact.layoutPadding.space=20,webix.skin.set("aircompact")},function(module,exports,__webpack_require__){(function(setImmediate){/*
	@license
	webix UI v.5.2.1
	This software is covered by Webix Commercial License.
	Usage without proper license is prohibited.
	(c) XB Software Ltd.
	*/
window.webix||(webix={}),webix.version="5.2.1",webix.codebase="./",webix.name="core",webix.cdn="//cdn.webix.com",webix.clone=function(e){var t=webix.clone.a;return t.prototype=e,new t},webix.clone.a=function(){},webix.extend=function(e,t,i){if(e.$protoWait)return webix.PowerArray.insertAt.call(e.$protoWait,t,1),e;for(var n in t)n in e&&!i||(e[n]=t[n]);return t.defaults&&webix.extend(e.defaults,t.defaults),t.$init&&t.$init.call(e),e},webix.copy=function(e){var t;arguments.length>1?(t=arguments[0],e=arguments[1]):t=webix.isArray(e)?[]:{};for(var i in e){var n=e[i];!n||"object"!=typeof n||n instanceof RegExp?t[i]=n:webix.isDate(n)?t[i]=new Date(n):webix.env.esModern&&(n instanceof Map||n instanceof Set||n instanceof WeakMap||n instanceof WeakSet)?t[i]=n:(t[i]=webix.isArray(n)?[]:{},webix.copy(t[i],n))}return t},webix.single=function(e){var t=null,i=function(i){return t||(t=new e({})),t.c&&t.c.apply(t,arguments),t};return i},webix.protoUI=function(){var e=arguments,t=e[0].name,i=function(e){if(!i)return webix.ui[t].prototype;var n=i.$protoWait;if(n){for(var r=[n[0]],a=1;a<n.length;a++)r[a]=n[a],r[a].$protoWait&&(r[a]=r[a].call(webix,r[a].name)),r[a].prototype&&r[a].prototype.name&&(webix.ui[r[a].prototype.name]=r[a]);if(webix.ui[t]=webix.proto.apply(webix,r),i.d)for(var a=0;a<i.d.length;a++)webix.type(webix.ui[t],i.d[a]);i=n=null}return this!=webix?new webix.ui[t](e):webix.ui[t]};return i.$protoWait=Array.prototype.slice.call(arguments,0),webix.ui[t]=i},webix.proto=function(){for(var e=arguments,t=e[0],i=!!t.$init,n=[],r=e.length-1;r>0;r--){if("function"==typeof e[r]&&(e[r]=e[r].prototype),e[r].$init&&n.push(e[r].$init),e[r].defaults){var a=e[r].defaults;t.defaults||(t.defaults={});for(var o in a)webix.isUndefined(t.defaults[o])&&(t.defaults[o]=a[o])}if(e[r].type&&t.type)for(var o in e[r].type)t.type[o]||(t.type[o]=e[r].type[o]);for(var s in e[r])t[s]||t[s]===!1||(t[s]=e[r][s])}i&&n.push(t.$init),t.$init=function(){for(var e=0;e<n.length;e++)n[e].apply(this,arguments)},t.$skin&&t.$skin();var l=function(e){this.$ready=[],this.$init(e),this.e&&this.e(e,this.defaults);for(var t=0;t<this.$ready.length;t++)this.$ready[t].call(this)};return l.prototype=t,t=e=null,l},webix.bind=function(e,t){return function(){return e.apply(t,arguments)}},webix.require=function(e,t,i){var n=webix.promise.defer();if(t&&t!==!0&&(n=n.then(function(){t.call(i||this)})),webix.require.disabled)return n.resolve(),n;if("string"==typeof e){if(webix.f[e]!==!0){var r=e;if(e.toString().match(/^([a-z]+\:)*\/\//i)||(r=webix.codebase+e),".css"==e.substr(e.length-4)){var a=webix.html.create("LINK",{type:"text/css",rel:"stylesheet",href:r});return document.getElementsByTagName("head")[0].appendChild(a),n.resolve(),n}t===!0?(webix.exec(webix.ajax().sync().get(r).responseText),webix.f[e]=!0):webix.f[e]?webix.f[e].push(n):(webix.f[e]=[n],webix.ajax(r,function(t){webix.exec(t);var i=webix.f[e];webix.f[e]=!0;for(var n=0;n<i.length;n++)i[n].resolve()}))}else n.resolve();return n}var o=e.length||0;if(o){var s=function(){o?(o--,webix.require(e[e.length-o-1],s,i)):n.resolve()};s()}else{for(var l in e)o++;var s=function(){o--,0===o&&n.resolve()};for(var l in e)webix.require(l,s,i)}},webix.f={},webix.exec=function(e){window.execScript?window.execScript(e):window.eval(e)},webix.wrap=function(e,t){return e?function(){var i=e.apply(this,arguments);return t.apply(this,arguments),i}:t},webix.isUndefined=function(e){return"undefined"==typeof e},webix.delay=function(e,t,i,n){return window.setTimeout(function(){if(!t||!t.$destructed){var n=e.apply(t,i||[]);return e=t=i=null,n}},n||1)},webix.once=function(e){var t=!0;return function(){t&&(t=!1,e.apply(this,arguments))}},webix.uid=function(){return this.g||(this.g=(new Date).valueOf()),this.g++,this.g},webix.toNode=function(e){return"string"==typeof e?document.getElementById(e):e},webix.toArray=function(e){return webix.extend(e||[],webix.PowerArray,!0)},webix.toFunctor=function(str,scope){if("string"==typeof str){var method=str.replace("()","");return scope&&scope[method]?scope[method]:window[method]||eval(str)}return str},webix.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},webix.isDate=function(e){return e instanceof Date},webix.stringify=function(e){var t=Date.prototype.toJSON;Date.prototype.toJSON=function(){return webix.i18n.parseFormatStr(this)};var i;return i=e instanceof Date?e.toJSON():JSON.stringify(e),Date.prototype.toJSON=t,i},webix.h={},webix.UE=function(e,t,i,n){n=n||{},n.inner=!0,webix.event(e,t,i,n)},webix.event=function(e,t,i,n){n=n||{},e=webix.toNode(e);var r=n.id||webix.uid();n.bind&&(i=webix.bind(i,n.bind));var a=[e,t,i,n.capture];return n.inner||(webix.h[r]=a),e.addEventListener?e.addEventListener(t,i,!!n.capture):e.attachEvent&&e.attachEvent("on"+t,a[2]=function(){return i.apply(e,arguments)}),r},webix.eventRemove=function(e){if(e){var t=webix.h[e];t[0].removeEventListener?t[0].removeEventListener(t[1],t[2],!!t[3]):t[0].detachEvent&&t[0].detachEvent("on"+t[1],t[2]),delete this.h[e]}},webix.EventSystem={$init:function(){this.i||(this.i={},this.j={},this.k={})},blockEvent:function(){this.i.l=!0},unblockEvent:function(){this.i.l=!1},mapEvent:function(e){webix.extend(this.k,e,!0)},on_setter:function(e){if(e)for(var t in e){var i=webix.toFunctor(e[t],this.$scope),n=t.indexOf("->");-1!==n?this[t.substr(0,n)].attachEvent(t.substr(n+2),webix.bind(i,this)):this.attachEvent(t,i)}},callEvent:function(e,t){if(this.i.l)return!0;e=e.toLowerCase();var i=this.i[e.toLowerCase()],n=!0;if(i)for(var r=0;r<i.length;r++)i[r].apply(this,t||[])===!1&&(n=!1);if(this.k[e]){var a=this.k[e];a.$eventSource=this,a.callEvent(e,t)||(n=!1),a.$eventSource=null}return n},attachEvent:function(e,t,i){e=e.toLowerCase(),i=i||webix.uid(),t=webix.toFunctor(t,this.$scope);var n=this.i[e]||webix.toArray();return arguments[3]?n.unshift(t):n.push(t),this.i[e]=n,this.j[i]={f:t,t:e},i},detachEvent:function(e){if(!this.j[e]){var t=(e+"").toLowerCase();return void(this.i[t]&&(this.i[t]=webix.toArray()))}var i=this.j[e].t,n=this.j[e].f,r=this.i[i];r.remove(n),delete this.j[e]},hasEvent:function(e){e=e.toLowerCase();var t=this.i[e];if(t&&t.length)return!0;var i=this.k[e];return!!i&&i.hasEvent(e)}},webix.extend(webix,webix.EventSystem,!0),webix.PowerArray={removeAt:function(e,t){e>=0&&this.splice(e,t||1)},remove:function(e){this.removeAt(this.find(e))},insertAt:function(e,t){if(t||0===t){var i=this.splice(t,this.length-t);this[t]=e,this.push.apply(this,i)}else this.push(e)},find:function(e){for(var t=0;t<this.length;t++)if(e==this[t])return t;return-1},each:function(e,t){for(var i=0;i<this.length;i++)e.call(t||this,this[i])},map:function(e,t){for(var i=0;i<this.length;i++)this[i]=e.call(t||this,this[i]);return this},filter:function(e,t){for(var i=0;i<this.length;i++)e.call(t||this,this[i])||(this.splice(i,1),i--);return this}},webix.env={},function(){webix.env.strict=!!window.webix_strict,webix.env.https="https:"===document.location.protocol,webix.env.esModern=!!Object.assign;var e=navigator.userAgent;if((-1!=e.indexOf("Mobile")||-1!=e.indexOf("Windows Phone"))&&(webix.env.mobile=!0),(webix.env.mobile||-1!=e.indexOf("iPad")||-1!=e.indexOf("Android"))&&(webix.env.touch=!0),-1!=e.indexOf("Opera"))webix.env.isOpera=!0;else{if(webix.env.isIE=!!document.all||-1!==e.indexOf("Trident"),webix.env.isIE){var t=parseFloat(navigator.appVersion.split("MSIE")[1]);8==t&&(webix.env.isIE8=!0)}webix.env.isEdge=-1!=e.indexOf("Edge"),webix.env.isFF=-1!=e.indexOf("Firefox"),webix.env.isWebKit=-1!=e.indexOf("KHTML"),webix.env.isSafari=webix.env.isWebKit&&-1!=e.indexOf("Mac")&&-1==e.indexOf("Chrome"),(webix.env.isIE||webix.env.isEdge||webix.env.isFF)&&(webix.env.maxHTMLElementSize=1e7),webix.env.isSafari&&(webix.env.maxHTMLElementSize=1e8)}-1!=e.toLowerCase().indexOf("android")&&(webix.env.isAndroid=!0,-1!=e.toLowerCase().indexOf("trident")&&(webix.env.isAndroid=!1,webix.env.isIEMobile=!0)),webix.env.transform=!1,webix.env.transition=!1;for(var i=-1,n=["","webkit","Moz","O","ms"],r=["","-webkit-","-Moz-","-o-","-ms-"],a=document.createElement("DIV"),o=0;o<n.length;o++){var s=n[o]?n[o]+"Transform":"transform";if("undefined"!=typeof a.style[s]){i=o;break}}if(i>-1){webix.env.cssPrefix=r[i];var l=webix.env.jsPrefix=n[i];webix.env.transform=l?l+"Transform":"transform",webix.env.transition=l?l+"Transition":"transition",webix.env.transitionDuration=l?l+"TransitionDuration":"transitionDuration",a.style[webix.env.transform]="translate3d(0,0,0)",webix.env.translate=a.style[webix.env.transform]?"translate3d":"translate",webix.env.transitionEnd="-Moz-"==webix.env.cssPrefix?"transitionend":l?l+"TransitionEnd":"transitionend"}webix.env.pointerevents=!webix.env.isIE||null!==new RegExp("Trident/.*rv:11").exec(e)}(),webix.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),webix.env.svganimation=function(){return document.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#SVG-animation","1.1")}(),webix.html={m:0,ky:{},denySelect:function(){webix.m||(webix.m=document.onselectstart),document.onselectstart=webix.html.stopEvent},allowSelect:function(){0!==webix.m&&(document.onselectstart=webix.m||null),webix.m=0},index:function(e){for(var t=0;e=e.previousSibling;)t++;return t},n:{},createCss:function(e,t){var i="";t=t||"";for(var n in e)i+=n+":"+e[n]+";";var r=this.n[i+t];return r||(r="s"+webix.uid(),this.addStyle("."+r+(t||"")+"{"+i+"}"),this.n[i+t]=r),r},addStyle:function(e,t){var i=t?this.ky[t]:this.ky.default;i||(i=document.createElement("style"),i.setAttribute("type","text/css"),i.setAttribute("media","screen,print"),document.getElementsByTagName("head")[0].appendChild(i),t?this.ky[t]=i:this.ky.default=i),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(document.createTextNode(e))},removeStyle:function(e){var t=this.ky[e||"default"];t&&(t.innerHTML="")},create:function(e,t,i){t=t||{};var n=document.createElement(e);for(var r in t)n.setAttribute(r,t[r]);return t.style&&(n.style.cssText=t.style),t.class&&(n.className=t.class),i&&(n.innerHTML=i),n},getValue:function(e){return e=webix.toNode(e),e?webix.isUndefined(e.value)?e.innerHTML:e.value:""},remove:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.remove(e[t]);else e&&e.parentNode&&e.parentNode.removeChild(e)},insertBefore:function(e,t,i){e&&(t&&t.parentNode?t.parentNode.insertBefore(e,t):i.appendChild(e))},locate:function(e,t){var i;for(e.tagName?i=e:(e=e||event,i=e.target||e.srcElement);i;){if(i.getAttribute){var n=i.getAttribute(t);if(n)return n}i=i.parentNode}return null},offset:function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||i.scrollTop,a=window.pageXOffset||n.scrollLeft||i.scrollLeft,o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,l=t.top+r-o,u=t.left+a-s;return{y:Math.round(l),x:Math.round(u),width:e.offsetWidth,height:e.offsetHeight}}for(var l=0,u=0;e;)l+=parseInt(e.offsetTop,10),u+=parseInt(e.offsetLeft,10),e=e.offsetParent;return{y:l,x:u,width:e.offsetHeight,height:e.offsetWidth}},posRelative:function(e){return e=e||event,webix.isUndefined(e.offsetX)?{x:e.layerX,y:e.layerY}:{x:e.offsetX,y:e.offsetY}},pos:function(e){if(e=e||event,e.touches&&e.touches[0]&&(e=e.touches[0]),e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};var t=webix.env.isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:e.clientX+t.scrollLeft-t.clientLeft,y:e.clientY+t.scrollTop-t.clientTop}},preventEvent:function(e){return e&&e.preventDefault&&e.preventDefault(),e&&(e.returnValue=!1),webix.html.stopEvent(e)},stopEvent:function(e){return e=e||event,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},triggerEvent:function(e,t,i){if(document.createEventObject){var n=document.createEventObject();e.fireEvent&&e.fireEvent("on"+i,n)}else{var n=document.createEvent(t);n.initEvent(i,!0,!0),e.dispatchEvent&&e.dispatchEvent(n)}},addCss:function(e,t,i){i&&-1!==e.className.indexOf(t)||(e.className+=" "+t)},removeCss:function(e,t){e.className=e.className.replace(RegExp(" "+t,"g"),"")},getTextSize:function(e,t,i){var n=webix.html.create("DIV",{class:"webix_view webix_measure_size "+(t||"")},"");n.style.cssText="height:auto;visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;"+(i?"width:"+i+"px;":"width:auto;white-space:nowrap;"),document.body.appendChild(n);for(var r="object"!=typeof e?[e]:e,i=0,a=0,o=0;o<r.length;o++)n.innerHTML=r[o],i=Math.max(i,n.offsetWidth),a=Math.max(a,n.offsetHeight);return webix.html.remove(n),{width:i,height:a}},download:function(e,t){var i=!1;if("object"==typeof e){if(window.navigator.msSaveBlob)return window.navigator.msSaveBlob(e,t);e=window.URL.createObjectURL(e),i=!0}var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),webix.delay(function(){i&&window.URL.revokeObjectURL(e),document.body.removeChild(n),n.remove()})},TC:function(e){if(!e)return"";var t=e.className||"";return t.baseVal&&(t=t.baseVal),t.indexOf||(t=""),t},setSelectionRange:function(e,t,i){if(t=t||0,i=i||t,e.focus(),e.setSelectionRange)e.setSelectionRange(t,i);else{var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}},getSelectionRange:function(e){if("selectionStart"in e)return{start:e.selectionStart||0,end:e.selectionEnd||0};e.focus();var t=document.selection.createRange(),i=t.getBookmark(),n=e.createTextRange();n.moveToBookmark(i);var r=n.text.length;n.collapse(!0),n.moveStart("character",-e.value.length);var a=n.text.length;return{start:a,end:a+r}}},webix.ready=function(e){this.o?e.call():this.p.push(e)},webix.p=[],function(){var e=document.getElementsByTagName("SCRIPT");e.length&&(e=(e[e.length-1].getAttribute("src")||"").split("/"),e.splice(e.length-1,1),webix.codebase=e.slice(0,e.length).join("/")+"/");var t=function(){webix.env.isIE&&(document.body.className+=" webix_ie"),webix.callEvent("onReady",[])},i=function(){webix.o=!0,window.webix_ready&&webix.isArray(webix_ready)&&(webix.p=webix_ready.concat(webix.p));for(var e=0;e<webix.p.length;e++)webix.p[e].call();webix.p=[]};webix.attachEvent("onReady",function(e){e?i():webix.delay(i)}),"complete"==document.readyState?t():webix.event(window,"load",t)}(),webix.locale=webix.locale||{},webix.ready(function(){webix.event(document.body,"click",function(e){webix.callEvent("onClick",[e||event])})}),webix.editStop=function(){webix.callEvent("onEditEnd",[])},function(e){function t(e){n.setImmediate?setImmediate(e):n.importScripts||!n.addEventListener?setTimeout(e):(r++,a[r]=e,n.postMessage(r,"*"))}function i(e){"use strict";function n(e,t,i,n){if(2==l)return n();if("object"!=typeof u&&"function"!=typeof u||"function"!=typeof e)n();else try{var r=0;e.call(u,function(e){r++||(u=e,t())},function(e){r++||(u=e,i())})}catch(e){u=e,i()}}function r(){var e;try{e=u&&u.then}catch(e){return u=e,l=2,r()}n(e,function(){l=1,r()},function(){l=2,r()},function(){try{1==l&&"function"==typeof a?u=a(u):2==l&&"function"==typeof o&&(u=o(u),l=1)}catch(e){return u=e,d()}u==s?(u=TypeError(),d()):n(e,function(){d(3)},d,function(){d(1==l&&3)})})}if("function"!=typeof e&&void 0!=e)throw TypeError();if("object"!=typeof this||this&&this.then)throw TypeError();var a,o,s=this,l=0,u=0,c=[];s.promise=s,s.resolve=function(e){return a=s.fn,o=s.er,l||(u=e,l=1,t(r)),s},s.reject=function(e){return a=s.fn,o=s.er,l||(u=e,l=2,t(r)),s},s.fG=1,s.then=function(e,t){if(1!=this.fG)throw TypeError();var n=new i;return n.fn=e,n.er=t,3==l?n.resolve(u):4==l?n.reject(u):c.push(n),n},s.catch=function(e){return s.then(null,e)},s.fail=function(e){return s.then(null,e)};var d=function(e){l=e||4;for(var t=0;t<c.length;t++){var i=c[t];3==l&&i.resolve(u)||i.reject(u)}};try{"function"==typeof e&&e(s.resolve,s.reject)}catch(e){s.reject(e)}return s}var n=this,r=1,a={},o=!1;!n.setImmediate&&n.addEventListener&&n.addEventListener("message",function(e){if(e.source==n)if(o)t(a[e.data]);else{o=!0;try{a[e.data]()}catch(e){}delete a[e.data],o=!1}}),i.resolve=function(e){if(1!=this.fG)throw TypeError();return e instanceof i?e:new i(function(t){t(e)})},i.reject=function(e){if(1!=this.fG)throw TypeError();return new i(function(t,i){i(e)})},i.all=function(e){function t(i,r){if(r)return n.resolve(r);if(i)return n.reject(i);var a=e.reduce(function(e,t){return t&&t.then?e+1:e},0);0==a&&n.resolve(e),e.map(function(i,n){i&&i.then&&i.then(function(i){return e[n]=i,t(),i},t)})}if(1!=this.fG)throw TypeError();if(!(e instanceof Array))return i.reject(TypeError());var n=new i;return t(),n},i.race=function(e){function t(i,r){if(r)return n.resolve(r);if(i)return n.reject(i);var a=e.reduce(function(e,t){return t&&t.then?e+1:e},0);0==a&&n.resolve(e),e.map(function(e,i){e&&e.then&&e.then(function(e){t(null,e)},t)})}if(1!=this.fG)throw TypeError();if(!(e instanceof Array))return i.reject(TypeError());if(0==e.length)return new i;var n=new i;return t(),n},i.fG=1,i.defer=function(){return new i(null)},e.promise=i}(webix),function(){function e(e,t){this.kD={},this.lD=[],this.mD=e,this.U="",t?this.nD(t):this.o=webix.ajax(e).then(function(e){return e.text()}).then(webix.bind(function(e){return e=e.split("/*api*/")[1],this.nD(JSON.parse(e)),this.kD},this))}function t(t,i){var n=new e(t,i);return n.oD()}var i="__webix_remote_error";e.prototype={nD:function(e){if(e.$key&&(this.U=e.$key),e.$vars)for(var t in e.$vars)this.kD[t]=e.$vars[t];this.df(e,this.kD,"")},df:function(e,t,i){for(var n in e)if("$key"!==n&&"$vars"!==n){var r=e[n];if("object"==typeof r){var a=t[n]={};this.df(r,a,i+n+".")}else t[n]=this.pD(this,i+n)}},qD:function(e,t){var i=this.rD(this,e,t);return this.lD.push(i),this.sD(),i},sD:function(){this.tD||(this.tD=setTimeout(webix.bind(this.uD,this),1))},uD:function(){for(var e=[],t=this.lD,n=0;n<this.lD.length;n++){var r=this.lD[n];r.$sync?(t.splice(n,1),n--):e.push({name:r.$name,args:r.$args})}if(t.length){var a=webix.ajax(),o=this.vD(e);webix.callEvent("onBeforeRemoteCall",[a,o,{}]);var s=a.post(this.mD,o).then(function(e){for(var n=e.json(),r=n.data,a=0;a<r.length;a++){var e=r[a],o=r[a]&&r[a][i];o?(webix.callEvent("onRemoteError",[o]),t[a].reject(o)):t[a].resolve(e)}},function(e){for(var i=0;i<t.length;i++)t[i].reject(e);throw e});webix.callEvent("onAfterRemoteCall",[s])}this.lD=[],this.tD=null},H:function(){var e=null;this.$sync=!0;var t=[{name:this.$name,args:this.$args}];try{var n=webix.ajax(),r=this.$context.vD(t);webix.callEvent("onBeforeRemoteCall",[n,r,{sync:!0}]);var a=n.sync().post(this.$context.mD,r);webix.callEvent("onAfterRemoteCall",[null]);var e=JSON.parse(a.responseText).data[0];e[i]&&(e=null)}catch(e){}return e},rD:function(e,t,i){var n=webix.promise.defer();return n.sync=e.H,n.$name=t,n.$args=i,n.$context=this,n},pD:function(e,t){return function(){return e.qD(t,[].slice.call(arguments))}},oD:function(){return this.o||this.kD},vD:function(e){return{key:this.U,payload:e}}},webix.remote=function(e,i){if("object"!=typeof e)return t(e,i);var n=document.getElementsByTagName("script");i=e,e=n[n.length-1].src,webix.remote=t(e,i)}}(),webix.skin={},webix.skin.air={topLayout:"wide",barHeight:34,tabbarHeight:36,rowHeight:34,toolbarHeight:22,listItemHeight:28,inputHeight:34,inputPadding:2,menuHeight:34,menuMargin:0,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:13,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8},tabMargin:0,popupPadding:8,calendarHeight:70,padding:0,optionHeight:27},webix.skin.aircompact={topLayout:"wide",barHeight:24,tabbarHeight:26,rowHeight:26,toolbarHeight:22,listItemHeight:28,inputHeight:29,inputPadding:2,menuHeight:25,menuMargin:0,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:12,sliderPadding:10,sliderBorder:1,vSliderPadding:12.5,vSliderHeight:100,switchHeight:20,switchWidth:40,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8},tabMargin:0,popupPadding:8,calendarHeight:70,padding:0,optionHeight:23},webix.skin.web={name:"web",topLayout:"space",barHeight:28,tabbarHeight:30,rowHeight:30,toolbarHeight:22,listItemHeight:28,inputHeight:28,inputPadding:2,menuMargin:0,menuHeight:27,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:11,sliderPadding:10,sliderBorder:1,vSliderPadding:10,vSliderHeight:100,switchHeight:19,switchWidth:40,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8,accordion:9},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8,accordion:0},tabMargin:3,tabTopOffset:3,popupPadding:8,calendarHeight:70,padding:0,optionHeight:22},webix.skin.clouds={topLayout:"wide",barHeight:36,tabbarHeight:46,rowHeight:34,toolbarHeight:22,listItemHeight:32,inputHeight:30,inputPadding:2,menuHeight:34,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:12,sliderPadding:10,sliderBorder:1,vSliderPadding:11,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8},tabMargin:2,tabOffset:0,tabBottomOffset:10,popupPadding:8,calendarHeight:70,padding:0},webix.skin.terrace={topLayout:"space",barHeight:37,tabbarHeight:39,rowHeight:38,toolbarHeight:22,listItemHeight:28,inputHeight:30,inputPadding:2,menuMargin:0,menuHeight:32,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:14,vSliderHeight:100,switchHeight:20,switchWidth:50,layoutMargin:{space:20,wide:20,clean:0,head:4,line:-1,toolbar:4,form:8},layoutPadding:{space:20,wide:0,clean:0,head:0,line:0,toolbar:4,form:8},tabMargin:2,tabOffset:0,popupPadding:8,calendarHeight:70,padding:17,optionHeight:24},webix.skin.metro={topLayout:"space",barHeight:36,tabbarHeight:46,rowHeight:34,toolbarHeight:36,listItemHeight:32,inputHeight:30,buttonHeight:45,inputPadding:2,menuHeight:36,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:13,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:4,form:8,accordion:9},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:0,form:8,accordion:0},tabMargin:2,tabOffset:0,tabBottomOffset:10,popupPadding:8,calendarHeight:70,padding:0,optionHeight:23},webix.skin.light={topLayout:"space",barHeight:36,tabbarHeight:46,rowHeight:32,toolbarHeight:36,listItemHeight:32,inputHeight:34,buttonHeight:45,inputPadding:3,menuHeight:36,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:13,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:15,wide:15,clean:0,head:4,line:-1,toolbar:4,form:8,accordion:10},layoutPadding:{space:15,wide:0,clean:0,head:0,line:0,toolbar:0,form:8,accordion:0},tabMargin:2,tabOffset:0,tabBottomOffset:10,popupPadding:8,calendarHeight:70,padding:0,optionHeight:27},webix.skin.glamour={topLayout:"space",barHeight:39,tabbarHeight:39,rowHeight:32,toolbarHeight:39,listItemHeight:32,inputHeight:34,buttonHeight:34,inputPadding:3,menuHeight:36,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:13,sliderPadding:10,sliderBorder:1,vSliderPadding:13,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:15,wide:15,clean:0,head:4,line:-1,toolbar:4,form:8,accordion:10},layoutPadding:{space:15,wide:0,clean:0,head:0,line:0,toolbar:3,form:8,accordion:0},tabMargin:1,tabOffset:0,tabBottomOffset:1,popupPadding:8,calendarHeight:70,padding:0,optionHeight:27},webix.skin.touch={topLayout:"space",barHeight:42,tabbarHeight:50,rowHeight:42,toolbarHeight:42,listItemHeight:42,inputHeight:42,inputPadding:4,menuHeight:42,labelTopHeight:24,unitHeaderHeight:34,inputSpacing:4,borderWidth:1,sliderHandleWidth:18,sliderPadding:10,sliderBorder:1,vSliderPadding:17,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:4,clean:0,head:4,line:-1,toolbar:0,form:0,accordion:9},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:8,accordion:0},tabMargin:2,tabOffset:0,tabBottomOffset:10,calendar:{headerHeight:70,timepickerHeight:35,height:310,width:300},padding:0,customCheckbox:!0,customRadio:!0,popupPadding:8,optionHeight:32},webix.skin.flat={topLayout:"space",barHeight:46,tabbarHeight:46,rowHeight:34,toolbarHeight:46,listItemHeight:34,inputHeight:38,buttonHeight:38,inputPadding:3,menuHeight:34,labelTopHeight:22,propertyItemHeight:28,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:15,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:10,clean:0,head:4,line:-1,toolbar:4,form:8,accordion:10},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:17,accordion:0},tabMargin:4,tabOffset:0,tabBottomOffset:6,tabTopOffset:1,customCheckbox:!0,customRadio:!0,popupPadding:8,calendarHeight:70,padding:0,accordionType:"accordion",optionHeight:32},webix.skin.compact={topLayout:"space",barHeight:34,tabbarHeight:34,rowHeight:24,toolbarHeight:34,listItemHeight:28,inputHeight:30,buttonHeight:30,inputPadding:3,menuHeight:28,labelTopHeight:16,inputSpacing:4,borderWidth:1,sliderHandleWidth:12,sliderPadding:10,sliderBorder:1,vSliderPadding:13,vSliderHeight:100,switchHeight:20,switchWidth:40,layoutMargin:{space:5,wide:5,clean:0,head:4,line:-1,toolbar:4,form:4,accordion:5},layoutPadding:{space:5,wide:0,clean:0,head:0,line:0,toolbar:2,form:12,accordion:0},tabMargin:3,tabOffset:0,tabBottomOffset:3,tabTopOffset:1,customCheckbox:!0,customRadio:!0,popupPadding:8,calendarHeight:70,padding:0,accordionType:"accordion",optionHeight:23},webix.skin.material={topLayout:"space",barHeight:45,tabbarHeight:47,rowHeight:38,toolbarHeight:22,listItemHeight:34,inputHeight:38,buttonHeight:38,inputPadding:2,menuMargin:0,menuHeight:34,labelTopHeight:16,propertyItemHeight:34,inputSpacing:4,borderWidth:1,sliderHandleWidth:16,sliderPadding:10,sliderBorder:1,switchHeight:22,switchWidth:50,layoutMargin:{material:10,space:10,wide:10,clean:0,head:4,line:-1,toolbar:4,form:16,accordion:0},layoutPadding:{material:10,space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:16,accordion:0},tabMargin:0,tabOffset:0,tabBottomOffset:0,tabTopOffset:0,customCheckbox:!0,customRadio:!0,popupPadding:8,calendarHeight:70,padding:0,accordionType:"accordion"},webix.skin.contrast={topLayout:"space",barHeight:46,tabbarHeight:46,rowHeight:34,toolbarHeight:46,listItemHeight:34,inputHeight:38,buttonHeight:38,inputPadding:3,menuHeight:34,labelTopHeight:22,propertyItemHeight:28,inputSpacing:4,borderWidth:1,sliderHandleWidth:14,sliderPadding:10,sliderBorder:1,vSliderPadding:15,vSliderHeight:100,switchHeight:22,switchWidth:50,layoutMargin:{space:10,wide:10,clean:0,head:4,line:-1,toolbar:8,form:8,accordion:10},layoutPadding:{space:10,wide:0,clean:0,head:0,line:0,toolbar:4,form:17,accordion:0},tabMargin:4,tabOffset:0,tabBottomOffset:6,tabTopOffset:1,customCheckbox:!0,customRadio:!0,popupPadding:8,calendarHeight:70,padding:0,accordionType:"accordion",optionHeight:32},webix.skin.set=function(e){if(webix.skin.$active=webix.skin[e],webix.skin.$name=e,webix.ui)for(var t in webix.ui){var i=webix.ui[t];i&&i.prototype&&i.prototype.$skin&&i.prototype.$skin(i.prototype)}},webix.skin.set(window.webix_skin||"flat"),webix.Destruction={$init:function(){var e=this.VE={obj:this};webix.destructors.push(e)},destructor:function(){var e=this.s;if(this.di&&this.editCancel(),this.callEvent&&this.callEvent("onDestruct",[]),this.destructor=function(){},this.VE.obj=null,this.getChildViews){var t=this.getChildViews();if(t)for(var i=0;i<t.length;i++)t[i].destructor();if(this.Ns)for(var i=0;i<this.Ns.length;i++)this.Ns[i].destructor()}if(delete webix.ui.views[e.id],e.$id){var n=this.getTopParentView();n&&n.oC&&n.oC(e.$id)}this.t=null,this.u=null,this.v=null,this.w&&(this.w.innerHTML="",this.w.t=null),this.x&&this.x.parentNode&&this.x.parentNode.removeChild(this.x),this.data&&this.data.destructor&&this.data.destructor(),this.unbind&&this.unbind(),this.data=null,this.x=this.$view=this.w=this.y=null,this.i=this.j={},webix.UIManager.A==this&&(webix.UIManager.A=null);var r=e.url;r&&r.$proxy&&r.release&&r.release(),this.$scope=null,this.$destructed=!0}},webix.destructors=[],webix.event(window,"unload",function(){webix.callEvent("unload",[]),webix.B=!0;for(var e=0;e<webix.destructors.length;e++){var t=webix.destructors[e].obj;t&&t.destructor()}webix.destructors=[],webix.ui.et=webix.toArray();for(var i in webix.h)webix.eventRemove(i)}),function(){var e={},t={},i=new RegExp("(\\r\\n|\\n)","g"),n=new RegExp('(\\")',"g"),r=new RegExp("(\\\\)","g"),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,s=function(e){return a[e]||"&amp;"};webix.template=function(a){if("function"==typeof a)return a;if(e[a])return e[a];if(a=(a||"").toString(),-1!=a.indexOf("->")){var o=a.split("->");switch(o[0]){case"html":a=webix.html.getValue(o[1]);break;case"http":a=(new webix.ajax).sync().get(o[1],{uid:webix.uid()}).responseText}}if(a=(a||"").toString(),webix.env.strict){if(!t[a]){t[a]=[];var s=[];if(a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,function(e,t,i,n,r){s.push({pos:r,str:e,fn:function(e,r){return e[t]?i:n}})}),a.replace(/\{common\.([^}\(]*)\}/g,function(e,t,i){s.push({pos:i,str:e,fn:function(e,i){return i[t]||""}})}),a.replace(/\{common\.([^\}\(]*)\(\)\}/g,function(e,t,i){s.push({pos:i,str:e,fn:function(e,i){return i[t]?i[t].apply(this,arguments):""}})}),a.replace(/\{obj\.([^:}]*)\}/g,function(e,t,i){s.push({pos:i,str:e,fn:function(e,i){return e[t]}})}),a.replace("{obj}",function(e,t,i){s.push({pos:i,str:e,fn:function(e,t){return e}})}),a.replace(/#([^#'";, ]+)#/gi,function(e,t,i){"!"==t.charAt(0)?(t=t.substr(1),s.push({pos:i,str:e,fn:function(e,i){return-1!=t.indexOf(".")&&(e=webix.CodeParser.collapseNames(e)),webix.template.escape(e[t])}})):s.push({pos:i,str:e,fn:function(e,i){return-1!=t.indexOf(".")&&(e=webix.CodeParser.collapseNames(e)),e[t]}})}),s.sort(function(e,t){return e.pos>t.pos?1:-1}),s.length){for(var l=0,u=function(e,i,n){t[e].push(function(){return e.slice(i,n)})},c=0;c<s.length;c++){var d=s[c].pos;u(a,l,d),t[a].push(s[c].fn),l=d+s[c].str.length}u(a,l,a.length)}else t[a].push(function(){return a})}return function(){for(var e="",i=0;i<t[a].length;i++)e+=t[a][i].apply(this,arguments);return e}}a=a.replace(r,"\\\\"),a=a.replace(i,"\\n"),a=a.replace(n,'\\"'),a=a.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),a=a.replace(/\{common\.([^}\(]*)\}/g,"\"+(common.$1||'')+\""),a=a.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1.apply(this, arguments):"")+"'),a=a.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"'),a=a.replace("{obj}",'"+obj+"'),a=a.replace(/#([^#'";, ]+)#/gi,function(e,t){return"!"==t.charAt(0)?'"+webix.template.escape(obj.'+t.substr(1)+')+"':'"+(obj.'+t+')+"'});try{e[a]=Function("obj","common",'return "'+a+'";')}catch(e){}return e[a]},webix.template.escape=function(e){return e===webix.undefined||null===e?"":(e.toString()||"").replace(o,s)},webix.template.empty=function(){return""},webix.template.bind=function(e){return webix.bind(webix.template(e),this)},webix.type=function(e,t){if(e.$protoWait)return e.d||(e.d=[]),void e.d.push(t);"function"==typeof e&&(e=e.prototype),e.types||(e.types={default:e.type},e.type.name="default");var i=t.name,n=e.type;i&&(n=e.types[i]=webix.clone(t.baseType?e.types[t.baseType]:e.type));for(var r in t)0===r.indexOf("template")?n[r]=webix.template(t[r]):n[r]=t[r];return i}}(),webix.Settings={$init:function(){this.s=this.config={}},define:function(e,t){return"object"==typeof e?this.C(e):this.D(e,t)},D:function(e,t){var i=this[e+"_setter"];return this.s[e]=i?i.call(this,t,e):t},C:function(e){if(e)for(var t in e)this.D(t,e[t]);
},e:function(e,t){var i={};t&&(i=webix.extend(i,t)),"object"!=typeof e||e.tagName||webix.extend(i,e,!0),this.C(i)},E:function(e,t){for(var i in t)switch(typeof e[i]){case"object":e[i]=this.E(e[i]||{},t[i]);break;case"undefined":e[i]=t[i]}return e}},webix.proxy=function(e,t,i){var n=webix.copy(webix.proxy[e]);return n.source=t,i&&webix.extend(n,i,!0),n.init&&n.init(),n},webix.proxy.$parse=function(e){if("string"==typeof e&&-1!=e.indexOf("->")){var t=e.split("->");return webix.proxy(t[0],t[1])}return e},webix.proxy.post={$proxy:!0,load:function(e,t,i){i=webix.extend(i||{},this.params||{},!0),webix.ajax().bind(e).post(this.source,i,t)}},webix.proxy.sync={$proxy:!0,load:function(e,t){webix.ajax().sync().bind(e).get(this.source,null,t)}},webix.proxy.connector={$proxy:!0,connectorName:"!nativeeditor_status",load:function(e,t){webix.ajax(this.source,t,e)},saveAll:function(e,t,i,n){for(var r=this.source,a={},o=[],s=0;s<t.length;s++){var l=t[s];o.push(l.id);for(var u in l.data)0!==u.indexOf("$")&&(a[l.id+"_"+u]=l.data[u]);a[l.id+"_"+this.connectorName]=l.operation}a.ids=o.join(","),a.webix_security=webix.securityKey,r+=-1==r.indexOf("?")?"?":"&",r+="editing=true",webix.ajax().post(r,a,n)},result:function(e,t,i,n,r,a){if(r=r.xml(),!r)return i.yr(null,n,r,a);var o=r.data.action;o.length||(o=[o]);for(var s=[],l=0;l<o.length;l++){var u=o[l];s.push(u),u.status=u.type,u.id=u.sid,u.newid=u.tid,i.processResult(u,u,{text:n,data:r,loader:a})}return s}},webix.proxy.rest={$proxy:!0,load:function(e,t){webix.ajax(this.source,t,e)},save:function(e,t,i,n){return webix.proxy.rest.dC.call(this,e,t,i,n,webix.ajax())},dC:function(e,t,i,n,r){var a=this.source,o="",s=a.indexOf("?");-1!==s&&(o=a.substr(s),a=a.substr(0,s)),a+="/"==a.charAt(a.length-1)?"":"/";var l=t.operation,u=t.data;"insert"==l&&delete u.id,"update"==l?r.put(a+u.id+o,u,n):"delete"==l?r.del(a+u.id+o,u,n):r.post(a+o,u,n)}},webix.proxy.json={$proxy:!0,load:function(e,t){webix.ajax(this.source,t,e)},save:function(e,t,i,n){var r=webix.ajax().headers({"Content-Type":"application/json"});return webix.proxy.rest.dC.call(this,e,t,i,n,r)}},webix.proxy.faye={$proxy:!0,init:function(){this.clientId=this.clientId||webix.uid()},load:function(e){var t=this.clientId;this.client.subscribe(this.source,function(i){i.clientId!=t&&webix.dp(e).ignore(function(){if("delete"==i.operation)e.remove(i.data.id);else if("insert"==i.operation)e.add(i.data);else if("update"==i.operation){var t=e.getItem(i.data.id);t&&(webix.extend(t,i.data,!0),e.refresh(t.id))}})})},save:function(e,t,i,n){t.clientId=this.clientId,this.client.publish(this.source,t)}},webix.proxy.indexdb={$proxy:!0,create:function(e,t,i,n){this.source=e+"/",this.F(n,i,function(e){var i=e.target.result;for(var n in t)for(var r=t[n],a=i.createObjectStore(n,{keyPath:"id",autoIncrement:!0}),o=0;o<r.length;o++)a.put(r[o])})},F:function(e,t,i){if(-1!=this.source.indexOf("/")){var n=this.source.split("/");this.source=n[1],t=t||n[2];var r,a=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB;r=t?a.open(n[0],t):a.open(n[0]),i&&(r.onupgradeneeded=i),r.onerror=function(){},r.onblocked=function(){},r.onsuccess=webix.bind(function(t){this.db=t.target.result,e&&e.call(this)},this)}else this.db?e.call(this):webix.delay(this.F,this,[e],50)},load:function(e,t){this.F(function(){var i=this.db.transaction(this.source).objectStore(this.source),n=[];i.openCursor().onsuccess=function(i){var r=i.target.result;r?(n.push(r.value),r.continue()):(e.parse(n),webix.ajax.$callback(e,t,"[]",n))}})},save:function(e,t,i,n){this.F(function(){var e,n=t.operation,r=t.data,a=t.id,o=this.db.transaction([this.source],"readwrite").objectStore(this.source);"delete"==n?e=o.delete(a):"update"==n?e=o.put(r):"insert"==n&&(delete r.id,e=o.add(r)),e.onsuccess=function(e){var r={status:n,id:t.id};"insert"==n&&(r.newid=e.target.result),i.processResult(r,r)}})}},webix.proxy.binary={$proxy:!0,load:function(e,t){var i=this.source.split("@"),n=i[0].split(".").pop();return webix.ajax().response("arraybuffer").get(i[0]).then(function(r){var a={ext:n,dataurl:i[1]};webix.ajax.$callback(e,t,"",{data:r,options:a},-1)})}},webix.ajax=function(e,t,i){return 0!==arguments.length?(new webix.ajax).get(e,t,i):this.getXHR?this:new webix.ajax},webix.ajax.count=0,webix.ajax.prototype={master:null,getXHR:function(){return new XMLHttpRequest},stringify:function(e){return webix.stringify(e)},G:function(e,t,i,n){var r;t&&(webix.isArray(t)||"function"==typeof(t.success||t.error||t))&&(r=i,i=t,t=null);var a=webix.promise.defer(),o=this.getXHR();webix.isArray(i)||(i=[i]),i.push({success:function(e,t){a.resolve(t)},error:function(e,t){a.reject(o)}});var s=this.I||{};if(webix.callEvent("onBeforeAjax",[n,e,t,o,s,null,a])){var l=!1;if("GET"!==n){var u=!1;for(var c in s)"content-type"==c.toString().toLowerCase()&&(u=!0,"application/json"==s[c]&&(l=!0));u||(s["Content-Type"]="application/x-www-form-urlencoded")}if("object"==typeof t&&!(window.FormData&&t instanceof window.FormData))if(l)t=this.stringify(t);else{var d=[];for(var h in t){var f=t[h];(null===f||f===webix.undefined)&&(f=""),"object"==typeof f&&(f=this.stringify(f)),d.push(h+"="+encodeURIComponent(f))}t=d.join("&")}t&&"GET"===n&&(e=e+(-1!=e.indexOf("?")?"&":"?")+t,t=null),o.open(n,e,!this.H);var p=this.Tw;p&&(o.responseType=p);for(var c in s)o.setRequestHeader(c,s[c]);var g=this;return this.master=this.master||r,o.onreadystatechange=function(){if(!o.readyState||4==o.readyState){if(webix.ajax.count++,i&&g&&!o.aborted){if(-1!=webix.ly.find(o))return webix.ly.remove(o);var e,t,n=g.master||g,a=o.status>=400||0===o.status;"blob"==o.responseType||"arraybuffer"==o.responseType?(e="",t=o.response):(e=o.responseText||"",t=g.J(o)),webix.ajax.$callback(n,i,e,t,o,a)}g&&(g.master=null),i=g=r=null}},this.qh&&(o.timeout=this.qh),this.H?o.send(t||null):setTimeout(function(){o.aborted||(-1!=webix.ly.find(o)?webix.ly.remove(o):o.send(t||null))},1),this.master&&this.master.Ve&&this.master.Ve.push(o),this.H?o:a}},J:function(e){return{xml:function(){try{return webix.DataDriver.xml.tagToObject(webix.DataDriver.xml.toObject(e.responseText,this))}catch(e){}},rawxml:function(){return window.XPathResult?e.responseXML:webix.DataDriver.xml.fromString(e.responseText)},text:function(){return e.responseText},json:function(){return webix.DataDriver.json.toObject(e.responseText,!1)}}},get:function(e,t,i){return this.G(e,t,i,"GET")},post:function(e,t,i){return this.G(e,t,i,"POST")},put:function(e,t,i){return this.G(e,t,i,"PUT")},del:function(e,t,i){return this.G(e,t,i,"DELETE")},patch:function(e,t,i){return this.G(e,t,i,"PATCH")},sync:function(){return this.H=!0,this},timeout:function(e){return this.qh=e,this},response:function(e){return this.Tw=e,this},header:function(e){return this.I=e,this},headers:function(e){return this.I=webix.extend(this.I||{},e),this},bind:function(e){return this.master=e,this}},webix.ajax.$callback=function(e,t,i,n,r,a){if(!e.$destructed){if(-1===r&&n&&"function"==typeof n.json&&(n=n.json()),a&&webix.callEvent("onAjaxError",[r]),webix.isArray(t)||(t=[t]),!a)for(var o=0;o<t.length;o++)if(t[o]){var s=t[o].before;s&&s.call(e,i,n,r)}for(var o=0;o<t.length;o++)if(t[o]){var l=t[o].success||t[o];a&&(l=t[o].error),l&&l.call&&l.call(e,i,n,r)}}},webix.send=function(e,t,i,n){var r=webix.html.create("FORM",{target:n||"_self",action:e,method:i||"POST"},"");for(var a in t){var o=webix.html.create("INPUT",{type:"hidden",name:a,value:t[a]},"");r.appendChild(o)}r.style.display="none",document.body.appendChild(r),r.submit(),document.body.removeChild(r)},webix.AtomDataLoader={$init:function(e){this.data={},this.waitData=webix.promise.defer(),e&&(this.s.datatype=e.datatype||"json"),this.$ready.push(this.K)},K:function(){this.L=!0,this.s.url&&this.url_setter(this.s.url),this.s.data&&this.data_setter(this.s.data)},url_setter:function(e){return e=webix.proxy.$parse(e),this.L?(this.load(e,this.s.datatype),e):e},data_setter:function(e){return this.L?(this.parse(e,this.s.datatype),!0):e},load:function(e,t){var i=arguments[2]||null;if(!this.callEvent("onBeforeLoad",[]))return webix.promise.reject();"string"==typeof t?(this.data.driver=webix.DataDriver[t],t=arguments[2]):this.data.driver||(this.data.driver=webix.DataDriver.json);var n=[{success:this.M,error:this.N}];return t&&(webix.isArray(t)?n.push.apply(n,t):n.push(t)),e=webix.proxy.$parse(e),e.$proxy&&e.load?e.load(this,n,i):"function"==typeof e?e(i).then(webix.bind(function(e){webix.ajax.$callback(this,n,"",e,-1)},this),webix.bind(function(e){webix.ajax.$callback(this,n,"",null,e,!0)},this)):webix.ajax(e,n,this)},parse:function(e,t){return e&&e.then&&"function"==typeof e.then?e.then(webix.bind(function(e){e&&"function"==typeof e.json&&(e=e.json()),this.parse(e,t)},this)):e&&e.sync&&this.sync?this.UC(e):this.callEvent("onBeforeLoad",[])?(this.data.driver=webix.DataDriver[t||"json"],void this.M(e,null)):webix.promise.reject()},UC:function(e){this.data&&this.data.attachEvent("onSyncApply",webix.bind(function(){this.ef&&this.ef()},this)),this.sync(e)},df:function(e){var t,i,n=this.data.driver;i=n.getRecords(e)[0],t=i?n.getDetails(i):{},this.setValues?this.setValues(t):this.data=t},tB:function(e,t,i,n){e?this.$onLoad&&this.$onLoad(e,this.data.driver)||(this.data&&this.data.df?this.data.df(e):this.df(e)):this.N(t,i,n),this.ef&&this.ef(),this.callEvent("onAfterLoad",[]),this.waitData.resolve()},M:function(e,t,i){var n,r=this.data.driver;-1===i?n=r.toObject(t):(this.Ve&&this.Ve.remove(i),n=r.toObject(e,t)),n&&n.then?n.then&&"function"==typeof n.then&&n.then(webix.bind(this.tB,this)):this.tB(n)},N:function(e,t,i){this.callEvent("onAfterLoad",[]),this.callEvent("onLoadError",arguments),webix.callEvent("onLoadError",[e,t,i,this])},O:function(e){if(!this.s.dataFeed||this.P||!e)return!0;var t=this.s.dataFeed;return"function"==typeof t?t.call(this,e.id||e,e):(t=t+(-1==t.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(e.id||e),!!this.callEvent("onBeforeLoad",[])&&(webix.ajax(t,function(e,t,i){this.P=!0;var n=webix.DataDriver.json,r=n.toObject(e,t);r?this.setValues(n.getDetails(n.getRecords(r)[0])):this.N(e,t,i),this.P=!1,this.callEvent("onAfterLoad",[])},this),!1))}},webix.DataDriver={},webix.DataDriver.json={toObject:function(e){if(!e)return null;if("string"==typeof e)try{if(this.parseDates){var t=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{1-3})?Z/;e=JSON.parse(e,function(e,i){return"string"==typeof i&&t.test(i)?new Date(i):i})}else e=JSON.parse(e)}catch(e){return null}return e},getRecords:function(e){return e&&e.data&&(e=e.data),e&&!webix.isArray(e)?[e]:e},getDetails:function(e){return"string"==typeof e?{id:e||webix.uid(),value:e}:e},getOptions:function(e){return e.collections},getInfo:function(e){return{size:e.total_count||0,from:e.pos,parent:e.parent||0,config:e.config,key:e.webix_security}},child:"data",parseDates:!1},webix.DataDriver.html={toObject:function(e){if("string"==typeof e){var t=null;return-1==e.indexOf("<")&&(t=webix.toNode(e)),t||(t=document.createElement("DIV"),t.innerHTML=e),t.firstChild}return e},getRecords:function(e){return e.getElementsByTagName(this.tag)},getDetails:function(e){return webix.DataDriver.xml.tagToObject(e)},getOptions:function(){return!1},getInfo:function(e){return{size:0}},tag:"LI"},webix.DataDriver.jsarray={toObject:function(e){return"string"==typeof e?JSON.parse(e):e},getRecords:function(e){return e&&e.data&&(e=e.data),e},getDetails:function(e){for(var t={},i=0;i<e.length;i++)t["data"+i]=e[i];return null!==this.idColumn&&(t.id=e[this.idColumn]),t},getOptions:function(){return!1},getInfo:function(e){return{size:0}},idColumn:null},webix.DataDriver.csv={toObject:function(e){return e},getRecords:function(e){return e.split(this.row)},getDetails:function(e){e=this.stringToArray(e);for(var t={},i=0;i<e.length;i++)t["data"+i]=e[i];return null!==this.idColumn&&(t.id=e[this.idColumn]),t},getOptions:function(){return!1},getInfo:function(e){return{size:0}},stringToArray:function(e){e=e.split(this.cell);for(var t=0;t<e.length;t++)e[t]=e[t].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return e},idColumn:null,row:"\n",cell:","},webix.DataDriver.xml={V:function(e){return e&&e.documentElement?e.getElementsByTagName("parsererror").length?null:e:null},toObject:function(e,t){var i=t?t.rawxml?t.rawxml():t:null;return this.V(i)?i:(i="string"==typeof e?this.fromString(e.replace(/^[\s]+/,"")):e,this.V(i)?i:null)},getRecords:function(e){return this.xpath(e,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(e){return this.tagToObject(e,{})},getOptions:function(){return!1},getInfo:function(e){var t=this.xpath(e,this.config);return t=t.length?this.assignTypes(this.tagToObject(t[0],{})):null,{size:e.documentElement.getAttribute("total_count")||0,from:e.documentElement.getAttribute("pos"),parent:e.documentElement.getAttribute("parent")||0,config:t,key:e.documentElement.getAttribute("webix_security")||null}},xpath:function(e,t){if(window.XPathResult){var i=e;-1==e.nodeName.indexOf("document")&&(e=e.ownerDocument);for(var n=[],r=e.evaluate(t,i,null,XPathResult.ANY_TYPE,null),a=r.iterateNext();a;)n.push(a),a=r.iterateNext();return n}var o=!0;try{"undefined"==typeof e.selectNodes&&(o=!1)}catch(e){}if(o)return e.selectNodes(t);var s=t.split("/").pop();return e.getElementsByTagName(s)},assignTypes:function(e){for(var t in e){var i=e[t];if("object"==typeof i)this.assignTypes(i);else if("string"==typeof i){if(""===i)continue;"true"==i?e[t]=!0:"false"==i?e[t]=!1:i==1*i&&(e[t]=1*e[t])}}return e},tagToObject:function(e,t){var i=1==e.nodeType&&e.getAttribute("stack"),n=0;if(i){t=[];for(var r=e.childNodes,a=0;a<r.length;a++)1==r[a].nodeType&&t.push(this.tagToObject(r[a],{}))}else{t=t||{};var o=e.attributes;if(o&&o.length)for(var a=0;a<o.length;a++)t[o[a].name]=o[a].value,n=1;for(var r=e.childNodes,a=0;a<r.length;a++)if(1==r[a].nodeType){var s=r[a].tagName;t[s]?("function"!=typeof t[s].push&&(t[s]=[t[s]]),t[s].push(this.tagToObject(r[a],{}))):t[s]=this.tagToObject(r[a],{}),n=2}if(!n)return this.nodeValue(e);2>n&&(t.value=t.value||this.nodeValue(e))}return t},nodeValue:function(e){return e.firstChild?e.firstChild.wholeText||e.firstChild.data:""},fromString:function(e){try{if(window.DOMParser)return(new DOMParser).parseFromString(e,"text/xml");if(window.ActiveXObject){var t=new ActiveXObject("Microsoft.xmlDOM");return t.loadXML(e),t}}catch(e){return null}}},webix.BaseBind={bind:function(e,t,i){this.attachEvent||webix.extend(this,webix.EventSystem),"string"==typeof e&&(e=webix.$$(e)),e.W&&e.W(),this.W&&this.W(),e.getBindData||webix.extend(e,webix.BindSource),this.X(),e.addBind(this.s.id,t,i),this.Os=e.s.id;var n=this.s.id;this.Ps=this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return e.getBindData(n)}),this.refresh&&this.isVisible(this.s.id)&&this.refresh()},unbind:function(){if(this.Os){var e=webix.$$(this.Os);e&&e.removeBind(this.s.id),this.detachEvent(this.Ps),this.Os=null}},X:function(){var e=this.s;if(this.filter){var t=e.id;this.data.Y=webix.bind(function(){webix.$$(this.Os).Z[t]=!1},this)}var i=this.render;this.render=function(){if(!this.$){this.$=!0;var e=this.callEvent("onBindRequest");return this.$=!1,i.apply(this,e===!1?arguments:[])}},(this.getValue||this.getValues)&&(this.save=function(e){var t=webix.$$(this.Os);if(e)t.setBindData(e);else{if(this.validate&&!this.validate())return!1;var i=this.getValue?this.getValue:this.getValues();t.setBindData(i,this.s.id),this.setDirty&&this.setDirty(!1)}}),this.X=function(){}}},webix.BindSource={$init:function(){this.bb={},this.Z={},this.cb={},this.db(this)},saveBatch:function(e){this.eb=!0,e.call(this),this.eb=!1,this.fb()},setBindData:function(e,t){if(t&&(this.cb[t]=!0),this.setValue)this.setValue(e);else if(this.setValues)this.setValues(e);else{var i=this.getCursor();i?this.updateItem(i,e):this.add(e)}this.callEvent("onBindUpdate",[e,t]),this.save&&this.save(),t&&(this.cb[t]=!1)},getBindData:function(e,t){if(this.Z[e])return!1;var i=webix.$$(e);i.isVisible(i.s.id)&&(this.Z[e]=!0,this.gb(i,this.bb[e][0],this.bb[e][1]),t&&i.filter&&i.refresh())},addBind:function(e,t,i){this.bb[e]=[t,i]},removeBind:function(e){delete this.bb[e],delete this.Z[e],delete this.cb[e]},db:function(e){e.filter?webix.extend(this,webix.CollectionBind):e.setValue?webix.extend(this,webix.ValueBind):webix.extend(this,webix.RecordBind)},fb:function(){if(!this.eb)for(var e in this.bb)this.cb[e]||(this.Z[e]=!1,this.getBindData(e,!0))},hb:function(e,t,i){e.setValue?e.setValue(i&&t?i[t]:i):e.filter?e.data.silent(function(){this.filter(t,i)}):!i&&e.clear?e.clear():e.O(i)&&e.setValues(webix.clone(i)),e.callEvent("onBindApply",[i,t,this])}},webix.DataValue=webix.proto({name:"DataValue",isVisible:function(){return!0},$init:function(e){(!e||webix.isUndefined(e.value))&&(this.data=e||"");var t=e&&e.id?e.id:webix.uid();this.s={id:t},webix.ui.views[t]=this},setValue:function(e){this.data=e,this.callEvent("onChange",[e])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},webix.EventSystem,webix.BaseBind),webix.DataRecord=webix.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(e){this.data=e||{};var t=e&&e.id?e.id:webix.uid();this.s={id:t},webix.ui.views[t]=this},getValues:function(){return this.data},setValues:function(e,t){this.data=t?webix.extend(this.data,e,!0):e,this.callEvent("onChange",[e])},refresh:function(){this.callEvent("onBindRequest")}},webix.EventSystem,webix.BaseBind,webix.AtomDataLoader,webix.Settings),webix.ValueBind={$init:function(){this.attachEvent("onChange",this.fb)},gb:function(e,t,i){t=t||"value";var n=this.getValue()||"";if(i&&(n=i(n)),e.setValue)e.setValue(n);else if(e.filter)e.data.silent(function(){this.filter(t,n)});else{var r={};r[t]=n,e.O(n)&&e.setValues(r)}e.callEvent("onBindApply",[n,t,this])}},webix.RecordBind={$init:function(){this.attachEvent("onChange",this.fb)},gb:function(e,t,i){var n=this.getValues()||null;i&&(n=i(n)),this.hb(e,t,n)}},webix.CollectionBind={$init:function(){this.ib=null,this.attachEvent("onSelectChange",function(e){var t=this.getSelectedId();this.setCursor(t?t.id||t:null)}),this.attachEvent("onAfterCursorChange",this.fb),this.attachEvent("onAfterDelete",function(e){e==this.getCursor()&&this.setCursor(null)}),this.data.attachEvent("onStoreUpdated",webix.bind(function(e,t,i){e&&e==this.getCursor()&&"paint"!=i&&"delete"!=i&&this.fb()},this)),this.data.attachEvent("onClearAll",webix.bind(function(){this.ib=null},this)),this.data.attachEvent("onIdChange",webix.bind(function(e,t){this.ib==e&&(this.ib=t,this.fb())},this))},refreshCursor:function(){this.ib&&this.callEvent("onAfterCursorChange",[this.ib])},setCursor:function(e){e==this.ib||null!==e&&!this.getItem(e)||(this.callEvent("onBeforeCursorChange",[this.ib]),this.ib=e,this.callEvent("onAfterCursorChange",[e]))},getCursor:function(){return this.ib},gb:function(e,t,i){if("$level"==t&&this.data.getBranch)return(e.data||e).importData(this.data.getBranch(this.getCursor()));var n=this.getItem(this.getCursor())||this.s.defaultData||null;"$data"==t?("function"==typeof i?i.call(e,n,this):e.data.importData(n?n[i]:[]),e.callEvent("onBindApply",[n,t,this])):(i&&(n=i(n)),this.hb(e,t,n))}},webix.AtomRender={jb:function(e){return e.$empty?"":this.s.template(e,this)},render:function(){var e=this.s;return!!this.isVisible(e.id)&&((!this.callEvent||this.callEvent("onBeforeRender",[this.data]))&&(this.data&&!e.content&&(this.y.innerHTML="",this.y.innerHTML=this.jb(this.data)),this.callEvent&&this.callEvent("onAfterRender",[])),!0)},sync:function(e){this.kb=!1,"DataStore"!=e.name&&(e.data&&"DataStore"==e.name?e=e.data:this.kb=!0),this.kb?e.bind("change",webix.bind(function(e){e.id==this.data.id&&(this.data=e.attributes,this.refresh())},this)):e.attachEvent("onStoreUpdated",webix.bind(function(t){t&&t!=this.data.id||(this.data=e.pull[t],this.refresh())},this))},template_setter:webix.template},webix.SingleRender=webix.proto({template_setter:function(e){this.type.template=webix.template(e)},jb:function(e){var t=this.type;return(t.templateStart?t.templateStart(e,t):"")+t.template(e,t)+(t.templateEnd?t.templateEnd(e,t):"")},customize:function(e){webix.type(this,e)}},webix.AtomRender),webix.UIManager={A:null,lb:{},mb:0,XE:0,lH:0,nb:{enter:13,tab:9,esc:27,escape:27,up:38,down:40,left:37,right:39,pgdown:34,pagedown:34,pgup:33,pageup:33,end:35,home:36,insert:45,delete:46,backspace:8,space:32,meta:91,win:91,mac:91,multiply:106,add:107,subtract:109,decimal:110,divide:111,scrollock:145,pausebreak:19,numlock:144,"5numlocked":12,shift:16,capslock:20},wD:{input:1,button:1,textarea:1,select:1},ob:function(){webix.event(document.body,"click",webix.bind(this.pb,this)),webix.event(document,"keydown",webix.bind(this.qb,this)),webix.UE(document.body,"mousedown",webix.bind(function(){this.lH=new Date},this)),document.body.addEventListener&&webix.event(document.body,"focus",this.rb,{capture:!0,bind:this}),webix.destructors.push({obj:this})},destructor:function(){webix.UIManager.A=null},getFocus:function(){return this.A},sb:function(e){this.tb=this.tb||e.s.id},setFocus:function(e,t){return e=webix.$$(e),e&&!e.$view&&(e=null),this.mb=webix.mb=new Date,this.A===e||(this.A&&this.A.callEvent&&this.A.callEvent("onBlur",[this.A]),e&&e.callEvent&&e.callEvent("onFocus",[e,this.A]),webix.callEvent("onFocusChange",[e,this.A]),this.A&&this.A.blur&&!t&&this.A.blur(),this.A=e,e&&e.focus&&!t&&e.focus(),!0)},applyChanges:function(e){var t=this.getFocus();t&&t!=e&&t.Xy&&t.Xy(e)},hasFocus:function(e){return e===this.A},ub:function(e,t){var i=webix.html.locate(e,"view_id")||this.tb;return i=webix.$$(i),this.tb=null,webix.mb=new Date,i!=this.A?(t||(this.tb=null),i?(i=webix.$$(i),this.canFocus(i)&&(i.getNode&&i.getNode(e),this.setFocus(i))):t||this.setFocus(null),!0):void 0},pb:function(e){return new Date-this.mb<100?(this.tb=null,!1):this.ub(e)},rb:function(e){return!!this.wD[e.target.nodeName.toLowerCase()]&&this.ub(e,!0)},canFocus:function(e){return e.isVisible()&&e.isEnabled()},vb:function(e){var t=this.getFocus();return!(e&&!this.wb(e,t))&&void(this.xb("getPrev",e)||(this.A=null))},Xz:{},wb:function(e,t){if(!e)return!1;if(!t)return!1;for(;t;){if(t===e)return!0;t=t.getParentView()}return!1},yb:function(){this&&this.callEvent&&this.callEvent("onTimedKeyPress",[])},BA:function(e){return 112>e&&e>105},qb:function(e){var t=e.which||e.keyCode;t>95&&106>t&&(t-=48),t=this.Xz[t]||t;var i=e.ctrlKey,n=e.shiftKey,r=e.altKey,a=e.metaKey,o=this.zb(t,i,n,r,a),s=this.getFocus();s&&s.callEvent&&(s.callEvent("onKeyPress",[t,e])===!1&&webix.html.preventEvent(e),s.hasEvent("onTimedKeyPress")&&(clearTimeout(s.Ab),s.Ab=webix.delay(this.yb,s,[],s.s.keyPressTimeout||250))),this.BA(t)||(o=this.zb(String.fromCharCode(t),i,n,r,a));var l=!i&&!r&&!a&&9!=t&&27!=t&&13!=t;return this.Bb(o,l,e)===!1?(webix.html.preventEvent(e),!1):void 0},xb:function(e){if(!this.getFocus())return null;e=e||"getNext";for(var t=this.getFocus(),i=t,n=webix.uid();;){if(t=this[e](t),t&&this.canFocus(t))return this.setFocus(t);if(t===i||t.$fmarker==n)return null;t.$fmarker=n}},WE:function(e,t){var i=!t.shiftKey;if(webix.UIManager.XE=new Date,e&&e.Gb&&!e.Gb(i,t))return!1;if(e&&e.Eb){if(e.editNext)return e.editNext(i);if(e.editStop)return e.editStop(),!0}else webix.delay(function(){webix.UIManager.setFocus(webix.$$(document.activeElement),!0)},1)},getTop:function(e){for(var t,i=webix.$$(e);i&&(t=i.getParentView());)i=t;return i},getNext:function(e,t){var i=e.getChildViews();if(i.length&&!t)return i[0];var n=e.getParentView();if(!n)return e;var r=n.getChildViews();if(r.length)for(var a=webix.PowerArray.find.call(r,e)+1;a<r.length;){if(this.canFocus(r[a]))return r[a];a++}return this.getNext(n,!0)},getPrev:function(e,t){var i=e.getChildViews();if(i.length&&t)return this.getPrev(i[i.length-1],!0);if(t)return e;var n=e.getParentView();if(!n)return this.getPrev(e,!0);var r=n.getChildViews();if(r)for(var a=webix.PowerArray.find.call(r,e)-1;a>=0;){if(this.canFocus(r[a]))return this.getPrev(r[a],!0);a--}return n},addHotKey:function(e,t,i){var n=this.Cb(e);i||(i=null),n.handler=t,n.view=i;var r=this.zb(n.letter,n.ctrl,n.shift,n.alt,n.meta);return this.lb[r]||(this.lb[r]=[]),this.lb[r].push(n),e},removeHotKey:function(e,t,i){var n=this.Cb(e),r=this.zb(n.letter,n.ctrl,n.shift,n.alt,n.meta);if(t||i){var a=this.lb[r];if(a){for(var o=a.length-1;o>=0;o--)i&&a[o].view!==i||t&&a[o].handler!==t||a.splice(o,1);a.length||delete this.lb[r]}}else delete this.lb[r]},zb:function(e,t,i,n,r){return e+"_"+["",t?"1":"0",i?"1":"0",n?"1":"0",r?"1":"0"].join("")},Bb:function(e,t,i){var n=this.getFocus();return this.lb[e]?this.Db(this.lb[e],n,i):!t||!this.lb.ANY_0000||this.Db(this.lb.ANY_0000,n,i)},Db:function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];if(null===r.view||t===r.view||"string"==typeof r.view&&t&&t.name===r.view){var a=r.handler(t,i);if(!!a===a)return a}}return!0},Cb:function(e){var t,i,n,r,a=this.nb,o=e.toLowerCase().split(/[\+\-_]/);t=i=n=r=0;for(var s="",l=0;l<o.length;l++)if("ctrl"===o[l])t=1;else if("shift"===o[l])i=1;else if("alt"===o[l])n=1;else if("command"===o[l])r=1;else if(a[o[l]]){var u=a[o[l]];s=this.BA(u)?u.toString():String.fromCharCode(u)}else s=o[l];return{letter:s.toUpperCase(),ctrl:t,shift:i,alt:n,meta:r}}},webix.ready(function(){webix.UIManager.ob(),webix.UIManager.addHotKey("enter",function(e,t){if(e&&e.callEvent&&e.callEvent("onEnter",[t]),e&&e.editStop&&e.Eb)return e.editStop(),!0;if(e&&e.touchable){var i=e.getFormView();i&&!e.Dt&&i.callEvent("onSubmit",[e,t])}}),webix.UIManager.addHotKey("esc",function(e){if(e){if(e.editCancel&&e.Eb)return e.editCancel(),!0;var t=e.getTopParentView();t&&t.setPosition&&t.Fb()}}),webix.UIManager.addHotKey("shift+tab",webix.UIManager.WE),webix.UIManager.addHotKey("tab",webix.UIManager.WE)}),webix.IdSpace={$init:function(){this.Hb={},this.Ib={},this.getTopParentView=this.CD=webix.bind(function(){return this},this),this.Jb(),this.$ready.push(this.Kb)},$$:function(e){return this.Hb[e]},innerId:function(e){return this.Ib[e]},Jb:function(e){this.Lb=webix.Mb,webix.Mb=this},Kb:function(e){for(var t in this.Hb){var i=this.Hb[t];this.callEvent&&i.mapEvent&&!i.k.onitemclick&&i.mapEvent({onitemclick:this}),i.getTopParentView=this.CD}webix.Mb=this.Lb,this.Lb=0},oC:function(e){delete this.Hb[e]},ui:function(){this.Jb();var e=webix.ui.apply(webix,arguments);return this.Kb(),e}},function(){var e=[],t=webix.ui;if(!webix.ui){t=webix.ui=function(e,r,a){webix.Nb=!0;var o=webix.isArray(e),s=webix.toNode(e.container||r||document.body);s.s&&(a=n(s,o,a));var l,u=s==document.body;if(e.s||s&&o?l=e:(s&&u&&(e.$topView=!0),e.Ob||(e.Ob={}),l=t.A(e)),!u||l.setPosition||l.$apiOnly||webix.ui.Pb(),l.s&&l.s.ft&&!s.$view)l.s.gt=s;else if(!l.$apiOnly)if(s.appendChild)i(s,l,e);else if(s.destructor){var c=s;if(a||0===a||webix.isArray(l)||(a=s,s=s.getParentView()),s&&s.Qb)l.getParentView&&l.getParentView()&&l.getParentView().Rb(l),s.Qb(l,a);else{var r=c.$view.parentNode;c.destructor(),i(r,l,e)}}return webix.Nb=!1,l};var i=function(t,i,n){t.appendChild(i.x),((!i.setPosition||i.s.fullscreen)&&t==document.body||i.s.position)&&e.push(i.VE),n.skipResize||i.adjust()},n=function(e,t,i){var n=[e];if(t)n=e.getChildViews();else if(e.gd)n=[e.gd];else{if("number"==typeof i)return i;if(i)return n=[webix.$$(i)],r(n),n[0].config.id}return r(n),i},r=function(e){for(var t=e.length-1;t>=0;t--)delete webix.ui.views[e[t].config.id],e[t].config.id="x"+webix.uid(),webix.ui.views[e[t].config.id]=e[t],r(e[t].getChildViews())}}webix.ui.animate=function(e,t,i){var n=webix.$$(t);if(n){var r=i||{type:"slide",direction:"left"},a=n.x.cloneNode(!0),o=webix.ui(e,t);o.x.parentNode.appendChild(a);var s=webix.animate.formLine(o.x,a,r);return r.callback=function(){webix.animate.breakLine(s)},webix.animate(s,r),o}},webix.ui.animateView=function(e,t,i){if(e=webix.$$(e)){i=i||{type:"slide",direction:"left"};for(var n=function(e){var t=e.x,i=t.className,n=t.innerHTML;return"<div class='"+i+"' style='width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;'>"+n+"</div>"},r=[],a=0;a<e.x.childNodes.length;a++){var o=e.x.childNodes[a],s=o.currentStyle?o.currentStyle.display:getComputedStyle(o,null).display;r.push(s||"")}var l=n(e);"function"==typeof t&&t.call(this);for(var u=n(e),c=e.x.insertBefore(webix.html.create("DIV",{class:"webix_view_animate",style:"width:"+e.x.offsetWidth+"px;height:"+e.x.offsetHeight+"px;"},u+l),e.x.firstChild),a=1;a<e.x.childNodes.length;a++)e.x.childNodes[a].style.display="none";var d=webix.animate.formLine(c.childNodes[0],c.childNodes[1],i);return i.callback=function(){if(c){e.x.removeChild(c),c=null;for(var t=0;t<e.x.childNodes.length;t++)e.x.childNodes[t].style.display=r[t]}},webix.animate(d,i),e}},webix.ui.Sb=function(){var e=webix.html.create("div");e.className="webix_skin_mark",e.style.cssText="position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,i={110:"air",120:"aircompact",130:"clouds",140:"web",150:"terrace",160:"metro",170:"light",180:"glamour",190:"touch",200:"flat",210:"compact",220:"material",230:"contrast"}[10*Math.floor(e.offsetHeight/10)];if(document.body.removeChild(e),i){var n=webix.skin[i];n&&n!=webix.skin.$active&&webix.skin.set(i)}return webix.env.$customScroll?0:t},webix.ui.scrollSize=webix.env.touch||webix.env.$customScroll?0:17,webix.ready(function(){var e=webix.ui.Sb();webix.ui.scrollSize=webix.env.touch?0:e}),webix.ui.Tb=function(e){return"$"+e+(this.Ub[e]=(this.Ub[e]||0)+1)},webix.ui.Ub={},webix.ui.Pb=function(){webix.html.addStyle("html, body{ height:100%; }"),document.body.className+=" webix_full_screen",webix.ui.Pb=function(){},webix.Touch.limit(!1)},webix.ui.freeze=function(e,t){webix.ui.PG=!0;var i=e();i&&i.then?i.then(function(e){return webix.ui.PG=!1,t!==!1&&webix.ui.resize(),e}):(webix.ui.PG=!1,t!==!1&&webix.ui.resize())},webix.ui.resize=function(){if(webix.UIManager.applyChanges(),webix.callEvent("onClick",[]),webix.ui.QG=!0,!webix.ui.PG)for(var t=e.length-1;t>=0;t--)e[t].obj&&e[t].obj.resize();webix.ui.QG=!1},webix.ui.each=function(e,t,i,n){if(e)for(var r=n?[e]:e.getChildViews(),a=0;a<r.length;a++)t.call(i||webix,r[a])!==!1&&webix.ui.each(r[a],t,i)},webix.event(window,"resize",function(){webix.env.touch&&(webix.edit_open_time&&new Date-webix.edit_open_time<1e3||webix.mb&&new Date-webix.mb<1e3)||webix.ui.resize()}),t.Wb={},t.delay=function(e){webix.ui.Wb[e.id]=e},t.hasMethod=function(e,t){var i=webix.ui[e];return!!i&&(i.$protoWait&&(i=i.call(webix)),!!webix.ui[e].prototype[t])},webix.ui.zIndex=function(){return webix.ui.zIndexBase++},webix.ui.zIndexBase=100,t.A=function(e){if(e.view){var i=e.view;return new t[i](e)}if(e.rows||e.cols){for(var n=e.rows||e.cols,r=!1,a=0;a<n.length;a++)!n[a].body||n[a].view||n[a].align||(r=!0);return r?new t.headerlayout(e):new t.layout(e)}return e.cells?new t.multiview(e):e.template||e.content?new t.template(e):e.align&&e.body?new t.align(e):new t.spacer(e)},t.views={},webix.$$=function(e){if(!e)return null;if(t.views[e])return t.views[e];if(t.Wb[e])return webix.ui(t.Wb[e]);var i=e;if("object"==typeof e){if(e.s)return e;i=e.target||e.srcElement||e}return t.views[webix.html.locate({target:webix.toNode(i)},"view_id")]},webix.isUndefined(window.$$)&&(window.$$=webix.$$),webix.UIExtension=window.webix_view||{},webix.protoUI({name:"baseview",$init:function(e){e.id||(e.id=webix.ui.Tb(this.name)),this.Xb=webix.Xb,webix.Xb=null,this.$scope=e.$scope||(this.Xb?this.Xb.$scope:null),this.x||(this.w=this.x=webix.html.create("DIV",{class:"webix_view"}),this.$view=this.x)},$skin:!1,defaults:{width:0,height:0,gravity:1},getNode:function(){return this.x},getParentView:function(){return this.Xb||null},getTopParentView:function(){var e=this.getParentView();return e?e.getTopParentView():this},getFormView:function(){var e=this.getParentView();return!e||e.setValues?e:e.getFormView()},getChildViews:function(){return[]},queryView:function(e,t){var i;if("object"==typeof e){for(var n=Object.keys(e),r=[],a=0;a<n.length;a++)r[a]=e[n[a]];var i=function(e){
for(var t=e.config,i=0;i<n.length;i++)if(t[n[i]]!=r[i])return!1;return!0}}else i=e;if("self"===t&&i(this))return this;var o="all"===t&&[],s="parent"===t?this.gG:this.hG,l=this.iG(i,s,o);return"all"===t?o:l},hG:function(e){return e.getChildViews()},gG:function(e){var t=e.getParentView();return t?[t]:[]},iG:function(e,t,i){for(var n=t(this),r=0;r<n.length;r++)if(e(n[r])){if(!i)return n[r];i.push(n[r])}else{var a=n[r].iG(e,t,i);if(a)return a}return null},isVisible:function(e,t){if(this.s.hidden)return e&&(this.Yb||(this.Yb=[],this.Zb={}),this.Zb[e]||(this.Zb[e]=!0,this.Yb.push(e))),!1;var i=this.getParentView();return!i||i.isVisible(e,this.s.id)},isEnabled:function(){if(this.$b)return!1;var e=this.getParentView();return!e||e.isEnabled()},disable:function(){webix.html.remove(this.$b),this.s.disabled=!0,this.$b=webix.html.create("div",{class:"webix_disabled"}),this.x.appendChild(this.$b),this.x.setAttribute("aria-disabled","true"),webix.html.addCss(this.x,"webix_disabled_view",!0),webix.UIManager.vb(this)},enable:function(){this.s.disabled=!1,this.$b&&(webix.html.remove(this.$b),webix.html.removeCss(this.x,"webix_disabled_view"),this.x.removeAttribute("aria-disabled"),this.$b=null)},disabled_setter:function(e){return e?this.disable():this.enable(),e},container_setter:function(e){return!0},css_setter:function(e){return"object"==typeof e&&(e=webix.html.createCss(e)),this.x.className+=" "+e,e},id_setter:function(e){if(webix.Mb&&(webix.Mb!=this||this.Lb)){var t=this.config.$id=e;(this.Lb||webix.Mb).Hb[e]=this,e=webix.ui.Tb(this.name),(this.Lb||webix.Mb).Ib[e]=t}return webix.ui.views[e]=this,this.x.setAttribute("view_id",e),e},$setSize:function(e,t){var i=this.ac;if(i&&i[0]==e&&i[1]==t)return!1;this.ac=[e,t],this.$width=this.bc=e-(this.cc?webix.ui.scrollSize:0),this.$height=this.dc=t-(this.ec?webix.ui.scrollSize:0);var n=this.s;return n.flex||(this.x.style.width=e+"px",this.x.style.height=t+"px"),!0},$getSize:function(e,t){var i=this.s,n=[1*(i.width||i.minWidth||0),1*(i.width||i.maxWidth||1e5),1*(i.height||i.minHeight||0),1*(i.height||i.maxHeight||1e5),i.gravity];return n[0]+=e,n[1]+=e,n[2]+=t,n[3]+=t,n},show:function(e,t){var i=this.getParentView(),n=!arguments[2];if(i)!t&&t!==!1&&this.s.animate&&i.s.animate&&(t=webix.extend(i.s.animate?webix.extend({},i.s.animate):{},this.s.animate,!0)),(n?i.fc:i.Fb)&&(n?i.fc:i.Fb).call(i,this,t),n&&this.Qd(),e&&n&&i.show(!i.$$&&e);else if(this.s.hidden){if(n){var r=webix.toNode(this.s.gt||document.body);r.appendChild(this.x),this.s.hidden=!1,this.adjust(),this.Qd()}}else n||(this.s.hidden=this.s.ft=!0,this.x&&(this.s.gt=this.x.parentNode,webix.html.remove(this.x)))},Qd:function(){if(this.Yb){for(var e=0;e<this.Yb.length;e++){var t=webix.$$(this.Yb[e]);t&&t.render()}this.Yb=[],this.Zb={}}},DD:function(e,t){var i=t.srcElement||t.target,n=i.getAttribute("role");13!==e&&32!==e||"button"!=n||this.s.disabled||(webix.html.triggerEvent(i,"MouseEvents","click"),webix.html.preventEvent(t))},hidden_setter:function(e){return e&&this.hide(),this.s.hidden},hide:function(){this.show(null,null,!0),webix.UIManager.vb(this)},adjust:function(){if(!this.x.parentNode)return!1;var e=this.x.parentNode.clientWidth||0,t=this.x.parentNode.clientHeight||0,i=this.$getSize(0,0),n=this.x.parentNode==document.body&&!this.setPosition;i[0]>e&&(e=i[0]),i[2]>t&&(t=i[2]),(!n||this.s.width)&&e>i[1]&&(e=i[1]),(!n||this.s.height)&&t>i[3]&&(t=i[3]),this.$setSize(e,t),webix.ED&&(webix.ED=!1,this.adjust())},resize:function(){if(!(webix.gc||webix.ui.PG||webix.ot)){var e=this.getParentView();e?e.resizeChildren?e.resizeChildren():e.resize():(this.adjust(),webix.callEvent("onResize",[]))}}},webix.Settings,webix.Destruction,webix.BaseBind,webix.UIExtension),webix.protoUI({name:"view",$init:function(e){this.hc(e)},hc:function(e){var t=webix.isUndefined(e.borderless);t&&!this.setPosition&&e.$topView&&(e.borderless=!0,t=!1),t&&this.defaults.borderless||e.borderless?e.Ob={top:!0,left:!0,bottom:!0,right:!0}:(e.Ob||(e.Ob={}),this.w.style.borderWidth="1px")},$getSize:function(e,t){var i=this.s.Ob;i&&(e+=(i.left?0:1)+(i.right?0:1),t+=(i.top?0:1)+(i.bottom?0:1));var n=webix.ui.baseview.prototype.$getSize.call(this,e,t);return n},$setSize:function(e,t){var i=this.s.Ob;return i&&(e-=(i.left?0:1)+(i.right?0:1),t-=(i.top?0:1)+(i.bottom?0:1)),webix.ui.baseview.prototype.$setSize.call(this,e,t)}},webix.ui.baseview)}(),webix.ui.view.call(webix),webix.protoUI({name:"spacer",defaults:{borderless:!0},$init:function(){this.x.className+=" webix_spacer"}},webix.ui.view),webix.protoUI({name:"baselayout",restore:function(e,t,i){var n=this.mH(webix.copy(e),t);return i?n:void webix.ui(n.cols||n.rows,this)},mH:function(e,t){if(!e.$layout)return t.call(this,e);for(var i=e.cols||e.rows,n=0;n<i.length;n++)i[n]=this.mH(i[n],t);return e},serialize:function(e){for(var t=[],i=this.getChildViews(),n=0;n<i.length;n++){var r=i[n];if(r.movePortlet){var a=r.getChildViews();t.push(e.call(this,a[a.length-1]))}else r.serialize?t.push(r.serialize(e,!0)):t.push(e.call(this,r))}var o={$layout:!0,type:this.config.type};return this.config.rows?o.rows=t:o.cols=t,o},$init:function(e){this.$ready.push(this.kc),this.y=this.w,this.lc=[],this.ht=[],e.$topView&&(e.borderless=!0,e.Ob={top:!0,left:!0,bottom:!0,right:!0}),e.isolate&&webix.extend(this,webix.IdSpace)},rows_setter:function(e){return this.mc=1,this.nc=e,!0},cols_setter:function(e){return this.mc=0,this.$view.style.whiteSpace="nowrap",this.nc=e,!0},Rb:function(e){webix.PowerArray.removeAt.call(this.q,webix.PowerArray.find.call(this.q,e)),this.resizeChildren(!0)},Qb:function(e,t){if(webix.isUndefined(t)){for(var i=0;i<this.q.length;i++)this.q[i].destructor();this.nc=e,this.kc()}else{var n;if("number"==typeof t){(0>t||t>this.q.length)&&(t=this.q.length);var r=(this.q[t]||{}).x;webix.PowerArray.insertAt.call(this.q,e,t),e.s.hidden||webix.html.insertBefore(e.x,r,this.y)}else{n=webix.$$(t),t=webix.PowerArray.find.call(this.q,n);var a=n.x.parentNode;a&&!e.s.hidden&&a.insertBefore(e.x,n.x),n.destructor(),this.q[t]=e}this.mc||this.oc(e),this.q[t].Xb=this}this.resizeChildren(!0);var o=this.elements?this:this.getFormView();o&&o.Qs(),webix.callEvent("onReconstruct",[this])},oc:function(e){e.x.style.display="inline-block",e.x.style.verticalAlign="top"},addView:function(e,t){webix.isUndefined(t)&&(t=this.q.length);var i=this.$$?this:this.getTopParentView();return i=i&&i.ui?i:webix,i.ui(e,this,t).s.id},removeView:function(e){var t;t="object"!=typeof e?webix.$$(e)||(this.$$?this.$$(e):null):e;var i=webix.PowerArray.find.call(this.q,t);if(i>=0){this.Vx&&this.Vx(i,t);var n=this.elements?this:this.getFormView();this.q.splice(i,1),n&&webix.ui.each(t,function(e){e.name&&delete n.getCleanValues()[e.config.name]},n,!0),t.destructor(),this.resizeChildren(!0),n&&n.Qs()}webix.callEvent("onReconstruct",[this])},reconstruct:function(){this.qc=0,this.Qb(this.nc)},Fb:function(e,t,i){e.s.hidden||(e.s.hidden=!0,webix.html.remove(e.x),this.qc++,i||webix.Nb||this.resizeChildren(!0))},Lw:function(e){e.callEvent&&e.callEvent("onViewShow",[])},resizeChildren:function(){if(!webix.ui.PG&&this.lc){var e=this.getParentView();if(e)return e.resizeChildren?e.resizeChildren():e.resize();var t,i,n,r,a=this.$getSize(0,0);if(n=t=this.lc[0]||0,r=i=this.lc[1]||0,(a[1]>=1e5||a[3]>=1e5)&&this.x.parentNode&&(n=t=Math.max(a[0],this.s.width||this.x.parentNode.offsetWidth||t||0),r=i=Math.max(a[2],this.s.height||this.x.parentNode.offsetHeight||i||0)),e)this.rc(t,i);else{a[0]>t&&(n=a[0]),a[2]>i&&(r=a[2]);var o=this.x.parentNode==document.body&&!this.setPosition;!o&&t>a[1]&&(n=a[1]),!o&&i>a[3]&&(r=a[3]),this.$setSize(n,r)}webix.ED&&(webix.ED=!1,this.resizeChildren()),webix.callEvent("onResize",[])}},getChildViews:function(){return this.q},index:function(e){e.s&&(e=e.s.id);for(var t=0;t<this.q.length;t++)if(this.q[t].s.id==e)return t;return-1},fc:function(e,t,i){if(e.s.hidden){e.s.hidden=!1;for(var n=this.index(e)+1;this.q[n]&&this.q[n].s.hidden;)n++;var r=this.q[n]?this.q[n].x:null;webix.html.insertBefore(e.x,r,this.y||this.x),this.qc--,i||(this.resizeChildren(!0),e.refresh&&e.refresh()),e.callEvent&&(e.callEvent("onViewShow",[]),webix.ui.each(e,this.Lw))}},showBatch:function(e,t){var i="undefined"!=typeof t;if(t=t!==!1,i)this.s.visibleBatch="";else{if(this.s.visibleBatch==e)return;this.s.visibleBatch=e}for(var n=[],r=0;r<this.q.length;r++)this.q[r].s.batch?this.q[r].s.batch==e?t?n.push(this.q[r]):this.Fb(this.q[r],null,!0):i||this.Fb(this.q[r],null,!0):n.push(this.q[r]);for(var r=0;r<n.length;r++)this.fc(n[r],null,!0),n[r].Qd();this.resizeChildren(!0)},kc:function(e){this.q=[];for(var t=0;t<e.length;t++)webix.Xb=this,e[t].Ob||(e[t].borderless=!0),this.q[t]=webix.ui.A(e[t],this),this.mc||this.oc(this.q[t]),this.s.visibleBatch&&this.s.visibleBatch!=this.q[t].s.batch&&this.q[t].s.batch&&(this.q[t].s.hidden=!0,this.qc++),this.q[t].s.hidden||((this.y||this.w).appendChild(this.q[t].x),this.q[t].$nospace&&this.qc++);this.sc&&this.sc(e)},tc:function(e,t,i){if(this.mc!=i)for(var n=0;n<this.q.length;n++)this.q[n].s[e]=t,this.q[n].tc&&this.q[n].tc(e,t,i)},$getSize:function(e,t){var i=0,n=1e5,r=1e5,a=0;this.mc?r=0:n=0;var o=0,s=0,l=0;this.uc=[];for(var u=0;u<this.q.length;u++)if(!this.q[u].s.hidden){var c=this.uc[u]=this.q[u].$getSize(0,0);this.q[u].$nospace?s++:this.mc?(c[0]>i&&(i=c[0]),c[1]<n&&(n=c[1]),a+=c[2],r+=c[3],c[2]==c[3]&&-1!=c[2]?(o+=c[2],s++):l+=c[4]):(c[2]>a&&(a=c[2]),c[3]<r&&(r=c[3]),i+=c[0],n+=c[1],c[0]==c[1]&&-1!=c[0]?(o+=c[0],s++):l+=c[4])}a>r&&(r=a),i>n&&(n=i),this.vc=[o,this.q.length-s,l],this.ng=[i+e,a+t];var d=webix.ui.baseview.prototype.$getSize.call(this,0,0);return d[1]>=1e5&&(d[1]=0),d[3]>=1e5&&(d[3]=0),d[0]=(d[0]||i)+e,d[1]=Math.max(d[0],(d[1]||n)+e),d[2]=(d[2]||a)+t,d[3]=Math.max(d[2],(d[3]||r)+t),!this.mc&&this.s.responsive&&(d[0]=0),d},$setSize:function(e,t){this.lc=[e,t],webix.ui.baseview.prototype.$setSize.call(this,e,t),this.rc(e,t)},wc:function(e,t,i){t=e[t],i=e[i];var n=t;if(t!=i){var r=this.xc*e[4]/this.yc;if(t>r)n=t,this.yc-=e[4],this.xc-=n;else{if(!(r>i))return-1;n=i,this.yc-=e[4],this.xc-=n}}return n},it:function(e,t){var i=webix.$$(t);"hide"!==i&&i?(i||(i=webix.ui({view:"popup",body:[{}]})),e.jt=e.s.width,e.kt=e.s.height,e.lt=i.s.id,e.s.width=0,e.s.height||(e.s.autoheight=!0),webix.ui(e,i,this.ht.length)):(e.hide(),e.lt="hide"),this.ht.push(e)},mt:function(e){var t=e.lt;if(e.lt=0,"hide"!==t&&t){e.s.width=e.jt,e.s.height=e.kt,delete e.s.autoheight;for(var i=0;this.q[i]&&this.q[i].s.responsiveCell===!1;)i++;webix.ui(e,this,i)}else e.show();this.ht.pop()},nt:function(e,t){if(webix.ot=!0,e+2*this.Dc+this.Cc*(this.q.length-1)<this.ng[0])for(var i=this.q.length-1,n=0;i>n;n++){var r=this.q[n];if(!r.lt){if(r.s.responsiveCell!==!1){this.it(r,this.s.responsive),webix.callEvent("onResponsiveHide",[r.s.id]),webix.ED=!0;break}i=this.q.length}}else if(this.ht.length){var r=this.ht[this.ht.length-1],a="hide"==r.lt?0:r.jt,o=r.$getSize(a,0);o[0]+this.ng[0]+this.Cc+20<=e&&(this.mt(r),webix.callEvent("onResponsiveShow",[r.s.id]),webix.ED=!0)}webix.ot=!1},rc:function(e,t){webix.gc=(webix.gc||0)+1,!this.mc&&this.s.responsive&&this.nt(e,t),this.xc=(this.mc?t:e)-this.vc[0],this.yc=this.vc[2];for(var i=e,n=t,r=[],a=0;a<this.q.length;a++)if(!this.q[a].s.hidden&&this.uc[a]){var o=this.uc[a];if(this.mc){var n=this.wc(o,2,3);if(0>n){r.push(a);continue}}else{var i=this.wc(o,0,1);if(0>i){r.push(a);continue}}this.q[a].$setSize(i,n)}for(var a=0;a<r.length;a++){var s=r[a],o=this.uc[s],l=Math.round(this.xc*o[4]/this.yc);this.xc-=l,this.yc-=o[4],this.mc?n=l:i=l,this.q[s].$setSize(i,n)}webix.gc-=1},zc:function(e,t){var i=this.index(e);return-1==i?null:this.q[i+t]},Ac:function(){return this.q[0]}},webix.EventSystem,webix.ui.baseview),webix.protoUI({name:"layout",$init:function(e){this.qc=0},defaults:{type:"line"},kc:function(){this.Bc&&(e=this.Bc(e)),this.Uw||(this.x.className+=" webix_layout_"+(this.s.type||""),this.Uw=1),this.s.margin!==webix.undefined&&(this.Cc=this.s.margin),this.s.padding!=webix.undefined&&(this.Dc=this.Ec=this.s.padding),this.s.paddingX!==webix.undefined&&(this.Dc=this.s.paddingX),this.s.paddingY!==webix.undefined&&(this.Ec=this.s.paddingY),(this.Ec||this.Dc)&&(this.Fc=!0),this.Wx()&&!this.s.borderless&&(this.w.style.borderWidth="1px",this.Gc=!0);var e=this.nc;this.s.borderless&&(this.s.Ob={top:!0,left:!0,right:!0,bottom:!0}),this.Hc(e),webix.ui.baselayout.prototype.kc.call(this,e),this.Ic(e)},$getSize:function(e,t){e=e||0,t=t||0;var i=this.Cc*(this.q.length-this.qc-1);if(this.Gc||this.Wx()){var n=this.s.Ob;n&&(e+=(n.left?0:1)+(n.right?0:1),t+=(n.top?0:1)+(n.bottom?0:1))}return this.s.height||(t+=2*(this.Ec||0)+(this.mc?i:0)),this.s.width||(e+=2*(this.Dc||0)+(this.mc?0:i)),webix.ui.baselayout.prototype.$getSize.call(this,e,t)},$setSize:function(e,t){this.lc=[e,t];var i;i=this.Wx()||this.Gc?webix.ui.view.prototype.$setSize.call(this,e,t):webix.ui.baseview.prototype.$setSize.call(this,e,t),t=this.dc,e=this.bc;var n=this.s;n.scroll&&(t=Math.max(t,this.ng[1]),e=Math.max(e,this.ng[0])),this.rc(e,t)},rc:function(e,t){var i=this.Cc*(this.q.length-this.qc-1);return this.mc?(t-=i+2*this.Ec,e-=2*this.Dc):(e-=i+2*this.Dc,t-=2*this.Ec),webix.ui.baselayout.prototype.rc.call(this,e,t)},resizeChildren:function(e){if(e){this.ac=null;for(var t=[],i=0;i<this.q.length;i++){var n=this.q[i];t[i]=n.s;var r=n.lc&&!n.Gc||n.s.borderless?"0px":"1px";n.x.style.borderTopWidth=n.x.style.borderBottomWidth=n.x.style.borderLeftWidth=n.x.style.borderRightWidth=r}this.Hc(t);for(var i=0;i<t.length;i++)t[i].borderless&&this.q[i].hc&&this.q[i].hc(t[i]);this.Ic(this.q)}webix.ot||webix.ui.baselayout.prototype.resizeChildren.call(this)},Wx:function(){return this.Fc&&this.Cc>0&&!this.Xx},Hc:function(e){if(!this.Wx()||this.s.borderless&&"space"!=this.s.type){for(var t=0;t<e.length;t++)e[t].Ob=webix.clone(this.s.Ob);var i=!1;this.Xx&&(i=!0);var n=e.length;if(this.mc){for(var t=1;n-1>t;t++)e[t].Ob.top=e[t].Ob.bottom=i;if(n>1){for("head"!=this.s.type&&(e[0].Ob.bottom=i);e[n-1].hidden&&n>1;)n--;n>0&&(e[n-1].Ob.top=i)}}else{for(var t=1;n-1>t;t++)e[t].Ob.left=e[t].Ob.right=i;if(n>1){for("head"!=this.s.type&&(e[0].Ob.right=i),e[n-1].Ob.left=i;n>1&&e[n-1].hidden;)n--;n>0&&(e[n-1].Ob.left=i)}}}else for(var t=0;t<e.length;t++)e[t].Ob&&e[t].borderless||(e[t].Ob={top:!1,left:!1,right:!1,bottom:!1})},Jc:function(e,t){t.top&&(e.borderTopWidth="0px"),t.left&&(e.borderLeftWidth="0px"),t.right&&(e.borderRightWidth="0px"),t.bottom&&(e.borderBottomWidth="0px")},Ic:function(e){for(var t=0,i=0;i<e.length;i++){var n=this.q[i],r=n.s.Ob;if(n.s.hidden&&this.q[i+1]){var a=this.q[i+1].s.Ob;r.top||(a.top=!1),r.left||(a.left=!1),i==t&&t++}this.Jc(n.x.style,n.s.Ob)}for(var o=this.mc?"marginLeft":"marginTop",s=this.mc?"marginTop":"marginLeft",l=this.mc?this.Dc:this.Ec,u=this.mc?this.Ec:this.Dc,i=0;i<e.length;i++)this.q[i].x.style[o]=(l||0)+"px";this.q.length&&(this.q[t].x.style[s]=(u||0)+"px");for(var c=t+1;c<e.length;c++)this.q[c].x.style[s]=this.Cc+"px"},type_setter:function(e){return this.Cc="undefined"!=typeof this.Kc[e]?this.Kc[e]:this.Kc.line,this.Dc=this.Ec="undefined"!=typeof this.Kc[e]?this.Lc[e]:this.Lc.line,this.Xx="material"==e||"clean"==e,"material"==e&&(this.s.borderless=!0),e},$skin:function(){var e=webix.skin.$active;this.Kc=e.layoutMargin,this.Lc=e.layoutPadding}},webix.ui.baselayout),webix.ui.layout.call(webix),webix.FlexLayout={$init:function(){this.$view.className+=" webix_flexlayout"},oc:function(){},Hc:function(){},Ic:function(){},$getSize:function(e,t){var i=0,n=0,r=this.s.gravity;this.uc=[];for(var a=0;a<this.q.length;a++){var o=this.q[a].$getSize(0,0);this.uc.push(o),i=Math.max(i,o[0]),n=Math.max(n,o[2])}i+=2*(this.Dc||0),n+=2*(this.Ec||0),this.s.width&&(i=Math.max(i,this.s.width)),this.s.height&&(n=Math.max(n,this.s.height));var s=[i,1e5,n,1e5,r];return s},rc:function(e,t){var i=this.$view.style,n=Math.round(this.Cc/2);i.paddingTop=i.paddingBottom=this.Ec-n+"px",i.paddingLeft=i.paddingRight=this.Dc-n+"px";for(var r=0;r<this.q.length;r++)if(!this.q[r].s.hidden){var a=this.q[r].$view,o=this.uc[r],s=this.q[r].s;a&&(a.style.minWidth=o[0]+"px",o[1]<1e5&&o[1]!=o[0]&&(a.style.maxWidth=o[1]+"px"),a.style.flexBasis=s.flexBasis||o[0]+"px",a.style.flexGrow=s.flexGrow||(o[1]!=o[0]?o[4]:0),a.style.height=o[3]!=o[2]?"auto":o[2]+"px",a.style.minHeight=o[2]+"px",o[3]<1e5&&o[3]!=o[2]&&(a.style.maxHeight=o[3]+"px"),a.style.margin=n+"px")}for(var l=[],r=0;r<this.q.length;r++)if(!this.q[r].s.hidden){var a=this.q[r].$view;l[r]=[a.offsetWidth,a.offsetHeight]}for(var r=0;r<this.q.length;r++)if(!this.q[r].s.hidden){var u=this.q[r],a=u.$view;if(a){u.s.flex=!0;var o=this.uc[r],c=o[2]==o[3]?o[2]:l[r][1];u.$setSize(l[r][0],c),u.s.flex=!1}}this.$height=this.dc=this.$view.scrollHeight,this.$view.style.height=this.dc+"px"}},webix.protoUI({$init:function(){webix.extend(this,webix.FlexLayout,!0)},name:"flexlayout"},webix.ui.layout),webix.protoUI({name:"align",defaults:{borderless:!0,left:0,top:0,right:0,bottom:0},$init:function(){this.x.className+=" webix_view_align"},getChildViews:function(){return[this.gd]},body_setter:function(e){return e.Ob={top:!1,left:!1,right:!1,bottom:!1},this.gd=webix.ui.A(e),this.gd.Xb=this,this.x.appendChild(this.gd.x),e},align_setter:function(e){"string"==typeof e&&(e=e.split(",")),this.FD=this.GD=this.HD="";for(var t=0;t<e.length;t++){var i=e[t];("center"===i||"left"===i||"right"===i)&&(this.FD=i),("top"===i||"bottom"===i||"middle"===i)&&(this.GD=i),"absolute"===i&&(this.FD=this.GD=this.HD="precise")}return e},getBody:function(){return this.gd},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t);var i,n;this.HD?(i=e-this.s.left-this.s.right,n=t-this.s.top-this.s.bottom):(i=this.ng[0]||e,n=this.ng[2]||t),this.gd.$setSize(i,n);var r=this.gd.x;"center"==this.FD?r.style.marginLeft=Math.ceil((e-i)/2)+"px":"right"==this.FD?r.style.marginLeft=e-i+"px":r.style.marginLeft=(this.HD?this.s.left:0)+"px","middle"==this.GD?r.style.marginTop=Math.ceil((t-n)/2)+"px":"bottom"==this.GD?r.style.marginTop=t-n+"px":r.style.marginTop=(this.HD?this.s.top:0)+"px"},$getSize:function(e,t){var i=this.ng=this.gd.$getSize(0,0),n=webix.ui.baseview.prototype.$getSize.call(this,0,0);return this.HD&&(e+=this.s.left+this.s.right,t+=this.s.top+this.s.bottom),!this.FD||this.HD?(n[0]=i[0]+e,n[1]=i[1]+e):(n[0]=(n[0]||i[0])+t,n[1]+=e),!this.GD||this.HD?(n[2]=i[2]+t,n[3]=i[3]+t):(n[2]=(n[2]||i[2])+t,n[3]+=t),n}},webix.ui.view),webix.animate=function(e,t){var i=t;if(webix.isArray(e))for(var n=0;n<e.length;n++){if(webix.isArray(t)&&(i=t[n]),"slide"==i.type){if("out"==i.subtype&&0===n)continue;if("in"==i.subtype&&1==n)continue}if("flip"!=i.type)webix.animate(e[n],i);else{var r=webix.clone(i);0===n&&(r.type="flipback"),1==n&&(r.callback=null),webix.animate(e[n],r)}}else{var a=webix.toNode(e);a.Mc?webix.animate.end(a,i):webix.animate.start(a,i)}},webix.animate.end=function(e,t){e.style[webix.env.transitionDuration]="1ms",e.Mc=null,webix.Nc&&window.clearTimeout(webix.Nc),webix.Nc=webix.delay(webix.animate,webix,[e,t],10)},webix.animate.isSupported=function(){return!webix.$testmode&&!webix.noanimate&&webix.env.transform&&webix.env.transition&&!webix.env.isOpera},webix.animate.formLine=function(e,t,i){var n=i.direction;t.parentNode&&(t.parentNode.style.position="relative"),t.style.position="absolute",e.style.position="absolute";var r=webix.env.isFF?"top"==n||"left"==n?-1:1:0;return"top"==n||"bottom"==n?(e.style.left="0px",e.style.top=(i.top||r)+("top"==n?1:-1)*t.offsetHeight+"px"):(e.style.top=(i.top||0)+"px",e.style.left=r+("left"==n?1:-1)*t.offsetWidth+"px"),t.parentNode==e.parentNode&&i.keepViews?e.style.display="":webix.html.insertBefore(e,t.nextSibling,t.parentNode),"slide"==i.type&&"out"==i.subtype&&(e.style.left="0px",e.style.top=(i.top||0)+"px",t.parentNode.removeChild(t),webix.html.insertBefore(t,e.nextSibling,e.parentNode)),[e,t]},webix.animate.breakLine=function(e){arguments[1]?e[1].style.display="none":webix.html.remove(e[1]),webix.animate.clear(e[0]),webix.animate.clear(e[1]),e[0].style.position=""},webix.animate.clear=function(e){e.style[webix.env.transform]="none",e.style[webix.env.transition]="none",e.style.top=e.style.left=""},webix.animate.defaults={type:"slide",delay:"0",duration:"500",timing:"ease-in-out",x:0,y:0},webix.animate.start=function(e,t){"string"==typeof t&&(t={type:t}),t=webix.Settings.E(t,webix.animate.defaults);var i,n,r=webix.env.cssPrefix,a=e.Mc=t;switch("slide"==a.type&&a.direction){case"right":a.x=e.offsetWidth;break;case"left":a.x=-e.offsetWidth;break;case"top":a.y=-e.offsetHeight;break;case"bottom":default:a.y=a.y||e.offsetHeight}("flip"==a.type||"flipback"==a.type)&&(i=[0,0],n="scaleX","vertical"==a.subtype?(i[0]=20,n="scaleY"):i[1]=20,("right"==a.direction||"bottom"==a.direction)&&(i[0]*=-1,i[1]*=-1));var o=a.duration+"ms "+a.timing+" "+a.delay+"ms",s=r+"TransformStyle: preserve-3d;",l="",u="";switch(a.type){case"fade":l="opacity "+o,s="opacity: 0;";break;case"show":l="opacity "+o,s="opacity: 1;";break;case"flip":o=a.duration/2+"ms "+a.timing+" "+a.delay+"ms",u="skew("+i[0]+"deg, "+i[1]+"deg) "+n+"(0.00001)",l="all "+o;break;case"flipback":a.delay+=a.duration/2,o=a.duration/2+"ms "+a.timing+" "+a.delay+"ms",e.style[webix.env.transform]="skew("+-1*i[0]+"deg, "+-1*i[1]+"deg) "+n+"(0.00001)",e.style.left="0",u="skew(0deg, 0deg) "+n+"(1)",l="all "+o;break;case"slide":var c=a.x+"px",d=a.y+"px";u=webix.env.translate+"("+c+", "+d+("translate3d"==webix.env.translate?", 0":"")+")",l=r+"transform "+o}webix.delay(function(){e.style[webix.env.transition]=l,webix.delay(function(){s&&(e.style.cssText+=s),u&&(e.style[webix.env.transform]=u);var t=!1,i=webix.event(e,webix.env.transitionEnd,function(n){e.Mc=null,a.callback&&a.callback.call(a.master||window,e,a,n),t=!0,webix.eventRemove(i)});window.setTimeout(function(){t||(e.Mc=null,a.callback&&a.callback.call(a.master||window,e,a),t=!0,webix.eventRemove(i))},1.3*(1*a.duration+1*a.delay))})})},webix.MouseEvents={$init:function(e){e=e||{},this.Oc=0,this.Pc=300,this.Qc=null,this.Rc(e.onClick,"on_click"),this.Rc(e.onContext,"on_context"),this.Rc(e.onDblClick,"on_dblclick"),this.Rc(e.onMouseMove,"on_mouse_move"),this.on_click&&(webix.UE(this.w,"click",this.Sc,{bind:this}),webix.env.isIE8&&this.on_dblclick&&webix.UE(this.w,"dblclick",this.Tc,{bind:this})),this.on_context&&webix.UE(this.w,"contextmenu",this.Uc,{bind:this}),this.on_mouse_move&&this.Vc()},Vc:function(){this.Wc||(this.on_mouse_move=this.on_mouse_move||{},webix.UE(this.w,"mousemove",this.Xc,{bind:this}),webix.UE(this.w,webix.env.isIE?"mouseleave":"mouseout",this.Xc,{bind:this}),this.Wc=1,this.attachEvent("onDestruct",function(){this.Zc&&window.clearTimeout(this.Zc)}))},Rc:function(e,t){if(e){var i=this[t],n=i?webix.extend({},i):{};this[t]=webix.extend(n,e)}},Sc:function(e){if(!this.isEnabled())return!1;if(webix.UIManager.sb(this),this.on_dblclick){var t=(new Date).valueOf();if(t-this.Oc<=this.Pc&&this.locate){var i=this.locate(e);if(""+i==""+this.Qc)return this.Oc=0,this.Tc(e)}this.Oc=t}var n=this.Yc(e,this.on_click,"ItemClick");return n},Tc:function(e){return this.Yc(e,this.on_dblclick,"ItemDblClick")},Uc:function(e){this.Yc(e,this.on_context,"BeforeContextMenu","AfterContextMenu")},Xc:function(e){if(!this.$destructed){if(document.createEventObject)e=document.createEventObject(event);else if(!(webix.$testmode||webix.isUndefined(e.movementY)||e.movementY||e.movementX))return;this.Zc&&window.clearTimeout(this.Zc),this.callEvent("onMouseMoving",[e]),this.Zc=window.setTimeout(webix.bind(function(){"mousemove"==e.type?this.$c(e):this._c(e)},this),this.s.mouseEventDelay||500)}},$c:function(e){this.Yc(e,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[e||event])},_c:function(e){this.callEvent("onMouseOut",[e||event])},Yc:function(e,t,i,n){if(e=e||event,!e.processed&&this.x){e.processed=!0;var r=e.target||e.srcElement;if(webix.env.isIE8){var a=this.s.id,o=r.w_view;if(o){if(o!==a)return}else r.w_view=a}for(var s="",l=null,u=!1;r&&r.parentNode&&this.x&&r!=this.x.parentNode;){if(!u&&r.getAttribute&&(l=r.getAttribute(this.ad))){if(this.Qc=l,this.callEvent){if(!this.callEvent("on"+i,[l,e,r]))return;n&&this.callEvent("on"+n,[l,e,r])}u=!0}if(s=webix.html.TC(r)){s=s.toString().split(" ");for(var c=0;c<s.length;c++)if(t[s[c]]){var d=webix.toFunctor(t[s[c]],this.$scope),h=d.call(this,e,l||webix.html.locate(e,this.ad),r);if(h===!1)return u}}r=r.parentNode}return u}}},webix.protoUI({name:"accordionitem",$init:function(e){this.x.innerHTML="<div webix_ai_id='"+e.id+"'  class='webix_accordionitem_header'><div tabindex='0' role='button' class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>",this.w=this.x,this.bd=this.w.childNodes[0],e.header||(this.bd.style.display="none"),this.cd=this.w.childNodes[0].childNodes[1],this.dd=this.w.childNodes[0].childNodes[0],this.ed=this.w.childNodes[1],this.x.className+=" webix_accordionitem",this.fd=this.gd=null,this.q=!0,this.ed.setAttribute("role","tabpanel"),this.bd.setAttribute("role","tab"),this.attachEvent("onKeyPress",this.DD)},Rb:function(){this.gd={destructor:function(){}}},Qb:function(e){this.gd.destructor(),this.gd=e,this.gd.Xb=this,this.ed.appendChild(this.gd.x),this.resize()},ad:"webix_ai_id",getChildViews:function(){return[this.gd]},body_setter:function(e){return"object"!=typeof e&&(e={template:e}),e.Ob={top:!0,left:!0,right:!0,bottom:!0},webix.Xb=this,this.gd=webix.ui.A(e),this.gd.$view.style.border="0px solid red",this.ed.appendChild(this.gd.x),e},header_setter:function(e){return e&&(e=webix.template(e)),e},headerAlt_setter:function(e){return e&&(e=webix.template(e)),e},$getSize:function(e,t){var i=this.gd.$getSize(0,0),n=this.s.Ob;n&&(e+=(n.left?0:1)+(n.right?0:1),t+=(n.top?0:1)+(n.bottom?0:1));var r=0,a=webix.ui.baseview.prototype.$getSize.call(this,0,0);a[0]=(a[0]||i[0])+e,a[1]>=1e5&&(a[1]=i[1]),a[1]+=e,a[2]=(a[2]||i[2])+t;var o=a[3]<1e5;return o||(a[3]=i[3]),a[3]+=t,this.getParentView().mc?this.s.collapsed?a[2]=a[3]=this.hd():this.s.header&&(r=this.s.headerHeight):(this.s.collapsed&&(a[0]=a[1]=this.hd()),this.s.header&&(r=this.s.headerHeight)),o||(a[2]+=r,a[3]+=r),a},on_click:{webix_accordionitem_header:function(e,t){return this.id(e),!1},webix_accordionitem_header_v:function(e,t){return this.id(e),!1}},id:function(e){this.define("collapsed",!this.s.collapsed)},collapsed_setter:function(e){if(this.s.header!==!1){var t=this.getParentView();if(t){if(e)if(t.jd(this))this.kd();else{var i=0;if(t.q.length>1)for(var n=0;n<t.q.length;n++){var r=t.q[n];if(this!=r&&r.isVisible()&&r.expand){r.expand(),this.kd(),i=1;break}}if(!i)return}else this.ld();this.s.collapsed=e,e||t.md(this),this.refresh(),webix.Nb||this.resize(),t.callEvent("onAfter"+(e?"Collapse":"Expand"),[this.s.id]),this.s.$noresize=e}return e}},collapse:function(){this.define("collapsed",!0),webix.UIManager.vb(this)},expand:function(){this.define("collapsed",!1)},fc:function(){this.show()},Fb:function(){this.hide()},ld:function(){this.ed.style.display="",webix.html.removeCss(this.$view,"collapsed"),webix.html.removeCss(this.bd,"collapsed"),this.bd.setAttribute("aria-expanded","true")},kd:function(){this.getParentView().mc,this.s.headerAlt&&(this.cd.innerHTML=this.s.headerAlt()),this.ed.style.display="none",webix.html.addCss(this.$view,"collapsed"),webix.html.addCss(this.bd,"collapsed"),this.bd.setAttribute("aria-expanded","false")},refresh:function(){var e=this.s[this.s.collapsed?"headerAlt":"header"]||this.s.header;e&&(this.cd.innerHTML=e(),this.dd.setAttribute("aria-label",e()));var t=this.getParentView().mc?"vertical":"horizontal";this.x.className.indexOf(" "+t)<0&&webix.html.addCss(this.x,t),webix.env.transform||webix.html.addCss(this.x,"webix_ie",!0)},hd:function(){return this.s.collapsed?this.s.headerAltHeight:this.s.headerHeight},$setSize:function(e,t){if(webix.ui.view.prototype.$setSize.call(this,e,t)||this.hd()!=this.CA){e=this.bc,t=this.dc;var i=this.CA=this.hd();if(this.s.header)if(this.bd.style.height=i+"px",this.bd.style.width="auto",this.bd.style[webix.env.transform]="",this.bd.style.borderBottomWidth=(this.s.collapsed?0:1)+"px",this.getParentView().mc||!this.s.collapsed)t-=this.hd();else if(this.s.collapsed)if(webix.animate.isSupported()){this.bd.style.width=t+"px",this.bd.style.height=e+3+"px";var n=Math.floor(t/2-e/2)+(e-this.s.headerAltHeight)/2;this.bd.style[webix.env.transform]="rotate(90deg) translate("+n+"px, "+(n+1)+"px)"}else this.bd.style.width=e+"px",this.bd.style.height=t+3+"px";this.s.collapsed||(this.gd.$setSize(e,t),this.ct=t)}else if(!this.s.collapsed){var r=this.gd;this.ct&&r.$setSize(this.bc,this.ct)}},$skin:function(){var e=this.defaults;e.headerAltHeight=e.headerHeight=webix.skin.$active.barHeight,webix.skin.$active.borderlessAccordion&&(e.borderless=!0)},defaults:{header:!1,headerAlt:!1,body:""}},webix.MouseEvents,webix.EventSystem,webix.ui.view),webix.protoUI({name:"accordion",defaults:{panelClass:"accordionitem",multi:!1,collapsed:!1},$init:function(){this.x.setAttribute("role","tablist"),this.x.setAttribute("aria-multiselectable","true")},Qb:function(e,t){webix.ui.layout.prototype.Qb.apply(this,arguments),e.collapsed_setter&&e.refresh&&e.refresh()},kc:function(){for(var e=this.s.panelClass,t=this.nc,i=0;i<t.length;i++)!t[i].body&&!t[i].header||t[i].view||t[i].align||(t[i].view=e),webix.isUndefined(t[i].collapsed)&&(t[i].collapsed=this.s.collapsed);this.nd=!0,webix.ui.layout.prototype.kc.call(this),this.nd=!1;for(var i=0;i<this.q.length;i++)this.q[i].name==e&&this.q[i].refresh(),this.q[i].od=!1;for(var n=!1,i=this.q.length-1;i>=0&&!n;i--)this.q[i].s.hidden||(this.q[i].od=!0,n=!0)},md:function(e){if(this.s.multi===!1&&this.nd!==!0)for(var t=0;t<this.q.length;t++)e!=this.q[t]&&!this.q[t].s.collapsed&&this.q[t].collapse&&this.q[t].collapse();e.callEvent&&(e.callEvent("onViewShow",[]),webix.ui.each(e,this.Lw))},jd:function(e){if(this.s.multi===!0||this.nd)return!0;for(var t=0;t<this.q.length;t++)if(e!=this.q[t]&&!this.q[t].s.collapsed&&this.q[t].isVisible()&&!this.q[t].$nospace)return!0;return!1},$skin:function(){var e=this.defaults;webix.skin.$active.accordionType&&(e.type=webix.skin.$active.accordionType)}},webix.ui.layout),webix.protoUI({name:"headerlayout",defaults:{type:"accordion",multi:"mixed",collapsed:!1}},webix.ui.accordion),webix.DragControl={pd:webix.toArray(["dummy"]),addDrop:function(e,t,i){e=webix.toNode(e),e.webix_drop=this.qd(t),i&&(e.webix_master=!0)},qd:function(e){e=e||webix.DragControl;var t=this.pd.find(e);return 0>t&&(t=this.pd.length,this.pd.push(e)),t},UB:function(e){var t=webix.DragControl,i=this.VB();if(i&&i.WB){t.v||t.createDrag(e);var n=t.Gd;t.v.style.left=e.x+t.left+(n.x_offset||0)+"px",t.v.style.top=e.y+t.top+(n.y_offset||0)+"px"}},addDrag:function(e,t){e=webix.toNode(e),e.webix_drag=this.qd(t),webix.UE(e,webix.env.mouse.down,this.rd,{bind:e}),webix.UE(e,"dragstart",webix.html.preventEvent)},rd:function(e){if(webix.DragControl.sd){if(webix.DragControl.td==e)return;webix.DragControl.ud(),webix.DragControl.destroyDrag(e)}webix.DragControl.sd=this;var t=webix.env.mouse.context(e);webix.DragControl.vd=t,webix.DragControl.td=e,webix.DragControl.wd=webix.event(document.body,webix.env.mouse.move,webix.DragControl.xd),webix.DragControl.yd=webix.event(document,webix.env.mouse.up,webix.DragControl.ud),webix.html.addCss(document.body,"webix_noselect",1)},ud:function(){webix.DragControl.zd()},xd:function(e){var t=webix.env.mouse.context(e),i=webix.DragControl.VB(),n=i&&webix.env.touch&&i.WB&&!webix.Touch.qm;return n||Math.abs(t.x-webix.DragControl.vd.x)<5&&Math.abs(t.y-webix.DragControl.vd.y)<5||(webix.DragControl.zd(!0),!webix.DragControl.v&&!webix.DragControl.createDrag(webix.DragControl.td))?void 0:(webix.DragControl.sendSignal("start"),webix.DragControl.wd=webix.event(document.body,webix.env.mouse.move,webix.DragControl.Ad),webix.DragControl.yd=webix.event(document,webix.env.mouse.up,webix.DragControl.Bd),webix.DragControl.Ad(e),webix.env.touch?webix.html.preventEvent(e):void 0)},Bd:function(e){webix.DragControl.zd(),webix.DragControl.td=null,webix.DragControl.Cd&&(webix.DragControl.$drop(webix.DragControl.sd,webix.DragControl.Cd,e),
webix.DragControl.$dragOut(webix.DragControl.sd,webix.DragControl.Cd,null,e)),webix.DragControl.destroyDrag(e),webix.DragControl.sendSignal("stop")},zd:function(e){this.wd=webix.eventRemove(this.wd),this.yd=webix.eventRemove(this.yd),e||webix.html.removeCss(document.body,"webix_noselect")},Ad:function(e){var t=webix.DragControl,i=webix.html.pos(e),n=webix.env.mouse.context(e),r=t.$dragPos(i,e),a=t.Gd;if(t.v.style.top=i.y+t.top+(r||!a.y_offset?0:a.y_offset)+"px",t.v.style.left=i.x+t.left+(r||!a.x_offset?0:a.x_offset)+"px",t.Ed)t.Ed=!1;else{var o=n.target=webix.env.touch?document.elementFromPoint(n.x,n.y):n.target,s=webix.env.touch?n:e;t.Fd(o,s)}return webix.html.preventEvent(e)},Fd:function(e,t){for(;e&&"BODY"!=e.tagName;){if(e.webix_drop){if(this.Cd&&(this.Cd!=e||e.webix_master)&&this.$dragOut(this.sd,this.Cd,e,t),!this.Cd||this.Cd!=e||e.webix_master)return this.Cd=null,this.Dd=this.$dragIn(webix.DragControl.sd,e,t),void(this.Dd&&(this.Cd=e));return}e=e.parentNode}this.Cd&&(this.Cd=this.Dd=this.$dragOut(this.sd,this.Cd,null,t))},sendSignal:function(e){webix.DragControl.active="start"==e},getMaster:function(e){return this.pd[e.webix_drag||e.webix_drop]},getContext:function(){return this.Gd},getNode:function(){return this.v},createDrag:function(e){var t=webix.DragControl,i=t.sd;t.Gd={};var n,r=this.pd[i.webix_drag];if(r.$dragCreate){if(n=r.$dragCreate(i,e),!n)return!1;this.ZB(e),n.style.position="absolute"}else{var a=t.$drag(i,e);if(t.ZB(e),!a)return!1;n=document.createElement("DIV"),n.innerHTML=a,n.className="webix_drag_zone",document.body.appendChild(n);var o=t.Gd;o.html&&webix.env.pointerevents&&(o.x_offset=-Math.round(.5*n.offsetWidth),o.y_offset=-Math.round(.75*n.offsetHeight))}return n.style.zIndex=Math.max(n.style.zIndex,webix.ui.zIndex()),webix.DragControl.Hd=webix.event(n,webix.env.mouse.move,webix.DragControl.Id),webix.DragControl.Gd.from||(webix.DragControl.Gd={source:i,from:i}),webix.DragControl.v=n,!0},Id:function(){webix.DragControl.Ed=!0},destroyDrag:function(e){var t=webix.DragControl.sd,i=this.pd[t.webix_drag];i&&i.$dragDestroy?(webix.DragControl.Hd=webix.eventRemove(webix.DragControl.Hd),webix.DragControl.v&&i.$dragDestroy(t,webix.DragControl.v,e)):webix.html.remove(webix.DragControl.v),webix.DragControl.Dd=webix.DragControl.sd=webix.DragControl.Cd=webix.DragControl.v=null},VB:function(){return webix.DragControl.pd[webix.DragControl.sd.webix_drag]},top:5,left:5,ZB:function(e){var t=webix.DragControl,i=t.vd,n=t.Gd;if("undefined"!=typeof n.x_offset&&"undefined"!=typeof n.y_offset)return null;if(n.x_offset=n.y_offset=0,webix.env.pointerevents){var r=webix.DragControl.VB();if(r.WB&&r!==this){var a=r.WB(i,e);a&&(n.x_offset=a.x-i.x,n.y_offset=a.y-i.y)}}},$dragPos:function(e,t){var i=this.pd[webix.DragControl.sd.webix_drag];return i.$dragPos&&i!=this?(i.$dragPos(e,t,webix.DragControl.v),!0):void 0},$dragIn:function(e,t,i){var n=this.pd[t.webix_drop];return n.$dragIn&&n!=this?n.$dragIn(e,t,i):(t.className=t.className+" webix_drop_zone",t)},$dragOut:function(e,t,i,n){var r=this.pd[t.webix_drop];return r.$dragOut&&r!=this?r.$dragOut(e,t,i,n):(t.className=t.className.replace("webix_drop_zone",""),null)},$drop:function(e,t,i){var n=this.pd[t.webix_drop];return webix.DragControl.Gd.from=webix.DragControl.getMaster(e),n.$drop&&n!=this?n.$drop(e,t,i):void t.appendChild(e)},$drag:function(e,t){var i=this.pd[e.webix_drag];return i.$drag&&i!=this?i.$drag(e,t):"<div style='"+e.style.cssText+"'>"+e.innerHTML+"</div>"}},webix.attachEvent("onLongTouch",function(e){webix.DragControl.sd&&webix.DragControl.UB(e)}),webix.DataMove={copy:function(e,t,i,n){n=n||{};var r=n.newId||e;i=i||this;var a=this.getItem(e);return i&&(a=i.Jd(a)),i.data.add(i.Jd(a,r),t,n.parent||0)},Kd:function(e,t,i){if(t&&e){var n=this.getIndexById(e);return n+(i==this&&i.getIndexById(t)<n?0:1)}},move:function(e,t,i,n){n=n||{};var r=n.newId||e;if(i=i||this,i.data){if(webix.isArray(e)){e.length>3&&(this.$blockRender=i.$blockRender=!0);for(var a=0;a<e.length;a++){var o=this.move(e[a],t,i,n);t=i.Kd(o,e[a+1],this)}return this.$blockRender=i.$blockRender=!1,void(e.length>3&&(this.refresh(),i!=this&&i.refresh()))}var o=e,s=this.getItem(e);return i&&i!=this?(o=i.data.add(i.Jd(s,r),t,n.parent||0),this.data.remove(e)):(0>t&&(t=this.data.order.length-1),this.data.move(this.getIndexById(e),t),this.data.callEvent("onDataMove",[e,t,null,this.data.order[t+1]])),o}},moveUp:function(e,t){return this.move(e,this.getIndexById(e)-(t||1))},moveDown:function(e,t){return this.moveUp(e,-1*(t||1))},moveTop:function(e){return this.move(e,0)},moveBottom:function(e){return this.move(e,this.data.count()-1)},Jd:function(e,t){var i=webix.extend({},e);return i.id=!t||this.data.pull[t]?webix.uid():t,i.$template=null,this.s.externalData&&(i=this.s.externalData.call(this,i,t,e)),i}},webix.Movable={move_setter:function(e){return e&&(this.Ld=webix.clone(this.Ld),this.Ld.master=this,webix.DragControl.addDrag(this.bd?this.bd:this.$view,this.Ld)),e},Ld:{$dragCreate:function(e,t){if(this.master.config.move){var i=webix.html.offset(e),n=webix.html.pos(t);return webix.DragControl.top=i.y-n.y,webix.DragControl.left=i.x-n.x,webix.toNode(this.master.x)}},$dragDestroy:function(e,t){var i=this.master;i.s&&(i.s.top=parseInt(t.style.top,10),i.s.left=parseInt(t.style.left,10)),webix.DragControl.top=webix.DragControl.left=5,this.master.callEvent("onViewMoveEnd",[])},$dragPos:function(e,t){this.master.callEvent("onViewMove",[e,t])}}},webix.Modality={Md:function(e){if(e){if(!this.Nd){this.Nd=webix.html.create("div",{class:"webix_modal"});var t=this.s.zIndex||webix.ui.zIndex();this.Od=webix.Pd,webix.Pd=t,this.Nd.style.zIndex=t-1,this.x.style.zIndex=t,document.body.appendChild(this.Nd),document.body.style.overflow="hidden",webix.UE(this.Nd,"click",webix.bind(this.Vw,this))}}else if(this.Nd){webix.html.remove(this.Nd),document.body.style.overflow="";var i=this.Od;setTimeout(function(){webix.Pd=i},1),this.Nd=null}return e}},webix.protoUI({name:"window",$init:function(e){this.x.innerHTML="<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>",this.w=this.x.firstChild,this.bd=this.w.childNodes[0],this.y=this.ed=this.w.childNodes[1],this.x.className+=" webix_window",this.x.setAttribute("role","dialog"),this.x.setAttribute("tabindex","0"),this.fd=this.gd=null,this.s.Ob={top:!1,left:!1,right:!1,bottom:!1},e.id||(e.id=webix.uid()),webix.UE(this.w,"click",webix.bind(this.Vw,this)),this.w.addEventListener&&webix.UE(this.w,"click",function(){!this.s.zIndex&&this.s.toFront&&(this.x.style.zIndex=webix.ui.zIndex())},{bind:this,capture:!0}),e.modal&&(this.my=!0),this.attachEvent("onViewMoveEnd",function(){this.s.position&&delete this.s.position})},Vw:function(e){var t=webix.ui.et,i=t.find(this);-1==i&&(i=t.length-1),e.click_view=i,webix.env.isIE8&&(e.srcElement.click_view=i)},getChildViews:function(){return this.fd?[this.fd,this.gd]:[this.gd]},zIndex_setter:function(e){return this.x.style.zIndex=e,e},Rb:function(){this.gd={destructor:function(){}}},Qb:function(e){this.gd.destructor(),this.gd=e,this.gd.Xb=this,this.ed.appendChild(this.gd.x);var t=this.gd.x.style;t.borderTopWidth=t.borderBottomWidth=t.borderLeftWidth=t.borderRightWidth="1px",this.gd.s.Ob=webix.clone(this.s.Ob),this.resize(!0)},show:function(e,t,i){if(e===!0){if(!this.s.hidden)return;e=null}if(!this.callEvent("onBeforeShow",arguments))return!1;this.s.hidden=!1,this.x.style.zIndex=this.s.zIndex||webix.ui.zIndex(),(this.s.modal||this.my)&&(this.Md(!0),this.my=null);var n,r,a;if(t=t||{},t.pos||(t.pos=this.s.relative),e){"object"!=typeof e||e.tagName?(e=webix.toNode(e),n=webix.html.offset(e)):e.target||e.srcElement?(n=webix.html.pos(e),r=20,a=5):n=e;var o=Math.max(window.innerWidth||0,document.body.offsetWidth),s=Math.max(window.innerHeight||0,document.body.offsetHeight);r=r||e.offsetWidth||0,a=a||e.offsetHeight||0;var l=this.ac,u=n.x,c=n.y,d=0,h=0,f=0,p=0,g=this.s.autofit;if(g){var v="node"===g,m=6,b=6,y=6;i="top",c=0,u=0,f=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,o-n.x-r<l[0]&&"right"==t.pos&&!v&&(t.pos="left"),"right"==t.pos?(u=n.x+m+r,b=-a,i="left",d=Math.round(n.y+a/2),h=u-y):"left"==t.pos?(u=n.x-m-l[0]-1,b=-a,i="right",d=Math.round(n.y+a/2),h=u+l[0]+1):(u=n.x<f?f:o+f-n.x>l[0]?n.x:o+f-m-l[0],h=Math.round(n.x+r/2),h=Math.min(h,u+l[0]-3*y)),p=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,(!l[1]||s+p-a-n.y-b>l[1]||v)&&"top"!=t.pos?(c=a+n.y+b-4,d||(i="top",d=c-y)):(c=n.y-b-l[1],0>c?(c=0,"top"==i&&(i=!1)):d||(i="bottom",c--,d=c+l[1]+1))}var w=t.x||0,x=t.y||0,E=this.jG();E&&(c-=p,d-=p),this.setPosition(u+w,c+x),this.Rd&&(i&&this.s.point?this.Rd(i,h+w,d+x,E):this.Sd())}else this.Td(this.s.left,this.s.top);this.x.style.display="block",this.Ww=1,webix.delay(function(){this.Ww=0},this,[],webix.env.touch?400:100),this.Qd(),this.config.autofocus&&(this.Vd=webix.UIManager.getFocus(),webix.UIManager.setFocus(this)),-1==webix.ui.et.find(this)&&webix.ui.et.push(this),this.callEvent("onShow",[])},Fb:function(e){if(!(this.s.hidden||this.s.modal||this.Ww||e&&e.showpopup||webix.Pd&&this.s.zIndex<=webix.Pd)){if(e){var t=webix.env.isIE8?e.srcElement.click_view:e.click_view;t||0===t||(t=-1);var i=webix.ui.et.find(this);if(t>=i)return}this.hide()}},hidden_setter:function(e){return e?this.hide():this.show(),!!e},hide:function(e){if(!this.$destructed&&(e||!this.s.hidden)){if(this.s.modal&&this.Md(!1),"top"==this.s.position?webix.animate(this.x,{type:"slide",x:0,y:-(this.dc+20),duration:300,callback:this.Wd,master:this}):this.Wd(),this.s.autofocus){var t=document.activeElement;t&&this.x&&(this.x.contains(t)||t===document.body)&&(webix.UIManager.setFocus(this.Vd),this.Vd=null)}this.ny()}},ny:function(){var e=webix.ui.et,t=e.find(this),i=e.length-1;if(t>-1)for(var n=i;n>t;n--)e[n].Sd&&e[n].hide();e.removeAt(t)},destructor:function(){this.Md(!1),webix.html.remove(this.x),this.s.autofocus&&(webix.B||webix.UIManager.setFocus(this.Vd),this.Vd=null),this.ny(),this.Sd&&this.Sd(),webix.Destruction.destructor.apply(this,[])},Wd:function(){this.$destructed||(this.x.style.display="none",this.s.hidden=!0,this.callEvent("onHide",[]))},close:function(){this.destructor()},Xd:function(e){e.borderless=!0},body_setter:function(e){return"object"!=typeof e&&(e={template:e}),this.Xd(e),webix.Xb=this,this.gd=webix.ui.A(e),this.gd.Xb=this,this.ed.appendChild(this.gd.x),e},head_setter:function(e){return e===!1?e:("object"!=typeof e&&(this.x.setAttribute("aria-label",e),e={template:e,padding:0}),e.borderless=!0,webix.Xb=this,this.fd=webix.ui.A(e),this.fd.Xb=this,this.bd.appendChild(this.fd.x),e)},getBody:function(){return this.gd},getHead:function(){return this.fd},adjust:function(){return this.resize()},resizeChildren:function(){this.gd&&this.resize()},resize:function(){webix.ui.baseview.prototype.adjust.call(this),this.isVisible()&&this.Td(this.s.left,this.s.top)},jG:function(){if(this.s.master){var e=webix.$$(this.s.master).getTopParentView().$view;return e&&"fixed"===e.style.position}return!1},Td:function(e,t){if(this.s.position||this.jG()){this.$view.style.position="fixed";var i=this.bc,n=this.dc;if(0>=i||0>=n)return;var r=window.innerWidth||document.documentElement.offsetWidth,a=window.innerHeight||document.documentElement.offsetHeight,o=Math.round((r-i)/2),s=Math.round((a-n)/2);if("function"==typeof this.s.position){var l={left:o,top:s,width:i,height:n,maxWidth:r,maxHeight:a};this.s.position.call(this,l),(l.width!=i||l.height!=n)&&this.$setSize(l.width,l.height),this.setPosition(l.left,l.top)}else"top"==this.s.position&&(s=webix.animate.isSupported()?-1*n:10),this.s.position||(o=this.s.left||o,s=this.s.top||s),this.setPosition(o,s);"top"==this.s.position&&webix.animate(this.x,{type:"slide",x:0,y:n-2*(this.s.padding||0),duration:300,callback:this.Yd,master:this})}else this.setPosition(e,t)},Yd:function(e){webix.animate.clear(e),this.s.top=-(2*(this.s.padding||0)),this.setPosition(this.s.left,this.s.top)},setPosition:function(e,t){this.x.style.top=t+"px",this.x.style.left=e+"px",this.s.left=e,this.s.top=t},$getSize:function(e,t){var i=this.s.Ob;i&&(e+=(i.left?0:1)+(i.right?0:1),t+=(i.top?0:1)+(i.bottom?0:1)),this.s.head&&(t+=1);var n=this.gd.$getSize(0,0),r=0;if(this.fd){var a=this.fd.$getSize(0,0);a[3]==a[2]&&(this.s.headHeight=a[3]),t+=this.s.headHeight,r=a[0]}if(this.s.fullscreen){var o=window.innerWidth||document.body.clientWidth,s=window.innerHeight||document.body.clientHeight;return[o,o,s,s]}var l=webix.ui.view.prototype.$getSize.call(this,0,0);return r&&n[1]>1e5&&(n[0]=Math.max(r,n[0])),l[1]=Math.min(l[1],(n[1]>=1e5&&l[1]>=1e5?Math.max(n[0],l[0]):n[1])+e),l[3]=Math.min(l[3],(n[3]>=1e5&&l[3]>=1e5?Math.max(n[2],l[2]):n[3])+t),l[0]=Math.min(Math.max(l[0],n[0]+e),l[1]),l[2]=Math.min(Math.max(l[2],n[2]+t),l[3]),l},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t),e=this.bc,t=this.dc,this.s.head===!1?(this.bd.style.display="none",this.gd.$setSize(e,t)):(this.fd.$setSize(e,this.s.headHeight),this.gd.$setSize(e,t-this.s.headHeight))},$skin:function(){this.defaults.headHeight=webix.skin.$active.barHeight},defaults:{top:0,left:0,autofit:!0,relative:"bottom",body:"",head:"",hidden:!0,autofocus:!0,minWidth:300,minHeight:200}},webix.ui.view,webix.Movable,webix.Modality,webix.EventSystem),webix.protoUI({name:"popup",defaults:{point:!0},$init:function(){this.s.head=!1,this.$view.className+=" webix_popup",webix.attachEvent("onClick",webix.bind(this.Fb,this)),this.attachEvent("onHide",this.Sd)},$skin:function(){this.defaults.headHeight=webix.skin.$active.barHeight,this.defaults.padding=webix.skin.$active.popupPadding},close:function(){webix.html.remove(this.$d),webix.ui.window.prototype.close.call(this)},$getSize:function(e,t){return webix.ui.window.prototype.$getSize.call(this,e+2*this.s.padding,t+2*this.s.padding)},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t),e=this.bc-2*this.s.padding,t=this.dc-2*this.s.padding,this.w.style.padding=this.s.padding+"px",this.bd.style.display="none",this.gd.$setSize(e,t)},Xd:function(){},head_setter:function(){},Rd:function(e,t,i,n){this.Sd(),document.body.appendChild(this.$d=webix.html.create("DIV",{class:"webix_point_"+e},"")),this.$d.style.zIndex=webix.ui.zIndex(),this.$d.style.position=n?"fixed":"absolute",this.$d.style.top=i+"px",this.$d.style.left=t+"px"},Sd:function(){this.$d=webix.html.remove(this.$d)}},webix.ui.window),webix.ui.et=webix.toArray(),webix.ResizeArea={resize_setter:function(e){return e&&!this.Yz&&this.Zz(),e},Zz:function(){if(!this.$z){var e=this.x;e.firstChild&&(e=e.firstChild,e.style.position="relative"),this.$z=webix.html.create("DIV",{class:"webix_resize_handle",webix_disable_drag:"true"}),e.appendChild(this.$z),webix.UE(this.$z,webix.env.mouse.down,this._z,{bind:this})}},aA:function(e,t){if(!this.bA){this.bA=webix.html.create("div",{class:"webix_resize_frame"},""),document.body.appendChild(this.bA);var i=webix.html.offset(this.x);this.bA.style.left=i.x+"px",this.bA.style.top=i.y+"px",this.bA.style.zIndex=webix.ui.zIndex()}this.bA.style.width=e+"px",this.bA.style.height=t+"px"},_z:function(e){this.config.resize&&(webix.html.addCss(document.body,"webix_noselect webix_resize_cursor"),this.cA=webix.html.offset(this.x),this.dA=webix.event(document.body,webix.env.mouse.move,this.eA,{bind:this}),this.fA=webix.event(document.body,webix.env.mouse.up,this.gA,{bind:this}))},eA:function(e){if(this.cA!==!1){var t=webix.html.pos(e),i={x:t.x-this.cA.x+10,y:t.y-this.cA.y+10};if(this.$resizeMove)this.$resizeMove(i);else if(Math.abs(this.cA.x-t.x)<(this.config.minWidth||100)||Math.abs(this.cA.y-t.y)<(this.config.minHeight||100))return;this.hA=i,this.aA(i.x,i.y)}},gA:function(){this.bA&&(this.bA=webix.html.remove(this.bA)),webix.html.removeCss(document.body,"webix_resize_cursor"),webix.html.removeCss(document.body,"webix_noselect"),webix.eventRemove(this.dA),webix.eventRemove(this.fA),this.hA&&(this.$resizeEnd?this.$resizeEnd(this.hA):(this.config.width=this.hA.x,this.config.height=this.hA.y,this.resize())),this.cA=this.hA=!1,this.callEvent("onViewResize",[])}},webix.extend(webix.ui.window,webix.ResizeArea),webix.protoUI({name:"suggest",defaults:{autofocus:!1,type:"list",keyPressTimeout:1,body:{yCount:10,autoheight:!0,body:!0,select:!0,borderless:!0,navigation:!0},filter:function(e,t){return 0===e.value.toString().toLowerCase().indexOf(t.toLowerCase())}},template_setter:webix.template,filter_setter:function(e){return webix.toFunctor(e,this.$scope)},$init:function(e){var t={};webix.extend(t,webix.copy(this.defaults.body)),t.view=e.type||this.defaults.type;var i=this.Jt(t);e.body&&webix.extend(i,e.body,!0),e.data&&(i.data=e.data),e.url&&(i.url=e.url),e.datatype&&(i.datatype=e.datatype),e.id&&(t.id=t.id||e.id+"_"+t.view),e.body=t,this.$ready.push(this._d),this.attachEvent("onShow",function(){if(this.s.master){var e=webix.$$(this.s.master);if(e){var t=e.JA?e.JA():e.getInputNode();t.setAttribute("aria-expanded","true")}}this.ke()}),this.attachEvent("onHide",function(){if(this.s.master){var e=webix.$$(this.s.master);if(e){var t=e.JA?e.JA():e.getInputNode();t.setAttribute("aria-expanded","false")}}}),this.oy={}},Jt:function(e){return e},Rs:function(e){var t,i,n="";e&&this.s.master&&(t=webix.$$(this.s.master),i=t.getInputNode(),i&&t.$setValueHere?t.$setValueHere(e.value):i&&(t.options_setter?n=this.getItemText(e.id):e.value&&(n=t.YE?t.YE(e.value):e.value.toString()),webix.isUndefined(i.value)?i.innerHTML=n:i.value=n.replace(/<[^>]*>/g,""))),i=i||this.ae,i&&i.focus()},setMasterValue:function(e,t){var i=e.id?this.getItemText(e.id):e.text||e.value;if(this.s.master){var n=webix.$$(this.s.master);t&&e.id?n.refresh():n.options_setter?n.setValue(e.$empty?"":e.id):n.setValueHere?n.setValueHere(i):n.setValue(i)}else this.ae&&(this.ae.value=i);t||(this.hide(!0),this.ae&&this.ae.focus()),this.callEvent("onValueSuggest",[e,i]),webix.delay(function(){webix.callEvent("onEditEnd",[])})},getMasterValue:function(){return this.s.master?webix.$$(this.s.master).getValue():null},getItemId:function(e){var t=this.getList();t.type;for(var i in t.data.pull){var n=t.getItem(i);if(this.s.filter.call(this,n,e))return n.id}},getItemText:function(e){var t=this.getList().getItem(e);if(!t)return this.oy[e]||"";if(this.s.template)return this.s.template.call(this,t,this.type);if(this.s.textValue)return""+t[this.s.textValue];var i=this.getList().type,n=i.template.call(i,t,i);return this.oy[e]=n},getSuggestion:function(){var e,t=this.getList(),i=t.data.order;return t.getSelectedId&&(e=t.getSelectedId()),i.length&&(!e||i.find(e)<0)&&(e=i[0]),e&&"object"==typeof e&&(e+=""),e},getList:function(){return this.gd},_d:function(){var e=this.getList(),t=this.s.type;e.count?(e.attachEvent("onItemClick",webix.bind(function(t){this.setMasterValue(e.getItem(t))},this)),e.data.attachEvent("onstoreupdated",webix.bind(function(e,t,i){"delete"==i&&e==this.getMasterValue()?this.setMasterValue({id:"",text:""},1):"update"==i&&e==this.getMasterValue()&&this.setMasterValue(t,1)},this)),e.data.attachEvent("onAfterFilter",webix.bind(this.be,this)),e.data.attachEvent("onStoreLoad",webix.bind(this.be,this)),webix.isUndefined(this.s.fitMaster)&&(this.s.fitMaster=!0)):"calendar"==t?(e.attachEvent("onDateSelect",function(t){this.getParentView().setMasterValue({value:e.getSelectedDate()},e.config.multiselect)}),e.attachEvent("onTodaySet",function(e){this.getParentView().setMasterValue({value:e})}),e.attachEvent("onDateClear",function(e){this.getParentView().setMasterValue({value:e})})):"colorboard"==t&&e.attachEvent("onItemClick",function(e){this.getParentView().setMasterValue({value:e})})},input_setter:function(e){return this.linkInput(e),0},linkInput:function(e){var t;e.getInputNode?(t=e.getInputNode(),t.webix_master_id=e.s.id):t=webix.toNode(e),webix.UE(t,"keydown",function(i){t==document.body&&!this.isVisible()||(e.config?e.config.readonly:t.getAttribute("readonly"))||this.ce(i)},{bind:this}),e.JA&&(t=e.JA()),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-expanded","false"),"DIV"===t.tagName&&(t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true")),this.pt=!0},ce:function(e){e=e||event;var t=this.getList(),i=e.target||e.srcElement;if(i!=document.body&&"webix_clipbuffer"!=i.className){this.ae=i,this.s.master=i.webix_master_id,window.clearTimeout(this.de);var n=e.keyCode;if(16!=n&&17!=n)return 9==n?this.ee(this,t):27==n?this.fe(this,t):13==n?this.$enterKey(this,t):this.he(e)?(webix.html.preventEvent(e),!1):void(webix.isUndefined(i.value)||(clearTimeout(this.dt),this.dt=webix.delay(function(){if(this.pt||webix.UIManager.getFocus()==webix.$$(this.s.master)){this.ie=!0;var e=i.value;t.config.dataFeed?t.filter("value",e):t.filter&&t.filter(webix.bind(function(t){return this.s.filter.call(this,t,e)},this))}},this,[],this.s.keyPressTimeout)))}},be:function(){if(!this.ie)return!0;this.ie=!1;var e=this.getList();e.count()>0?(this.adjust(),this.isVisible()||(this.je=!0),this.show(this.ae,null,!0),this.je=!1):(this.hide(!0),this.ae=null)},show:function(e){if(!this.isVisible()){var t=this.getList();t.filter&&!this.je&&t.filter(""),this.$customWidth&&(this.s.fitMaster||!this.s.width||webix.isUndefined(this.s.fitMaster))&&this.$customWidth(e),e.tagName&&this.s.fitMaster&&(this.s.width=e.offsetWidth-2),t.Np&&t.render(),this.adjust(),"INPUT"==e.tagName&&(this.ae=e)}webix.ui.popup.prototype.show.apply(this,arguments)},ke:function(e){e=e||this.getList();var t=this.getMasterValue();e.select&&e.showItem?t&&e.exists&&e.exists(t)?(e.select(t),e.showItem(t)):(e.unselect(),e.showItem(e.getFirstId())):e.setValue&&(this.s.master&&(t=webix.$$(this.s.master).$prepareValue(t)),e.setValue(t))},$enterKey:function(e,t){var i;e.isVisible()?(t.count&&t.count()?(i=t.getSelectedId(!1,!0),1==t.count()&&t.getFirstId()!=i&&(i=t.getFirstId()),i&&(i=t.getItem(i))):t.getSelectedDate&&t.getSelectedDate()?i={value:t.getSelectedDate()}:t.getValue&&t.getValue()&&(i={value:t.getValue()}),i&&this.setMasterValue(i),e.hide(!0)):e.show(this.ae)},fe:function(e,t){return e.hide(!0)},ee:function(e,t){return e.hide(!0)},he:function(e){var t,i=this.getList(),n=e.keyCode;if(i.moveSelection&&41>n&&n>32&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){if(40===n){var r=this.isVisible();r||this.show(this.ae),i.moveSelection("down",!1,!1)}else{if(i.count&&38!==n||!i.count&&!i.isVisible())return!1;var a;33==n&&(a="pgup"),34==n&&(a="pgdown"),35==n&&(a="bottom"),36==n&&(a="top"),37==n&&(a="left"),38==n&&(a="up"),39==n&&(a="right"),i.moveSelection(a,!1,!1)}return i.count?t=i.getSelectedItem():i.getSelectedDate?t={value:i.getVisibleDate()}:i.getValue&&(t={value:i.getValue()}),this.Rs(t),!0}return!1},getValue:function(){var e=this.getList(),t=(e.getValue?e.getValue():e.getSelectedId())||"";if(t=t.id||t,e.getItem){var i=e.getItem(t);if(i&&i.$empty)return""}return t},setValue:function(e){var t=this.getList();e?t.exists(e)&&(t.select(e),t.showItem(e)):(t.unselect(),t.showItem(t.getFirstId()))}},webix.ui.popup),webix.HTMLOptions={$init:function(e){(webix.skin.$active.customRadio||this.addOption)&&webix.UE(this.$view,"keydown",this.ID,{bind:this})},ub:function(){var e=this.Ie();if(e)for(var t=0;t<e.length;t++)"0"==e[t].getAttribute("tabindex")&&e[t].focus()},JD:function(){var e=this.Ie();if(e)for(var t=0;t<e.length;t++)"0"==e[t].getAttribute("tabindex")&&e[t].blur()},ID:function(e){var t=e.which||e.keyCode,i=this.addOption?34:36;if(t>i&&41>t){webix.html.preventEvent(e);var n,r=this.Ie();if(35==t)n=r.length-1;else if(36===t)n=0;else for(var a=37===t||38===t?-1:1,o=0;o<r.length;o++)if("0"==r[o].getAttribute("tabindex")){n=o+a,0>n?n=r.length-1:n>=r.length&&(n=0);break}if(!webix.isUndefined(n)){var s=this.addOption?r[n].getAttribute("button_id"):r[n].value;webix.skin.$active.customRadio&&!this.addOption&&(r=this.$view.getElementsByTagName("BUTTON")),this.setValue(s),r[n].focus()}}}},webix.attachEvent("onClick",function(e){var t=webix.$$(e);if(t&&t.touchable){webix.UIManager.applyChanges(t),t.getNode(e);var i=e.target||e.srcElement;if("webix_disabled"==i.className)return;var n="";if(i.className&&0===i.className.toString().indexOf("webix_view"))return;for(t&&webix.UIManager.sb(t);i&&i.parentNode;){if(i.getAttribute){if(i.getAttribute("view_id"))break;if(n=i.className){n=n.toString().split(" ");for(var r=0;r<n.length;r++)if(t.on_click[n[r]]){var a=t.on_click[n[r]].call(t,e,t.s.id,i);if(a===!1)return}}}i=i.parentNode}if(t.s.click){var o=webix.toFunctor(t.s.click,t.$scope);o&&o.call&&o.call(t,t.s.id,e)}var s=t.s.popup;if(t.s.popup&&!t.s.readonly){"object"!=typeof s||s.name||(s=t.s.popup=webix.ui(s).s.id);var s=webix.$$(s);s.isVisible()||(s.s.master=t.s.id,s.show(t.getInputNode()||t.getNode(),null,!0))}t.callEvent("onItemClick",[t.s.id,e])}}),webix.protoUI({name:"button",touchable:!0,$skin:function(){this.defaults.height=webix.skin.$active.buttonHeight||webix.skin.$active.inputHeight,this.le=webix.skin.$active.labelTopHeight||15,this.ZE=webix.skin.$active.borderWidth},defaults:{template:function(e,t){var i=t.$renderInput(e,t);return e.badge&&(i=i.replace("</button>","<span class='webix_badge'>"+e.badge+"</span></button>")),"<div class='webix_el_box' style='width:"+e.awidth+"px; height:"+e.aheight+"px'>"+i+"</div>"},label:"",borderless:!0},$renderInput:function(e){var t="class='webixtype_"+(e.type||"base")+"' ";return"<button type='button' "+(e.popup?"aria-haspopup='true'":"")+t+">"+webix.template.escape(e.label||e.value)+"</button>"},$init:function(e){this.x.className+=" webix_control webix_el_"+(this.$cssName||this.name),this.data=this.s,this.y=this.x,this.$B(e)},hotkey_setter:function(e){var t=this;this.Bt(e,function(e,i){var n=t.$view.firstChild;webix.html.triggerEvent(n,"MouseEvents","click"),webix.html.preventEvent(i)})},Bt:function(e,t,i){var n=webix.UIManager.addHotKey(e,t,i);this.attachEvent("onDestruct",function(){webix.UIManager.removeHotKey(n,t,i)})},tooltip_setter:function(e){var t=this.re()||this.$view.firstChild;return t&&(t.title=e),e},type_setter:function(e){return this.ne[e]&&(this.$renderInput=webix.template(this.ne[e])),"prev"==e||"next"==e?this.oe=this.pe:this.oe=!1,e},ne:{htmlbutton:"<button type='button' class='webix_el_htmlbutton webixtype_base'>#label#</button>",prev:"<input type='button' class='webixtype_prev' value='#label#' /><div class='webix_el_arrow webixtype_prev_arrow'></div>",next:"<input type='button' class='webixtype_next' value='#label#' /><div class='webix_el_arrow webixtype_next_arrow'></div>",imageButton:"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%; line-height:#cheight#px'><div class='webix_image' style='width:#dheight#px;height:#dheight#px;background-image:url(#image#);'> </div> #label#</button>",imageButtonTop:"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base'><div class='webix_image' style='width:100%;height:100%;background-image:url(#image#);'> </div> <div class='webix_img_btn_text'>#label#</div></button>",image:"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><div class='webix_image' style='width:#cheight#px;height:#cheight#px;background-image:url(#image#);'> </div> #label#</button>",imageTop:"<button type='button' class='webix_img_btn_top'><div class='webix_image' style='width:100%;height:100%;background-image:url(#image#);'></div> <div class='webix_img_btn_text'>#label#</div></button>",icon:"<button type='button' class='webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;'></span>#label#</button>",iconButton:"<button type='button' class='webix_img_btn_abs webixtype_base' style='width:100%;'><span class='webix_icon fa-#icon#'></span> #label#</button>",iconTop:"<button type='button' class='webix_img_btn_top' style='width:100%;top:4px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>",iconButtonTop:"<button type='button' class='webix_img_btn_abs webix_img_btn_abs_top webixtype_base' style='width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#label#</div></button>"},qe:function(){for(var e=[],t=["input","select","textarea","button"],i=0;i<t.length;i++)for(var n=this.$view.getElementsByTagName(t[i]),r=0;r<n.length;r++)e.push(n[r]);return e},disable:function(){var e,t,i=this.re();if(webix.ui.baseview.prototype.disable.apply(this,arguments),i&&-1==i.className.indexOf(" webix_disabled_box")){i.className+=" webix_disabled_box";var n=this.qe();for(e=0;e<n.length;e++)n[e].setAttribute("disabled",!0);if(t=this.getInputNode(),t&&"div"==t.tagName.toLowerCase()&&(this.KD=t.getAttribute("tabIndex"),t.removeAttribute("tabIndex")),"top"==this.s.labelPosition){var r=this.y.firstChild;r&&(r.className+=" webix_disabled_top_label")}}},enable:function(){webix.ui.baseview.prototype.enable.apply(this,arguments);var e,t=this.re();if(t){t.className=t.className.replace(" webix_disabled_box","");for(var i=this.qe(),n=0;n<i.length;n++)i[n].removeAttribute("disabled");if(e=this.getInputNode(),e&&!webix.isUndefined(this.KD)&&e.setAttribute("tabIndex",this.KD),"top"==this.s.labelPosition){var r=this.y.firstChild;r&&(r.className=r.className.replace(" webix_disabled_top_label",""))}}},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&this.render()},setValue:function(e){e=this.$prepareValue(e);var t=this.s.value;return!this.$compareValue(t,e)&&(this.s.value=e,this.se&&this.$setValue(e),void this.callEvent("onChange",[e,t]))},$compareValue:function(e,t){return"number"==typeof t&&(t=t.toString()),"number"==typeof e&&(e=e.toString()),e==t},$prepareValue:function(e){return this.VC(e,!1)},VC:function(e){return e},$setValue:function(e){var t=this.getInputNode();t&&("BUTTON"==t.tagName?t.innerHTML=e:t.value=e)},getValue:function(){var e=this.se?this.$getValue():this.s.value;return"undefined"==typeof e?"":e},$getValue:function(){return this.s.value||""},focus:function(){if(!this.s.disabled){var e=this.getInputNode();e&&e.focus&&e.focus()}},blur:function(){var e=this.getInputNode();e&&e.blur&&e.blur()},getInputNode:function(){return this.y.getElementsByTagName("input")[0]||this.y.getElementsByTagName("button")[0]},re:function(){for(var e=0;e<this.y.childNodes.length;e++)if(this.y.childNodes[e].className.indexOf("webix_el_box")>=0)return this.y.childNodes[e];return null},ue:Math.sqrt(2),pe:function(){var e=this.s,t=this.re().childNodes[1],i=t.previousSibling,n="next"==e.type?"right":"left",r=e.aheight-2*webix.skin.$active.inputPadding-2*this.ZE,a=r*this.ue/2;t.style.width=a+"px",t.style.height=a+"px",t.style.top=(r-a)/2+webix.skin.$active.inputPadding+"px",t.style[n]=(r-a)/2+this.ue/2+"px",i.style.width=e.awidth-r/2-2+"px",i.style.height=r+2+"px",i.style[n]=r/2+2+"px",i.style.top=webix.skin.$active.inputPadding+"px"},$B:function(e){e=e||this.s,e.autowidth&&(e.width=webix.html.getTextSize(e.value||e.label,"webixbutton").width+(e.badge?15:0)+("iconButton"===e.type?30:0)+("icon"===e.type?20:0))},ve:function(){this.we=this.s.inputWidth||(this.bc-this.s.width>2?this.s.width:0)||this.bc,this.xe=this.s.inputHeight||this.zy||0},resize:function(){return this.$B(),webix.ui.view.prototype.resize.apply(this,arguments)},render:function(){if(this.ve(),this.s.awidth=this.we||this.bc,this.s.aheight=this.xe||this.dc,this.s.bheight=this.s.aheight+2,this.s.cheight=this.s.aheight-2*webix.skin.$active.inputPadding,this.s.dheight=this.s.cheight-2,webix.AtomRender.render.call(this)){if(this.se=!0,this.oe&&this.oe(),this.s.align){var e=this.y.firstChild;switch("top"==this.s.labelPosition&&e.nextSibling&&(e=e.nextSibling),this.s.align){case"right":e.style.cssFloat="right";break;case"center":e.style.display="inline-block",e.parentNode.style.textAlign="center";break;case"middle":e.style.marginTop=Math.round((this.dc-this.xe)/2)+"px";break;case"bottom":e.style.marginTop=this.dc-this.xe+"px";break;case"left":e.style.cssFloat="left"}}this.$render&&this.$render(this.data),this.s.disabled&&this.disable(),
this.s.tooltip&&this.define("tooltip",this.s.tooltip),this.ze&&(this.ze(this.data),this.ze=0)}},refresh:function(){this.render()},on_click:{Ae:function(e,t){var i=webix.html.locate(e,"button_id");i&&this.callEvent("onBeforeTabClick",[i,e])&&(this.setValue(i),this.callEvent("onAfterTabClick",[i,e]))},webix_all_segments:function(e,t){this.on_click.Ae.call(this,e,t)},webix_all_tabs:function(e,t){this.on_click.Ae.call(this,e,t)},webix_inp_counter_next:function(e,t,i){this.s.readonly||this.next()},webix_inp_counter_prev:function(e,t,i){this.s.readonly||this.prev()},webix_input_icon:function(e,t,i){this.getInputNode().focus()},webix_inp_checkbox_border:function(e,t,i){this.s.disabled||"DIV"==(e.target||e.srcElement).tagName||this.s.readonly||this.toggle()},webix_inp_checkbox_label:function(e,t,i){this.s.readonly||this.toggle()},webix_inp_radio_border:function(e,t,i){var n=webix.html.locate(e,"radio_id");this.setValue(n)},webix_inp_radio_label:function(e,t,i){return i=i.parentNode.getElementsByTagName("input")[0],this.on_click.webix_inp_radio_border.call(this,i,t,i)},webix_tab_more_icon:function(e,t,i){this.getPopup().resize(),this.getPopup().show(i,null,!0)},webix_tab_close:function(e,t,i){var n=webix.html.locate(e,"button_id");n&&this.callEvent("onBeforeTabClose",[n,e])&&this.removeOption(n)}},Be:function(e){for(var t=0;t<e.length;t++)"string"==typeof e[t]?e[t]={id:e[t],value:e[t]}:(webix.isUndefined(e[t].id)&&(e[t].id=e[t].value),webix.isUndefined(e[t].value)&&(e[t].value=e[t].id));return e},Yx:function(e){var t=e?e.placeholder:this.s.placeholder;return t?"<span class='webix_placeholder'>"+t+"</span>":""}},webix.ui.view,webix.AtomRender,webix.Settings,webix.EventSystem),webix.protoUI({name:"label",defaults:{template:"<div style='height:100%;line-height:#cheight#px'>#label#</div>"},$skin:function(){this.defaults.height=webix.skin.$active.inputHeight},focus:function(){return!1},re:function(){return this.y.firstChild},setHTML:function(e){this.s.template=function(){return e},this.refresh()},setValue:function(e){this.s.label=e,webix.ui.button.prototype.setValue.apply(this,arguments)},$setValue:function(e){this.y.firstChild.innerHTML=e},oe:function(){},$B:function(e){e=e||this.s,e.autowidth&&(e.width=webix.html.getTextSize(e.value||e.label,"webix_el_label").width)}},webix.ui.button),webix.protoUI({name:"icon",$skin:function(){this.defaults.height=webix.skin.$active.inputHeight},defaults:{template:function(e){return"<button type='button'  style='height:100%;width:100%;' class='webix_icon_button'><span class='webix_icon fa-"+e.icon+" '></span>"+(e.badge?"<span class='webix_badge'>"+e.badge+"</span>":"")+"</button>"},width:33},oe:function(){},$setValue:function(){}},webix.ui.button),webix.protoUI({name:"text",Ce:!0,De:function(){this.Ce&&(this._E||webix.UE(this.getInputNode(),"change",this.Xy,{bind:this}),this.s.suggest&&webix.$$(this.s.suggest).linkInput(this))},Xy:function(){var e=this.getValue();e!=this.s.value?this.setValue(e,!0):this.nH&&this.$setValue(e)},$skin:function(){this.defaults.height=webix.skin.$active.inputHeight,this.defaults.inputPadding=webix.skin.$active.inputPadding,this.$E=webix.skin.$active.inputSpacing},$init:function(e){"top"==e.labelPosition&&webix.isUndefined(e.height)&&this.defaults.height&&(e.height=this.defaults.height+this.le),this.Ns=[],this.attachEvent("onAfterRender",this.De),this.attachEvent("onBlur",function(){this._E&&this._E()})},$renderIcon:function(){var e=this.s;if(e.icon){var t=e.aheight-2*e.inputPadding,i=(t-18)/2-1,n=this.addSection?"role='button' tabindex='0' aria-label='"+webix.i18n.aria["multitext"+(e.mode||"")+"Section"]+"'":"";return"<span style='height:"+(t-i)+"px;padding-top:"+i+"px;' class='webix_input_icon fa-"+e.icon+"' "+n+"></span>"}return""},relatedView_setter:function(e){return this.attachEvent("onChange",function(){var e=this.getValue(),t=this.s.relatedAction,i=this.s.relatedView,n=webix.$$(i);if(!n){var r=this.getTopParentView();r&&r.$$&&(n=r.$$(i))}"enable"==t?e?n.enable():n.disable():e?n.show():n.hide()}),e},validateEvent_setter:function(e){return"blur"==e&&this.attachEvent("onBlur",this.validate),"key"==e&&this.attachEvent("onTimedKeyPress",this.validate),e},validate:function(){var e=this.s.validate;!e&&this.s.required&&(e=webix.rules.isNotEmpty);var t=this.getFormView(),i=this.s.name,n=this.getValue(),r={};return r[i]=n,!(e&&!t.Se(e,n,r,i))},bottomLabel_setter:function(e){return this.s.bottomPadding||(this.s.bottomPadding=18),e},py:function(){var e=this.s.invalidMessage;return"function"==typeof e&&e.call(this),e},setBottomText:function(e,t){var i=this.s;if("undefined"!=typeof e){if(i.bottomLabel==e)return;i.bottomLabel=e}var n=(i.invalid?i.invalidMessage:"")||i.bottomLabel;n||i.bottomPadding||(i.inputHeight=0),n&&!i.bottomPadding?(this.ry=1,i.bottomPadding=i.bottomPadding||t||18,this.render(),this.resize()):!n&&this.ry?(i.bottomPadding=this.ry=0,i.height||this.render(),this.resize()):this.render()},$getSize:function(){var e=webix.ui.view.prototype.$getSize.apply(this,arguments),t=this.config.bottomPadding;return t&&(e[2]+=t,e[3]+=t),e},$setSize:function(e,t){var i=this.s;if(webix.ui.view.prototype.$setSize.call(this,e,t)){if(!e||!t)return;"top"==i.labelPosition?(i.inputHeight||(this.zy=this.dc-this.le-(this.config.bottomPadding||0)),i.labelWidth=0):i.bottomPadding&&(i.inputHeight=this.dc-this.config.bottomPadding),this.render()}},Ee:function(e){var t=(this.we||0)-(e.label?this.s.labelWidth:0)-this.$E-(e.iconWidth||0);return 0>t?0:t},Fe:function(e,t){var i="x"+webix.uid(),n=t.Ee(e),r=e.inputAlign||"left",a=(this.$renderIcon?this.$renderIcon(e):"",this.s.aheight-2*webix.skin.$active.inputPadding-2*this.ZE),o=e.text||e.value||this.Yx(e),s="<div class='webix_inp_static' role='combobox' aria-label='"+webix.template.escape(e.label)+"' tabindex='0'"+(e.readonly?" aria-readonly='true'":"")+(e.invalid?"aria-invalid='true'":"")+" onclick='' style='line-height:"+a+"px;width: "+n+"px; text-align: "+r+";' >"+o+"</div>";return t.$renderInput(e,s,i)},qt:function(e){var t="<"+e+(this.s.placeholder?" placeholder='"+this.s.placeholder+"' ":" ");this.s.readonly&&(t+="readonly='true' aria-readonly=''"),this.s.required&&(t+="aria-required='true'"),this.s.invalid&&(t+="aria-invalid='true'");var i=this.s.attributes;if(i)for(var n in i)t+=n+"='"+i[n]+"' ";return t},$renderLabel:function(e,t){var i=e.labelAlign||"left",n="top"==this.s.labelPosition,r=n?"display:block;":"width: "+this.s.labelWidth+"px;",a="",o=n?this.le-2*this.ZE:this.s.aheight-2*this.s.inputPadding;return e.label&&(a="<label style='"+r+"text-align: "+i+";line-height:"+o+"px;' onclick='' for='"+t+"' class='webix_inp_"+(n?"top_":"")+"label "+(e.required?"webix_required":"")+"'>"+(e.label||"")+"</label>"),a},$renderInput:function(e,t,i){var n=e.inputAlign||"left",r="top"==e.labelPosition,a=this.Ee(e);i=i||webix.uid();var o=this.$renderLabel(e,i),s="";if(t)s+=t;else{var l=webix.template.escape(e.text||this.VC(e.value)||(0===e.value?"0":""));s+=this.qt("input")+"id='"+i+"' type='"+(e.type||this.name)+"'"+(e.editable?" role='combobox'":"")+" value='"+l+"' style='width: "+a+"px; text-align: "+n+";'";var u=e.attributes;if(u)for(var c in u)s+=" "+c+"='"+u[c]+"'";s+=" />"}var d=this.$renderIcon?this.$renderIcon(e):"";s+=d;var h="";h=r?o+"<div class='webix_el_box' style='width:"+e.awidth+"px; height:"+e.aheight+"px'>"+s+"</div>":"<div class='webix_el_box' style='width:"+e.awidth+"px; height:"+e.aheight+"px'>"+o+s+"</div>";var f=e.awidth-a-2*webix.skin.$active.inputPadding,p=(e.invalid?e.invalidMessage:"")||e.bottomLabel;return p&&(h+="<div class='webix_inp_bottom_label'"+(e.invalid?"role='alert' aria-relevant='all'":"")+" style='width:"+(a||e.awidth)+"px;margin-left:"+Math.max(f,webix.skin.$active.inputPadding)+"px;'>"+p+"</div>"),h},defaults:{template:function(e,t){return t.$renderInput(e)},label:"",labelWidth:80},type_setter:function(e){return e},oe:!1,$setValue:function(e){this.getInputNode().value=this.VC(e)},$getValue:function(){return this.VC(this.getInputNode().value,!1)},suggest_setter:function(e){if(e){if("string"==typeof e){var t=webix.$$(e);if(t)return webix.$$(e).s.id;e={body:{url:e,dataFeed:e}}}else webix.isArray(e)?e={body:{data:this.Be(e)}}:e.body||(e.body={});webix.extend(e,{view:"suggest"});var i=webix.ui(e);return this.Ns.push(i),i.s.id}return!1}},webix.ui.button),webix.protoUI({name:"segmented",Ce:!1,$init:function(){this.attachEvent("onChange",function(e){this.s.multiview&&this.aF(e)}),this.attachEvent("onAfterRender",webix.once(function(){this.s.multiview&&this.s.value&&this.aF(this.s.value)}))},aF:function(e){var t=this.getTopParentView(),i=null;t&&t.$$&&(i=t.$$(e)),i||(i=webix.$$(e)),i&&i.show&&i.show()},defaults:{template:function(e,t){!e.options;var i=e.options;t.Be(i),i=t.yC(i);var n=t.Ee(e),r=webix.uid(),a="<div style='width:"+n+"px' class='webix_all_segments' role='tablist' aria-label='"+webix.template.escape(e.label)+"'>",o=e.optionWidth||Math.floor(n/i.length);e.value||(e.value=i[0].id);for(var s=0;s<i.length;s++)a+="<button type='button' style='width:"+(i[s].width||o)+"px' role='tab' aria-selected='"+(e.value==i[s].id?"true":"false")+"' tabindex='"+(e.value==i[s].id?"0":"-1")+"'",a+="class='webix_segment_"+(s==i.length-1?"N":s>0?1:0)+(e.value==i[s].id?" webix_selected ":"")+"' button_id='"+i[s].id+"' "+(i[s].tooltip?"title='"+i[s].tooltip+"'":"")+">",a+=i[s].value+"</button>";return t.$renderInput(e,a+"</div>",r)}},Ie:function(){return this.$view.getElementsByTagName("BUTTON")},focus:function(){this.ub()},blur:function(){this.JD()},$setValue:function(e){for(var t=this.Ie(),i=0;i<t.length;i++){var n=t[i].getAttribute("button_id");t[i].setAttribute("aria-selected",e==n?"true":"false"),t[i].setAttribute("tabindex",e==n?"0":"-1"),e==n?webix.html.addCss(t[i],"webix_selected"):webix.html.removeCss(t[i],"webix_selected")}var r=this.config.tabbarPopup;r&&webix.$$(r)&&webix.$$(r).getBody().exists(e)&&this.refresh()},getValue:function(){return this.s.value},getInputNode:function(){return null},optionIndex:function(e){for(var t=this.s.options,i=0;i<t.length;i++)if(t[i].id==e)return i;return-1},addOption:function(e,t,i,n){var r=e;"object"!=typeof e?(t=t||e,r={id:e,value:t}):(e=r.id,n=i,i=t),this.optionIndex(e)<0&&webix.PowerArray.insertAt.call(this.s.options,r,n),this.refresh(),i&&this.setValue(e)},removeOption:function(e,t){var i=this.optionIndex(e),n=this.s.options;i>=0&&webix.PowerArray.removeAt.call(n,i),this.s.value==e&&this.zC(n,i),this.refresh(),this.callEvent("onOptionRemove",[e,this.s.value])},zC:function(e,t){var i=e.length;if(i){t=Math.min(t,i-1);for(var n=t;i>n;n++)if(!e[n].hidden)return this.setValue(e[n].id);for(var n=t;n>=0;n--)if(!e[n].hidden)return this.setValue(e[n].id)}this.setValue("")},yC:function(e){for(var t=[],i=0;i<e.length;i++)e[i].hidden||t.push(e[i]);return t},AC:function(e,t){var i=this.s.options,n=this.optionIndex(e),r=i[n];r&&t==!!r.hidden&&(r.hidden=!t,t||this.s.value!=e?this.refresh():this.zC(i,n))},hideOption:function(e){this.AC(e,!1)},showOption:function(e){this.AC(e,!0)},oe:!1},webix.HTMLOptions,webix.ui.text),webix.protoUI({name:"search",on_click:{webix_input_icon:function(e){this.getInputNode().focus(),this.callEvent("onSearchIconClick",[e])}},$skin:function(){this.defaults.inputPadding=webix.skin.$active.inputPadding},defaults:{type:"text",icon:"search"}},webix.ui.text),webix.protoUI({name:"toggle",Ce:!0,$init:function(){this.attachEvent("onItemClick",function(){this.toggle()})},$setValue:function(e){var t=this.getInputNode(),i=this.s,n=e&&"0"!=e,r=(n?i.onLabel:i.offLabel)||i.label,a=t.lastChild;t.setAttribute("aria-pressed",!!n&&"true"),t.value=r,a&&((a.firstChild||a).nodeValue=" "+r),t.firstChild&&"SPAN"===t.firstChild.nodeName&&i.onIcon&&i.offIcon&&i.onIcon!==i.offIcon&&(t.firstChild.className=t.firstChild.className.replace(n?i.offIcon:i.onIcon,n?i.onIcon:i.offIcon));var o=t.parentNode;n?webix.html.addCss(o,"webix_pressed"):webix.html.removeCss(o,"webix_pressed")},toggle:function(){this.setValue(!this.getValue())},getValue:function(){var e=this.s.value;return e&&"0"!=e?1:0},defaults:{template:function(e,t){var i=e.value&&"0"!=e.value,n=i?" webix_pressed":"";e.label=(i?e.onLabel:e.offLabel)||e.label,e.icon=(i?e.onIcon:e.offIcon)||e.icon;var r="<div class='webix_el_box"+n+"' style='width:"+e.awidth+"px; height:"+e.aheight+"px'>"+t.$renderInput(e,t)+"</div>";return r=r.replace(/(button)\s*(?=\w)/,"$1"+(" aria-pressed='"+(i?"true":"false")+"' "))}},oe:!1},webix.ui.button),webix.protoUI({name:"select",defaults:{template:function(e,t){var i=t.Be(e.options),n="x"+webix.uid(),r=t.qt("select")+"id='"+n+"' style='width:"+t.Ee(e)+"px;'>",a=webix.$$(i);if(a&&a.data&&a.data.each)a.data.each(function(t){r+="<option"+(t.id==e.value?" selected='true'":"")+" value='"+t.id+"'>"+t.value+"</option>"});else for(var o=0;o<i.length;o++)r+="<option"+(i[o].id==e.value?" selected='true'":"")+" value='"+i[o].id+"'>"+i[o].value+"</option>";return r+="</select>",t.$renderInput(e,r,n)}},options_setter:function(e){if(e){if("string"==typeof e){var t=new webix.DataCollection({url:e});return t.data.attachEvent("onStoreLoad",webix.bind(this.refresh,this)),t}return e}},getInputNode:function(){return this.y.getElementsByTagName("select")[0]}},webix.ui.text),webix.protoUI({name:"textarea",defaults:{template:function(e,t){var i=e.name||e.id,n="x"+webix.uid(),r=t.qt("textarea")+"style='width:"+t.Ee(e)+"px;'";return r+=" id='"+n+"' name='"+i+"' class='webix_inp_textarea'>"+t.VC(e.value||(0===e.value?"0":""))+"</textarea>",t.$renderInput(e,r,n)},height:0,minHeight:60},$skin:function(){this.defaults.inputPadding=webix.skin.$active.inputPadding,this.$E=webix.skin.$active.inputSpacing},Dt:!0,$renderLabel:function(e,t){var i=e.labelAlign||"left",n="top"==this.s.labelPosition,r=n?"display:block;":"width: "+this.s.labelWidth+"px;",a="";return n?this.le-2*this.ZE:(webix.skin.$active.inputHeight||this.s.aheight)-2*this.s.inputPadding,e.label&&(a="<label style='"+r+"text-align: "+i+";' onclick='' for='"+t+"' class='webix_inp_"+(n?"top_":"")+"label "+(e.required?"webix_required":"")+"'>"+(e.label||"")+"</label>"),a},getInputNode:function(){return this.y.getElementsByTagName("textarea")[0]}},webix.ui.text),webix.protoUI({name:"counter",defaults:{template:function(e,t){var i=e.value||0,n="x"+webix.uid(),r="<div role='spinbutton' aria-label='"+webix.template.escape(e.label)+"' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+e.value+"' class='webix_el_group' style='width:"+t.Ee(e)+"px'>";return r+="<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='"+webix.i18n.aria.decreaseValue+"'>-</button>",r+=t.qt("input")+" id='"+n+"' type='text' class='webix_inp_counter_value' aria-live='assertive' value='"+i+"'></input>",r+="<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='"+webix.i18n.aria.increaseValue+"'>+</button></div>",t.$renderInput(e,r,n)},min:0,max:1/0,step:1},$init:function(){webix.UE(this.$view,"keydown",this.LD,{bind:this})},LD:function(e){var t=e.which||e.keyCode,i=this.s,n=i.value||i.min;t>32&&41>t&&(35===t?n=i.min:36===t?n=i.max===1/0?1e6:i.max:33===t?this.next():34===t?this.prev():n+=37===t||40===t?-1:1,t>34&&n>=i.min&&n<=i.max&&this.setValue(n))},$setValue:function(e){this.getInputNode().value=e},getInputNode:function(){return this.y.getElementsByTagName("input")[0]},getValue:function(e){return 1*webix.ui.button.prototype.getValue.apply(this,arguments)},next:function(e){e=this.s.step,this.shift(e)},prev:function(e){e=-1*this.s.step,this.shift(e)},shift:function(e){var t=this.s.min,i=this.s.max,n=this.getValue()+e;n>=t&&i>=n&&this.setValue(n)}},webix.ui.text),webix.protoUI({name:"checkbox",defaults:{checkValue:1,uncheckValue:0,template:function(e,t){var i="x"+webix.uid(),n="";e.labelRight&&(n="<label class='webix_label_right'>"+e.labelRight+"</label>",e.labelWidth&&(e.label=e.label||"&nbsp;"));var r=e.checkValue==e.value,a=Math.floor((t.s.aheight-16)/2),o=t.qt("input")+"style='margin-top:"+a+"px;"+(e.customCheckbox?"display:none":"")+"' id='"+i+"' type='checkbox' "+(r?"checked='1'":"")+(e.labelRight?" aria-label='"+webix.template.escape(e.labelRight)+"'":"")+"/>",s="webix_inp_checkbox_border webix_el_group webix_checkbox_"+(r?"1":"0"),l=e.customCheckbox||"";l&&(l=l.replace(/(aria-checked=')\w*(?=')/,"$1"+(e.value==e.checkValue?"true":"false")),l=l.replace(/(aria-label=')\w*(?=')/,"$1"+webix.template.escape(e.labelRight||e.label)),l=l.replace(/(aria-invalid=')\w*(?=')/,"$1"+(e.invalid?"true":"false")));var u="<div style='line-height:"+t.s.cheight+"px' class='"+s+"'>"+o+l+n+"</div>";return t.$renderInput(e,u,i)}},customCheckbox_setter:function(e){return e===!0&&webix.skin.$active.customCheckbox&&(e="<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>"),e},focus:function(){var e=this.getInputNode();e&&e.focus()},blur:function(){var e=this.getInputNode();e&&e.blur()},De:function(){},$setValue:function(e){var t=e==this.s.checkValue,i=this.$view.getElementsByTagName("input")[0],n=i?i.parentNode:null;if(n&&this.s.customCheckbox){var r=n.getElementsByTagName("BUTTON");r[0]&&r[0].setAttribute("aria-checked",t?"true":"false")}n&&(n.className=n.className.replace(/(webix_checkbox_)\d/,"$1"+(t?1:0))),i.checked=t},toggle:function(){var e=this.getValue()!=this.s.checkValue?this.s.checkValue:this.s.uncheckValue;this.setValue(e)},getValue:function(){var e=this.s.value;return e==this.s.checkValue?this.s.checkValue:this.s.uncheckValue},getInputNode:function(){return this.$view.getElementsByTagName(this.s.customCheckbox?"button":"input")[0]},$skin:function(){this.defaults.customCheckbox=!!webix.skin.$active.customCheckbox}},webix.ui.text),webix.protoUI({name:"radio",defaults:{template:function(e,t){for(var i,n=t.Be(e.options),r=[],a=0;a<n.length;a++){var o="x"+webix.uid();i=i||o,a&&(n[a].newline||e.vertical)&&r.push("<div class='webix_line_break'></div>");var s=n[a].id==e.value,l=n[a].value||"",u=e.customRadio||"";if(u){var c=(0===a?e.label+" ":"")+l;u=u.replace(/(aria-label=')\w*(?=')/,"$1"+webix.template.escape(c)),u=u.replace(/(aria-checked=')\w*(?=')/,"$1"+(s?"true":"false")),u=u.replace(/(tabindex=')\w*(?=')/,"$1"+(s||0===a&&!e.value?"0":"-1")),u=u.replace(/(aria-invalid=')\w*(?=')/,"$1"+(e.invalid?"true":"false"))}var d=t.qt("input")+" name='"+(e.name||e.id)+"' type='radio' "+(s?"checked='1'":"")+"tabindex="+(s||0===a&&!e.value?"0":"-1")+" value='"+n[a].id+"' id='"+o+"' style='"+(u?"display:none":"")+"' />",h="<div radio_id='"+n[a].id+"' class='webix_inp_radio_border webix_radio_"+(s?"1":"0")+"' role='presentation'>"+d+u+"</div>";l&&(l="<label for='"+o+"' class='webix_label_right'>"+l+"</label>"),r.push("<div class='webix_radio_option' role='presentation'>"+h+l+"</div>")}return r="<div class='webix_el_group' role='radiogroup' style='margin-left:"+(e.label?e.labelWidth:0)+"px;'>"+r.join("")+"</div>",t.$renderInput(e,r,i)}},refresh:function(){this.render(),this.ac&&this.$getSize(0,0)[2]!=this.ac[1]&&this.resize()},$getSize:function(e,t){var i=webix.ui.button.prototype.$getSize.call(this,e,t);if(this.s.options){for(var n=this.s.vertical?0:1,r=0;r<this.s.options.length;r++)(this.s.vertical||this.s.options[r].newline)&&n++;i[3]=i[2]=Math.max(i[2],(this.s.optionHeight||25)*n+2*this.s.inputPadding+("top"==this.s.labelPosition?this.le:0))}var a=this.config.bottomPadding;return a&&(i[2]+=a,i[3]+=a),i},Ie:function(){return this.y.getElementsByTagName("input")},$setValue:function(e){for(var t=this.Ie(),i=0;i<t.length;i++){t[i].parentNode.getAttribute("radio_id")==e?(t[i].className="webix_inp_radio_on",t[i].checked=!0,t[i].setAttribute("tabindex","0")):(t[i].className="webix_inp_radio_on webix_hidden",t[i].checked=!1,t[i].setAttribute("tabindex","-1"));var n=t[i]?t[i].parentNode:null;if(n&&(n.className=n.className.replace(/(webix_radio_)\d/,"$1"+(t[i].checked?1:0)),this.s.customRadio)){var r=n.getElementsByTagName("BUTTON");r[0]&&(r[0].setAttribute("aria-checked",t[i].checked?"true":"false"),r[0].setAttribute("tabindex",t[i].checked?"0":"-1"))}}},getValue:function(e){return this.s.value},focus:function(){this.ub()},blur:function(){this.JD()},customRadio_setter:function(e){return e===!0&&webix.skin.$active.customRadio&&(e="<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>"),e},$skin:function(){this.defaults.customRadio=!!webix.skin.$active.customRadio,webix.skin.$active.optionHeight&&(this.defaults.optionHeight=webix.skin.$active.optionHeight)}},webix.HTMLOptions,webix.ui.text),webix.protoUI({name:"richselect",defaults:{template:function(e,t){return t.Fe(e,t)},popupWidth:200,icon:"angle-down"},_E:function(){if(this.s.text!=this.getText()&&(!webix.isUndefined(this.s.text)||this.getText())){var e=this.getPopup(),t=e.getSuggestion(),i=this.getValue();!t||t==i||""===this.getInputNode().value&&""!==e.getItemText(t)?""===this.getInputNode().value?this.setValue(""):this.bF&&this.bF():this.setValue(t)}},suggest_setter:function(e){return this.options_setter(e)},options_setter:function(e){e=this.Kt?this.Kt(e):e;var t=this.s.popup=this.s.suggest=webix.ui.text.prototype.suggest_setter.call(this,e),i=webix.$$(t).getList();return i&&i.attachEvent("onAfterLoad",webix.bind(this.Ss,this)),t},getList:function(){var e=webix.$$(this.s.suggest);return e.getList()},Ss:function(){var e=this.s.value;webix.isUndefined(e)||this.getPopup().isVisible()||this.s.text||!this.y.firstChild||this.$setValue(e)},$skin:function(){this.defaults.inputPadding=webix.skin.$active.inputPadding},$render:function(e){webix.isUndefined(e.value)||this.$setValue(e.value)},getInputNode:function(){return this.y.getElementsByTagName("DIV")[1]},getPopup:function(){return webix.$$(this.s.popup)},getText:function(){var e=this.s.value,t=this.getInputNode();return t?"undefined"==typeof t.value?t.firstChild&&"webix_placeholder"===t.firstChild.className?"":t.innerHTML:t.value:e?this.getPopup().getItemText(e):""},$setValue:function(e){if(this.se){var t=e,i=this.getPopup();if(i)var t=this.getPopup().getItemText(e);!t&&e&&e.id&&(this.getPopup().getList().add(e),t=this.getPopup().getItemText(e.id),this.s.value=e.id);var n=this.getInputNode();webix.isUndefined(n.value)?n.innerHTML=t||this.Yx():n.value=t=t.replace(/<[^>]*>/g,""),this.s.text=t}},getValue:function(){return this.s.value||""}},webix.ui.text),webix.protoUI({name:"combo",getInputNode:function(){return this.y.getElementsByTagName("input")[0]},$render:function(e){webix.isUndefined(e.value)||this.$setValue(e.value)},bF:function(){if(!this.s.editable){var e=this.getValue();this.$setValue(webix.isUndefined(e)?"":e)}},Xy:function(){var e=this.getInputNode(),t="",i=this.getPopup();e.value&&(t=this.s.value,i.getItemText(t)!=this.getText()&&(t=i.getSuggestion()||t)),t!=this.s.value?this.setValue(t,!0):this.$setValue(t)},defaults:{template:function(e,t){return t.$renderInput(e).replace(/(<input)\s*(?=\w)/,"$1 role='combobox'")},icon:"angle-down"}},webix.ui.richselect),webix.protoUI({name:"datepicker",$init:function(){this.$ready.push(this.Je)},defaults:{template:function(e,t){"time"==t.s.type&&(t.s.icon=t.s.timeIcon);var i=e.type;e.type="";var n=e.editable?t.$renderInput(e):t.Fe(e,t);return e.type=i,n},stringResult:!1,timepicker:!1,icon:"calendar",icons:!0,timeIcon:"clock-o",separator:", "},_E:function(){if(this.s.text!=this.getText()&&(!webix.isUndefined(this.s.text)||this.getText())){var e=this.getPopup().getValue();e&&this.setValue(e)}},$skin:function(){this.defaults.inputPadding=webix.skin.$active.inputPadding},getPopup:function(){return webix.$$(this.s.popup)},Je:function(){var e=this.s;if(e.suggest)e.popup=e.suggest;else if(!e.popup){var t=this.s.timepicker;e.popup=e.suggest=this.suggest_setter({type:"calendar",point:this.s.point!==!1,height:240+(t?30:0),width:250,padding:0,body:{multiselect:this.s.multiselect,timepicker:t,type:this.s.type,icons:this.s.icons}})}this.ze=function(){}},$render:function(e){webix.isUndefined(e.value)||(e.value=this.$prepareValue(e.value),this.$setValue(e.value))},$prepareValue:function(e){if(this.s.multiselect){"string"==typeof e?e=e.split(this.s.separator):e instanceof Date?e=[e]:e||(e=[]);for(var t=0;t<e.length;t++)e[t]=this.RG(e[t]);return e}return this.RG(e)},RG:function(e){var t=this.s.type,i="time"==t;if(isNaN(parseFloat(e))||(e=""+e),"string"==typeof e&&e){var n=null;n="month"!=t&&"year"!=t||!this.Gx?i?webix.i18n.parseTimeFormatDate:webix.i18n.parseFormatDate:this.Gx,e=n(e)}if(e){if(i&&webix.isArray(e)){var r=new Date;r.setHours(e[0]),r.setMinutes(e[1]),e=r}isNaN(e.getTime())&&(e="")}return e},YE:function(e){return this.s.multiselect?[].concat(e).map(function(e){return this.SG(e)}.bind(this)).join(this.config.separator):this.SG(e)},SG:function(e){var t="time"==this.s.type,i=this.config.timepicker,n=this.Hx||(t?webix.i18n.timeFormatStr:i?webix.i18n.fullDateFormatStr:webix.i18n.dateFormatStr);return n(e)},ND:function(){var e=this.getInputNode();e.value==webix.undefined?e.innerHTML=this.s.text||this.Yx():e.value=this.s.text||""},$compareValue:function(e,t){return!e&&!t||webix.Date.equal(e,t)},$setValue:function(e){this.s.text=e?this.YE(e):"",this.ND()},format_setter:function(e){return e?"function"==typeof e?this.Hx=e:(this.Hx=webix.Date.dateToStr(e),this.Gx=webix.Date.strToDate(e)):this.Hx=this.Gx=null,e},getInputNode:function(){return this.s.editable?this.y.getElementsByTagName("input")[0]:this.y.getElementsByTagName("DIV")[1]},getValue:function(){if(this.s.multiselect){var e=[].concat(this.s.value).map(function(e){return this.TG(e)}.bind(this));return this.s.stringResult?e.join(this.s.separator):e}return this.TG(this.s.value)},TG:function(e){var t=this.s.type,i="time"==t,n=this.config.timepicker;if(this.se){if(this.s.editable){var r=this.Gx||(i?webix.i18n.timeFormatDate:n?webix.i18n.fullDateFormatDate:webix.i18n.dateFormatDate);e=r(this.getInputNode().value)}}else e=this.$prepareValue(e)||null;if(this.s.stringResult){var a=webix.i18n.parseFormatStr;return i&&(a=webix.i18n.parseTimeFormatStr),!this.Hx||"month"!=t&&"year"!=t||(a=this.Hx),this.s.multiselect?[].concat(e).map(function(e){return e?a(e):""}):e?a(e):""}return e||null},getText:function(){var e=this.getInputNode();return e?"undefined"==typeof e.value?this.getValue()?e.innerHTML:"":e.value:""}},webix.ui.text),webix.protoUI({name:"colorpicker",$init:function(){this.$ready.push(this.Je)},defaults:{icon:!0},Je:function(){var e=this.s;e.suggest?e.popup=e.suggest:e.popup||(e.popup=e.suggest=this.suggest_setter({type:"colorboard",height:200})),this.ze=function(){}},$render:function(e){webix.isUndefined(e.value)||(e.value=this.$prepareValue(e.value),this.$setValue(e.value))},getValue:function(){return this.se&&this.s.editable?this.getInputNode().value:this.s.value},$prepareValue:function(e){return e&&e.charAt&&"#"!=e.charAt(0)&&(e="#"+e),e||""},pz:function(){return this.$view.getElementsByTagName("DIV")[this.s.editable?1:2]},YE:function(e){return e},$setValue:function(e){this.pz().style.backgroundColor=e,this.s.text=e;var t=this.getInputNode();t.value==webix.undefined?t.innerHTML=e:t.value=e},$renderIcon:function(){var e=this.config;return'<div class="webix_input_icon" style="background-color:'+e.value+';"> </div>'}},webix.ui.datepicker),webix.RenderStack={$init:function(){this.v=document.createElement("DIV"),this.data.attachEvent("onIdChange",webix.bind(this.Ke,this)),this.attachEvent("onItemClick",this.Le),this.types||(this.types={default:this.type},this.type.name="default"),this.type=webix.clone(this.type)},customize:function(e){webix.type(this,e)},item_setter:function(e){return this.type_setter(e)},type_setter:function(e){return this.types[e]?(this.type=webix.clone(this.types[e]),this.type.css&&(this.w.className+=" "+this.type.css)):this.customize(e),this.type.on_click&&webix.extend(this.on_click,this.type.on_click),e},template_setter:function(e){this.type.template=webix.template(e)},jb:function(e){var t=this.data.Me[e.id];return this.callEvent("onItemRender",[e]),this.type.templateStart(e,this.type,t)+(e.$template?this.type["template"+e.$template]:this.type.template)(e,this.type,t)+this.type.templateEnd(e,this.type,t)},Ne:function(e){return this.v.innerHTML=this.jb(e),this.v.firstChild},Ke:function(e,t){var i=this.getItemNode(e);i&&(i.setAttribute(this.ad,t),this.t[t]=this.t[e],delete this.t[e])},Le:function(){if(this.s.click){var e=webix.toFunctor(this.s.click,this.$scope);e&&e.call&&e.apply(this,arguments)}},getItemNode:function(e){if(this.t)return this.t[e];this.t={};for(var t=this.y.childNodes,i=0;i<t.length;i++){var n=t[i].getAttribute(this.ad);n&&(this.t[n]=t[i])}return this.getItemNode(e)},locate:function(e){return webix.html.locate(e,this.ad)},showItem:function(e){var t=this.getItemNode(e);if(t&&this.scrollTo){var i=Math.abs(this.w.offsetLeft-t.offsetLeft),n=i+t.offsetWidth,r=Math.abs(this.w.offsetTop-t.offsetTop),a=r+t.offsetHeight,o=this.getScrollState(),s=o.x;(s>i||s+this.bc<n)&&(s=i);var l=o.y;(l>r||l+this.dc<a)&&(l=r-5),this.scrollTo(s,l),this.Oe&&this.Oe(e)}},render:function(e,t,i){if(this.isVisible(this.s.id)&&!this.$blockRender)if(e){var n=this.getItemNode(e);switch(i){case"paint":case"update":if(!n)return;var r=this.t[e]=this.Ne(t);webix.html.insertBefore(r,n),webix.html.remove(n);break;case"delete":if(!n)return;webix.html.remove(n),delete this.t[e];break;case"add":var r=this.t[e]=this.Ne(t);webix.html.insertBefore(r,this.getItemNode(this.data.getNextId(e)),this.y);break;case"move":webix.html.insertBefore(this.getItemNode(e),this.getItemNode(this.data.getNextId(e)),this.y)}}else if(this.callEvent("onBeforeRender",[this.data])){(this.Pe||this.y).innerHTML=this.data.getRange().map(this.jb,this).join(""),this.t=null,this.callEvent("onAfterRender",[]);var r=this.y.offsetHeight}}},webix.ValidateData={$init:function(){this.h&&this.attachEvent("onChange",this.clearValidation)},clearValidation:function(){if(this.elements)for(var e in this.elements)this.Qe(e)},validate:function(e,t){this.callEvent("onBeforeValidate",[]);var i=this.Re={},n=!0,r=this.s.rules,a=this.isVisible&&!this.isVisible(),o=e&&e.hidden,s=e&&e.disabled,l={},u={};for(var c in this.elements){var d=this.elements[c].config.name;(a||this.elements[c].isVisible()||o)&&(this.elements[c].isEnabled()||s)?l[d]=this.elements[c]:u[d]=!0}if((r||l)&&!t&&this.getValues&&(t=this.getValues()),r){r.$obj&&(n=this.Se(r.$obj,t,t,"")&&n);var h=r.$all,f=t;if(this.s.complexData&&(f=webix.CodeParser.collapseNames(t)),h)for(var p in t)if(!u[p]){var g=this.Se(h,f[p],t,p);g||(i[p]=!0),n=g&&n}for(var p in r)if(!u[p]&&0!==p.indexOf("$")&&!i[p]){var g=this.Se(r[p],f[p],t,p);g||(i[p]=!0),n=g&&n}}if(l)for(var p in l)if(!i[p]){var v=l[p];if(v.validate){var g=v.validate();n=g&&n,g||(i[p]=!0)}else{var m=v.s;if(m){var b=m.validate;if(!b&&m.required&&(b=webix.rules.isNotEmpty),b){var g=this.Se(b,t[p],t,p);g||(i[p]=!0),n=g&&n}}}}return this.callEvent("onAfterValidation",[n,this.Re]),n},Se:function(e,t,i,n){return"string"==typeof e&&(e=webix.rules[e]),e.call(this,t,i,n)?(this.callEvent("onValidationSuccess",[n,i])&&this.Qe&&this.Qe(n),!0):(this.callEvent("onValidationError",[n,i])&&this.Te&&this.Te(n),!1)}},webix.ValidateCollection={Ue:function(){this.data.attachEvent("onStoreUpdated",webix.bind(function(e,t,i){!e||"add"!=i&&"update"!=i||this.validate(e)},this)),this.data.attachEvent("onClearAll",webix.bind(this.clearValidation,this)),this.Ue=function(){}},rules_setter:function(e){return e&&this.Ue(),e},clearValidation:function(){this.data.clearMark("webix_invalid",!0)},validate:function(e){var t=!0;if(e){this.Re={};var i=this.getItem(e);t=webix.ValidateData.validate.call(this,null,i),t?this.callEvent("onValidationSuccess",[e,i])&&this.Qe(e):this.callEvent("onValidationError",[e,i,this.Re])&&this.Te(e,this.Re)}else for(var n in this.data.pull)var t=this.validate(n)&&t;return t},Se:function(e,t,i,n){"string"==typeof e&&(e=webix.rules[e]);var r=e.call(this,t,i,n);
return r||(this.Re[n]=!0),r},Qe:function(e){this.data.removeMark(e,"webix_invalid",!0)},Te:function(e,t){this.data.addMark(e,"webix_invalid",!0)}},webix.rules={isEmail:function(e){return/\S+@[^@\s]+\.[^@\s]+$/.test((e||"").toString())},isNumber:function(e){return parseFloat(e)==e},isChecked:function(e){return!!e||"0"===e},isNotEmpty:function(e){return 0===e||e}},webix.MapCollection={$init:function(){this.$ready.push(this.cz),this.attachEvent("onStructureUpdate",this.cz),this.attachEvent("onStructureLoad",function(){this.dz.length||this.cz()})},cz:function(e){var e=this.dz=[],t=this.s;if(t.columns&&this.zj(t.columns),this.s.map&&this.ez(t.map),this.dz.length)try{this.data.qf=Function("obj",e.join("\n"))}catch(e){}},ez:function(e){for(var t in e)this.dz.push(this.fz(t,e[t]))},fz:function(e,t,i){var n="",r="";return 0===t.indexOf("(date)")?(n="webix.i18n.parseFormatDate(",r=")",i&&!i.format&&(i.format=webix.i18n.dateFormatStr),t=t.replace("(date)","")):0===t.indexOf("(number)")&&(n="(",r=")*1",t=t.replace("(number)","")),""!==t?(t=t.replace(/\{obj\.([^}]*)\}/g,"\"+(obj.$1||'')+\""),t=t.replace(/#([^#'";, ]+)#/gi,"\"+(obj.$1||'')+\"")):t='"+(obj.'+e+"||'')+\"","obj."+e+" = "+n+'"'+t+'"'+r+";"},zj:function(e){for(var t=0;t<e.length;t++){var i=e[t].map,n=e[t].id;n||(n=e[t].id="i"+webix.uid(),e[t].header||(e[t].header="")),i&&this.dz.push(this.fz(n,i,e[t])),this.Et(e[t])}},Et:function(e){var t=e.options||e.collection;if(t)if("string"==typeof t){var i=webix.$$(t);i||(i=new webix.DataCollection({url:t}),this.Ns.push(i)),i.getBody&&(i=i.getBody()),this.Bj(i,e)}else if(t.loadNext)this.Bj(t,e);else if(t[0]&&"object"==typeof t[0])t=new webix.DataCollection({data:t}),this.Bj(t,e),this.Ns.push(t);else{if(webix.isArray(t)){for(var n={},r=0;r<t.length;r++)n[t[r]]=t[r];e.options=t=n}e.template=e.template||this.Ej(t,e.id,e.optionslist)}},Bj:function(e,t){if(t){delete t.options,t.collection=e,t.template=t.template||this.Dj(e,t.id,t.optionslist);var i=e.data.attachEvent("onStoreUpdated",webix.bind(function(){this.refresh(),this.refreshFilter&&this.refreshFilter(t.id)},this));this.attachEvent("onDestruct",function(){e.$destructed||e.data.detachEvent(i)})}},Ej:function(e,t,i){if(i){var n="string"==typeof i?i:",";return function(i,r){var a=i[t]||i.value;if(!a)return"";for(var o=a.split(n),s=0;s<o.length;s++)o[s]=e[o[s]]||"";return o.join(", ")}}return function(i,n){return e[i[t]]||i.value||""}},Dj:function(e,t,i){if(i){var n="string"==typeof i?i:",";return function(i,r){var a=i[t]||i.value;if(!a)return"";for(var o=a.split(n),s=0;s<o.length;s++){var l=e.data.pull[o[s]];o[s]=l?l.value||"":""}return o.join(", ")}}return function(i,n){var r=i[t]||i.value,a=e.data.pull[r];return a&&(a.value||0===a.value)?a.value:""}}},webix.Undo={$init:function(){this.VA=webix.extend([],webix.PowerArray,!0),this.WA=-1},undo_setter:function(e){return e&&(this.XA(),this.XA=function(){}),e},XA:function(){var e=this;this.attachEvent("onBeforeDrop",function(t){if(t.from==t.to){var i=e.YA=webix.copy(this.getItem(t.start));this.data.branch?i.$index=this.getBranchIndex(i.id):i.$index=this.getIndexById(i.id)}}),this.data.attachEvent("onDataMove",function(t){if(e.YA&&e.YA.id==t){var i=e.YA;e.YA=null,e.ZA(t,i,"move")}}),this.data.attachEvent("onBeforeDelete",function(t){if(this.getItem(t)){var i=e._A=webix.copy(this.getItem(t));this.branch?(i.$index=this.getBranchIndex(t),this.branch[t]&&(i.$branch=webix.copy(this.serialize(t)))):i.$index=this.getIndexById(t)}}),this.data.attachEvent("onDataUpdate",function(t,i,n){e.ZA(t+"",n,"update")}),this.data.attachEvent("onStoreUpdated",function(t,i,n){var r=null;t&&("add"==n?r=webix.copy(i):"delete"==n&&(r=e._A),r&&e.ZA(t,r,n))}),this.data.attachEvent("onIdChange",function(t,i){"object"==typeof t&&(t=t.row);for(var n=0;n<e.VA.length;n++)e.VA[n].id==t&&(e.VA[n].id=i)})},ZA:function(e,t,i){!this.aB&&this.s.undo&&(this.VA.push({id:e,action:i,data:t}),20==this.VA.length&&this.VA.splice(0,1),this.bB||(this.WA=this.VA.length-1))},ignoreUndo:function(e,t){this.aB=!0,e.call(t||this),this.aB=!1},removeUndo:function(e){for(var t=this.VA.length-1;t>=0;t--)this.VA[t].id==e&&("id"==this.VA[t].action&&(e=this.VA[t].data),this.VA.removeAt(t));this.WA=this.VA.length-1},undo:function(e){if(e)this.ignoreUndo(function(){var t,i;for(i=this.VA.length-1;!t&&i>=0;i--)this.VA[i].id==e&&(t=this.VA[i]);t&&(this.cB(t),this.VA.removeAt(i+1),this.WA=this.VA.length-1)});else{var t=this.VA[this.WA];t&&(this.ignoreUndo(function(){this.cB(t),this.VA.removeAt(this.WA)}),this.WA--)}},cB:function(e){if("delete"==e.action){var t=null,i=e.data.$parent;e.data.$branch&&(t={parent:e.id,data:webix.copy(e.data.$branch)},delete e.data.$branch,i&&!this.data.branch[i]&&(i=0)),this.add(e.data,e.data.$index,i),t&&this.parse(t)}else"add"==e.action?this.remove(e.id):"update"==e.action?this.updateItem(e.id,e.data):"move"==e.action&&(e.data.$parent?this.getItem(e.data.$parent)&&this.move(e.id,e.data.$index,null,{parent:e.data.$parent}):this.move(e.id,e.data.$index))}},webix.DataLoader=webix.proto({$init:function(e){e=e||"",this.Ve=webix.toArray(),this.$e={},this.data=new webix.DataStore,this.data.attachEvent("onClearAll",webix.bind(this.We,this)),this.data.attachEvent("onServerConfig",webix.bind(this.Xe,this)),this.attachEvent("onDestruct",this.We),this.data.feed=this.Ye,this.data.owner=e.id},Ye:function(e,t,i){return this.Ze?this.Ze=[e,t,i]:(this.Ze=!0,this.$e.from=e,this.$e.count=t,void this._e.call(this,e,t,i))},_e:function(e,t,i,n,r){var a=null,n=n||this.data.url,o=[{success:this.af,error:this.af},i];if(0>e&&(e=0),r||(r={start:e,count:t}),this.count()&&(r.continue="true"),this.getState&&(a=this.getState()),n&&"string"!=typeof n)a&&(a.sort&&(r.sort=a.sort),a.filter&&(r.filter=a.filter)),this.load(n,o,r);else{n+=-1==n.indexOf("?")?"?":"&";var s=[];for(var l in r)s.push(l+"="+r[l]);if(a&&(a.sort&&s.push("sort["+a.sort.id+"]="+encodeURIComponent(a.sort.dir)),a.filter))for(var u in a.filter){var c=a.filter[u];"object"==typeof c&&(c=webix.ajax().stringify(c)),s.push("filter["+u+"]="+encodeURIComponent(c))}n+=s.join("&"),this.$e.url!==n?(this.$e.url=n,this.load(n,o)):this.Ze=!1}},af:function(){var e=this.Ze;this.Ze=!1,"object"==typeof e&&this.data.feed.apply(this,e)},load:function(e,t){var e=webix.proxy.$parse(e),i=webix.AtomDataLoader.load.apply(this,arguments);return this.data.url||(this.data.url=e),i},loadNext:function(e,t,i,n,r){var a=this.s;return a.datathrottle&&!r?(this.bf&&window.clearTimeout(this.bf),void(this.bf=webix.delay(function(){this.loadNext(e,t,i,n,!0)},this,0,a.datathrottle))):(t||0===t||(t=this.count()),e||(e=a.datafetch||this.count()),this.data.url=this.data.url||n,void(this.callEvent("onDataRequest",[t,e,i,n])&&this.data.url&&this.data.feed.call(this,t,e,i)))},cf:function(e,t){var i=this.$e;return!!(this.Ze&&i.url&&i.from<=t&&i.count+i.from>=e+t)},removeMissed_setter:function(e){return this.data.ff=e},gf:function(){var e=this.s.save;e===!0&&(e=this.s.save=this.s.url);var t={master:this};e&&e.url?webix.extend(t,e):t.url=e,webix.dp(t)},save_setter:function(e){return e&&this.$ready.push(this.gf),e},scheme_setter:function(e){this.data.scheme(e)},dataFeed_setter:function(e){return e=webix.proxy.$parse(e),this.data.attachEvent("onBeforeFilter",webix.bind(function(e,t){if("function"==typeof e)return!0;if(this.s.dataFeed&&(e||t)){e=e||"id",t&&"object"==typeof t&&(t=t.id),this.clearAll();var i=this.s.dataFeed;if("function"==typeof i){var n={};n[e]=t,i.call(this,t,n)}else if(i.$proxy){if(i.load){var r={};r[e]=t,i.load(this,{success:this.M,error:this.N},{filter:r})}}else{var a="filter["+e+"]="+encodeURIComponent(t);this.load(i+(i.indexOf("?")<0?"?":"&")+a,this.s.datatype)}return!1}},this)),e},ef:function(){if(this.s.ready&&!this.hf){var e=webix.toFunctor(this.s.ready,this.$scope);e&&webix.delay(e,this,arguments),this.callEvent&&webix.delay(this.callEvent,this,["onReady",[]]),this.hf=!0}},We:function(e){for(var t=0;t<this.Ve.length;t++){var i=this.Ve[t];try{i.aborted=!0}catch(e){webix.ly.push(i)}i.abort()}e||(this.Ze=!1,this.$e={},this.Ve=webix.toArray(),this.waitData=webix.promise.defer())},Xe:function(e){this.C(e)}},webix.AtomDataLoader),webix.ly=webix.toArray(),webix.DataMarks={addCss:function(e,t,i){if(!this.addRowCss&&!i&&!this.hasCss(e,t)){var n=this.getItemNode(e);n&&(n.className+=" "+t,i=!0)}return this.data.addMark(e,t,1,1,i)},removeCss:function(e,t,i){if(!this.addRowCss&&!i&&this.hasCss(e,t)){var n=this.getItemNode(e);n&&(n.className=n.className.replace(t,"").replace("  "," "),i=!0)}return this.data.removeMark(e,t,1,i)},hasCss:function(e,t){return this.data.getMark(e,t)},clearCss:function(e,t){return this.data.clearMark(e,1,t)}},webix.DataStore=function(){this.name="DataStore",webix.extend(this,webix.EventSystem),this.setDriver("json"),this.pull={},this.order=webix.toArray(),this.Me={}},webix.DataStore.prototype={setDriver:function(e){this.driver=webix.DataDriver[e]},df:function(e,t){this.callEvent("onParse",[this.driver,e]),this.jf&&this.filter();var i=this.driver.getInfo(e);i.key&&(webix.securityKey=i.key),i.config&&this.callEvent("onServerConfig",[i.config]);var n=this.driver.getOptions(e);n&&this.callEvent("onServerOptions",[n]);var r=this.driver.getRecords(e);this.kf(i,r),this.lf&&this.mf&&!this.nf&&this.mf(this.lf),this.of&&(this.blockEvent(),this.sort(this.of),this.unblockEvent()),this.callEvent("onStoreLoad",[this.driver,e]),this.refresh()},kf:function(e,t){var i=e.from,n=!0,r=!1;if(!i&&0!==i&&this.order[0]){if(this.ff){r={};for(var a=0;a<this.order.length;a++)r[this.order[a]]=!0}n=!1,i=this.order.length}else i=1*(i||0);for(var o=0,a=0;a<t.length;a++){var s=this.driver.getDetails(t[a]),l=this.id(s);this.pull[l]?n&&this.order[o+i]&&o++:(this.order[o+i]=l,o++),this.pull[l]?(webix.extend(this.pull[l],s,!0),this.pf&&this.pf(this.pull[l]),r&&delete r[l]):(this.pull[l]=s,this.qf&&this.qf(s))}if(r){this.blockEvent();for(var u in r)this.remove(u);this.unblockEvent()}this.order[e.size-1]||(this.order[e.size-1]=webix.undefined)},id:function(e){return e.id||(e.id=webix.uid())},changeId:function(e,t){e!=t&&(this.pull[e]&&(this.pull[t]=this.pull[e]),this.pull[t].id=t,this.order[this.order.find(e)]=t,this.jf&&(this.jf[this.jf.find(e)]=t),this.Me[e]&&(this.Me[t]=this.Me[e],delete this.Me[e]),this.callEvent("onIdChange",[e,t]),this.Ke&&this.Ke(e,t),delete this.pull[e])},getItem:function(e){return this.pull[e]},updateItem:function(e,t,i){"object"==typeof e&&(e=e.toString());var n=this.getItem(e),r=null,a=this.hasEvent("onDataUpdate");webix.isUndefined(t)||n===t||(a&&(r=webix.copy(n)),e=n.id,webix.extend(n,t,!0),n.id=e),this.pf&&this.pf(n),this.callEvent("onStoreUpdated",[e,n,i||"update"]),a&&this.callEvent("onDataUpdate",[e,n,r])},refresh:function(e){this.rf||(e?this.exists(e)&&this.callEvent("onStoreUpdated",[e,this.pull[e],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(e,t){this.rf=!0,e.call(t||this),this.rf=!1},getRange:function(e,t){if(e=e?this.getIndexById(e):this.$min||this.startOffset||0,t?t=this.getIndexById(t):(t=0===this.$max?0:Math.min(this.$max?this.$max-1:this.endOffset||1/0,this.count()-1),0>t&&(t=0)),e>t){var i=t;t=e,e=i}return this.getIndexRange(e,t)},getIndexRange:function(e,t){t=Math.min(0===t?0:t||1/0,this.count()-1);for(var i=webix.toArray(),n=e||0;t>=n;n++)i.push(this.getItem(this.order[n]));return i},count:function(){return this.order.length},exists:function(e){return!!this.pull[e]},move:function(e,t){if(e!=t){var i=this.getIdByIndex(e),n=this.getItem(i);this.jf&&this.sf(this.jf,0,0,this.getIdByIndex(e),this.getIdByIndex(t)),this.sf(this.order,e,t),this.callEvent("onStoreUpdated",[i,n,"move"])}},sf:function(e,t,i,n,r){if(n||r){t=i=-1;for(var a=0;a<e.length;a++)e[a]==n&&0>t&&(t=a),e[a]==r&&0>i&&(i=a)}var o=e[t];e.removeAt(t),e.insertAt(o,Math.min(e.length,i))},scheme:function(e){this.tf={},this.uf=e.$save,this.qf=e.$init||e.$change,this.pf=e.$update||e.$change,this.vf=e.$serialize,this.lf=e.$group,this.of=e.$sort;for(var t in e)"$"!=t.substr(0,1)&&(this.tf[t]=e[t])},importData:function(e,t){var i=e?e.data||e:[];if(this.jf=null,"function"==typeof i.serialize){if(this.order=webix.toArray([].concat(i.order)),this.OF){this.OF=!1;var n=this.pull;this.pull={};for(var r in i.pull){var a=n[r];this.pull[r]=webix.copy(i.pull[r]),a&&a.open&&(this.pull[r].open=!0)}}else this.pull=i.pull;i.branch&&this.branch&&(this.branch=webix.copy(i.branch),this.Mg=null)}else{this.order=webix.toArray(),this.pull={};var o,s;if(webix.isArray(e))for(var r=0;r<e.length;r++)s=o=e[r],"object"==typeof s?s.id=s.id||webix.uid():s={id:o,value:o},this.order.push(s.id),this.qf&&this.qf(s),this.pull[s.id]=s;else for(var r in i)this.order.push(r),this.pull[r]={id:r,value:i[r]}}if(this.Pg&&!i.branch){this.branch={0:[]},this.Og||this.Lg("data");for(var l=0;l<this.order.length;l++){var r=this.order[l];this.Pg(this.pull[r],0,0,!1)}}this.callEvent("onStoreLoad",[]),t||this.callEvent("onStoreUpdated",[])},sync:function(e,t,i){this.unsync();var n=typeof e;if("string"==n&&(e=webix.$$(e)),"function"!=n&&"object"!=n&&(i=t,t=null),"DataStore"!=e.name){if(!e.data||"DataStore"!==e.data.name&&"TreeStore"!==e.data.name)return this.Ts=e,webix.callEvent("onSyncUnknown",[this,e,t]);e=e.data}var r=webix.bind(function(n,r,a){this.wf||(t&&this.branch&&(this.OF=!0),this.importData(e,!0),t&&this.silent(t),this.Y&&this.Y(),this.OF,n&&r&&a||(this.Me={}),"delete"==a&&this.Me[n]&&delete this.Me[n],this.callEvent("onSyncApply",[]),i?i=!1:this.refresh())},this);this.ab=[e.attachEvent("onStoreUpdated",r),e.attachEvent("onIdChange",webix.bind(function(e,t){this.changeId(e,t),this.refresh(t)},this))],this.Ts=e,this.Us=this.attachEvent("onStoreUpdated",function(t,i,n){("update"==n||"save"==n)&&(this.wf=1,e.updateItem(t,i),this.wf=0)}),r()},unsync:function(){if(this.Ts){var e=this.Ts;if("DataStore"==e.name||e.data&&"DataStore"==e.data.name){for(var t=0;t<this.ab.length;t++)e.detachEvent(this.ab[t]);this.detachEvent(this.Us)}else webix.callEvent("onUnSyncUnknown",[this,e]);this.Ts=null}},destructor:function(){this.unsync(),this.pull=this.order=this.Me=null,this.i=this.j={}},add:function(e,t){if(this.tf)for(var i in this.tf)webix.isUndefined(e[i])&&(e[i]=this.tf[i]);this.qf&&this.qf(e);var n=this.id(e),r=arguments[2]||this.order,a=r.length;if((webix.isUndefined(t)||0>t)&&(t=a),t>a&&(t=Math.min(r.length,t)),this.callEvent("onBeforeAdd",[n,e,t])===!1)return!1;if(this.pull[n]=e,r.insertAt(n,t),this.jf){var o=this.jf.length;this.order.length&&(o=Math.min(t||0,o)),this.jf.insertAt(n,o)}return this.callEvent("onStoreUpdated",[n,e,"add"]),this.callEvent("onAfterAdd",[n,t]),e.id},remove:function(e){if(webix.isArray(e))for(var t=0;t<e.length;t++)this.remove(e[t]);else{if(this.callEvent("onBeforeDelete",[e])===!1)return!1;var i=this.getItem(e);this.order.remove(e),this.jf&&this.jf.remove(e),delete this.pull[e],this.Me[e]&&delete this.Me[e],this.callEvent("onStoreUpdated",[e,i,"delete"]),this.callEvent("onAfterDelete",[e])}},clearAll:function(e){this.pull={},this.Me={},this.order=webix.toArray(),this.jf=null,e||(this.url=null),this.callEvent("onClearAll",[e]),this.refresh()},getIdByIndex:function(e){return this.order[e]},getIndexById:function(e){var t=this.order.find(e);return this.pull[e]?t:-1},getNextId:function(e,t){return this.order[this.getIndexById(e)+(t||1)]},getFirstId:function(){return this.order[0]},getLastId:function(){return this.order[this.order.length-1]},getPrevId:function(e,t){return this.order[this.getIndexById(e)-(t||1)]},sort:function(e,t,i){var n=e;"function"==typeof e?n={as:e,dir:t}:"string"==typeof e&&(n={by:e.replace(/#/g,""),dir:t,as:i});var r=[n.by,n.dir,n.as,n];this.callEvent("onBeforeSort",r)&&(this.order=this.xf(n,this.order),this.jf&&this.jf.length!=this.order.length&&(this.jf=this.xf(n,this.jf)),this.refresh(),this.callEvent("onAfterSort",r))},xf:function(e,t){var i=this.sorting.create(e);if(this.order.length){for(var n=t.splice(0,this.$freeze),r=webix.toArray(),a=t.length-1;a>=0;a--)r[a]=this.pull[t[a]];return r.sort(i),webix.toArray(n.concat(r.map(function(e){return this.id(e)},this)))}return t},Af:function(e){this.jf&&!e&&(this.order=this.jf,delete this.jf)},Bf:function(e,t,i){for(var n=webix.toArray(),r=this.$freeze||0,a=0;a<this.order.length;a++){var o=this.order[a];(r>a||e(this.getItem(o),t))&&n.push(o)}i&&this.jf||(this.jf=this.order),this.order=n},find:function(e,t){var i=[];for(var n in this.pull){var r=this.pull[n],a=!0;if("object"==typeof e){for(var o in e)if(r[o]!=e[o]){a=!1;break}}else e(r)||(a=!1);if(a&&i.push(r),t&&i.length)return i[0]}return i},filter:function(e,t,i){if((e||this.jf||this.Mg)&&this.callEvent("onBeforeFilter",[e,t])&&(this.Af(i),this.order.length)){if(e){var n=e;t=t||"","string"==typeof e&&(e=e.replace(/#/g,""),"function"==typeof t?n=function(i){return t(i[e])}:(t=t.toString().toLowerCase(),n=function(t,i){return-1!=(t[e]||"").toString().toLowerCase().indexOf(i)})),this.Bf(n,t,i,this.Cf)}this.refresh(),this.callEvent("onAfterFilter",[])}},Df:function(){for(var e=[],t=this.order.length-1;t>=0;t--)e[t]=this.pull[this.order[t]];return e},each:function(e,t,i){var n=this.order;i&&(n=this.jf||n);for(var r=0;r<n.length;r++)n[r]&&e.call(t||this,this.getItem(n[r]),r)},Ef:function(e,t){return function(){return e[t].apply(e,arguments)}},provideApi:function(e,t){t&&this.mapEvent({onbeforesort:e,onaftersort:e,onbeforeadd:e,onafteradd:e,onbeforedelete:e,onafterdelete:e,ondataupdate:e});for(var i=["sort","add","remove","exists","getIdByIndex","getIndexById","getItem","updateItem","refresh","count","filter","find","getNextId","getPrevId","clearAll","getFirstId","getLastId","serialize","sync"],n=0;n<i.length;n++)e[i[n]]=this.Ef(this,i[n])},addMark:function(e,t,i,n,r){var a=this.Me[e]||{};if(this.Me[e]=a,!a[t]){if(a[t]=n||!0,i){var o=a.$css||"";a.$css=o+" "+t}r||this.refresh(e)}return a[t]},removeMark:function(e,t,i,n){var r=this.Me[e];if(r){if(r[t]&&delete r[t],i){var a=r.$css;a&&(r.$css=a.replace(t,"").replace("  "," "))}n||this.refresh(e)}},getMark:function(e,t){var i=this.Me[e];return!!i&&i[t]},clearMark:function(e,t,i){for(var n in this.Me){var r=this.Me[n];r[e]&&(delete r[e],t&&r.$css&&(r.$css=r.$css.replace(e,"").replace("  "," ")),i||this.refresh(n))}},serialize:function(e){var t=this.order;e&&this.jf&&(t=this.jf);for(var i=[],n=0;n<t.length;n++){var r=this.pull[t[n]];this.vf&&(r=this.vf(r),r===!1)||i.push(r)}return i},sorting:{create:function(e){return this.Ff(e.dir,this.Gf(e.by,e.as))},as:{server:function(){return!1},date:function(e,t){return e-=0,t-=0,e>t?1:t>e?-1:0},int:function(e,t){return e*=1,t*=1,e>t?1:t>e?-1:0},string_strict:function(e,t){return e=e.toString(),t=t.toString(),e>t?1:t>e?-1:0},string:function(e,t){return t?e?(e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),e>t?1:t>e?-1:0):-1:1},raw:function(e,t){return e>t?1:t>e?-1:0}},Gf:function(e,t){return e?("function"!=typeof t&&(t=this.as[t||"string"]),function(i,n){return t(i[e],n[e])}):t},Ff:function(e,t){return"asc"!=e&&e?function(e,i){return-1*t(e,i)}:t}}},webix.DataCollection=webix.proto({name:"DataCollection",isVisible:function(){return!!(this.data.order.length||this.data.jf||this.s.dataFeed)},$init:function(e){this.data.provideApi(this,!0);var t=e&&e.id?e.id:webix.uid();this.s.id=t,webix.ui.views[t]=this,this.data.attachEvent("onStoreLoad",webix.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},webix.DataMove,webix.CollectionBind,webix.BindSource,webix.ValidateCollection,webix.DataLoader,webix.MapCollection,webix.EventSystem,webix.BaseBind,webix.Destruction,webix.Settings),webix.Scrollable={$init:function(e){return e&&!e.scroll&&this.If?this.y=this.y||this.w:((this.y||this.w).appendChild(webix.html.create("DIV",{class:"webix_scroll_cont"},"")),this.y=(this.y||this.w).firstChild,void(webix.env.touch&&"native"!==webix.env.touch||webix.UE(this.x,"scroll",webix.bind(function(e){this.callEvent&&webix.delay(function(){this.callEvent("onAfterScroll",[])},this)},this))))},scroll_setter:function(e){if(!e)return!1;var t="x"==e?"x":"xy"==e?"xy":"a"==e?"xy":"y";if(webix.Touch&&webix.Touch.$active&&"native"!=webix.env.touch)this.y.setAttribute("touch_scroll",t),this.attachEvent&&this.attachEvent("onAfterRender",webix.bind(this.Jf,this)),this.Kf=!0;else if(webix.env.$customScroll)webix.CustomScroll.enable(this,t);else{var i=this.y.parentNode.style;-1!=e.toString().indexOf("a")?i.overflowX=i.overflowY="auto":(-1!=t.indexOf("x")&&(this.ec=!0,i.overflowX="scroll"),-1!=t.indexOf("y")&&(this.cc=!0,i.overflowY="scroll"))}return t},Lf:function(e){if(!!this.s.scroll!=!!e){if(!webix.env.$customScroll){var t=this.y.parentNode.style;t.overflowX=t.overflowY=e?"auto":"hidden"}this.ec=this.cc=!!e,this.s.scroll=!!e}},getScrollState:function(){if(webix.Touch&&webix.Touch.$active){var e=webix.Touch.Mf(this.y);return{x:-e.e,y:-e.f}}return{x:this.y.parentNode.scrollLeft,y:this.y.parentNode.scrollTop}},scrollTo:function(e,t){webix.Touch&&webix.Touch.$active&&"native"!=webix.env.touch?(t=Math.max(0,Math.min(t,this.y.offsetHeight-this.dc)),e=Math.max(0,Math.min(e,this.y.offsetWidth-this.bc)),webix.Touch.Nf(this.y,-e,-t,this.s.scrollSpeed||"100ms")):(this.y.parentNode.scrollLeft=e,this.y.parentNode.scrollTop=t)},Jf:function(){if(-1!=this.s.scroll.toString().indexOf("x")){var e=this.y.scrollWidth;e&&(this.y.style.width="100%",this.y.style.width=this.y.scrollWidth+"px")}if(webix.Touch&&webix.Touch.$active&&this.Kf){webix.Touch.Of(),webix.Touch.Pf();var t=this.getScrollState(),i=this.y.offsetWidth-this.$width-t.x,n=this.y.offsetHeight-this.$height-t.y;if(0>i||0>n){var e=0>i?Math.min(-i-t.x,0):-t.x,r=0>n?Math.min(-n-t.y,0):-t.y;webix.Touch.Nf(this.y,e,r,0)}}}},webix.protoUI({defaults:{size:10,page:0,group:5,template:"{common.pages()}",maxWidth:1e5,height:30,borderless:!0},name:"pager",on_click:{webix_pager_item:function(e,t){this.select(t)}},$init:function(e){this.data=this.s,this.y=this.x,this.x.className+=" webix_pager"+(e.autowidth?" webix_pager_auto":""),(e.master===!1||0===e.master)&&this.$ready.push(this.wt)},wt:function(){this.refresh(),this.$master={refresh:function(){},select:function(){}}},select:function(e){if(this.$master&&"pager"==this.$master.name)return this.$master.select(e);switch(e){case"next":e=this.s.page+1;break;case"prev":e=this.s.page-1;break;case"first":e=0;break;case"last":e=this.s.limit-1}0>e&&(e=0),e>=this.data.limit&&(e=this.data.limit-1);var t=this.data.page;this.callEvent("onBeforePageChange",[e,t])&&(this.data.page=1*e,this.refresh()&&(this.s.animate&&this.Qf(t,1*e,this.s.animate)||this.$master.refresh()),this.callEvent("onAfterPageChange",[e]))},ad:"webix_p_id",template_setter:webix.template,type:{template:function(e,t){return e.template.call(this,e,t)},pages:function(e){var t="";if(-1==e.page)return"";e.$min=e.page-Math.round((e.group-1)/2),e.$max=e.$min+1*e.group-1,e.$min<0&&(e.$max+=-1*e.$min,e.$min=0),e.$max>=e.limit&&(e.$min-=Math.min(e.$min,e.$max-e.limit+1),e.$max=e.limit-1);for(var i=e.$min||0;i<=e.$max;i++)t+=this.button({id:i,index:i+1,selected:i==e.page?"_selected":"",label:webix.i18n.aria.page+" "+(i+1)});return t},page:function(e){return e.page+1},first:function(){return this.button({id:"first",index:webix.locale.pager.first,selected:"",label:webix.i18n.aria.pages[0]})},last:function(){return this.button({id:"last",index:webix.locale.pager.last,selected:"",label:webix.i18n.aria.pages[3]})},prev:function(){return this.button({id:"prev",index:webix.locale.pager.prev,selected:"",label:webix.i18n.aria.pages[1]})},next:function(){return this.button({id:"next",index:webix.locale.pager.next,selected:"",label:webix.i18n.aria.pages[2]})},button:webix.template("<button type='button' webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>")},clone:function(e){e.$view||(e.view="pager",e=webix.ui(e)),this.Rf=e,e.$master=this,this.Sf()},refresh:function(){var e=this.s;if(e.count){e.limit=Math.ceil(e.count/e.size);var t=Math.min(e.limit-1,e.page);return t!=e.page?this.$master.setPage(t):(e.page=t,t>=0&&t!=e.old_page||e.limit!=e.old_limit||e.old_count!=e.count?(this.render(),this.Sf(),e.old_limit=e.limit,e.old_page=e.page,e.old_count=e.count,!0):void 0)}},apiOnly_setter:function(e){return this.$apiOnly=e},Sf:function(){this.Rf&&(this.Rf.s.count=this.s.count,this.Rf.s.page=this.s.page,this.Rf.refresh())},Qf:function(e,t,i){if(e==t)return!1;if(this.Tf)return this.Uf&&window.clearTimeout(this.Uf),this.Uf=webix.delay(this.Qf,this,[e,t,i],100);var n=t>e?"left":"right";("top"==i.direction||"bottom"==i.direction)&&(n=t>e?"top":"bottom"),i.flip&&(n="");var r=0,a=this.$master.y,o=!!this.$master.Vf;o&&(a=this.$master.Vf,r=a.offsetTop,webix.html.addCss(this.$master.$view,"webix_animation"));var s=a.cloneNode(!0);s.style.width=a.style.width="100%",this.$master.refresh(),webix.html.insertBefore(s,a.nextSibling,a.parentNode),o&&(s.childNodes[1].scrollLeft=a.childNodes[1].scrollLeft);var l,u=i!==!0?i:{},c=webix.extend({direction:n,callback:webix.bind(function(){c.callback=null,webix.animate.breakLine(l),this.Tf=!1,this.$master.Vf&&webix.html.removeCss(this.$master.$view,"webix_animation")},this),top:r,keepViews:o},u);l=webix.animate.formLine(a,s,c),webix.animate([a,s],c),this.Tf=!0}},webix.MouseEvents,webix.SingleRender,webix.ui.view,webix.EventSystem),webix.locale.pager={first:" &lt;&lt; ",last:" &gt;&gt; ",next:" &gt; ",prev:" &lt; "},webix.PagingAbility={pager_setter:function(e){function t(i){if(e.config.autosize&&this.getVisibleCount){var n=this.getVisibleCount();isNaN(n)?(e.config.size=1,webix.delay(t,this,[!0])):n!=e.config.size&&(e.config.size=n,e.refresh(),i===!0&&this.refresh())}var r=this.s.pager;return-1!=r.page&&(this.data.$min=this.sy(0,r.page*r.size),this.data.$max=this.sy(this.data.$min,r.size),this.data.$pagesize=this.data.$max-this.data.$min,!0)}if("string"==typeof e){var i=webix.$$(e);if(!i)return this.$blockRender=!0,webix.delay(function(){var t=webix.$$(e);this.s.pager=this.pager_setter(t);var i=t.s;i.count=this.data.ty(i.level),t.refresh(),this.$blockRender=!1,this.render()},this),null;e=i}return this.attachEvent("onBeforeRender",t),e.$view||(e.view="pager",e=webix.ui(e)),this.Wf=e,e.$master=this,this.data.attachEvent("onStoreUpdated",function(){var t=e.s;t.count=this.ty(t.level),e.refresh()}),this.data.ty=this.ty,e.s},ty:function(e){if(e&&0!==e){var t=0;return this.each(function(i){i.$level==e&&t++}),t}return this.count()},sy:function(e,t){var i=this.s.pager;if(i.level&&0!==i.level){var n=e,r=this.data.order.length;if(t)for(;r>n;){if(this.data.order[n]&&this.data.getItem(this.data.order[n]).$level==i.level){if(0===t)break;t--}n++}return n}return e+t},setPage:function(e){this.Wf&&this.Wf.select(e)},getPage:function(){return this.Wf.s.page},getPager:function(){return this.Wf}},webix.protoUI({name:"tooltip",defaults:{dy:0,dx:20},$init:function(e){"string"==typeof e&&(e={template:e}),this.type=webix.extend({},this.type),this.$view=this.x=this.w=this.y=webix.html.create("DIV",{role:"alert","aria-atomic":"true"}),this.w.className="webix_tooltip",webix.html.insertBefore(this.w,document.body.firstChild,document.body),this.PF=webix.attachEvent("onClick",webix.bind(function(e){this.gz&&webix.$$(e)!=this&&this.hide()},this)),this.attachEvent("onDestruct",function(){webix.detachEvent(this.PF)})},adjust:function(){},isVisible:function(){return!0},show:function(e,t){if(!this.Xf){if(this.data!=e&&(this.data=webix.extend({},e),this.render(e)),this.y.firstChild){var i=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=i-t.x,a=n-t.y;this.w.style.display="block",r-this.s.dx>this.w.offsetWidth?r=t.x:(r=t.x-2*this.s.dx-this.w.offsetWidth,0>=r&&(r=0)),a=a-this.s.dy>this.w.offsetHeight?t.y:t.y-this.s.dy-this.w.offsetHeight,this.w.style.left=r+this.s.dx+"px",this.w.style.top=a+this.s.dy+"px"}this.gz=!0}},hide:function(){this.data=null,this.w.style.display="none",this.gz=!1},disable:function(){this.Xf=!0},enable:function(){this.Xf=!1},type:{template:webix.template("{obj.id}"),templateStart:webix.template.empty,templateEnd:webix.template.empty}},webix.SingleRender,webix.Settings,webix.EventSystem,webix.ui.view),webix.AutoTooltip={tooltip_setter:function(e){if(e){"function"==typeof e&&(e={template:e});var t=!e.template,i=new webix.ui.tooltip(e);this.Vc();var n=this.attachEvent("onMouseMove",function(e,n){if(this.DA=n.clientX,this.EA=n.clientY,this.getColumnConfig){var r=i.type.column=this.getColumnConfig(e.column);if(t){if(!r.tooltip&&r.tooltip!=webix.undefined)return;var a=n.target||n.srcElements;if(a.getAttribute("webix_area")&&r.tooltip){var o=a.getAttribute("webix_area");i.type.template=function(e,t){var i=e[t.column.id];return webix.template(r.tooltip).call(this,e,t,i[o],o)}}else if(r.tooltip)i.type.template=r.tooltip=webix.template(r.tooltip);else{var s=this.getText(e.row,e.column);i.type.template=function(){return s}}}}webix.DragControl.active||i.show(this.getItem(e.row||e),webix.html.pos(n))}),r=webix.event(document.body,"mousemove",webix.bind(function(e){e=e||event,(this.DA!=e.clientX||this.EA!=e.clientY)&&i.hide()},this));return this.attachEvent("onDestruct",function(){this.config.tooltip&&this.config.tooltip.destructor()}),this.attachEvent("onAfterScroll",function(){i.hide()}),i.attachEvent("onDestruct",webix.bind(function(){this.detachEvent(n),webix.eventRemove(r)},this)),i}}},webix.protoUI({name:"proto",$init:function(){this.data.provideApi(this,!0),this.y=this.y||this.w,this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.render.apply(this,arguments)},this))},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)&&this.render()},ad:"webix_item",on_mouse_move:{},type:{}},webix.PagingAbility,webix.DataMarks,webix.AutoTooltip,webix.ValidateCollection,webix.RenderStack,webix.DataLoader,webix.ui.view,webix.EventSystem,webix.Settings),webix.CodeParser={collapseNames:function(e,t,i){if(i=i||{},t=t||"",!e||"object"!=typeof e)return null;for(var n in e)!e[n]||"object"!=typeof e[n]||webix.isDate(e[n])||webix.isArray(e[n])?i[t+n]=e[n]:webix.CodeParser.collapseNames(e[n],t+n+".",i);return i},expandNames:function(e){var t,i,n,r,a,o={};for(a in e){for(n=a.split("."),i=n.length-1,r=o,t=0;i>t;t++)r[n[t]]||(r[n[t]]={}),r=r[n[t]];r[n[i]]=e[a]}return o}},webix.Values={$init:function(){this.elements={}},focus:function(e){if(e)this.ub(this.elements[e]);else for(var t in this.elements)if(this.ub(this.elements[t]))return!0},ub:function(e){return e&&e.focus?(e.focus(),!0):void 0},setValues:function(e,t){this.s.complexData&&(e=webix.CodeParser.collapseNames(e)),this.Zf(e,t)},Zf:function(e,t){this.Yf=t,this.blockEvent(),t&&this.$f||(this.$f={});for(var i in e)this.elements[i]||(this.$f[i]=e[i]);for(var i in this.elements){var n=this.elements[i];n&&(webix.isUndefined(e[i])?!t&&n.Ce&&n.setValue(""):n.setValue(e[i]),this.$f[i]=n.getValue())}this.unblockEvent(),this.callEvent("onValues",[])},isDirty:function(){return!!this.Yf||1===this.getDirtyValues(1)},setDirty:function(e){this.Yf=e,e||(this.$f=this.hz())},getDirtyValues:function(){var e={};if(this.$f)for(var t in this.elements){var i=this.elements[t].getValue();if(this.$f[t]!=i&&(e[t]=i,arguments[0]))return 1}return e},getCleanValues:function(){return this.$f},getValues:function(e){var t=this.hz(e);return this.s.complexData&&(t=webix.CodeParser.expandNames(t)),t},hz:function(e){var t,i=null,n=this.$f?webix.copy(this.$f):{};for(var r in this.elements)i=this.elements[r],t=!0,e&&("object"==typeof e?(e.hidden===!1&&(t=i.isVisible()),t&&e.disabled===!1&&(t=i.isEnabled())):t=e.call(this,i)),t?n[r]=i.getValue():delete n[r];return n},clear:function(){this.Yf=!1;var e={};for(var t in this.elements)this.elements[t].Ce&&(e[t]=this.elements[t].s.defaultValue||"");this.Zf(e)},markInvalid:function(e,t){if(t===!1)this.Qe(e);else{if("string"==typeof t){var i=this.elements[e];i&&(i.s.invalidMessage=t)}this.Te(e)}},Te:function(e){var t=this.elements[e];if(e&&t){this.Qe(e,!0),webix.html.addCss(t.x,"webix_invalid"),t.s.invalid=!0;
var i=t.s.invalidMessage;"string"==typeof i&&t.setBottomText&&t.setBottomText()}},Qe:function(e,t){var i=this.elements[e];if(e&&i&&i.$view&&i.s.invalid){webix.html.removeCss(i.x,"webix_invalid"),i.s.invalid=!1;var n=i.s.invalidMessage;"string"==typeof n&&!t&&i.setBottomText&&i.setBottomText()}}},webix.protoUI({name:"toolbar",defaults:{type:"toolbar"},Gc:!0,_f:"webix_toolbar",ag:!1,$init:function(e){e.borderless||(this.w.style.borderWidth="1px"),this.w.className+=" "+this._f,this.x.setAttribute("role","toolbar")},Qs:function(){var e=this;e.elements={},webix.ui.each(this,function(t){return t.s.name&&t.getValue&&t.setValue&&(e.elements[t.s.name]=t,t.mapEvent&&t.mapEvent({onbeforetabclick:e,onaftertabclick:e,onitemclick:e,onchange:e})),!t.setValues&&void 0});var t=this.$f;if(this.setDirty(!1),t){var i=this.$f;for(var n in e.elements)t[n]&&i[n]!=t[n]&&(i[n]=t[n],this.setDirty(!0))}},sc:function(){this.Qs()},Bc:function(e){var t=this.s;return t.elements&&!e&&(this.nc=e=t.elements,this.mc=this.ag,delete t.elements),this.s.elementsConfig&&this.eg(this.nc,t.elementsConfig),e},eg:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];webix.extend(n,t);var r=t;n.elementsConfig&&(r=webix.extend(webix.extend({},n.elementsConfig),t));var a;a=n.body?[n.body]:n.rows||n.cols||n.cells||n.body,a&&this.eg(a,r)}},$getSize:function(e,t){var i=webix.ui.layout.prototype.$getSize.call(this,e,t),n=this.getParentView(),r=this.mc?3:1;return n&&this.mc!=n.mc&&(i[r]+=1e5),i},render:function(){},refresh:function(){this.render()}},webix.Scrollable,webix.AtomDataLoader,webix.Values,webix.ui.layout,webix.ValidateData),webix.protoUI({name:"template",$init:function(e){var t=this.fg[e.type];t&&(webix.extend(e,t),e.borderless&&(delete e.Ob,this.hc(e))),this.y==this.x?(this.y=webix.html.create("DIV"),this.y.className=" webix_template",this.x.appendChild(this.y)):this.y.className+=" webix_template",this.attachEvent("onAfterRender",this.hg)},setValues:function(e,t){this.data=t?webix.extend(this.data,e,!0):e,this.render()},getValues:function(){return this.data},$skin:function(){this.fg.header.height=this.fg.section.height=webix.skin.$active.barHeight},fg:{header:{css:"webix_header"},section:{css:"webix_section",borderless:!0},clean:{css:"webix_clean",borderless:!0}},onClick_setter:function(e){return this.on_click=webix.extend(this.on_click||{},e,!0),this.Sc||webix.extend(this,webix.MouseEvents),e},defaults:{template:webix.template.empty},gg:function(){this.ig=!1,this.jg(),this.resize()},jg:function(){this.ig||(this.ig=!0,this.render())},src_setter:function(e){return this.ig=!0,this.callEvent("onBeforeLoad",[])?(webix.ajax(e,webix.bind(function(e){this.s.template=webix.template(e),this.gg(),this.callEvent("onAfterLoad",[])},this)),e):""},hg:function(){this.s.autoheight&&(this.ac=null,this.resize()),this.s.scroll&&-1!=this.s.scroll.indexOf("x")&&(this.y.style.width=this.y.scrollWidth+"px")},content_setter:function(e){e&&(this.ig=!0,this.render=function(){},this.y.appendChild(webix.toNode(e)))},refresh:function(){this.render()},setHTML:function(e){this.s.template=function(){return e},this.refresh()},setContent:function(e){this.y.innerHTML="",this.content_setter(e)},$setSize:function(e,t){if(webix.ui.view.prototype.$setSize.call(this,e,t)){if(this.jg(),this.s.autoheight){var i=this.getTopParentView();clearTimeout(i.kg),i.kg=webix.delay(this.resize,this)}return!0}},$getSize:function(e,t){return this.s.autoheight&&!this.s.type&&(this.s.height=this.lg()),webix.ui.view.prototype.$getSize.call(this,e,t)},lg:function(){var e,t=webix.skin.$active.layoutPadding.space;return this.jg(),this.isVisible()?(this.y.style.height="auto",e=this.y.scrollHeight,this.y.style.height=""):e=webix.html.getTextSize(this.jb(this.data)||this.y.innerHTML,"webix_template",(this.$width||(this.getParentView()?this.getParentView().$width:0))-t).height,e},If:!0},webix.Scrollable,webix.AtomDataLoader,webix.AtomRender,webix.EventSystem,webix.ui.view),webix.protoUI({name:"iframe",$init:function(e){this.y=this.w,this.w.innerHTML="<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\"view_id\")); if (t) t.callEvent(\"onAfterLoad\",[]);' src='about:blank'></iframe>"},load:function(e){this.src_setter(e)},src_setter:function(e){return this.callEvent("onBeforeLoad",[])?(this.getIframe().src=e,e):""},getIframe:function(){return this.w.getElementsByTagName("iframe")[0]},getWindow:function(){return this.getIframe().contentWindow}},webix.ui.view,webix.EventSystem),webix.OverlayBox={showOverlay:function(e){this.mg?this.mg.innerHTML=e:(this.mg=webix.html.create("DIV",{class:"webix_overlay"},e||""),webix.html.insertBefore(this.mg,this.x.firstChild,this.x),this.x.style.position="relative")},hideOverlay:function(){this.mg&&(webix.html.remove(this.mg),this.mg=null)}},webix.protoUI({name:"scrollview",defaults:{scroll:"y",scrollSpeed:"0ms"},$init:function(){this.x.className+=" webix_scrollview"},body_setter:function(e){e.borderless=!0,this.gd=webix.ui.A(e),this.gd.Xb=this,this.y.appendChild(this.gd.x)},getChildViews:function(){return[this.gd]},getBody:function(){return this.gd},resizeChildren:function(){this.ng=this.gd.$getSize(0,0),this.og(),webix.callEvent("onResize",[])},og:function(){var e=(this.Mw||webix.ui.scrollSize,Math.max(this.bc,this.ng[0])),t=Math.max(this.dc,this.ng[2]);if(this.gd.$setSize(e,t),this.y.style.width=this.gd.bc+"px",this.y.style.height=this.gd.dc+"px",webix.env.touch){var i=this.getScrollState(),n=this.gd.dc-this.dc;n<i.y&&this.scrollTo(null,n)}webix.ED&&(webix.ED=!1,this.ng=this.gd.$getSize(0,0),this.og())},$getSize:function(e,t){var i=this.ng=this.gd.$getSize(0,0),n=webix.ui.view.prototype.$getSize.call(this,e,t),r=this.Mw||webix.ui.scrollSize;return"x"==this.s.scroll?(n[2]=Math.max(n[2],i[2])+r,n[3]=Math.min(n[3],i[3])+r):"y"==this.s.scroll&&(n[0]=Math.max(n[0],i[0])+r,n[1]=Math.min(n[1],i[1])+r),n},$setSize:function(e,t){var i=webix.ui.scrollSize;webix.ui.scrollSize=this.Mw||i,(webix.ui.view.prototype.$setSize.call(this,e,t)||webix.ui.QG)&&this.og(),webix.ui.scrollSize=i},scroll_setter:function(e){var t=webix.env.$customScroll;return"string"==typeof e&&0===e.indexOf("native-")&&(this.Mw=17,e=e.replace("native-"),webix.env.$customScroll=!1),e=webix.Scrollable.scroll_setter.call(this,e),webix.env.$customScroll=t,e},Qb:function(e){this.gd.destructor(),this.gd=e,this.gd.Xb=this,this.ed.appendChild(this.gd.x),this.resize()},showView:function(e){var t=webix.$$(e).$view.offsetTop-webix.$$(e).$view.parentNode.offsetTop;this.scrollTo(0,t)}},webix.Scrollable,webix.EventSystem,webix.ui.view),webix.TreeRenderStack={$init:function(){},pg:function(e){var t=this.data.Me[e.id];return this.callEvent("onItemRender",[e]),this.type.templateStart(e,this.type,t)+(e.$template?this.type["template"+e.$template](e,this.type,t):this.type.template(e,this.type,t))+this.type.templateEnd()},qg:function(e){return this.v.innerHTML=this.pg(e),this.v.firstChild},jb:function(e){var t="<div role='presentation' class='webix_tree_branch_"+e.$level+"'>"+this.pg(e);return e.open&&(t+=this.rg(e.id)),t+="</div>"},rg:function(e){var t="",i=this.data.branch[e];if(i){t+="<div role='presentation' class='webix_tree_leaves'>";for(var n=i.length-1,r=0;n>=r;r++){var a=this.getItem(i[r]);this.type.sg[a.$level]=r==n,t+=this.jb(a)}t+="</div>"}return t},render:function(e,t,i){if(webix.TreeRenderStack.tg=this,this.isVisible(this.s.id)&&!this.$blockRender){if(e){var n,r=this.getItem(e);if("add"!=i&&(n=this.getItemNode(e),!n))return;switch(i){case"branch":var a=n.parentNode,o=this.Ne(r);webix.html.insertBefore(o,a),webix.html.remove(a),this.t=null;break;case"paint":case"update":var o=this.t[e]=this.qg(r);webix.html.insertBefore(o,n),webix.html.remove(n);break;case"delete":webix.html.remove(n.parentNode);break;case"add":var s;if(0==r.$parent)s=this.y.firstChild;else if(this.getItem(r.$parent).open&&(s=this.getItemNode(r.$parent))){if(!s.nextSibling){var l=webix.html.create("DIV",{class:"webix_tree_leaves"},"");s.parentNode.appendChild(l)}s=s.nextSibling}if(s){var u=this.data.getNextSiblingId(e);u=this.getItemNode(u),u&&(u=u.parentNode);var o=this.Ne(r);this.t[e]=o.firstChild,webix.html.insertBefore(o,u,s)}break;default:return!1}this.callEvent("onPartialRender",[e,t,i])}else this.callEvent("onBeforeRender",[this.data])&&(this.type.sg=[],this.y.innerHTML=this.rg(0),this.t=null,this.callEvent("onAfterRender",[]));return this.type.sg=0,webix.TreeRenderStack.tg=null,!0}},getItemNode:function(e){if(this.t)return this.t[e];this.t={};for(var t=this.y.getElementsByTagName("DIV"),i=0;i<t.length;i++){var n=t[i].getAttribute(this.ad);n&&(this.t[n]=t[i])}return this.getItemNode(e)},vg:1},webix.SelectionModel={$init:function(){this.wg=webix.toArray(),this.data.attachEvent("onStoreUpdated",webix.bind(this.xg,this)),this.data.attachEvent("onStoreLoad",webix.bind(this.yg,this)),this.data.attachEvent("onAfterFilter",webix.bind(this.zg,this)),this.data.attachEvent("onSyncApply",webix.bind(this.qF,this)),this.data.attachEvent("onIdChange",webix.bind(this.Ag,this)),this.$ready.push(this.uy)},uy:function(){("multiselect"==this.s.select||this.s.multiselect)&&webix.UE(this.$view,"mousedown",function(e){var t=(e||event).shiftKey;t&&(webix.vy=this,webix.html.addCss(this,"webix_noselect",1))})},Ag:function(e,t){for(var i=this.wg.length-1;i>=0;i--)this.wg[i]==e&&(this.wg[i]=t)},zg:function(){for(var e=this.wg.length-1;e>=0;e--)if(this.data.getIndexById(this.wg[e])<0){var t=this.wg[e];this.removeCss(t,"webix_selected",!0),this.wg.splice(e,1),this.callEvent("onSelectChange",[t])}},xg:function(e,t,i){"delete"==i?this.loadBranch?this.qF():this.wg.remove(e):e||this.data.count()||this.data.jf||(this.wg=webix.toArray())},yg:function(){this.s.select&&this.data.each(function(e){e&&e.$selected&&this.select(e.id)},this)},qF:function(){for(var e=this.wg.length-1;e>=0;e--)this.exists(this.wg[e])||this.wg.splice(e,1)},Bg:function(e,t,i,n){var r=t?"onBeforeSelect":"onBeforeUnSelect";if(!this.callEvent(r,[e,t]))return!1;n&&(this.Dg=!0,this.unselectAll(),this.Dg=!1),t?this.addCss(e,"webix_selected",!0):this.removeCss(e,"webix_selected",!0),i?i.push(e):(t?this.wg.push(e):this.wg.remove(e),this.Cg(e));var r=t?"onAfterSelect":"onAfterUnSelect";return this.callEvent(r,[e]),!0},select:function(e,t){var i=arguments[2],n=arguments[3];if(!e)return this.selectAll();if(!webix.isArray(e)){if(n&&this.wg.length)return this.selectAll(this.wg[this.wg.length-1],e);var r=!1;return i||t||1==this.wg.length&&this.wg[0]==e||(r=!0),!r&&this.isSelected(e)?void(i&&this.unselect(e)):void this.Bg(e,!0,null,r)}for(var a=0;a<e.length;a++)this.select(e[a],a?1:t,i,n)},unselect:function(e){return e?void(this.isSelected(e)&&this.Bg(e,!1)):this.unselectAll()},selectAll:function(e,t){var i,n=[];i=e||t?this.data.getRange(e||null,t||null):this.data.getRange(),i.each(function(e){this.data.getMark(e.id,"webix_selected")||(this.wg.push(e.id),this.Bg(e.id,!0,n))},this),this.Cg(n)},unselectAll:function(){var e=[];this.wg.each(function(t){this.Bg(t,!1,e)},this),this.wg=webix.toArray(),this.Cg(e)},isSelected:function(e){return-1!=this.wg.find(e)},getSelectedId:function(e){switch(this.wg.length){case 0:return e?[]:"";case 1:return e?[this.wg[0]]:this.wg[0];default:return[].concat(this.wg)}},getSelectedItem:function(e){var t=this.getSelectedId(!0);if(t.length>1||e){for(var i=t.length-1;i>=0;i--)t[i]=this.getItem(t[i]);return t}return t.length?this.getItem(t[0]):void 0},Eg:function(e){return e.length>100||e.length>this.data.count/2},Cg:function(e){if("object"!=typeof e&&(e=[e]),e.length){if(this.Eg(e))this.data.refresh();else for(var t=0;t<e.length;t++)this.render(e[t],this.data.getItem(e[t]),"update");this.Dg||this.callEvent("onSelectChange",[e])}}},webix.ready(function(){webix.event(document.body,"mouseup",function(e){webix.vy&&(webix.html.removeCss(webix.vy,"webix_noselect"),webix.vy=null)})}),webix.TreeDataMove={$init:function(){},copy:function(e,t,i,n){return n=n||{},n.copy=!0,this.move(e,t,i,n)},Kd:function(e,t,i){if(t&&e){var n=this.getBranchIndex(e);return n+(i==this&&i.getBranchIndex(t)<n?0:1)}},Lt:function(e,t){var i=this.data.branch[e];if(i&&i.length)for(var n=0;n<i.length;n++){if(i[n]==t)return!0;if(this.Lt(i[n],t))return!0}return!1},move:function(e,t,i,n){n=n||{},t=t||0;var r=n.newId||e,a=n.parent||0;if(i=i||this,i.data){if(!webix.isArray(e)){if(this!=i||n.copy){if(r=i.data.add(i.Jd(this.getItem(e),r),t,a||0),this.data.branch[e]&&i.getBranchIndex){var o=this.data.vf;this.data.vf=function(e){var t=webix.copy(e);return delete t.$parent,delete t.$level,delete t.$child,i.data.pull[t.id]&&(t.id=webix.uid()),t};var s={data:this.serialize(e,!0),parent:r};this.data.vf=o,i.parse(s)}n.copy||this.data.remove(e)}else{if(e==a||this.Lt(e,a))return;var l=this.getItem(e),u=this.data.branch[a];u||(u=this.data.branch[a]=[]);var c=this.data.branch[l.$parent],d=webix.PowerArray.find.call(c,e);if(0>t&&(t=u.length),c===u&&t===d)return;if(webix.PowerArray.removeAt.call(c,d),webix.PowerArray.insertAt.call(u,e,Math.min(u.length,t)),c.length||delete this.data.branch[l.$parent],l.$parent&&"0"!=l.$parent&&this.getItem(l.$parent).$count--,a&&"0"!=a){var h=i.getItem(a);h.$count++,this.Fg(l,h.$level+1)}else this.Fg(l,1);l.$parent=a,i.data.callEvent("onDataMove",[e,t,a,u[t+1]])}return this.refresh(),r}for(var f=0;f<e.length;f++){var p=this.move(e[f],t,i,n);t=i.Kd(p,e[f+1],this)}}},Fg:function(e,t){e.$level=t;var i=this.data.branch[e.id];if(i)for(var n=0;n<i.length;n++)this.Fg(this.getItem(i[n]),t+1)},Gg:function(e){e&&!e.header&&this.open(e)},$dropAllow:function(e){if(e.from!=e.to)return!0;for(var t=0;t<e.source.length;t++)if(e.source==e.target||this.Lt(e.source,e.target))return!1;return!0},Jd:function(e,t){var i=webix.DataMove.Jd.call(this,e,t);return delete i.open,i}},webix.TreeDataLoader={$init:function(){this.data.attachEvent("onStoreUpdated",webix.bind(this.Hg,this),null,!0),this._e=this.Ig},Ig:function(e,t,i,n){var r=0===t?{parent:encodeURIComponent(e)}:null;webix.DataLoader.prototype._e.call(this,e,t,i,n,r)},loadBranch:function(e,t,i){e=e||0,this.data.url=i||this.data.url,this.callEvent("onDataRequest",[e,t,this.data.url])&&this.data.url&&this.data.feed.call(this,e,0,t,i)},Hg:function(e,t,i){i&&"add"!=i&&"delete"!=i&&"branch"!=i||this.data.Kg(this)}},webix.TreeStore={name:"TreeStore",$init:function(){this.Cf={showSubItems:!0},this.branch={0:[]},this.attachEvent("onParse",function(e,t){this.Lg(e.child),e.getInfo(t).parent}),this.attachEvent("onClearAll",webix.bind(function(){this.Mg=null},this))},filterMode_setter:function(e){return webix.extend(this.Cf,e,!0)},Af:function(e){if(this.Mg&&!e){this.branch=this.Mg,this.order=webix.toArray(webix.copy(this.branch[0]));for(var t in this.branch)"0"!=t&&(this.getItem(t).$count=this.branch[t].length);delete this.Mg}},Bf:function(e,t,i,n){i&&this.Mg||(this.Mg=this.branch,this.branch=webix.clone(this.branch)),this.branch[0]=this.Ng(e,t,this.branch[0],1,n||{})},Ng:function(e,t,i,n,r){for(var a=[],o=r.level&&r.level!=n,s=0;s<i.length;s++){var l=i[s],u=this.getItem(l),c=!1,d=this.branch[l];if(o)c=!0;else if(e(this.getItem(l),t)){if(a.push(l),r.openParents!==!1)for(var h=this.getParentId(l);h&&"0"!=h;)this.getItem(h).open=1,h=this.getParentId(h);if(r.level||r.showSubItems)continue}else c=!0;if((o||!r.level)&&d){var f=this.branch[l]=this.Ng(e,t,d,n+1,r);u.$count=f.length,c&&f.length&&a.push(l)}}return a},count:function(){if(this.order.length)return this.order.length;var e=0;return this.eachOpen(function(){e++}),e},kG:function(e,t,i,n){if(e[i]){for(var r=e[n]=e[i],a=0;a<r.length;a++)this.getItem(r[a]).$parent=n;delete e[i]}if(e[t]){var o=webix.PowerArray.find.call(e[t],i);o>=0&&(e[t][o]=n)}},changeId:function(e,t){if(e!=t){var i=this.getItem(e).$parent;return this.kG(this.branch,i,e,t),this.Mg&&this.kG(this.Mg,i,e,t),webix.DataStore.prototype.changeId.call(this,e,t)}},clearAll:function(e){this.branch={0:[]},webix.DataStore.prototype.clearAll.call(this,e)},getPrevSiblingId:function(e){var t=this.branch[this.getItem(e).$parent],i=webix.PowerArray.find.call(t,e)-1;return i>=0?t[i]:null},getNextSiblingId:function(e){var t=this.branch[this.getItem(e).$parent],i=webix.PowerArray.find.call(t,e)+1;return i<t.length?t[i]:null},getParentId:function(e){return this.getItem(e).$parent},getFirstChildId:function(e){var t=this.branch[e];return t&&t.length?t[0]:null},isBranch:function(e){return!!this.branch[e]},getBranchIndex:function(e){var t=this.branch[this.pull[e].$parent];return webix.PowerArray.find.call(t,e)},Lg:function(e){"string"==typeof e?this.Og=function(t){var i=t[e];return i&&delete t[e],i}:this.Og=e},kf:function(e,t){for(var i=e.parent||0,n=0;n<t.length;n++){var r=this.driver.getDetails(t[n]),a=this.id(r),o=!!this.pull[a];o?(r=webix.extend(this.pull[a],r,!0),this.pf&&this.pf(r)):(this.qf&&this.qf(r),this.pull[a]=r),this.Pg(r,i,0,o,e.from?1*e.from+n:0)}var s=this.pull[i]||{},l=this.branch[i]||[];s.$count=l.length,delete s.webix_kids,e.size&&e.size!=l.length&&(l[e.size-1]=webix.undefined)},Pg:function(e,t,i,n,r){e.$count=0,e.$parent="0"!=t?t:0,e.$level=i||("0"!=t?this.pull[t].$level+1:1);var a=this.branch[e.$parent];if(a||(a=this.branch[e.$parent]=[]),this.Mg&&(this.Mg[e.$parent]=a),!n){var o=r||a.length;a[o]=e.id}var s=this.Og(e);if(e.webix_kids)return e.$count=-1;if(!s)return e.$count=0;webix.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++){var u=webix.DataDriver.json.getDetails(s[l]),c=this.id(u);n=!!this.pull[c],n?(u=webix.extend(this.pull[c],u,!0),this.pf&&this.pf(u)):(this.qf&&this.qf(u),this.pull[c]=u),this.Pg(u,e.id,e.$level+1,n)}var d=this.branch[e.id];d&&(e.$count=d.length)},Kg:function(e){this.order=webix.toArray(),this.Qg(0,e)},Qg:function(e,t){for(var i=this.branch[e],n=0;n<i.length;n++){var r=i[n];this.order.push(r);var a=this.pull[r];a&&a.open&&(-1==a.$count?t.loadBranch(r):a.$count&&this.Qg(r,t))}},provideApi:function(e,t){for(var i=["getPrevSiblingId","getNextSiblingId","getParentId","getFirstChildId","isBranch","getBranchIndex","filterMode_setter"],n=0;n<i.length;n++)e[i[n]]=this.Ef(this,i[n]);e.getIndexById||webix.DataStore.prototype.provideApi.call(this,e,t)},getTopRange:function(){return webix.toArray([].concat(this.branch[0])).map(function(e){return this.getItem(e)},this)},eachChild:function(e,t,i,n){var r=this.branch;n&&this.Mg&&(r=this.Mg);var a=r[e];if(a)for(var o=0;o<a.length;o++)a[o]&&t.call(i||this,this.getItem(a[o]))},each:function(e,t,i,n){this.eachChild(n||0,function(n){var r=this.branch;e.call(t||this,n),i&&this.Mg&&(r=this.Mg),n&&r[n.id]&&this.each(e,t,i,n.id)},this,i)},eachOpen:function(e,t,i){this.eachChild(i||0,function(i){e.call(t||this,i),this.branch[i.id]&&i.open&&this.eachOpen(e,t,i.id)})},eachSubItem:function(e,t){var i=this.branch[e||0];if(i)for(var n=0;n<i.length;n++){var r=i[n];this.branch[r]?(t.call(this,this.getItem(r),!0),this.eachSubItem(r,t)):t.call(this,this.getItem(r),!1)}},eachLeaf:function(e,t){var i=this.branch[e||0];if(i)for(var n=0;n<i.length;n++){var r=i[n];this.branch[r]?this.eachLeaf(r,t):t.call(this,this.getItem(r),!1)}},xf:function(e,t){var i=this.sorting.create(e);for(var n in this.branch){for(var r=this.branch[n],a=[],o=0;o<r.length;o++)a.push(this.pull[r[o]]);a.sort(i);for(var o=0;o<r.length;o++)a[o]=a[o].id;this.branch[n]=a}return t},add:function(e,t,i){var n=!1,r=this.getItem(i||0);if(r&&(this.branch[r.id]||(n=!0),r.$count++,r.$count||(r.$count=1)),this.branch[i||0]=this.order=webix.toArray(this.branch[i||0]),e.$count=0,e.$level=r?r.$level+1:1,e.$parent=r?r.id:0,this.Mg){var a=this.Mg[i||0];if(a||(a=this.Mg[i]=this.order),this.order!==a){var o=a.length;!t&&this.branch[i||0].length&&(o=0),a=webix.toArray(a),e.id=e.id||webix.uid(),a.insertAt(e.id,o)}}var s=webix.DataStore.prototype.add.call(this,e,t);return n&&this.refresh(i),s},Rg:function(e,t){var i=this.pull[e];if(this.branch[i.id]&&this.branch[i.id].length>0)for(var n=this.branch[e],r=0;r<n.length;r++)this.Rg(n[r],!0);delete this.branch[e],this.Mg&&delete this.Mg[e],delete this.pull[e],this.Me[e]&&delete this.Me[e]},Wy:function(e,t,i){var n=e[t];1==n.length&&n[0]==i&&t?delete e[t]:webix.toArray(n).remove(i)},remove:function(e){if(webix.isArray(e))for(var t=0;t<e.length;t++)this.remove(e[t]);else{var i=this.pull[e],n=i.$parent||0;if(this.callEvent("onBeforeDelete",[e])===!1)return!1;this.Rg(e),this.callEvent("onAfterDelete",[e]);var r=this.pull[n];this.Wy(this.branch,n,e),this.Mg&&this.Wy(this.Mg,n,e);var a=0;r&&(r.$count--,r.$count<=0&&(r.$count=0,r.open=0,a=1)),this.callEvent("onStoreUpdated",[e,i,"delete"]),a&&this.refresh(r.id)}},getBranch:function(e){var t=[],i=(this.Mg||this.branch)[e];if(i)for(var n=0;n<i.length;n++)t[n]=this.pull[i[n]];return t},serialize:function(e,t){var i=this.branch;t&&this.Mg&&(i=this.Mg);for(var n=this.branch[e||0],r=[],a=0;a<n.length;a++){var o,s=this.pull[n[a]];if(this.vf){if(o=this.vf(s),o===!1)continue}else o=webix.copy(s);this.branch[s.id]&&(o.data=this.serialize(s.id,t)),r.push(o)}return r}},webix.TreeType={space:function(e,t){for(var i="",n=1;n<e.$level;n++)i+="<div class='webix_tree_none'></div>";return i},icon:function(e,t){return e.$count?e.open?"<div class='webix_tree_open'></div>":"<div class='webix_tree_close'></div>":"<div class='webix_tree_none'></div>"},checkbox:function(e,t){return e.nocheckbox?"":"<input type='checkbox' class='webix_tree_checkbox' "+(e.checked?"checked":"")+(e.disabled?" disabled":"")+">"},folder:function(e,t){return e.icon?"<div class='webix_tree_file webix_tree_"+e.icon+"'></div>":e.$count?e.open?"<div class='webix_tree_folder_open'></div>":"<div class='webix_tree_folder'></div>":"<div class='webix_tree_file'></div>"}},webix.TreeAPI={open:function(e,t){if(e){var i=this.getItem(e);i.$count&&!i.open&&(this.callEvent("onBeforeOpen",[e])&&(i.open=!0,this.data.callEvent("onStoreUpdated",[e,0,"branch"]),this.callEvent("onAfterOpen",[e])),t&&"0"!=e&&this.open(this.getParentId(e),t))}},close:function(e){if(e){var t=this.getItem(e);t.open&&this.callEvent("onBeforeClose",[e])&&(t.open=!1,this.data.callEvent("onStoreUpdated",[e,0,"branch"]),this.callEvent("onAfterClose",[e]))}},openAll:function(e){this.data.eachSubItem(e||0,function(e,t){t&&(e.open=!0)}),this.data.refresh()},closeAll:function(e){this.data.eachSubItem(e||0,function(e,t){t&&(e.open=!1)}),this.data.refresh()},Sg:function(e,t,i){if(this.s.threeState)return this.Tg(e,null!==t?t:"");var n,r=this.getItem(e),a=i?i.target||i.srcElement:null;n=a&&"checkbox"==a.type?!!a.checked:null!==t?t:!r.checked,r.checked=n,this.callEvent("onItemCheck",[e,r.checked,i])},isBranchOpen:function(e){if("0"==e)return!0;var t=this.getItem(e);return!!t.open&&this.isBranchOpen(t.$parent)},getOpenItems:function(){var e=[];for(var t in this.data.branch)this.exists(t)&&this.getItem(t).open&&e.push(t);return e},getState:function(){return{open:this.getOpenItems(),select:this.getSelectedId(!0)}},Ug:function(e,t){var i=this.data.attachEvent("onStoreLoad",function(){e.setState.call(e,t),e.data.detachEvent(i),e=null})},setState:function(e){if(e.open){this.closeAll();for(var t=e.open,i=0;i<t.length;i++){var n=this.getItem(t[i]);if(n&&n.$count&&(n.open=!0,-1==n.$count))return this.Ug(this,e),this.refresh(),0}this.refresh()}if(e.select&&this.select){var r=e.select;this.unselect();for(var i=0;i<r.length;i++)this.exists(r[i])&&this.select(r[i],!0)}return 1}},webix.TreeClick={webix_tree_open:function(e,t){return this.close(t),!1},webix_tree_close:function(e,t){return this.open(t),!1},webix_tree_checkbox:function(e,t){return this.Sg(t,null,e),!1}},webix.TreeCollection=webix.proto({name:"TreeCollection",$init:function(){webix.extend(this.data,webix.TreeStore,!0),this.data.provideApi(this,!0),webix.extend(this,webix.TreeDataMove,!0)}},webix.TreeDataLoader,webix.DataCollection),webix.AutoScroll={ch:function(e,t){var i=1,n=0,r=this.s.dragscroll;"string"==typeof r&&(n=-1!=r.indexOf("x"),i=-1!=r.indexOf("y"));var a=this.Vf||this.$view,o=webix.html.offset(a),s=o.y,l=s+a.offsetHeight,u=o.x,c=u+a.offsetWidth,r=this.getScrollState(),d=!1,h=Math.max(this.type&&!isNaN(parseFloat(this.type.height))?this.type.height+5:0,40);if(i){var f=this.s;if(f.topSplit){var p=this.ug(this.getIdByIndex(f.topSplit-1),this.columnId(0));s+=p.top+p.height}e.y<s+h?(this.WC(r.x,r.y-2*h,e),d=!0):e.y>l-h&&(this.WC(r.x,r.y+2*h,e),d=!0)}n&&(e.x<u+h?(this.WC(r.x-2*h,r.y,e),d=!0):e.x>c-h&&(this.WC(r.x+2*h,r.y,e),d=!0)),d&&(this.bh=webix.delay(this.ch,this,[e],100))},WC:function(e,t,i){this.callEvent("onBeforeAutoScroll",[i])&&this.scrollTo(e,t)}},webix.DragOrder={Vg:!0,$drag:function(e,t){var i=webix.DragItem.$drag.call(this,e,t);if(i){var n=webix.DragControl.getContext();this.getBranchIndex&&(this.Wg=this.Xg?16*this.getItem(n.start).$level:0),n.fragile||this.addCss(n.start,"webix_transparent")}return i},WB:function(e,t){return webix.DragItem.WB(e,t)},$dragPos:function(e,t,i){var n=webix.html.offset(this.$view),r=n.x+(this.Xg?1+this.Wg:1),a=e.y,o=this.s,s="x"==o.layout;s&&(a=n.y+(this.Xg?+n.height-webix.ui.scrollSize-1:1),r=e.x),i.style.display="none";var l=document.elementFromPoint(r,a);if(l!=this.Yg){var u=webix.$$(l);if(u&&u==this){var c=this.locate(l,!0);!c&&webix.DragControl.td&&(c=this.locate(webix.DragControl.td,!0));var d=webix.DragControl.getContext().start;if(this.XC=!0,c){if(c!=this.Yg){if(c!=d){var h,f;this.getBranchIndex?(h={parent:this.getParentId(c)},f=this.getBranchIndex(c)):(h={},f=this.getIndexById(c)),this.callEvent("onBeforeDropOrder",[d,f,t,h])&&(this.move(d,f,this,h),this.Yg=c)}webix.DragControl.Cd=this.w}}else if(c="$webix-last",this.Yg!=c){if(!this.callEvent("onBeforeDropOrder",[d,-1,t,{parent:0}]))return;this.Yg=c}}}if(i.style.display="block",s)if(e.y=n.y,e.x=e.x-18,e.x<n.x)e.x=n.x;else{var p=n.x+this.$view.offsetWidth-60;e.x>p&&(e.x=p)}else if(n.y+=this.$g,e.x=this.Wg||n.x,e.y=e.y-18,e.y<n.y)e.y=n.y;else{var p=n.y+this.$view.offsetHeight-60;e.y>p&&(e.y=p)}this.bh&&(this.bh=window.clearTimeout(this.bh)),this.bh=webix.delay(this.ch,this,[webix.html.pos(t),this.locate(t)||null],250),webix.DragControl.Ed=!0},$dragIn:function(){return!1},$drop:function(e,t,i){this.bh&&(this.XC=null,this.bh=window.clearTimeout(this.bh));var n=webix.DragControl.getContext(),r=n.start;this.removeCss(r,"webix_transparent");var a=this.getIndexById(r);this.callEvent("onAfterDropOrder",[r,a,i]),n.fragile&&this.refresh()}},webix.DragItem={_g:function(e,t,i){t||webix.DragControl.addDrop(e.w,e,!0),i||webix.DragControl.addDrag(e.w,e),this.attachEvent("onDragOut",function(e,t){this.$dragMark(e,t)}),this.attachEvent("onBeforeAutoScroll",function(){var e=webix.DragControl.getContext();return!(!webix.DragControl.sd||!e||e.to!==this&&!this.XC)})},drag_setter:function(e){return e&&(webix.extend(this,webix.AutoScroll,!0),"order"==e&&webix.extend(this,webix.DragOrder,!0),"inner"==e&&(this.ah=!0),this._g(this,"source"==e,"target"==e),delete this.drag_setter),e},$dragIn:function(e,t,i){var n=this.locate(i)||null,r=webix.DragControl.Gd;if((this.ah||r.from.ah)&&r.from!==this)return!1;var a=webix.DragControl.getMaster(t),o=this.getItemNode(n,i)||this.y;return o==webix.DragControl.Dd?o:(r.target=n,r.to=a,this.bh&&(this.bh=window.clearTimeout(this.bh)),this.bh=webix.delay(function(e,t){this.Gg(t),this.ch(e,t)},this,[webix.html.pos(i),n],250),this.$dropAllow(r,i)&&this.callEvent("onBeforeDragIn",[r,i])?(this.$dragMark(r,i),o):(r.to=r.target=null,this.bh&&(this.bh=window.clearTimeout(this.bh)),null))},$dropAllow:function(){return!0},Gg:function(e){},_B:function(e){return e&&"object"==typeof e?e.toString():e},$dragOut:function(e,t,i,n){var r=(this.x.contains(i)?this.locate(n):null)||null,a=webix.DragControl.Gd;return(a.target||"").toString()==(r||"").toString()?null:(this.bh&&(this.XC=null,this.bh=window.clearTimeout(this.bh)),a.target=a.to=null,this.callEvent("onDragOut",[a,n]),null)},$drop:function(e,t,i){this.bh&&(this.bh=window.clearTimeout(this.bh));var n=webix.DragControl.Gd;n.to=this;var r=this._B(n.target);this.getBranchIndex?r&&(n.parent=this.getParentId(r),n.index=this.getBranchIndex(r)):n.index=r?this.getIndexById(r):this.count(),this.$dragMark({},i),n.from&&n.from!=n.to&&n.from.callEvent&&n.from.callEvent("onBeforeDropOut",[n,i]),this.callEvent("onBeforeDrop",[n,i])&&(this.dh(n,i),this.callEvent("onAfterDrop",[n,i]))},dh:function(e,t){if(e.from&&e.from.move){var i={parent:e.parent,mode:e.pos};e.from.move(e.source,e.index,e.to,i)}},WB:function(e,t){if(this.getItemNode){var i=this.locate(t,!0),n=i?this.getItemNode(i):null;return n?webix.html.offset(n):n}},$drag:function(e,t){var i=this.locate(t,!0);if(i){var n=[i];if(this.getSelectedId&&!this.Vg){var r=this.getSelectedId(!0,!0);if(r&&r.length>1&&-1!=webix.PowerArray.find.call(r,i)){for(var a={},n=[],o=0;o<r.length;o++)a[r[o]]=!0;for(var o=0;o<this.data.order.length;o++){var s=this.data.order[o];a[s]&&n.push(s)}}}var l=webix.DragControl.Gd={source:n,start:i};if(l.fragile=this.addRowCss&&webix.env.touch&&(webix.env.isWebKit||webix.env.isFF),l.from=this,this.callEvent("onBeforeDrag",[l,t]))return webix.Touch&&(webix.Touch.km=null),l.html||this.$dragHTML(this.getItem(i),t)}return null},$dragHTML:function(e,t){return this.jb(e)},$dragMark:function(e,t){var i=null;return e.target&&(i=this._B(e.target)),this.eh&&this.eh!=i&&(e.fragile||this.removeCss(this.eh,"webix_drag_over"),this.eh=null),!this.eh&&i?(this.eh=i,e.fragile||this.addCss(i,"webix_drag_over"),i):!!e.to}},webix.Group={$init:function(){webix.extend(this.data,webix.GroupStore),this.data.attachEvent("onClearAll",webix.bind(function(){this.data.nf=this.data.fh=null,this.gh=0},this))},group:function(e){this.data.ungroup(!0),this.data.group(e)},ungroup:function(e){this.data.ungroup(e)}},webix.GroupMethods={sum:function(e,t){t=t||this;for(var i=0,n=0;n<t.length;n++)i+=1*e(t[n]);return i},min:function(e,t){t=t||this;for(var i=1/0,n=0;n<t.length;n++)1*e(t[n])<i&&(i=1*e(t[n]));return 1*i},max:function(e,t){t=t||this;for(var i=-(1/0),n=0;n<t.length;n++)1*e(t[n])>i&&(i=1*e(t[n]));return 1*i},count:function(e,t){for(var i=0,n=0;n<t.length;n++){var r=e(t[n]);null!==r&&"undefined"!=typeof r&&i++}return i},any:function(e,t){return e(t[0])},string:function(e,t){return e.$name}},webix.GroupStore={$init:function(){this.attachEvent("onClearAll",this.oz)},oz:function(){this.nf=this.fh=null,this.gh=0},ungroup:function(e){return this.getBranchIndex?this.hh.apply(this,arguments):void(this.nf&&(this.order=this.nf,this.pull=this.fh,this.fh=this.nf=null,e||this.callEvent("onStoreUpdated",[])))},mf:function(e){this.blockEvent(),this.group(e),this.unblockEvent()},ih:function(e){if("function"==typeof e)return e;var t=function(t){return t[e]};return t.$name=e,t},group:function(e){if(this.getBranchIndex)return this.jh.apply(this,arguments);"string"==typeof e&&(e={by:e,map:{}});var t="function"==typeof e.by?"value":e.by,i=this.ih(e.by);e.map[t]||(e.map[t]=[t,this.kh]);var n={},r=[];this.each(function(t){var a=i(t);n[a]||(r.push({id:a,$group:!0,$row:e.row}),n[a]=webix.toArray()),n[a].push(t)});for(var a in e.map){var o=e.map[a][1]||"any",s=this.ih(e.map[a][0]);"function"!=typeof o&&(o=webix.GroupMethods[o]);for(var l=0;l<r.length;l++)r[l][a]=o.call(this,s,n[r[l].id])}this.nf=this.order,this.fh=this.pull,this.order=webix.toArray(),this.pull={};for(var l=0;l<r.length;l++){var u=this.id(r[l]);this.pull[u]=r[l],this.order.push(u),this.qf&&this.qf(r[l])}this.callEvent("onStoreUpdated",[])},jh:function(e,t){this.gh=(this.gh||0)+1;var i;"string"==typeof e?(i={by:this.ih(e),map:{}},i.map[e]=[e]):i="function"==typeof e?{by:e,map:{}}:e;var n;t?n=this.getItem(t).$level:(t=0,n=0);for(var r=this.branch[t],a=this.ih(i.by),o=[],s=[],l=0;l<r.length;l++){var u=this.getItem(r[l]),c=a(u),d=n+"$"+c,h=this.branch[d];if(!h){var f=this.pull[d]={id:d,value:c,$group:!0,$row:i.row};this.qf&&this.qf(f),s.push(f),h=this.branch[d]=[],h.lh=[],o.push(d)}h.push(u.id),h.lh.push(u)}this.branch[t]=o;for(var p in i.map){var g=i.map[p][1]||"any",v=this.ih(i.map[p][0]);"function"!=typeof g&&(g=webix.GroupMethods[g]);for(var l=0;l<s.length;l++)s[l][p]=g.call(this,v,this.branch[s[l].id].lh)}for(var l=0;l<s.length;l++){var m=s[l];if(this.hasEvent("onGroupCreated")&&this.callEvent("onGroupCreated",[m.id,m.value,this.branch[m.id].lh]),
i.footer){var b="footer$"+m.id,y=this.pull[b]={id:b,$footer:!0,value:m.value,$level:n,$count:0,$parent:m.id,$row:i.footer.row};for(var p in i.footer){var g=i.footer[p][1]||"any",v=this.ih(i.footer[p][0]);"function"!=typeof g&&(g=webix.GroupMethods[g]),y[p]=g.call(this,v,this.branch[s[l].id].lh)}this.branch[m.id].push(y.id),this.callEvent("onGroupFooter",[y.id,y.value,this.branch[m.id].lh])}delete this.branch[m.id].lh}this.mh(o,t,n+1),this.callEvent("onStoreUpdated",[])},hh:function(e,t,i){if(i||this.gh){this.gh=Math.max(0,this.gh-1),t=t||0;for(var n=[],r=this.branch[t],a=0;a<r.length;a++){var o=r[a],s=this.branch[o];s&&(n=n.concat(s)),delete this.pull[o],delete this.branch[o]}this.branch[t]=n;for(var a=n.length-1;a>=0;a--)this.pull[n[a]].$footer&&n.splice(a,1);this.mh(n,0,1),e||this.callEvent("onStoreUpdated",[])}},mh:function(e,t,i){t&&(this.getItem(t).$count=e.length);for(var n=0;n<e.length;n++){var r=this.pull[e[n]];r.$level=i,r.$parent=t;var a=this.branch[r.id];a&&this.mh(a,r.id,i+1)}}},webix.clipbuffer={nh:null,oh:null,ph:0,init:function(){return null!==this.nh?this.nh:(webix.destructors.push({obj:this}),this.nh=document.createElement("textarea"),this.nh.className="webix_clipbuffer",this.nh.setAttribute("webixignore",1),this.nh.setAttribute("spellcheck","false"),this.nh.setAttribute("autocapitalize","off"),this.nh.setAttribute("autocorrect","off"),this.nh.setAttribute("autocomplete","off"),document.body.appendChild(this.nh),webix.event(document.body,"keydown",webix.bind(function(e){var t=e.keyCode,i=!(!e.ctrlKey&&!e.metaKey);86===t&&i&&webix.delay(this.rh,this,[e],100)},this)),this.nh)},destructor:function(){this.nh=null},set:function(e){this.init(),this.nh.value=e,this.focus()},focus:function(){this.UA()||(this.init(),this.nh.focus(),this.nh.select())},UA:function(){var e="";return"undefined"!=typeof window.getSelection?e=window.getSelection().toString():"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(e=document.selection.createRange().text),!!e},rh:function(e){var t=e.target||e.srcElement;if(t===this.nh){var i=this.nh.value,n=webix.UIManager.getFocus();!n||n.getEditor&&n.getEditor()||(n.callEvent("onPaste",[i]),this.nh.select())}}},webix.CopyPaste={clipboard_setter:function(e){return(e===!0||1===e)&&(e="modify"),this.attachEvent("onAfterSelect",function(e){if(!this.getEditor||!this.getEditor()){var t=this.getItem(e),i=this.type.templateCopy(t);webix.clipbuffer.set(i,this),webix.clipbuffer.focus(),webix.UIManager.setFocus(this)}}),this.attachEvent("onPaste",function(e){webix.isUndefined(this.rh[this.s.clipboard])||this.rh[this.s.clipboard].call(this,e)}),this.attachEvent("onFocus",function(){webix.clipbuffer.focus()}),this.attachEvent("onItemClick",function(e){this.wg&&-1===this.wg.find(e)||(webix.clipbuffer.focus(),webix.UIManager.setFocus(this))}),e},rh:{insert:function(e){this.add({value:e})},modify:function(e){for(var t=this.getSelectedId(!0),i=0;i<t.length;i++)this.getItem(t[i]).value=e,this.refresh(t[i])},custom:function(e){}},templateCopy_setter:function(e){this.type.templateCopy=webix.template(e)},type:{templateCopy:function(e){return this.template(e)}}},webix.KeysNavigation={$init:function(){this.getSelectedId&&(this.attachEvent("onAfterRender",this.cF),this.attachEvent("onAfterSelect",webix.once(function(){if(this.count()>1&&this.y){var e=this.y.querySelector("["+this.ad+"]");e&&e.setAttribute("tabindex","-1")}})))},cF:function(){var e=this.getSelectedId(!0);if(!e.length||!this.getItemNode(e[0])){var t=this.y.querySelector("["+this.ad+"]");t&&t.setAttribute("tabindex","0")}},sh:function(e){return function(t,i){var n=i.srcElement||i.target;if(!n.getAttribute("webixignore")){var r=n.tagName;if("INPUT"==r||"TEXTAREA"==r||"SELECT"==r)return!0}return!(t&&t.moveSelection&&t.config.navigation&&!t.Eb)||(webix.html.preventEvent(i),t.moveSelection(e,{shift:i.shiftKey,ctrl:i.ctrlKey}))}},moveSelection:function(e,t,i){var n=this.s;if(!n.disabled){var r=this.getSelectedId(!0),a=this.count&&("x"==n.layout||n.xCount>1);if(("right"==e||"left"==e)&&this.ar){var o=webix.$$(this.ar);return o.Uq(!0),void("x"===o.config.layout?o.moveSelection(e):webix.UIManager.setFocus(o))}if(!r.length&&this.count()){if("down"==e||"right"==e&&a)e="top";else{if(!("up"==e||"left"==e&&a))return;e="bottom"}r=[this.getFirstId()]}if(1==r.length){r=r[0];var s=r;if("left"==e&&this.close)return this.close(r);if("right"==e&&this.open)return this.open(r);if("top"==e)r=this.getFirstId();else if("bottom"==e)r=this.getLastId();else if("up"==e||"left"==e||"pgup"==e){var l=this.getIndexById(r),u="pgup"==e?10:1;r=this.getIdByIndex(Math.max(0,l-u))}else{if("down"!=e&&"right"!=e&&"pgdown"!=e)return;var l=this.getIndexById(r),u="pgdown"==e?10:1;r=this.getIdByIndex(Math.min(this.count()-1,l+u))}if(this.OD&&(r=this.OD(r,s,e)),this.showItem(r),this.select(r),this.getSubMenu&&this.getSubMenu(r)&&this.Yq(r,this.getItemNode(r)),!this.config.clipboard&&i!==!1){var c=this.getItemNode(r);c&&c.focus()}}return!1}},navigation_setter:function(e){return e&&!webix.UIManager.th&&(webix.UIManager.th=!0,webix.UIManager.addHotKey("up",this.sh("up")),webix.UIManager.addHotKey("down",this.sh("down")),webix.UIManager.addHotKey("right",this.sh("right")),webix.UIManager.addHotKey("left",this.sh("left")),webix.UIManager.addHotKey("shift+up",this.sh("up")),webix.UIManager.addHotKey("shift+down",this.sh("down")),webix.UIManager.addHotKey("shift+right",this.sh("right")),webix.UIManager.addHotKey("shift+left",this.sh("left")),webix.UIManager.addHotKey("ctrl+shift+up",this.sh("up")),webix.UIManager.addHotKey("ctrl+shift+down",this.sh("down")),webix.UIManager.addHotKey("ctrl+shift+right",this.sh("right")),webix.UIManager.addHotKey("ctrl+shift+left",this.sh("left")),webix.UIManager.addHotKey("pageup",this.sh("pgup")),webix.UIManager.addHotKey("pagedown",this.sh("pgdown")),webix.UIManager.addHotKey("home",this.sh("top")),webix.UIManager.addHotKey("end",this.sh("bottom"))),e}},webix.protoUI({name:"tree",defaults:{scroll:"a",navigation:!0},$init:function(){this.x.className+=" webix_tree",webix.extend(this.data,webix.TreeStore,!0),webix.extend(this.on_click,webix.TreeClick),this.attachEvent("onAfterRender",this.Jf),this.attachEvent("onPartialRender",this.Jf),this.data.provideApi(this,!0),this.x.setAttribute("role","tree")},ad:"webix_tm_id",on_context:{},on_dblclick:{webix_tree_checkbox:function(){return this.on_click.webix_tree_checkbox?this.on_click.webix_tree_checkbox.apply(this,arguments):void 0}},$fixEditor:function(e){var t=this.getItemNode(e.id).querySelector("span");if(t){""===t.innerHTML&&(t.innerHTML="&nbsp;");var i=10,n=t.offsetLeft;e.node.style.width=this.$view.scrollWidth-n-i+"px",e.node.style.marginLeft=n+"px",e.node.style.left="0px"}},on_click:{webix_tree_item:function(e,t,i){if(this.s.activeTitle){var n=this.getItem(t);n.open?this.close(t):this.open(t)}if(this.s.select)if("multiselect"==this.s.select||this.s.multiselect){var r=e.ctrlKey||e.metaKey||"touch"==this.s.multiselect;if("level"==this.s.multiselect&&(r||e.shiftKey)){var a=this.getSelectedId(!0)[0];if(a&&this.getParentId(t)!=this.getParentId(a))return}this.select(t,!1,r,e.shiftKey)}else this.select(t)}},rh:{insert:function(e){var t=this.getSelectedId()||"0";this.add({value:e},null,t)},modify:function(e){for(var t=this.getSelectedId(!0),i=0;i<t.length;i++)this.getItem(t[i]).value=e,this.refresh(t[i])},custom:function(e){}},Xg:!0,$dragHTML:function(e){return"<div class='borderless'>"+this.type.template(e,this.type)+"</div>"},type:webix.extend({template:function(e,t){var i=t["template"+e.level]||t.templateCommon;return i.apply(this,arguments)},classname:function(e,t,i){var n="webix_tree_item";return e.$css&&("object"==typeof e.$css&&(e.$css=webix.html.createCss(e.$css)),n+=" "+e.$css),i&&i.$css&&(n+=" "+i.$css),n},aria:function(e,t,i){return'role="treeitem"'+(i&&i.webix_selected?' aria-selected="true" tabindex="0"':' tabindex="-1"')+(e.$count?'aria-expanded="'+(e.open?"true":"false")+'"':"")+'aria-level="'+e.$level+'"'},templateCommon:webix.template("{common.icon()} {common.folder()} <span>#value#</span>"),templateStart:webix.template('<div webix_tm_id="#id#" class="{common.classname()}" {common.aria()}>'),templateEnd:webix.template("</div>"),templateCopy:webix.template("#value#")},webix.TreeType)},webix.AutoTooltip,webix.Group,webix.TreeAPI,webix.DragItem,webix.TreeDataMove,webix.SelectionModel,webix.KeysNavigation,webix.MouseEvents,webix.Scrollable,webix.TreeDataLoader,webix.ui.proto,webix.TreeRenderStack,webix.CopyPaste,webix.EventSystem),webix.TreeStateCheckbox={uh:function(){if(this.vg){var e=this.render;this.render=function(t,i,n){var r=e.apply(this,arguments);this.s.threeState&&r&&"checkbox"!=i&&this.vh.apply(this,arguments)},this.uh=function(){}}},threeState_setter:function(e){return e&&this.uh(),e},vh:function(e){var t,i,n,r,a;if(n=[],a=this,e&&!a.data.pull[e]&&(e=0),!e||a.data.pull[e].$count)for(i=this.wh(e),i.sort(function(e,t){return a.data.pull[t].$level-a.data.pull[e].$level}),t=0;t<i.length;t++)t&&a.data.pull[i[t]].$parent==a.data.pull[i[t-1]].$parent||(n=n.concat(a.xh(i[t])));else n=n.concat(a.xh(e));for(r={},t=0;t<n.length;t++)r[n[t]]||(r[n[t]]=1,this.yh(n[t]));a=null},yh:function(e){var t,i;i=this.getItemNode(e),i&&(this.render(e,"checkbox","update"),this.getItem(e).indeterminate&&(i=this.getItemNode(e),t=i.getElementsByTagName("input")[0],t&&(t.indeterminate=this.getItem(e).indeterminate)))},xh:function(e){var t,i,n,r,a,o,s,l;for(r=this.getParentId(e),o=this,a=[];r&&"0"!=r;){s=0,i=0,this.data.eachChild(r,function(e){e.indeterminate?s++:e.checked&&i++}),t=n=l=!1;var u=this.getItem(r);i==u.$count?t=!0:(i>0||s>0)&&(n=!0),(n||n!=u.indeterminate)&&(l=!0),u.indeterminate=n,(t||u.checked!=t)&&(l=!0),u.checked=t,l?(a.push(r),r=this.getParentId(r)):r=0}return a},getChecked:function(){var e=[],t=this;return this.data.eachSubItem(0,function(i){t.isChecked(i.id)&&e.push(i.id)}),e},Tg:function(e,t){var i=this.getItem(e);if(i&&(""===t&&(t=!i.checked),i.checked!=t||i.indeterminate)){i.checked=t,this.zh(e);var n=this.xh(e);if(this.vg&&n.length<5)for(var r=0;r<n.length;r++)this.yh(n[r]);else this.refresh();this.callEvent("onItemCheck",[e,t])}},checkItem:function(e){this.Sg(e,!0),this.updateItem(e)},uncheckItem:function(e){this.Sg(e,!1),this.updateItem(e)},Ah:function(e,t,i){var n=t?"checkItem":"uncheckItem";e?this[n](e):e=0,this.s.threeState?e||this.data.eachChild(0,function(e){this[n](e.id)},this,i):this.data.each(function(e){this[n](e.id)},this,i,e)},checkAll:function(e,t){this.Ah(e,!0,t)},uncheckAll:function(e,t){this.Ah(e,!1,t)},zh:function(e){var t,i=this.getItem(e);i.indeterminate=!1,t=i.checked,this.data.eachSubItem(e,function(e){e.indeterminate=!1,e.checked=t}),this.vg&&this.isBranchOpen(i.$parent)&&this.render(e,0,"branch")},isChecked:function(e){return this.getItem(e).checked},wh:function(e){var t=[];return this.data.eachSubItem(e,function(e,i){i||t.push(e.id)}),t}},webix.ui.tree&&webix.extend(webix.ui.tree,webix.TreeStateCheckbox,!0),webix.type(webix.ui.tree,{name:"lineTree",css:"webixLineTree",icon:function(e,t){for(var i="",n="",r=1;r<=e.$level;r++){if(r==e.$level)var n=e.$count?e.open?"webix_tree_open ":"webix_tree_close ":"webix_tree_none ";var a=this.Bh(e,t,r);a&&(i+="<div class='"+n+"webix_tree_img webix_tree_"+a+"'></div>")}return i},Bh:function(e,t,i){var n=t.sg,r=webix.TreeRenderStack.tg;if(0===n&&r){var a=e.$level,o=e.id;for(n=[];a;){var s=r.getParentId(o),l=r.data.branch[s];l[l.length-1]==o&&(n[a]=!0),o=s,a--}t.sg=n}if(!n)return 0;if(i==e.$level){var u=3;return e.$parent||0===e.$index&&(u=4),n[e.$level]&&(u=2),e.$count?e.open?"minus"+u:"plus"+u:"line"+u}return n[i]?"blank":"line1"}}),webix.NavigationButtons={$init:function(){this.$ready.push(function(){this.attachEvent("onKeyPress",this.DD)})},PD:function(e,t){if(37===e||39===e){webix.html.preventEvent(t),this.Kh(37===e?-1:1);var i=this.Dh.querySelector("[tabindex='0']");i&&i.focus()}},Ch:function(){webix.html.remove(this.Dh),this.Dh=webix.html.create("DIV",{class:"webix_nav_panel webix_nav_panel_"+this.s.navigation.type,role:"tablist"},""),this.x.appendChild(this.Dh),this.Eh(),this.Fh(),this.Gh()},Gh:function(){var e=[];this.Dh&&(e[0]=webix.event(this.Dh,"click",webix.bind(function(e){for(var t=e.srcElement||e.target,i=!1;t!=this.Dh&&!i;){var n=t.getAttribute(this.Hh);n&&(i=!0,this.Ih(n)),t=t.parentNode}},this))),this.Jh&&(e[1]=webix.event(this.Jh,"click",webix.bind(function(e){this.Kh(-1)},this))),this.Lh&&(e[1]=webix.event(this.Lh,"click",webix.bind(function(e){this.Kh(1)},this))),this.attachEvent("onDestruct",function(){for(var t=0;t<e.length;t++)this.detachEvent(e[t]);e=null})},Kh:function(e){if(this.q){var t=this.Mh+e;(t>=this.q.length||0>t)&&(t=0>t?this.q.length-1:0),this.setActiveIndex(t)}},Ih:function(e){this.q&&webix.$$(e).show()},Eh:function(){var e,t;if(t=this.s.navigation,t.items){this.Hh=t.linkAttr||"bind_id",this.Dh?this.Nh():this.Ch();var i=this.q?this.q:this.data.order;if(i.length>1)for(var n=0;n<i.length;n++){e=webix.html.create("DIV",{class:"webix_nav_item webix_nav_"+(n==this.Mh?"active":"inactive"),role:"tab",tabindex:n==this.Mh?"0":"-1"},"<div></div>");var r=this.q?this.q[n].s.id:i[n];r&&e.setAttribute(this.Hh,r),this.Dh.appendChild(e)}}},Nh:function(){if(this.Dh)for(var e=this.Dh.childNodes,t=e.length-1;t>=0;t--)webix.html.remove(e[t])},Fh:function(){var e;e=this.s.navigation,e.buttons&&(this.Jh&&webix.html.remove(this.Jh),this.Jh&&webix.html.remove(this.Lh),this.Jh=webix.html.create("DIV",{class:"webix_nav_button_"+e.type+" webix_nav_button_prev ",role:"button",tabindex:"0","aria-label":webix.i18n.aria.prevTab},'<div class="webix_nav_button_inner"></div>'),this.x.appendChild(this.Jh),this.Lh=webix.html.create("DIV",{class:"webix_nav_button_"+e.type+" webix_nav_button_next ",role:"button",tabindex:"0","aria-label":webix.i18n.aria.nextTab},'<div class="webix_nav_button_inner"></div>'),this.x.appendChild(this.Lh))}},webix.VRenderStack={$init:function(){this.t={},webix.UE(this.x,"scroll",webix.bind(function(){this.render(null,null,"paint")},this))},getItemNode:function(e){return this.t&&this.t[e]},showItem:function(e){var t=this.data.getIndexById(e);if(t>-1){var i=t*this.type.height,n=i+this.type.height,r=this.getScrollState(),a=webix.html.offset(this.$view);i<r.y?this.scrollTo(0,i):n>r.y+a.height&&this.scrollTo(0,n-a.height)}},render:function(e,t,i){if(this.isVisible(this.s.id)&&!this.$blockRender){var n=this.Pe||this.y;if(!e||"paint"!=i&&"update"!=i){if("paint"!=i&&(this.t={},n.innerHTML=""),this.callEvent("onBeforeRender",[this.data])){var r=this.data.count(),a=this.getScrollState(),o=webix.html.offset(this.x),s=Math.floor(a.y/this.type.height)-2,l=Math.ceil((a.y+o.height)/this.type.height)+2;s=Math.max(0,s),l=Math.min(this.data.count()-1,l);for(var u=[],c=s;l>=c;c++){var d=this.data.order[c];if(this.t[d])u.push("<div></div>");else{var h=this.data.getItem(d);if(!h){this.Ik({count:l-c+(this.s.loadahead||0),start:c});break}u.push(this.jb(h))}}this.v.innerHTML=u.join(""),n.style.position="relative",n.style.height=r*this.type.height+"px";for(var f=this.v.childNodes,c=f.length-1;c>=0;c--){var p=f[c],e=p.getAttribute(this.ad);e&&(p.style.position="absolute",p.style.top=(s+c)*this.type.height+"px",p.style.left=0,p.style.width="100%",n.appendChild(p),this.t[e]=p)}this.callEvent("onAfterRender",[])}}else{var g=this.getItemNode(e);if(g){var v=this.t[e]=this.Ne(t);return v.style.top=g.style.top,v.style.position="absolute",v.style.left=0,v.style.width="100%",webix.html.insertBefore(v,g),void webix.html.remove(g)}}}},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)&&this.render(null,null,"paint")},Ik:function(e){var t=Math.max(e.count,this.s.datafetch||this.s.loadahead||0);this.cf(e.count,e.start)||this.loadNext(t,e.start)}},function(){function e(e){return e=e||{},e.paper=o[(e.paper||"").toLowerCase()]||"A4",e.mode=l[e.mode]?e.mode:"portrait",e.fit=s[e.fit]?e.fit:"page",e.scroll=e.scroll||!1,e.size=u[e.paper],e.margin=e.margin||0===e.margin?e.margin:{},a=isNaN(1*e.margin)?a:e.margin,e.margin={top:e.margin.top||0===e.margin.top?e.margin.top:a,bottom:e.margin.bottom||0===e.margin.bottom?e.margin.bottom:a,right:e.margin.right||0===e.margin.right?e.margin.right:a,left:e.margin.left||0===e.margin.left?e.margin.left:a},e}function t(e){webix.html.addCss(document.body,"webix_print"),e.docHeader&&r("Header",e),e.docFooter&&r("Footer",e);var t="@media print { @page{ size:"+e.paper+" "+e.mode+";margin-top:"+e.margin.top+"px;margin-bottom:"+e.margin.bottom+"px;margin-right:"+e.margin.right+"px;margin-left:"+e.margin.left+"px;}}";webix.html.addStyle(t,"print")}function i(e){webix.html.removeCss(document.body,"webix_print"),webix.html.removeStyle("print"),e.docHeader&&webix.html.remove(e.docHeader),e.docFooter&&webix.html.remove(e.docFooter)}function n(e,t){var i=e.$view.cloneNode(!0),n=e.$view.getElementsByTagName("canvas");if(n.length)for(var r=n.length-1;r>=0;r--){var a=i.getElementsByTagName("canvas")[r].getContext("2d");a.drawImage(n[r],0,0)}webix.html.insertBefore(i,t.docFooter,document.body),webix.html.addCss(i,"webix_ui_print"),!t.scroll&&(e.y&&e.data&&e.data.pull||e.getBody)&&webix.html.addCss(i,"webix_print_noscroll"),window.print(),webix.html.remove(i)}function r(e,t){var i=webix.html.create("div",{class:"webix_view webix_print_"+e.toLowerCase(),style:"height:0px;visibility:hidden;"},t["doc"+e]);"Header"===e?webix.html.insertBefore(i,document.body.firstChild):document.body.appendChild(i),t["doc"+e]=i}webix.env.printPPI=96,webix.env.printMargin=.75*webix.env.printPPI;var a=(webix.env.printPPI,webix.env.printMargin),o={a4:"A4",a3:"A3",letter:"letter"},s={page:!0,data:!0},l={portrait:!0,landscape:!0},u={A3:{width:11.7,height:16.5},A4:{width:8.27,height:11.7},letter:{width:8.5,height:11}};webix.print=function(r,a){var o=webix.$$(r);o&&o.$printView&&(o=o.$printView()),o&&(o.callEvent&&o.callEvent("onBeforePrint",[a]),a=e(a),t(a),o.$customPrint&&o.$customPrint(a)!==!0||n(o,a),i(a))}}(),webix.CustomPrint={$customPrint:function(e,t){if(this.UF(e,t))return!0;var i=this.VF(e),n=this.WF(i,e);if(t)return n;var r=webix.html.create("div",{class:"webix_ui_print"});r.appendChild(n),webix.html.insertBefore(r,e.docFooter,document.body),window.print(),webix.html.remove(r)},UF:function(e,t){return!(t||!("y"==this.config.layout||e.scroll||this.config.prerender||this.config.autoheight))||void("x"==this.config.layout&&webix.extend(e||{},{xCount:this.count(),nobreaks:!0},!0))},XF:function(e){if("page"==e.fit)return 1/0;var t=e.size,i=t["portrait"==e.mode?"width":"height"];return Math.min(i*webix.env.printPPI-2*webix.env.printMargin)},VF:function(e,t,i){var n,r,a,o=this.XF(e),s=e.xCount||this.Ci().Di,l=[],u=[],c=0;i=i||0,t=t||[];for(var d=0;d<this.data.order.length;){var h=this.data.pull[this.data.order[d]];if(r=parseInt(d/s),a=d-r*s,h&&a>=i){if(c+=this.type.width,c>o&&a>i){n=u.length+i,l.push(u),d+=s-u.length,u=[],c=0;continue}var f=this.type.template(h,this.type),p=this.YF,g={display:"table-cell",height:this.type.height+"px",width:this.type.width+"px"};u.push({txt:f,className:p+" "+(h.$css||""),style:g}),(d+1)%s===0&&(l.push(u),u=[],c=0)}d++}return t.push(l),n&&this.VF(e,t,n),t},WF:function(e,t){var i=webix.html.create("div");return e.forEach(webix.bind(function(n,r){var a=webix.html.create("table",{class:"webix_table_print "+this.$view.className,style:"border-collapse:collapse"});if(n.forEach(function(e){var t=webix.html.create("tr");e.forEach(function(e){var i=webix.html.create("td");if(e.txt&&(i.innerHTML=e.txt),e.className&&(i.className=e.className),e.style){var n=Object.keys(e.style);n.forEach(function(t){e.style[t]&&(i.style[t]=e.style[t])})}e.span&&(e.span.colspan>1&&(i.colSpan=e.span.colspan),e.span.rowspan>1&&(i.rowSpan=e.span.rowspan)),t.appendChild(i)}),a.appendChild(t)}),i.appendChild(a),!t.nobreaks&&r+1<e.length){var o=webix.html.create("DIV",{class:"webix_print_pagebreak"});i.appendChild(o)}},this)),i}},webix.protoUI({name:"list",Oh:"webix_list",YF:"webix_list_item",$init:function(e){webix.html.addCss(this.x,this.Oh+("x"==(e.layout||this.defaults.layout)?"-x":"")),this.data.provideApi(this,!0),this.Ph=webix.bind(this.Ph,this),this.data.attachEvent("onStoreUpdated",this.Ph),this.data.attachEvent("onSyncApply",this.Ph),this.attachEvent("onAfterRender",this.hg),this.x.setAttribute("role","listbox")},dynamic_setter:function(e){return e&&webix.extend(this,webix.VRenderStack,!0),e},$dragHTML:function(e,t){if("y"==this.s.layout&&"auto"==this.type.width){this.type.width=this.bc;var i=this.jb(e);return this.type.width="auto",i}return this.jb(e)},defaults:{select:!1,scroll:!0,layout:"y",navigation:!0,datafetch:50},ad:"webix_l_id",on_click:{webix_list_item:function(e,t){this.s.select&&(this.Qh=!0,"multiselect"==this.s.select||this.s.multiselect?this.select(t,!1,e.ctrlKey||e.metaKey||"touch"==this.s.multiselect,e.shiftKey):this.select(t),this.Qh=!1)}},on_dblclick:{},getVisibleCount:function(){return Math.floor(this.dc/this.QF())},Ph:function(){(this.s.autoheight||this.s.autowidth)&&this.resize()},Rh:function(e){var t=this.data.$pagesize||this.count();this.Lf(e&&t>e),this.s.autoheight&&(e||1/0)>t&&(e=t);var i=this.QF()*e+(this.type.margin||0);return this.getUnits&&(i+=this.getUnits().length*this.type.headerHeight),Math.max(i,this.s.minHeight||0)},QF:function(){return this.type.height+(this.type.margin||0)},Sh:function(e){var t=this.data.$pagesize||this.count();return this.Lf(e&&t>e),this.s.autowidth&&(e||1/0)>t&&(e=t),this.type.width*e},hg:function(){"x"==this.s.layout&&(this.y.style.width="auto"!=this.type.width?this.type.width*this.count()+"px":"auto")},$getSize:function(e,t){return"y"==this.s.layout?("auto"!=this.type.width&&(this.s.width=this.type.width+(this.cc?webix.ui.scrollSize:0)),(this.s.yCount||this.s.autoheight)&&(this.s.height=this.Rh(this.s.yCount)||1)):("auto"!=this.type.height&&(this.s.height=this.QF()+(this.ec?webix.ui.scrollSize:0)),(this.s.xCount||this.s.autowidth)&&(this.s.width=this.Sh(this.s.xCount)||1)),webix.ui.view.prototype.$getSize.call(this,e,t)},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)},type:{css:"",widthSize:function(e,t){return t.width+(t.width>-1?"px":"")},heightSize:function(e,t){return t.height+(t.height>-1?"px":"")},classname:function(e,t,i){var n="webix_list_item";return e.$css&&("object"==typeof e.$css&&(e.$css=webix.html.createCss(e.$css)),n+=" "+e.$css),i&&i.$css&&(n+=" "+i.$css),n},aria:function(e,t,i){return'role="option"'+(i&&i.webix_selected?' aria-selected="true" tabindex="0"':' tabindex="-1"')+(e.$count&&e.$template?'aria-expanded="true"':"")},template:function(e){return(e.icon?"<span class='webix_icon fa-"+e.icon+"'></span> ":"")+e.value+(e.badge?"<div class='webix_badge'>"+e.badge+"</div>":"")},width:"auto",templateStart:webix.template('<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>'),templateEnd:webix.template("</div>")},$skin:function(){this.type.height=webix.skin.$active.listItemHeight}},webix.CustomPrint,webix.KeysNavigation,webix.DataMove,webix.DragItem,webix.MouseEvents,webix.SelectionModel,webix.Scrollable,webix.ui.proto,webix.CopyPaste),webix.protoUI({name:"grouplist",defaults:{animate:{}},Oh:"webix_grouplist",$init:function(){webix.extend(this.data,webix.TreeStore,!0),this.data.count=function(){return this.order.length},this.data.provideApi(this,!0),this.data.attachEvent("onClearAll",webix.bind(this.Th,this)),this.Th()},Th:function(){this.Uh=[],this.Vh=[]},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments)&&(this.y.style.width=this.bc)},on_click:{webix_list_item:function(e,t){if(this.Wh)return!1;for(var i=0;i<this.Vh.length;i++)if(this.Vh[i]==t){for(var n=i;n<this.Vh.length;n++)this.data.getItem(this.Vh[n]).$template="";return i?(this.Uh=this.data.branch[this.Vh[i-1]],this.Vh.splice(i)):(this.Uh=this.data.branch[0],this.Vh=[]),this.Xh=!1,this.render()}var r=this.getItem(t);return r.$count?(this.Xh=!0,this.Vh.push(t),r.$template="Back",this.Uh=this.data.branch[r.id],this.render()):void(this.s.select&&(this.Qh=!0,"multiselect"==this.s.select||this.s.multiselect?this.select(t,!1,"touch"==this.s.multiselect||e.ctrlKey||e.metaKey,e.shiftKey):this.select(t),this.Qh=!1))}},getOpenState:function(){return{parents:this.Vh,branch:this.Uh}},render:function(e,t,i,n){var r,a;if(this.Vh=webix.copy(this.Vh),this.Uh=webix.copy(this.Uh),this.Vh.length)for(r=0;r<this.Vh.length;r++)this.data.branch[this.Vh[r]]||(this.Vh.splice(r,1),r--);if(a=this.Vh.length?this.Vh[this.Vh.length-1]:0,this.Uh=webix.copy(this.data.branch[a]),!this.Uh.length&&this.Vh.length&&(this.Uh=[a],this.Vh.pop()),this.Wh)return webix.delay(this.render,this,arguments,100);for(r=0;r<this.Uh.length;r++)this.data.getItem(this.Uh[r]).$template="";if(this.Uh.length||(this.Uh=this.data.branch[0]),this.data.order=webix.toArray([].concat(this.Vh).concat(this.Uh)),this.callEvent("onBeforeRender",[this.data])){if(!this.Qh&&this.y.innerHTML&&webix.animate.isSupported()&&this.s.animate&&this.Yh!=this.Vh.length){if(this.callEvent("onBeforeRender",[this.data])){this.Zh||(this.Zh=[]);var o=this.y.cloneNode(!1);o.innerHTML=this.data.getRange().map(this.jb,this).join("");var s=webix.extend({},this.s.animate);s.direction=this.Xh?"left":"right";var l=[webix.clone(s),webix.clone(s)];if(this.Xh)this.Zh.push(this.getScrollState()),webix.Touch&&webix.Touch.$active&&(l[0].y=0,l[1].y=-this.getScrollState().y);else{var u=this.Zh.pop();webix.Touch&&webix.Touch.$active&&(l[0].y=-u.y,l[1].y=-this.getScrollState().y)}var c=webix.animate.formLine(o,this.y,s);webix.Touch&&webix.Touch.$active&&webix.Touch.Nf(o,0,this.Xh?0:l[0].y,"0ms"),s.master=this,s.callback=function(){this.y=o,this.Xh?webix.Touch&&webix.Touch.$active||this.scrollTo(0,0):webix.Touch&&webix.Touch.$active?webix.delay(function(){webix.Touch.Nf(o,0,l[0].y,"0ms")},this):u&&this.scrollTo(0,u.y),webix.animate.breakLine(c),s.master=s.callback=null,this.t=null,this.Wh=!1,this.callEvent("onAfterRender",[])},this.Wh=!0,webix.animate(c,l)}}else webix.RenderStack.render.apply(this,arguments);this.Yh=this.Vh.length}},templateBack_setter:function(e){this.type.templateBack=webix.template(e)},templateItem_setter:function(e){this.type.templateItem=webix.template(e)},templateGroup_setter:function(e){this.type.templateGroup=webix.template(e)},type:{template:function(e,t){return e.$count?t.templateGroup(e,t):t.templateItem(e,t)},css:"group",classname:function(e,t,i){return"webix_list_item webix_"+(e.$count?"group":"item")+(e.$template?"_back":"")+(i&&i.webix_selected?" webix_selected ":"")+(e.$css?e.$css:"")},templateStart:webix.template('<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;" {common.aria()}>'),templateBack:webix.template("#value#"),templateItem:webix.template("#value#"),templateGroup:webix.template("#value#"),templateEnd:function(e,t){var i="";return e.$count&&(i+="<div class='webix_arrow_icon'></div>"),i+="</div>"}},showItem:function(e){var t,i;for(e&&(t=this.getItem(e),i=t.$parent,t.$count&&(i=t.id)),this.Uh=this.data.branch[i||0],this.Vh=[];i;)this.getItem(i).$template="Back",this.Vh.unshift(i),i=this.getItem(i).$parent;this.Qh=!0,this.render(),this.Qh=!1,webix.RenderStack.showItem.call(this,e)}},webix.Group,webix.ui.list),webix.type(webix.ui.grouplist,{}),webix.protoUI({name:"unitlist",ad:"webix_item_id",uniteBy_setter:webix.template,render:function(e,t,i,n){var r=this.s;if(this.isVisible(r.id)){if(!r.uniteBy)return!1;if(e){var a=this.getItemNode(e);if(a&&"update"==i&&this.s.uniteBy.call(this,t)==this.getItem(e).$unitValue){var o=this.t[e]=this.Ne(t);return webix.html.insertBefore(o,a),void webix.html.remove(a)}}this.callEvent("onBeforeRender",[this.data])&&(this.units=null,this.$h(),this.units&&(this.y.innerHTML=this._h().map(this.jb,this).join(""),this.t=null),this.callEvent("onAfterRender",[]))}},getUnits:function(){var e=[];if(this.units)for(var t in this.units)e.push(t);return e},getUnitList:function(e){return this.units?this.units[e]:null},jb:function(e){var t=this.data.Me[e.id];return this.callEvent("onItemRender",[e]),e.$unit?this.type.templateStartHeader(e,this.type)+this.type.templateHeader.call(this,e.$unit)+this.type.templateEnd(e,this.type):this.type.templateStart(e,this.type,t)+(e.$template?this.type["template"+e.$template]:this.type.template)(e,this.type)+this.type.templateEnd(e,this.type)},_h:function(){var e,t,i,n;e=[];var r=this.data.$min||0,a=this.data.$max||1/0,o=0;for(i in this.units)for(e.push({$unit:i}),n=this.units[i],t=0;t<n.length;t++){if(o==r&&(e=[{$unit:i}]),e.push(this.getItem(n[t])),o==a)return webix.toArray(e);o++}return webix.toArray(e)},$h:function(){var e=this;this.units={},this.data.each(function(t){var i=e.s.uniteBy.call(this,t);t.$unitValue=i,e.units[i]||(e.units[i]=[]),e.units[i].push(t.id)})},type:{headerHeight:20,templateHeader:function(e){return"<span class='webix_unit_header_inner'>"+e+"</span>"},templateStart:function(e,t,i){if(e.$unit)return t.templateStartHeader.apply(this,arguments);var n="webix_list_item webix_list_"+t.css+"_item"+(i&&i.webix_selected?" webix_selected":"")+(e.$css?e.$css:""),r="width:"+t.widthSize(e,t,i)+"; height:"+t.heightSize(e,t,i)+"; overflow:hidden;"+(t.layout&&"x"==t.layout?"float:left;":"");return'<div webix_item_id="'+e.id+'" class="'+n+'" style="'+r+'" '+t.aria(e,t,i)+">"},templateStartHeader:function(e,t,i){var n="webix_unit_header webix_unit_"+t.css+"_header"+(e.$selected?"_selected":""),r="width:"+t.widthSize(e,t,i)+"; height:"+t.headerHeight+"px; overflow:hidden;";return'<div webix_unit_id="'+e.$unit+'" class="'+n+'" style="'+r+'">'}},$skin:function(){this.type.headerHeight=webix.skin.$active.unitHeaderHeight||20}},webix.ui.list),webix.EditAbility={defaults:{editaction:"click"},$init:function(e){this.ai={},this.Eb=0,this.bi=0,this.w.style.position="relative",e&&(e.onDblClick=e.onDblClick||{}),this.attachEvent("onAfterRender",this.$s),this.s.editable&&this.ci(),webix.extend(this,webix.Undo)},Ux:function(e){try{if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if("undefined"!=typeof e.createTextRange){var t=e.createTextRange();t.collapse(!1),t.select()}}catch(e){}},$s:function(){var e=this.getEditor();if(e&&e.$inline&&!e.getPopup){var t=this.mi(e);if(t&&t!=e.node){var i=e.node.value;e.node=t,t.value=i,t.focus(),this.Ux(t)}else this.editStop()}},editable_setter:function(e){return e&&this.ci(),e},ci:function(){webix.attachEvent("onEditEnd",webix.bind(function(){this.Eb&&this.editStop()},this)),webix.attachEvent("onClick",webix.bind(function(e){this.Eb&&new Date-this.bi>200&&(this.di&&!this.di.popupType&&e&&this.di.node&&this.di.node.contains(e.target||e.srcElement)||this.editStop())},this)),this.data.attachEvent&&this.data.attachEvent("onIdChange",webix.bind(function(e,t){this.ei(e,t)},this)),this.attachEvent("onItemClick",function(e){this.s.editable&&"click"==this.s.editaction&&this.edit(e)}),this.attachEvent("onItemDblClick",function(e){this.s.editable&&"dblclick"==this.s.editaction&&this.edit(e)}),this.fi=webix.bind(function(){this.bi=new Date},this),this.ci=function(){},this.gi&&this.gi()},Vs:function(){webix.delay(function(){var e=this.getEditor();if(e&&e.config.liveEdit){var t={value:e.getValue(),old:e.value};if(t.value==t.old)return;e.value=t.value,this.ti(e,t.value,!1),this.callEvent("onLiveEdit",[t,e])}},this)},hi:function(e){var t=this.s.form;"string"!=typeof t&&(this.s.form=t=webix.ui(t).config.id);var t=webix.$$(t),i=t.setValues?t:t.getChildViews()[0];i.setValues(this.getItem(e.row||e)),t.config.master=this.config.id,t.show(this.getItemNode(e));var n=i.getChildViews()[0];n.focus&&n.focus()},edit:function(e,t,i){if(this.callEvent("onBeforeEditStart",[e])){if(this.s.form)return this.hi(e);var n=this.ii(e);if(n){if(this.getEditor(e))return;t||this.editStop();var r=webix.extend({},webix.editors[n]),a=this.ji(e,r,i);r.config.liveEdit&&(this.Ws=this.attachEvent("onKeyPress",this.Vs));
var o=r.getPopup?r.getPopup(a).x:a;return o&&webix.UE(o,"click",this.fi),a&&webix.UE(a,"change",this.ki,{bind:{view:this,id:e}}),i!==!1&&r.focus(),this.$fixEditor&&this.$fixEditor(r),this.bi=webix.edit_open_time=new Date,webix.UIManager.setFocus(this,!0),this.callEvent("onAfterEditStart",[e]),r}return null}},getEditor:function(e){return e?this.ai[e]:this.di},ei:function(e,t){var i=this.ai[e];i&&(this.ai[t]=i,i.id=t,delete this.ai[e])},ki:function(e){this.view.hasEvent("onEditorChange")&&this.view.callEvent("onEditorChange",[this.id,this.view.getEditorValue(this.id)])},li:function(e){return this.s},ji:function(e,t,i){var n=(t.config=this.li(e),t.render());t.$inline&&(n=this.mi(e)),t.node=n;var r=this.getItem(e),a=r[this.s.editValue||"value"];return webix.isUndefined(a)&&(a=""),t.setValue(a,r),t.value=a,this.ni(e,t),i!==!1&&this.showItem(e),t.$inline||this.oi(e,n,!0),t.afterRender&&t.afterRender(),n},pi:function(e){return this.getItemNode(e)},mi:function(e){var t=this.pi(e);return t&&(t=t.getElementsByTagName("input")[0]||t),t},ii:function(e){return this.s.editor},ni:function(e,t){t.id=e,this.ai[e]=this.di=t,this.Eb++},qi:function(e){this.di==e&&(this.di=0),e.destroy&&e.destroy(),delete e.popup,delete e.node,delete this.ai[e.id],this.Eb--},focusEditor:function(e){var t=this.getEditor.apply(this,arguments);t&&t.focus&&t.focus()},editCancel:function(){this.editStop(null,null,!0)},Xy:function(e){if(e){var t=this.getEditor();if(t&&t.getPopup&&t.getPopup()==e.getTopParentView())return}this.editStop()},editStop:function(e){if(!this.Zx){this.Zx=1;var t=arguments[2],i=1;return e?i=this.ri(this.ai[e],t):this.si(function(e){i*=this.ri(e,t)}),this.Zx=0,i}},ug:function(e){var t=this.getItemNode(e);return{left:t.offsetLeft,top:t.offsetTop,height:t.offsetHeight,width:t.offsetWidth,parent:this.w}},oi:function(e,t,i){if(t.style){var n=this.ug(e);t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.width=n.width-1+"px",t.style.height=n.height-1+"px",t.top=n.top,i&&n.parent.appendChild(t)}},si:function(e){for(var t in this.ai)e.call(this,this.ai[t])},ri:function(e,t){if(e&&!webix.B){var i={value:e.getValue(),old:e.value};if(this.callEvent("onBeforeEditStop",[i,e,t])){if(!t){var n=i.old;if("string"==typeof i.value&&(n+=""),n!=i.value||e.config.liveEdit){var r=this.ti(e,i.value,!0);this.updateItem(e.row||e.id,r)}}e.$inline?e.node=null:webix.html.remove(e.node);var a=e.config.suggest;return a&&"string"==typeof a&&webix.$$(a).hide(),this.qi(e),this.Ws&&this.detachEvent(this.Ws),this.callEvent("onAfterEditStop",[i,e,t]),1}return 0}},validateEditor:function(e){var t=!0;if(this.s.rules){var i=this.getEditor(e),n=i.column||this.s.editValue||"value",r=this.s.rules[n],a=this.s.rules.$all;if(r||a){var o=this.data.getItem(i.row||i.id),s=i.getValue(),l=i.getInputNode();r&&(t=r.call(this,s,o,n)),a&&(t=a.call(this,s,o,n)&&t),t?webix.html.removeCss(l,"webix_invalid"):webix.html.addCss(l,"webix_invalid"),webix.callEvent("onLiveValidation",[i,t,o,s])}}return t},getEditorValue:function(e){var t;return t=0===arguments.length?this.di:this.getEditor(e),t?t.getValue():void 0},getEditState:function(){return this.di||!1},editNext:function(e,t){if(e=e!==!1,1==this.Eb||t){var i=this.ui(this.di||t,function(e){return!!this.ii(e)},e);if(this.editStop())return i&&(this.edit(i),this.vi(i)),!1}},vi:function(){},ui:function(e,t,i){var n=this.getIndexById(e.id),r=this.data.order;if(i){for(var a=n+1;a<r.length;a++)if(t.call(this,r[a]))return r[a]}else for(var a=n-1;a>=0;a--)if(t.call(this,r[a]))return r[a];return null},ti:function(e,t,i){var n=i?{}:this.getItem(e.id);return n[this.s.editValue||"value"]=t,n}},function(){function e(e,i){var n=e.config.suggest;if(n){var r=e.config.suggest=t(n),a=webix.$$(r);a&&i&&a.linkInput(i)}}function t(e){if("string"==typeof e)return e;if(e.linkInput)return e.s.id;"object"==typeof e?(webix.isArray(e)&&(e={data:e}),e.view=e.view||"suggest"):e===!0&&(e={view:"suggest"});var t=webix.ui(e);return t.config.id}function i(e){var t=e.header&&e.header[0]?e.header[0].text:e.editValue||e.label;return(t||"").toString().replace(/<[^>]*>/g,"")}webix.editors={text:{focus:function(){this.getInputNode(this.node).focus(),this.getInputNode(this.node).select()},getValue:function(){return this.getInputNode(this.node).value},setValue:function(t){var i=this.getInputNode(this.node);i.value=t,e(this,i)},getInputNode:function(){return this.node.firstChild},render:function(){return webix.html.create("div",{class:"webix_dt_editor"},"<input type='text' aria-label='"+i(this.config)+"'>")}},"inline-checkbox":{render:function(){return{}},getValue:function(){return this.node.checked},setValue:function(){},focus:function(){this.node.focus()},getInputNode:function(){},$inline:!0},"inline-text":{render:function(){return{}},getValue:function(){return this.node.value},setValue:function(){},focus:function(){try{this.node.select(),this.node.focus()}catch(e){}},getInputNode:function(){},$inline:!0},checkbox:{focus:function(){this.getInputNode().focus()},getValue:function(){return this.getInputNode().checked},setValue:function(e){this.getInputNode().checked=!!e},getInputNode:function(){return this.node.firstChild.firstChild},render:function(){return webix.html.create("div",{class:"webix_dt_editor"},"<div><input type='checkbox' aria-label='"+i(this.config)+"'></div>")}},select:{focus:function(){this.getInputNode().focus()},getValue:function(){return this.getInputNode().value},setValue:function(e){this.getInputNode().value=e},getInputNode:function(){return this.node.firstChild},render:function(){var e="",t=this.config.options||this.config.collection;if(t.data&&t.data.each)t.data.each(function(t){e+="<option value='"+t.id+"'>"+t.value+"</option>"});else if(webix.isArray(t))for(var n=0;n<t.length;n++){var r=t[n],a=webix.isUndefined(r.id),o=a?r:r.id,s=a?r:r.value;e+="<option value='"+o+"'>"+s+"</option>"}else for(var l in t)e+="<option value='"+l+"'>"+t[l]+"</option>";return webix.html.create("div",{class:"webix_dt_editor"},"<select aria-label='"+i(this.config)+"'>"+e+"</select>")}},popup:{focus:function(){this.getInputNode().focus()},destroy:function(){this.getPopup().hide()},getValue:function(){return this.getInputNode().getValue()||""},setValue:function(e){this.getPopup().show(this.node),this.getInputNode().setValue(e)},getInputNode:function(){return this.getPopup().getChildViews()[0]},getPopup:function(){return this.config.lG||(this.config.lG=this.config.popup=this.createPopup()),webix.$$(this.config.popup)},createPopup:function(){var e=this.config.popup||this.config.suggest;if(e){var t;return"object"!=typeof e||e.name?t=webix.$$(e):(e.view=e.view||"suggest",t=webix.ui(webix.copy(e))),t.mG||(t.linkInput?t.linkInput(document.body):this.linkInput&&this.linkInput(document.body),t.mG=!0),t}var i=webix.editors.$popup[this.popupType];return"string"==typeof i||i.name||(i=webix.editors.$popup[this.popupType]=webix.ui(i),this.popupInit(i),i.linkInput||this.linkInput(document.body)),i.s.id},linkInput:function(e){webix.UE(webix.toNode(e),"keydown",webix.bind(function(e){var t=e.which||e.keyCode,i=this.getInputNode();if(i.isVisible())if(i.moveSelection&&41>t&&t>32){var n;33==t&&(n="pgup"),34==t&&(n="pgdown"),35==t&&(n="bottom"),36==t&&(n="top"),37==t&&(n="left"),38==t&&(n="up"),39==t&&(n="right"),40==t&&(n="down"),i.moveSelection(n)}else 13!==t||"TEXTAREA"===e.target.nodeName&&e.shiftKey||webix.callEvent("onEditEnd",[])},this))},popupInit:function(e){},popupType:"text",render:function(){return{}},$inline:!0}},webix.editors.color=webix.extend({focus:function(){},popupType:"color",popupInit:function(e){e.getChildViews()[0].attachEvent("onItemClick",function(e){webix.callEvent("onEditEnd",[e])})}},webix.editors.popup),webix.editors.date=webix.extend({focus:function(){},popupType:"date",setValue:function(e){this.wi=this.config.stringResult||e&&"string"==typeof e,webix.editors.popup.setValue.call(this,e)},getValue:function(){return this.getInputNode().getValue(this.wi?webix.i18n.parseFormatStr:"")||""},popupInit:function(e){e.getChildViews()[0].attachEvent("onDateSelect",function(e){webix.callEvent("onEditEnd",[e])})}},webix.editors.popup),webix.editors.combo=webix.extend({xi:function(e){return this.config.popup?this.config.popup.config.id:e?t(e):this.rt(e)},rt:function(){var e=webix.editors.combo;return e.st=e.st||this.xi(!0)},render:function(){var e=webix.html.create("div",{class:"webix_dt_editor"},"<input type='text' role='combobox' aria-label='"+i(this.config)+"'>"),t=this.config.suggest=this.xi(this.config.suggest);return t&&(webix.$$(t).linkInput(e.firstChild,!0),webix.UE(e.firstChild,"click",webix.bind(this.showPopup,this))),e},getPopup:function(){return webix.$$(this.config.suggest)},showPopup:function(){var e=this.getPopup(),t=e.getList(),i=this.getInputNode(),n=this.yi;e.show(i),i.setAttribute("aria-expanded","true"),n?t.exists(n)&&(t.select(n),t.showItem(n)):(t.unselect(),t.showItem(t.getFirstId())),e.ae=i},afterRender:function(){this.showPopup()},setValue:function(e){if(this.yi=e,this.config.suggest){var t=webix.$$(this.config.suggest),i=this.config.collection||this.config.options;i&&t.getList().data.importData(i),this.getInputNode(this.node).value=t.getItemText(e)}},getValue:function(){var e=this.getInputNode().value;if(this.config.suggest){var t=webix.$$(this.config.suggest),i=t.getList();(e||i.getSelectedId&&i.getSelectedId())&&(e=t.getSuggestion())}return e}},webix.editors.text),webix.editors.richselect=webix.extend({focus:function(){},getValue:function(){return this.getPopup().getValue()},setValue:function(e){var t=this.config.collection||this.config.options;this.getInputNode(),t&&this.getPopup().getList().data.importData(t),this.getPopup().show(this.node),this.getPopup().setValue(e)},getInputNode:function(){return this.getPopup().getList()},popupInit:function(e){e.linkInput(document.body)},popupType:"richselect"},webix.editors.popup),webix.editors.password=webix.extend({render:function(){return webix.html.create("div",{class:"webix_dt_editor"},"<input type='password' aria-label='"+i(this.config)+"'>")}},webix.editors.text),webix.editors.$popup={text:{view:"popup",width:250,height:150,body:{view:"textarea"}},color:{view:"popup",body:{view:"colorboard"}},date:{view:"popup",width:250,height:250,padding:0,body:{view:"calendar",icons:!0,borderless:!0}},richselect:{view:"suggest",body:{view:"list",select:!0}}}}(),webix.VirtualRenderStack={$init:function(){this.t={},webix.UE(this.x,"scroll",webix.bind(this.Ai,this)),webix.env.touch&&this.attachEvent("onAfterScroll",webix.bind(this.Ai,this)),this.Bi=[]},getItemNode:function(e){return this.t[e]},showItem:function(e){var t=this.Ci(),i=this.data.getIndexById(e),n=Math.floor(i/t.Di)*t.Ei,r=this.getScrollState();(n<r.y||n+this.s.height>=r.y+this.dc)&&this.scrollTo(0,n)},render:function(e,t,i){if(this.isVisible(this.s.id)&&!this.$blockRender)if(e){var n=this.getItemNode(e);switch(i){case"update":if(!n)return;var r=this.t[e]=this.Ne(t);webix.html.insertBefore(r,n),webix.html.remove(n);break;default:this.Fi()}}else this.callEvent("onBeforeRender",[this.data])&&(this.t={},this.Ai(null,!0),this.Gi=!1,this.callEvent("onAfterRender",[]))},Fi:function(){this.Gi||(this.Gi=!0,window.setTimeout(webix.bind(function(){this.render()},this),1))},Hi:function(e){webix.env.maxHTMLElementSize&&(e=Math.min(webix.env.maxHTMLElementSize,e));var t=document.createElement("DIV");return t.style.cssText="height:"+e+"px; width:100%; overflow:hidden;",t},Ai:function(e,t){this.Bi=[];var i=this.Ci();(!this.y.firstChild||t)&&(this.y.innerHTML="",this.y.appendChild(this.Hi(i.Ii)),this.u=[this.y.firstChild]);for(var n=i.R;n<=i.Ji;){for(;this.u[n]&&this.u[n].Ki&&n<=i.Ji;)n++;if(n>i.Ji)break;for(var r=n;!this.u[r];)r--;var a=this.u[r],o=n*i.Di+(this.data.$min||0);if(o>(this.data.$max||1/0))break;var s=Math.min(o+i.Di-1,this.data.$max?this.data.$max-1:1/0),l=this.Hi(i.Ei),u=this.data.getIndexRange(o,s);if(!u.length)break;for(var c={$template:"Loading"},d=0;d<u.length;d++)u[d]||this.Bi.push(o+d),u[d]=this.jb(u[d]||c);l.innerHTML=u.join("");for(var d=0;d<u.length;d++)this.t[this.data.getIdByIndex(o+d)]=l.childNodes[d];var h=parseFloat(a.style.height,10),f=(n-r)*i.Ei,p=h-f-i.Ei;if(webix.html.insertBefore(l,f?a.nextSibling:a,this.y),this.u[n]=l,l.Ki=!0,0>=f&&p>0)a.style.height=p+"px",this.u[n+1]=a;else if(0>f?webix.html.remove(a):a.style.height=f+"px",p>0){var g=this.u[n+1]=this.Hi(p);webix.html.insertBefore(g,l.nextSibling,this.y)}n++}if(this.Bi.length){var v=this.Bi[0],m=this.Bi.pop()+1;if(m>v){var b=m-v;if(this.cf(b,v))return;b=Math.max(b,this.s.datafetch||this.s.loadahead||0),this.loadNext(b,v)}}},Ci:function(){var e=this.getScrollState(),t=Math.max(0,e.y),i=this.bc,n=this.dc,r=this.type,a=Math.floor(i/r.width)||1,o=Math.floor(t/r.height),s=Math.ceil((n+t)/r.height)-1,l=this.data.$max?this.data.$max-this.data.$min:this.data.count(),u=Math.ceil(l/a)*r.height;return{R:o,Ji:s,Li:t,Ii:u,Ei:r.height,Di:a}},ug:function(e){var t=this.getItemNode(e);return t||(this.showItem(e),this.Ai(),t=this.getItemNode(e)),{left:t.offsetLeft,top:t.offsetTop,height:t.offsetHeight,width:t.offsetWidth,parent:this.w}}},webix.protoUI({name:"dataview",$init:function(e){e.sizeToContent&&this.$ready.unshift(this.Mi);var t=e.prerender||this.defaults.prerender;(t===!1||t!==!0&&"auto"!==e.height&&!e.autoheight)&&webix.extend(this,webix.VirtualRenderStack,!0),e.autoheight&&(e.scroll=!1),this.w.className+=" webix_dataview",this.x.setAttribute("role","listbox")},Mi:function(){var e=webix.html.create("DIV",0,this.type.template({}));e.style.position="absolute",document.body.appendChild(e),this.type.width=e.offsetWidth,this.type.height=e.offsetHeight,webix.html.remove(e)},defaults:{scroll:!0,datafetch:50,navigation:!0},ad:"webix_l_id",YF:"webix_dataview_item",on_click:{webix_dataview_item:function(e,t){this.s.select&&("multiselect"==this.s.select||this.s.multiselect?this.select(t,!1,"touch"==this.s.multiselect||e.ctrlKey||e.metaKey,e.shiftKey):this.select(t))}},on_dblclick:{},on_mouse_move:{},type:{template:webix.template("#value#"),templateLoading:webix.template("Loading..."),width:160,height:50,classname:function(e,t,i){var n="webix_dataview_item ";return t.css&&(n+=t.css+" "),e.$css&&("object"==typeof e.$css&&(e.$css=webix.html.createCss(e.$css)),n+=e.$css+" "),i&&i.$css&&(n+=i.$css+" "),n},aria:function(e,t,i){return'role="option"'+(i&&i.webix_selected?' aria-selected="true" tabindex="0"':' tabindex="-1"')},templateStart:webix.template('<div webix_l_id="#id#" class="{common.classname()}" {common.aria()} style="width:{common.width}px; height:{common.height}px; float:left; overflow:hidden;">'),templateEnd:webix.template("</div>")},Ni:function(e){return this.s.height=this.type.height*Math.ceil(this.data.count()/Math.floor(e/this.type.width))},autoheight_setter:function(e){return e&&(this.data.attachEvent("onStoreLoad",webix.bind(this.resize,this)),this.w.style.overflowY="hidden"),e},$getSize:function(e,t){this.s.xCount>0&&"auto"!=this.type.width&&!this.Nw&&(this.s.width=this.type.width*this.s.xCount+(this.cc?webix.ui.scrollSize:0)),this.s.yCount&&"auto"!=this.type.height&&(this.s.height=this.type.height*this.s.yCount);var i=this.s.width||this.bc;return this.s.autoheight&&i&&(this.Ni(i),this.scroll_setter(!1)),webix.ui.view.prototype.$getSize.call(this,e,t)},iz:function(){var e=!1;return this.s.yCount&&"auto"==this.type.height&&(this.type.height=Math.floor(this.dc/this.s.yCount),e=!0),this.s.xCount&&("auto"==this.type.width||this.Nw)?(this.Nw=!0,this.type.width=Math.floor(this.bc/this.s.xCount),e=!0):this.Nw=!1,e},$setSize:function(e,t){if(webix.ui.view.prototype.$setSize.call(this,e,t)){if(this.s.autoheight&&this.Ni()!=this.dc)return webix.delay(this.resize,this);(this.iz()||this.Ai)&&this.render()}}},webix.DataMove,webix.DragItem,webix.MouseEvents,webix.KeysNavigation,webix.SelectionModel,webix.Scrollable,webix.CustomPrint,webix.ui.proto),webix.DataDriver.htmltable={toObject:function(e){e=webix.toNode(e);var t=e.rows;return webix.html.remove(e),t},getRecords:function(e){for(var t=[],i=e[0]&&e[0].Oi?1:0;i<e.length;i++)t.push(e[i]);return t},getDetails:function(e){var t=e.getElementsByTagName("td");e={};for(var i=0;i<t.length;i++)e["data"+i]=t[i].innerHTML;return e},getInfo:function(e){return{size:0}},getOptions:function(){},getConfig:function(e){var t=[],i=e[0].getElementsByTagName("th");i.length&&(e[0].Oi=!0);for(var n=0;n<i.length;n++){var r={id:"data"+n,header:this.Pi(i[n].innerHTML)},a=this.Qi(i[n]);r=webix.extend(r,a),t.push(r)}return t},Pi:function(e){var t=e.indexOf("json://");return-1!=t&&(e=JSON.parse(e.substr(t+7))),e},Qi:function(e){for(var t=e.attributes,i={},n=0;n<t.length;n++)i[t[n].nodeName]=this.Pi(t[n].nodeValue);return i.width=parseInt(i.width,10),i}},webix.protoUI({name:"vscroll",defaults:{scroll:"x",scrollStep:40,scrollPos:0,scrollSize:18,scrollVisible:1,zoom:1},$init:function(e){var t=e.scroll||"x",i=this.x=webix.toNode(e.container);i.className+=" webix_vscroll_"+t,i.innerHTML="<div class='webix_vscroll_body'></div>",webix.UE(i,"scroll",this.Ri,{bind:this}),this.Si=0,this.Wi=0},reset:function(){this.Wi=this.config.scrollPos=0,this.x["x"==this.config.scroll?"scrollLeft":"scrollTop"]=0},Ti:function(e){return e>15e5?(this.s.zoom=Math.floor(e/15e5)+1,this.Ui=e-this.Si,e=Math.floor(e/this.s.zoom)+this.Si):(this.s.zoom=1,this.Ui=1/0),e},scrollWidth_setter:function(e){return e=this.Ti(e),this.x.firstChild.style.width=e+"px",e},scrollHeight_setter:function(e){return e=this.Ti(e),this.x.firstChild.style.height=e+"px",e},sizeTo:function(e,t,i){e=e-(t||0)-(i||0);var n=this.s.scrollSize;webix.env.isIE&&n&&(n+=1),n||!this.s.scrollVisible||webix.env.$customScroll||(this.x.style.pointerEvents="none",n=14),n?(this.x.style.display="block",t&&(this.x.style.marginTop=t+"px"),this.x.style["x"==this.s.scroll?"width":"height"]=Math.max(0,e)+"px",this.x.style["x"==this.s.scroll?"height":"width"]=n+"px"):this.x.style.display="none",this.Si=e},getScroll:function(){return this.s.scrollPos*this.s.zoom},getSize:function(){return(this.s.scrollWidth||this.s.scrollHeight)*this.s.zoom},scrollTo:function(e){0>e&&(e=0);var t=this.s;e=Math.min(((t.scrollWidth||t.scrollHeight)-this.Si)*t.zoom,e),0>e&&(e=0);var i=e/t.zoom;return this.Wi!=i?(this.x["x"==t.scroll?"scrollLeft":"scrollTop"]=i,this.Vi(i),!0):void 0},Ri:function(){var e=this.x["x"==this.s.scroll?"scrollLeft":"scrollTop"];e!=this.Wi&&this.Vi(e)},Vi:function(e){this.Wi=e,this.s.scrollPos=Math.min(this.Ui,e*this.s.zoom)||0,this.callEvent("onScroll",[this.s.scrollPos])},activeArea:function(e,t){this.Xi=t,webix.UE(e,webix.env.isIE8?"mousewheel":"wheel",this.Yi,{bind:this}),this.uB(e)},uB:function(e){!webix.env.touch&&window.navigator.pointerEnabled&&(webix.html.addCss(e,"webix_scroll_touch_ie",!0),webix.UE(e,"pointerdown",function(e){("touch"==e.pointerType||"pen"==e.pointerType)&&(this.km=webix.Touch.hm(e),this.vB=this.s.scrollPos)},{bind:this}),webix.event(document.body,"pointermove",function(e){var t;this.km&&(this.lm=webix.Touch.hm(e),"x"==this.s.scroll?t=this.lm.x-this.km.x:"y"==this.s.scroll&&(t=this.lm.y-this.km.y),t&&Math.abs(t)>5&&this.scrollTo(this.vB-t))},{bind:this}),webix.event(window,"pointerup",function(e){this.km&&(this.km=this.lm=null)},{bind:this}))},Yi:function(e){var t=0,i=0===e.deltaMode?30:1;return webix.env.isIE8&&(t=e.detail=-e.wheelDelta/30),e.deltaX&&Math.abs(e.deltaX)>Math.abs(e.deltaY)?this.Xi&&this.s.scrollVisible&&(t=e.deltaX/i):!this.Xi&&this.s.scrollVisible&&(t=webix.isUndefined(e.deltaY)?e.detail:e.deltaY/i),webix.env.isSafari&&(this.Yy=e.target||e.srcElement),t&&this.scrollTo(this.s.scrollPos+t*this.s.scrollStep)?webix.html.preventEvent(e):void 0}},webix.EventSystem,webix.Settings),webix.Number={getConfig:function(e){var t={decimalSize:0,groupSize:999},i=e.indexOf("0");i>0&&(t.decimalSize=e.length-i,t.decimalDelimiter=e[i-1],e=e.substr(0,i-1));var n=e.match(/[^0-9]/);return n&&(t.groupSize=e.length-n.index-1,t.groupDelimiter=e[n.index]),t},parse:function(e,t){if(!e||"string"!=typeof e)return e;var i="";if(t.decimalDelimiter){var n=e.indexOf(t.decimalDelimiter);n>-1&&(i=e.substr(n+1).replace(/[^0-9]/g,""),i=i.substr(0,Math.min(i.length,t.decimalSize)),e=e.substr(0,n))}var r="-"===e[0]?-1:1;return e=e.replace(/[^0-9]/g,""),e||(e="0"),i&&(e+="."+i),parseFloat(e)*r},format:function(e,t){if(""===e||"undefined"==typeof e)return e;t=t||webix.i18n,e=parseFloat(e);var i=0>e?"-":"";e=Math.abs(e),t.decimalOptional||(e=e.toFixed(t.decimalSize));var n=e.toString();n=n.split(".");var r="";if(t.groupSize){var a=t.groupSize,o=n[0].length;do{o-=a;var s=o>0?n[0].substr(o,a):n[0].substr(0,a+o);r=s+(r?t.groupDelimiter+r:"")}while(o>0)}else r=n[0];return t.decimalSize?i+r+(n[1]?t.decimalDelimiter+n[1]:""):i+r},numToStr:function(e){return function(t){return webix.Number.format(t,e)}}},webix.Date={startOnMonday:!1,toFixed:function(e){return 10>e?"0"+e:e},weekStart:function(e){e=this.copy(e);var t=e.getDay();return this.startOnMonday&&(0===t?t=6:t--),this.datePart(this.add(e,-1*t,"day"))},monthStart:function(e){return e=this.copy(e),e.setDate(1),this.datePart(e)},yearStart:function(e){return e=this.copy(e),e.setMonth(0),this.monthStart(e)},dayStart:function(e){return this.datePart(e,!0)},dateToStr:function(e,t){return"function"==typeof e?e:webix.env.strict?function(t){var i="",n=0;return e.replace(/%[a-zA-Z]/g,function(r,a){i+=e.slice(n,a);var o=function(e){if("%d"==r)return webix.Date.toFixed(e.getDate());if("%m"==r)return webix.Date.toFixed(e.getMonth()+1);if("%j"==r)return e.getDate();if("%n"==r)return e.getMonth()+1;if("%y"==r)return webix.Date.toFixed(e.getFullYear()%100);if("%Y"==r)return e.getFullYear();if("%D"==r)return webix.i18n.calendar.dayShort[e.getDay()];if("%l"==r)return webix.i18n.calendar.dayFull[e.getDay()];if("%M"==r)return webix.i18n.calendar.monthShort[e.getMonth()];if("%F"==r)return webix.i18n.calendar.monthFull[e.getMonth()];if("%h"==r)return webix.Date.toFixed((e.getHours()+11)%12+1);if("%g"==r)return(e.getHours()+11)%12+1;if("%G"==r)return e.getHours();if("%H"==r)return webix.Date.toFixed(e.getHours());if("%i"==r)return webix.Date.toFixed(e.getMinutes());if("%a"==r)return e.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0];if("%A"==r)return e.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1];if("%s"==r)return webix.Date.toFixed(e.getSeconds());if("%S"==r)return webix.Date.toFixed(e.getMilliseconds());if("%W"==r)return webix.Date.toFixed(webix.Date.getISOWeek(e));if("%c"==r){var t=e.getFullYear();return t+="-"+webix.Date.toFixed(e.getMonth()+1),t+="-"+webix.Date.toFixed(e.getDate()),t+="T",t+=webix.Date.toFixed(e.getHours()),t+=":"+webix.Date.toFixed(e.getMinutes()),t+=":"+webix.Date.toFixed(e.getSeconds())}return r};i+=o(t),n=a+2}),i+=e.slice(n,e.length)}:(e=e.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return'"+webix.Date.toFixed(date.getDate())+"';case"%m":return'"+webix.Date.toFixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+webix.Date.toFixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+webix.i18n.calendar.dayShort[date.getDay()]+"';case"%l":return'"+webix.i18n.calendar.dayFull[date.getDay()]+"';case"%M":return'"+webix.i18n.calendar.monthShort[date.getMonth()]+"';case"%F":return'"+webix.i18n.calendar.monthFull[date.getMonth()]+"';case"%h":return'"+webix.Date.toFixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+webix.Date.toFixed(date.getHours())+"';case"%i":return'"+webix.Date.toFixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?webix.i18n.pm[0]:webix.i18n.am[0])+"';case"%A":return'"+(date.getHours()>11?webix.i18n.pm[1]:webix.i18n.am[1])+"';case"%s":return'"+webix.Date.toFixed(date.getSeconds())+"';case"%S":return'"+webix.Date.toFixed(date.getMilliseconds())+"';case"%W":return'"+webix.Date.toFixed(webix.Date.getISOWeek(date))+"';case"%c":var i='"+date.getFullYear()+"';return i+='-"+webix.Date.toFixed((date.getMonth()+1))+"',i+='-"+webix.Date.toFixed(date.getDate())+"',i+="T",i+='"+webix.Date.toFixed(date.getHours())+"',i+=':"+webix.Date.toFixed(date.getMinutes())+"',i+=':"+webix.Date.toFixed(date.getSeconds())+"',t===!0&&(i+="Z"),i;default:return e}}),t===!0&&(e=e.replace(/date\.get/g,"date.getUTC")),new Function("date","if (!date) return ''; if (!date.getMonth) date=webix.i18n.parseFormatDate(date);  return \""+e+'";'))},strToDate:function(e,t){if("function"==typeof e)return e;var i,n,r,a=e.match(/%[a-zA-Z]/g),o="var temp=date.split(/[^0-9a-zA-Z]+/g);";if(!webix.i18n.calendar.monthShort_hash){for(r=webix.i18n.calendar.monthShort,n=webix.i18n.calendar.monthShort_hash={},i=0;i<r.length;i++)n[r[i]]=i;for(r=webix.i18n.calendar.monthFull,n=webix.i18n.calendar.monthFull_hash={},i=0;i<r.length;i++)n[r[i]]=i}if(webix.env.strict)return function(e){if(!e)return"";if("object"==typeof e)return e;var n=e.split(/[^0-9a-zA-Z]+/g),r=[0,0,1,0,0,0,0];for(i=0;i<a.length;i++){var o=a[i];if("%y"==o)r[0]=1*n[i]+(n[i]>30?1900:2e3);else if("%Y"==o)r[0]=1*(n[i]||0),r[0]<30&&(r[0]+=2e3);else if("%n"==o||"%m"==o)r[1]=(n[i]||1)-1;else if("%M"==o)r[1]=webix.i18n.calendar.monthShort_hash[n[i]]||0;else if("%F"==o)r[1]=webix.i18n.calendar.monthFull_hash[n[i]]||0;else if("%j"==o||"%d"==o)r[2]=n[i]||1;else if("%g"==o||"%G"==o||"%h"==o||"%H"==o)r[3]=n[i]||0;else if("%a"==o)r[3]=r[3]%12+((n[i]||"")==webix.i18n.am[0]?0:12);else if("%A"==o)r[3]=r[3]%12+((n[i]||"")==webix.i18n.am[1]?0:12);else if("%i"==o)r[4]=n[i]||0;else if("%s"==o)r[5]=n[i]||0;else if("%S"==o)r[6]=n[i]||0;else if("%c"==o){var s=/(\d+)-(\d+)-(\d+)T(\d+):(\d+):(\d+)(\+.*|)/g,l=s.exec(e);r[0]=1*(l[1]||0),r[0]<30&&(r[0]+=2e3),r[1]=(l[2]||1)-1,r[2]=l[3]||1,r[3]=l[4]||0,r[4]=l[5]||0,r[5]=l[6]||0}}return t?new Date(Date.UTC(r[0],r[1],r[2],r[3],r[4],r[5],r[6])):new Date(r[0],r[1],r[2],r[3],r[4],r[5],r[6])};for(i=0;i<a.length;i++)switch(a[i]){case"%j":case"%d":o+="set[2]=temp["+i+"]||1;";break;case"%n":case"%m":o+="set[1]=(temp["+i+"]||1)-1;";break;case"%y":o+="set[0]=temp["+i+"]*1+(temp["+i+"]>30?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":o+="set[3]=temp["+i+"]||0;";break;case"%i":o+="set[4]=temp["+i+"]||0;";break;case"%Y":o+="set[0]=(temp["+i+"]||0)*1; if (set[0]<30) set[0]+=2000;";break;case"%a":o+="set[3]=set[3]%12+(temp["+i+"]==webix.i18n.am[0]?0:12);";break;case"%A":o+="set[3]=set[3]%12+(temp["+i+"]==webix.i18n.am[1]?0:12);";break;case"%s":o+="set[5]=temp["+i+"]||0;";break;case"%S":o+="set[6]=temp["+i+"]||0;";break;case"%M":o+="set[1]=webix.i18n.calendar.monthShort_hash[temp["+i+"]]||0;";break;case"%F":o+="set[1]=webix.i18n.calendar.monthFull_hash[temp["+i+"]]||0;";break;case"%c":o+="var res = date.split('T');",o+="if(res[0]){ var d = res[0].split('-');",o+="set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;",o+="set[1]= (d[1]||1)-1;",o+="set[2]= d[2]||1;}",o+="if(res[1]){ var t = res[1].split(':');",o+="set[3]= t[0]||0;",o+="set[4]= t[1]||0;",o+="set[5]= parseInt(t[2])||0;}"}var s="set[0],set[1],set[2],set[3],set[4],set[5], set[6]";return t&&(s=" Date.UTC("+s+")"),new Function("date","if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0,0]; "+o+" return new Date("+s+");")},getISOWeek:function(e){if(!e)return!1;var t=e.getDay();0===t&&(t=7);var i=new Date(e.valueOf());i.setDate(e.getDate()+(4-t));var n=i.getFullYear(),r=Math.floor((i.getTime()-new Date(n,0,1).getTime())/864e5),a=1+Math.floor(r/7);return a},getUTCISOWeek:function(e){return this.getISOWeek(e)},Jv:function(e,t,i,n){if(i){var r=n(e,t);if(r)for(var a=i>0?1:-1;r;)e.setHours(e.getHours()+a),r=n(e,t),a+=i>0?1:-1}},add:function(e,t,i,n){n&&(e=this.copy(e));var r=webix.Date.copy(e);switch(i){case"day":e.setDate(e.getDate()+t),this.Jv(e,r,t,function(e,t){return webix.Date.datePart(t,!0).valueOf()==webix.Date.datePart(e,!0).valueOf()});break;case"week":e.setDate(e.getDate()+7*t),this.Jv(e,r,7*t,function(e,t){return webix.Date.datePart(t,!0).valueOf()==webix.Date.datePart(e,!0).valueOf()});break;case"month":e.setMonth(e.getMonth()+t),this.Jv(e,r,t,function(e,t){return t.getMonth()==e.getMonth()&&t.getYear()==e.getYear()});break;case"year":e.setYear(e.getFullYear()+t),this.Jv(e,r,t,function(e,t){return t.getFullYear()==e.getFullYear()});break;case"hour":e.setHours(e.getHours()+t),this.Jv(e,r,t,function(e,t){return t.getHours()==e.getHours()&&webix.Date.datePart(t,!0)==webix.Date.datePart(e,!0)});break;case"minute":e.setMinutes(e.getMinutes()+t);break;default:webix.Date.add[i](e,t,i)}return e},datePart:function(e,t){t&&(e=this.copy(e));var i=this.copy(e);return i.setHours(0),i.getDate()!=e.getDate()?e.setHours(1):e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},timePart:function(e,t){return t&&(e=this.copy(e)),(e.valueOf()/1e3-60*e.getTimezoneOffset())%86400},copy:function(e){return new Date(e.valueOf())},equal:function(e,t){return!(!e||!t)&&e.valueOf()===t.valueOf()},isHoliday:function(e){return e=e.getDay(),0===e||6==e?"webix_cal_event":void 0}},webix.i18n={Zi:["fullDateFormat","timeFormat","dateFormat","longDateFormat","parseFormat","parseTimeFormat"],parseFormat:"%Y-%m-%d %H:%i",parseTimeFormat:"%H:%i",numberFormat:webix.Number.format,priceFormat:function(e){return webix.i18n.$i(webix.i18n.numberFormat(e,webix.i18n._i))},setLocale:function(e){var t=function(e,i){for(var n in i)"object"!=typeof i[n]||webix.isArray(i[n])?e[n]=i[n]:(e[n]||(e[n]={}),t(e[n],i[n]))};"string"==typeof e&&(e=this.locales[e]),e&&t(this,e);for(var i=webix.i18n.Zi,n=0;n<i.length;n++){var r=i[n],a=webix.i18n[r+"UTC"];webix.i18n[r+"Str"]=webix.Date.dateToStr(webix.i18n[r],a),webix.i18n[r+"Date"]=webix.Date.strToDate(webix.i18n[r],a)}this.$i=webix.template(this.price),this._i=this.priceSettings||this,this.intFormat=webix.Number.numToStr({groupSize:this.groupSize,groupDelimiter:this.groupDelimiter,decimalSize:0})}},webix.i18n.locales={},webix.i18n.locales["en-US"]={groupDelimiter:",",groupSize:3,decimalDelimiter:".",decimalSize:2,dateFormat:"%m/%d/%Y",timeFormat:"%h:%i %A",longDateFormat:"%d %F %Y",fullDateFormat:"%m/%d/%Y %h:%i %A",am:["am","AM"],pm:["pm","PM"],price:"${obj}",priceSettings:{groupDelimiter:",",groupSize:3,decimalDelimiter:".",decimalSize:2},fileSize:["b","Kb","Mb","Gb","Tb","Pb","Eb"],calendar:{monthFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],hours:"Hours",minutes:"Minutes",done:"Done",clear:"Clear",today:"Today"},dataExport:{page:"Page",of:"of"},PDFviewer:{of:"of",automaticZoom:"Automatic Zoom",actualSize:"Actual Size",pageFit:"Page Fit",pageWidth:"Page Width",pageHeight:"Page Height"},aria:{calendar:"Calendar",increaseValue:"Increase value",decreaseValue:"Decrease value",navMonth:["Previous month","Next month"],navYear:["Previous year","Next year"],navDecade:["Previous decade","Next decade"],dateFormat:"%d %F %Y",monthFormat:"%F %Y",yearFormat:"%Y",hourFormat:"Hours: %h %A",minuteFormat:"Minutes: %i",removeItem:"Remove item",pages:["First page","Previous page","Next page","Last page"],page:"Page",headermenu:"Header menu",openGroup:"Open column group",closeGroup:"Close column group",closeTab:"Close tab",showTabs:"Show more tabs",resetTreeMap:"Reset tree map",navTreeMap:"Level up",nextTab:"Next tab",prevTab:"Previous tab",multitextSection:"Add section",multitextextraSection:"Remove section",showChart:"Show chart",hideChart:"Hide chart",resizeChart:"Resize chart"},richtext:{underline:"Underline",bold:"Bold",italic:"Italic"},combo:{select:"Select",selectAll:"Select all",unselectAll:"Unselect all"}},webix.i18n.setLocale("en-US"),webix.protoUI({name:"datatable",defaults:{leftSplit:0,rightSplit:0,topSplit:0,columnWidth:100,minColumnWidth:20,minColumnHeight:26,prerender:!1,autoheight:!1,autowidth:!1,header:!0,fixedRowHeight:!0,scrollAlignY:!0,scrollX:!0,scrollY:!0,
datafetch:50,navigation:!0},$skin:function(){var e=webix.skin.$active.rowHeight,t=this.defaults;t.rowHeight=e,t.headerRowHeight=webix.skin.$active.barHeight},on_click:{webix_richfilter:function(){return!1},webix_table_checkbox:function(e,t){t=this.locate(e);var i=this.getItem(t.row),n=this.getColumnConfig(t.column),r=e.target||e.srcElement,a="checkbox"==r.type?r.checked:i[t.column]!=n.checkValue,o=a?n.checkValue:n.uncheckValue,s={};return s[t.column]=o,this.updateItem(t.row,s,this.s.checkboxRefresh?"update":"save"),this.callEvent("onCheck",[t.row,t.column,o]),!1},webix_table_radio:function(e){var t=this.locate(e),i=this.getItem(t.row),n=this.getColumnConfig(t.column);return this.eachRow(function(e){var i=this.data.pull[e];i&&i[t.column]==n.checkValue&&(i[t.column]=n.uncheckValue)}),i[t.column]=n.checkValue,this.callEvent("onCheck",[t.row,t.column,!0]),this.refresh(),!1}},on_dblclick:{webix_table_checkbox:function(){return this.on_click.webix_table_checkbox.apply(this,arguments)}},on_context:{},$init:function(e){this.on_click=webix.extend({},this.on_click);var t="<div class='webix_ss_header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div>";t+="<div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div>",t+="<div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div>",t+="<div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>",this.w.innerHTML=t,this.bj=this.w.id=this.name+webix.uid(),this.w.className+=" webix_dtable",this.y=this.w,this.I=this.w.firstChild,this.Vf=this.I.nextSibling,this.cj=this.Vf.nextSibling.nextSibling,this.x.setAttribute("role","grid"),e.editable||this.x.setAttribute("aria-readonly","true"),this.data.provideApi(this,!0),this.data.attachEvent("onParse",webix.bind(this.dj,this)),this.$ready.push(this.ej),this.fj=[],this.bm=[],this.Mt=[],this.Nt=[],this.gj=[],this.hj={},this.ij={},this.$g=this.jj=0,this.Ns=[],this.data.attachEvent("onServerConfig",webix.bind(this.kj,this)),this.data.attachEvent("onServerOptions",webix.bind(this.lj,this)),this.attachEvent("onViewShow",function(){this.Ow(),this.nz()}),this.data.attachEvent("onClearAll",webix.bind(function(e){e||(this.bk=this.jk=0,this.Zj&&this.Zj.reset(),this.Wj&&this.Wj.reset(),this.oH(0))},this)),this.attachEvent("onDestruct",this.YC),this.attachEvent("onKeyPress",this.DD),this.attachEvent("onScrollY",this.dF),webix.callEvent("onDataTable",[this,e])},mj:function(){this.nj=this.oj=webix.ui.scrollSize,webix.html.addStyle("#"+this.bj+" .webix_cell { height:"+this.s.rowHeight+"px; line-height:"+(this.s.rowLineHeight||this.s.rowHeight)+"px;"+(this.s.fixedRowHeight?"":"white-space:normal;")+" }"),webix.html.addStyle("#"+this.bj+" .webix_hcell { height:"+this.s.headerRowHeight+"px; line-height:"+this.s.headerRowHeight+"px;}"),this.mj=function(){}},ej:function(){this.data.attachEvent("onStoreLoad",webix.bind(this.nz,this)),this.data.attachEvent("onSyncApply",webix.bind(this.nz,this)),this.data.attachEvent("onStoreUpdated",webix.bind(function(){return this.render.apply(this,arguments)},this)),this.data.attachEvent("onStoreUpdated",webix.bind(this.pj,this)),this.render()},refresh:function(){this.render()},render:function(e,t,i){if("save"!=i){if("move"==i){var n=webix.DragControl.getContext();if(n&&n.fragile)return}if(!this.fj.length){var r=this.s.columns;if(!r||!r.length){if(!this.s.autoConfig||!this.data.order.length||this.bm.length)return;this.tj=0,this.qj()}this.rj()}if(!this.isVisible(this.s.id)||this.$blockRender)return this.mj();var a=this.config.experimental&&!this.s.subview;return!e||-1==t||"paint"!=i&&"update"!=i||a?(this.sj&&(clearTimeout(this.sj),this.sj=0),this.callEvent("onBeforeRender",[this.data])?(this.mj(),this.tj||this.uj(),this.bc&&(a&&("paint"==i||"update"==i)&&e?this.Kv(e):this.vj(!0,!0)),e&&"update"==i||(this.wj=this.xj(),this.yj()),this.x.setAttribute("aria-colcount",Math.max(this.bm.length,this.fj.length)),this.x.setAttribute("aria-rowcount",this.data.count()),this.callEvent("onAfterRender",[this.data]),!0):void 0):(this.sj&&clearTimeout(this.sj),void(this.sj&&this.Lv!=e?(this.Lv=null,this.sj=webix.delay(function(){this.render()},this)):(this.Lv=e,this.sj=webix.delay(function(){this.render(e,-1,i)},this))))}},getColumnConfig:function(e){return this.Aj[e]||this.am[e]},lj:function(e){for(var t in e){var i=this.getColumnConfig(t),n=new webix.DataCollection({data:e[t]});this.Ns.push(n),this.Bj(n,i)}},kj:function(e){e.columns&&this.tj&&this.refreshColumns(null,!0)},rj:function(){if(this.s.columns){this.fj=this.s.columns,this.Aj={};for(var e=0;e<this.fj.length;e++){var t=this.fj[e];this.Aj[t.id]=t;var i=t.cssFormat;if(i&&(t.cssFormat=webix.toFunctor(i,this.$scope)),t.width=t.width||this.s.columnWidth,"string"==typeof t.format&&(t.format=webix.i18n[t.format]||window[t.format]),t.numberFormat){var n=t.numberFormat;"string"==typeof n&&(t.numberFormat=n=webix.Number.getConfig(n)),t.format=webix.Number.numToStr(n),t.editFormat=t.editFormat||function(e){return webix.Number.format(e,n)},t.editParse=t.editParse||function(e){return webix.Number.parse(e,n)}}webix.isUndefined(t.checkValue)&&(t.checkValue=1),webix.isUndefined(t.uncheckValue)&&(t.uncheckValue=0),t.css&&"object"==typeof t.css&&(t.css=webix.html.createCss(t.css));var r=t.template;r&&("string"==typeof r&&(r=r.replace(/#\$value#/g,"#"+t.id+"#")),t.template=webix.template(r))}this.Mj("header",this.Mt),this.Mj("footer",this.Nt),this.callEvent("onStructureLoad",[])}},Cj:function(){this.uj()},YC:function(){for(var e=0;e<this.fj.length;e++)delete this.fj[e].attached,delete this.fj[e].node},uj:function(){this.Fj=this.fj.length-this.s.rightSplit,this.Gj=0;for(var e=0;e<this.fj.length;e++){if(!this.fj[e].node){var t=webix.html.create("DIV");t.style.width=this.fj[e].width+"px",this.fj[e].node=t}e>=this.s.leftSplit&&e<this.Fj&&(this.Gj+=this.fj[e].width)}var i=[];if(this.s.rightSplit){var n=this.fj.length-this.s.rightSplit;i[n]=" webix_first",i[n-1]=" webix_last"}if(this.s.leftSplit){var r=this.s.leftSplit;i[r]=" webix_first",i[r-1]=" webix_last"}i[0]=(i[0]||"")+" webix_first";var a=this.fj.length-1;i[a]=(i[a]||"")+" webix_last";for(var e=0;e<this.fj.length;e++){var o=this.fj[e].node;o.setAttribute("column",e),o.className="webix_column "+(this.fj[e].css||"")+(i[e]||"")}this.Hj(),this.Ij(),this.Jj(),this.Kj(),this.tj=!0},Ij:function(){for(var e=0,t=0;t<this.fj.length;t++){var i=this.fj[t];(t==this.s.leftSplit||t==this.Fj)&&(e=0),i.node&&(i.node.style.left=e+"px",(this.s.leftSplit||this.s.rightSplit)&&(webix.html.remove(i.node),i.attached=!1)),e+=i.width}},Kj:function(){this.Lj||(this.Lj=0),this.$g=this.jj=0,this.s.header&&(this.fk(this.I,0,1),this.Mj("header",this.Mt),this.$g=this.Mt.Ot,this.Nj(this.I,"header",this.Mt)),this.s.footer&&(this.fk(this.cj,0,1),this.Mj("footer",this.Nt),this.jj=this.Nt.Ot,this.Nj(this.cj,"footer",this.Nt)),this.refreshHeaderContent(!1,!1),this.Oj(),this.Nk&&this.markSorting(this.Nk,this.Ok)},RF:function(e,t,i){var n=0,r=e.colspan||1,a="webix_hcell "+(e.css||"");if(e.rotate)a+=" webix_measure_rotate";else for(var o=0;r>o;o++)n+=this.fj[i+o]?this.fj[i+o].width:this.config.columnWidth;var s=webix.html.getTextSize([e.text],a,n);return(e.rotate?s.width:s.height)+1},Mj:function(e,t){for(var i=0,n=0;n<this.fj.length;n++){var r=this.fj[n][e];r&&"object"==typeof r&&r.length||(webix.isUndefined(r)&&(r="header"==e?this.fj[n].id:""),r=[r]);for(var a=0;a<r.length;a++)"object"!=typeof r[a]&&(r[a]={text:r[a]}),r[a]&&r[a].height&&(t[a]=r[a].height),r[a]&&r[a].autoheight&&(t[a]=this.RF(r[a],this.fj[n],n));i=Math.max(i,r.length),this.fj[n][e]=r}t.Ot=i;for(var n=i-1;n>=0;n--)t[n]=t[n]||this.s.headerRowHeight,t.Ot+=1*t[n];for(var n=0;n<this.fj.length;n++)for(var o=this.fj[n][e],a=0;a<o.length;a++){if(o[a]&&o[a].rowspan)for(var s=1;s<o[a].rowspan;s++)o[a+s]=null;if(o[a]&&o[a].colspan)for(var s=1;s<o[a].colspan;s++)this.fj[n+s][e][a]=null}for(var n=0;n<this.fj.length;n++){var r=this.fj[n][e];if(r.length<i){var l=r.length-1;r[l].rowspan=i-r.length+1;for(var a=l+1;i>a;a++)r[a]=null}}return i},Pj:function(e,t){for(var i=e.getElementsByTagName("TD"),n=0;n<i.length;n++)if(i[n].getAttribute("active_id")==t)return i[n]},getHeaderContent:function(e){var t=this.Pj(this.I,e);if(t||(t=this.Pj(this.cj,e)),t){var i=this.hj[e],n=webix.ui.datafilter[i.content];return n.getHelper?n.getHelper(t,i):{type:n,getValue:function(){return n.getValue(t)},setValue:function(e){return n.setValue(t,e)}}}},Pt:function(e,t,i){var n=i?-1:0;for(i+=t,t;i>t;t++)n+=e[t]+1;return n},Qj:function(e,t,i,n,r){if(e==t)return"";for(var a="<table role='presentation' style='width:"+i+"px' cellspacing='0' cellpadding='0'>",o=e;t>o;o++){a+="<tr class='webix_size_row'>";for(var o=e;t>o;o++)a+="<td style='width:"+this.fj[o].width+"px;'></td>";a+="</tr>"}for(var s=this.fj[0][n].length,l=0;s>l;l++){a+="<tr section='"+n+"' role='row'>";for(var o=e;t>o;o++){var u=this.fj[o][n][l];if(null!==u){u.content&&(u.contentId=u.contentId||webix.uid(),u.columnId=this.fj[o].id,u.format=this.fj[o].format,u.text=webix.ui.datafilter[u.content].render(this,u),this.hj[u.contentId]=u,this.Rj=!0),a+="<td  role='presentation' column='"+(u.colspan?u.colspan-1+o:o)+"'";var c="";o==e&&(c+="webix_first");var d=o+(u.colspan?u.colspan-1:0);d>=t-1&&(c+=" webix_last"),c&&(a+=' class="'+c+'"');var h=r[l],f="";u.contentId&&(a+=" active_id='"+u.contentId+"'"),u.colspan&&(a+=" colspan='"+u.colspan+"'"),u.rowspan&&(a+=" rowspan='"+u.rowspan+"'",h=this.Pt(this.Mt,l,u.rowspan)),h!=this.s.headerRowHeight&&(f=" style='line-height:"+h+"px; height:"+h+"px;'");var p="webix_hcell",g=u.css;g&&("object"==typeof g&&(u.css=g=webix.html.createCss(g)),p+=" "+g),this.fj[o].$selected&&(p+=" webix_sel_hcell"),a+="><div role='columnheader' class='"+p+"'"+f+">";var v=""===u.text?"&nbsp;":u.text;u.rotate&&(v="<div class='webix_rotate' style='width:"+(h-10)+"px; transform-origin:center "+(h-15)/2+"px;-webkit-transform-origin:center "+(h-15)/2+"px;'>"+v+"</div>"),a+=v+"</div></td>"}}a+="</tr>"}return a+="</tr></table>"},showItemByIndex:function(e,t){var i=this.s.pager;if(i){var n=Math.floor(e/i.size);n!=i.page&&webix.$$(i.id).select(n)}if(-1!=e){var r=this.Sj();if(e<r[0]+1||e>=r[1]-1){var a=this.Tj(i?this.data.$min:0,e);e<r[0]+1?a=Math.max(0,a-1)-this.xD:(a+=this.Uj(e)-this.Vj,e>0&&(a+=this.Uj(e-1)-1)),this.Wj.scrollTo(a)}}if(-1!=t){if(t<this.s.leftSplit)return;if(t>=this.Fj)return;var r=this.Xj();if(t<r[0]+1||t>=r[1]-1){for(var a=0,o=this.s.leftSplit;t>o;o++)a+=this.fj[o].width;t<r[0]+1||(a+=this.fj[t].width-this.Yj),this.Zj.scrollTo(a)}}},showCell:function(e,t){if(!t||!e){var i=this.getSelectedId(!0);1==i.length&&(t=t||i[0].column,e=e||i[0].row)}t=t?this.getColumnIndex(t):-1,e=e?this.getIndexById(e):-1,this.showItemByIndex(e,t)},scrollTo:function(e,t){if(this.Zj){if(this.$j)return this.$j(e,t);null!==e&&this.Zj.scrollTo(e),null!==t&&this.Wj.scrollTo(t)}},getScrollState:function(){if(this._j)return this._j();var e=this.ck?0:this.aC||0;return{x:this.bk||0,y:this.jk+e}},showItem:function(e){this.showItemByIndex(this.getIndexById(e),-1)},Nj:function(e,t,i){e.childNodes[0].innerHTML=this.Qj(0,this.s.leftSplit,this.dk,t,i),e.childNodes[1].innerHTML=this.Qj(this.s.leftSplit,this.Fj,this.Gj,t,i),e.childNodes[1].onscroll=webix.bind(this._s,this),e.childNodes[2].innerHTML=this.Qj(this.Fj,this.fj.length,this.ek,t,i)},_s:function(){var e=this.getScrollState().x,t=this.I.childNodes[1].scrollLeft;t!=e&&this.scrollTo(t,null)},pj:function(){this.refreshHeaderContent(!0,!0)},nz:function(){this.refreshHeaderContent(!1,!0)},refreshHeaderContent:function(e,t,i){this.s.header&&(t&&this.fk(this.I,e,1,i),this.fk(this.I,e,0,i)),this.s.footer&&(t&&this.fk(this.cj,e,1,i),this.fk(this.cj,e,0,i))},refreshFilter:function(e){(!e||this.hj[e])&&this.refreshHeaderContent(!1,!0,e)},fk:function(e,t,i,n){if(this.Rj&&e)for(var r=e.getElementsByTagName("TD"),a=0;a<r.length;a++)if(r[a].getAttribute("active_id")){var o=this.hj[r[a].getAttribute("active_id")];if(n&&n!=o.columnId)continue;var s=webix.ui.datafilter[o.content];i?s.getValue&&(o.value=s.getValue(r[a])):(!t||s.trackCells)&&s.refresh(this,r[a],o)}},headerContent:[],gk:function(e,t,i){this.oj?(e.style.height=Math.max(t,1)-1+"px",e.style.width=(this.Fj?0:i)+this.oj-1+"px",webix.env.isWebKit&&e.offsetWidth):e.style.display="none"},Oj:function(){this.s.header&&this.gk(this.hk,this.$g,this.Lj),this.s.footer&&this.gk(this.ik,this.jj,this.Lj)},sk:function(e,t){var i=!(this.s.autowidth||this.s.scrollX===!1);this.nj=i?webix.ui.scrollSize:0;var n=!(this.s.autoheight||this.s.scrollY===!1);this.oj=n?webix.ui.scrollSize:0,webix.env.touch&&(i=n=!1),this.Zj&&(this.Zj.s.scrollSize=this.nj,this.Zj.s.scrollVisible=i),this.Wj&&(this.Wj.s.scrollSize=this.oj,this.Wj.s.scrollVisible=n)},Hj:function(){this.jk=0,this.bk=0;var e,t;if(e=t=1,(this.s.autoheight||this.s.scrollY===!1)&&(t=this.oj=0),(this.s.autowidth||this.s.scrollX===!1)&&(e=this.nj=0),webix.env.touch&&(e=t=0),this.Zj||(this.Zj=new webix.ui.vscroll({container:this.cj.previousSibling,scrollWidth:this.Gj,scrollSize:this.nj,scrollVisible:e}),!e||this.nj||webix.env.$customScroll||(this.Zj.x.style.position="absolute"),this.Zj.attachEvent("onScroll",webix.bind(this.kk,this))),!this.Wj){this.hk=this.cj.nextSibling;var i=this.hk.nextSibling;this.ik=i.nextSibling,this.Wj=new webix.ui.vscroll({container:i,scrollHeight:100,scroll:"y",scrollSize:this.oj,scrollVisible:t}),this.Wj.activeArea(this.Vf),this.Zj.activeArea(this.Vf,!0),this.Wj.attachEvent("onScroll",webix.bind(this.lk,this))}this.bc&&this.callEvent("onResize",[this.bc,this.dc]),webix.env.$customScroll&&webix.CustomScroll.enable(this),this.Hj=function(){}},columnId:function(e){return this.fj[e].id},getColumnIndex:function(e){for(var t=0;t<this.fj.length;t++)if(this.fj[t].id==e)return t;return-1},nk:function(e,t){var i,n=0,r=0,a=0,o=0,s=0;for(i=0;i<this.fj.length&&((this.Fj==i||this.s.leftSplit==i)&&(n=0,s++),this.fj[i].id!=t);i++)n+=this.fj[i].width;for(r+=this.fj[i].width,i=0;i<this.data.order.length&&this.data.order[i]!=e;i++)o+=this.Uj(i);return a+=this.Uj(i),[n,r,o-this.jk,a,this.Vf.childNodes[s]]},ok:function(){return this.row},locate:function(e,t){if(this.s.subview&&this!=webix.$$(e))return null;for(e=e.target||e.srcElement||e;e&&e.getAttribute&&e!==this.$view;){var i=webix.html.TC(e).toString(),n=null;if(-1!=i.indexOf("webix_cell")&&(n=this.pk(e),n&&(n.row=this.data.order[n.rind])),-1!=i.indexOf("webix_hcell")&&(n=this.pk(e),n&&(n.header=!0)),n)return t?n.header?null:n.row:(n.column=this.fj[n.cind].id,n.toString=this.ok,n);e=e.parentNode}return null},pk:function(e){var t=e.parentNode;if(!t)return null;var i=1*(e.getAttribute("column")||t.getAttribute("column")),n=e.getAttribute("row")||0,r=1*(e.getAttribute("colspan")||t.getAttribute("colspan"));if(!n)for(var a=0;a<t.childNodes.length;a++)t.childNodes[a]==e&&(n=a>=this.s.topSplit?a+this.fj[i].qk-this.s.topSplit:a);return{rind:n,cind:i,span:r}},ZF:function(){for(var e=-this.Yj,t=0;t<this.fj.length;t++)e+=this.fj[t].width;this.bk=Math.min(this.bk,Math.max(0,e))},rk:function(e){this.tj&&(this.ZF(),this.Ij(),this.Jj(),this.Kj(),e||this.vj(!1,!1))},setColumnWidth:function(e,t,i){return this.Xs(this.getColumnIndex(e),t,i)},Xs:function(e,t,i,n){if(!(isNaN(t)||0>e)){var r=this.fj[e];r.minWidth&&t<r.minWidth?t=r.minWidth:t<this.s.minColumnWidth&&(t=this.s.minColumnWidth);var a=r.width;return a!=t&&(e>=this.s.leftSplit&&e<this.Fj&&(this.Gj+=t-a),r.width=t,!!r.node&&(r.node.style.width=t+"px",i||this.rk(),this.callEvent("onColumnResize",[r.id,t,a,!!n]),!0))}},FA:function(e){return(e.$height||this.s.rowHeight)+(e.$subopen?e.$subHeight:0)},Uj:function(e){var t=this.data.order[e];return t?this.FA(this.data.pull[t]):this.s.rowHeight},Tj:function(e,t){if(this.s.fixedRowHeight)return(t-e)*this.s.rowHeight;for(var i=0;t>e;e++)i+=this.Uj(e);return i},ug:function(e,t){var i;1==arguments.length&&(t=e.column,e=e.row);for(var n=this.getItem(e),r=this.getColumnConfig(t),a=0,o=0,s=0;s<this.fj.length;s++){(s==this.s.leftSplit||s==this.Fj)&&(a=0);var l=this.fj[s];if(l.id==t){var u=s<this.s.leftSplit?0:s>=this.Fj?2:1;o=this.Vf.childNodes[u].firstChild;break}a+=l.width}return i=this.getIndexById(e)<this.s.topSplit?this.Tj(0,this.getIndexById(e)):this.Tj((this.ak||0)-this.s.topSplit,this.getIndexById(e))+(this.ck||0),{parent:o,top:i,left:a,width:r.width,height:n.$height||this.s.rowHeight}},xj:function(){var e=this.s.pager,t=0,i=this.data.order.length;return e&&(t=e.size*e.page,i=Math.min(i,t+e.size),e.level&&(t=this.data.$min,i=this.data.$max)),this.Tj(t,i)},setRowHeight:function(e,t){if(!isNaN(t)){t<this.s.minColumnHeight&&(t=this.s.minColumnHeight);var i=this.getItem(e),n=i.$height||this.s.rowHeight;n!=t&&(i.$height=t,this.config.fixedRowHeight=!1,this.render(),this.callEvent("onRowResize",[e,t,n]))}},lk:function(e){var t=this.jk!==e;if(this.jk=e,this.s.prerender)for(var i=this.Vf.childNodes,n=0;n<i.length;n++)i[n].scrollTop=e;else this.vj();webix.env.$customScroll&&webix.CustomScroll.sk(this.Vf),t&&(this.callEvent("onScrollY",[]),this.callEvent("onAfterScroll",[]))},oH:function(e){this.Vf.childNodes[1].scrollLeft=this.bk=e,this.s.header&&(this.I.childNodes[1].scrollLeft=e),this.s.footer&&(this.cj.childNodes[1].scrollLeft=e)},kk:function(e){var t=this.bk!==e;this.oH(e),this.s.prerender===!1&&this.vj(!this.tk),webix.env.$customScroll&&webix.CustomScroll.sk(this.Vf),t&&(this.callEvent("onScrollX",[]),this.callEvent("onAfterScroll",[]))},Xj:function(e){if(e)return[0,this.fj.length];for(var t=this.bk,i=this.s.leftSplit;t>0&&this.fj.length-1>i;)t-=this.fj[i].width,i++;var n=i;for(t&&i>0&&i--,t+=this.Yj;t>0&&n<this.Fj;)t-=this.fj[n].width,n++;return[i,n]},getVisibleCount:function(){return Math.floor(this.Vj/this.config.rowHeight)},Sj:function(e){var t=this.jk,i=0,n=this.count(),r=this.s.pager;if(r){var i=r.page*r.size,n=Math.min(n,i+r.size);r.level&&(i=this.data.$min,n=this.data.$max)}if(this.s.autoheight)return[i,n,0];if(e)return[i,n,0];var a=i,o=this.s.topSplit||0;o&&(a+=o);var s=this.s.fixedRowHeight?this.s.rowHeight:0;if(s){var l=Math.ceil(t/s);t-=l*s,a+=l}else for(;t>0;)t-=this.Uj(a),a++;var u=a>0&&t?-(this.Uj(a-1)+t):0,c=a;if(t&&a--,t+=(this.Vj||this.dc)-(this.xD||0),s){var l=Math.ceil(t/s);t-=l*s,c+=l}else for(;t>0&&n>c;)t-=this.Uj(c),c++;return c>n&&(c=n),[a,c,u]},Kv:function(e){var t=this.getItem(e),i=this.getIndexById(e),n=this.Sj(),r=this.config.topSplit,a="";if(i>=r){if(i<n[0]||i>=n[1])return;i-=n[0]-r}else a=i==r-1?" webix_topcell webix_last_topcell":" webix_topcell";for(var o=this.Xj(),s=0;s<this.fj.length;s++){var l=this.fj[s];if(s<this.Fj&&s>=this.s.leftSplit&&(s<o[0]||s>o[1])&&(l.qk=-999),l.attached&&l.node){var u=l.node.childNodes[i];if(!u)continue;var c=this.Ek(t,this.fj[s],0);u.innerHTML=c,u.className=this.Mv(this.fj[s],c,t,e)+a}}},vj:function(e,t){if(this.fj.length){t&&this.uk();var i=this.Xj(this.s.prerender),n=this.Sj(this.s.prerender===!0);if(e){for(var r=this.s.leftSplit;r<i[0];r++)this.vk(r,t);for(var r=i[1];r<this.Fj;r++)this.vk(r,t)}this.wk=[];for(var a=0,r=0;r<this.s.leftSplit;r++)a+=this.xk(r,n,t);for(var r=i[0];r<i[1];r++)a+=this.xk(r,n,t,r==i[0]);for(var r=this.Fj;r<this.fj.length;r++)a+=this.xk(r,n,t);this.yk(n[0],n[1],t),this.zk(n)}},Ak:function(e,t){this.Bk=e,this.Ck=t,webix.html.remove(this.gj),this.gj=[]},dF:function(){if(this.s.prerender&&this.GA){var e=this.getScrollState();this.GA.style.top="-"+(e.y||0)+"px"}},yk:function(e,t,i){if(this.GA&&(this.GA.style.top=this.ck+"px"),i||e!=this.Bk||t!=this.Ck){if(this.Ak(e,t),this.Dk){this.Dk=!1;for(var n=0;n<this.wk.length;n++){var r,a=this.wk[n],o=this.getItem(a.id);r="function"==typeof o.$row?o.$row.call(this,o,this.type):this.Ek(o,this.getColumnConfig(o.$row),n);var s=this.gj[n]=webix.html.create("DIV",null,r);s.className="webix_cell "+(o.$sub?"webix_dtable_sub"+(this.s.subview?"view":"row"):"webix_dtable_colrow"+(o.$row?" webix_topcell"+(this.data.getMark(o.id,"webix_selected")?" webix_selected":""):"")),s.setAttribute("column",0),s.setAttribute("row",a.index);var l=o.$height||this.s.rowHeight;o.$subopen?s.style.height=o.$subHeight+"px":s.style.height=l+"px",s.style.paddingRight=webix.ui.scrollSize+"px";var u=this.wk[n].index<this.config.topSplit?-this.ck:0;s.style.top=u+a.top+(o.$subopen?l-1:0)+"px",this.GA||(this.GA=webix.html.create("DIV"),this.GA.style.position="relative",this.GA.style.top=this.ck+"px",this.Vf.appendChild(this.GA)),this.GA.appendChild(s),this.attachEvent("onSyncScroll",function(e,t,i){webix.Touch.Nf(this.GA,0,t,i)}),this.s.subview&&this.callEvent("onSubViewRender",[o,s])}}}else if(this.config.topSplit)for(var n=0;n<this.wk.length;n++){var s=this.gj[n];this.wk[n].index<this.config.topSplit&&(s.style.top=this.wk[n].top-this.ck+"px")}},zk:function(e){var t=this.s.pager,i=this.s.datafetch,n=!this.Fk||e[0]>=this.Fk;if(this.Fk=e[0],this.Gk){if(t&&(!i||i>=t.size)&&this.Hk([0,t.size*t.page],Math.max(i,t.size),!0))return this.Gk=null;this.Ik(this.Gk,n),this.Gk=null}else this.s.loadahead&&this.Hk(e,this.s.loadahead,n)},Hk:function(e,t,i){var n=e[1],r=n+t;i||(n=e[0]-t,r=e[0]),0>n&&(n=0),r=Math.min(r,this.data.order.length-1);for(var a=!1,o=n;r>o;o++)this.data.order[o]||(a?(a.last=o,a.count=o-n):a={start:o,count:r-n});return a?(this.Ik(a,i),!0):void 0},Ik:function(e,t){var i=Math.max(e.count,this.s.datafetch||this.s.loadahead||0),n=t?e.start:e.last-i+1;this.cf(e.count,e.start)||this.loadNext(i,n)},Zy:function(e){if(webix.env.isSafari){var t,i,n,r,a=[this.Zj,this.Wj];for(t=0;2>t;t++)r=a[t],r&&r.Yy&&r.Yy.parentNode==e&&(i=r.Yy);i&&(this.$y&&webix.html.remove(this.$y),this.$y=i,n=i.cloneNode(!0),i.parentNode.insertBefore(n,i),this.$y.style.display="none",this.Vf.appendChild(this.$y))}},vk:function(e){var t=this.fj[e];this.Zy(t.node),webix.html.remove(t.node),t.attached=!1},uk:function(){for(var e=0;e<this.fj.length;e++)this.fj[e].qk=-1;this.gj.length&&(webix.html.remove(this.gj),this.gj=[])},getText:function(e,t){return this.Ek(this.getItem(e),this.getColumnConfig(t),0)},getCss:function(e,t){var i=this.getItem(e);return this.Mv(this.getColumnConfig(t),i[t],i,e)},Mv:function(e,t,i,n){var r="webix_cell";if(e.cssFormat){var a=e.cssFormat(t,i,n,e.id);a&&(r+="object"==typeof a?" "+webix.html.createCss(a):" "+a)}var o=i.$css;o&&("object"==typeof o&&(i.$css=o=webix.html.createCss(o)),r+=" "+o);var s=this.data.Me[n];if(s&&(s.$css&&(r+=" "+s.$css),s.$cellCss)){var l=s.$cellCss[e.id];l&&(r+=" "+l)}if(i.$cellCss){var u=i.$cellCss[e.id];u&&("object"==typeof u&&(u=webix.html.createCss(u)),r+=" "+u)}var c=this.data.getMark(i.id,"webix_selected");return(c&&(c.$row||c[e.id])||e.$selected)&&(r+=this.Lk),r},Ek:function(e,t,i){if(!e)return"";var n;return n=e[t.id],(n===webix.undefined||null===n)&&(n=""),t.format&&(n=t.format(n)),t.template&&(n=t.template(e,this.type,n,t,i)),n},type:{checkbox:function(e,t,i,n){var r=i==n.checkValue?'checked="true"':"";return"<input class='webix_table_checkbox' type='checkbox' "+r+">"},radio:function(e,t,i,n){var r=i==n.checkValue?'checked="true"':"";return"<input class='webix_table_radio' type='radio' "+r+">"},editIcon:function(){return"<span class='webix_icon fa-pencil'></span>"},trashIcon:function(){return"<span class='webix_icon fa-trash'></span>"}},type_setter:function(e){return this.types&&this.types[e]?(this.type=webix.clone(this.types[e]),this.type.css&&(this.w.className+=" "+this.type.css)):webix.type(this,e),this.type.on_click&&webix.extend(this.on_click,this.type.on_click),e},xk:function(e,t,i,n){var r=this.fj[e];if(!r.attached){var a=e<this.s.leftSplit?0:e>=this.Fj?2:1;this.Vf.childNodes[a].firstChild.appendChild(r.node),r.attached=!0,r.split=a}if(this.ak=t[0],this.ck=0,this.aC=t[2],this.s.scrollAlignY?t[1]==this.data.order.length||this.data.$pagesize&&t[1]%this.data.$pagesize===0?r.node.style.top=(this.ck=t[2])+"px":r.Jk&&(r.node.style.top="0px"):(this.ck=t[2],r.node.style.top=t[2]+"px"),!(i||r.qk!=t[0]||r.Kk!=t[1]||this.s.topSplit&&r.ck!=this.ck))return 0;for(var o="",s=this.s.columns[e],l={row:this.s.rowHeight,total:0,single:n},u=0;u<this.s.topSplit;u++)o+=this.yD(u,s,t,l,-this.ck);for(var u=Math.max(t[0],this.s.topSplit);u<t[1];u++)o+=this.yD(u,s,t,l,-1);return this.Zy(r.node),r.node.innerHTML=o,r.qk=t[0],r.Kk=t[1],r.Jk=t[2],r.ck=this.ck,1},yD:function(e,t,i,n,r){var a,o=this.data.order[e],s=this.data.getItem(o),l="";if(s){var u=" role='gridcell' aria-rowindex='"+(e+1)+"' aria-colindex='"+(this.getColumnIndex(t.id)+1)+"'"+(s.$count||s.$sub?" aria-expanded='"+(s.open||s.$subopen?"true":"false")+"'":"")+(s.$level?" aria-level='"+s.$level+"'":"");if(n.single&&s.$row&&(this.Dk=!0,this.wk.push({top:n.total,id:s.id,index:e}),!s.$sub)){var c=s.$height||n.row;return n.total+=c,"<div"+u+" class='webix_cell' style='height:"+c+"px;'></div>"}var a=this.Ek(s,t,e),d=this.Mv(t,a,s,o);-1!==d.indexOf("select")&&(u+=" aria-selected='true' tabindex='0'");var h=!!s.$subopen,f=h?"margin-bottom:"+s.$subHeight+"px;":"";r>=0&&(r>0&&(f+="top:"+r+"px;'"),d="webix_topcell "+d,e==this.s.topSplit-1&&(d="webix_last_topcell "+d)),s.$height?(l="<div"+u+" class='"+d+"' style='height:"+s.$height+"px;"+f+"'>"+a+"</div>",n.total+=s.$height-n.row):l="<div"+u+" class='"+d+"'"+(f?" style='"+f+"'":"")+">"+a+"</div>",h&&(n.total+=s.$subHeight)}else l="<div role='gridcell' class='webix_cell'></div>",this.Gk?this.Gk.last=e:this.Gk={start:e,count:i[1]-e};return n.total+=n.row,l},yj:function(){if(this.fj.length&&!isNaN(1*this.dc)){var e=this.wj+(this.nj?this.nj:0);if(!this.s.autoheight&&!this.s.yCount||!this.resize()){this.Wj.sizeTo(this.dc,this.$g,this.jj),this.Wj.define("scrollHeight",e),this.xD=this.s.topSplit?this.Tj(0,this.s.topSplit):0,this.Vj=Math.max(0,this.dc-this.nj-this.$g-this.jj);for(var t=0;3>t;t++)this.Vf.childNodes[t].style.height=this.Vj+"px",this.s.prerender?this.Vf.childNodes[t].firstChild.style.height=this.wj+"px":this.Vf.childNodes[t].firstChild.style.height=this.Vj+"px";this.I.style.height=this.$g+"px"}}},Jj:function(){if(this.fj.length){var e=0;for(this.dk=0,this.ek=0,this.Yj=0;e<this.s.leftSplit;)this.dk+=this.fj[e].width,e++;for(e=this.fj.length-1;e>=this.Fj;)this.ek+=this.fj[e].width,e--;if(this.bc&&(!this.s.autowidth||!this.resize())){this.Yj=this.bc-this.ek-this.dk-this.oj,this.Vf.childNodes[1].firstChild.style.width=this.Gj+"px",this.Vf.childNodes[0].style.width=this.dk+"px",this.Vf.childNodes[1].style.width=this.Yj+"px",this.Vf.childNodes[2].style.width=this.ek+"px",this.I.childNodes[0].style.width=this.dk+"px",this.I.childNodes[1].style.width=this.Yj+"px",this.I.childNodes[2].style.width=this.ek+"px",this.cj.childNodes[0].style.width=this.dk+"px",this.cj.childNodes[1].style.width=this.Yj+"px",this.cj.childNodes[2].style.width=this.ek+"px";var t=this.Yj-this.Gj;if(0>t&&(t=0),t!=this.Lj&&(this.Lj=t,this.Oj()),webix.env.isWebKit){var i=this.Vf.childNodes[0].offsetWidth;i=this.Vf.childNodes[1].offsetWidth,i=this.Vf.childNodes[1].firstChild.offsetWidth,i=this.Vf.childNodes[2].offsetWidth}this.Zj.sizeTo(this.bc-this.oj),this.Zj.define("scrollWidth",this.Gj+this.dk+this.ek)}}},$getSize:function(e,t){if((this.s.autoheight||this.s.yCount)&&this.s.columns){var i=(this.s.yCount||0)*this.s.rowHeight;i||(i=this.isVisible()?this.wj:this.count()*this.s.rowHeight),this.s.height=Math.max(i+(this.nj?this.nj:0)-1,this.s.minHeight||0)+this.$g+this.jj}this.s.autowidth&&this.s.columns&&(this.s.width=Math.max(this.Gj+this.dk+this.ek+this.oj,this.s.minWidth||0));var n=this.dk+this.ek+this.oj,r=webix.ui.view.prototype.$getSize.call(this,e,t);return r[0]=Math.max(r[0]||n),r},Ow:function(){if(this.Zj&&!webix.env.touch){var e=this.getScrollState();this.Zj.Wi=this.Wj.Wi=-1,this.scrollTo(e.x,e.y)}},$setSize:function(e,t){var i=this.bc,n=this.dc;webix.ui.view.prototype.$setSize.apply(this,arguments)&&(this.tj&&(this.callEvent("onResize",[this.bc,this.dc,i,n]),this.Jj(),this.yj()),this.render())},Mk:function(e){var t=this.getColumnConfig(e);if(t.sort){var i="asc";t.id==this.Nk&&(i="asc"==this.Ok?"desc":"asc"),this.zf(t.id,i,t.sort)}},markSorting:function(e,t){this.Pk||(this.Pk=webix.html.create("DIV"));var i=this.Pk.parentNode;if(i&&(i.removeAttribute("aria-sort"),i.removeAttribute("tabindex")),webix.html.remove(this.Pk),t){var n=this.Qk(this.getColumnIndex(e));n&&(this.Pk.className="webix_ss_sort_"+t,n.style.position="relative",n.appendChild(this.Pk),n.setAttribute("aria-sort",t+"ending"),n.setAttribute("tabindex","0")),this.Nk=e,this.Ok=t}else this.Nk=this.Ok=null},scroll_setter:function(e){return"string"==typeof e?(this.s.scrollX=-1!=e.indexOf("x"),this.s.scrollY=-1!=e.indexOf("y"),e):this.s.scrollX=this.s.scrollY=e},Qk:function(e){for(var t=this.I.getElementsByTagName("TD"),i=null,n=0;n<t.length;n++)if(t[n].getAttribute("column")==e&&!t[n].getAttribute("active_id")&&(i=t[n].firstChild,(t[n].colSpan||0)<2))return i;return i},zf:function(e,t,i){t=t||"asc",this.markSorting(e,t),"server"==i?(this.callEvent("onBeforeSort",[e,t,i]),this.loadNext(0,0,{before:function(){this.clearAll(!0)},success:function(){this.callEvent("onAfterSort",[e,t,i])}},0,1)):("text"==i&&(this.data.each(function(t){t.$text=this.getText(t.id,e)},this),i="string",e="$text"),"function"==typeof i?this.data.sort(i,t):this.data.sort(e,t,i||"string"))},iA:function(e,t,i,n){var r,a,o;if(e.length)for(a=0;a<e.length;a++)if(r=webix.toFunctor(e[a],this.$scope),o=r.call(this,t,i,n),o===!1)return!1},Yc:function(e,t,i,n){e=e||event;var r=e.target||e.srcElement;if(!this.s.subview||this==webix.$$(r)){for(var a,o="",s=[],l=!1,u=null,r=e.target||e.srcElement;r&&r.parentNode&&r!=this.x.parentNode;){var c=webix.html.TC(r);if(o=c){o=o.toString().split(" ");for(var d=o.length-1;d>=0;d--)t[o[d]]&&s.push(t[o[d]])}if(r.parentNode.getAttribute&&!u){var h=r.parentNode.getAttribute("column")||r.getAttribute("column");if(h){var f="DIV"==r.parentNode.tagName;if(!this.fj[h])return;if(l=!0,f){var p=r.parentNode.getAttribute("row")||r.getAttribute("row");if(!p){if(r.getAttribute("column"))return;p=webix.html.index(r),p>=this.s.topSplit&&(p+=this.fj[h].qk-this.s.topSplit)}this.Qc=u={row:this.data.order[p],column:this.fj[h].id},u.toString=this.ok}else this.Qc=u={column:this.fj[h].id};if(a=this.iA(s,e,u,r),a===!1)return;if(f)this.callEvent("on"+i,[u,e,r])&&n&&this.callEvent("on"+n,[u,e,r]);else if("ItemClick"==i){var g="header"==r.parentNode.parentNode.getAttribute("section");g&&this.callEvent("onHeaderClick",[u,e,r])&&this.Mk(u.column)}s=[]}}r=r.parentNode}return this.iA(s,e,u,this.$view),l}},showOverlay:function(e){if(!this.Rk){var t=webix.html.create("DIV",{class:"webix_overlay"},"");this.Vf.appendChild(t),this.Rk=t}this.Rk.innerHTML=e},hideOverlay:function(){this.Rk&&(webix.html.remove(this.Rk),this.Rk=null)},mapCells:function(e,t,i,n,r,a){if(null===e&&this.data.order.length>0&&(e=this.data.order[0]),null===t&&(t=this.columnId(0)),null===i&&(i=this.data.order.length),null===n&&(n=this.s.columns.length),this.exists(e)&&(e=this.getIndexById(e),t=this.getColumnIndex(t),null!==t))for(var o=0;i>o&&e+o<this.data.order.length;o++){var s=e+o,l=this.data.order[s];if(l)for(var u=this.getItem(l),c=0;n>c&&t+c<this.s.columns.length;c++){var d=t+c,h=this.columnId(d),f=r(u[h],l,h,o,c);a||(u[h]=f)}}},dj:function(e,t){!this.s.columns&&e.getConfig&&this.define("columns",e.getConfig(t))},qj:function(){var e=this.getItem(this.getFirstId()),t=this.s.columns=[];for(var i in e)"id"!=i&&"$"!=i[0]&&t.push({id:i,header:i[0].toUpperCase()+i.substr(1),sort:"string",editor:"text"});t.length&&(t[0].fillspace=!0),"undefined"==typeof this.s.select&&this.define("select","row")}},webix.AutoTooltip,webix.Group,webix.DataMarks,webix.DataLoader,webix.MouseEvents,webix.MapCollection,webix.ui.view,webix.EventSystem,webix.Settings),
webix.ui.datafilter={textWaitDelay:500,summColumn:{getValue:function(e){return e.firstChild.innerHTML},setValue:function(){},refresh:function(e,t,i){var n=0;e.mapCells(null,i.columnId,null,1,function(e){e*=1,isNaN(e)||(n+=e)},!0),i.format&&(n=i.format(n)),i.template&&(n=i.template({value:n})),t.firstChild.innerHTML=n},trackCells:!0,render:function(e,t){return t.template&&(t.template=webix.template(t.template)),""}},masterCheckbox:{getValue:function(){},setValue:function(){},getHelper:function(e,t){return{check:function(){t.checked=!1,e.onclick()},uncheck:function(){t.checked=!0,e.onclick()},isChecked:function(){return t.checked}}},refresh:function(e,t,i){t.onclick=function(){this.getElementsByTagName("input")[0].checked=i.checked=!i.checked;var t=e.getColumnConfig(i.columnId),n=i.checked?t.checkValue:t.uncheckValue;e.data.each(function(t){t[i.columnId]=n,e.callEvent("onCheck",[t.id,i.columnId,n]),this.callEvent("onStoreUpdated",[t.id,t,"save"])}),e.refresh()}},render:function(e,t){return"<input type='checkbox' "+(t.checked?"checked='1'":"")+">"}},textFilter:{getInputNode:function(e){return e.firstChild?e.firstChild.firstChild:{value:null}},getValue:function(e){return this.getInputNode(e).value},setValue:function(e,t){this.getInputNode(e).value=t},refresh:function(e,t,i){t.component=e.s.id,e.registerFilter(t,i,this),t.Sk=e.s.id,i.value&&this.getValue(t)!=i.value&&this.setValue(t,i.value),t.onclick=webix.html.preventEvent,webix.UE(t,"keydown",this.Tk)},render:function(e,t){return this.init&&this.init(t),t.css="webix_ss_filter","<input "+(t.placeholder?'placeholder="'+t.placeholder+'" ':"")+"type='text'>"},Tk:function(e,t,i){var n=this.Sk;9!=(e.which||e.keyCode)&&(this.Uk&&window.clearTimeout(this.Uk),this.Uk=window.setTimeout(function(){var e=webix.$$(n);e&&e.filterByAll()},webix.ui.datafilter.textWaitDelay))}},selectFilter:{getInputNode:function(e){return e.firstChild?e.firstChild.firstChild:{value:null}},getValue:function(e){return this.getInputNode(e).value},setValue:function(e,t){this.getInputNode(e).value=t},refresh:function(e,t,i){i.compare=i.compare||function(e,t){return e==t},t.component=e.s.id,e.registerFilter(t,i,this);var n,r=i.options;r?"string"==typeof r?(n=i.options=[],webix.ajax(r).then(webix.bind(function(n){i.options=n.json(),this.refresh(e,t,i)},this))):n=r:(n=e.collectValues(i.columnId),n.unshift({id:"",value:""}));var a=webix.$$(r);a&&a.data&&a.data.getRange&&(n=a.data.getRange());for(var o=document.createElement("select"),s=0;s<n.length;s++){var l=document.createElement("option");l.value=n[s].id,l.text=n[s].value,o.add(l)}t.firstChild.innerHTML="",t.firstChild.appendChild(o),i.value&&this.setValue(t,i.value),t.onclick=webix.html.preventEvent,o.Sk=e.s.id,webix.UE(o,"change",this.Vk)},render:function(e,t){return this.init&&this.init(t),t.css="webix_ss_filter",""},Vk:function(e,t,i){webix.$$(this.Sk).filterByAll()}}},webix.ui.datafilter.serverFilter=webix.extend({$server:!0,Tk:function(e,t,i){var n=this.Sk,r=e.which||e.keyCode;t=e.target||e.srcElement,9==r||r>=33&&40>=r||(this.Uk&&window.clearTimeout(this.Uk),this.Uk=window.setTimeout(function(){webix.$$(n).filterByAll()},webix.ui.datafilter.textWaitDelay))}},webix.ui.datafilter.textFilter),webix.ui.datafilter.serverSelectFilter=webix.extend({$server:!0,Vk:function(e,t,i){var n=this.Sk;webix.$$(n).filterByAll()}},webix.ui.datafilter.selectFilter),webix.ui.datafilter.numberFilter=webix.extend({init:function(e){e.prepare=function(t,i){var n=-1!=t.indexOf("=")?1:0,r=this.format(t);return""===r?"":(-1!=t.indexOf(">")?e.compare=this.Wk:-1!=t.indexOf("<")?(e.compare=this.Xk,n*=-1):(e.compare=this.Yk,n=0),r-n)}},format:function(e){return e.replace(/[^\-\.0-9]/g,"")},Wk:function(e,t){return 1*e>t},Xk:function(e,t){return""!==e&&t>1*e},Yk:function(e,t){return 1*e==t}},webix.ui.datafilter.textFilter),webix.ui.datafilter.dateFilter=webix.extend({format:function(e){if(""===e)return"";var t=new Date;if(-1!=e.indexOf("today"))t=webix.Date.dayStart(t);else if(-1==e.indexOf("now")){var i=e.match(/[0-9]+/g);if(!i||!i.length)return"";i.length<3?(i.reverse(),t=new Date(i[0],(i[1]||1)-1,1)):t=webix.i18n.dateFormatDate(e.replace(/^[>< =]+/,""))}return t.valueOf()}},webix.ui.datafilter.numberFilter),webix.extend(webix.ui.datatable,{filterByAll:function(){var e=!1;this.data.silent(function(){this.filter();var t=!1;for(var i in this.ij)if(this.isColumnVisible(i)){var n=this.ij[i],r=n[2].getValue(n[0]),a=r;n[1].prepare&&(a=n[1].prepare.call(n[2],a,n[1],this)),n[1].value=r;var o=n[1].compare;if(this.callEvent("onBeforeFilter",[i,a,n[1]]))if(n[2].$server||e)e=!0;else{if(""===a)continue;o?(o=this.fC(i,o),this.filter(webix.bind(function(e,t){return!!e&&o(e[i],t,e)},this),a,t)):this.filter(i,a,t),t=!0}}e&&this.jA()},this),e||(this.refresh(),this.callEvent("onAfterFilter",[]))},fC:function(e,t){var i=this.getColumnConfig(e),n=i?i.optionslist:null;return n?("string"!=typeof n&&(n=","),function(e,i,r){if(!e)return!0;for(var a=e.split(n),o=0;o<a.length;o++)if(t(a[o],i,r))return!0}):t},filterMode_setter:function(e){return webix.extend(this.data.Cf,e,!0)},getFilter:function(e){var t=this.ij[e];return t&&t[2].getInputNode?t[2].getInputNode(t[0]):null},registerFilter:function(e,t,i){this.ij[t.columnId]=[e,t,i]},collectValues:function(e){var t=[],i={"":!0},n=this.getColumnConfig(e),r=n.options||n.collection;if(r){if("object"==typeof r&&!r.loadNext){if(webix.isArray(r))for(var a=0;a<r.length;a++)t.push({id:r[a],value:r[a]});else for(var o in r)t.push({id:o,value:r[o]});return t}"string"==typeof r&&(r=webix.$$(r)),r.getBody&&(r=r.getBody()),this.Zk.call(r,"id","value",t,i)}else this.Zk(n.id,n.id,t,i);var n={values:t};return this.callEvent("onCollectValues",[e,n]),n.values},Zk:function(e,t,i,n){if(this.data.each(function(r){var a=r?r[e]:"";if(a!==webix.undefined&&!n[a]){n[a]=!0;var o=r[e];0===o&&(o="0"),i.push({id:o,value:r[t]})}},this,!0),i.length){var r="string"==typeof i[0].value?"string":"raw";i.sort(this.data.sorting.create({as:r,by:"value",dir:"asc"}))}},jA:function(e){this.loadNext(0,0,{before:function(){this.editStop&&this.editStop(),this.clearAll(!0)},success:function(){this.callEvent("onAfterFilter",[])}},0,1)}}),webix.extend(webix.ui.datatable,{hover_setter:function(e){return e&&!this.Yw&&(this.Vc(),this.config.experimental=!0,this.attachEvent("onMouseMoving",function(e){var t=this.locate(arguments[0]);t=t?t.row:null,this.Zw!=t&&(this.Zw&&this.removeRowCss(this.Zw,this.s.hover),this.Zw=t,this.Zw&&this.addRowCss(this.Zw,this.s.hover))}),webix.event(this.$view,"mouseout",webix.bind(function(e){this.Zw&&document.body.contains(e.target)&&(this.removeRowCss(this.Zw,this.s.hover),this.Zw=null)},this)),this.Yw=1),e},select_setter:function(e){return!this.select&&e&&(webix.extend(this,this._k.$k,!0),e===!0?e="row":"multiselect"==e&&(e="row",this.s.multiselect=!0),webix.extend(this,this._k[e],!0)),e},getSelectedId:function(e){return e?[]:""},getSelectedItem:function(e){return webix.SelectionModel.getSelectedItem.call(this,e)},_k:{$k:{Lk:" webix_cell_select",$init:function(){this.al(),this.on_click.webix_cell=webix.bind(this.bl,this),this.cl=this.zg=function(){this.unselect()},this.data.attachEvent("onStoreUpdated",webix.bind(this.xg,this)),this.data.attachEvent("onSyncApply",webix.bind(this.rF,this)),this.data.attachEvent("onClearAll",webix.bind(this.cl,this)),this.data.attachEvent("onAfterFilter",webix.bind(this.zg,this)),this.data.attachEvent("onIdChange",webix.bind(this.Ag,this)),this.$ready.push(webix.SelectionModel.uy)},Ag:function(e,t){for(var i=0;i<this.dl.length;i++)this.dl[i]==e&&(this.dl[i]=t);for(var i=0;i<this.el.length;i++){var n=this.el[i];n.row==e&&(e=this.fl(n),n.row=t,t=this.fl(n),n.id=t,delete this.gl[e],this.gl[t]=!0)}},xg:function(e,t,i){"delete"==i&&this.unselect(e)},rF:function(){for(var e=this.el.length-1;e>=0;e--){var t=this.el[e].row;this.exists(t)||(this.el.splice(e,1),delete this.gl[t])}},al:function(){this.el=[],this.gl={},this.dl=[]},isSelected:function(e,t){var i;return i=webix.isUndefined(t)?"object"==typeof e?this.fl(e):e:this.fl({row:e,column:t}),this.gl[i]},getSelectedId:function(e,t){var i;if(this.el.length>1||e){if(i=[].concat(this.el),t)for(var n=0;n<i.length;n++)i[n]=i[n].id}else if(i=this.el[0],t&&i)return i.id;return i},ok:function(){return this.row},hl:function(e,t){var i=this.fl(e);if(null!==i){if(-1===t)return this.ll(e);if(e.id=i,e.toString=this.ok,!this.callEvent("onBeforeSelect",[e,t]))return!1;if(!this.gl[i]||!t&&1!=this.el.length)return t||this.il(),this.el.push(e),this.gl[i]=!0,this.callEvent("onAfterSelect",[e,t]),this.jl(this.kl(e)),!0}},il:function(){if(!this.el.length)return!1;for(var e=0;e<this.el.length;e++)if(!this.callEvent("onBeforeUnSelect",[this.el[e]]))return!1;for(var e=0;e<this.dl.length;e++)this.data.removeMark(this.dl[e],"webix_selected");var t=this.s.columns;if(t)for(var e=0;e<t.length;e++)t[e].$selected=null;var i=this.el;this.al();for(var e=0;e<i.length;e++)this.callEvent("onAfterUnSelect",[i[e]]);return!0},unselectAll:function(){this.clearSelection()},selectAll:function(){this.selectRange()},clearSelection:function(){this.il()&&(this.callEvent("onSelectChange",[]),this.render())},ll:function(e){var t=this.fl(e);if(!t&&this.el.length&&(this.clearSelection(),this.callEvent("onSelectChange",[])),this.gl[t]){if(!this.callEvent("onBeforeUnSelect",[e]))return!1;for(var i=0;i<this.el.length;i++)if(this.el[i].id==t){this.el.splice(i,1);break}delete this.gl[t],this.callEvent("onAfterUnSelect",[e]),this.jl(0,this.ml(e))}},nl:function(e){var t=this.getItem(e);return this.data.addMark(t.id,"webix_selected",0,{$count:0},!0)},jl:function(e){e&&this.dl.push(e),this.Dg||(this.render(),this.callEvent("onSelectChange",[]))},bl:function(e,t){var i=e.ctrlKey||e.metaKey||"touch"==this.s.multiselect,n=e.shiftKey;if(this.s.multiselect||"multiselect"==this.s.select||(i=n=!1),n&&this.el.length){var r=this.el[this.el.length-1];this.ol(t,r)}else i&&this.gl[this.fl(t)]?this.ll(t):this.hl({row:t.row,column:t.column},i)},pl:function(e,t,i){var n=this.s.columns;if(t){for(var r=[],a=0;a<n.length;a++)n[a].$selected&&r.push(n[a]);n=r}for(var o=this.data.order,s=0,a=0;a<o.length;a++){var l=this.getItem(o[a]);if(l){var u=this.data.getMark(l.id,"webix_selected");if(u||t){for(var c=0,d=0;d<n.length;d++){var h=n[d].id;if(i||t||u[h]){if(!e)return{row:o[a],column:h};l[h]=e(l[h],o[a],h,s,c),c++}}s++}}}}},row:{Lk:" webix_row_select",fl:function(e){return e.row},select:function(e,t){e&&(e=e.toString()),this.hl({row:e},t)},kl:function(e){return this.nl(e.row).$row=!0,e.row},unselect:function(e){this.ll({row:e})},ml:function(e){return this.data.removeMark(e.row,"webix_selected",0,1),e.row},mapSelection:function(e){return this.pl(e,!1,!0)},ol:function(e,t){return this.selectRange(e.row,t.row)},selectRange:function(e,t,i){webix.isUndefined(i)&&(i=!0);var n=e?this.getIndexById(e):0,r=t?this.getIndexById(t):this.data.order.length-1;if(n>r){var a=n;n=r,r=a}this.Dg=!0;for(var o=n;r>=o;o++){var s=this.getIdByIndex(o);if(!s){e&&this.select(e);break}this.select(s,i)}this.Dg=!1,this.jl()}},cell:{fl:function(e){return e.column?e.row+"_"+e.column:null},select:function(e,t,i){this.hl({row:e,column:t},i)},kl:function(e){var t=this.nl(e.row);return t.$count++,t[e.column]=!0,e.row},unselect:function(e,t){this.ll({row:e,column:t})},ml:function(e){var t=this.nl(e.row);return t.$count--,t[e.column]=!1,t.$count<=0&&this.data.removeMark(e.row,"webix_selected"),e.row},mapSelection:function(e){return this.pl(e,!1,!1)},ol:function(e,t){return this.selectRange(e.row,e.column,t.row,t.column)},selectRange:function(e,t,i,n,r){webix.isUndefined(r)&&(r=!0);var a=e?this.getIndexById(e):0,o=i?this.getIndexById(i):this.data.order.length-1,s=t?this.getColumnIndex(t):0,l=n?this.getColumnIndex(n):this.fj.length-1;if(a>o){var u=a;a=o,o=u}if(s>l){var u=s;s=l,l=u}this.Dg=!0;for(var c=a;o>=c;c++)for(var d=s;l>=d;d++)this.select(this.getIdByIndex(c),this.columnId(d),r);this.Dg=!1,this.jl()}},column:{Lk:" webix_column_select",fl:function(e){return e.column},ok:function(){return this.column},select:function(e,t){this.hl({column:e},t)},kl:function(e){this.s.columns[this.getColumnIndex(e.column)].$selected=!0,this.Dg||this.Kj()},unselect:function(e){this.ll({column:e})},ml:function(e){this.s.columns[this.getColumnIndex(e.column)].$selected=null,this.Kj()},mapSelection:function(e){return this.pl(e,!0,!1)},ol:function(e,t){return this.selectRange(e.column,t.column)},selectRange:function(e,t,i){webix.isUndefined(i)&&(i=!0);var n=e?this.getColumnIndex(e):0,r=t?this.getColumnIndex(t):this.fj.length-1;if(n>r){var a=n;n=r,r=a}this.Dg=!0;for(var o=n;r>=o;o++)this.select(this.columnId(o),i);this.Dg=!1,this.Kj(),this.jl()},rF:function(){}},area:{fl:function(e){return e.row+"_"+e.column},getSelectedId:function(e){var t=this.getSelectArea(),i=[];if(t)if(!e||t.start.row==t.end.row&&t.start.column==t.end.column)i.push(t.end);else{var n=this.getIndexById(t.start.row),r=this.getIndexById(t.end.row);if(-1==n||-1==r)return i;for(var a=this.getColumnIndex(t.start.column),o=this.getColumnIndex(t.end.column),s=n;r>=s;s++)for(var l=a;o>=l;l++)i.push({row:this.getIdByIndex(s),column:this.columnId(l)})}return e?i:i[0]},unselect:function(e){this.ll()},ll:function(){this.removeSelectArea(),this.callEvent("onSelectChange",[])},mapSelection:function(e){var t=this.getSelectArea();if(t)for(var i=this.getColumnIndex(t.start.column),n=this.getColumnIndex(t.end.column),r=this.getIndexById(t.start.row),a=this.getIndexById(t.end.row),o=r;a>=o;o++)for(var s=this.data.order[o],l=this.getItem(s),u=i;n>=u;u++){var c=this.fj[u].id;if(!e)return{row:s,column:c};l[c]=e(l[c]||"",s,c,o-r,u-i)}},select:function(e,t,i){this.hl({row:e,column:t},i)},ol:function(e,t){this.gC(e,t)},hl:function(e,t){return this.addSelectArea(e,e,!1),!0},rF:function(){this.el.length&&this.refreshSelectArea()}}}}),webix.extend(webix.ui.datatable,{blockselect_setter:function(e){return e&&this.ql&&(webix.UE(this.x,webix.env.mouse.move,this.rl,{bind:this}),webix.UE(this.x,webix.env.mouse.down,this.sl,{bind:this}),webix.event(document.body,webix.env.mouse.up,this.tl,{bind:this}),this.ql=this.ul=this.vl=!1,this.attachEvent("onAfterScroll",function(){this.ZC()}),webix.extend(this,webix.AutoScroll,!0),this.attachEvent("onBeforeAutoScroll",function(){return this.vl})),e},ql:!0,wl:function(e,t){for(var i=e.target||e.srcElement;i;){if(i.getAttribute&&i.getAttribute("webixignore"))return!1;if(i==t)return!0;i=i.parentNode}return!1},sl:function(e){if((!this.s.subview||this==webix.$$(e.target||e.srcElement))&&this.wl(e,this.Vf)){if(e.target&&"INPUT"==e.target.tagName||this.Pl)return;this.xl=webix.html.offset(this.Vf);var t=webix.html.pos(e);this.ul=[t.x-this.xl.x,t.y-this.xl.y]}},tl:function(e){this.yl&&(this.jz("select",!0,e),this.yl=webix.html.remove(this.yl)),webix.html.removeCss(document.body,"webix_noselect"),this.ul=this.vl=!1,this.bh&&(this.bh=window.clearTimeout(this.bh))},ZC:function(){this.vl&&this.jz(!1,!1)},jz:function(e,t,i){var n=null;this.ul[2]||(this.ul[2]=this.zl.apply(this,this.ul)),n=this.ul[2];var r=this.zl.apply(this,this.vl);if(this.callEvent("onBeforeBlockSelect",[n,r,t,i])){if((!this.wB||this.wB(n,r,t,i)!==!1)&&n.row&&r.row)if("select"===e)this.il(),this.ol(n,r);else{var a,o,s,l;if("box"===e)a=Math.min(this.ul[0],this.vl[0]),s=Math.max(this.ul[0],this.vl[0]),o=Math.min(this.ul[1],this.vl[1]),l=Math.max(this.ul[1],this.vl[1]);else{var u=this.ug(n.row,n.column),c=this.ug(r.row,r.column),d=this.getScrollState(),h=u.width,f=c.width;this.ek&&this.ul[0]>this.dk+this.Yj?u.left+=this.dk+this.Yj:this.dk?this.ul[0]>this.dk&&(u.left<d.x?(h-=d.x-u.left,u.left=this.dk):u.left+=this.dk-d.x):u.left-=d.x,this.ek&&this.vl[0]>this.dk+this.Yj?c.left+=this.dk+this.Yj:this.dk?this.vl[0]>this.dk&&(c.left<d.x?(f-=d.x-c.left,c.left=this.dk):c.left+=this.dk-d.x):c.left-=d.x,this.s.prerender&&(u.top-=this.jk,c.top-=this.jk),a=Math.min(u.left,c.left),s=Math.max(u.left+h,c.left+f),o=Math.min(u.top,c.top),l=Math.max(u.top+u.height,c.top+c.height),this.s.topSplit&&(o+=this.zD(n)),this.bh&&(this.bh=window.clearTimeout(this.bh)),i&&(this.bh=webix.delay(this.ch,this,[webix.html.pos(i)],250))}var p=this.yl.style;p.left=a+"px",p.top=o+"px",p.width=s-a+"px",p.height=l-o+"px"}t&&this.callEvent("onAfterBlockSelect",[n,r])}},Al:function(e){this.yl=webix.html.create("div",{class:"webix_block_selection"},""),this.Vf.appendChild(this.yl)},rl:function(e){if(this.ul!==!1){this.vl||webix.html.addCss(document.body,"webix_noselect");var t=webix.html.pos(e),i=[t.x-this.xl.x,t.y-this.xl.y];if(Math.abs(this.ul[0]-i[0])<5&&Math.abs(this.ul[1]-i[1])<5)return;this.vl===!1&&this.Al(e),this.vl=i,this.jz(this.config.blockselect,!1,e)}},zl:function(e,t){var i=!1,n=null,r=null;if(this.ek&&e>this.dk+this.Yj?e+=this.Zj.getSize()-this.Yj-this.dk-this.ek:(!this.dk||e>this.dk)&&(e+=this.Zj.getScroll()),this.s.topSplit&&this.ak>this.s.topSplit){var a=this.ug(this.getIdByIndex(this.s.topSplit-1),this.columnId(0));a.top+a.height>t&&(i=!0)}i||(t+=this.getScrollState().y),0>e&&(e=0),0>t&&(t=0);for(var o=this.s.columns,s=this.data.order,l=0,u=0;u<o.length;u++)if(l+=o[u].width,l>=e){r=o[u].id;break}r||(r=o[o.length-1].id),l=0;var c=this.data.$min||0;if(this.s.fixedRowHeight)n=s[c+Math.floor(t/this.s.rowHeight)];else for(var u=c;u<s.length;u++)if(l+=this.Uj(u),l>=t){n=s[u];break}return n||(n=s[s.length-1]),{row:n,column:r}},zD:function(e,t){var i=0,n=this.getIndexById(e.row);if(n>=this.s.topSplit){var r=this.ug(this.getIdByIndex(n),e.column),a=this.ug(this.getIdByIndex(this.s.topSplit-1),e.column);a.top+a.height-r.top>0&&(i=a.top+a.height-(r.top>0||!t?r.top:0))}return i}}),webix.protoUI({name:"resizearea",defaults:{dir:"x"},$init:function(e){var t=e.dir||"x",i=webix.toNode(e.container),n="x"==t?"width":"height",r=e.margin?e.margin+"px":0;this.Cl="x"==t?"left":"top",this.x=webix.html.create("DIV",{class:"webix_resize_area webix_dir_"+t}),webix.UE(this.x,webix.env.mouse.down,webix.html.stopEvent),r&&(r="x"==t?r+" 0 "+r:"0 "+r+" 0 "+r),this.Dl=webix.html.create("DIV",{class:"webix_resize_handle_"+t,style:r?"padding:"+r:""},"<div class='webix_handle_content'></div>"),this.El=webix.html.create("DIV",{class:"webix_resize_origin_"+t}),e[n]&&(this.El.style[n]=e[n]+(e.border?1:0)+"px",this.Dl.style[n]=e[n]+"px"),e.cursor&&(this.Dl.style.cursor=this.El.style.cursor=this.x.style.cursor=e.cursor),this.Fl=webix.event(i,webix.env.mouse.move,this.Gl,{bind:this}),this.Hl=webix.event(document.body,webix.env.mouse.up,this.Il,{bind:this}),this.Dl.style[this.Cl]=this.El.style[this.Cl]=e.start+"px",i.appendChild(this.x),i.appendChild(this.Dl),i.appendChild(this.El)},Il:function(){this.callEvent("onResizeEnd",[this.Jl]),webix.eventRemove(this.Fl),webix.eventRemove(this.Hl),webix.html.remove(this.x),webix.html.remove(this.Dl),webix.html.remove(this.El),this.x=this.Dl=this.El=null},Gl:function(e){var t=webix.html.pos(e);this.Jl=("x"==this.s.dir?t.x:t.y)+this.s.start-this.s.eventPos,this.Dl.style[this.Cl]=this.Jl+"px",this.callEvent("onResize",[this.Jl])}},webix.EventSystem,webix.Settings),webix.extend(webix.ui.datatable,{resizeRow_setter:function(e){return this.s.scrollAlignY=!1,this.s.fixedRowHeight=!1,this.resizeColumn_setter(e)},resizeColumn_setter:function(e){return e&&this.Kl&&(webix.UE(this.x,"mousemove",this.Ll,{bind:this}),webix.UE(this.x,"mousedown",this.Ml,{bind:this}),webix.UE(this.x,"mouseup",this.Nl,{bind:this}),this.Kl=!1),e},Kl:!0,Ml:function(e){this.s.subview&&this!=webix.$$(e.target||e.srcElement)||this.Ol&&(this.Pl=[webix.html.pos(e),this.Ol[2]],webix.html.addCss(document.body,"webix_noselect"),webix.html.denySelect())},Nl:function(){this.Pl=!1,webix.html.removeCss(document.body,"webix_noselect"),webix.html.allowSelect()},Ql:function(e){if(e=e||event,!this.Rl){var t=this.Ol[0],i=this.Pl[1],n=this.pk(i);if(n){var r,a=this.Pl[0];if("x"==t?(r=webix.html.offset(i).x+this.Ol[1]-webix.html.offset(this.Vf).x,a=a.x,this.Ol[1]||(n.cind-=i.parentNode.colSpan||1)):(r=webix.html.offset(i).y+this.Ol[1]-webix.html.offset(this.Vf).y+this.$g,a=a.y,this.Ol[1]||n.rind--),n.cind>=0&&n.rind>=0){this.Rl=[t,n,r];var o=new webix.ui.resizearea({container:this.x,dir:t,eventPos:a,start:r,cursor:("x"==t?"col":"row")+"-resize"});o.attachEvent("onResizeEnd",webix.bind(this.Sl,this))}this.Ml=this.Ol=!1}}},Sl:function(e){if(this.Rl){var t=this.Rl[0],i=this.Rl[1],n=e-this.Rl[2];if("x"==t){this.s.rightSplit&&i.cind+1>=this.Fj&&i.cind!==this.fj.length-1&&(i.cind++,n*=-1);var r=this.fj[i.cind],a=r.width;delete r.fillspace,delete r.adjust,this.Xs(i.cind,a+n,!0,!0),this.rk()}else{var o=this.getIdByIndex(i.rind),s=this.FA(this.getItem(o));this.setRowHeight(o,s+n)}this.Nl()}this.Rl=null},Ll:function(e){var t=null,i=this.s;if(this.Ol&&this.Pl)return this.Ql(e);e=e||event;var n=e.target||e.srcElement,r=!1;if("TD"!=n.tagName&&"TABLE"!=n.tagName){var a=n.className||"",o="string"==typeof a&&-1!=a.indexOf("webix_cell");if(!o||!i.drag){var s="string"==typeof a&&-1!=a.indexOf("webix_hcell");if(this.Ol=!1,o||s){var l=n.offsetWidth,u=n.offsetHeight,c=webix.html.posRelative(e),d=i.resizeRow;"object"==typeof d&&d.headerOnly&&(t=this.pk(n),t.cind>0&&(d=!1)),o&&d&&(d="object"==typeof d&&d.size?d.size:3,c.y<d?(t||(t=this.pk(n)),t.rind&&(this.Ol=["y",0,n],r="row-resize")):u-c.y<d+1&&(this.Ol=["y",u,n],r="row-resize"));var h=i.resizeColumn;"object"==typeof h&&h.headerOnly&&o&&(h=!1),h&&(h="object"==typeof h&&h.size?h.size:3,c.x<h?(this.Ol=["x",0,n],r="col-resize"):l-c.x<h+1&&(this.Ol=["x",l,n],r="col-resize"))}this.Tl&&window.clearTimeout(this.Tl),this.Tl=webix.delay(this.Ul,this,[r],r?100:0)}}},Ul:function(e){this.Vl!=e&&(this.Vl=e,this.x.style.cursor=e||"default")}}),webix.extend(webix.ui.datatable,webix.PagingAbility),webix.csv={escape:!0,delimiter:{rows:"\n",cols:"\t"},parse:function(e,t){if(t=t||this.delimiter,!this.escape)return this.Wl(e,t);for(var i=e.replace(/\n$/,"").split(t.rows),n=0;n<i.length-1;)this.Xl(i[n],'"')%2===1&&(i[n]+=t.rows+i[n+1],delete i[n+1],n++),n++;var r=[];for(n=0;n<i.length;n++)if("undefined"!=typeof i[n]){for(var a=i[n],o=0,s=[],l=!1,u=0;u<=a.length;u++){if(!l&&a[u]===t.cols||u===a.length){var c=a.substr(o,u-o);c[0]===c[c.length-1]&&'"'===c[0]&&(c=c.substr(1,c.length-2).replace('""','"')),s.push(c),o=u+1}'"'!==a[u]||(l=!l)}r.push(s)}return r},Wl:function(e,t){for(var i=e.split(t.rows),n=0;n<i.length;n++)i[n]=i[n].split(t.cols);return i},Xl:function(e,t){var i=e.split(t);return i.length-1},stringify:function(e,t){if(t=t||this.delimiter,!this.escape){for(var i=0;i<e.length;i++)e[i]=e[i].join(t.cols);return e.join(t.rows)}for(var n=/\n|\"|;|,/,i=0;i<e.length;i++){for(var r=0;r<e[i].length;r++)n.test(e[i][r])&&(e[i][r]=e[i][r].replace(/"/g,'""'),e[i][r]='"'+e[i][r]+'"');e[i]=e[i].join(t.cols)}return e=e.join(t.rows)}},webix.TablePaste={clipboard_setter:function(e){return(e===!0||1===e)&&(e="block"),webix.clipbuffer.init(),this.attachEvent("onSelectChange",this.Yl),this.attachEvent("onItemClick",function(e,t,i){document.activeElement&&this.$view.contains(document.activeElement)&&(webix.clipbuffer.focus(),webix.UIManager.setFocus(this))}),this.attachEvent("onPaste",this.Zl),e},templateCopy_setter:webix.template,Yl:function(){if(!this.getEditor||!this.getEditor()){var e=this.$l();webix.clipbuffer.set(e),webix.UIManager.setFocus(this)}},$l:function(){var e=[],t=this.s.templateCopy;return this.mapSelection(function(i,n,r,a,o){e[a]||(e[a]=[]);var s=t?t(i,n,r):i;return e[a].push(s),i}),webix.csv.stringify(e,this.s.delimiter)},Zl:function(e){if(!webix.isUndefined(this.rh[this.s.clipboard])){var t=webix.csv.parse(e,this.s.delimiter);this.rh[this.s.clipboard].call(this,t)}},rh:{block:function(e){var t=this.mapSelection(null);t&&(this.mapCells(t.row,t.column,e.length,null,function(t,i,n,r,a){return e[r]&&e[r].length>a?e[r][a]:t}),this.render())},selection:function(e){this.mapSelection(function(t,i,n,r,a){return e[r]&&e[r].length>a?e[r][a]:t}),this.render()},repeat:function(e){this.mapSelection(function(t,i,n,r,a){return i=e[r%e.length],t=i[a%i.length]}),this.render()},custom:function(e){}}},webix.extend(webix.ui.datatable,webix.TablePaste),webix.storage||(webix.storage={}),webix.storage.prefix=function(e,t){return e+=".",{put:function(i,n){return t.put(e+i,n)},get:function(i){return t.get(e+i)},remove:function(i){return t.remove(e+i)}}},webix.storage.local={put:function(e,t){e&&window.JSON&&window.localStorage&&window.localStorage.setItem(e,webix.stringify(t))},get:function(e){if(e&&window.JSON&&window.localStorage){var t=window.localStorage.getItem(e);return t?webix.DataDriver.json.toObject(t):null}return null},remove:function(e){e&&window.JSON&&window.localStorage&&window.localStorage.removeItem(e)},clear:function(){window.localStorage.clear()}},webix.storage.session={put:function(e,t){e&&window.JSON&&window.sessionStorage&&window.sessionStorage.setItem(e,webix.stringify(t))},get:function(e){if(e&&window.JSON&&window.sessionStorage){var t=window.sessionStorage.getItem(e);return t?webix.DataDriver.json.toObject(t):null}return null},remove:function(e){e&&window.JSON&&window.sessionStorage&&window.sessionStorage.removeItem(e)},clear:function(){window.sessionStorage.clear()}},webix.storage.cookie={put:function(e,t,i,n){e&&window.JSON&&(document.cookie=e+"="+escape(webix.stringify(t))+(n&&n instanceof Date?";expires="+n.toUTCString():"")+(i?";domain="+i:"")+(webix.env.https?";secure":""))},getRaw:function(e){for(var t=document.cookie.split(";"),i="",n="",r="",a=!1,o=0;o<t.length;o++){if(i=t[o].split("="),n=i[0].replace(/^\s+|\s+$/g,""),n==e)return a=!0,i.length>1&&(r=unescape(i[1].replace(/^\s+|\s+$/g,""))),r;i=null,n=""}return null},get:function(e){if(e&&window.JSON){var t=this.getRaw(e);return t?webix.DataDriver.json.toObject(unescape(t)):null}return null},remove:function(e,t){e&&this.getRaw(e)&&(document.cookie=e+"="+(t?";domain="+t:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")},clear:function(e){for(var t=document.cookie.split(";"),i=0;i<t.length;i++)document.cookie=/^[^=]+/.exec(t[i])[0]+"="+(e?";domain="+e:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}},webix.DataState={getState:function(){for(var e=this.config.columns.length,t=this.config.columns,i={ids:[],size:[],select:this.getSelectedId(!0),scroll:this.getScrollState()},n=0;e>n;n++){var r=t[n];i.ids.push(r.id),i.size.push(r.fillspace||r.adjust?-1:r.width)}if(i.order=[].concat(this.bm.length?this.bm:i.ids),this.Nk&&(i.sort={id:this.Nk,dir:this.Ok}),this.ij&&this.tj){var a={},o=0;for(var s in this.ij)if(!this.am[s]){var l=this.ij[s];l[1].value=a[s]=l[2].getValue(l[0]),o=1}o&&(i.filter=a)}i.hidden=[];for(var s in this.am)i.hidden.push(s);return i},setState:function(e){var t=this.config.columns;if(e){if(this.Nk=null,this.blockEvent(),e.hidden){for(var i={},n=0;n<e.hidden.length;n++)i[e.hidden[n]]=!0,this.bm.length||this.hideColumn(e.hidden[n]);if(this.bm.length)for(var n=0;n<this.bm.length;n++){var r=this.bm[n];!!i[r]==!this.am[r]&&this.hideColumn(r,{},!1,!!i[r])}}if(e.ids){for(var a=!1,o=this.config.columns,n=0;n<o.length;n++)o[n].id!=e.ids[n]&&(a=!0);if(a){for(var n=0;n<e.ids.length;n++)o[n]=this.getColumnConfig(e.ids[n])||o[n];this.refreshColumns()}}if(e.size)for(var s=Math.min(e.size.length,t.length),n=0;s>n;n++){var l=t[n];l&&e.size[n]>0&&l.width!=e.size[n]&&(delete l.fillspace,delete l.adjust,this.Xs(n,e.size[n],!0))}this.unblockEvent();var u=!(this.s.leftSplit||this.s.rightSplit);if(this.rk(u),this.callEvent("onStructureUpdate",[]),e.sort){var c=t[this.getColumnIndex(e.sort.id)];c&&this.zf(e.sort.id,e.sort.dir,c.sort)}if(e.filter){var d=this.filterByAll;this.filterByAll=function(){};for(var h in e.filter){var f=e.filter[h];if(f&&this.ij[h]){var p=this.ij[h];p[2].setValue(p[0],f);var g=p[1].contentId;g&&(this.hj[g].value=f)}}for(var h in this.ij)if(!e.filter[h]){var p=this.ij[h];p[2].setValue(p[0],"")}this.filterByAll=d,this.filterByAll()}if(e.select&&this.select){var v=e.select;this.unselect();for(var n=0;n<v.length;n++)(!v[n].row||this.exists(v[n].row))&&this.hl(v[n],!0)}e.scroll&&this.scrollTo(e.scroll.x,e.scroll.y)}}},webix.extend(webix.ui.datatable,webix.DataState),function(){function e(){if(webix.env.touch)i.$init(),-1==document.body.className.indexOf("webix_full_screen")&&i.limit(!0),window.MSCSSMatrix&&webix.html.addStyle(".webix_view{ -ms-touch-action: none; }");else var r=webix.event(document.body,"touchstart",function(i){if(i.touches.length&&i.touches[0].radiusX>4){webix.env.touch=!0,t(n),e();for(var a in webix.ui.views){var o=webix.ui.views[a];o&&o.$touch&&o.$touch()}}webix.eventRemove(r)},{capture:!0})}function t(e){e.down="touchstart",e.move="touchmove",e.up="touchend",e.context=i.gm}var i=webix.Touch={config:{longTouchDelay:1e3,scrollDelay:150,gravity:500,deltaStep:30,speed:"0ms",finish:1500,ellastic:!0},limit:function(e){i.cm=e!==!1},disable:function(){i.Xf=!0},enable:function(){i.Xf=!1},$init:function(){i.$init=function(){},webix.event(document.body,n.down,i.dm),webix.event(document.body,n.move,i.em),webix.event(document.body,n.up,i.fm),webix.event(document.body,"dragstart",function(e){return i.Xf||i.cm?void 0:webix.html.preventEvent(e)}),webix.event(document.body,"touchstart",function(e){if(!i.Xf&&!i.cm&&webix.env.isSafari){var t=e.srcElement.tagName.toLowerCase();return"input"==t||"textarea"==t||"select"==t||"label"==t||(i.im=!0,webix.html.preventEvent(e))}}),i.Of(),i.jm=[null,null],i.$active=!0},Of:function(){i.km=i.lm=i.mm=i.bC=null,i.nm=i.om=i.pm=this.qm=null,i.rm={sm:0,tm:0,um:0},i.vm&&(webix.html.removeCss(i.vm,"webix_touch"),i.vm=null),window.clearTimeout(i.wm),i.xm=!0,i.ym=!0,i.zm=!0,i.Am||i.Pf()},fm:function(e){if(i.km){if(i.nm){var t=i.Mf(i.om),n=t.e,r=t.f,a=i.config.finish,o=i.Bm(e,!0),s=webix.$$(i.om),l=s&&s.$scroll?s.$scroll.gravity:i.config.gravity;if(o.um){var u=n+l*o.sm/o.um,c=r+l*o.tm/o.um,d=i.jm[0]?i.Cm(u,!1,!1,i.pm.dx,i.pm.px):n,h=i.jm[1]?i.Cm(c,!1,!1,i.pm.dy,i.pm.py):r,f=Math.max(Math.abs(d-n),Math.abs(h-r));150>f&&(a=a*f/150),(d!=n||h!=r)&&(a=Math.round(a*Math.max((d-n)/(u-n),(h-r)/(c-r))));var p={e:d,f:h},s=webix.$$(i.om);s&&s.adjustScroll&&s.adjustScroll(p),a=Math.max(100,a),n!=p.e||r!=p.f?(i.Nf(i.om,p.e,p.f,a+"ms"),i.Dm&&i.Dm.Em(p.e,p.f,a+"ms"),i.Fm(p.e,p.f,a+"ms")):i.Pf()}else i.Pf()}else if(!this.qm)if(i.zm&&!i.ym)i.Gm("onSwipeX");else if(i.ym&&!i.zm)i.Gm("onSwipeY");else if(webix.env.isSafari&&i.im){i.im=!1;var g=i.km.target;webix.delay(function(){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),g.dispatchEvent(e)})}i.Gm("onTouchEnd"),i.Of()}},em:function(e){if(i.bC&&i.km){var t=i.Bm(e);if(i.Gm("onTouchMove"),i.nm)i.Hm(t);else if(i.ym=i.Im(t.Jm,"x",i.ym),i.zm=i.Im(t.Ei,"y",i.zm),i.nm){var n=i.Km("onBeforeScroll",!0);if(n){var r={};n.callEvent("onBeforeScroll",[r]),r.update&&(i.config.speed=r.speed,i.config.scale=r.scale)}i.Lm(t)}return webix.html.preventEvent(e)}},Hm:function(){if(i.om){var e=i.Mf(i.om),t=(e.e,e.f,i.mm||i.km),n=webix.$$(i.om),r=n&&n.$scroll?n.$scroll.ellastic:i.config.ellastic;i.jm[0]&&(e.e=i.Cm(e.e-t.x+i.lm.x,r,e.e,i.pm.dx,i.pm.px)),i.jm[1]&&(e.f=i.Cm(e.f-t.y+i.lm.y,r,e.f,i.pm.dy,i.pm.py)),i.Nf(i.om,e.e,e.f,"0ms"),i.Dm&&i.Dm.Em(e.e,e.f,"0ms"),i.Fm(e.e,e.f,"0ms")}},Fm:function(e,t,n){var r=i.pm.px/i.pm.dx*-e,a=i.pm.py/i.pm.dy*-t;i.jm[0]&&i.Nf(i.jm[0],r,0,n),i.jm[1]&&i.Nf(i.jm[1],0,a,n)},scrollTo:function(e,t,n,r){i.Nf(e,t,n,r)},Nf:function(e,t,n,r){if(!i.tt&&window.setAnimationFrame&&window.setAnimationFrame(function(){return i.tt=!0,i.Nf(e,t,n,r)}),i.tt=null,i.Am=!0,e){var a=i.config.translate||webix.env.translate;e.style[webix.env.transform]=a+"("+Math.round(t)+"px, "+Math.round(n)+"px"+("translate3d"==a?", 0":"")+")",e.style[webix.env.transitionDuration]=r}},Mf:function(e){var t,n=window.getComputedStyle(e)[webix.env.transform];if("none"==n)t={e:0,f:0};else if(window.WebKitCSSMatrix)t=new WebKitCSSMatrix(n);else if(window.MSCSSMatrix)t=new MSCSSMatrix(n);else{var r=n.replace(/(matrix\()(.*)(\))/gi,"$2");r=r.replace(/\s/gi,""),r=r.split(",");for(var t={},a=["a","b","c","d","e","f"],o=0;o<a.length;o++)t[a[o]]=parseInt(r[o],10)}return i.Dm&&i.Dm.Mm(t),t},Cm:function(e,t,i,n,r){if(e===i)return e;var a=Math.abs(e-i),o=a/(e-i);
if(e>0)return t?i+o*Math.sqrt(a):0;var s=n-r;return 0>s+e?t?i-Math.sqrt(-(e-i)):-s:e},Nm:function(e){if(!e.scroll_enabled){e.scroll_enabled=!0,e.parentNode.style.position="relative";var t=webix.env.cssPrefix;e.style.cssText+=t+"transition: "+t+"transform; "+t+"user-select:none; "+t+"transform-style:flat;",e.addEventListener(webix.env.transitionEnd,i.Pf,!1)}},Lm:function(e){-1!=i.nm.indexOf("x")&&(i.jm[0]=i.Om("x",i.pm.dx,i.pm.px,"width")),-1!=i.nm.indexOf("y")&&(i.jm[1]=i.Om("y",i.pm.dy,i.pm.py,"height")),i.Nm(i.om),window.setTimeout(i.Hm,1)},Om:function(e,t,n,r){if(2>t-n){var a=i.Mf(i.om),o="y"==e?a.e:0,s="y"==e?0:a.f;return i.Dm||i.Nf(i.om,o,s,"0ms"),i.nm=i.nm.replace(e,""),""}var l=webix.html.create("DIV",{class:"webix_scroll_"+e},"");return l.style[r]=Math.max(n*n/t-7,10)+"px",i.pm.left&&("x"===e?l.style.left=i.pm.left+"px":l.style.right=-i.pm.left+"px"),i.pm.hidden&&(l.style.visibility="hidden"),i.om.parentNode.appendChild(l),l},Im:function(e,t,n){return e>i.config.deltaStep?(i.xm&&(i.Pm(t),i.pk(t),-1==(i.nm||"").indexOf(t)&&(i.nm="")),!1):n},Pf:function(){var e,t,n;n=webix.$$(i.om||this),n&&(i.om?e=i.Mf(i.om):n.getScrollState&&(t=n.getScrollState(),e={e:t.x,f:t.y}),webix.callEvent("onAfterScroll",[e]),n.callEvent&&n.callEvent("onAfterScroll",[e])),i.nm||(webix.html.remove(i.jm),i.jm=[null,null]),i.Am=!1},Pm:function(e){window.clearTimeout(i.wm),i.xm=!1},Qm:function(e){return!i.jm[0]&&!i.jm[1]||void i.Rm(e,i.jm[0]?"x":"y")},dm:function(e){var t=e.target||event.srcElement;if(!(i.Xf||t.tagName&&"textarea"==t.tagName.toLowerCase()&&t.offsetHeight<t.scrollHeight)){i.qm=null,i.bC=i.km=n.context(e);var r=webix.$$(e);!i.cm||i.Sm()||r&&r.$touchCapture||(i.bC=null),i.Gm("onTouchStart"),i.Qm(e)&&(i.wm=window.setTimeout(i.Tm,i.config.longTouchDelay)),!r||!r.touchable||t.className&&0===t.className.indexOf("webix_view")||(i.vm=r.getNode(e),webix.html.addCss(i.vm,"webix_touch"))}},Tm:function(e){i.km&&(i.Gm("onLongTouch"),webix.callEvent("onClick",[i.km]),i.qm=!0)},Rm:function(e,t){i.pk(t);var r=i.jm[0]||i.jm[1];if(r){var a=i.Km("onBeforeScroll",!0);a&&a.callEvent("onBeforeScroll",[i.km,i.lm])}!r||i.om&&r.parentNode==i.om.parentNode||(i.Of(),i.Pf(),i.km=n.context(e)),i.em(e)},Bm:function(e,t){return i.mm=i.lm,i.lm=n.context(e),i.rm.Jm=Math.abs(i.km.x-i.lm.x),i.rm.Ei=Math.abs(i.km.y-i.lm.y),i.mm&&(i.lm.time-i.mm.time<i.config.scrollDelay?(i.rm.sm=i.rm.sm/1.3+i.lm.x-i.mm.x,i.rm.tm=i.rm.tm/1.3+i.lm.y-i.mm.y):i.rm.tm=i.rm.sm=0,i.rm.um=i.rm.um/1.3+(i.lm.time-i.mm.time)),i.rm},Um:function(e){i.pm={dx:e.offsetWidth,dy:e.offsetHeight,px:e.parentNode.offsetWidth,py:e.parentNode.offsetHeight}},Sm:function(e){var t=i.km.target;if(!webix.env.touch&&!webix.env.transition&&!webix.env.transform)return null;for(;t&&"BODY"!=t.tagName;){if(t.getAttribute){var n=t.getAttribute("touch_scroll");if(n&&(!e||-1!=n.indexOf(e)))return[t,n]}t=t.parentNode}return null},pk:function(e){var t=this.Sm(e);return t&&(i.nm=t[1],i.om=t[0],i.Um(t[0])),t},Gm:function(e){webix.callEvent(e,[i.km,i.lm]);var t=i.Km(e);t&&t.callEvent(e,[i.km,i.lm])},Km:function(e,t){var n=webix.$$(t?i.om:i.km);if(!n)return null;for(;n;){if(n.hasEvent&&n.hasEvent(e))return n;n=n.getParentView()}return null},gm:function(e){if(!e.touches[0]){var t=i.lm;return t.time=new Date,t}return{target:e.target,x:e.touches[0].pageX,y:e.touches[0].pageY,time:new Date}},hm:function(e){return{target:e.target||e.srcElement,x:e.pageX,y:e.pageY,time:new Date}}};webix.ready(e);var n=webix.env.mouse={down:"mousedown",up:"mouseup",move:"mousemove",context:i.hm};window.navigator.pointerEnabled?(n.down="pointerdown",n.move="pointermove",n.up="pointerup"):window.navigator.msPointerEnabled?(n.down="MSPointerDown",n.move="MSPointerMove",n.up="MSPointerUp"):webix.env.touch&&t(n)}(),webix.attachEvent("onDataTable",function(e,t){webix.env.touch&&(webix.Touch.$init(),t.scrollSize=0,webix.Touch.Xf&&webix.Touch.limit(),e.$ready.push(e.$touch))}),webix.extend(webix.ui.datatable,{$touch:function(){var e=this.s;e.scrollAlignY=!1,webix.extend(this,e.prerender===!0?this.Vm:this.Wm);var t="";e.autowidth||e.scrollX===!1||(t+="x"),e.autoheight||e.scrollY===!1||(t+="y"),this.Vf.setAttribute("touch_scroll",t),webix.Touch.Nm(this.Vf.childNodes[1].firstChild),webix.Touch.Nf(this.Vf.childNodes[1].firstChild,0,0,"0ms"),this.Em(0,0,"0ms")},Vm:{$j:function(e,t){webix.Touch.Nf(this.Vf.childNodes[1].firstChild,0,0,"0ms"),this.Em(e,t,"0ms")},_j:function(){var e=webix.Touch.Mf(this.Vf.childNodes[1].firstChild);return{x:-e.e,y:-e.f}},$init:function(){this.attachEvent("onBeforeScroll",function(){webix.Touch.om=this.Vf.childNodes[1].firstChild,webix.Touch.Um(webix.Touch.om),webix.Touch.Dm=this}),this.attachEvent("onTouchEnd",function(){webix.Touch.Dm=null})},Em:function(e,t,i){this.s.leftSplit&&webix.Touch.Nf(this.Vf.childNodes[0].firstChild,0,t,i),this.s.rightSplit&&webix.Touch.Nf(this.Vf.childNodes[2].firstChild,0,t,i),this.s.header&&webix.Touch.Nf(this.I.childNodes[1].firstChild,e,0,i),this.s.footer&&webix.Touch.Nf(this.cj.childNodes[1].firstChild,e,0,i),this.callEvent("onSyncScroll",[e,t,i])},Mm:function(){}},Wm:{$j:function(e,t){webix.delay(function(){this.callEvent("onAfterScroll",[{e:-e,f:-t}])},this)},$scroll:{gravity:0,elastic:!1},$init:function(){this.attachEvent("onAfterColumnHide",function(){this.$j(0,0)}),this.attachEvent("onBeforeScroll",function(){var e=webix.Touch;e.om=this.Vf.childNodes[1].firstChild,e.Um(e.om),e.pm.left=this.bk,e.pm.hidden=this.Zj.s.scrollVisible||this.Wj.s.scrollVisible,e.pm.dy=this.wj,e.Dm=this}),this.attachEvent("onAfterScroll",function(e){if(e){var t=this.bk!=-e.e,i=this.jk!=-e.f;webix.Touch.Dm=null,webix.Touch.$m=null,this.jk=0,this.bk=0;var n=webix.Touch.config.translate;return webix.Touch.config.translate="translate",this.Em(this.Zj?0:e.e,0,"0ms"),webix.Touch.config.translate=n,this.bk=-e.e,this.jk=-e.f,this.ZF(),this.render(),t&&(this.Zj&&this.Zj.scrollTo(this.bk),this.callEvent("onScrollX",[])),i&&(this.Wj&&this.Wj.scrollTo(this.jk),this.callEvent("onScrollY",[])),!1}})},Em:function(e,t,i){t+=this.jk,e+=this.bk,webix.Touch.Nf(this.Vf.childNodes[1].firstChild,e,t,i),this.s.leftSplit&&webix.Touch.Nf(this.Vf.childNodes[0].firstChild,0,t,i),this.s.rightSplit&&webix.Touch.Nf(this.Vf.childNodes[2].firstChild,0,t,i),this.s.header&&webix.Touch.Nf(this.I.childNodes[1].firstChild,e,0,i),this.s.footer&&webix.Touch.Nf(this.cj.childNodes[1].firstChild,e,0,i),this.callEvent("onSyncScroll",[e,t,i])},Mm:function(e){e.f-=this.jk,e.e-=this.bk}}}),webix.extend(webix.ui.datatable,{$init:function(){this.data.attachEvent("onStoreUpdated",webix.bind(function(e){e||this._m()},this)),this.attachEvent("onStructureLoad",this._m),this.attachEvent("onStructureUpdate",this.an),this.attachEvent("onColumnResize",function(e,t,i,n){n&&this.an()}),this.attachEvent("onResize",this.an)},_m:function(){for(var e=!1,t=this.fj,i=0;i<t.length;i++)t[i].adjust&&("header"==t[i].adjust||this.count())&&(e=this.bn(i,t[i].adjust,!0)||e);e&&(this.rk(!0),this.an())},an:function(){var e=this.s.columns,t=[],i=0;if(e&&!this.s.autowidth)for(var n=0;n<e.length;n++){var r=e[n].fillspace;r&&(t[n]=r,i+=1*r||1)}i&&this.cn(t,i)},cn:function(e,t){var i=this.s.columns;if(i){var n=this.bc-this.oj,r=!1;if(n>0){for(var a=0;a<i.length;a++)e[a]||(n-=i[a].width||this.config.columnWidth);for(var a=0;a<e.length;a++)if(e[a]){var o=Math.min(n,Math.round(n*e[a]/t));r=this.Xs(a,o,!0)||r,n-=i[a].width,t-=e[a]}r&&this.rk(!0)}}},dn:function(e,t){var i=this.s.columns[e],n=i.minColumnWidth||10;if("header"!=t){var r=this.data.order.length;i.adjustBatch&&i.adjustBatch<r&&(r=i.adjustBatch);for(var a=this.data.order.slice(0,r),o=0;r>o;o++)a[o]=a[o]?this.Ek(this.getItem(a[o]),i,0):"";n=Math.max(n,webix.html.getTextSize(a,"webix_table_cell webix_cell").width)}if("data"!=t)for(var o=0;o<i.header.length;o++){var s=i.header[o];if(s){var l=0;if(s.rotate)for(var u=0;u<(s.rowspan||1);u++)l+=this.Mt[u];var c="webix_table_cell webix_cell "+(s.css||"")+(s.rotate?"webix_measure_rotate":""),d=webix.html.getTextSize([s.text],c,l);n=Math.max(n,s.rotate?d.height:d.width)}}return n+1+(webix.env.isIE?webix.skin.$active.layoutPadding.space:0)},bn:function(e,t,i){if(e>=0){var n=this.dn(e,t);return this.Xs(e,n,i)}},adjustColumn:function(e,t){this.bn(this.getColumnIndex(e),t)},adjustRowHeight:function(e,t){if(e){var i,n=this.getColumnConfig(e),r=webix.html.create("DIV",{class:"webix_table_cell webix_measure_size webix_cell"},"");r.style.cssText="width:"+n.width+"px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;",this.$view.appendChild(r),r.offsetHeight<1&&(i=this.$view.cloneNode(!0),document.body.appendChild(i),i.appendChild(r)),this.data.each(function(e){r.innerHTML=this.Ek(e,n,0),e.$height=Math.max(r.scrollHeight,this.s.rowHeight)},this),r=webix.html.remove(r),i&&webix.html.remove(i)}else{var a=new Array(this.data.order.length),o=this.config.columns,s=0;for(var l in this.data.pull)a[s]=0,s++;for(var u=0;u<o.length;u++){this.adjustRowHeight(o[u].id,!0);var s=0;this.data.each(function(e,t){e.$height>a[s]&&(a[s]=e.$height),e.$height=a[s],s++})}}t||this.refresh()}}),webix.extend(webix.ui.datatable,{math_setter:function(e){return e&&this.en(),e},fn:"$",en:function(){webix.env.strict||(this.data.attachEvent("onStoreUpdated",webix.bind(this.gn,this)),this.data.attachEvent("onStoreLoad",webix.bind(this.hn,this)),this.attachEvent("onStructureLoad",this.hn))},gn:function(e,t,i){if(e&&"delete"!=i&&"paint"!=i){"add"==i&&this.pn(t);for(var n=0;n<this.fj.length;n++)this.jn(e,this.fj[n].id,"add"!==i);this.kn={}}},jn:function(e,t,i){var n,r=this.getItem(e);if(i===!0?n=r[this.fn+t]||r[t]:(n=r[t],this.kn={}),"undefined"!=typeof n&&null!==n&&(n.length>0&&"="===n.substr(0,1)?(r[this.fn+t]&&i===!0||(r[this.fn+t]=r[t]),r[t]=this.ln(n,e,t)):("undefined"!=typeof r[this.fn+t]&&delete r[this.fn+t],this.mn(r,t)),"undefined"!=typeof r.depends&&"undefined"!=typeof r.depends[t]))for(var a in r.depends[t]){var o=r.depends[t][a][0]+"__"+r.depends[t][a][1];"undefined"==typeof this.kn[o]&&(this.kn[o]=!0,this.jn(r.depends[t][a][0],r.depends[t][a][1],!0))}},nn:function(e,t){var i=this.getItem(e);"undefined"!=typeof i[this.fn+t]&&(i[t]=i[this.fn+t])},hn:function(){if(this.fj&&this.count()){this.pn();for(var e=0;e<this.fj.length;e++){var t=this.columnId(e);this.data.each(function(e){this.jn(e.id,t)},this)}this.kn={}}},pn:function(e){for(var t=0;t<this.fj.length;t++)if(this.fj[t].math){var i=this.columnId(t),n="="+this.fj[t].math;n=n.replace(/\$r/g,"#$r#"),n=n.replace(/\$c/g,"#$c#"),e?(e[i]=this.qn(n,e.id,i),delete e[this.fn+i],this.mn(e,i)):this.data.each(function(e){e[i]=this.qn(n,e.id,i),delete e[this.fn+i],this.mn(e,i)},this)}},qn:function(e,t,i){return webix.template(e)({$r:t,$c:i})},rn:function(e,t){var i;if(!this.exists(e))return"#out_of_range";i=this.getItem(e);var n=i[this.fn+t]||i[t]||0;return n=n.toString(),"="!==n.substring(0,1)?n:("undefined"==typeof i[this.fn+t]&&(i[this.fn+t]=i[t]),i[t]=this.ln(n,e,t,!0),i[t])},ln:function(e,t,i,n){if(n===!0){if(this.sn(t,i))return"#selfreference"}else this.tn();this.un(t,i);var r=this.getItem(t);e=e.substring(1);var a=this.vn(e),o=this.wn(e);a?(e=this.xn(e,o),e=this.yn(e,a)):e=this.xn(e,o,!0);var s=this.zn(e);if(s!==!1)return s;this.An(t,i),this.mn(r,i);for(var l=0;l<o.length;l++)this.Bn([t,i],o[l]);var s=this.zn(e);if(s!==!1)return s;if(!e)return e;e=this.Cn(e);var s=this.zn(e);return s!==!1?s:e},vn:function(e){var t=/(\+|\-|\*|\/)/g,i=e.replace(/\[[^)]*?\]/g,"").match(t);return i},wn:function(e){var t=/\[([^\]]+),([^\]]+)\]/g,i=e.match(t);null===i&&(i=[]);for(var n=0;n<i.length;n++){var r=i[n],a=r;r=r.substr(1,r.length-2),r=r.split(","),r[0]=this.Dn(r[0]),r[1]=this.Dn(r[1]),":"===r[0].substr(0,1)&&(r[0]=this.getIdByIndex(r[0].substr(1))),":"===r[1].substr(0,1)&&(r[1]=this.columnId(r[1].substr(1))),r[2]=a,i[n]=r}return i},xn:function(e,t,i){var n="(",r=")";i&&(n=r="");for(var a=0;a<t.length;a++){var o=t[a],s=this.rn(o[0],o[1]);isNaN(s)&&(s='"'+s+'"'),e=e.replace(o[2],n+s+r)}return e},yn:function(e,t){for(var i=[],n=0;n<t.length;n++){var r=t[n],a=this.En(e,r);i.push(a[0]),e=a[1]}i.push(e);for(var n=0;n<i.length;n++){var o=this.Dn(i[n]);i[n]=o}for(var s="",n=0;n<i.length-1;n++)s+=i[n]+t[n];return s+=i[i.length-1]},Cn:function(expr){try{webix.temp_value="",expr="webix.temp_value = "+expr,eval(expr)}catch(e){webix.temp_value=""}var result=webix.temp_value;return webix.temp_value=null,result.toString()},En:function(e,t){var i=e.indexOf(t),n=e.substr(0,i),r=e.substr(i+1);return[n,r]},Dn:function(e){return e=e.replace(/^ */g,""),e=e.replace(/ *$/g,"")},tn:function(){this.Fn=[]},un:function(e,t){this.Fn[e+"__"+t]=!0},An:function(e,t){"undefined"!=typeof this.Fn[e+"__"+t]&&delete this.Fn[e+"__"+t]},sn:function(e,t){return"undefined"!=typeof this.Fn[e+"__"+t]},Bn:function(e,t){var i=this.getItem(t[0]);"undefined"==typeof i.depends&&(i.depends={}),"undefined"==typeof i.depends[t[1]]&&(i.depends[t[1]]={}),i.depends[t[1]][e[0]+"__"+e[1]]=e,i=this.getItem(e[0]),"undefined"==typeof i.triggers&&(i.triggers={}),"undefined"==typeof i.triggers[e[1]]&&(i.triggers[e[1]]={}),i.triggers[e[1]][t[0]+"__"+t[1]]=t},mn:function(e,t){if(e&&"undefined"!=typeof e.triggers)for(var i in e.triggers[t]){var n=e.triggers[t][i];delete this.getItem(n[0]).depends[n[1]][e.id+"__"+t]}},zn:function(e){var t=/#\w+/,i=e.match(t);return null!==i&&i.length>0&&i[0]}}),webix.extend(webix.ui.datatable,{ii:function(e){return this.getColumnConfig(e.column).editor},getEditor:function(e,t){return e?(1==arguments.length&&(t=e.column,e=e.row),(this.ai[e]||{})[t]):this.di},si:function(e){for(var t in this.ai){var i=this.ai[t];for(var n in i)"$count"!=n&&e.call(this,i[n])}},ji:function(e,t,i){var n=e.row,r=e.column,a=t.config=this.getColumnConfig(r);i!==!1&&this.showCell(n,r);var o=t.render();t.$inline&&(o=this.mi(e)),t.node=o;var s,l=this.getItem(n),u=a.editFormat;return this.s.editMath&&(s=l["$"+r]),s=s||l[r],webix.isUndefined(s)&&(s=""),t.setValue(u?u(s):s,l),t.value=l[r],this.ni(e,t),t.$inline||this.oi(e,o,!0),t.afterRender&&t.afterRender(),this.s.liveValidation&&(webix.UE(t.node,"keyup",this.Gn(e,this)),this.validateEditor(e)),o},Gn:function(e,t){return function(){t.validateEditor(e)}},ti:function(e,t,i){var n=this.getColumnConfig(e.column).editParse,r=i?{}:this.getItem(e.row);return r[e.column]=n?n(t):t,this.s.editMath&&(r["$"+e.column]=null),r},ni:function(e,t,i){var n=this.ai[e.row]=this.ai[e.row]||{};n.$count=(n.$count||0)+1,t.row=e.row,t.column=e.column,this.di=n[e.column]=t,this.Eb++,this.Hn=this.getScrollState()},qi:function(e){this.di==e&&(this.di=0),e.destroy&&e.destroy();var t=this.ai[e.row];delete t[e.column],t.$count--,t.$count||delete this.ai[e.row],this.Eb--},ei:function(e,t){var i=this.ai[e];if(i){this.ai[t]=i,delete this.ai[e];for(var n in i)i[n].row=t}},pi:function(e){var t,i,n,r,a,o,s=this.getColumnConfig(e.column),l=0;if(s&&s.node&&s.attached){if(n=this.getIndexById(e.row),this.Rt&&(o=this.getSpan(e.row,e.column)))for(i=0;3>i;i++)for(t=this.St[i],r=0;!l&&r<t.childNodes.length;r++)a=t.childNodes[r],a.getAttribute("row")==n&&a.getAttribute("column")==this.getColumnIndex(e.column)&&(l=a);!l&&n>=s.qk-this.s.topSplit&&n<s.Kk&&(l=s.node.childNodes[n-s.qk+this.s.topSplit])}return l},editCell:function(e,t,i,n){return t=t||this.s.columns[0].id,webix.EditAbility.edit.call(this,{row:e,column:t},i,n)},editRow:function(e,t){e&&e.row&&(e=e.row);var i=!1;this.eachColumn(function(t){this.edit({row:e,column:t},i,!i),i=!0})},editColumn:function(e,t){e&&e.column&&(e=e.column);var i=!1;this.eachRow(function(t){this.edit({row:t,column:e},i,!i),i=!0})},eachRow:function(e,t){var i=this.data.order;t&&(i=this.data.jf||i);for(var n=0;n<i.length;n++)e.call(this,i[n])},eachColumn:function(e,t){for(var i in this.Aj){var n=this.Aj[i];e.call(this,n.id,n)}if(t)for(var i in this.am){var n=this.am[i];e.call(this,n.id,n)}},vi:function(e){if(this.getSelectedId){var t=this.getSelectedId(!0);if(1==t.length)return this.hl(e),!1}},Gb:function(e,t){if(this.s.editable&&!this.Eb){if(t.target&&"INPUT"==t.target.tagName)return!0;var i=this.getSelectedId(!0);if(1==i.length){var n=i[0];return"row"==this.s.select&&(n.column=this.s.columns[t.shiftKey?0:this.s.columns.length-1].id),this.editNext(e,n),!1}}return!0},ui:function(e,t,i){var n=this.getIndexById(e.row),r=this.getColumnIndex(e.column),a=this.data.order,o=this.fj;if(i)for(var s=n;s<a.length;s++){for(var l=r+1;l<o.length;l++){var u={row:a[s],column:o[l].id};if(t.call(this,u)&&(!this.QD||!this.QD(e,u)))return u}r=-1}else for(var s=n;s>=0;s--){for(var l=r-1;l>=0;l--){var u={row:a[s],column:o[l].id};if(t.call(this,u))return u}r=o.length}return null},In:function(){this.Eb&&(this.Jn?this.Jn=!1:(this.Wj.scrollTo(this.getScrollState().y+this.Vf.childNodes[1].firstChild.scrollTop),this.Vf.childNodes[1].firstChild.scrollTop=0,this.Jn=!0))},Kn:function(){this.Eb&&this.Zj.scrollTo(this.Vf.childNodes[1].scrollLeft)},gi:function(){this.attachEvent("onScrollY",this.Ln),this.attachEvent("onScrollX",this.Ln),this.attachEvent("onScrollY",this.$s),this.attachEvent("onColumnResize",function(){this.editStop()}),this.attachEvent("onAfterFilter",function(){this.editStop()}),this.attachEvent("onRowResize",function(){this.editStop()}),this.attachEvent("onAfterScroll",function(){this.s.topSplit&&this.editStop()}),this.Vf.childNodes[1].firstChild.onscroll=webix.bind(this.In,this),this.Vf.childNodes[1].onscroll=webix.bind(this.Kn,this)},Ln:function(){if(this.Eb){var e=this.Hn;this.Hn=this.getScrollState();var t=this.Hn.y-e.y;this.si(function(e){if(e.getPopup){var i=this.getItemNode(e);i?e.getPopup().show(i):e.getPopup().show({x:-1e4,y:-1e4})}else e.$inline||(e.node.top-=t,e.node.style.top=e.node.top+"px")})}}}),webix.extend(webix.ui.datatable,webix.EditAbility),webix.extend(webix.ui.datatable,{$init:function(){this.kz(),this.attachEvent("onStructureLoad",this.Nn)},kz:function(){this.am={},this.bm=webix.toArray(),this.Mn=[0,0]},Nn:function(){for(var e=this.fj,t=0;t<e.length;t++)e[t].header&&this.xB(e,e[t].header),e[t].footer&&this.xB(e,e[t].footer);for(var t=e.length-1;t>=0;t--)e[t].hidden?this.hideColumn(e[t].id,{},!0,!0):e[t].batch&&this.config.visibleBatch&&e[t].batch!=this.config.visibleBatch&&this.hideColumn(e[t].id,{},!0,!0)},xB:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n&&n.colspan&&!n.$colspan&&(n.$colspan=n.colspan)}},moveColumn:function(e,t){var i=this.getColumnIndex(e);if(i!=t){var n=this.s.columns,r=n.splice(i,1),a=t-(t>i?1:0);webix.PowerArray.insertAt.call(n,r[0],a),this.On()}},rz:function(){var e=this.bm,t=this.s.columns;if(!e.length){for(var i=0;i<t.length;i++)e[i]=t[i].id;this.Mn=[this.s.leftSplit,this.Fj]}},isColumnVisible:function(e){return!this.am[e]},hideColumn:function(e,t,i,n){var r,a=this.s.columns,o=this.bm,s=this.am,l=1;if(t=t||{},n!==!1){var u=this.getColumnIndex(e);if(-1===u||!this.callEvent("onBeforeColumnHide",[e]))return;if(-1==u)return;if(this.rz(),t.spans)for(var c=a[u].header,d=0;d<c.length;d++)c[d]&&(c[d].$groupSpan=c[d].colspan||1,l=Math.max(l,c[d].$groupSpan));u<this.s.leftSplit&&(this.s.leftSplit-=l),u>=this.Fj?this.s.rightSplit-=l:this.Fj-=l;for(var d=u+l-1;d>=u;d--)this.vk(u),r=a.splice(u,1)[0],s[r.id]=r,r.qk=-1,delete this.Aj[r.id];this.callEvent("onAfterColumnHide",[e])}else{if(r=s[e],!r||!this.callEvent("onBeforeColumnShow",[e]))return;for(var h=null,d=0,f=0;d<o.length;d++){if(o[d]==e){f=d;break}s[o[d]]||(h=o[d])}var u=h?this.getColumnIndex(h)+1:0;if(t.spans)for(var c=r.header,d=0;d<c.length;d++)c[d]&&(c[d].colspan=c[d].$groupSpan||c[d].colspan,delete c[d].$groupSpan,l=Math.max(l,c[d].colspan||1));for(var d=f+l-1;d>=f;d--){var r=s[o[d]];r?(webix.PowerArray.insertAt.call(a,r,u),delete r.hidden,delete s[r.id],this.Aj[r.id]=r):l--}f<this.Mn[0]&&(this.s.leftSplit+=l),f>=this.Mn[1]?this.s.rightSplit+=l:this.Fj+=l,this.callEvent("onAfterColumnShow",[e])}r.header&&this.xt(r,n!==!1?0:1,"header"),r.footer&&this.xt(r,n!==!1?0:1,"footer"),i||this.On()},xt:function(e,t,i){for(var n=e[i].length-1;n>=0;n--)for(var r,a=this.bm,o=!1,s=0,l=0;l<a.length;l++){var e=this.getColumnConfig(a[l]),u=e[i][n];this.isColumnVisible(a[l])?(o&&s>0&&r&&r.colspan>0?(u=e[i][n]=r,r=u):u&&u.$colspan&&0>=s&&(s=u.colspan=u.$colspan,r=u),o=null):(u&&u.$colspan&&0>=s&&(s=u.colspan=u.$colspan,o=r=u),r&&s>0&&r.colspan--),s--}},refreshColumns:function(e,t){(e&&e!=this.config.columns||t)&&(this.kz(),this.ij={},e&&(this.Fj=e.length-(this.config.rightSplit||0))),this.Aj={};for(var i=0;i<this.fj.length;i++){var n=this.fj[i];this.Aj[n.id]=n,n.attached=n.node=null}for(var i=0;3>i;i++)this.I.childNodes[i].innerHTML="",this.Vf.childNodes[i].firstChild.innerHTML="";this.fj=this.config.columns=e||this.config.columns,this.Fj=this.fj.length-this.s.rightSplit,this.tj=0,this.rj(),this.callEvent("onStructureUpdate"),this.sk(),this.render()},On:function(){this.tj=0,this.callEvent("onStructureUpdate"),this.uj(),this.render()},showColumn:function(e,t,i){return this.hideColumn(e,t,i,!1)},showColumnBatch:function(e,t){var i="undefined"!=typeof t;t=t!==!1,this.eachColumn(function(n,r){if(r.batch){var a=this.am[r.id];t||(a=!a),r.batch==e&&a?this.hideColumn(r.id,{spans:!0},!0,!t):i||r.batch==e||a||this.hideColumn(r.id,{spans:!0},!0,t)}},!0),this.On()}}),webix.extend(webix.ui.datatable,{$init:function(){this.attachEvent("onAfterScroll",this.cF)},cF:function(){var e=this.eF();if(!e){var t=this.y.querySelector(".webix_cell");t&&t.setAttribute("tabindex","0")}},eF:function(){for(var e=this.getSelectedId(!0),t=0;t<e.length;t++)if(this.isColumnVisible(e[t].column))return this.getItemNode(e[t]);return null},moveSelection:function(e,t,i){if(!this.s.disabled){t=t||{};var n=this.getSelectedId(!0),r=n.length-1,a=!(!this.s.multiselect&&!this.s.areaselect)&&t.shift;if(n.length>1&&"cell"!==this.s.select&&(n=n.sort(webix.bind(function(e,t){return this.getIndexById(e.row)>this.getIndexById(t.row)||this.getColumnIndex(e.column)>this.getColumnIndex(t.column)?1:-1},this)),("up"==e||"left"==e||"top"==e||"pgup"==e)&&(r=0)),0>r&&this.count()){if("down"==e||"right"==e)e="top";else{if("up"!=e&&"left"!=e)return;e="bottom"}r=0,n=[{row:1,column:1}]}if(r>=0){var o=n[r].row,s=n[r].column;if("top"==e||"bottom"==e)o&&("top"==e?o=this.data.getFirstId():"bottom"==e&&(o=this.data.getLastId())),s&&(r=0,"bottom"==e&&(r=this.config.columns.length-1),s=this.columnId(r));else if("up"==e||"down"==e||"pgup"==e||"pgdown"==e){if(o){var r=this.getIndexById(o),l="pgup"==e||"pgdown"==e?Math.round(this.Vj/this.s.rowHeight):1;"up"==e||"pgup"==e?r-=l:("down"==e||"pgdown"==e)&&(r+=l),0>r&&(r=0),r>=this.data.order.length&&(r=this.data.order.length-1),o=this.getIdByIndex(r),!o&&this.s.pager&&this.showItemByIndex(r)}}else{if("right"!=e&&"left"!=e)return;if(s&&"row"!=this.config.select){var r=this.getColumnIndex(s);"right"==e?r++:"left"==e&&r--,0>r&&(r=0),r>=this.config.columns.length&&(r=this.config.columns.length-1),s=this.columnId(r)}else{if((this.open||this.oA)&&"right"==e)return this.open?this.open(o):this.openSub(o);if((this.close||this.oA)&&"left"==e)return this.close?this.close(o):this.closeSub(o)}}if(o){this.showCell(o,s),this.select||(webix.extend(this,this._k.$k,!0),this.s.select=this.open||this.oA?"row":"cell",webix.extend(this,this._k[this.s.select],!0));var u={row:o,column:s};if(a&&"area"==this.s.select){var c=this.el[this.el.length-1];this.gC(u,c,e,t)}else this.hl(u,a);if(!this.s.clipboard&&i!==!1){var d=this.getItemNode(u);d&&d.focus()}}}return!1}}}),webix.extend(webix.ui.datatable,webix.KeysNavigation),webix.extend(webix.ui.datatable,webix.DataMove),webix.extend(webix.ui.datatable,{drag_setter:function(e){return this.attachEvent("onBeforeDrag",function(e){return this.RD(e.source)}),this.attachEvent("onBeforeDragIn",function(e){return this.RD(e.target)}),this.attachEvent("onBeforeDropOrder",function(e,t){return 0>t||t>=this.s.topSplit}),webix.DragItem.drag_setter.call(this,e)},RD:function(e){var t,i,n=!1;if(this.s.topSplit&&e)for(webix.isArray(e)||(e=[e]),t=0;!n&&t<e.length;t++)i=this.getIndexById(e[t]),n=i<this.s.topSplit;return!n},$dragHTML:function(e,t){for(var i=this.bc-this.oj,n="<div class='webix_dd_drag' style='width:"+(i-2)+"px;'>",r=this.s.columns,a=0;a<r.length;a++){var o=this.Ek(e,r[a]);n+="<div style='width:"+r[a].width+"px;'>"+o+"</div>"}return n+"</div>"},getHeaderNode:function(e,t){return this.nG(e,t,this.I)},getFooterNode:function(e,t){return this.nG(e,t,this.cj)},nG:function(e,t,i){if(this.isColumnVisible(e)){var n=this.getColumnIndex(e),r=this.s.leftSplit>n?0:this.Fj<=n?2:1;t=t||0;var a=i.childNodes[r].getElementsByTagName("TR");if(a.length)for(var o=a[t+1].childNodes,s=0;s<o.length;s++)if(o[s].getAttribute("column")==n)return o[s].firstChild}return null},getItemNode:function(e,t){if(e&&!e.header){var i=e.row||e,n=this.getIndexById(i),r=this.Sj(),a=r[0]-this.s.topSplit;if(a>n&&n>r[1])return;var o=this.Xj(),s=this.s.leftSplit?0:o[0];if(e.column&&(s=this.getColumnIndex(e.column),s<this.Fj&&s>=this.s.leftSplit&&(s<o[0]||s>o[1])))return;var l=this.s.columns[s];if(l.attached&&l.node){var u=n<this.s.topSplit?n:n-a;return l.node.childNodes[u]}}},dragColumn_setter:function(e){var t;"order"==e?t={$drag:webix.bind(function(e,i){var n=this.locate(i);if(this.Pl||!n||!this.callEvent("onBeforeColumnDrag",[n.column,i]))return!1;webix.DragControl.Gd={from:t,start:n,custom:"column_dnd"};var r=this.getColumnConfig(n.column);return this.Qn=webix.html.posRelative(i),this.Rn=r.width,"<div class='webix_dd_drag_column' style='width:"+r.width+"px'>"+(r.header[0].text||"&nbsp;")+"</div>"},this),$dragPos:webix.bind(function(e,t,i){var n=webix.DragControl.getContext(),r=webix.html.offset(this.$view);i.style.display="none";var a=document.elementFromPoint(e.x,r.y+1),o=a?this.locate(a):null,s=webix.DragControl.getContext().start.column;if(o&&o.column!=s&&(!this.Sn||o.column!=this.Yg)&&"column_dnd"==n.custom&&webix.$$(a)==this){if(!this.callEvent("onBeforeColumnDropOrder",[s,o.column,t]))return;var l=this.getColumnIndex(s),u=this.getColumnIndex(o.column);t.touches&&(this.wy=t.target,this.wy.style.display="none",this.$view.parentNode.appendChild(this.wy)),this.moveColumn(s,u+(u>l?1:0)),this.Yg=o.column,this.Sn=!0}if(o&&o.column==s&&(this.Sn=!1),i.style.display="block",e.x=e.x-this.Qn.x,e.y=r.y,e.x<r.x)e.x=r.x;else{var c=r.x+this.$view.offsetWidth-this.oj-this.Rn;e.x>c&&(e.x=c)}webix.DragControl.Ed=!0},this),$dragDestroy:webix.bind(function(e,t){webix.html.remove(t),this.wy&&webix.html.remove(this.wy);var i=webix.DragControl.getContext().start;this.callEvent("onAfterColumnDropOrder",[i.column,this.Yg,e])},this),$drop:function(){}}:e&&(t={ah:!0,$drag:webix.bind(function(e,i){var n=this.locate(i);if(this.Pl||!n||!this.callEvent("onBeforeColumnDrag",[n.column,i]))return!1;webix.DragControl.Gd={from:t,start:n,custom:"column_dnd"};for(var r=this.getColumnConfig(n.column).header,a="&nbsp;",o=0;o<r.length;o++)if(r[o]){a=r[o].text;break}return"<div class='webix_dd_drag_column'>"+a+"</div>"},this),$drop:webix.bind(function(e,t,i){var n=i;i.touches&&this.Tn&&(n=this.Tn);var r=this.locate(n);if(!r)return!1;var a=webix.DragControl.getContext().start.column;if(a!=r.column){if(!this.callEvent("onBeforeColumnDrop",[a,r.column,i]))return;var o=this.getColumnIndex(a),s=this.getColumnIndex(r.column);this.moveColumn(a,s+(s>o?1:0)),this.callEvent("onAfterColumnDrop",[a,r.column,i])}},this),$dragIn:webix.bind(function(e,i,n){var r=webix.DragControl.getContext();if("column_dnd"!=r.custom||r.from!=t)return!1;for(var a=n.target||n.srcElement;-1==(a.className||"").indexOf("webix_hcell");)if(a=a.parentNode,!a)return;return a!=this.Tn&&(this.Tn&&webix.html.removeCss(this.Tn,"webix_dd_over_column"),webix.html.addCss(a,"webix_dd_over_column")),this.Tn=a},this),$dragDestroy:webix.bind(function(e,t){this.Tn&&webix.html.removeCss(this.Tn,"webix_dd_over_column"),webix.html.remove(t)},this)}),e&&(webix.DragControl.addDrag(this.I,t),webix.DragControl.addDrop(this.I,t,!0))}}),webix.extend(webix.ui.datatable,webix.DragItem),webix.extend(webix.ui.datatable,{clearValidation:function(){for(var e in this.data.Me)this.Un(e);this.data.clearMark("webix_invalid",!0)},Te:function(e,t){this.Un(e);for(var i in t)this.addCellCss(e,i,"webix_invalid_cell");this.addCss(e,"webix_invalid")},Qe:function(e){this.Un(e),this.removeCss(e,"webix_invalid")},Un:function(e){var t=(this.getItem(e),this.data.getMark(e,"$cellCss"));if(t)for(var i in t)t[i]=t[i].replace("webix_invalid_cell","").replace("  "," ")},addRowCss:function(e,t,i){this.addCss(e,t,i)},removeRowCss:function(e,t,i){this.removeCss(e,t,i)},addCellCss:function(e,t,i,n){var r=this.data.getMark(e,"$cellCss"),a=r||{},o=a[t]||"";a[t]=o.replace(i,"").replace("  "," ")+" "+i,r||this.data.addMark(e,"$cellCss",!1,a,!0),n||this.refresh(e)},removeCellCss:function(e,t,i,n){var r=this.data.getMark(e,"$cellCss");if(r){var a=r[t]||"";a&&(r[t]=a.replace(i,"").replace("  "," ")),n||this.refresh(e)}}}),webix.extend(webix.ui.datatable,webix.ValidateCollection),function(){function e(e){for(var t=[],i=e.length-1;i>=0;i--){var n=e[i];t[i]="object"==typeof n?n.value:n}return t}var t=webix.Sparklines=function(){};t.types={},t.getTemplate=function(e){var t=e||{};"string"==typeof e&&(t={type:e}),webix.extend(t,{type:"line"});var i=this.types[t.type];return webix.bind(this.BC,new i(t))},t.BC=function(t,i,n,r){return r?this.draw(e(n),r.width,33):this.draw(t.data||t,i.width,i.height)}}(),webix.attachEvent("onDataTable",function(e){e.type.sparklines=webix.Sparklines.getTemplate()}),function(){function e(e){var t=" ";if(e)for(var i in e)t+=i+'="'+e[i]+'" ';return t}var t={};t.draw=function(t,i,n,r){var a={xmlns:"http://www.w3.org/2000/svg",version:"1.1",height:"100%",width:"100%",viewBox:"0 0 "+i+" "+n,class:r||""};return"<svg "+e(a)+">"+t+"</svg>"},t.styleMap={lineColor:"stroke",color:"fill"},t.group=function(e){return"<g>"+e+"</g>"},t.z={M:function(e){return" M "+e.x+" "+e.y},L:function(e){return" L "+e.x+" "+e.y},C:function(e,t,i){return" C "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+i.x+" "+i.y},A:function(e,t,i,n){var r=e.x+Math.cos(n)*t,a=e.y+Math.sin(n)*t,o=n-i>=Math.PI;return" A "+t+" "+t+" 0 "+(o?1:0)+" 1 "+r+" "+a}},t.definePath=function(e,t){for(var i="",n=0;n<e.length;n++){var r=e[n][0].toUpperCase();i+=this.z[r].apply(this,e[n].slice(1))}return t&&(i+=" Z"),i},t.CC=function(e){for(var t=[],i=0;i<e.length;i++)t.push([i?"L":"M",e[i]]);return t},t.setOpacity=function(e,t){return e=webix.color.toRgb(e),e.push(t),"rgba("+e.join(",")+")"},t.DC=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];i||t.push(["M",n[0]]),t.push(["C",n[1],n[2],n[3]])}return t},t.getPath=function(t,i,n){return n=e(n),'<path class="'+i+'" vector-effect="non-scaling-stroke" d="'+t+'" '+n+"/>"},t.getSector=function(i,n,r,a,o,s){s=e(s);var l=i.x+Math.cos(r)*n,u=i.y+Math.sin(r)*n,c=[["M",i],["L",{x:l,y:u}],["A",i,n,r,a],["L",i]];return'<path class="'+o+'" vector-effect="non-scaling-stroke" d="'+t.definePath(c,!0)+'" '+s+"/>"},t.getCurve=function(t,i,n){n=e(n);var r=this.definePath(this.DC(t));return'<path fill="none" class="'+i+'" vector-effect="non-scaling-stroke" d="'+r+'" '+n+"/>"},t.getLine=function(e,t,i,n){return this.getPath(this.definePath(this.CC([e,t]),!0),i,n)},t.getCircle=function(t,i,n,r){return r=e(r),'<circle class="'+n+'" cx="'+t.x+'" cy="'+t.y+'" r="'+i+'" '+r+"/>"},t.getRect=function(t,i,n,r,a,o){return o=e(o),'<rect class="'+a+'" rx="0" ry="0" x="'+t+'" y="'+i+'" width="'+n+'" height="'+r+'" '+o+"/>"},webix.EC=t}(),function(){function e(e){this.config=webix.extend(webix.copy(t),e||{},!0)}var t={paddingX:3,paddingY:4,radius:1,minHeight:4,eventRadius:8};e.prototype.draw=function(e,t,i){var n,r,a,o,s,l=this.config,u=webix.Sparklines.types.line.prototype,c=webix.EC;return o=this.getPoints(e,t,i),a=c.definePath(u.FC(o),!0),l.color&&(s=this.GC(c,l.color)),r=c.group(c.getPath(a,"webix_sparklines_area"+(s?" "+s.area:""))),o.splice(o.length-3,3),a=c.definePath(u.FC(o)),r+=c.group(c.getPath(a,"webix_sparklines_line"+(s?" "+s.line:""))),r+=u.HC(c,o,l.radius,"webix_sparklines_item"+(s?" "+s.item:"")),n=Math.min(e.length?(t-2*(l.paddingX||0))/e.length:0,l.eventRadius),r+=u.IC(c,o,n),
c.draw(r,t,i,"webix_sparklines_area_chart"+(l.css?" "+l.css:""))},e.prototype.GC=function(e,t){var i={area:{},line:{},item:{}},n=e.styleMap;if(t){i.area[n.color]=e.setOpacity(t,.2),i.line[n.lineColor]=t,i.item[n.color]=t;for(var r in i)i[r]=webix.html.createCss(i[r])}return i},e.prototype.getPoints=function(e,t,i){var n=webix.Sparklines.types.line.prototype,r=n.getPoints.call(this,e,t,i),a=this.config.paddingX||0,o=this.config.paddingY||0;return r.push({x:t-a,y:i-o},{x:a,y:i-o},{x:a,y:r[0].y}),r},webix.Sparklines.types.area=e}(),function(){function e(e){this.config=webix.extend(webix.copy(t),e||{},!0)}var t={paddingX:3,paddingY:4,width:20,margin:4,minHeight:4,eventRadius:8,origin:0,itemCss:function(e){return e<(this.config.origin||0)?" webix_sparklines_bar_negative":""}};e.prototype.draw=function(e,t,i){var n,r,a,o,s,l=this.config,u="",c=[],d=this.getPoints(e,t,i),h=webix.EC;for(n=0;n<d.length;n++)r="function"==typeof l.itemCss?l.itemCss.call(this,e[n]):l.itemCss||"",l.negativeColor&&e[n]<l.origin?r+=" "+this.GC(h,l.negativeColor):l.color&&(r+=" "+this.GC(h,l.color)),a=d[n],c.push(h.getRect(a.x,a.y,a.width,a.height,"webix_sparklines_bar "+r));u+=h.group(c.join("")),o=parseInt(this.JC(e,t,i),10)+.5,s=l.paddingX||0,u+=h.group(h.getLine({x:s,y:o},{x:t-s,y:o},"webix_sparklines_origin"));var f=this.KC(e,t,i),p=[];for(n=0;n<f.length;n++)a=f[n],p.push(h.getRect(a.x,a.y,a.width,a.height,"webix_sparklines_event_area ",{webix_area:n}));return u+=h.group(p.join("")),h.draw(u,t,i,"webix_sparklines_bar_chart"+(l.css?" "+l.css:""))},e.prototype.GC=function(e,t){var i={},n=e.styleMap;return t&&(i[n.color]=t),webix.html.createCss(i)},e.prototype.JC=function(e,t,i){var n=this.config,r=n.paddingY||0;i=(i||100)-2*r;var a=r+i;if(n.origin!==!1){var o=Math.min.apply(null,e),s=Math.max.apply(null,e),l=n.origin||-1e-6;if(l>=s)a=r;else if(l>o){var u=i/(s-o);a-=u*(l-o)}}return a},e.prototype.KC=function(e,t,i){var n=[],r=this.config.paddingX||0,a=this.config.paddingY||0;if(t=(t||100)-2*r,i=(i||100)-2*a,e.length)for(var o=t/e.length,s=0;s<e.length;s++)n.push({x:Math.ceil(o*s)+r,y:a,height:i,width:o});return n},e.prototype.getPoints=function(e,t,i){var n=this.config,r=Math.min.apply(null,e);n.origin<r&&(r=n.origin);var a=Math.max.apply(null,e),o=[],s=n.paddingX,l=n.paddingY,u=n.margin,c=n.width||20,d=this.JC(e,t,i);if(t=(t||100)-2*s,i=(i||100)-2*l,e.length){var h=t/e.length,f=n.scale||a-r;c=Math.min(h-u,c),u=h-c;var p=0,g=r;n.origin!==!1&&n.origin>r?g=n.origin||0:p=n.minHeight;for(var v=(i-p)/(f?f:1),m=0;m<e.length;m++){var b=Math.ceil(v*(e[m]-g));o.push({x:Math.ceil(h*m)+s+u/2,y:d-(e[m]>=g?b:0)-p,height:Math.abs(b)+p,width:c})}}return o},webix.Sparklines.types.bar=e}(),function(){function e(e){this.config=webix.extend(webix.copy(t),e||{},!0)}var t={paddingX:6,paddingY:6,radius:2,minHeight:4,eventRadius:8};e.prototype.draw=function(e,t,i){var n=this.getPoints(e,t,i),r=this.config,a=webix.EC,o=r.color?this.GC(a,r.color):null,s=a.definePath(this.FC(n)),l=a.group(a.getPath(s,"webix_sparklines_line"+(o?" "+o.line:"")));l+=this.HC(a,n,r.radius,"webix_sparklines_item"+(o?" "+o.item:""));var u=Math.min(e.length?(t-2*(r.paddingX||0))/e.length:0,r.eventRadius);return l+=this.IC(a,n,u),a.draw(l,t,i,"webix_sparklines_line_chart"+(r.css?" "+r.css:""))},e.prototype.GC=function(e,t){var i={line:{},item:{}},n=e.styleMap;if(t){i.line[n.lineColor]=t,i.item[n.color]=t;for(var r in i)i[r]=webix.html.createCss(i[r])}return i},e.prototype.HC=function(e,t,i,n,r){for(var a=[],o=0;o<t.length;o++)a.push(e.getCircle(t[o],i,n,r));return e.group(a.join(""))},e.prototype.IC=function(e,t,i){for(var n=[],r=0;r<t.length;r++)n.push(e.getCircle(t[r],i,"webix_sparklines_event_area",{webix_area:r}));return e.group(n.join(""))},e.prototype.FC=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=t?"L":"M",n.push([i,e[t]]);return n},e.prototype.getPoints=function(e,t,i){var n=this.config,r=Math.min.apply(null,e);"undefined"!=typeof n.origin&&(r=Math.min(n.origin,r));var a=Math.max.apply(null,e),o=[],s=n.paddingX||0,l=n.paddingY||0;t=(t||100)-2*s;var u=n.minHeight||0;if(i=(i||100)-2*l,e.length)if(1==e.length)o.push({x:t/2+s,y:i/2+s});else{var c=t/(e.length-1),d=n.scale||a-r,h=(i-u)/(d?d:1);d||(i/=2);for(var f=0;f<e.length;f++)o.push({x:Math.ceil(c*f)+s,y:i-Math.ceil(h*(e[f]-r))+l-u})}return o},webix.Sparklines.types.line=e}(),function(){function e(e){this.config=webix.extend(t,e||{},!0)}var t={paddingY:2};e.prototype.rC=0,e.prototype.qC=["#f55b50","#ff6d3f","#ffa521","#ffc927","#ffee54","#d3e153","#9acb61","#63b967","#21a497","#21c5da","#3ea4f5","#5868bf","#7b53c0","#a943ba","#ec3b77","#9eb0b8"],e.prototype.xv=function(e,t){var i=t.length,n=this.qC.length;return n>i?(e&&(e=n-i>e?this.rC+2:this.rC+1),this.rC=e):e%=n,this.qC[e]},e.prototype.draw=function(e,t,i){var n,r,a,o,s=this.config,l=s.color||this.xv,u=this.getAngles(e),c=webix.EC,d=s.paddingY||0,h=i/2-d,f=t/2,p=i/2;for("function"!=typeof l&&(l=function(){return l}),o="",a=0;a<u.length;a++)n={},n[c.styleMap.color]=l.call(this,a,e,this.LC),o+=c.getSector({x:f,y:p},h,u[a][0],u[a][1],"webix_sparklines_sector",n);for(r=c.group(o),o="",a=0;a<u.length;a++)o+=c.getSector({x:f,y:p},h,u[a][0],u[a][1],"webix_sparklines_event_area",{webix_area:a});return r+=c.group(o),c.draw(r,t,i,"webix_sparklines_pie_chart"+(s.css?" "+s.css:""))},e.prototype.getAngles=function(e){var t,i,n=-Math.PI/2,r=[],a=this.Wo(e);for(i=0;i<e.length;i++)t=-Math.PI/2+a[i]-1e-4,r.push([n,t]),n=t;return r},e.prototype.Vo=function(e){for(var t=0,i=0;i<e.length;i++)t+=1*e[i];return t},e.prototype.Wo=function(e){var t,i,n=[],r=0,a=this.Vo(e);for(t=0;t<e.length;t++)i=1*e[t],n[t]=2*Math.PI*(a?(i+r)/a:1/e.length),r+=i;return n},webix.Sparklines.types.pie=e}(),function(){function e(e){this.config=webix.extend(webix.copy(i),e||{},!0)}function t(e){this.config=webix.extend(webix.copy(n),e||{},!0)}var i={paddingX:3,paddingY:6,radius:2,minHeight:4,eventRadius:8};e.prototype.draw=function(e,t,i){var n=this.config,r="",a=webix.Sparklines.types.line.prototype,o=this.getPoints(e,t,i),s=webix.EC,l=n.color?this.GC(s,n.color):null;r+=s.group(s.getCurve(o,"webix_sparklines_line"+(l?" "+l.line:"")));var u=a.getPoints.call(this,e,t,i);r+=a.HC(s,u,n.radius,"webix_sparklines_item"+(l?" "+l.item:""));var c=Math.min(e.length?(t-2*(n.paddingX||0))/e.length:0,n.eventRadius);return r+=a.IC(s,u,c),s.draw(r,t,i,"webix_sparklines_line_chart"+(n.css?" "+n.css:""))},e.prototype.GC=function(e,t){var i={line:{},item:{}},n=e.styleMap;if(t){i.line[n.lineColor]=t,i.item[n.color]=t;for(var r in i)i[r]=webix.html.createCss(i[r])}return i},e.prototype.getPoints=function(e,t,i){var n,r,a,o,s=[],l=[],u=[],c=webix.Sparklines.types.line.prototype;for(r=c.getPoints.call(this,e,t,i),n=0;n<r.length;n++)l.push(r[n].x),u.push(r[n].y);for(a=this.MC(l),o=this.MC(u),n=0;n<r.length-1;n++)s.push([r[n],{x:a[0][n],y:o[0][n]},{x:a[1][n],y:o[1][n]},r[n+1]]);return s},e.prototype.MC=function(e){var t,i,n=[],r=[],a=[],o=[],s=[],l=[],u=e.length-1;for(n[0]=0,r[0]=2,a[0]=1,o[0]=e[0]+2*e[1],t=1;u-1>t;t++)n[t]=1,r[t]=4,a[t]=1,o[t]=4*e[t]+2*e[t+1];for(n[u-1]=2,r[u-1]=7,a[u-1]=0,o[u-1]=8*e[u-1]+e[u],t=1;u>t;t++)i=n[t]/r[t-1],r[t]=r[t]-i*a[t-1],o[t]=o[t]-i*o[t-1];for(s[u-1]=o[u-1]/r[u-1],t=u-2;t>=0;--t)s[t]=(o[t]-a[t]*s[t+1])/r[t];for(t=0;u-1>t;t++)l[t]=2*e[t+1]-s[t+1];return l[u-1]=.5*(e[u]+s[u-1]),[s,l]},webix.Sparklines.types.spline=e;var n={paddingX:3,paddingY:6,radius:1,minHeight:4,eventRadius:8};t.prototype=webix.copy(e.prototype),t.prototype.draw=function(e,t,i){var n=this.config,r=webix.Sparklines.types.line.prototype,a=webix.EC,o=n.color?this.GC(a,n.color):null,s=this.getPoints(e,t,i),l=s.splice(s.length-3,3),u=a.CC(l);u[0][0]="L";var c=a.DC(s).concat(u),d=a.group(a.getPath(a.definePath(c),"webix_sparklines_area"+(o?" "+o.area:""),!0));d+=a.group(a.getPath(a.definePath(a.DC(s)),"webix_sparklines_line"+(o?" "+o.line:"")));var h=r.getPoints.call(this,e,t,i);d+=r.HC(a,h,n.radius,"webix_sparklines_item"+(o?" "+o.item:""));var f=Math.min(e.length?(t-2*(n.paddingX||0))/e.length:0,n.eventRadius);return d+=r.IC(a,h,f),a.draw(d,t,i,"webix_sparklines_splinearea_chart"+(n.css?" "+n.css:""))},t.prototype.GC=function(e,t){var i={area:{},line:{},item:{}},n=e.styleMap;if(t){i.area[n.color]=e.setOpacity(t,.2),i.line[n.lineColor]=t,i.item[n.color]=t;for(var r in i)i[r]=webix.html.createCss(i[r])}return i},t.prototype.getPoints=function(t,i,n){var r=e.prototype.getPoints.call(this,t,i,n),a=this.config.paddingX||0,o=this.config.paddingY||0;return r.push({x:i-a,y:n-o},{x:a,y:n-o},{x:a,y:r[0][0].y}),r},webix.Sparklines.types.splineArea=t}(),webix.extend(webix.ui.datatable,{UF:function(e,t){return!(!e.scroll||t)||(e.header=webix.isUndefined(e.header)?!!this.config.header:e.header,e.footer=webix.isUndefined(e.footer)?!!this.config.footer:e.footer,void(e.xCorrection=e.xCorrection||0))},sq:function(e,t){for(var i=-1,n=0;0>i&&n<e.length;n++)t(e[n])&&(i=n);return i},$F:function(e,t,i){var n={},r=0;return e.forEach(webix.bind(function(a,o){var s=a[0],l=[],u=s.length;s.forEach(webix.bind(function(e,a){for(var s=t[a+r],c=0;c<s[i].length;c++){var d=s[i][c];if(d||n[o]&&n[o][c]){if(d=webix.copy(d||{text:""}),n[o]&&n[o][c]&&0===a&&(d.colspan=n[o][c],n[o][c]=0),d.colspan){var h=Math.min(d.colspan,u-a);n[o+1]=n[o+1]||{},n[o+1][c]=d.colspan-h,d.colspan=h}d.rowspan&&1===u&&(d.height=(d.height||this.config.headerRowHeight)*d.rowspan,d.rowspan=null);var f={txt:d.rotate?this.getHeaderNode(s.id,c).innerHTML:d.text||(d.contentId?this.getHeaderContent(d.contentId).getValue():""),className:"webix_hcell webix_"+i+"_cell "+(d.css||""),style:{height:(d.height||this.config.headerRowHeight)+"px",width:d.colspan?"auto":s.width+"px"},span:d.colspan||d.rowspan?{colspan:d.colspan||1,rowspan:d.rowspan||1}:null};l[c]=l[c]||[],l[c][a]=f}}},this)),"header"==i?e[o]=l.concat(a):e[o]=a.concat(l),r+=u},this)),e},VF:function(e,t,i){var n=this.config.columns,r=this.getSelectedId(!0),a=this.XF(e),o=0,s=0,l=[],u=0;return i=i||0+e.xCorrection,t=t||[],this.eachRow(webix.bind(function(t){for(var c=0,d=this.getItem(t),h=this.getIndexById(t),f=[],p=!1,g=i;g<n.length;g++){var v=n[g].id,m=this.getColumnIndex(v)-i;if(n[g]){if(c+=n[g].width,c>a&&g>i){u=g;break}if("selection"!==e.data||"selection"==e.data&&-1!==this.sq(r,function(e){return e.column==v&&e.row==t})){var b;if(this.getSpan&&(b=this.getSpan(t,v)),b&&this.getColumnIndex(v)===i){var y=this.getColumnIndex(b[1]);i>y&&(b[2]=b[2]-(i-y),b[4]=b[4]?b[4]:d[b[1]]?this.getText(t,b[1]):null,b[1]=v)}if(!b||b&&b[0]==t&&b[1]==v){var w=b&&b[4]?b[4]:this.Aj[v]?this.getText(t,v):"",x=this.getCss(t,v)+" "+(n[g].css||"")+(b?" webix_dtable_span "+(b[5]||""):""),E={height:b&&b[3]>1?"auto":(d.$height||this.config.rowHeight)+"px",width:b&&b[2]>1?"auto":n[g].width+"px"};f.push({txt:w,className:x,style:E,span:b?{colspan:b[2],spanStart:this.getColumnIndex(b[1]),rowspan:b[3]}:null}),w&&(o=Math.max(m+1,o),s=Math.max(h+1,s)),p=p||!!w}else b&&(f.push({$inspan:!0}),o=Math.max(m+1,o),s=Math.max(h+1,s))}}}(!e.skiprows||p)&&l.push(f)},this)),s&&o&&(e.trim&&(l.length=s,l=l.map(function(e){for(var t=e.length-1;t>=0;t--)if(e[t].span&&e[t].span.colspan){e[t].span.colspan=Math.min(e[t].span.colspan,e.length-t);break}return e.length=o,e})),t.push(l)),u?this.VF(e,t,u):(e.footer&&(t=this.$F(t,n,"footer")),e.header&&(t=this.$F(t,n,"header"))),t},WF:function(e,t){var i=webix.html.create("div");return e.forEach(webix.bind(function(n,r){var a=webix.html.create("table",{class:"webix_table_print "+this.$view.className+(t.borderless?" borderless":""),style:"border-collapse:collapse"});if(n.forEach(function(e){var t=webix.html.create("tr");e.forEach(function(e,i){if(!e.$inspan){var n=webix.html.create("td");n.innerHTML=e.txt,n.className=e.className;for(var r in e.style)n.style[r]=e.style[r];e.span&&(n.colSpan=e.span.colspan,n.rowSpan=e.span.rowspan),t.appendChild(n)}}),a.appendChild(t)}),i.appendChild(a),r+1<e.length){var o=webix.html.create("DIV",{class:"webix_print_pagebreak"});i.appendChild(o)}},this)),i}}),webix.extend(webix.ui.datatable,webix.CustomPrint),webix.extend(webix.ui.datatable,{$exportView:function(e){if(this.isBranchOpen&&webix.extend(e,{filterHTML:!0}),"excel"!==e.export_mode||e.dataOnly||!e.styles)return this;e.dataOnly=!0,e.heights=webix.isUndefined(e.heights)?"all":e.heights;var t=webix.toExcel(this,e);return t[0].styles=this.oG(e),delete e.dataOnly,t},oG:function(e){var t=this.config.columns,i=[];return this.pG=this.pG||{},e.docHeader&&(i=[{0:this.qG(e.docHeader.css)},{0:{}}]),e.header!==!1&&(i=this.rG(e,"header",i)),this.data.each(function(e){for(var n={},r=0;r<t.length;r++){var a=this.getCss(e.id,t[r].id),o=t[r].node.className,s="",l=this.getIndexById(e.id)%2?"even":"odd",u=null,c=null;if(this.Rt&&(u=this.getSpan(e.id,t[r].id))?(c=this.getSpanNode({row:u[0],column:u[1]}),s="webix_dtable_span "+(u[5]||"")):c=this.getItemNode({row:e.id,column:t[r].id}),!c){c=webix.html.create("div",{class:a,style:"visibility:hidden"});var d=t[r].node;t[r].attached||(d=webix.html.create("div",{class:o,style:"visibility:hidden"}),this.Vf.appendChild(d)),d.appendChild(c)}n[r]=this.sG(c,[a,o,s,l].join(":"))}i[i.length]=n},this),e.footer!==!1&&this.config.footer&&(i=this.rG(e,"footer",i)),e.docFooter&&(i=i.concat([{0:{}},{0:this.qG(e.docFooter.css)}])),i},rG:function(e,t,i){for(var n=this.config.columns,r=[],a=0;a<n[0][t].length;a++){for(var o={},s=0;s<n.length;s++){var l=n[s][t][a];if(l){var u=l.colspan?n[s+l.colspan-1].id:n[s].id,c="header"==t?this.getHeaderNode(u,a):this.getFooterNode(u,a);if(c){var d=[c.parentNode.className,l.css||"","webix_hcell",t];o[s]=this.sG(c,d.join(":")),(l.colspan||l.rowspan)&&r.push([a,s,{colspan:l.colspan-1||0,rowspan:l.rowspan-1||0},o[s]])}}else for(var h=0;h<r.length;h++){var f=r[h][2],p=r[h][1],g=r[h][0];p+f.colspan>=s&&g+f.rowspan>=a&&(o[s]=r[h][3])}}i[i.length]=o}return i},sG:function(e,t){if(this.pG[t])return this.pG[t];var i=this.tG(e),n={font:{},alignment:{},border:{}};n.font.name=i["font-family"].replace(/,.*$/,""),n.font.sz=.75*i["font-size"].replace("px",""),n.font.color={rgb:webix.color.rgbToHex(i.color)},"normal"!==i["font-weight"]&&(n.font.bold=!0),"underline"===i["text-decoration-line"]&&(n.font.underline=!0),"italic"===i["font-style"]&&(n.font.italic=!0),"line-through"===i["text-decoration-line"]&&(n.font.strike=!0),n.alignment.horizontal=i["text-align"],n.alignment.vertical=i.height==i["line-height"]?"center":"top","normal"==i["white-space"]&&(n.alignment.wrapText=!0),e.firstChild&&e.firstChild.className&&-1!==e.firstChild.className.indexOf("webix_rotate")&&(n.alignment.textRotation=90);var r=webix.color.rgbToHex(i["background-color"]);return r&&(n.fill={fgColor:{rgb:r}}),-1!==i["background-image"].indexOf("gradient")&&(n.fill={fgColor:{rgb:webix.color.rgbToHex(i["background-image"].substring(i["background-image"].lastIndexOf("(")))}}),e.parentNode&&"TD"==e.parentNode.nodeName&&(i=this.tG(e.parentNode)),"0px"!==i["border-right-width"]&&(n.border.right={style:"thin",color:{rgb:webix.color.rgbToHex(i["border-right-color"])}}),"0px"!==i["border-bottom-width"]&&(n.border.bottom={style:"thin",color:{rgb:webix.color.rgbToHex(i["border-bottom-color"])}}),"0px"!==i["border-left-width"]&&(n.border.left={style:"thin",color:{rgb:webix.color.rgbToHex(i["border-left-color"])}}),"0px"!==i["border-top-width"]&&(n.border.top={style:"thin",color:{rgb:webix.color.rgbToHex(i["border-top-color"])}}),this.pG[t]=n,n},qG:function(e){e=webix.extend(e||{},{visibility:"hidden","white-space":"nowrap","text-align":"left"});var t="";for(var i in e)t+=i+":"+e[i]+";";var n=webix.html.create("div",{style:t});this.Vf.appendChild(n);var r=this.sG(n,t);return webix.html.remove(n),r},tG:function(e){var t={};return t=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle}}),webix.extend(webix.ui.datatable,{topSplit_setter:function(e){return this.data&&(this.data.$freeze=e),e},freezeRow:function(e,t){function i(e,t,i,n,a){var o;if(i&&e>=r){for(a||r++,o=e;o>=r;o--)n[o]=n[o-1];n[r-1]=t}if(!i&&r>e){for(a||r--,o=e;r>o;o++)n[o]=n[o+1];n[r]=t}}var n,r=this.s.topSplit,a=this.data.order,o=this.data.jf;e?(n=this.getIndexById(e),e=e.toString(),i(n,e,t,a),o&&i(o.find(e),e,t,o,!0)):t||(r=0),this.define("topSplit",r),this.refresh()}}),webix.TreeTableClick={},webix.TreeTablePaste={insert:function(e){for(var t=this.getSelectedId(!0,!0),i=0;i<e.length;i++){for(var n={},r=0;r<this.s.columns.length;r++)n[this.s.columns[r].id]=e[i][r]||"";!webix.isUndefined(n.id)&&this.exists(n.id)&&(n.id=webix.uid()),this.add(n,null,t[0])}}},webix.protoUI({name:"treetable",$init:function(){webix.extend(this.data,webix.TreeStore,!0),webix.extend(this.type,webix.TreeType),webix.extend(this,webix.TreeDataMove,!0);for(var e in webix.TreeClick)this.on_click[e]||(this.on_click[e]=this.Vn(webix.TreeClick[e]));this.type.treetable=webix.template("{common.space()}{common.icon()} {common.folder()}"),this.type.treecheckbox=function(e,t){return e.indeterminate&&!e.nocheckbox?"<div class='webix_tree_checkbox webix_indeterminate'></div>":webix.TreeType.checkbox.apply(this,arguments)},this.data.provideApi(this,!0),this.x.setAttribute("role","treegrid")},Xg:!1,Vn:function(e){return function(t,i){return i=i.row,e.call(this,t,i)}},getState:function(){var e=webix.DataState.getState.call(this);return webix.extend(e,webix.TreeAPI.getState.call(this)),e},setState:function(e){webix.TreeAPI.setState.call(this,e)&&webix.DataState.setState.call(this,e)},clipboard_setter:function(e){return webix.extend(this.rh,webix.TreeTablePaste),webix.TablePaste.clipboard_setter.call(this,e)},Ik:function(e,t){for(var i=0;i<e.start;i++){var n=this.data.order[i];n&&1!=this.getItem(n).$level&&e.start--}return webix.ui.datatable.prototype.Ik.call(this,e,t)}},webix.TreeAPI,webix.TreeStateCheckbox,webix.TreeDataLoader,webix.ui.datatable),webix.extend(webix.ui.datatable,{spans_setter:function(e){return e&&!this.Rt&&this.Qt(),e},Qt:function(){this.Rt={},this.St=[],this.data.attachEvent("onStoreLoad",webix.bind(function(e,t){t&&t.spans&&this.addSpan(t.spans)},this)),this.data.attachEvent("onClearAll",webix.bind(function(){this.Rt={}},this)),this.attachEvent("onScrollY",this.Tt),this.attachEvent("onScrollX",this.Tt),this.attachEvent("onAfterRender",this.Ut),this.attachEvent("onSelectChange",this.Vt)},addSpan:function(e,t,i,n,r,a){if("object"!=typeof e)n=n||1,i=i||1,this.Rt[e]||(this.Rt[e]={}),this.Rt[e][t]=[i,n,r,a];else for(var o=0;o<e.length;o++)this.addSpan.apply(this,e[o])},removeSpan:function(e,t){arguments.length||(this.Rt={});var i=this.Rt[e];i&&delete i[t]},getSpan:function(e,t){if(!e)return this.Rt;var i,n,r,a,o,t,e,s=this.Rt;i=this.getIndexById(e),r=this.getColumnIndex(t);for(e in s)for(t in s[e])if(o=s[e][t],n=this.getIndexById(e),a=this.getColumnIndex(t),!(i>n+o[1]-1||n>i||r>a+o[0]-1||a>r))return[e,t].concat(o);return null},Ut:function(){var e,t,i=this.fj.length-this.s.rightSplit;for(webix.html.remove(this.St),t=0;3>t;t++)e=this.St[t]=webix.html.create("DIV",{class:"webix_span_layer"}),this.Vf.childNodes[t].appendChild(e);this.attachEvent("onSyncScroll",function(e,t,i){for(var n=0;3>n;n++)webix.Touch.Nf(this.St[n],1==n?e:0,t,i)}),this.Tt(),this.s.leftSplit&&this.Wt(this.St[0],0,this.s.leftSplit),this.s.rightSplit&&this.Wt(this.St[2],i,this.fj.length),this.Wt(this.St[1],this.s.leftSplit,i),this.s.topSplit&&!webix.env.touch&&this.DG()},EG:function(){for(var e,t=0,i=0,n=0,r=0;t<this.s.leftSplit;)i+=this.fj[t].width,t++;for(t=this.fj.length-1,e=t-this.s.rightSplit;t>=e;)r+=this.fj[t].width,t--;for(t=this.s.leftSplit;t<this.fj.length-this.s.rightSplit;t++)n+=this.fj[t].width;return[i,n,r]},DG:function(){var e,t,i,n=this.fj.length-this.s.rightSplit;for(t=3;6>t;t++)e=this.St[t]=webix.html.create("DIV",{class:"webix_span_layer_top"}),this.Vf.childNodes[t-3].appendChild(e);i=this.EG(),this.s.leftSplit&&(this.St[3].style.width=i[0]+"px",this.Wt(this.St[3],0,this.s.leftSplit,!0)),this.s.rightSplit&&(this.St[5].style.width=i[2]+"px",this.Wt(this.St[5],n,this.fj.length,!0)),this.St[4].style.width=i[1]+"px",this.Wt(this.St[4],this.s.leftSplit,n,!0)},Wt:function(e,t,i,n){for(var r=0,a=this.data.$min||0,o=this.data.$max||this.data.order.length,s=a;o>s;s++){var l=this.data.order[s];if(l){var u=this.Rt[l];if(u&&(!n||s<this.s.topSplit))for(var c=t;i>c;c++){var d=this.fj[c].id;u[d]&&this.Xt(e,s,c,u,r,t,l,d)}r+=this.FA(this.getItem(l))}}},Vt:function(){for(var e=this.config.select,t="cell"==e||"column"==e,i=this.getSelectedId(!0),n=[],r=this.Yt||[],a=webix.uid()+"",o=!1,s=0;s<i.length;s++){var l=this.Rt[i[s]];!l||t&&!l[i[s].column]||(l.$selected&&l.$selected.id==i[s].id||(o=!0),l.$selected=i[s],l.$time=a,n.push(i[s].id))}for(var s=0;s<r.length;s++){var l=this.Rt[r[s]];l&&l.$time!==a&&(delete l.$selected,o=!0)}this.Yt=[].concat(i),o&&this.Ut()},Zt:function(e,t){for(var i=0,n=e;t>n;n++){var r=this.fj[n];i+=r?r.width:0}return i},$t:function(e,t){for(var i=0,n=e;t>n;n++){var r=this.getItem(this.data.order[n]);i+=r?this.FA(r):this.s.rowHeight}return i},Xt:function(e,t,i,n,r,a,o,s){var l=n[s],u=l[2]||this.getText(o,s),c="";!n.$selected||"row"!==this.s.select&&n.$selected.column!==s||(c="webix_selected ");var d={column:i,row:t,class:c+"webix_cell webix_table_cell webix_dtable_span "+(l[3]||""),"aria-colindex":i+1,"aria-rowindex":t+1};l[0]>1&&(d["aria-colspan"]=l[0]),l[1]>1&&(d["aria-rowspan"]=l[1]);var h=webix.html.create("DIV",d,""+u);h.style.top=r+"px",h.style.left=this.Zt(a,i)+"px",h.style.width=this.Zt(i,i+l[0])+"px",h.style.height=this.$t(t,t+l[1])+"px",e.appendChild(h)},Tt:function(){if(!this.s.prerender)for(var e=this.getScrollState(),t=0;3>t;t++)this.St[t].style.top="-"+(e.y||0)+"px"},QD:function(e,t){var i,n,r=!1;return this.Rt&&(i=this.getSpan(e.row,e.column),n=this.getSpan(t.row,t.column),i&&n&&i[0]==n[0]&&i[1]==n[1]&&(r=!0)),r},getSpanNode:function(e){for(var t=this.St,i=this.getIndexById(e.row),n=this.getColumnIndex(e.column),r=0;r<t.length;r++)for(var a=t[r].childNodes,o=0;o<a.length;o++)if(a[o].getAttribute("row")==i&&a[o].getAttribute("column")==n)return a[o];return null}}),webix.extend(webix.ui.datatable,{subrow_setter:function(e){return!!e&&(this.kA(),this.s.fixedRowHeight=!1,webix.template(e))},subview_setter:function(e){return e&&(this.s.subrow=this.subrow_setter("<div></div>")),e},defaults:{subRowHeight:35},lA:function(){this.data.each(function(e){e&&(e.$sub=this.s.subrow(e,this.type))},this),this.pC()},pC:function(e){if("auto"===this.s.subRowHeight&&this.bc&&this.mA(),e&&this.s.subview)for(var t in this.oA){var i=webix.$$(this.oA[t]);i.s.hidden||i.adjust()}},nA:function(e){var t=this.getItem(e);t.$sub=this.s.subrow(t,this.type),"auto"===this.s.subRowHeight&&this.mA(t.id,t.$sub)},$init:function(){this.kA=webix.once(function(){var e="#"+this.bj+" .webix_cell.webix_dtable_subview { line-height:normal;}";this.s.fixedRowHeight&&(e+="#"+this.bj+" .webix_column .webix_cell { white-space: nowrap;}"),webix.html.addStyle(e),this.oA={},this.attachEvent("onSubViewRender",this.pA),this.data.attachEvent("onStoreUpdated",webix.bind(function(e,t,i){e?("update"==i||"add"==i)&&this.nA(e):this.lA()},this)),this.attachEvent("onResize",function(e,t,i){i!=e&&this.pC(!0)})}),this.type.subrow=function(e){return e.$sub?e.$subopen?"<div class='webix_tree_open webix_sub_open'></div>":"<div class='webix_tree_close webix_sub_close'></div>":"<div class='webix_tree_none'></div>"},this.on_click.webix_sub_open=function(e,t){return this.closeSub(t),!1},this.on_click.webix_sub_close=function(e,t){return this.openSub(t),!1}},openSub:function(e){var t=this.getItem(e);if(!t.$subopen){t.$row=this.s.subrow,t.$subHeight=t.$subHeight||this.s.subRowHeight,t.$subopen=!0;var i=this.oA[t.$subContent];i&&(i.repaintMe=!0),this.refresh(e),this.callEvent("onSubViewOpen",[e])}},getSubView:function(e){var t=this.getItem(e);if(t){var i=this.oA[t.$subContent];if(i)return webix.$$(i)}return null},resizeSubView:function(e){var t=this.getSubView(e);t&&this.qA(this.getItem(e),t)},qA:function(e,t){var i=t.$getSize(0,0)[2],n=e.$subHeight||this.s.subRowHeight,r=Math.abs(i-(n||0));r>2&&(e.$subHeight=i,this.refresh(e.id))},wC:function(e){var t=e.$width;if(e.lc){var i=e.q.length-e.qc;t-=e.mc?2*e.Dc+2:e.Cc*(i-1)+2*e.Dc+2*i}return t>0},pA:function(e,t){var i,n=this.oA[e.$subContent];if(n)t.firstChild.appendChild(n),i=webix.$$(e.$subContent),this.wC(i)||i.adjust(),n.repaintMe&&(delete n.repaintMe,i.config.hidden=!1,i.Qd());else{var r=webix.copy(this.s.subview);r.$scope=this.$scope,i=webix.ui(r,t.firstChild),i.getMasterView=webix.bind(function(){return this},this),e.$subContent=i.config.id,this.oA[e.$subContent]=i.$view,i.attachEvent("onResize",webix.bind(function(t,i,n,r){i&&i!=r&&this.refresh(e.id)},this)),this.callEvent("onSubViewCreate",[i,e])}this.qA(e,i||webix.$$(n))},rA:function(e){var t=this.getItem(e),i=this.oA[t.$subContent];if(i){delete t.$subContent;var n=webix.$$(i);n&&n!=this&&n.destructor()}},mA:function(e,t){var i=webix.html.create("DIV",{class:"webix_measure_size webix_cell webix_dtable_subrow"},"");i.style.cssText="width:"+this.bc+"px; height:auto; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;",this.$view.appendChild(i),this.data.each(function(n){(n&&!e||n.id==e&&n.$sub)&&(i.innerHTML=t||this.s.subrow(n,this.type),n.$subHeight=i.offsetHeight)},this),i=webix.html.remove(i)},closeSub:function(e){var t=this.getItem(e);if(t.$subopen){t.$row=!1,t.$subopen=!1;var i=this.oA[t.$subContent];i&&(webix.$$(i).config.hidden=!0),this.refresh(e),this.callEvent("onSubViewClose",[e])}}}),webix.extend(webix.ui.datatable,{headermenu_setter:function(e){return e&&(e.data&&(this.Xw=!0),e=this._t(e)),e},_t:function(e){var t={view:"contextmenu",template:"<span class='webix_icon {common.hidden()}'></span> &nbsp; #value#",type:{hidden:function(e){return e.hidden?"fa-empty":"fa-eye"}},on:{onMenuItemClick:webix.bind(function(t,i){var n=webix.$$(this.s.headermenu),r=n.getItem(t).hidden;n.getItem(t).hidden=!r,n.refresh(t),n.$blockRender=!0;var a={spans:"object"==typeof e&&e.spans};return r?this.showColumn(t,a):this.hideColumn(t,a),n.$blockRender=!1,!1},this)},data:[]};"object"==typeof e&&webix.extend(t,e,!0);var i=webix.ui(t);return i.attachTo(this.I),this.Ns.push(i),this.attachEvent("onStructureLoad",this.au),this.attachEvent("onStructureUpdate",this.au),this._t=function(e){return e},i.s.id},au:function(){var e=webix.$$(this.s.headermenu),t=this.am;if(!e.$blockRender){if(this.Xw)return e.data.each(function(e){e.hidden=!!t[e.id]}),void e.refresh();var i=[],n=this.bm;n.length||(n=this.fj);for(var r=0;r<n.length;r++){var a=this.getColumnConfig(n[r].id||n[r]),o=a.header[0],s=!!t[a.id];a.headermenu!==!1&&o&&i.push({id:a.id,value:s?o.text:o.groupText||o.text,hidden:s})}i.length&&e.data.importData(i)}}}),webix.ui.datafilter.headerMenu={getValue:function(){},setValue:function(){},refresh:function(e,t,i){e.s.headermenu||(e.define("headermenu",!0),e.au()),t.onclick=function(){webix.$$(e.config.headermenu).show(t)}},render:function(e,t){return"<span class='webix_icon fa-columns' role='button' tabindex='0' aria-label='"+webix.i18n.aria.headermenu+"'>"}},webix.ui.datafilter.richSelectFilter={getInputNode:function(e){return webix.$$(e.$webix)||null},getValue:function(e){var t=this.getInputNode(e);return t?t.getValue():""},setValue:function(e,t){var i=this.getInputNode(e);return i?i.setValue(t):""},compare:function(e,t){return e==t},refresh:function(e,t,i){if(!e.$destructed){var n=webix.$$(i.richselect);if(!n.$view.parentNode){var r=webix.html.create("div",{class:"webix_richfilter"});r.appendChild(n.$view)}t.$webix=i.richselect,t.style.marginLeft="-10px",i.compare=i.compare||this.compare,i.prepare=i.prepare||this.prepare,e.registerFilter(t,i,this);var a,o=i.options;o?"string"==typeof o?(a=i.options=[],webix.ajax(o).then(webix.bind(function(t){i.options=t.json();var n=document.body.contains(n)?n:document.body.querySelector('[active_id="'+i.contentId+'"]');this.refresh(e,n,i)},this))):a=o:a=e.collectValues(i.columnId);var s=n.getPopup().getList(),l=webix.$$(o);if(l&&l.data&&l.data.getRange&&(a=l.data.getRange()),t.firstChild.appendChild(n.$view.parentNode),s.parse&&(s.clearAll(),s.parse(a),!this.$noEmptyOption&&i.emptyOption!==!1||i.emptyOption)){var u={id:"",value:i.emptyOption||"",$empty:!0};s.add(u,0)}i.value&&this.setValue(t,i.value),n.render(),webix.delay(n.resize,n)}},render:function(e,t){if(!t.richselect){var i=webix.html.create("div",{class:"webix_richfilter"}),n={container:i,view:this.inputtype,options:[]},r=webix.extend(this.inputConfig||{},t.inputConfig||{},!0);webix.extend(n,r),t.separator&&(n.separator=t.separator),t.suggest&&(n.suggest=t.suggest);var a=webix.ui(n);a.attachEvent("onChange",function(){e.filterByAll()}),t.richselect=a.s.id,e.Ns.push(a)}return t.css="webix_div_filter"," "},inputtype:"richselect"},webix.ui.datafilter.serverRichSelectFilter=webix.extend({$server:!0},webix.ui.datafilter.richSelectFilter),webix.ui.datafilter.multiSelectFilter=webix.extend({$noEmptyOption:!0,inputtype:"multiselect",prepare:function(e,t){if(!e)return e;for(var i={},n=e.toString().split(t.separator||","),r=0;r<n.length;r++)i[n[r]]=1;return i},compare:function(e,t){return!t||t[e]}},webix.ui.datafilter.richSelectFilter),webix.ui.datafilter.serverMultiSelectFilter=webix.extend({$server:!0,Vk:function(e,t,i){var n=this.Sk;webix.$$(n).filterByAll()}},webix.ui.datafilter.multiSelectFilter),webix.ui.datafilter.multiComboFilter=webix.extend({inputtype:"multicombo",inputConfig:{tagMode:!1}},webix.ui.datafilter.multiSelectFilter),webix.ui.datafilter.serverMultiComboFilter=webix.extend({inputtype:"multicombo",inputConfig:{tagMode:!1}},webix.ui.datafilter.serverMultiSelectFilter),webix.ui.datafilter.datepickerFilter=webix.extend({prepare:function(e){return e||""},compare:function(e,t){return 1*e==1*t},inputtype:"datepicker"},webix.ui.datafilter.richSelectFilter),webix.ui.datafilter.columnGroup={getValue:function(){},setValue:function(){},getHelper:function(e,t){return{open:function(){t.closed=!0,e.onclick()},close:function(){t.closed=!1,e.onclick()},isOpened:function(){return t.closed}}},refresh:function(e,t,i){t.onclick=function(t){webix.html.stopEvent(t);var n=this.firstChild.firstChild;i.closed?(i.closed=!1,n.className="webix_tree_open"):(i.closed=!0,n.className="webix_tree_close"),webix.delay(function(){e.callEvent("onColumnGroupCollapse",[i.columnId,i.batch,!i.closed]),e.showColumnBatch(i.batch,!i.closed)})},i.firstRun||(i.firstRun=1,i.closed&&e.showColumnBatch(i.batch,!1))},render:function(e,t){return"<div role='button' tabindex='0' aria-label='"+webix.i18n.aria[t.closed?"openGroup":"closeGroup"]+"' class='"+(t.closed?"webix_tree_close":"webix_tree_open")+"'></div>&nbsp;"+(t.groupText||"")}},webix.ui.datafilter.dateRangeFilter=webix.extend({prepare:function(e){return e.start||e.end?webix.ui.daterange.prototype.SD(e):""},compare:function(e,t){return(!t.start||e>=t.start)&&(!t.end||e<=t.end)},inputtype:"daterangepicker"},webix.ui.datafilter.richSelectFilter),webix.ui.datafilter.serverDateRangeFilter=webix.extend({$server:!0},webix.ui.datafilter.dateRangeFilter),webix.editors.$popup.multiselect={view:"multisuggest",suggest:{button:!0}},webix.Canvas=webix.proto({$init:function(e){this.Wn=[],this.AE=webix.isUndefined(e.series)?e.name:e.series,this.tg=webix.toNode(e.container||e);var t=e.width*(window.devicePixelRatio||1),i=e.height*(window.devicePixelRatio||1),n=e.style||"";n+=";width:"+e.width+"px;height:"+e.height+"px;",this.Yn(e.name,n,t,i,e.title)},Yn:function(e,t,i,n,r){return this.Zn=webix.html.create("canvas",{title:r,width:i,height:n,canvas_id:e,style:t||""}),this.tg.appendChild(this.Zn),this.Zn.getContext||webix.env.isIE&&(webix.require("legacy/excanvas/excanvas.js",!0),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this.Zn)),this.Zn},getCanvas:function(e){var t=(this.Zn||this.Yn(this.w)).getContext(e||"2d");return this.$n||(this.$n=!0,t.scale(window.devicePixelRatio||1,window.devicePixelRatio||1)),t},_n:function(e,t){this.Zn&&(this.Zn.setAttribute("width",e*(window.devicePixelRatio||1)),this.Zn.setAttribute("height",t*(window.devicePixelRatio||1)),this.Zn.style.width=e+"px",
this.Zn.style.height=t+"px",this.$n=!1)},renderText:function(e,t,i,n,r){if(i){r&&(r=Math.max(r,0)),t&&(t=Math.max(t,0));var a=webix.html.create("DIV",{class:"webix_canvas_text"+(n?" "+n:""),style:"left:"+e+"px; top:"+t+"px;","aria-hidden":"true"},i);return this.tg.appendChild(a),this.Wn.push(a),r&&(a.style.width=r+"px"),a}},renderTextAt:function(e,t,i,n,r,a,o){var s=this.renderText.call(this,i,n,r,a,o);return s&&(e&&("middle"==e?s.style.top=parseInt(n-s.offsetHeight/2,10)+"px":s.style.top=n-s.offsetHeight+"px"),t&&("left"==t?s.style.left=i-s.offsetWidth+"px":s.style.left=parseInt(i-s.offsetWidth/2,10)+"px")),s},clearCanvas:function(e){var t=[];if(webix.html.remove(this.Wn),this.Wn=[],!e&&this.tg.t){for(t=this.ao();t.length;)t[0].parentNode.removeChild(t[0]),t.splice(0,1);t=null,this.tg.t.getElementsByTagName("AREA").length||(this.tg.t.parentNode.removeChild(this.tg.t),this.tg.t=null)}this.getCanvas().clearRect(0,0,this.Zn.offsetWidth||Math.floor(this.Zn.width/(window.devicePixelRatio||1)),this.Zn.offsetHeight||Math.floor(this.Zn.height/(window.devicePixelRatio||1)))},toggleCanvas:function(){this.bo("none"==this.Zn.style.display)},showCanvas:function(){this.bo(!0)},hideCanvas:function(){this.bo(!1)},bo:function(e){var t,i;for(i=0;i<this.Wn.length;i++)this.Wn[i].style.display=e?"":"none";if(this.tg.t)for(t=this.ao(),i=0;i<t.length;i++)e?t[i].removeAttribute("disabled"):t[i].setAttribute("disabled","true");this.Zn.style.display=e?"":"none"},ao:function(){var e,t,i=[];for(e=this.tg.t.getElementsByTagName("AREA"),t=0;t<e.length;t++)e[t].getAttribute("userdata")==this.AE&&i.push(e[t]);return i}}),webix.color={co:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],toHex:function(e,t){e=parseInt(e,10);for(var i="";e>0;)i=this.co[e%16]+i,e=Math.floor(e/16);for(;i.length<t;)i="0"+i;return i},rgbToHex:function(e){var t=[];return"string"==typeof e?e.replace(/[\d+\.]+/g,function(e){t.push(parseFloat(e))}):webix.isArray(e)&&(t=e),0===t[3]?"":t.slice(0,3).map(function(e){return webix.color.toHex(Math.floor(e),2)}).join("")},hexToDec:function(e){return parseInt(e,16)},toRgb:function(e){var t,i,n,r;return"string"!=typeof e?(t=e[0],i=e[1],n=e[2]):-1!=e.indexOf("rgb")?(r=e.substr(e.indexOf("(")+1,e.lastIndexOf(")")-e.indexOf("(")-1).split(","),t=r[0],i=r[1],n=r[2]):("#"==e.substr(0,1)&&(e=e.substr(1)),t=this.hexToDec(e.substr(0,2)),i=this.hexToDec(e.substr(2,2)),n=this.hexToDec(e.substr(4,2))),t=parseInt(t,10)||0,i=parseInt(i,10)||0,n=parseInt(n,10)||0,(0>t||t>255)&&(t=0),(0>i||i>255)&&(i=0),(0>n||n>255)&&(n=0),[t,i,n]},hsvToRgb:function(e,t,i){var n,r,a,o,s,l,u,c;switch(n=Math.floor(e/60)%6,r=e/60-n,a=i*(1-t),o=i*(1-r*t),s=i*(1-(1-r)*t),l=0,u=0,c=0,n){case 0:l=i,u=s,c=a;break;case 1:l=o,u=i,c=a;break;case 2:l=a,u=i,c=s;break;case 3:l=a,u=o,c=i;break;case 4:l=s,u=a,c=i;break;case 5:l=i,u=a,c=o}return l=Math.floor(255*l),u=Math.floor(255*u),c=Math.floor(255*c),[l,u,c]},rgbToHsv:function(e,t,i){var n,r,a,o,s,l,u,c;return n=e/255,r=t/255,a=i/255,o=Math.min(n,r,a),s=Math.max(n,r,a),u=0,l=0===s?0:1-o/s,c=s,s==o?u=0:s==n&&r>=a?u=60*(r-a)/(s-o)+0:s==n&&a>r?u=60*(r-a)/(s-o)+360:s==r?u=60*(a-n)/(s-o)+120:s==a&&(u=60*(n-r)/(s-o)+240),[u,l,c]}},webix.HtmlMap=webix.proto({$init:function(e){this.ad="map_"+webix.uid(),this.U=e,this.eo=[],this.sA=[]},addRect:function(e,t,i){this.fo(e,"RECT",t,i)},addPoly:function(e,t,i){this.fo(e,"POLY",t,i)},fo:function(e,t,i,n){var r="";4==arguments.length&&(r="userdata='"+n+"'"),this.eo.push("<area "+this.U+"='"+e+"' shape='"+t+"' coords='"+i.join()+"' "+r+"></area>"),this.sA.push({index:n,points:i})},addSector:function(e,t,i,n,r,a,o,s){var l=[];l.push(n),l.push(Math.floor(r*o));for(var u=t;i>u;u+=Math.PI/18)l.push(Math.floor(n+a*Math.cos(u))),l.push(Math.floor((r+a*Math.sin(u))*o));return l.push(Math.floor(n+a*Math.cos(i))),l.push(Math.floor((r+a*Math.sin(i))*o)),l.push(n),l.push(Math.floor(r*o)),this.addPoly(e,l,s)},hide:function(e,t,i){if(e.querySelectorAll)for(var n=e.querySelectorAll('area[userdata="'+t+'"]'),r=0;r<n.length;r++){var a=n[r];i?a.getAttribute("coords")&&(a.coordsdis=a.getAttribute("coords"),a.setAttribute("coords",""),a.coords=""):i||a.coordsdis&&(a.setAttribute("coords",a.coordsdis),a.coords=a.coordsdis,a.coordsdis=""),n[r].style.display=i?"none":""}},render:function(e){var t=webix.html.create("DIV");t.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;",e.appendChild(t);var i=webix.env.isIE?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";t.innerHTML="<map id='"+this.ad+"' name='"+this.ad+"'>"+this.eo.join("\n")+"</map><img "+i+" class='webix_map_img' usemap='#"+this.ad+"'>",e.t=t,this.eo=[]}}),webix.protoUI({name:"chart",$init:function(e){if(this.go=[this.s],this.ho=[],this.w.className+=" webix_chart",this.$ready.push(this.Mi),e.preset&&this.io(e),e.series){var t=e.series;delete e.series,e.series=t}this.attachEvent("onMouseMove",this.tA),this.data.provideApi(this,!0)},Mi:function(){this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.render.apply(this,arguments)},this))},defaults:{ariaLabel:"chart",color:"default",alpha:"1",label:!1,value:"{obj.value}",padding:{},type:"pie",lineColor:"#ffffff",cant:.5,barWidth:30,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto",scale:"linear"},ad:"webix_area_id",on_click:{webix_chart_legend_item:function(e,t,i){var n=i.getAttribute("series_id");if(this.callEvent("onLegendClick",[e,n,i])&&"undefined"!=typeof n&&this.go.length>1){var r=this.s,a=r.legend.values,o=a&&a[n].toggle||r.legend.toggle;o&&(-1!=i.className.indexOf("hidden")?this.showSeries(n):this.hideSeries(n))}}},on_dblclick:{},on_mouse_move:{},locate:function(e){return webix.html.locate(e,this.ad)},$setSize:function(e,t){var i=webix.ui.view.prototype.$setSize.call(this,e,t);if(i){for(var n in this.canvases)this.canvases[n]._n(this.bc,this.dc);this.render()}return i},type_setter:function(e){return"undefined"==typeof this.s.offset&&(this.s.offset=!(-1!=e.toLowerCase().indexOf("area"))),"radar"!=e||this.s.yAxis||this.define("yAxis",{}),"scatter"==e&&(this.s.yAxis||this.define("yAxis",{}),this.s.xAxis||this.define("xAxis",{})),e},destructor:function(){this.removeAllSeries(),webix.Destruction.destructor.apply(this,arguments)},removeAllSeries:function(){this.clearCanvas(),this.ko&&(this.ko.innerHTML="",this.ko.parentNode.removeChild(this.ko),this.ko=null),this.canvases&&(this.canvases={}),this.w.innerHTML="";for(var e=0;e<this.go.length;e++)this.go[e].tooltip&&this.go[e].tooltip.destructor();this.go=[]},clearCanvas:function(){if(this.canvases&&"object"==typeof this.canvases)for(var e in this.canvases)this.canvases[e].clearCanvas()},render:function(e,t,i){var n,r,t,a,o;if(this.isVisible(this.s.id)&&(t=this.oo(),this.callEvent("onBeforeRender",[t,i]))){if(this.canvases&&"object"==typeof this.canvases)for(r in this.canvases)this.canvases[r].clearCanvas();else this.canvases={};if(this.s.legend&&(this.canvases.legend||(this.canvases.legend=this.lo("legend")),this.mo(this.data.getRange(),this.bc,this.dc)),this.eo=a=new webix.HtmlMap(this.ad),o=this.s,n=this.no(this.bc,this.dc),this.go)for(r=0;r<this.go.length;r++)this.s=this.go[r],this.canvases[r]||(this.canvases[r]=this.lo(this.name+" "+r,"z-index:"+(2+r),null,r,this.s.ariaLabel)),this["$render_"+this.s.type](this.canvases[r].getCanvas(),t,n.start,n.end,r,a);if(a.render(this.w),this.w.lastChild.style.zIndex=100,this.po(this.w.lastChild,n),this.callEvent("onAfterRender",[t]),this.s=o,this.s.legend&&this.s.legend.values)for(var s=this.s.legend.values,r=0;r<s.length;r++)s[r].$hidden&&this.hideSeries(r)}},po:function(e,t){var i={};i.left=t.start.x,i.top=t.start.y,i.width=t.end.x-t.start.x,i.height=t.end.y-t.start.y;for(var n in i)e.style[n]=i[n]+"px"},oo:function(){var e,t,i,n,r,a,o,s,l,u;if(n=this.data.getRange(),e=-1!=this.s.type.toLowerCase().indexOf("barh")?"yAxis":"xAxis",t=this.s[e],t&&t.units&&"object"==typeof t.units){if(i=t.units,s=[],"undefined"!=typeof i.start&&"undefined"!=typeof i.end&&"undefined"!=typeof i.next)for(o=i.start;o<=i.end;)s.push(o),o=i.next.call(this,o);else"[object Array]"===Object.prototype.toString.call(i)&&(s=i);if(a=[],s.length){for(l=t.value,u={},r=0;r<n.length;r++)u[l(n[r])]=r;for(r=0;r<s.length;r++)"undefined"!=typeof u[s[r]]?(n[u[s[r]]].$unit=s[r],a.push(n[u[s[r]]])):a.push({$unit:s[r]})}return a}return n},series_setter:function(e){if("object"!=typeof e);else{this.e(e.length?e[0]:e),this.go=[this.s];for(var t=1;t<e.length;t++)this.addSeries(e[t])}return e},value_setter:webix.template,xValue_setter:webix.template,yValue_setter:function(e){this.define("value",e)},alpha_setter:webix.template,label_setter:webix.template,lineColor_setter:webix.template,borderColor_setter:webix.template,pieInnerText_setter:webix.template,gradient_setter:function(e){return"function"!=typeof e&&e&&e===!0&&(e="light"),e},colormap:{RAINBOW:function(e){var t=Math.floor(this.getIndexById(e.id)/this.count()*1536);return 1536==t&&(t-=1),this.qo[Math.floor(t/256)](t%256)},default:function(e){var t=this.count(),i=this.qC.length,n=this.getIndexById(e.id);return i>t?(n&&(n=i-t>n?this.rC+2:this.rC+1),this.rC=n):n%=i,this.qC[n]}},color_setter:function(e){return this.colormap[e]||webix.template(e)},fill_setter:function(e){return!(!e||"0"==e)&&webix.template(e)},io:function(e){this.define("preset",e.preset),delete e.preset},preset_setter:function(e){var t,i,n;if(this.defaults=webix.extend({},this.defaults),n=this.presets[e],"object"==typeof n){for(t in n)if("object"==typeof n[t])if(this.defaults[t]&&"object"==typeof this.defaults[t]){this.defaults[t]=webix.extend({},this.defaults[t]);for(i in n[t])this.defaults[t][i]=n[t][i]}else this.defaults[t]=webix.extend({},n[t]);else this.defaults[t]=n[t];return e}return!1},legend_setter:function(e){return e?("object"!=typeof e&&(e={template:e}),this.E(e,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",toggle:-1!=this.s.type.toLowerCase().indexOf("stacked")?"":"hide",marker:{type:"square",width:15,height:15,radius:3},margin:4,padding:3}),e.template=webix.template(e.template),e):(this.ko&&(this.ko.innerHTML="",this.ko=null),!1)},item_setter:function(e){"object"!=typeof e&&(e={color:e,borderColor:e}),this.E(e,webix.extend({},this.defaults.item));var t=["alpha","borderColor","color","radius"];return this.ro(t,e),e},line_setter:function(e){return"object"!=typeof e&&(e={color:e}),e=webix.extend(e,this.defaults.line),e.color=webix.template(e.color),e},padding_setter:function(e){return"object"!=typeof e&&(e={left:e,right:e,top:e,bottom:e}),this.E(e,{left:50,right:20,top:35,bottom:40}),e},xAxis_setter:function(e){if(!e)return!1;"object"!=typeof e&&(e={template:e}),this.E(e,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0});var t=["lineColor","template","lines"];return this.ro(t,e),this.so=webix.extend({},e),e},yAxis_setter:function(e){this.E(e,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});var t=["lineColor","template","lines","bg"];return this.ro(t,e),this.to=webix.extend({},e),e},ro:function(e,t){for(var i=0;i<e.length;i++)t[e[i]]=webix.template(t[e[i]])},lo:function(e,t,i,n,r){var a={container:i||this.w,name:e,title:webix.isUndefined(r)?e:r||"",series:n,style:t||"",width:this.bc,height:this.dc};return new webix.Canvas(a)},uo:function(e,t,i,n,r,a){var o,s=0;return this.s.yAxis&&(this.canvases.y||(this.canvases.y=this.lo("axis_y")),s=this.vo(this.canvases.y.getCanvas(),e,t,i,n,r)),this.s.xAxis&&(this.canvases.x||(this.canvases.x=this.lo("axis_x")),o=this.canvases.x.getCanvas(),this.callEvent("onBeforeXAxis",[o,e,t,i,a,s])&&this.wo(o,e,t,i,a,s)),s},wo:function(e,t,i,n,r,a){var o,s,l=this.s,u=i.x-.5,c=parseInt(a?a:n.y,10)+.5,d=n.x,h=!0,f="stackedBar"==l.type?n.y+.5:c;for(o=0;o<t.length;o++){l.offset===!0?s=u+r/2+o*r:(s=o!=t.length-1||l.cellWidth?u+o*r:n.x,h=!!o),s=Math.ceil(s)-.5;var p="auto"!=l.origin&&"bar"==l.type&&parseFloat(l.value(t[o]))<l.origin;this.xo(s,f,t[o],h,p),(l.offset||o||l.cellWidth)&&l.xAxis.lines.call(this,t[o])&&this.yo(e,s,n.y,i.y,t[o])}this.canvases.x.renderTextAt(!0,!1,u,n.y+l.padding.bottom-3,l.xAxis.title,"webix_axis_title_x",n.x-i.x),this.zo(e,u,c,d,c,l.xAxis.color,1),l.xAxis.lines.call(this,{})&&l.offset&&this.zo(e,d+.5,n.y,d+.5,i.y+.5,l.xAxis.color,.2)},vo:function(e,t,i,n,r,a){var o,s={};if(this.s.yAxis){var l=i.x-.5,u=n.y,c=i.y,d=n.y+.5;if(this.s.yAxis.step&&(o=parseFloat(this.s.yAxis.step)),"undefined"==typeof this.to.step||"undefined"==typeof this.to.start||"undefined"==typeof this.to.end?(s=this.Ao(r,a),r=s.start,a=s.end,o=s.step,this.s.yAxis.end=a,this.s.yAxis.start=r):"logarithmic"==this.config.scale&&(this.Bo=!0),this.Co(i,n),0!==o){if(a==r)return u;for(var h=(u-c)*o/(a-r),f=0,p=r;a>=p;p+=o){var g=this.Bo?Math.pow(10,p):p;s.fixNum&&(g=parseFloat(g).toFixed(s.fixNum));var v=Math.floor(u-f*h)+.5;if(p==r&&"auto"==this.s.origin||!this.s.yAxis.lines.call(this,p)||this.zo(e,l,v,n.x,v,this.s.yAxis.lineColor.call(this,p),1),p==this.s.origin&&(d=v),1>o&&!this.Bo){var m=Math.min(Math.floor(this.Do(o)),0>=r?0:Math.floor(this.Do(r))),b=Math.pow(10,-m);g=Math.round(g*b)/b,p=g}this.canvases.y.renderText(0,v-5,this.s.yAxis.template(g.toString()),"webix_axis_item_y",i.x-5),f++}return this.zo(e,l,u+1,l,c,this.s.yAxis.color,1),d}}},Co:function(e,t){var i="webix_axis_title_y"+(webix.Eo&&9!=webix.Eo?" webix_ie_filter":""),n=this.canvases.y.renderTextAt("middle",!1,0,parseInt((t.y-e.y)/2+e.y,10),this.s.yAxis.title,i);n&&(n.style.left=(webix.env.transform?(n.offsetHeight-n.offsetWidth)/2:0)+"px")},Fo:function(e,t){var i=Math.floor(this.Do(e)),n=Math.ceil(this.Do(t));return{start:i,step:1,end:n}},uG:function(e){var t=Math.floor(this.Do(e)),i=Math.pow(10,t),n=e/i;return n=n>5?10:5,parseInt(n,10)*i},Ao:function(e,t){if(this.Bo=!1,"logarithmic"==this.s.scale){var i=Math.floor(this.Do(e)),n=Math.ceil(this.Do(t));if(e>0&&t>0&&n-i>1)return this.Bo=!0,this.Fo(e,t)}"auto"!=this.s.origin&&this.s.origin<e&&(e=this.s.origin);var r,a,o;if(r=this.uG((t-e)/8||1),r>Math.abs(e))a=0>e?-r:0;else{var s=Math.abs(e),l=Math.floor(this.Do(s)),u=s/Math.pow(10,l);for(a=Math.ceil(10*u)/10*Math.pow(10,l)-r,s>1&&r>.1&&(a=Math.ceil(a));0>e?e>=a:a>=e;)a-=r;0>e&&(a=-a-2*r)}t-a>10&&(r=this.uG((t-a)/8||1)),o=a;for(var c=Math.floor(this.Do(r));t>o;)o+=r,o=parseFloat((1*o).toFixed(Math.abs(c)));return{start:a,end:o,step:r,fixNum:0>c?Math.abs(c):0}},Go:function(e,t){var i,n,r=this.data.Df(),a=arguments.length&&"h"==e?this.so:this.to;if(t=t||"value",a&&"undefined"!=typeof a.end&&"undefined"!=typeof a.start&&a.step)i=parseFloat(a.end),n=parseFloat(a.start);else if(i=webix.GroupMethods.max(this.go[0][t],r),n=a&&"undefined"!=typeof a.start?parseFloat(a.start):webix.GroupMethods.min(this.go[0][t],r),this.go.length>1)for(var o=1;o<this.go.length;o++){var s=webix.GroupMethods.max(this.go[o][t],r),l=webix.GroupMethods.min(this.go[o][t],r);s>i&&(i=s),n>l&&(n=l)}return{max:i,min:n}},Do:function(e){var t="log";return Math[t](e)/Math.LN10},xo:function(e,t,i,n,r){if(this.s.xAxis){var a=this.canvases.x.renderTextAt(r,n,e,t-(r?2:0),this.s.xAxis.template(i));a&&(a.className+=" webix_axis_item_x")}},yo:function(e,t,i,n,r){this.s.xAxis&&this.s.xAxis.lines&&this.zo(e,t,i,t,n,this.s.xAxis.lineColor.call(this,r),1)},zo:function(e,t,i,n,r,a,o){e.strokeStyle=a,e.lineWidth=o,e.beginPath(),e.moveTo(t,i),e.lineTo(n,r),e.stroke(),e.lineWidth=1},Ho:function(e,t){var i,n=1;return i=t!=e?t-e:e,[i,n]},qo:[function(e){return"#FF"+webix.color.toHex(e/2,2)+"00"},function(e){return"#FF"+webix.color.toHex(e/2+128,2)+"00"},function(e){return"#"+webix.color.toHex(255-e,2)+"FF00"},function(e){return"#00FF"+webix.color.toHex(e,2)},function(e){return"#00"+webix.color.toHex(255-e,2)+"FF"},function(e){return"#"+webix.color.toHex(e,2)+"00FF"}],qC:["#f55b50","#ff6d3f","#ffa521","#ffc927","#ffee54","#d3e153","#9acb61","#63b967","#21a497","#21c5da","#3ea4f5","#5868bf","#7b53c0","#a943ba","#ec3b77","#9eb0b8"],rC:0,addSeries:function(e){var t=webix.extend({},this.s);this.s=webix.extend({},t),this.e(e,{}),this.go.push(this.s),this.s=t},tA:function(e,t,i){var n;if(i.getAttribute("userdata")&&(this.Io=1==this.go.length?this.uA(t):i.getAttribute("userdata"),this.go[this.Io])){for(var r=0;r<this.go.length;r++)n=this.go[r].tooltip,n&&n.disable();i.getAttribute("disabled")||(n=this.go[this.Io].tooltip,n&&n.enable())}},uA:function(e){var t,i,n,r,a,o,s,l;for(i=this.eo.sA,r=webix.html.offset(this.w.t),a=webix.html.pos(e),s=a.x-r.x,l=a.y-r.y,n=0;n<i.length;n++)t=i[n].points,s<=t[2]&&s>=t[0]&&l<=t[3]&&l>=t[1]&&(o?i[n].index>o.index&&(o=i[n]):o=i[n]);return o?o.index:0},hideSeries:function(e){this.canvases[e].hideCanvas();var t=this.s.legend;t&&t.values&&t.values[e]&&(t.values[e].$hidden=!0,this.mo()),this.eo.hide(this.w,e,!0)},showSeries:function(e){this.canvases[e].showCanvas();var t=this.s.legend;t&&t.values&&t.values[e]&&(delete t.values[e].$hidden,this.mo()),this.eo.hide(this.w,e,!1)},mo:function(e,t){var i,n,r,a,o,s,l,u,c,d,h,f=0,p=0;if(e=e||[],t=t||this.bc,u=this.canvases.legend.getCanvas(),n=this.s.legend,l="x"!=this.s.legend.layout?"width:"+n.width+"px":"",this.ko&&(this.ko.innerHTML="",this.ko.parentNode.removeChild(this.ko)),this.canvases.legend.clearCanvas(!0),r=webix.html.create("DIV",{class:"webix_chart_legend",style:"left:"+f+"px; top:"+p+"px;"+l},""),n.padding&&(r.style.padding=n.padding+"px"),this.ko=r,this.w.appendChild(r),o=[],n.values)for(i=0;i<n.values.length;i++)o.push(this.Jo(r,n.values[i].text,"undefined"!=typeof n.values[i].id?typeof n.values[i].id:i,n.values[i].$hidden));else for(i=0;i<e.length;i++)o.push(this.Jo(r,n.template(e[i]),e[i].id));for(0===r.offsetWidth&&(r.style.width="auto"),s=r.offsetWidth,a=r.offsetHeight,t>s&&("x"==n.layout&&"center"==n.align&&(f=(t-s)/2),"right"==n.align&&(f=t-s),n.margin&&"center"!=n.align&&(f+=("left"==n.align?1:-1)*n.margin)),a<this.dc&&("middle"==n.valign&&"center"!=n.align&&"x"!=n.layout?p=(this.dc-a)/2:"bottom"==n.valign&&(p=this.dc-a),n.margin&&"middle"!=n.valign&&(p+=("top"==n.valign?1:-1)*n.margin)),r.style.left=f+"px",r.style.top=p+"px",u.save(),i=0;i<o.length;i++)h=o[i],n.values&&n.values[i].$hidden?(d=!0,c=n.values[i].disableColor?n.values[i].disableColor:"#d9d9d9"):(d=!1,c=n.values?n.values[i].color:this.s.color.call(this,e[i])),this.Ko(u,h.offsetLeft+f,h.offsetTop+p,c,h.offsetHeight,d,i);u.restore(),o=null},Jo:function(e,t,i,n){var r="";"x"==this.s.legend.layout&&(r="float:left;");var a=webix.html.create("DIV",{style:r+"padding-left:"+(10+this.s.legend.marker.width)+"px",class:"webix_chart_legend_item"+(n?" hidden":""),role:"button",tabindex:"0","aria-label":webix.i18n.aria[(n?"show":"hide")+"Chart"]+" "+t},t);return arguments.length>2&&a.setAttribute("series_id",i),e.appendChild(a),a},Ko:function(e,t,i,n,r,a,o){var s=[],l=this.s.legend.marker,u=this.s.legend.values,c=u&&u[o].markerType?u[o].markerType:l.type;if(n&&(e.strokeStyle=e.fillStyle=n),"round"!=c&&l.radius)if("item"==c){if(this.s.line&&"scatter"!=this.s.type&&!this.s.disableLines){e.beginPath(),e.lineWidth=this.go[o].line.width,e.strokeStyle=a?n:this.go[o].line.color.call(this,{});var d=t+5,h=i+r/2;e.moveTo(d,h);var f=d+l.width;e.lineTo(f,h),e.stroke()}var p=this.go[o].item,g=parseInt(p.radius.call(this,{}),10)||0;g&&(e.beginPath(),a?(e.lineWidth=p.borderWidth,e.strokeStyle=n,e.fillStyle=n):(e.lineWidth=p.borderWidth,e.fillStyle=p.color.call(this,{}),e.strokeStyle=p.borderColor.call(this,{}),e.globalAlpha=p.alpha.call(this,{})),e.beginPath(),t+=l.width/2+5,i+=r/2,this.Lo(e,t,i,g+1,p.type),e.fill(),e.stroke()),e.globalAlpha=1}else e.beginPath(),e.lineWidth=1,t+=5,i+=r/2-l.height/2,s=[[t+l.radius,i+l.radius,l.radius,Math.PI,3*Math.PI/2,!1],[t+l.width-l.radius,i],[t+l.width-l.radius,i+l.radius,l.radius,-Math.PI/2,0,!1],[t+l.width,i+l.height-l.radius],[t+l.width-l.radius,i+l.height-l.radius,l.radius,0,Math.PI/2,!1],[t+l.radius,i+l.height],[t+l.radius,i+l.height-l.radius,l.radius,Math.PI/2,Math.PI,!1],[t,i+l.radius]],this.Mo(e,s),e.stroke(),e.fill();else{e.beginPath(),e.lineWidth=l.height,e.lineCap=l.type,t+=e.lineWidth/2+5,i+=r/2,e.moveTo(t,i);var f=t+l.width-l.height+1;e.lineTo(f,i),e.stroke(),e.fill()}},no:function(e,t){var i,n,r,a;if(i=this.s.padding.left,n=this.s.padding.top,r=e-this.s.padding.right,a=t-this.s.padding.bottom,this.s.legend){var o=this.s.legend,s=this.s.legend.width,l=this.s.legend.height;"x"==o.layout?"center"==o.valign?"right"==o.align?r-=s:"left"==o.align&&(i+=s):"bottom"==o.valign?a-=l:n+=l:"right"==o.align?r-=s:"left"==o.align&&(i+=s)}return{start:{x:i,y:n},end:{x:r,y:a}}},No:function(e){var t,i,n,r,a;if(this.s.yAxis&&"undefined"!=typeof this.s.yAxis.end&&"undefined"!=typeof this.s.yAxis.start&&this.s.yAxis.step)n=parseFloat(this.s.yAxis.end),r=parseFloat(this.s.yAxis.start);else{for(t=0;t<e.length;t++)for(e[t].$sum=0,e[t].$min=1/0,i=0;i<this.go.length;i++)a=Math.abs(parseFloat(this.go[i].value(e[t])||0)),isNaN(a)||(-1!=this.go[i].type.toLowerCase().indexOf("stacked")&&(e[t].$sum+=a),a<e[t].$min&&(e[t].$min=a));for(n=-(1/0),r=1/0,t=0;t<e.length;t++)e[t].$sum>n&&(n=e[t].$sum),e[t].$min<r&&(r=e[t].$min);r>0&&(r=0)}return{max:n,min:r}},Oo:function(e,t,i,n,r,a,o,s){var l,u,c,d,h,f;return"light"==a?(l="x"==s?e.createLinearGradient(t,i,n,i):e.createLinearGradient(t,i,t,r),f=[[0,"#FFFFFF"],[.9,o],[1,o]],u=2):"falling"==a||"rising"==a?(l="x"==s?e.createLinearGradient(t,i,n,i):e.createLinearGradient(t,i,t,r),c=webix.color.toRgb(o),d=webix.color.rgbToHsv(c[0],c[1],c[2]),d[1]*=.5,h="rgb("+webix.color.hsvToRgb(d[0],d[1],d[2])+")","falling"==a?f=[[0,h],[.7,o],[1,o]]:"rising"==a&&(f=[[0,o],[.3,o],[1,h]]),u=0):(e.globalAlpha=.37,u=0,l="x"==s?e.createLinearGradient(t,r,t,i):e.createLinearGradient(t,i,n,i),f=[[0,"#9d9d9d"],[.3,"#e8e8e8"],[.45,"#ffffff"],[.55,"#ffffff"],[.7,"#e8e8e8"],[1,"#9d9d9d"]]),this.Po(l,f),{gradient:l,offset:u}},Qo:function(e,t,i,n){return e*=-1,t+=Math.cos(e)*n,i-=Math.sin(e)*n,{x:t,y:i}},Po:function(e,t){for(var i=0;i<t.length;i++)e.addColorStop(t[i][0],t[i][1])},Mo:function(e,t){var i,n;for(i=0;i<t.length;i++)n=i?"lineTo":"moveTo",t[i].length>2&&(n="arc"),e[n].apply(e,t[i])},Ro:function(e,t,i,n,r){e.addRect(t,[i[0].x-n.x,i[0].y-n.y,i[1].x-n.x,i[1].y-n.y],r)}},webix.Group,webix.AutoTooltip,webix.DataLoader,webix.MouseEvents,webix.EventSystem,webix.ui.view),webix.extend(webix.ui.chart,{$render_pie:function(e,t,i,n,r,a){this.So(e,t,i,n,1,a,r)},So:function(e,t,i,n,r,a,o){if(t.length){var s=this.To(i,n),l=this.s.radius?this.s.radius:s.radius;if(!(0>l)){var u=this.Uo(t),c=this.Vo(u),d=this.Wo(u,c),h=this.s.x?this.s.x:s.x,f=this.s.y?this.s.y:s.y;1==r&&this.s.shadow&&this.Xo(e,h,f,l),f/=r;var p=-Math.PI/2,g=[];if(e.scale(1,r),this.s.gradient){var v=1!=r?h+l/3:h,m=1!=r?f+l/3:f;this.Yo(e,h,f,l,v,m)}for(var b=0;b<t.length;b++)if(u[b]){e.strokeStyle=this.s.lineColor.call(this,t[b]),e.beginPath(),e.moveTo(h,f),g.push(p);var y=-Math.PI/2+d[b]-1e-4;e.arc(h,f,l,p,y,!1),e.lineTo(h,f);var w=this.s.color.call(this,t[b]);e.fillStyle=w,e.fill(),this.s.pieInnerText&&this.Zo(h,f,5*l/6,p,y,r,this.s.pieInnerText(t[b],c),!0),this.s.label&&this.Zo(h,f,l+this.s.labelOffset,p,y,r,this.s.label(t[b])),1!=r&&(this.$o(e,h,f,p,y,l,!0),e.fillStyle="#000000",e.globalAlpha=.2,this.$o(e,h,f,p,y,l,!1),e.globalAlpha=1,e.fillStyle=w),a.addSector(t[b].id,p,y,h-i.x,f-i.y/r,l,r,o),p=y}e.globalAlpha=.8;var x;for(b=0;b<g.length;b++)x=this.Qo(g[b],h,f,l),this.zo(e,h,f,x.x,x.y,this.s.lineColor.call(this,t[b]),2);1==r&&(e.lineWidth=2,e.strokeStyle="#ffffff",e.beginPath(),e.arc(h,f,l+1,0,2*Math.PI,!1),e.stroke()),e.globalAlpha=1,e.scale(1,1/r)}}},Uo:function(e){for(var t=[],i=0;i<e.length;i++)t.push(Math.abs(parseFloat(this.s.value(e[i])||0)));return t},Vo:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},Wo:function(e,t){var i,n=[],r=0;t=t||this.Vo(e);for(var a=0;a<e.length;a++)i=e[a],n[a]=2*Math.PI*(t?(i+r)/t:1/e.length),r+=i;return n},To:function(e,t){var i=t.x-e.x,n=t.y-e.y,r=e.x+i/2,a=e.y+n/2,o=Math.min(i/2,n/2);return{x:r,y:a,radius:o}},$o:function(e,t,i,n,r,a,o){if(e.lineWidth=1,0>=n&&r>=0||n>=0&&r<=Math.PI||Math.abs(n-Math.PI)>.003&&n<=Math.PI&&r>=Math.PI){0>=n&&r>=0&&(n=0,o=!1,this._o(e,t,i,a,n,r)),n<=Math.PI&&r>=Math.PI&&(r=Math.PI,o=!1,this._o(e,t,i,a,n,r));var s=(this.s.pieHeight||Math.floor(a/4))/this.s.cant;e.beginPath(),e.arc(t,i,a,n,r,!1),e.lineTo(t+a*Math.cos(r),i+a*Math.sin(r)+s),e.arc(t,i+s,a,r,n,!0),e.lineTo(t+a*Math.cos(n),i+a*Math.sin(n)),e.fill(),o&&e.stroke()}},_o:function(e,t,i,n,r,a){e.beginPath(),e.arc(t,i,n,r,a,!1),e.stroke()},Xo:function(e,t,i,n){e.globalAlpha=.5;for(var r=["#c4c4c4","#c6c6c6","#cacaca","#dcdcdc","#dddddd","#e0e0e0","#eeeeee","#f5f5f5","#f8f8f8"],a=r.length-1;a>-1;a--)e.beginPath(),e.fillStyle=r[a],e.arc(t+1,i+1,n+a,0,2*Math.PI,!0),e.fill();e.globalAlpha=1},ap:function(e){return e.addColorStop(0,"#ffffff"),e.addColorStop(.7,"#7a7a7a"),e.addColorStop(1,"#000000"),e},Yo:function(e,t,i,n,r,a){e.beginPath();var o;"function"!=typeof this.s.gradient?(o=e.createRadialGradient(r,a,n/4,t,i,n),o=this.ap(o)):o=this.s.gradient(o),e.fillStyle=o,e.arc(t,i,n,0,2*Math.PI,!0),e.fill(),e.globalAlpha=.7},Zo:function(e,t,i,n,r,a,o,s){var l=this.canvases[0].renderText(0,0,o,0,1);if(l){var u=l.scrollWidth;l.style.width=u+"px",u>e&&(u=e);var c=.2>r-n?4:8;s&&(c=u/1.8);var d=n+(r-n)/2;i-=(c-8)/2;var h=-c,f=-8,p="right";(d>=Math.PI/2&&d<Math.PI||d<=3*Math.PI/2&&d>=Math.PI)&&(h=-u-h+1,p="left");var g=0;!s&&1>a&&d>0&&d<Math.PI&&(g=(this.s.height||Math.floor(i/4))/a);var v=(t+Math.floor((i+g)*Math.sin(d)))*a+f,m=e+Math.floor((i+c/2)*Math.cos(d))+h,b=r<Math.PI/2+.01,y=n<Math.PI/2;y&&b?m=Math.max(m,e+3):y||b?!s&&(d>=Math.PI/2&&d<Math.PI||d<=3*Math.PI/2&&d>=Math.PI)&&(m+=u/3):m=Math.min(m,e-u),l.style.top=v+"px",l.style.left=m+"px",l.style.width=u+"px",l.style.textAlign=p,l.style.whiteSpace="nowrap"}},$render_pie3D:function(e,t,i,n,r,a){this.So(e,t,i,n,this.s.cant,a)},$render_donut:function(e,t,i,n,r,a){if(t.length){this.So(e,t,i,n,1,a,r);var o=this.s,s=this.To(i,n),l=o.radius?o.radius:s.radius,u=o.innerRadius&&o.innerRadius<l?o.innerRadius:l/3,c=o.x?o.x:s.x,d=o.y?o.y:s.y;e.fillStyle="#ffffff",e.beginPath(),e.arc(c,d,u,0,2*Math.PI,!0),e.fill()}}}),webix.extend(webix.ui.chart,{$render_bar:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b,y=n.y-i.y;b=!!this.s.yAxis,m=!!this.s.xAxis,u=this.Go(),c=u.max,d=u.min,s=(n.x-i.x)/t.length,r||"auto"!=this.s.origin&&!b||this.uo(t,i,n,d,c,s),b&&(c=parseFloat(this.s.yAxis.end),d=parseFloat(this.s.yAxis.start)),p=this.Ho(d,c),h=p[0],f=p[1],v=h?y/h:h,b||"auto"!=this.s.origin&&m||(g=10,v=h?(y-g)/h:g),!r&&"auto"!=this.s.origin&&!b&&this.s.origin>d&&this.wo(e,t,i,n,s,n.y-v*(this.s.origin-d)),o=parseInt(this.s.barWidth,10);var w=0,x=0;for(l=0;l<this.go.length;l++)l==r&&(x=w),"bar"==this.go[l].type&&w++;this.go&&o*w+4>s&&(o=parseInt(s/w-4,10));var E=(s-o*w)/2,_="undefined"!=typeof this.s.radius?parseInt(this.s.radius,10):Math.round(o/5),A=!1,C=this.s.gradient;for(C&&"function"!=typeof C?(A=C,C=!1):C&&(C=e.createLinearGradient(0,n.y,0,i.y),this.s.gradient(C)),m||this.zo(e,i.x,n.y+.5,n.x,n.y+.5,"#000000",1),l=0;l<t.length;l++){var S=parseFloat(this.s.value(t[l])||0);this.Bo&&(S=this.Do(S)),S>c&&(S=c),S-=d,S*=f;var T=i.x+E+l*s+(o+1)*x,I=n.y,D=C||this.s.color.call(this,t[l]),O=this.s.border?1:0,M=this.s.label(t[l]);S==this.s.origin||"auto"==this.s.origin&&this.s.value(t[l])==d?(O=0,M=""):0>S||this.s.yAxis&&0===S&&!("auto"!=this.s.origin&&this.s.origin>d)?(S=O=0,M=""):b||"auto"!=this.s.origin&&m||(S+=g/v),e.globalAlpha=this.s.alpha.call(this,t[l]);var k=this.bp(e,i,T,I,o,d,_,v,S,D,C,A,O);A&&this.cp(e,T,I,o,d,_,v,S,D,A,O),O&&this.dp(e,T,I,o,d,_,v,S,D),e.globalAlpha=1,k[0]!=T?this.canvases[r].renderTextAt(!1,!0,T+Math.floor(o/2),k[1],M):this.canvases[r].renderTextAt(!0,!0,T+Math.floor(o/2),k[3],M),a.addRect(t[l].id,[T-i.x,k[3]-i.y,k[2]-i.x,k[1]-i.y],r)}},ep:function(e,t,i,n,r,a,o){var s=this.s.xAxis,l=i;return s&&"auto"!=this.s.origin&&this.s.origin>o&&(i-=(this.s.origin-o)*r,l=i,n-=this.s.origin-o,0>n&&(n*=-1,e.translate(t+a,i),e.rotate(Math.PI),t=0,i=0),i-=.5),{value:n,x0:t,y0:i,start:l}},bp:function(e,t,i,n,r,a,o,s,l,u,c,d,h){e.save(),e.fillStyle=u;var f=this.ep(e,i,n,l,s,r,a),p=this.fp(e,f.x0,f.y0,r,o,s,f.value,h);c&&!d&&e.lineTo(f.x0+h,t.y),e.fill(),e.restore();var g=f.x0,v=f.x0!=i?i+p[0]:p[0],m=f.x0!=i?f.start-p[1]-f.y0:f.y0,b=f.x0!=i?f.start-f.y0:p[1];return[g,m,v,b]},gp:function(e,t){var i,n;n=webix.color.toRgb(t),i=webix.color.rgbToHsv(n[0],n[1],n[2]),i[2]/=1.4,t="rgb("+webix.color.hsvToRgb(i[0],i[1],i[2])+")",e.strokeStyle=t,1==e.globalAlpha&&(e.globalAlpha=.9)},dp:function(e,t,i,n,r,a,o,s,l){var u;e.save(),u=this.ep(e,t,i,s,o,n,r),this.gp(e,l),this.fp(e,u.x0,u.y0,n,a,o,u.value,e.lineWidth/2,1),e.stroke(),e.restore()},cp:function(e,t,i,n,r,a,o,s,l,u,c){e.save();var d=this.ep(e,t,i,s,o,n,r),h=this.Oo(e,d.x0,d.y0,d.x0+n,d.y0-o*d.value+2,u,l,"y");e.fillStyle=h.gradient,this.fp(e,d.x0+h.offset,d.y0,n-2*h.offset,a,o,d.value,h.offset+c),e.fill(),e.restore()},fp:function(e,t,i,n,r,a,o,s,l){e.beginPath();var u=0;if(r>a*o){var c=(r-a*o)/r;1>=c&&c>=-1&&(u=-Math.acos(c)+Math.PI/2)}e.moveTo(t+s,i);var d=i-Math.floor(a*o)+r+(r?0:s);a*o>r&&e.lineTo(t+s,d);var h=t+r;r&&r>0&&e.arc(h,d,Math.max(r-s,0),-Math.PI+u,-Math.PI/2,!1);var f=t+n-r-s,p=d-r+(r?s:0);e.lineTo(f,p),r&&r>0&&e.arc(f+s,d,Math.max(r-s,0),-Math.PI/2,0-u,!1);var g=t+n-s;return e.lineTo(g,i),l||e.lineTo(t+s,i),[g,p]}}),webix.extend(webix.ui.chart,{$render_line:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m;if(u=this.hp(e,t,i,n,r),o=this.s,t.length){for(c=o.offset?i.x+.5*u.cellWidth:i.x,l=[],s=0;s<t.length;s++)if(m=this.ip(t[s],i,n,u),m||"0"==m){if(h=s?u.cellWidth*s-.5+c:c,p="object"==typeof m?m.y0:m,s&&this.s.fixOverflow){if(v=this.ip(t[s-1],i,n,u),v.out&&v.out==m.out)continue;d=u.cellWidth*(s-1)-.5+c,f="object"==typeof v?v.y0:v,v.out&&(g="min"==v.out?n.y:i.y,l.push({x:this.jp(d,h,f,p,g),y:g})),m.out&&(g="min"==m.out?n.y:i.y,l.push({x:this.jp(d,h,f,p,g),y:g}))}m.out||l.push({x:h,y:m,index:s})}for(this.kp=i,s=1;s<=l.length;s++)d=l[s-1].x,f=l[s-1].y,s<l.length&&(h=l[s].x,p=l[s].y,this.zo(e,d,f,h,p,o.line.color.call(this,t[s-1]),o.line.width),o.line&&o.line.shadow&&(e.globalAlpha=.3,this.zo(e,d+2,f+o.line.width+8,h+2,p+o.line.width+8,"#eeeeee",o.line.width+3),e.globalAlpha=1)),"undefined"!=typeof l[s-1].index&&this.lp(e,d,f,t[l[s-1].index],o.label(t[l[s-1].index]),r,a,i)}},jp:function(e,t,i,n,r){return e+(r-i)*(t-e)/(n-i)},lp:function(e,t,i,n,r,a,o){var s=this.s.item,l=parseInt(s.radius.call(this,n),10)||0,u=this.kp;if(l){if(e.save(),s.shadow){e.lineWidth=1,e.strokeStyle="#bdbdbd",e.fillStyle="#bdbdbd";for(var c=[.1,.2,.3],d=c.length-1;d>=0;d--)e.globalAlpha=c[d],e.strokeStyle="#d0d0d0",e.beginPath(),this.Lo(e,t,i+2*l/3,l+d+1,s.type),e.stroke();e.beginPath(),e.globalAlpha=.3,e.fillStyle="#bdbdbd",this.Lo(e,t,i+2*l/3,l+1,s.type),e.fill()}e.restore(),e.lineWidth=s.borderWidth,e.fillStyle=s.color.call(this,n),e.strokeStyle=s.borderColor.call(this,n),e.globalAlpha=s.alpha.call(this,n),e.beginPath(),this.Lo(e,t,i,l+1,s.type),e.fill(),e.stroke(),e.globalAlpha=1}if(r&&this.canvases[a].renderTextAt(!1,!0,t,i-l-this.s.labelOffset,this.s.label.call(this,n)),o){var h=this.s.eventRadius||l+1;o.addRect(n.id,[t-h-u.x,i-h-u.y,t+h-u.x,i+h-u.y],a)}},Lo:function(e,t,i,n,r){var a=[];if(!r||"square"!=r&&"s"!=r)if(!r||"diamond"!=r&&"d"!=r)a=!r||"triangle"!=r&&"t"!=r?[[t,i,n,0,2*Math.PI,!0]]:[[t,i-n],[t+Math.sqrt(3)*n/2,i+n/2],[t-Math.sqrt(3)*n/2,i+n/2],[t,i-n]];else{var o=e.lineWidth>1?e.lineWidth*Math.sqrt(2)/4:0;a=[[t,i-n],[t+n,i],[t,i+n],[t-n,i],[t+o,i-n-o]]}else n*=Math.sqrt(2)/2,a=[[t-n-e.lineWidth/2,i-n],[t+n,i-n],[t+n,i+n],[t-n,i+n],[t-n,i-n]];this.Mo(e,a)},ip:function(e,t,i,n){var r=n.minValue,a=n.maxValue,o=n.unit,s=n.valueFactor,l=this.s.value(e);this.Bo&&(l=this.Do(l));var u=(parseFloat(l||0)-r)*s;this.s.yAxis||(u+=n.startValue/o);var c=i.y-o*u;return!this.s.fixOverflow||"line"!=this.s.type&&"area"!=this.s.type?(l>a&&(c=t.y),(0>u||r>l)&&(c=i.y)):l>a?c={
y:t.y,y0:c,out:"max"}:(0>u||r>l)&&(c={y:i.y,y0:c,out:"min"}),c},hp:function(e,t,i,n,r){var a,o={};o.totalHeight=n.y-i.y,this.s.cellWidth?o.cellWidth=Math.min(n.x-i.x,this.s.cellWidth):o.cellWidth=(n.x-i.x)/(this.s.offset?t.length:t.length-1);var s=!!this.s.yAxis,l=-1!=this.s.type.indexOf("stacked")?this.No(t):this.Go();o.maxValue=l.max,o.minValue=l.min,r||this.uo(t,i,n,o.minValue,o.maxValue,o.cellWidth),s&&(o.maxValue=parseFloat(this.s.yAxis.end),o.minValue=parseFloat(this.s.yAxis.start));var u=this.Ho(o.minValue,o.maxValue);return a=u[0],o.valueFactor=u[1],o.unit=a?o.totalHeight/a:10,o.startValue=0,s||(o.startValue=10,o.unit!=o.totalHeight&&(o.unit=a?(o.totalHeight-o.startValue)/a:10)),o}}),webix.extend(webix.ui.chart,{$render_barH:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b,y,w,x,E,_,A,C,S;for(l=(n.y-i.y)/t.length,h=this.Go("h"),f=h.max,p=h.min,x=n.x-i.x,S=!!this.s.xAxis,r||this.mp(e,t,i,n,p,f,l),S&&(f=parseFloat(this.s.xAxis.end),p=parseFloat(this.s.xAxis.start)),y=this.Ho(p,f),m=y[0],v=y[1],_=m?x/m:10,S||(w=10,_=m?(x-w)/m:10),s=parseInt(this.s.barWidth,10),s*this.go.length+4>l&&(s=l/this.go.length-4),o=Math.floor((l-s*this.go.length)/2),b="undefined"!=typeof this.s.radius?parseInt(this.s.radius,10):Math.round(s/5),g=!1,c=this.s.gradient,c&&"function"!=typeof c?(g=c,c=!1):c&&(c=e.createLinearGradient(i.x,i.y,n.x,i.y),this.s.gradient(c)),S||this.zo(e,i.x-.5,i.y,i.x-.5,n.y,"#000000",1),d=0;d<t.length;d++)if(E=parseFloat(this.s.value(t[d]||0)),this.Bo&&(E=this.Do(E)),E&&!isNaN(E))if(E>f&&(E=f),E-=p,E*=v,A=i.x,C=i.y+o+d*l+(s+1)*r,0>E&&"auto"==this.s.origin||this.s.xAxis&&0===E&&!("auto"!=this.s.origin&&this.s.origin>p))this.canvases[r].renderTextAt("middle","right",A+10,C+s/2+o,this.s.label(t[d]));else{0>E&&"auto"!=this.s.origin&&this.s.origin>p&&(E=0),S||(E+=w/_),u=c||this.s.color.call(this,t[d]),this.s.border&&this.np(e,A,C,s,p,b,_,E,u),e.globalAlpha=this.s.alpha.call(this,t[d]);var T=this.op(e,n,A,C,s,p,b,_,E,u,c,g);g&&this.pp(e,A,C,s,p,b,_,E,u,g),e.globalAlpha=1,T[3]==C?(this.canvases[r].renderTextAt("middle","left",T[0]-5,T[3]+Math.floor(s/2),this.s.label(t[d])),a.addRect(t[d].id,[T[0]-i.x,T[3]-i.y,T[2]-i.x,T[3]+s-i.y],r)):(this.canvases[r].renderTextAt("middle",!1,T[2]+5,T[1]+Math.floor(s/2),this.s.label(t[d])),a.addRect(t[d].id,[T[0]-i.x,C-i.y,T[2]-i.x,T[3]-i.y],r))}},qp:function(e,t,i,n,r,a,o,s,l){var u=0;if(r>a*o){var c=(r-a*o)/r;u=-Math.asin(c)+Math.PI/2}e.moveTo(t,i+s);var d=t+a*o-r-(r?0:s);d=Math.max(t,d),a*o>r&&e.lineTo(d,i+s);var h=i+r;r&&r>0&&e.arc(d,h,r-s,-Math.PI/2+u,0,!1);var f=i+n-r-(r?0:s),p=d+r-(r?s:0);e.lineTo(p,f),r&&r>0&&e.arc(d,f,r-s,0,Math.PI/2-u,!1);var g=i+n-s;return e.lineTo(t,g),l||e.lineTo(t,i+s),[p,g]},mp:function(e,t,i,n,r,a,o){var s=0;this.s.xAxis&&(this.canvases.x||(this.canvases.x=this.lo("axis_x")),s=this.rp(this.canvases.x.getCanvas(),t,i,n,r,a)),this.s.yAxis&&(this.canvases.y||(this.canvases.y=this.lo("axis_y")),this.sp(this.canvases.y.getCanvas(),t,i,n,o,s))},sp:function(e,t,i,n,r,a){if(this.s.yAxis){var o,s=parseInt(a?a:i.x,10)-.5,l=n.y+.5,u=i.y;this.zo(e,s,l,s,u,this.s.yAxis.color,1);for(var c=0;c<t.length;c++){var d="auto"!=this.s.origin&&"barH"==this.s.type&&parseFloat(this.s.value(t[c]))<this.s.origin;o=u+r/2+c*r,this.canvases.y.renderTextAt("middle",!d&&"left",d?s+5:s-5,o,this.s.yAxis.template(t[c]),"webix_axis_item_y",d?0:s-10),this.s.yAxis.lines.call(this,t[c])&&this.zo(e,i.x,o,n.x,o,this.s.yAxis.lineColor.call(this,t[c]),1)}this.s.yAxis.lines.call(this,{})&&this.zo(e,i.x+.5,u+.5,n.x,u+.5,this.s.yAxis.lineColor.call(this,{}),1),this.Co(i,n)}},rp:function(e,t,i,n,r,a){var o,s={},l=this.s.xAxis;if(l){var u=n.y+.5,c=i.x-.5,d=n.x-.5,h=i.x;if(this.zo(e,c,u,d,u,l.color,1),l.step&&(o=parseFloat(l.step)),("undefined"==typeof this.so.step||"undefined"==typeof this.so.start||"undefined"==typeof this.so.end)&&(s=this.Ao(r,a),r=s.start,a=s.end,o=s.step,this.s.xAxis.end=a,this.s.xAxis.start=r,this.s.xAxis.step=o),0!==o){for(var f=(d-c)*o/(a-r),p=0,g=r;a>=g;g+=o){var v=this.Bo?Math.pow(10,g):g;s.fixNum&&(v=parseFloat(v).toFixed(s.fixNum));var m=Math.floor(c+p*f)+.5;if(g==r&&"auto"==this.s.origin||!l.lines.call(this,g)||this.zo(e,m,u,m,i.y,this.s.xAxis.lineColor.call(this,g),1),g==this.s.origin&&(h=m+1),1>o&&!this.Bo){var b=Math.min(Math.floor(this.Do(o)),0>=r?0:Math.floor(this.Do(r))),y=Math.pow(10,-b);v=Math.round(v*y)/y,g=v}this.canvases.x.renderTextAt(!1,!0,m,u+2,l.template(v.toString()),"webix_axis_item_x"),p++}return this.canvases.x.renderTextAt(!0,!1,c,n.y+this.s.padding.bottom-3,this.s.xAxis.title,"webix_axis_title_x",n.x-i.x),l.lines.call(this,{})||this.zo(e,c,i.y-.5,d,i.y-.5,this.s.xAxis.color,.2),h}}},tp:function(e,t,i,n,r,a,o){var s=this.s.yAxis,l=t;return s&&"auto"!=this.s.origin&&this.s.origin>o&&(t+=(this.s.origin-o)*r,l=t,n-=this.s.origin-o,0>n&&(n*=-1,e.translate(t,i+a),e.rotate(Math.PI),t=.5,i=0),t+=.5),{value:n,x0:t,y0:i,start:l}},op:function(e,t,i,n,r,a,o,s,l,u,c,d){e.save();var h=this.tp(e,i,n,l,s,r,a);e.fillStyle=u,e.beginPath();var f=this.qp(e,h.x0,h.y0,r,o,s,h.value,this.s.border?1:0);c&&!d&&e.lineTo(t.x,h.y0+(this.s.border?1:0)),e.fill(),e.restore();var p=h.y0,g=h.y0!=n?n:f[1],v=h.y0!=n?h.start-f[0]:h.start,m=h.y0!=n?h.start:f[0];return[v,p,m,g]},np:function(e,t,i,n,r,a,o,s,l){e.save();var u=this.tp(e,t,i,s,o,n,r);e.beginPath(),this.gp(e,l),e.globalAlpha=.9,this.qp(e,u.x0,u.y0,n,a,o,u.value,e.lineWidth/2,1),e.stroke(),e.restore()},pp:function(e,t,i,n,r,a,o,s,l,u){e.save();var c=this.tp(e,t,i,s,o,n,r),d=this.Oo(e,c.x0,c.y0+n,c.x0+o*c.value,c.y0,u,l,"x");e.fillStyle=d.gradient,e.beginPath(),this.qp(e,c.x0,c.y0+d.offset,n-2*d.offset,a,o,c.value,d.offset),e.fill(),e.globalAlpha=1,e.restore()}}),webix.extend(webix.ui.chart,{$render_stackedBar:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f=this.s,p=n.y-i.y,g=!!f.yAxis,v=!!f.xAxis,m=this.No(t),b=0===f.origin;o=m.max,s=m.min;var y=Math.floor((n.x-i.x)/t.length);r||(l=this.uo(t,i,n,s,o,y)),g&&(o=parseFloat(f.yAxis.end),s=parseFloat(f.yAxis.start));var w=this.Ho(s,o);h=w[0],d=w[1];var x=h?p/h:10,E=parseInt(f.barWidth,10);E+4>y&&(E=y-4);var _=Math.floor((y-E)/2),A=!!f.gradient&&f.gradient;v||this.zo(e,i.x,n.y+.5,n.x,n.y+.5,"#000000",1);for(var C=0;C<t.length;C++){var S=Math.abs(parseFloat(f.value(t[C]||0)));this.Bo&&(S=this.Do(S)),u=i.x+_+C*y;var T=b&&0>S;if(r?c=T?t[C].$startYN:t[C].$startY:(c=l-1,t[C].$startY=c,b&&(T&&(c=l+1),t[C].$startYN=l+1)),S&&!isNaN(S)&&(r||b||(S-=s),S*=d,!(c<i.y+1))){var I=this.s.color.call(this,t[C]),D=Math.abs(c-(b?n.y+s*x:n.y))<3;e.globalAlpha=f.alpha.call(this,t[C]),e.fillStyle=e.strokeStyle=f.color.call(this,t[C]),e.beginPath();var O=c-x*S+(D?T?-1:1:0),M=this.up(e,u-(f.border?.5:0),c,E+(f.border?.5:0),O,0,i.y);if(e.fill(),e.stroke(),A){e.save();var k=this.Oo(e,u,c,u+E,M[1],A,I,"y");e.fillStyle=k.gradient,e.beginPath(),M=this.up(e,u+k.offset,c,E-2*k.offset,O,f.border?1:0,i.y),e.fill(),e.restore()}f.border&&(e.save(),"string"==typeof f.border?e.strokeStyle=f.border:this.gp(e,I),e.beginPath(),this.up(e,u-.5,parseInt(c,10)+.5,E+1,parseInt(O,10)+.5,0,i.y,D),e.stroke(),e.restore()),e.globalAlpha=1,this.canvases[r].renderTextAt(!1,!0,u+Math.floor(E/2),M[1]+(c-M[1])/2-7,this.s.label(t[C])),a.addRect(t[C].id,[u-i.x,M[1]-i.y,M[0]-i.x,t[C][T?"$startYN":"$startY"]-i.y],r),t[C][T?"$startYN":"$startY"]=M[1]}}},up:function(e,t,i,n,r,a,o,s){e.moveTo(t,i),o>r&&(r=o),e.lineTo(t,r);var l=t+n,u=r;e.lineTo(l,u);var c=t+n;return e.lineTo(c,i),s||e.lineTo(t,i),[c,u]}}),webix.extend(webix.ui.chart,{$render_stackedBarH:function(e,t,i,n,r,a){var o,s,l,u,c=n.x-i.x,d=!!this.s.yAxis,h=this.No(t);o=h.max,s=h.min;var f=Math.floor((n.y-i.y)/t.length);r||this.mp(e,t,i,n,s,o,f),d&&(o=parseFloat(this.s.xAxis.end),s=parseFloat(this.s.xAxis.start));var p=this.Ho(s,o);u=p[0],l=p[1];var g=u?c/u:10,v=0;d||(v=10,g=u?(c-v)/u:10);var m=parseInt(this.s.barWidth,10);m+4>f&&(m=f-4);var b=(f-m)/2,y=0,w=!1,x=this.s.gradient;x&&(w=!0),d||this.zo(e,i.x-.5,i.y,i.x-.5,n.y,"#000000",1);var E=0,_=0;for(A=0;A<this.go.length;A++)A==r&&(_=E),"stackedBarH"==this.go[A].type&&E++;for(var A=0;A<t.length;A++){_||(t[A].$startX=i.x);var C=Math.abs(parseFloat(this.s.value(t[A]||0)));C>o&&(C=o),C-=s,C*=l;var S=i.x,T=i.y+b+A*f;if(_?S=t[A].$startX:t[A].$startX=S,C&&!isNaN(C)){d||(C+=v/g);var I=this.s.color.call(this,t[A]);e.globalAlpha=this.s.alpha.call(this,t[A]),e.fillStyle=this.s.color.call(this,t[A]),e.beginPath();var D=this.qp(e,S,T,m,y,g,C,0);if(x&&!w&&e.lineTo(i.x+c,T+(this.s.border?1:0)),e.fill(),w){var O=this.Oo(e,S,T+m,S,T,w,I,"x");e.fillStyle=O.gradient,e.beginPath(),D=this.qp(e,S,T,m,y,g,C,0),e.fill()}this.s.border&&this.np(e,S,T,m,s,y,g,C,I),e.globalAlpha=1,this.canvases[r].renderTextAt("middle",!0,t[A].$startX+(D[0]-t[A].$startX)/2-1,T+(D[1]-T)/2,this.s.label(t[A])),a.addRect(t[A].id,[t[A].$startX-i.x,T-i.y,D[0]-i.x,D[1]-i.y],r),t[A].$startX=D[0]}}}}),webix.extend(webix.ui.chart,{$render_spline:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b;if(c=this.hp(e,t,i,n,r),o=this.s,this.kp=i,l=[],t.length){for(f=o.offset?i.x+.5*c.cellWidth:i.x,s=0;s<t.length;s++)v=this.ip(t[s],i,n,c),(v||"0"==v)&&(h=s?c.cellWidth*s-.5+f:f,l.push({x:h,y:v,v:this.s.value(t[s]),index:s}));for(d=this.vp(l),s=0;s<l.length;s++){if(p=l[s].x,m=l[s].y,s<l.length-1){for(g=l[s+1].x,b=l[s+1].y,u=p;g>u;u++){var y=this.wp(u,p,s,d.a,d.b,d.c,d.d);y<i.y&&(y=i.y),y>n.y&&(y=n.y);var w=this.wp(u+1,p,s,d.a,d.b,d.c,d.d);w<i.y&&(w=i.y),w>n.y&&(w=n.y),this.zo(e,u,y,u+1,w,o.line.color(t[s]),o.line.width)}this.zo(e,g-1,this.wp(u,p,s,d.a,d.b,d.c,d.d),g,b,o.line.color(t[s]),o.line.width)}this.lp(e,p,m,t[l[s].index],o.label(t[l[s].index]),r,a)}}},vp:function(e){var t,i,n,r,a,o,s,l,u=[],c=[],d=e.length;for(a=0;d-1>a;a++)u[a]=e[a+1].x-e[a].x,c[a]=(e[a+1].y-e[a].y)/u[a];for(s=[],l=[],s[0]=0,s[1]=2*(u[0]+u[1]),l[0]=0,l[1]=6*(c[1]-c[0]),a=2;d-1>a;a++)s[a]=2*(u[a-1]+u[a])-u[a-1]*u[a-1]/s[a-1],l[a]=6*(c[a]-c[a-1])-u[a-1]*l[a-1]/s[a-1];for(o=[],o[d-1]=o[0]=0,a=d-2;a>=1;a--)o[a]=(l[a]-u[a]*o[a+1])/s[a];for(t=[],i=[],n=[],r=[],a=0;d-1>a;a++)t[a]=e[a].y,i[a]=-u[a]*o[a+1]/6-u[a]*o[a]/3+(e[a+1].y-e[a].y)/u[a],n[a]=o[a]/2,r[a]=(o[a+1]-o[a])/(6*u[a]);for(a=0;a<e.length-1;a++)0===e[a].v&&0===e[a+1].v&&(t[a]=e[a].y,r[a]=n[a]=i[a]=0);return{a:t,b:i,c:n,d:r}},wp:function(e,t,i,n,r,a,o){return n[i]+(e-t)*(r[i]+(e-t)*(a[i]+(e-t)*o[i]))}}),webix.extend(webix.ui.chart,{$render_area:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b,y,w;if(d=this.hp(e,t,i,n,r),s=this.s,u=s.eventRadius||Math.floor(d.cellWidth/2),t.length){for(h=[],g=s.offset?i.x+.5*d.cellWidth:i.x,l=0;l<t.length;l++)if(c=t[l],p=this.ip(c,i,n,d),b=g+d.cellWidth*l,p){if(y="object"==typeof p?p.y0:p,l&&this.s.fixOverflow){if(f=this.ip(t[l-1],i,n,d),f.out&&f.out==p.out)continue;v=d.cellWidth*(l-1)-.5+g,m="object"==typeof f?f.y0:f,f.out&&(w="min"==f.out?n.y:i.y,h.push([this.jp(v,b,m,y,w),w])),p.out&&(w="min"==p.out?n.y:i.y,h.push([this.jp(v,b,m,y,w),w]),l==t.length-1&&w==i.y&&h.push([b,i.y]))}p.out||(h.push([b,y]),a.addRect(c.id,[b-u-i.x,y-u-i.y,b+u-i.x,y+u-i.y],r)),s.yAxis||(o=s.offset||l!=t.length-1?"center":"left",this.canvases[r].renderTextAt(!1,o,b,y-s.labelOffset,s.label(c)))}h.length&&(h.push([b,n.y]),h.push([h[0][0],n.y])),e.globalAlpha=this.s.alpha.call(this,t[0]),e.fillStyle=this.s.color.call(this,t[0]),e.beginPath(),this.Mo(e,h),e.fill(),e.lineWidth=1,e.globalAlpha=1,s.border&&(e.lineWidth=s.borderWidth||1,s.borderColor?e.strokeStyle=s.borderColor.call(this,t[0]):this.gp(e,e.fillStyle),e.beginPath(),this.Mo(e,h),e.stroke())}},$render_stackedArea:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b,y;if(g=this.hp(e,t,i,n,r),u=this.s,f=u.eventRadius||Math.floor(g.cellWidth/2),t.length){v=[],y=[],m=u.offset?i.x+.5*g.cellWidth:i.x;var w=function(e,i){return r?t[e].$startY?i-n.y+t[e].$startY:0:i},x=function(e,t,i){var n=(i.y-t.y)/(i.x-t.x);return n*e+t.y-n*t.x};for(c=0;c<t.length;c++)p=t[c],c?m+=g.cellWidth:(b=w(c,n.y),v.push([m,b])),b=w(c,this.ip(p,i,n,g)),y.push(isNaN(b)&&!c?t[c].$startY||n.y:b),b&&(v.push([m,b]),a.addRect(p.id,[m-f-i.x,b-f-i.y,m+f-i.x,b+f-i.y],r),u.yAxis||(l=!u.offset&&h?"left":"center",this.canvases[r].renderTextAt(!1,l,m,b-u.labelOffset,u.label(p))));if(v.push([m,w(c-1,n.y)]),r)for(c=t.length-2;c>0;c--)m-=g.cellWidth,b=t[c].$startY,b&&v.push([m,b]);for(v.push([v[0][0],v[0][1]]),e.globalAlpha=this.s.alpha.call(this,t[0]),e.fillStyle=this.s.color.call(this,t[0]),e.beginPath(),this.Mo(e,v),e.fill(),c=0;c<t.length;c++){if(b=y[c],!b)for(c==t.length-1&&(b=t[c].$startY),d=c+1;d<t.length;d++)if(y[d]){o={x:i.x,y:y[0]},s={x:i.x+g.cellWidth*d,y:y[d]},b=x(i.x+g.cellWidth*c,o,s);break}t[c].$startY=b}}}}),webix.extend(webix.ui.chart,{$render_radar:function(e,t,i,n,r,a){this.xp(e,t,i,n,r,a)},xp:function(e,t,i,n,r,a){if(t.length){for(var o=this.To(i,n),s=this.s.radius?this.s.radius:o.radius,l=this.s.x?this.s.x:o.x,u=this.s.y?this.s.y:o.y,c=[],d=0;d<t.length;d++)c.push(1);var h=this.Wo(c,t.length);this.kp=i,r||this.yp(h,l,u,s,t),this.zp(e,h,l,u,s,t,r,a)}},zp:function(e,t,i,n,r,a,o,s){var l,u,c,d,h,f,p,g,v,m,b,y,w,x,E,_,A,C,S;for(c=this.s,h=c.yAxis.start,f=c.yAxis.end,S=this.Ho(h,f),y=S[0],C=y?r/y:r/2,A=S[1],w=-Math.PI/2,l=u=w,v=[],g=0,d=0;d<a.length;d++)_?E=_:(x=c.value(a[d]),this.Bo&&(x=this.Do(x)),E=(parseFloat(x||0)-h)*A),m=Math.floor(C*E),x=c.value(d!=a.length-1?a[d+1]:a[0]),this.Bo&&(x=this.Do(x)),_=(parseFloat(x||0)-h)*A,b=Math.floor(C*_),l=u,u=d!=a.length-1?w+t[d]-1e-4:w,p=g||this.Qo(l,i,n,m),g=this.Qo(u,i,n,b),v.push(p);c.fill&&this.Ap(e,v,a),!c.disableLines&&a.length>2&&this.Bp(e,v,a),(!c.disableItems||a.length<3)&&this.Cp(e,v,a,o,s),v=null},Cp:function(e,t,i,n,r){for(var a=0;a<t.length;a++)this.lp(e,t[a].x,t[a].y,i[a],this.s.label.call(this,i),n,r)},Ap:function(e,t,i){var n,r;e.globalAlpha=this.s.alpha.call(this,{}),e.beginPath();for(var a=0;a<t.length;a++)e.fillStyle=this.s.fill.call(this,i[a]),n=t[a],r=t[a+1]||t[0],a||e.moveTo(n.x,n.y),e.lineTo(r.x,r.y);e.fill(),e.globalAlpha=1},Bp:function(e,t,i){for(var n,r,a=0;a<t.length;a++)n=t[a],r=t[a+1]||t[0],this.zo(e,n.x,n.y,r.x,r.y,this.s.line.color.call(this,i[a]),this.s.line.width)},yp:function(e,t,i,n,r){var a=this.s.yAxis,o=this.s.xAxis,s=a.start,l=a.end,u=a.step,c={},d=this.to;if("undefined"==typeof d.step||"undefined"==typeof d.start||"undefined"==typeof d.end){var h=this.Go();c=this.Ao(h.min,h.max),s=c.start,l=c.end,u=c.step,a.end=l,a.start=s}var f,p,g,v,m,b=[],y=0,w=n*u/(l-s);1>u&&(v=Math.min(this.Do(u),0>=s?0:this.Do(s)),m=Math.pow(10,-v));var x=[];this.canvases.scale||(this.canvases.scale=this.lo("radar_scale"));var E=this.canvases.scale.getCanvas();for(f=l;f>=s;f-=u){var _=this.Bo?Math.pow(10,f):f;c.fixNum&&(_=parseFloat(f).toFixed(c.fixNum)),b.push(Math.floor(y*w)+.5),m&&!this.Bo&&(_=Math.round(_*m)/m,f=_);var A=i-n+b[b.length-1];if(this.canvases.scale.renderTextAt("middle","left",t,A,a.template(_.toString()),"webix_axis_item_y webix_radar"),e.length<2)return void this.Dp(E,"arc",t,i,n-b[b.length-1],-Math.PI/2,3*Math.PI/2,f);var C,S=-Math.PI/2,T=S;for(p=0;p<e.length;p++)y||x.push(T),C=S+e[p]-1e-4,this.Dp(E,e.length>2?d.lineShape||"line":"arc",t,i,n-b[b.length-1],T,C,f,p,r[f]),T=C;y++}for(f=0;f<x.length;f++)g=this.Qo(x[f],t,i,n),o.lines.call(this,r[f],f)&&this.zo(E,t,i,g.x,g.y,o?o.lineColor.call(this,r[f]):"#cfcfcf",1),this.Ep(E,t,i,n,x[f],o?o.template.call(this,r[f]):"&nbsp;")},Dp:function(e,t,i,n,r,a,o,s,l){var u,c;if(0>r)return!1;u=this.Qo(a,i,n,r),c=this.Qo(o,i,n,r);var d=this.s.yAxis;d.bg&&(e.beginPath(),e.moveTo(i,n),"arc"==t?e.arc(i,n,r,a,o,!1):(e.lineTo(u.x,u.y),e.lineTo(c.x,c.y)),e.fillStyle=d.bg(s,l),e.moveTo(i,n),e.fill(),e.closePath()),d.lines.call(this,s)&&(e.lineWidth=1,e.beginPath(),"arc"==t?e.arc(i,n,r,a,o,!1):(e.moveTo(u.x,u.y),e.lineTo(c.x,c.y)),e.strokeStyle=d.lineColor.call(this,s),e.stroke())},Ep:function(e,t,i,n,r,a){if(!a)return!1;var o=this.canvases.scale.renderText(0,0,a,"webix_axis_radar_title",1),s=o.scrollWidth,l=o.offsetHeight,u=.001,c=this.Qo(r,t,i,n+5),d=0,h=0;(0>r||r>Math.PI)&&(h=-l),r>Math.PI/2&&(d=-s),Math.abs(r+Math.PI/2)<u||Math.abs(r-Math.PI/2)<u?d=-s/2:(Math.abs(r)<u||Math.abs(r-Math.PI)<u)&&(h=-l/2),o.style.top=c.y+h+"px",o.style.left=c.x+d+"px",o.style.width=s+"px",o.style.whiteSpace="nowrap"}}),webix.extend(webix.ui.chart,{$render_scatter:function(e,t,i,n,r,a){if(!this.s.xValue)return!1;var o=this.Go(),s=this.Go("h","xValue");r||(this.canvases.x||(this.canvases.x=this.lo("axis_x")),this.canvases.y||(this.canvases.y=this.lo("axis_y")),this.vo(this.canvases.y.getCanvas(),t,i,n,o.min,o.max),this.rp(this.canvases.x.getCanvas(),t,i,n,s.min,s.max)),o={min:this.s.yAxis.start,max:this.s.yAxis.end},s={min:this.s.xAxis.start,max:this.s.xAxis.end};var l=this.Fp(e,t,i,n,s,o);this.kp=i;for(var u=0;u<t.length;u++)this.Gp(e,a,i,n,l,s,o,t[u],r)},Fp:function(e,t,i,n,r,a){var o={};return o.totalHeight=n.y-i.y,o.totalWidth=n.x-i.x,this.Hp(o,r.min,r.max,o.totalWidth,"X"),this.Hp(o,a.min,a.max,o.totalHeight,"Y"),o},Gp:function(e,t,i,n,r,a,o,s,l){var u=this.Ip(r,n,i,a,s,"X"),c=this.Ip(r,i,n,o,s,"Y");this.lp(e,u,c,s,this.s.label.call(this,s),l,t)},Ip:function(e,t,i,n,r,a){var o=this.s["X"==a?"xValue":"value"].call(this,r),s=e["valueFactor"+a],l=(parseFloat(o||0)-n.min)*s,u=e["unit"+a],c=i[a.toLowerCase()]-("X"==a?-1:1)*Math.floor(u*l);return 0>l&&(c=i[a.toLowerCase()]),o>n.max&&(c=t[a.toLowerCase()]),o<n.min&&(c=i[a.toLowerCase()]),c},Hp:function(e,t,i,n,r){var a=this.Ho(t,i);r=r||"",e["relValue"+r]=a[0],e["valueFactor"+r]=a[1],e["unit"+r]=e["relValue"+r]?n/e["relValue"+r]:10}}),webix.extend(webix.ui.chart,{presets:{simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",radius:2,borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},column:{color:"RAINBOW",gradient:!1,barWidth:45,radius:0,alpha:1,border:!0},stick:{barWidth:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",barWidth:70,gradient:"falling",radius:0,alpha:.5,border:!0}}}),webix.extend(webix.ui.chart,{$render_splineArea:function(e,t,i,n,r,a){var o,s,l,u,c,d,h,f,p,g,v,m,b,y,w=this.s,x=[];if(d=this.hp(e,t,i,n,r),c=w.eventRadius||Math.floor(d.cellWidth/2),l=[],t.length){for(p=i.x,s=0;s<t.length;s++)m=this.ip(t[s],i,n,d),(m||"0"==m)&&(f=s?d.cellWidth*s-.5+p:p,l.push({x:f,y:m,index:s}),a.addRect(t[s].id,[f-c-i.x,m-c-i.y,f+c-i.x,m+c-i.y],r));for(h=this.vp(l),s=0;s<l.length;s++)if(g=l[s].x,b=l[s].y,s<l.length-1){for(v=l[s+1].x,y=l[s+1].y,u=g;v>u;u++){var E=this.wp(u,g,s,h.a,h.b,h.c,h.d);E<i.y&&(E=i.y),E>n.y&&(E=n.y);var _=this.wp(u+1,g,s,h.a,h.b,h.c,h.d);_<i.y&&(_=i.y),_>n.y&&(_=n.y),x.push([u,E]),x.push([u+1,_])}x.push([v,y])}o=this.s.color.call(this,t[0]),x.length&&(x.push([v,n.y]),x.push([x[0][0],n.y])),e.globalAlpha=this.s.alpha.call(this,t[0]),e.fillStyle=o,e.beginPath(),this.Mo(e,x),e.fill(),e.lineWidth=1,e.globalAlpha=1,w.border&&(e.lineWidth=w.borderWidth||1,w.borderColor?e.strokeStyle=w.borderColor.call(this,t[0]):this.gp(e,o),e.beginPath(),x.splice(x.length-3),this.Mo(e,x),e.stroke())}}}),function(){function e(e){if(!e.BE){var i=e.s;i.cellWidth||(i.cellWidth=h),i.animateDuration||(i.animateDuration=d),i.offset=!1,e.BE=e.attachEvent("onBeforeRender",function(n,r){var a=e.no(e.bc,e.dc);l(e),o(n,a.start,a.end,i.cellWidth),"add"==r&&t(e)}),e.CE=e.attachEvent("onBeforeXAxis",function(t,i,n,r,a,o){return c(e,t,i,n,r,a,o),!1})}}function t(e){var t=e.s.cellWidth;e.DE!=t&&(e.DE=t,e.render()),e.DE=0,e.EE=null,window.requestAnimationFrame&&!document.hidden&&window.requestAnimationFrame(function(t){i(e,t)}),e.FE||(e.FE=e.attachEvent("onAfterRender",function(t){n(e,t)}))}function i(e,t){var n,r=e.s.animateDuration,a=e.s.cellWidth;a&&e.count()>1&&(e.EE||(e.EE=t),n=t-e.EE,e.DE=Math.min(Math.max(n/r*a,1),a),e.render(),r>n&&window.requestAnimationFrame(function(t){i(e,t)}))}function n(e,t){function i(e,i,o,s){var u=e.getCanvas(),d=e.Zn,h=e.Wn,f=e.AE;if(c&&(t.length<n||(t.length-1)*l>o-i)?(d.style.left=-c+"px",t.length>1&&(a(h,c,f),u.clearRect(0,0,i+c,d.offsetHeight),u.clearRect(o+c,0,d.offsetWidth,d.offsetHeight))):(d.style.left="0px",s||c==l||u.clearRect(i+(t.length-1)*l-l+c,0,d.offsetWidth,d.offsetHeight)),h.length>1&&c&&c!=l){var p=h.length-1;r(f,h[p])&&(p-=1),h[p].style.display="none"}}var n=e.count(),o=e.no(e.bc,e.dc),l=e.s.cellWidth,c=e.DE||0,d=t.length<n||(t.length-1)*l>o.end.x-o.start.x;s(e,function(e,t){i(t,o.start.x,o.end.x,"x"==e)}),u(e,o,d?c:0)}function r(e,t){return"axis_x"===e&&-1!==t.className.indexOf("webix_axis_title_x")}function a(e,t,i){if(e.length){webix.html.remove(e[0]);for(var n=1;n<e.length;n++)r(i,e[n])||(e[n].style.left=e[n].offsetLeft-t+"px")}}function o(e,t,i,n){if(n&&e.length){var r=Math.ceil((i.x-t.x)/n);e.length>r+1&&e.splice(0,e.length-r-1)}}function s(e,t){if(e.canvases){for(var i=0;i<e.go.length;i++)e.canvases[i]&&t(i,e.canvases[i]);e.canvases.x&&t("x",e.canvases.x)}}function l(e){s(e,function(t,i){i._n(e.bc+2*e.s.cellWidth,e.dc)})}function u(e,t,i){e.w.t.style.left=t.start.x-i+"px",e.w.t.style.width=t.end.x-t.start.x+i+"px"}function c(e,t,i,n,r,a,o){var s,l,u,c,d=e.s,h=n.x-.5,f=parseInt(o?o:r.y,10)+.5,p=r.x;if(!d.dynamic)return!1;for(u=(i.length-1)*a>p-h||i.length<e.count(),l=0;l<i.length;l++)c=h+l*a,s=u?l>1:!!l,c=Math.ceil(c)-.5,e.xo(c,f,i[l],s),l&&d.xAxis.lines.call(e,i[l])&&e.yo(t,c,r.y,n.y,i[l]);e.canvases.x.renderTextAt(!0,!1,h,r.y+d.padding.bottom-3,d.xAxis.title,"webix_axis_title_x",r.x-n.x),e.zo(t,h,f,p+(u?e.DE:0),f,d.xAxis.color,1)}var d=400,h=30;webix.extend(webix.ui.chart,{dynamic_setter:function(t){return t&&e(this),t}})}(),webix.protoUI({name:"calendar",defaults:{date:new Date,select:!1,navigation:!0,monthSelect:!0,weekHeader:!0,weekNumber:!1,skipEmptyWeeks:!1,calendarHeader:"%F %Y",calendarWeekHeader:"W#",events:webix.Date.isHoliday,minuteStep:5,icons:!1,timepickerHeight:30,headerHeight:70,dayTemplate:function(e){return e.getDate()},width:260,height:250},dayTemplate_setter:webix.template,calendarHeader_setter:webix.Date.dateToStr,calendarWeekHeader_setter:webix.Date.dateToStr,calendarTime_setter:function(e){return this._w=e,webix.Date.dateToStr(e)},date_setter:function(e){return this.Jp(e)},maxDate_setter:function(e){return this.Jp(e)},minDate_setter:function(e){return this.Jp(e)},minTime_setter:function(e){return"string"==typeof e&&(e=webix.i18n.parseTimeFormatDate(e),e=[e.getHours(),e.getMinutes()]),e},maxTime_setter:function(e){return"string"==typeof e&&(e=webix.i18n.parseTimeFormatDate(e),e=[e.getHours(),e.getMinutes()]),e},fF:function(){var e="focus"+(webix.env.isIE?"in":"");webix.env.touch||webix.UE(this.$view,e,webix.bind(function(e){var t=e.target.className,i=-1!==t.indexOf("webix_cal_day")?"webix_cal_day":-1!==t.indexOf("webix_cal_block")?"webix_cal_block":"";if(new Date-webix.UIManager.XE>300&&new Date-webix.UIManager.lH>100&&i){var n=e.relatedTarget;if(n&&!webix.isUndefined(n.className)){var r="webix_cal_day"==i?this.gF(e.target):this.hF(e.target);this.ID(r)}}},this),{capture:!webix.env.isIE})},$init:function(){this.x.className+=" webix_calendar",this.x.setAttribute("role","region"),this.x.setAttribute("aria-label",webix.i18n.aria.calendar),this.Kp={},this.UG={},this.Np=0,this.fF(),this.attachEvent("onKeyPress",this.DD),this.attachEvent("onAfterZoom",function(e){e>=0&&this.$view.querySelector(".webix_cal_month_name").blur()})},type_setter:function(e){return"time"==e?(this.jq=!0,this.Np=-1):"year"==e&&(this.NC=!0),e},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&this.render()},$getSize:function(e,t){if(this.s.cellHeight){var i=this.Op(this.s.date);this.s.height=this.s.cellHeight*i.Sp+(webix.skin.$active.calendarHeight||70)}return webix.ui.view.prototype.$getSize.call(this,e,t)},moveSelection:function(e,t,i){if(!this.config.master){var n=this.getSelectedDate();this.config.multiselect&&(n=n[0]);var r=webix.Date.copy(n||this.getVisibleDate());this.ID(r,e,i)}},ID:function(e,t,i){var n=this.aq[this.Np].LD(e,t,this);if(i!==!1){var r=this.x.querySelector("."+n+"[tabindex='0']");r&&r.focus()}},Op:function(e,t){if(!this.Pp||t){var i=e.getMonth(),n=e.getFullYear(),r=new Date(n,i+1,1),a=webix.Date.weekStart(new Date(n,i,1)),o=Math.round((r.valueOf()-a.valueOf())/864e5),s=this.s.skipEmptyWeeks?Math.ceil(o/7):6;this.Pp={Qp:i,Rp:a,zc:r,Sp:s}}return this.Pp},$skin:function(){webix.skin.$active.calendar&&(webix.skin.$active.calendar.width&&(this.defaults.width=webix.skin.$active.calendar.width),webix.skin.$active.calendar.height&&(this.defaults.height=webix.skin.$active.calendar.height),webix.skin.$active.calendar.headerHeight&&(this.defaults.headerHeight=webix.skin.$active.calendar.headerHeight),webix.skin.$active.calendar.timepickerHeight&&(this.defaults.timepickerHeight=webix.skin.$active.calendar.timepickerHeight))},Tp:function(e){for(var t=this.Op(e),i=this.s,n=[],r=[],a=this.bc-36,o=this.dc-this.s.headerHeight-10-(this.s.timepicker||this.ax?this.s.timepickerHeight:0),s=i.weekNumber?8:7,l=0;s>l;l++)r[l]=Math.ceil(a/(s-l)),a-=r[l];for(var u=t.Sp,c=0;u>c;c++)n[c]=Math.ceil(o/(u-c)),o-=n[c];return[r,n]},icons_setter:function(e){e?"object"==typeof e?this.ax=e:this.ax=this.Sx:this.ax=null},ax:[],Sx:[{template:function(){return"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>"+webix.i18n.calendar.today+"</span>"},on_click:{webix_cal_icon_today:function(){this.setValue(new Date),this.callEvent("onTodaySet",[this.getSelectedDate()])}}},{template:function(){return"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>"+webix.i18n.calendar.clear+"</span>"},on_click:{webix_cal_icon_clear:function(){this.setValue(""),this.callEvent("onDateClear",[this.getSelectedDate()])}}}],refresh:function(){this.render()},render:function(){this.Np=0,this.Up=!1;var e=this.s;if(this.isVisible(e.id)){this.Vp=webix.Date.datePart(new Date),this.callEvent("onBeforeRender",[]);var t=this.s.date,i=this.Op(t,!0),n=this.Tp(t),r=n[0],a=n[1],o="<div class='webix_cal_month'><span role='button' tabindex='0' aria-live='assertive' aria-atomic='true' class='webix_cal_month_name"+(this.s.monthSelect?"":" webix_readonly")+"'>"+e.calendarHeader(t)+"</span>";if(e.navigation&&(o+="<div role='button' tabindex='0' aria-label='"+webix.i18n.aria.navMonth[0]+"' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='"+webix.i18n.aria.navMonth[1]+"' class='webix_cal_next_button'></div>"),o+="</div>",e.weekHeader&&(o+="<div class='webix_cal_header' aria-hidden='true'>"+this.Wp(r)+"</div>"),o+="<div class='webix_cal_body'>"+this.Xp(r,a,i)+"</div>",(this.s.timepicker||this.ax)&&(o+="<div class='webix_cal_footer'>",this.s.timepicker&&(o+=this.Yp(t)),this.ax&&(o+=this.bx()),o+="</div>"),this.w.innerHTML=o,"time"==this.s.type){var s=this.s.date;s&&("string"==typeof s?t=webix.i18n.parseTimeFormatDate(s):webix.isArray(s)&&(t.setHours(s[0]),t.setMinutes(s[1]))),this.yt(-1,t)}else"month"==this.s.type?this.yt(1,t):"year"==this.s.type&&this.yt(2,t);this.callEvent("onAfterRender",[])}},bx:function(e){for(var t="<div class='webix_cal_icons'>",i=this.ax,n=0;n<i.length;n++){if(i[n].template){var r="function"==typeof i[n].template?i[n].template:webix.template(i[n].template);t+=r.call(this,e)}i[n].on_click&&webix.extend(this.on_click,i[n].on_click)}return t+="</div>"},Yp:function(e){var t=this.s.calendarTime||webix.i18n.timeFormatStr,i="";if(this.s.master){var n=webix.copy(webix.$$(this.s.master).s.value);webix.Date.equal(n.end,e)&&(n.start=n.end);for(var r in n)i+="<div role='button' tabindex='0' class='webix_range_time_"+r+" webix_cal_time'><span class='webix_icon fa-clock-o'></span> "+t(n[r])+"</div>"}else i="<div role='button' tabindex='0' class='webix_cal_time"+(this.ax?" webix_cal_time_icons":"")+"'><span class='webix_icon fa-clock-o'></span> "+t(e)+"</div>";return i},Wp:function(e){var t=this.s,i="",n=0;t.weekNumber&&(n=1,i+="<div class='webix_cal_week_header' style='width: "+e[0]+"px;' >"+t.calendarWeekHeader()+"</div>");for(var r=webix.Date.startOnMonday?1:0,a=0;7>a;a++){var o=(r+a)%7,s=webix.i18n.calendar.dayShort[o];i+="<div day='"+o+"' style='width: "+e[a+n]+"px;' >"+s+"</div>"}return i},blockDates_setter:function(e){return webix.toFunctor(e,this.$scope)},Zp:function(e,t){var i="";return webix.Date.equal(e,this.Vp)&&(i+=" webix_cal_today"),this.sz(e)||(i+=" webix_cal_day_disabled"),this.VG(e)&&(i+=" webix_cal_select"),e.getMonth()!=t.Qp&&(i+=" webix_cal_outside"),this.s.events&&(i+=" "+(this.s.events(e)||"")),i+=" webix_cal_day"},Xp:function(e,t,i){for(var n=this.s,r="",a=webix.Date.datePart(webix.Date.copy(i.Rp)),o=n.weekNumber?1:0,s=webix.Date.getISOWeek(webix.Date.add(a,2,"day",!0)),l=(this.s.minDate||new Date(1,1,1),this.s.maxDate||new Date(9999,1,1),0);l<t.length;l++){r+="<div class='webix_cal_row' style='height:"+t[l]+"px;line-height:"+t[l]+"px'>",o&&(!a.getMonth()&&a.getDate()<7&&(s=webix.Date.getISOWeek(webix.Date.add(a,2,"day",!0))),r+="<div class='webix_cal_week_num' aria-hidden='true' style='width:"+e[0]+"px'>"+s+"</div>");for(var u=o;u<e.length;u++){var c=this.Zp(a,i),d=this.s.dayTemplate.call(this,a),h=this.VG(a),f="";"object"==typeof d?(f=d.aria||f,d=d.text):f=webix.Date.dateToStr(webix.i18n.aria.dateFormat)(a),r+="<div day='"+u+"' role='gridcell' "+(a.getMonth()!=i.Qp?"aria-hidden='true'":"")+" aria-label='"+f+"' tabindex='"+(h?"0":"-1")+"' aria-selected='"+(h?"true":"false")+"' class='"+c+"' style='width:"+e[u]+"px'><span aria-hidden='true' class='webix_cal_day_inner'>"+d+"</span></div>",a=webix.Date.add(a,1,"day"),a.getHours()&&(a=webix.Date.datePart(a))}r+="</div>",s++}return r},$p:function(e,t,i){var n=this.s.date;t||(t=this.aq[this.Np]._p),this.Np||(n=webix.Date.copy(n),n.setDate(1));var r=webix.Date.add(n,e*t,"month",!0);this.bq(n,r)},bq:function(e,t){this.callEvent("onBeforeMonthChange",[e,t])&&(this.Np?this.cq(t):this.showCalendar(t),this.callEvent("onAfterMonthChange",[t,e]))},aq:{"-2":{lz:function(e){var t=this.s,i=t.date,n=!1,r=t.minTime?t.minTime[0]:0,a=t.maxTime?t.maxTime[0]+(t.maxTime[1]?1:0):24,o=t.minTime&&i.getHours()==r?t.minTime[1]:0,s=t.maxTime&&t.maxTime[1]&&i.getHours()==a-1?t.maxTime[1]:60;if(this.s.blockTime){var l=webix.Date.copy(i);l.setMinutes(e),n=this.s.blockTime(l)}return o>e||e>=s||n},dq:function(e,t){e.setMinutes(t)},TD:function(e,t,i){if(!this.lz.call(i,e.getMinutes()))return e;var n=i.s.minuteStep,r=webix.Date.add(e,"right"==t?n:-n,"minute",!0);return e.getHours()===r.getHours()?this.TD(r,t,i):void 0}},"-1":{lz:function(e){var t=this.s,i=t.date,n=t.minTime?t.minTime[0]:0,r=t.maxTime?t.maxTime[0]+(t.maxTime[1]?1:0):24;if(n>e||e>=r)return!0;if(t.blockTime){var a=webix.Date.copy(i);a.setHours(e);for(var o=t.minTime&&e==n?t.minTime[1]:0,s=t.maxTime&&t.maxTime[1]&&e==r-1?t.maxTime[1]:60,l=o;s>l;l+=t.minuteStep)if(a.setMinutes(l),!t.blockTime(a))return!1;return!0}},dq:function(e,t){e.setHours(t)},LD:function(e,t,i){var n,r,a=i.s.minuteStep;return"bottom"===t||"top"===t?(e.setHours("bottom"===t?23:0),e.setMinutes("bottom"===t?55:0),e.setSeconds(0),e.setMilliseconds(0),n=e):"left"===t||"right"===t?(r="right"===t?a:-a,"left"===t&&e.getMinutes()<a&&(r=60-a),"right"===t&&e.getMinutes()>=60-a&&(r=a-60),r-=e.getMinutes()%a,n=i.aq[-2].TD(webix.Date.add(e,r,"minute"),t,i)):"up"===t||"down"===t?(r="down"===t?1:-1,"down"===t&&23===e.getHours()&&(r=-23),"up"===t&&0===e.getHours()&&(r=23),n=this.TD(webix.Date.add(e,r,"hour"),t,i)):t===!1&&(n=this.TD(e,t,i)),i.selectDate(n,!1),n&&(i.cq(n),
i.selectDate(n,!1)),"webix_cal_block"+("left"===t||"right"===t?"_min":"")},TD:function(e,t,i){if(!this.lz.call(i,e.getHours()))return e;var n=webix.Date.add(e,"down"==t?1:-1,"hour",!0);return e.getDate()===n.getDate()?this.TD(n,t,i):void 0}},0:{_p:1,LD:function(e,t,i){var n=e;return"pgup"===t||"pgdown"===t?n=webix.Date.add(e,"pgdown"===t?1:-1,"month"):"bottom"===t?n=new Date(e.getFullYear(),e.getMonth()+1,0):"top"===t?n=new Date(e.setDate(1)):"left"===t||"right"===t?n=webix.Date.add(e,"right"===t?1:-1,"day"):("up"===t||"down"===t)&&(n=webix.Date.add(e,"down"===t?1:-1,"week")),i.sz(n)||(n=i.TD(e,t)),n&&i.selectDate(n,!0),"webix_cal_day"}},1:{lz:function(e,t){var i,n,r=!1,a=t.s.minDate||null,o=t.s.maxDate||null,s=t.s.date.getFullYear();return a&&o&&(i=a.getFullYear(),n=o.getFullYear(),(i>s||s==i&&a.getMonth()>e||s>n||s==n&&o.getMonth()<e)&&(r=!0)),r},Jv:function(e,t){return e<t.s.minDate?e=webix.Date.copy(t.s.minDate):e>t.s.maxDate&&(e=webix.Date.copy(t.s.maxDate)),e},eq:function(e){return e.getFullYear()},fq:function(e){return webix.i18n.calendar.monthShort[e]},dq:function(e,t){t!=e.getMonth()&&e.setDate(1),e.setMonth(t)},_p:12,LD:function(e,t,i){var n=e;return"pgup"===t||"pgdown"===t?n=webix.Date.add(e,"pgdown"===t?1:-1,"year"):"bottom"===t?n=new Date(e.setMonth(11)):"top"===t?n=new Date(e.setMonth(0)):"left"===t||"right"===t?n=webix.Date.add(e,"right"===t?1:-1,"month"):("up"===t||"down"===t)&&(n=webix.Date.add(e,"down"===t?4:-4,"month")),i.sz(n)||(n=i.TD(e,t)),n&&(i.cq(n),i.selectDate(n,!1)),"webix_cal_block"}},2:{lz:function(e,t){e+=t.gq;var i=!1,n=t.s.minDate,r=t.s.maxDate;return n&&r&&(n.getFullYear()>e||r.getFullYear()<e)&&(i=!0),i},Jv:function(e,t){return e<t.s.minDate?e=webix.Date.copy(t.s.minDate):e>t.s.maxDate&&(e=webix.Date.copy(t.s.maxDate)),e},eq:function(e,t){var i=e.getFullYear();return t.gq=i=i-i%10-1,i+" - "+(i+10+1)},fq:function(e,t){return t.gq+e},dq:function(e,t,i){e.setFullYear(i.gq+t)},_p:120,LD:function(e,t,i){var n=e;return"pgup"===t||"pgdown"===t?n=webix.Date.add(e,"pgdown"===t?10:-10,"year"):"bottom"===t?n=new Date(e.setYear(i.gq+10)):"top"===t?n=new Date(e.setYear(i.gq)):"left"===t||"right"===t?n=webix.Date.add(e,"right"===t?1:-1,"year"):("up"===t||"down"===t)&&(n=webix.Date.add(e,"down"===t?4:-4,"year")),i.sz(n)||(n=i.TD(e,t)),n&&(i.cq(n),i.selectDate(n,!1)),"webix_cal_block"}}},mz:function(){var e,t,i;if(t=this.aq[-1].lz.call(this,this.s.date.getHours()))for(e=0;24>e;e++)if(!this.aq[-1].lz.call(this,e)){this.s.date.setHours(e);break}if(i=this.aq[-2].lz.call(this,this.s.date.getMinutes()))for(e=0;60>e;e+=this.s.minuteStep)if(!this.aq[-2].lz.call(this,e)){this.s.date.setMinutes(e);break}},cq:function(e){var t,i,n,r,a,o,s,l,u,c,d,h="";if(t=this.s,a=t.weekHeader?2:1,c=this.aq[this.Np],o=this.w.childNodes,e&&(t.date=e),l=t.type,this.Up||(this.hq=this.w.offsetHeight-t.headerHeight,"year"!=l&&"month"!=l?this.hq-=t.timepickerHeight:this.ax&&(this.hq-=10),this.iq=o[a].offsetWidth,this.Up=1),this.jq){n=this.hq/6;var f=6,p=this._w||webix.i18n.timeFormat,g=p.match(/%([a,A])/);for(g&&f++,u=parseInt((this.iq-3)/f,10),h+="<div class='webix_time_header'>"+this.kq(u,g)+"</div>",h+="<div  class='webix_cal_body' style='height:"+this.hq+"px'>",this.mz(),h+="<div class='webix_hours'>",s=t.date.getHours(),d=webix.Date.copy(t.date),r=0;24>r;r++){if(i="",g&&r%4===0){var v=r?12==r?webix.i18n.pm[0]:"":webix.i18n.am[0];h+="<div class='webix_cal_block_empty"+i+"' style='"+this.lq(u,n)+"clear:both;'>"+v+"</div>"}this.aq[-1].lz.call(this,r)?i+=" webix_cal_day_disabled":s==r&&(i+=" webix_selected"),d.setHours(r),h+="<div aria-label='"+webix.Date.dateToStr(webix.i18n.aria.hourFormat)(d)+"' role='gridcell' tabindex='"+(s==r?"0":"-1")+"' aria-selected='"+(s==r?"true":"false")+"' class='webix_cal_block"+i+"' data-value='"+r+"' style='"+this.lq(u,n)+(r%4!==0||g?"":"clear:both;")+"'>"+webix.Date.toFixed(g?r&&12!=r?r%12:12:r)+"</div>"}for(h+="</div>",h+="<div class='webix_minutes'>",s=t.date.getMinutes(),d=webix.Date.copy(t.date),r=0;60>r;r+=t.minuteStep)i="",this.aq[-2].lz.call(this,r)?i=" webix_cal_day_disabled":s==r&&(i=" webix_selected"),d.setMinutes(r),h+="<div aria-label='"+webix.Date.dateToStr(webix.i18n.aria.minuteFormat)(d)+"' role='gridcell' tabindex='"+(s==r?"0":"-1")+"' aria-selected='"+(s==r?"true":"false")+"' class='webix_cal_block webix_cal_block_min"+i+"' data-value='"+r+"' style='"+this.lq(u,n)+(r%2===0?"clear:both;":"")+"'>"+webix.Date.toFixed(r)+"</div>";h+="</div>",h+="</div>",h+="<div  class='webix_time_footer'>"+this.mq()+"</div>",this.w.innerHTML=h}else{var m=o[0].childNodes,b=webix.i18n.aria["nav"+(1==this.Np?"Year":"Decade")];for(m[0].innerHTML=c.eq(t.date,this),m[1].setAttribute("aria-label",b[0]),m[2].setAttribute("aria-label",b[1]),n=this.hq/3,u=this.iq/4,this.sz(t.date)&&(s=1==this.Np?t.date.getMonth():t.date.getFullYear()),r=0;12>r;r++){i=s==(1==this.Np?r:c.fq(r,this))?" webix_selected":"",c.lz(r,this)&&(i+=" webix_cal_day_disabled");var y=webix.i18n.aria[(1==this.Np?"month":"year")+"Format"];h+="<div role='gridcell' aria-label='"+webix.Date.dateToStr(y)(t.date)+"' tabindex='"+(-1!==i.indexOf("selected")?"0":"-1")+"' aria-selected='"+(-1!==i.indexOf("selected")?"true":"false")+"' class='webix_cal_block"+i+"' data-value='"+r+"' style='"+this.lq(u,n)+"'>"+c.fq(r,this)+"</div>"}a-1&&(o[a-1].style.display="none"),o[a].innerHTML=h,"year"!=l&&"month"!=l&&(o[a+1]?o[a+1].innerHTML=this.mq():this.w.innerHTML+="<div  class='webix_time_footer'>"+this.mq()+"</div>"),o[a].style.height=this.hq+"px"}},lq:function(e,t){return"width:"+e+"px; height:"+t+"px; line-height:"+t+"px;"},mq:function(){return"<input type='button' style='width:100%' class='webix_cal_done' value='"+webix.i18n.calendar.done+"'>"},kq:function(e,t){var i=e*(t?5:4),n=2*e;return"<div class='webix_cal_hours' style='width:"+i+"px'>"+webix.i18n.calendar.hours+"</div><div class='webix_cal_minutes' style='width:"+n+"px'>"+webix.i18n.calendar.minutes+"</div>"},yt:function(e,t){var i=this.Np;this.callEvent("onBeforeZoom",[e,i])&&(this.Np=e,e?this.cq(t):this.showCalendar(t),this.callEvent("onAfterZoom",[e,i]))},Jv:function(e){return!this.sz(e)&&this.aq[this.Np].Jv&&(e=this.aq[this.Np].Jv(e,this)),e},nq:function(e){var t=this.hF(e),i=this.Np-(this.NC?0:1);if(t=this.Jv(t),this.sz(t)){this.yt(i,t);var n=this.s.type;("month"==n||"year"==n)&&this.zt(t)}},zt:function(e,t){this.callEvent("onBeforeDateSelect",[e])&&(this.selectDate(e,!0,t),this.callEvent("onDateSelect",[e]),this.callEvent("onAfterDateSelect",[e]))},gF:function(e){var t=webix.html.index(e)-(this.s.weekNumber?1:0),i=webix.html.index(e.parentNode),n=webix.Date.add(this.Op().Rp,t+7*i,"day",!0);return this.s.timepicker&&(n.setHours(this.s.date.getHours()),n.setMinutes(this.s.date.getMinutes())),n},hF:function(e){var t=1*e.getAttribute("data-value"),i=-1!=e.className.indexOf("webix_cal_block_min")?this.Np-1:this.Np,n=this.s.date,r=webix.Date.copy(n);return this.aq[i].dq(r,t,this),r},on_click:{webix_cal_prev_button:function(e,t,i){this.$p(-1)},webix_cal_next_button:function(e,t,i){this.$p(1)},webix_cal_day_disabled:function(){return!1},webix_cal_outside:function(){return!!this.s.navigation&&void 0},webix_cal_day:function(e,t,i){var n=this.gF(i),r="touch"===this.s.multiselect||e.ctrlKey||e.metaKey;this.zt(n,r)},webix_cal_time:function(e){if(this.aq[this.Np-1]){this.jq=!0;var t=this.Np-1;this.yt(t)}},webix_range_time_start:function(){webix.$$(this.s.master).UD="start"},webix_range_time_end:function(){webix.$$(this.s.master).UD="end"},webix_cal_done:function(e){var t=webix.Date.copy(this.s.date);t=this.Jv(t),this.zt(t)},webix_cal_month_name:function(e){if(this.jq=!1,2!=this.Np&&this.s.monthSelect){var t=Math.max(this.Np,0)+1;this.yt(t)}},webix_cal_block:function(e,t,i){if(this.jq){if(-1!==i.className.indexOf("webix_cal_day_disabled"))return!1;var n=this.hF(i);this.cq(n)}else-1==i.className.indexOf("webix_cal_day_disabled")&&this.nq(i)}},Jp:function(e,t){return e?("string"==typeof e&&(e=t?webix.Date.strToDate(t)(e):webix.i18n.parseFormatDate(e)),e):webix.Date.datePart(new Date)},sz:function(e){var t=this.s.blockDates&&this.s.blockDates.call(this,e),i=this.s.minDate,n=this.s.maxDate,r=i>e||e>n;return!t&&!r},TD:function(e,t){var i="top"===t||"left"===t||"pgup"===t||"up"===t?-1:1,n=webix.Date.add(e,i,"day",!0);if(this.sz(n))return n;var r;return 0===this.Np?r=e.getMonth()===n.getMonth():1===this.Np?r=e.getFullYear()===n.getFullYear():2===this.Np&&(r=n.getFullYear()>this.gq&&n.getFullYear()<this.gq+10),r?this.TD(n,t):void 0},showCalendar:function(e){e=this.Jp(e),this.s.date=e,this.render(),this.resize()},VG:function(e){return e&&this.UG[e.valueOf()]},getSelectedDate:function(){var e=[];for(var t in this.UG)e.push(webix.Date.copy(this.UG[t]));return this.config.multiselect?e:e[0]||null},getVisibleDate:function(){return webix.Date.copy(this.s.date)},setValue:function(e,t){this.selectDate(e,!0)},getValue:function(e){var t=this.getSelectedDate();return e&&(t=webix.Date.dateToStr(e)(t)),t},selectDate:function(e,t,i){if(e&&i&&this.config.multiselect||(this.UG={}),e){webix.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=this.Jp(e[n]),a=webix.Date.datePart(webix.Date.copy(r)).valueOf();if(this.UG[a]&&i?delete this.UG[a]:this.UG[a]=r,!this.config.multiselect)break}}e&&t&&this.showCalendar(e[0]),t!==!1&&this.render(),this.callEvent("onChange",[e])},locate:function(){return null}},webix.KeysNavigation,webix.MouseEvents,webix.ui.view,webix.EventSystem),webix.protoUI({name:"property",$init:function(){this.w.className+=" webix_property",this.w.setAttribute("role","listbox"),this.Ns=[]},defaults:{nameWidth:100,editable:!0},on_render:{checkbox:function(e,t){return"<input type='checkbox' class='webix_property_check' "+(e?"checked":"")+">"},color:function(e,t){return'<div class="webix_property_col_val"><div class=\'webix_property_col_ind\' style="background-color:'+(e||"#FFFFFF")+';"></div><span>'+e+"</span></div>"}},on_edit:{label:!1},ad:"webix_f_id",on_click:{webix_property_check:function(e){var t=this.locate(e);return this.getItem(t).value=!this.getItem(t).value,this.callEvent("onCheck",[t,this.getItem(t).value]),!1}},on_dblclick:{},registerType:function(e,t){if(t.template&&(this.on_render[e]=t.template),t.editor&&(this.on_edit[e]=t.editor),t.click)for(var i in t.click)this.on_click[i]=t.click[i]},elements_setter:function(e){this.oq={};for(var t=0;t<e.length;t++){var i=e[t];"multiselect"==i.type&&(i.optionslist=!0),i.id=i.id||webix.uid(),i.label=i.label||"",i.value=i.value||"",this.oq[i.id]=t,this.template=this.Et(e[t])}return e},showItem:function(e){webix.RenderStack.showItem.call(this,e)},locate:function(e){return webix.html.locate(arguments[0],this.ad)},getItemNode:function(e){return this.y.childNodes[this.oq[e]]},getItem:function(e){return this.s.elements[this.oq[e]]},ii:function(e){var t=this.getItem(e).type;if("checkbox"==t)return"inline-checkbox";var i=this.on_edit[t];return i!==!1&&(i||t)},li:function(e){return this.getItem(e)},ui:function(e,t,i){var n=this.oq[e.id],r=this.s.elements;if(i){for(var a=n+1;a<r.length;a++)if(t.call(this,r[a].id))return r[a].id}else for(var a=n-1;a>=0;a--)if(t.call(this,r[a].id))return r[a].id;return null},updateItem:function(e,t){t=t||{};var i=this.getItem(e);i&&webix.extend(i,t,!0),this.refresh()},ug:function(e){var t=this.getItemNode(e);return{left:t.offsetLeft+this.s.nameWidth,top:t.offsetTop,height:t.firstChild.offsetHeight,width:this.pq,parent:this.w}},setValues:function(e,t){this.s.complexData&&(e=webix.CodeParser.collapseNames(e)),t||this.qq();for(var i in e){var n=this.getItem(i);n&&(n.value=e[i])}this.rq=e,this.refresh()},qq:function(){for(var e=this.s.elements,t=0;t<e.length;t++)e[t].value=""},getValues:function(){for(var e=webix.clone(this.rq||{}),t=0;t<this.s.elements.length;t++){var i=this.s.elements[t];"label"!=i.type&&(e[i.id]=i.value)}return this.s.complexData&&(e=webix.CodeParser.expandNames(e)),e},refresh:function(){this.render()},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&(this.pq=this.bc-this.s.nameWidth,this.render())},$getSize:function(e,t){if(this.s.autoheight){var i=this.s.elements.length;this.s.height=Math.max(this.type.height*i,this.s.minHeight||0)}return webix.ui.view.prototype.$getSize.call(this,e,t)},jb:function(){var e=[],t=this.s.elements;if(t)for(var i=0;i<t.length;i++){var n=t[i];n.css&&"object"==typeof n.css&&(n.css=webix.html.createCss(n.css));var r='<div webix_f_id="'+n.id+'"'+("label"!==n.type?'role="option" tabindex="0"':"")+' class="webix_property_line '+(n.css||"")+'">';if("label"==n.type)e[i]=r+"<div class='webix_property_label_line'>"+n.label+"</div></div>";else{var a,o=this.on_render[n.type],s="<div class='webix_property_label' style='width:"+this.s.nameWidth+"px'>"+n.label+"</div><div class='webix_property_value' style='width:"+this.pq+"px'>";a=n.collection||n.options?n.template(n,n.value):n.format?n.format(n.value):n.value,o&&(a=o.call(this,n.value,n)),e[i]=r+s+a+"</div></div>"}}return e.join("")},type:{height:24,templateStart:webix.template(""),templateEnd:webix.template("</div>")},$skin:function(){this.type.height=webix.skin.$active.propertyItemHeight||24}},webix.AutoTooltip,webix.EditAbility,webix.MapCollection,webix.MouseEvents,webix.Scrollable,webix.SingleRender,webix.AtomDataLoader,webix.EventSystem,webix.ui.view),webix.protoUI({name:"colorboard",defaults:{template:'<div style="width:100%;height:100%;background-color:{obj.val}"></div>',palette:null,height:220,width:220,cols:12,rows:10,minLightness:.15,maxLightness:1,navigation:!0},$init:function(e){webix.UE(this.x,"click",webix.bind(function(e){var t=webix.html.locate(e,"webix_val");this.setValue(t),this.callEvent("onItemClick",[this.s.value,e]),this.callEvent("onSelect",[this.s.value])},this)),this.$view.setAttribute("role","grid"),this.x.setAttribute("aria-readonly","true")},sq:function(e){var t=this.s.palette;e=(e||"").toUpperCase();for(var i=0,n=t.length;n>i;i++)for(var r=0,a=t[i].length;a>r;r++)if(t[i][r].toUpperCase()==e)return{row:i,col:r};return null},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&this.render()},getValue:function(){return this.s.value},re:function(){return this.x.firstChild},setValue:function(e){e&&"#"!=e.toString().charAt(0)&&(e="#"+e);var t=this.s.value;return this.s.value=e,this.$setValue(e,t),e},uq:null,vq:function(){if(this.uq&&this.uq.parentNode)return this.uq;var e=this.uq=document.createElement("div");return e.className="webix_color_selector",this.x.lastChild.appendChild(e),e},$setValue:function(e,t){if(this.isVisible(this.s.id)){var i,n,r,a,o,s=0,l=0;if(t&&(r=this.sq(t)),r||(r={row:0,col:0}),this.x.lastChild.childNodes[r.row].childNodes[r.col].setAttribute("tabindex","-1"),r=this.sq(e),r&&(i=this.x.lastChild.childNodes[r.row].childNodes[r.col]),!(i&&i.parentNode&&i.parentNode.parentNode))return this.uq&&(this.uq.style.left="-100px"),void this.x.lastChild.childNodes[0].childNodes[0].setAttribute("tabindex","0");a=i.parentNode,s=i.offsetLeft-a.offsetLeft,l=-(this.$height-(i.offsetTop-a.parentNode.offsetTop)),i.setAttribute("tabindex","0"),i.setAttribute("aria-selected","true"),i.setAttribute("tabindex","0"),i.setAttribute("aria-selected","true"),n=this.vq(),o=["left:"+s+"px","top:"+l+"px","width:"+i.style.width,"height:"+i.style.height].join(";"),"undefined"!=typeof n.style.cssText?n.style.cssText=o:n.setAttribute("style",o)}},wq:function(e){function t(e){return webix.color.toHex(e,2)}function i(e,i,n){return"#"+t(Math.floor(e))+t(Math.floor(i))+t(Math.floor(n))}function n(e,t,i){var n,a,o;if(t){var s=.5>i?i*(1+t):i+t-i*t,l=2*i-s;n=r(l,s,e+1/3),a=r(l,s,e),o=r(l,s,e-1/3)}else n=a=o=i;return{r:255*n,g:255*a,b:255*o}}function r(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>=i?t:2/3>i?e+(t-e)*(2/3-i)*6:e}function a(e){for(var t=[],n=255,r=n/e,a=0;e>a;a++)n=Math.round(n>0?n:0),t.push(i(n,n,n)),n-=r;return t[t.length-1]="#000000",t}var o=[],s=e.rows-1,l=1/e.cols,u=(e.maxLightness-e.minLightness)/s,c=null;o.push(a(e.cols));for(var d=0,h=e.minLightness;s>d;d++){c=[];for(var f=0,p=0;f<e.cols;f++){var g=n(p,1,h);c.push(i(g.r,g.g,g.b)),p+=l}o.push(c),h+=u}this.s.palette=o},moveSelection:function(e,t,i){var n,r,a=this.getValue();if(a&&(n=this.sq(a)),n||(n={row:0,col:0}),n&&("up"==e||"down"==e?n.row=n.row+("up"==e?-1:1):"right"==e||"left"==e?n.col=n.col+("right"==e?1:-1):"top"==e?n.row=n.col=0:"bottom"==e&&(n.row=this.x.lastChild.querySelectorAll(".webix_color_row").length-1,n.col=this.x.lastChild.childNodes[n.row].childNodes.length-1),n.row>=0&&(r=this.x.lastChild.childNodes[n.row].childNodes[n.col]),r&&(a=r.getAttribute("webix_val"),this.setValue(a),this.callEvent("onSelect",[this.s.value]),i!==!1))){var o=this.x.querySelector("div[tabindex='0']");o&&o.focus()}},render:function(){function e(e,t,i){for(var a='<div class="webix_color_row" role="row">',o=0;o<e.length;o++)r.width=t[o],r.height=i,r.val=e[o],a+=n(r);return a+="</div>"}if(this.isVisible(this.s.id)){this.s.palette||this.wq(this.s);var t=this.s.palette;this.callEvent("onBeforeRender",[]);for(var i=this.s,n=webix.template('<div role=\'gridcell\' tabindex=\'-1\' aria-label="{obj.val}" style="width:{obj.width}px;height:{obj.height}px;" webix_val="{obj.val}">'+(i.template||"")+"</div>"),r={width:0,height:0,val:0},a=this.$width,o=this.$height,s=[],l='<div class="webix_color_palette"role="rowgroup">',u="object"==typeof t[0]?t[0]:t,c=0;c<u.length;c++)s[c]=Math.floor(a/(u.length-c)),a-=s[c];if("object"==typeof t[0])for(var d=0;d<t.length;d++){var h=Math.floor(o/(t.length-d));o-=h;var f=t[d];l+=e(f,s,h)}else l+=e(t,s,o);l+="</div>",this.x.innerHTML=l,this.uq=null,this.s.value?this.$setValue(this.s.value):this.x.lastChild.childNodes[0].childNodes[0].setAttribute("tabindex","0"),this.callEvent("onAfterRender",[])}},refresh:function(){this.render()}},webix.KeysNavigation,webix.ui.view,webix.EventSystem),webix.protoUI({name:"daterange",defaults:{button:!1,icons:!1,calendarCount:2,borderless:!1},$init:function(e){e.calendar=e.calendar||{},e.value=this.SD(e.value),delete e.calendar.type,this.x.className+=" webix_daterange",this.Np=this.ne[e.calendar.type]||0;for(var t=[],i=webix.skin.$active.calendar,n=i&&i.height?i.height:250,r=i&&i.width?i.width:250,a=webix.extend({view:"calendar",width:r,height:n},e.calendar||{},!0),o=e.calendarCount=0===this.Np?e.calendarCount||this.defaults.calendarCount:this.defaults.calendarCount,s=(a.css?a.css+" ":"")+"webix_range_",l=e.value.start||new Date,u=0;o>u;u++){var c=webix.Date.add(l,this.VD[this.Np]*u,"month",!0);webix.extend(a,{events:webix.bind(this.WD,this),css:s+(1===o?"":0===u?"0":u+1==o?"N":"1"),timepicker:0===this.Np&&e.timepicker,borderless:!0,date:c,master:e.id},!0),t.push(webix.copy(a))}e.rows=[{type:"clean",cols:t},this.XD(e,r*o)],e.height=e.height||a.height+(e.icons||e.button?35:0),e.type="line",this.$ready.push(this.av),webix.event(this.$view,"keydown",webix.bind(function(e){this.DD(e.which||e.keyCode,e)},this))},value_setter:function(e){return this.SD(e)},getValue:function(){return this.s.value},setValue:function(e,t){e=this.SD(e),this.s.value=e;var i=e.start||e.end||new Date;if(!t){this.YD[0].showCalendar(e.start);for(var n=1;n<this.YD.length;n++)this.YD[n].s.date=i,this.ZD(this.YD[n],1,n)}this.callEvent("onChange",[e]),this.refresh()},refresh:function(){for(var e=(this.s.value,0);e<this.YD.length;e++)if(this.YD[e].Np===this.Np){webix.html.removeCss(this.YD[e].$view,"webix_cal_timepicker"),webix.html.removeCss(this.YD[e].$view,"webix_range_timepicker");var t=this.$D(this.YD[e].getVisibleDate());if(t.start||t.end){if(this.YD[e].s.date=t.start||t.end,this.s.timepicker){var i="webix_"+(t.start&&t.end?"range":"cal")+"_timepicker";webix.html.addCss(this.YD[e].$view,i)}}else webix.Date.datePart(this.YD[e].s.date);this.YD[e].refresh()}},addToRange:function(e){var t=this._D(this.Jp(e));this.setValue(t)},ax:[{template:function(){return"<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>"+webix.i18n.calendar.today+"</span>"},on_click:{webix_cal_icon_today:function(){this.addToRange(new Date),this.callEvent("onTodaySet",[this.getValue()])}}},{template:function(){return"<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>"+webix.i18n.calendar.clear+"</span>"},on_click:{webix_cal_icon_clear:function(){this.setValue(""),this.callEvent("onDateClear",[])}}}],bx:function(e){if(e){e="object"==typeof e?e:this.ax;for(var t={css:"webix_cal_footer ",borderless:!0,height:30,template:"<div class='webix_cal_icons'>",onClick:{}},i=0;i<e.length;i++){if(e[i].template){var n="function"==typeof e[i].template?e[i].template:webix.template(e[i].template);t.template+=n.call(this)}if(e[i].on_click)for(var r in e[i].on_click)t.onClick[r]=webix.bind(e[i].on_click[r],this)}return t.template+="</div>",t.width=webix.html.getTextSize(t.template).width+30,t}return{width:0}},XD:function(e,t){var i={view:"button",value:webix.i18n.calendar.done,minWidth:100,maxWidth:230,align:"center",height:30,click:function(){this.getParentView().getParentView().hide()}},n=this.bx(e.icons),r={css:"webix_range_footer",cols:[{width:n.width}]};return(e.button||e.icons)&&2*n.width+i.minWidth>t&&(r.cols[0].width=0),r.cols.push(e.button?i:{}),r.cols.push(n),r},ne:{time:-1,month:1,year:2},VD:{0:1,1:12,2:120},SD:function(e){return e||(e={start:null,end:null}),e.start||e.end||(e={start:e}),e.end=this.Jp(e.end)||null,e.start=this.Jp(e.start)||null,(e.end&&e.end<e.start||!e.start)&&(e.end=[e.start,e.start=e.end][0]),e},Jp:function(e,t){return"string"==typeof e&&(e=t?webix.Date.strToDate(t)(e):webix.i18n.parseFormatDate(e)),isNaN(1*e)?null:e},WD:function(e){var t=this.s.value,i=t.start?webix.Date.datePart(webix.Date.copy(t.start)):null,n=t.end?webix.Date.datePart(webix.Date.copy(t.end)):null,r=webix.Date.datePart(e),a="";r>=i&&n&&n>=r&&(a="webix_cal_range"),webix.Date.equal(r,i)&&(a="webix_cal_range_start"),webix.Date.equal(r,n)&&(a="webix_cal_range_end");var o=webix.Date.isHoliday(e)+" "||"";return a+" "+o},av:function(){var e=this.YD=this.getChildViews()[0].getChildViews(),t=this;this.aE={};for(var i=0;i<e.length;i++)this.aE[e[i].config.id]=i,e[i].attachEvent("onBeforeDateSelect",function(e){return t.bE(this,e)}),e[i].attachEvent("onBeforeZoom",function(e){return t.cE(this,e)}),(0===i||i===e.length-1)&&(e[i].attachEvent("onAfterMonthChange",webix.bind(this.dE,this)),e[i].attachEvent("onAfterZoom",function(e,i){t.eE(this,e,i)}));this.s.timepicker&&this.refresh()},cE:function(e,t){var i=this.fE(e.config.id);if(t>=0&&i>0&&i!==this.YD.length-1)return!1;if(-1===t){var n=this.$D(e.getVisibleDate());n.start&&n.end&&(e.s.date=n[this.UD])}return!0},dE:function(e,t){var i=e>t?1:-1,n=e>t?this.YD[this.YD.length-1]:this.YD[0],r=n.aq[n.Np]._p;this.gE(i,r,n),this.refresh()},eE:function(e,t,i){var n=e.aq[e.Np]._p,r=this.fE(e.config.id),a=0===r?1:-1;if(this.YD[r+a]){var o=this.YD[r+a].s.date;if(i>t&&t>=0){var s=0;if(1===t){var l=o.getFullYear();(this.Np||-1===a&&11===o.getMonth()||1===a&&0===o.getMonth())&&(l-=a),s=e.s.date.getFullYear()-l}else if(0===t){var u=o.getMonth()-a;(12===u||-1==u)&&(u=-1===u?11:0),s=e.s.date.getMonth()-u}this.gE(s,n,e),this.refresh()}}},ZD:function(e,t,i){e.blockEvent(),e.Np>=0&&e.$p(t,i),e.unblockEvent()},fE:function(e){return this.aE[e]},gE:function(e,t,i){for(var n=0;n<this.YD.length;n++){var r=this.YD[n];i&&r.config.id===i.config.id||this.ZD(r,e,t)}},$D:function(e){var t=this.s.value,i={};return t.start&&t.start.getYear()===e.getYear()&&t.start.getMonth()===e.getMonth()&&(i.start=t.start),t.end&&t.end.getYear()===e.getYear()&&t.end.getMonth()===e.getMonth()&&(i.end=t.end),i},hE:function(e,t){e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds())},_D:function(e,t){var i=webix.copy(this.s.value);if(0===this.Np||webix.isUndefined(t))i.start&&!i.end?i.end=e:(i.start=e,i.end=null);else{var n=t?"end":"start";i[n]=e}return i},bE:function(e,t){if(this.callEvent("onBeforeDateSelect",[t])){var i=this.s.value;if(e.Np<0){var n,r=webix.copy(this.$D(t));n=r.start&&r.end?r[this.UD]:r.start||r.end,n&&this.hE(n,t),e.Np=0,i=webix.extend(webix.copy(i),r,!0)}else{var a=e.getVisibleDate(),o=this.fE(e.config.id);if(t.getMonth()!==a.getMonth()&&(0===o||o===this.YD.length-1)){var s=t>a?1:-1;this.gE(s,1)}i=this._D(t,o)}e.Np!==this.Np&&e.showCalendar(t),this.setValue(i,!0),this.callEvent("onAfterDateSelect",[this.getValue()])}return!1}},webix.ui.layout),webix.protoUI({name:"daterangesuggest",defaults:{type:"daterange",body:{view:"daterange",icons:!0,button:!0,borderless:!0}},getValue:function(){return this.getRange().getValue()},setValue:function(e){this.getRange().setValue(webix.copy(e))},getRange:function(){return this.getBody()},getButton:function(){return this.getBody().getChildViews()[1].getChildViews()[1]},iE:function(e,t){var i=webix.$$(this.s.master);i?(i.setValue(e),t&&this.hide()):this.setValue(e)},_d:function(){var e=this.getRange();e.attachEvent("onAfterDateSelect",webix.bind(function(e){this.iE(e)},this)),e.attachEvent("onDateClear",webix.bind(function(e){this.iE(e)},this)),e.attachEvent("onTodaySet",webix.bind(function(e){this.iE(e)},this))}},webix.ui.suggest),webix.protoUI({$cssName:"datepicker",name:"daterangepicker",$init:function(){this.s.value={}},Je:function(){var e=this.s;e.suggest?e.popup=e.suggest:e.popup||(e.popup=e.suggest=this.suggest_setter({view:"daterangesuggest",body:{timepicker:e.timepicker,calendarCount:e.calendarCount,height:250+(e.button||e.icons?30:0)}})),this.ze=function(){}},$prepareValue:function(e){return e=e||{},e.start=webix.ui.datepicker.prototype.$prepareValue.call(this,e.start?e.start:null),e.end=webix.ui.datepicker.prototype.$prepareValue.call(this,e.end?e.end:null),e},$compareValue:function(e,t){var i=webix.ui.datepicker.prototype.$compareValue,n=i.call(this,e.start,t.start),r=i.call(this,e.end,t.end);return n&&r},$setValue:function(e){e=e||{};var t=webix.$$(this.s.popup.toString());t.getRange(),this.s.text=(e.start?this.YE(e.start):"")+(e.end?" - "+this.YE(e.end):""),this.ND()},$render:function(e){e.value=this.$prepareValue(e.value),this.$setValue(e.value)},getValue:function(){var e=this.s.type,t="time"==e,i=(this.config.timepicker,this.s.value);if(this.s.stringResult){var n=webix.i18n.parseFormatStr;return t&&(n=webix.i18n.parseTimeFormatStr),!this.Hx||"month"!=e&&"year"!=e||(n=this.Hx),this.kE(n,i)}return i||null},kE:function(e,t){var i=webix.$$(this.s.popup.toString()),n=i.getRange();return t=webix.copy(n.SD(t)),t.start&&(t.start=e(t.start)),t.end&&(t.end=e(t.end)),t}},webix.ui.datepicker),webix.protoUI({name:"resizer",defaults:{width:7,height:7},$init:function(e){this.x.className+=" webix_resizer";var t=this.getParentView().Cc;webix.UE(this.x,webix.env.mouse.down,this.xq,{bind:this}),webix.event(document.body,webix.env.mouse.up,this.yq,{bind:this});var i=this.zq();this.Aq=!1,this.Bq=i,this.Cq="x"==i?"width":"height","x"==i?e.height=0:e.width=0,t>0?(this.x.className+=" webix_resizer_v"+i,this.x.style.marginRight="-"+t+"px","x"==i?e.width=t:e.height=t,this.$nospace=!0):this.x.className+=" webix_resizer_"+i,this.x.innerHTML="<div class='webix_resizer_content'></div>","y"==i&&t>0&&(this.x.style.marginBottom="-"+(e.height||this.defaults.height)+"px"),this.x.setAttribute("tabindex","-1"),this.x.setAttribute("aria-grabbed","false")},xq:function(e){var t=this.Dq();if(t&&!this.s.disabled){e=e||event,this.Aq=!0,this.Pl=webix.html.pos(e),this.Eq=[],this.x.setAttribute("aria-grabbed","true");for(var i=0;2>i;i++)t[i].$view.setAttribute("aria-dropeffect","move");this.x.setAttribute("aria-dropeffect","move"),this.Fq(e,t[0])}},yq:function(){this.Aq=!1,this.Pl=!1},Fq:function(e,t){var i,n,r,a,o;e=e||event,i=this.Bq,this.getParentView().x.style.position="relative",r=webix.html.offset(this.x),a=webix.html.offset(this.getParentView().x),o=r[i]-a[i],n=webix.html.offset(t.$view)[i]-webix.html.offset(this.getParentView().$view)[i],this.Rl=[i,t,o,n],this.Gq=new webix.ui.resizearea({container:this.getParentView().x,dir:i,eventPos:this.Pl[i],start:o-1,height:this.$height,width:this.$width,border:1,margin:this.getParentView()["_padding"+i.toUpperCase()]}),this.Gq.attachEvent("onResizeEnd",webix.bind(this.Hq,this)),this.Gq.attachEvent("onResize",webix.bind(this.Iq,this)),webix.html.addCss(document.body,"webix_noselect",1)},zq:function(){return this.getParentView().mc?"y":"x"},Iq:function(){var e,t,i,n,r,a,o,s,l,u;if(this.Rl)for(e=this.Dq(),r=this.Rl[0],n=this.Gq.Jl-this.Rl[2],l=this.Jq(e,r,n),u=e[0]["$"+this.Cq]+e[1]["$"+this.Cq],o="y"==r?["minHeight","maxHeight"]:["minWidth","maxWidth"],a=0;2>a;a++){t=e[a].s,i=a?-n:n;var c=t[o[0]],d=t[o[1]];if(i>0&&d&&d<=l[a]||0>i&&(c||3)>=l[a])return this.Eq[a]=i>0?d:c||3,s=this.Kq(e,r),void(this.Gq.Dl.style["y"==r?"top":"left"]=this.Rl[3]+s[0]+"px");l[a]<3?this.Gq.Dl.style["y"==r?"top":"left"]=this.Rl[3]+a*u+1+"px":this.Eq[a]=null}},Dq:function(){var e,t;for(e=this.getParentView().q,t=0;t<e.length;t++)if(e[t]==this)return!e[t-1]||e[t-1].s.$noresize?null:!e[t+1]||e[t+1].s.$noresize?null:[e[t-1],e[t+1]]},Hq:function(e){if("undefined"!=typeof e){var t,i,n,r,a,o=this.getParentView().mc;if(this.Lq=null,this.Rl){if(i=this.Rl[0],n=e-this.Rl[2],t=this.Dq(),t[0]&&t[1]){a=this.Mq(t,i,n);for(var r=0;2>r;r++){var s=t[r].$getSize(0,0);if(o?s[2]==s[3]:Math.abs(s[1]-s[0])<3)t[r].s[this.Cq]=a[r],t[r].tc&&t[r].tc(this.Cq,a[r],o);else{var l=t[r].$view[o?"offsetHeight":"offsetWidth"];t[r].s.gravity=a[r]/l*t[r].s.gravity}}t[0].resize();for(var r=0;2>r;r++)t[r].callEvent&&t[r].callEvent("onViewResize",[]),t[r].$view.removeAttribute("aria-dropeffect");webix.callEvent("onLayoutResize",[t])}this.Rl=!1}this.Rl=!1,this.Aq=!1,this.Eq=null,webix.html.removeCss(document.body,"webix_noselect"),this.x.setAttribute("aria-grabbed","false"),this.x.removeAttribute("aria-dropeffect")}},Kq:function(e){var t,i,n;return n=e[0]["$"+this.Cq]+e[1]["$"+this.Cq],this.Eq[0]?(t=this.Eq[0],i=n-t):this.Eq[1]&&(i=this.Eq[1],t=n-i),[t,i]},Jq:function(e,t,i){for(var n=[],r="height"==this.Cq?"offsetHeight":"offsetWidth",a=0;2>a;a++)n[a]=e[a].$view[r]+(a?-1:1)*i;return n},Mq:function(e,t,i){var n,r,a;if(this.Eq[0]||this.Eq[1])r=this.Kq(e,t);else for(r=this.Jq(e,t,i),n=0;2>n;n++)r[n]<0&&(a=r[0]+r[1],r[n]=1,r[1-n]=a-1);return r}},webix.MouseEvents,webix.Destruction,webix.ui.view),webix.protoUI({name:"multiview",defaults:{animate:{}},setValue:function(e){webix.$$(e).show()},getValue:function(){return this.getActiveId()},$init:function(){this.Mh=0,this.mc=1,this.x.style.position="relative",this.x.className+=" webix_multiview",this.Nq=[]},Oq:function(e,t){var i=webix.$$(e);i.Pq||(i.Qq=[],i.Pq={}),i.Pq[t]||(i.Pq[t]=!0,i.Qq.push(t))},Rq:function(e){var t=webix.$$(e);if(this.s.keepViews&&(t.x.style.display=""),this.Nq[this.Nq.length-2]!=e?(10==this.Nq.length&&this.Nq.splice(0,1),this.Nq.push(e)):this.Nq.splice(this.Nq.length-1,1),t.Pq){for(var i=0;i<t.Qq.length;i++){var n=webix.$$(t.Qq[i]);n&&n.render()}t.Qq=[],t.Pq={}}},addView:function(){var e=webix.ui.baselayout.prototype.addView.apply(this,arguments);return this.s.keepViews?webix.$$(e).x.style.display="none":webix.html.remove(webix.$$(e).x),e},Vx:function(e,t){if(e==this.Mh){var i=Math.max(e-1,0);this.q[i]&&(this.Wh=!1,this.fc(this.q[i],!1))}e<this.Mh&&this.Mh--},Fb:function(){},kc:function(e){e=e||this.nc;for(var t=0;t<e.length;t++)e[t].Ob=this.s.borderless?{top:1,left:1,right:1,bottom:1}:this.s.Ob||{};webix.ui.baselayout.prototype.kc.call(this,e);for(var t=1;t<this.q.length;t++)this.s.keepViews?this.q[t].x.style.display="none":webix.html.remove(this.q[t].x);for(var t=0;t<e.length;t++){var i=this.q[t];if(!i.q||i.Gc){var n=i.s.Ob;n.top&&(i.x.style.borderTopWidth="0px"),n.left&&(i.x.style.borderLeftWidth="0px"),n.right&&(i.x.style.borderRightWidth="0px"),n.bottom&&(i.x.style.borderBottomWidth="0px"),i.x.setAttribute("role","tabpanel")}}this.Rq(this.getActiveId())},cells_setter:function(e){this.nc=e},Sq:function(e,t){var i=(this.s.animate||{}).direction,n="top"==i||"bottom"==i;return t>e?n?"bottom":"right":n?"top":"left"},fc:function(e,t){var i=this.getParentView();if(i&&i.getTabbar&&i.getTabbar().setValue(e.s.$id||e.s.id),
this.Wh)return webix.delay(this.fc,this,[e,t],100);for(var n=-1,r=0;r<this.q.length;r++)if(this.q[r]==e){n=r;break}if(!(0>n||n==this.Mh)){var a=this.q[this.Mh],o=this.q[n];if(a.$getSize(0,0),(t||"undefined"==typeof t)&&webix.animate.isSupported()&&this.s.animate){var s=webix.extend({},this.s.animate);this.s.keepViews&&(s.keepViews=!0),s.direction=this.Sq(n,this.Mh),s=webix.Settings.E(t||{},s);var l=webix.animate.formLine(o.x,a.x,s);o.$getSize(0,0),o.$setSize(this.bc,this.dc);var u=s.callback;s.callback=function(){webix.animate.breakLine(l,this.s.keepViews),this.Wh=!1,u&&u.call(this),u=s.master=s.callback=null,this.resize()},s.master=this,this.Mh=n,this.Rq(this.getActiveId()),webix.animate(l,s),this.Wh=!0}else this.s.keepViews?a.x.style.display="none":(webix.html.remove(a.x),this.x.appendChild(this.q[r].x)),this.Mh=n,a.resize(),this.Rq(this.getActiveId());o.callEvent&&(o.callEvent("onViewShow",[]),webix.ui.each(o,this.Lw)),this.callEvent("onViewChange",[a.s.id,o.s.id])}},$getSize:function(e,t){if(!this.q.length)return webix.ui.baseview.prototype.$getSize.call(this,0,0);var i=this.q[this.Mh].$getSize(0,0);if(this.s.fitBiggest)for(var n=0;n<this.q.length;n++)if(n!=this.Mh)for(var r=this.q[n].$getSize(0,0),a=0;4>a;a++)i[a]=Math.max(i[a],r[a]);var o=webix.ui.baseview.prototype.$getSize.call(this,0,0);return o[1]>=1e5&&(o[1]=0),o[3]>=1e5&&(o[3]=0),o[0]=(o[0]||i[0])+e,o[1]=(o[1]||i[1])+e,o[2]=(o[2]||i[2])+t,o[3]=(o[3]||i[3])+t,o},$setSize:function(e,t){this.q.length&&(this.lc=[e,t],webix.ui.baseview.prototype.$setSize.call(this,e,t),this.q[this.Mh].$setSize(e,t))},isVisible:function(e,t){return t&&t!=this.getActiveId()?(e&&this.Oq(t,e),!1):webix.ui.view.prototype.isVisible.call(this,e,this.s.id)},getActiveId:function(){return this.q.length?this.q[this.Mh].s.id:null},back:function(e){if(e=e||1,this.callEvent("onBeforeBack",[this.getActiveId(),e])){if(this.Nq.length>e){var t=this.Nq[this.Nq.length-e-1];return webix.$$(t).show(),t}return null}return null}},webix.ui.baselayout),webix.protoUI({name:"form",defaults:{type:"form",autoheight:!0},Tq:-1,_f:"webix_form",ag:!0,$init:function(){this.x.setAttribute("role","form")},$getSize:function(e,t){this.cc&&!this.s.width&&(e+=webix.ui.scrollSize);var i=webix.ui.layout.prototype.$getSize.call(this,e,t);return(this.s.scroll||!this.s.autoheight)&&(i[2]=this.s.height||this.s.minHeight||0,i[3]+=1e5),i}},webix.ui.toolbar),function(){var e={};for(var t in webix.UIManager.nb)e[webix.UIManager.nb[t]]=t;var i={9:"tab",38:"up",40:"down",37:"left",39:"right"};webix.patterns={phone:{mask:"+# (###) ###-####",allow:/[0-9]/g},card:{mask:"#### #### #### ####",allow:/[0-9]/g},date:{mask:"####-##-## ##:##",allow:/[0-9]/g}},webix.extend(webix.ui.text,{$init:function(t){if((t.pattern||t.format&&!this.format_setter)&&(this.attachEvent("onKeyPress",function(t,n){if(!(n.ctrlKey||n.altKey||this.nH)){if(t>105&&112>t&&(t-=64),e[t]&&8!==t&&46!==t)return void(i[t]||webix.html.preventEvent(n));webix.html.preventEvent(n),this.$C(n,t)}}),this.attachEvent("onAfterRender",this.ye),this.getText=function(){return this.getInputNode().value},this.VC=function(e,t){return t===!1?this._C(e):this.aD(e)},t.format)){var n=webix.Number.getConfig(t.format);this.nH=[function(e){return webix.Number.parse(e,n)},function(e){return webix.Number.format(e,n)}]}},pattern_setter:function(e){var t=webix.patterns[e]||e;return"string"==typeof t&&(t={mask:t}),t.allow=t.allow||/[A-Za-z0-9]/g,this.bD(t),t},cD:function(){this.config.validate=this.config.validate||webix.bind(function(){var e=this.getText(),t=e.replace(this.dD,""),i=(e.toString().match(this.eD)||[]).join("");return i.length==t.length&&e.length==this.s.pattern.mask.length},this)},ye:function(){var e=webix.env.isIE8?"propertychange":"input";this.nH||webix.UE(this.getInputNode(),e,function(e){var t=(new Date).valueOf();this.$view.offsetWidth,(!this.fD||t-this.fD>100)&&(this.fD=t,this.$setValue(this.getText()))},{bind:this}),webix.UE(this.getInputNode(),"blur",function(e){this.Xy()},{bind:this})},bD:function(e){for(var t=e.mask,i={},n="",r=0,a=0;a<t.length;a++)"#"===t[a]?(i[a]=r,r++):(i[a]=!1,-1===n.indexOf(t[a])&&(n+="\\"+t[a]));this.eD=e.allow,this.dD=new RegExp("["+n+"]","g"),this.gD=i,this.cD()},$C:function(e,t){var i=this.getInputNode(),n=i.value,r=webix.html.getSelectionRange(i),a="";8==t||46==t?r.start==r.end&&(8==t?r.start--:r.end++):(a=String.fromCharCode(t),e.shiftKey||(a=a.toLowerCase())),n=n.substr(0,r.start)+a+n.substr(r.end),r=this.hD(a,n.length,r.start,t),this.iD=t,this.$setValue(n),webix.html.setSelectionRange(i,r)},hD:function(e,t,i,n){if(e&&e.match(this.eD)||8==n||46==n)i=e?i+1:i,i=this.jD(i,n);else if(t-1==i&&8!==n&&46!==n){var r=this.s.pattern.mask.indexOf("#",i);r>0&&(i+=r)}return i},jD:function(e,t){var i=e-1*(46!==t);return this.gD[i]===!1?(e+=8==t?-1:1,this.jD(e,t)):this.gD[e]===!1&&8!==t?this.jD(e+1,t)-1:e},_C:function(e){if(this.nH)return this.nH[0](e);e=e||"";var t=e.toString().match(this.eD)||[];return t.join("").replace(this.dD,"")},aD:function(e){if(this.nH)return this.nH[1](this.nH[0](e));var t=this._C(e),i=this.s.pattern.mask,n=this.s.pattern.mask,r=this.gD,a=!1,o=0,s=0,l=0;for(var u in r)if(r[u]!==!1){if(!a){o=1*u,s=r[u];var c=t[s]||"",d=t[s+1];i=(c?i.substr(0,o):"")+c+(c&&d?i.substr(o+1):""),d||(a=!0)}l++}var h=this.iD;if(h&&8!==h||!h&&l-1===s&&i.length<n.length)if(t){var f=o+1;if("#"!==n.charAt(f)&&i.length<n.length){var p=n.indexOf("#",f);0>p&&(p=n.length),i+=n.substr(f,p-f)}}else 46!==h&&(i+=n.substr(0,n.indexOf("#")));return this.iD=null,i}})}(),webix.protoUI({name:"gridsuggest",defaults:{type:"datatable",fitMaster:!1,width:0,body:{navigation:!0,autoheight:!0,autowidth:!0,select:!0},filter:function(e,t){var i=this.config.template(e);return 0===i.toString().toLowerCase().indexOf(t.toLowerCase())}},$init:function(e){e.body.columns||(e.body.autoConfig=!0),e.template||(e.template=webix.bind(this.bu,this))},bu:function(e,t){var i=this.getBody(),n=this.config.textValue||i.config.columns[0].id;return i.getText(e.id,n)}},webix.ui.suggest),webix.protoUI({name:"datasuggest",defaults:{type:"dataview",fitMaster:!1,width:0,body:{xCount:3,autoheight:!0,select:!0}}},webix.ui.suggest),webix.protoUI({name:"multiselect",$cssName:"richselect",defaults:{separator:","},Kt:function(e){var t=!webix.isArray(e)&&"object"==typeof e&&!e.name,i={view:"checksuggest",separator:this.config.separator,buttonText:this.config.buttonText,button:this.config.button};this.s.optionWidth?i.width=this.s.optionWidth:i.fitMaster=!0,t&&webix.extend(i,e,!0);var n=webix.ui(i),r=n.getList();return"string"==typeof e?r.load(e):t||r.parse(e),n.attachEvent("onShow",function(e,t,i){n.setValue(webix.$$(n.s.master).config.value)}),n},$setValue:function(e){if(this.se){var t=this.getPopup(),i="";t&&(i=t.setValue(e),"object"==typeof i&&(i=i.join(this.config.separator+" "))),this.s.text=i;var n=this.getInputNode();n.innerHTML=i||this.Yx()}},getValue:function(){return this.s.value||""}},webix.ui.richselect),webix.editors.multiselect=webix.extend({popupType:"multiselect"},webix.editors.richselect),webix.type(webix.ui.list,{name:"multilist",templateStart:webix.template('<div webix_l_id="#!id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>')},"default"),webix.type(webix.ui.list,{name:"checklist",templateStart:webix.template('<div webix_l_id="#!id#" {common.aria()} class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden; white-space:nowrap;">{common.checkbox()}'),checkbox:function(e,t){var i=e.$checked?"fa-check-square":"fa-square-o";return"<span role='checkbox' tabindex='-1' aria-checked='"+(e.$checked?"true":"false")+"' class='webix_icon "+i+"'></span>"},aria:function(e){return"role='option' tabindex='-1' "+(e.$checked?"aria-selected='true'":"")},template:webix.template("#value#")},"default"),webix.protoUI({name:"multisuggest",defaults:{separator:",",type:"layout",button:!0,width:0,filter:function(e,t){var i=this.getItemText(e.id);return i.toString().toLowerCase().indexOf(t.toLowerCase())>-1},body:{rows:[{view:"list",type:"multilist",borderless:!0,autoheight:!0,yCount:5,multiselect:"touch",select:!0,on:{onItemClick:function(e){var t=this.getParentView().getParentView();webix.delay(function(){t._y(e)})}}},{view:"button",click:function(){var e=this.getParentView().getParentView();e.setMasterValue({id:e.getValue()}),e.hide()}}]}},_y:function(e,t,i){var n=this.getValue(),r=i||webix.toArray(n?this.getValue().split(this.s.separator):[]),a=webix.$$(this.s.master);if(i||(r.find(e)<0?r.push(e):r.remove(e)),a)a.setValue(r.join(this.s.separator));else{var o=this.setValue(r);this.ae&&(this.ae.value=o.join(this.s.separator))}if(t){var s=this.getList().getItemNode(e).getElementsByTagName("SPAN");s&&s.length&&s[0].focus()}},Jt:function(e){return e.rows[0]},_d:function(){var e=this.getButton(),t=this.s.button?this.s.buttonText||webix.i18n.combo.select:0;if(e&&(t?(e.s.value=t,e.refresh()):e.hide()),this.s.selectAll)return this.getBody().getChildViews()[0].show();var i=this.getList();i.data.attachEvent("onAfterFilter",webix.bind(function(){return this.be()},this))},ke:function(){var e=this.getList(),t=this.getMasterValue();if(t&&(t=t.toString().split(this.config.separator),t[0]))for(var i=0;i<t.length;i++)e.exists(t[i])&&e.select(t[i],!0)},getButton:function(){return this.getBody().getChildViews()[1]},getList:function(){return this.getBody().getChildViews()[0]},setValue:function(e){var t=[],i=this.getList();if(i.unselect(),e&&(webix.isArray(e)||(e=e.toString().split(this.config.separator)),e[0]))for(var n=0;n<e.length;n++)i.getItem(e[n])&&(i.exists(e[n])&&i.select(e[n],!0),t.push(this.getItemText(e[n])));return this.s.value=e?e.join(this.config.separator):"",t},getValue:function(){return this.s.value}},webix.ui.suggest),webix.protoUI({name:"checksuggest",defaults:{button:!1,selectAll:!1,body:{rows:[{view:"checkbox",hidden:!0,customCheckbox:!1,borderless:!1,css:"webix_checksuggest_select_all",labelRight:webix.i18n.combo.selectAll,labelWidth:0,value:0,height:28,inputHeight:20,on:{onItemClick:function(e){for(var t=this.getParentView().getParentView(),i=t.getList(),n=i.data.order,r=0;r<n.length;r++){var a=i.getItem(n[r]);a.$checked=this.getValue()}var o=this.getValue()?[].concat(n):[];t._y(n[0],e,o),i.refresh()},onChange:function(){var e=this.$view.querySelector("label"),t=webix.i18n.combo;e.textContent=this.getValue()?t.unselectAll:t.selectAll},onAfterRender:function(){this.callEvent("onChange",[])}}},{view:"list",css:"webix_multilist",borderless:!0,autoheight:!0,yCount:5,select:!0,type:"checklist",on:{onItemClick:function(e,t){var i=this.getItem(e);i.$checked=i.$checked?0:1,this.refresh(e);var n=this.getParentView().getParentView();if(n.FG=new Date,n._y(e,t),n.config.selectAll)if(i.$checked){var r=(n.getValue()||"").split(",");r.length===this.count()&&n.getBody().q[0].setValue(1)}else n.getBody().q[0].setValue(0)}}},{view:"button",click:function(){var e=this.getParentView().getParentView();e.setMasterValue({id:e.getValue()}),e.hide()}}]}},Jt:function(e){return e.rows[1]},getButton:function(){return this.getBody().getChildViews()[2]},getList:function(){return this.getBody().getChildViews()[1]},$init:function(){this.dB={},this.$ready.push(this.eB)},eB:function(){var e=this.getList();if(e.config.dataFeed){var t=this;e.attachEvent("onAfterLoad",function(){t.setValue(t.s.value)}),e.getItem=function(e){return this.data.pull[e]||t.dB[e]}}this.config.master&&!this.config.selectAll&&this.getBody().getChildViews()[0].hide()},$enterKey:function(e,t){if(t.count&&t.count())if(e.isVisible()){var i=t.getSelectedId(!1,!0);i&&this._y(i),e.hide(!0)}else e.show(this.ae);else e.isVisible()&&e.hide(!0)},ke:function(){var e=this.getList();e.select&&e.unselect()},setValue:function(e){var t,i=this.getList(),n=[],r={},a=[];for(e=e||[],webix.isArray(e)?i.config.dataFeed&&(e=this.fB(e)):e=e.toString().split(this.config.separator),t=0;t<e.length;t++)r[e[t]]=1,i.getItem(e[t])&&(this.dB&&(this.dB[e[t]]=webix.copy(i.getItem(e[t]))),n.push(this.getItemText(e[t])));for(i.data.each(function(e){e.$checked?r[e.id]||(e.$checked=0,a.push(e.id)):r[e.id]&&(e.$checked=1,a.push(e.id))},this,!0),t=0;t<a.length;t++)i.refresh(a[t]);return this.s.value=e.length?e.join(this.config.separator):"",n},getValue:function(){return this.s.value},Rs:function(){var e,t;this.s.master&&(t=webix.$$(this.s.master),e=t.getInputNode()),e=e||this.ae,e&&e.focus()},fB:function(e){if(e&&webix.isArray(e)){for(var t=[],i=0;i<e.length;i++)e[i].id?(this.dB[e[i].id]=webix.copy(e[i]),t.push(e[i].id)):t.push(e[i]);e=t}return e}},webix.ui.multisuggest),webix.protoUI({name:"multicombo",$cssName:"text",defaults:{keepText:!1,separator:",",icon:!1,iconWidth:0,tagMode:!0,tagTemplate:function(e){return e.length?e.length+" item(s)":""},template:function(e,t){return t.yy(e,t)}},$init:function(){this.$view.className+=" webix_multicombo",this.attachEvent("onBeforeRender",function(){return this.zy||(this.zy=webix.skin.$active.inputHeight),!0}),this.attachEvent("onAfterRender",function(){this.ac=null}),this.IA=0},on_click:{webix_multicombo_delete:function(e,t,i){var n;return!this.s.readonly&&i&&(n=i.parentNode.getAttribute("optvalue"))&&this.Ay(n),!1}},_E:function(){var e=this.getInputNode().value;e&&this.s.newValues&&new Date-(this.getPopup().FG||0)>100&&this.HA(e),this.s.keepText||(this.xy=""),this.refresh()},Ay:function(e){var t=this.s.value,i=webix.$$(this.config.suggest);"string"==typeof t&&(t=t.split(this.s.separator)),t=webix.toArray(webix.copy(t)),t.remove(e),this.setValue(t.join(this.s.separator)),i&&i.s.selectAll&&i.getBody().q[0].setValue(0)},az:function(e){var t=webix.$$(this.config.suggest),i=t.getList(),n=i.getItem(e);if(n){var r=t.getValue();r&&"string"==typeof r&&(r=r.split(t.config.separator)),r=webix.toArray(r||[]),r.find(e)<0&&(r.push(e),t.setValue(r),this.setValue(t.getValue()))}},HA:function(e){var t,i=webix.$$(this.config.suggest),n=i.getList();if(e=e.replace(/^\s+|\s+$/g,""))for(var r in n.data.pull)i.getItemText(r)==e&&(t=r);!t&&e&&(t=n.add({id:e,value:e})),this.az(t)},Kt:function(e){var t=!webix.isArray(e)&&"object"==typeof e&&!e.name,i={view:"checksuggest",separator:this.config.separator,buttonText:this.config.buttonText,button:this.config.button},n=this;this.s.optionWidth&&(i.width=this.s.optionWidth),t&&webix.extend(i,e,!0);var r=webix.ui(i);this.s.optionWidth||(r.$customWidth=function(e){this.config.width=n.Ee(n.s)}),r.attachEvent("onBeforeShow",function(e,t,i){return this.s.master&&(this.setValue(webix.$$(this.s.master).config.value),webix.$$(this.s.master).getInputNode().value?(this.getList().refresh(),this.je=!0):this.getList().filter(),e.tagName&&"input"==e.tagName.toLowerCase())?(webix.ui.popup.prototype.show.apply(this,[e.parentNode,t,i]),!1):void 0});var a=r.getList();return"string"==typeof e?a.load(e):t||a.parse(e),r.be=function(){},r},yy:function(e,t){var i,n,r,a,o,s,l,u,c,d,h,f,p,g,v="",m="top"==this.s.labelPosition;return i="x"+webix.uid(),g=t.Ee(e),r=e.inputAlign||"left",l=this.zy-2*webix.skin.$active.inputPadding-2,o=this.xy||"",d="<ul class='webix_multicombo_listbox' style='line-height:"+l+"px'></ul>",s=Math.min(g,t.By||7),a="width: "+s+"px;height:"+l+"px;max-width:"+(g-20)+"px",p=e.readonly?" readonly ":"",n="<input id='"+i+"' role='combobox' aria-multiline='true' aria-label='"+webix.template.escape(e.label)+"' tabindex='0' type='text' class='webix_multicombo_input' "+p+" style='"+a+"' value='"+o+"'/>",u="<div class='webix_inp_static' onclick='' style='line-height:"+l+"px;width: "+g+"px;  text-align: "+r+";height:auto' >"+d+n+"</div>",c=t.$renderLabel(e,i),f=this.s.awidth-g-2*webix.skin.$active.inputPadding,h=(e.invalid?e.invalidMessage:"")||e.bottomLabel,h&&(v="<div class='webix_inp_bottom_label' style='width:"+g+"px;margin-left:"+Math.max(f,webix.skin.$active.inputPadding)+"px;'>"+h+"</div>"),m?c+"<div class='webix_el_box' style='width:"+this.s.awidth+"px; '>"+u+v+"</div>":"<div class='webix_el_box' style='width:"+this.s.awidth+"px; min-height:"+this.s.aheight+"px;'>"+c+u+v+"</div>"},Cy:function(){return this.re().getElementsByTagName("UL")[0]},oe:function(){var e=this.getPopup();if(e){var t=e?e.setValue(this.s.value):null;e.fB&&(this.s.value=e.fB(this.s.value));var i="",n=this.Cy(),r=t&&t.length;if(r){var a=this.zy-2*webix.skin.$active.inputPadding-8,o=this.s.value;if("string"==typeof o&&(o=o.split(this.s.separator)),this.s.tagMode)for(var s=0;s<t.length;s++){var l="<span>"+t[s]+"</span><span class='webix_multicombo_delete' role='button' aria-label='"+webix.i18n.aria.removeItem+"'>x</span>";i+="<li class='webix_multicombo_value' style='line-height:"+a+"px;' optvalue='"+o[s]+"'>"+l+"</li>"}else i+="<li class='webix_multicombo_tag' style='line-height:"+a+"px;'>"+this.s.tagTemplate(o)+"</li>"}n.innerHTML=i;var u=this.getInputNode();this.s.placeholder&&(r?(u.placeholder="",!u.value&&u.offsetWidth>20&&(u.style.width="20px")):u.value||(u.placeholder=this.s.placeholder,u.style.width=this.Ee(this.s)+"px")),!this.s.tagMode&&n.firstChild&&(u.style.width=this.lE()+"px")}this.Dy()},Ey:function(e){if(e=e||this.getInputNode())if(e.value.length){if(e.createTextRange){var t=e.createTextRange();t.moveStart("character",e.value.length),t.collapse(),t.select()}else if(e.selectionStart||"0"==e.selectionStart){var i=e.value.length;e.selectionStart=i,e.selectionEnd=i,e.focus()}}else e.focus()},Dy:function(){var e="top"==this.s.labelPosition,t=this.JA(),i=Math.max(t.offsetHeight+2*webix.skin.$active.inputPadding,this.zy);e&&(i+=this.le),i+=this.s.bottomPadding||0;var n=this.$getSize(0,0);if(i!=n[2]){var r=t.offsetHeight+(e?this.le:0);if(r==this.Fy?this.IA++:this.IA=0,this.IA>10)return!1;this.Fy=r;var a=this.getTopParentView();clearTimeout(a.kg),a.kg=webix.delay(function(){this.config.height=this.Fy+2*webix.skin.$active.inputPadding,this.resize(),this.Hy&&(this.Ey(this.getInputNode()),this.Hy=!1),this.bz&&(this.s.keepText?this.getInputNode().select():this.getInputNode().value="",this.bz=!1),(this.getPopup().isVisible()||this.Hy)&&this.getPopup().show(this.JA())},this)}this.bz&&this.getInputNode().select()},JA:function(){for(var e=this.re(),t=e.childNodes,i=0;i<t.length;i++)if(t[i].className&&-1!=t[i].className.indexOf("webix_inp_static"))return t[i];return e},getInputNode:function(){return this.re().getElementsByTagName("INPUT")[0]},$setValue:function(){this.se&&this.oe()},getValue:function(e){if("object"==typeof e&&e.options)return this.AD();var t=this.s.value;return t?"string"!=typeof t?t.join(this.s.separator):t:""},getText:function(){var e=this.s.value;if(!e)return"";"string"==typeof e&&(e=e.split(this.s.separator));for(var t=[],i=0;i<e.length;i++)t.push(this.getPopup().getItemText(e[i]));return t.join(this.s.separator)},AD:function(){var e,t,i,n=[],r=this.s.value;if(!r)return[];for("string"==typeof r&&(r=r.split(this.s.separator)),i=this.getPopup(),e=0;e<r.length;e++)t=i.getList().getItem(r[e])||(i.dB?i.dB[r[e]]:null),t&&n.push(t);return n},$setSize:function(e,t){var i=this.s;if(webix.ui.view.prototype.$setSize.call(this,e,t)){if(!e||!t)return;"top"==i.labelPosition&&(i.labelWidth=0),this.render()}},Iy:function(e){var t=document.createElement("span");t.className="webix_multicombo_input",t.style.visibility="visible",t.style.height="0px",t.innerHTML=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),document.body.appendChild(t);var i=t.offsetWidth+10;return document.body.removeChild(t),i},lE:function(){var e=this.Cy();return e.offsetWidth-e.firstChild.offsetWidth-17},De:function(){webix.UE(this.re(),"click",function(){this.getInputNode().focus()},{bind:this}),webix.UE(this.getInputNode(),"focus",function(){-1==this.re().className.indexOf("webix_focused")&&(this.re().className+=" webix_focused")},{bind:this}),webix.UE(this.getInputNode(),"blur",function(){this.re().className=this.re().className.replace(" webix_focused","")},{bind:this}),webix.UE(this.getInputNode(),"input",function(){!this.getInputNode().value&&this.xy&&(this.getInputNode().style.width="20px",this.By=20,this.xy="",this.Hy=!0,this.getPopup().show(this.JA()),this.Dy())},{bind:this}),webix.UE(this.getInputNode(),"keyup",function(e){var t,i,n=this.getInputNode();if(e=e||event,!this.s.placeholder||this.s.value||n.value?(i=t=this.Iy(n.value)+10,!this.s.tagMode&&this.Cy().firstChild&&(i=this.lE())):i=this.Ee(this.s),n.style.width=i+"px",t!=this.By?(this.s.keepText||13!=e.keyCode?this.xy=n.value:this.xy=!1,this.Hy=!0,this.By&&this.getPopup().show(this.JA()),this.By=t||i,this.Dy()):this.vA!=this.getPopup().$height&&this.getPopup().show(this.JA()),n.value.indexOf(this.s.separator)>-1&&this.s.tagMode){var r=n.value.replace(this.s.separator,"");if(r)if(this.s.newValues)this.HA(r);else{var a=this.getPopup().getItemId(r);a&&this.az(a)}this.s.keepText?(this.xy=r,n.value=r,this.bz=!0,this.Hy=!0,this.Dy()):n.value=""}},{bind:this}),webix.UE(this.getInputNode(),"keydown",function(e){if(this.bz=!1,this.isVisible()){e=e||event;var t=this.Cy().lastChild;if(this.vA=this.getPopup().$height,8==e.keyCode&&t&&(!this.getInputNode().value&&(new Date).valueOf()-(this.Jy||0)>100?(this.Hy=!0,this.Ay(t.getAttribute("optvalue"))):this.Jy=(new Date).valueOf()),13==e.keyCode||9==e.keyCode){var i=this.getInputNode(),n="",r=webix.$$(this.s.suggest),a=r.getList();a.getSelectedId()||(i.value&&(n=r.getSuggestion()),this.s.newValues?(13==e.keyCode&&(this.bz=!0),this.HA(i.value),this.s.keepText?this.xy=i.value:i.value=""):n&&(9==e.keyCode?(this.Hy=!1,this.xy="",this.By=10,i.value="",this.az(n)):(this.bz=!0,this.az(n),this.s.keepText?this.xy=i.value:i.value=""))),13==e.keyCode&&(this.bz=!0,this.Hy=!0,this.s.keepText?this.xy=i.value:i.value="")}}},{bind:this}),webix.$$(this.s.suggest).linkInput(this)}},webix.ui.richselect),webix.protoUI({name:"menu",Oh:"webix_menu",$init:function(e){this.data.qf=webix.bind(function(e){e.disabled&&this.data.addMark(e.id,"webix_disabled",!0,1,!0)},this),e.autowidth&&(this.KA=!0,delete e.autowidth),this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.Uq()},this)),this.attachEvent("onMouseMove",this.Vq),this.attachEvent("onMouseOut",function(e){this.Wq()&&"click"==this.s.openAction||!this.Xq&&e.relatedTarget&&this.Uq()}),this.attachEvent("onItemClick",function(e,t,i){var n=this.getItem(e);if(n){if(n.$template)return;var r=this.getTopMenu();if(!this.data.getMark(e,"webix_disabled")){if(!r.callEvent("onMenuItemClick",[e,t,i]))return void(t.showpopup=!0);this!=r&&r.Le(e,t,i),n.submenu||r.sH?(this!==r&&!webix.env.touch||"click"!=r.s.openAction||this.Yq(e,i),t.showpopup=!0):(r.Uq(!0),r.$q&&r.hide())}}}),this.attachEvent("onKeyPress",function(e,t){if(9===e)this.getTopMenu().Uq();else if(13===e||32===e){var i,n=this.getSelectedId();n&&(i=this.getItemNode(n)),i&&webix.html.triggerEvent(i,"MouseEvents","click")}}),this.data.attachEvent("onClearAll",function(){this._q=[]}),this.data._q=[],this.x.setAttribute("role","menubar")},sizeToContent:function(){if("y"==this.s.layout){var e=[],t=!1;this.data.each(function(i){e.push(this.jb(i)),i.submenu&&(t=!0)},this),this.config.width=webix.html.getTextSize(e,this.$view.className).width+16+2+(t?15:0),this.resize()}},getTopMenu:function(){for(var e=this;e.ar;)e=webix.$$(e.ar);return e},Rh:function(e){this.s.autoheight&&(e=this.count());for(var t=0,i=0;e>i;i++){var n=this.data.pull[this.data.order[i]];t+=n&&"Separator"==n.$template?4:this.type.height}return t},on_mouse_move:{},type:{css:"menu",width:"auto",aria:function(e,t,i){return'role="menuitem"'+(i&&i.webix_selected?' aria-selected="true" tabindex="0"':'tabindex="-1"')+(e.submenu||e.data?'aria-haspopup="true"':"")+(i&&i.webix_disabled?' aria-disabled="true"':"")},templateStart:function(e,t,i){if("Separator"===e.$template||"Spacer"===e.$template)return'<div webix_l_id="#id#" role="separator" tabindex="-1" class="webix_context_'+e.$template.toLowerCase()+'">';var n=(e.href?" href='"+e.href+"' ":"")+(e.target?" target='"+e.target+"' ":"");return webix.ui.list.prototype.type.templateStart(e,t,i).replace(/^<div/,"<a "+n)+((e.submenu||e.data)&&t.subsign?"<div class='webix_submenu_icon'></div>":"")},templateEnd:function(e,t,i){return"Separator"===e.$template||"Spacer"===e.$template?"</div>":"</a>"},templateSeparator:webix.template("<div class='sep_line'></div>"),templateSpacer:webix.template("<div></div>")},getMenu:function(e){if(this.data.pull[e])return this;for(var t in this.data.pull){var i=this.getItem(t);if(i.submenu){var n=this.br(i).getMenu(e);if(n)return n}}},getSubMenu:function(e){var t=this.getMenu(e),i=t.getItem(e);return i.submenu?t.br(i):null},getMenuItem:function(e){return this.getMenu(e).getItem(e)},br:function(e){var t=webix.$$(e.submenu);return t||(e.submenu=this.cr(e),t=webix.$$(e.submenu)),t},Vq:function(e,t,i){this.Wq()&&this.Yq(e,i)},Wq:function(){var e=this.getTopMenu();if("click"==e.s.openAction){if(webix.env.touch)return!1;var t=e.dr;return!(!t||!webix.$$(t).isVisible())}return!0},Yq:function(e,t){var i=this.getItem(e);if(i&&(this.Xq=null,this.dr&&i.submenu!=this.dr&&this.Uq(!0),i.submenu||i.data&&!this.config.hidden)){var n=this.br(i);if(this.data.getMark(e,"webix_disabled"))return;n.show(t,{pos:this.s.subMenuPos}),n.ar=this.s.id,this.dr=i.submenu}},disableItem:function(e){this.getMenu(e).addCss(e,"webix_disabled")},enableItem:function(e){this.getMenu(e).removeCss(e,"webix_disabled")},er:function(e,t){var i=this.data;i._q[e]!=t&&(i._q[e]=t,i.filter(function(e){return!i._q[e.id]}),this.resize())},hideItem:function(e){var t=this.getMenu(e);t&&t.er(e,!0)},showItem:function(e){var t=this.getMenu(e);return t?(t.er(e,!1),webix.ui.list.prototype.showItem.call(t,e)):void 0},Uq:function(e){if(this.dr){var t=webix.$$(this.dr);t.Uq&&t.Uq(e),(e||!t.gr)&&(t.hide(),this.dr=null)}},cr:function(e){var t={view:"submenu",data:e.submenu||e.data},i=this.getTopMenu().s.submenuConfig;i&&webix.extend(t,i,!0);var n=this.getMenuItem(e.id);n&&n.config&&webix.extend(t,n.config,!0);var r=webix.ui(t);return r.ar=this,r.s.id},OD:function(e,t,i){var n=this.getItem(e);if("Separator"==n.$template||"Spacer"==n.$template||this.data.getMark(e,"webix_disabled")){var r=this.getIndexById(e)+("up"==i?-1:1);return e=r>=0?this.getIdByIndex(r):null,e?this.OD(e,t,i):t}return e},$skin:function(){webix.ui.list.prototype.$skin.call(this),this.type.height=webix.skin.$active.menuHeight},defaults:{scroll:"",layout:"x",mouseEventDelay:100,subMenuPos:"bottom"}},webix.ui.list),webix.protoUI({name:"submenu",$init:function(){this.gd=webix.clone(this.hr),this.gd.A=this,this.attachEvent("onMouseOut",function(e){"click"!=this.getTopMenu().s.openAction&&(this.Xq||this.gr||!e.relatedTarget||this.hide())}),this.attachEvent("onMouseMoving",function(){this.ar&&(webix.$$(this.ar).Xq=!0)}),this.attachEvent("onBeforeShow",function(){this.getTopMenu().KA&&this.sizeToContent&&!this.isVisible()&&this.sizeToContent()}),this.y.setAttribute("role","menu")},$skin:function(){webix.ui.menu.prototype.$skin.call(this),webix.ui.popup.prototype.$skin.call(this),this.type.height=webix.skin.$active.menuHeight},hr:{$getSize:function(e,t){var i=1*this.A.s.height,n=1*this.A.s.width,r=webix.ui.menu.prototype.$getSize.call(this.A,e,t);return this.A.s.height=i,this.A.s.width=n,r},$setSize:function(e,t){this.A.s.scroll&&(this.A.ed.style.height=t+"px")},destructor:function(){this.A=null}},body_setter:function(){},getChildViews:function(){return[]},defaults:{width:150,subMenuPos:"right",layout:"y",autoheight:!0},type:{height:webix.skin.menuHeight,subsign:!0}},webix.ui.menu,webix.ui.popup),webix.ContextHelper={defaults:{padding:"4",hidden:!0},body_setter:function(e){return e=webix.ui.window.prototype.body_setter.call(this,e),this.gd.x.style.borderWidth="0px",e},attachTo:function(e){var t;t=e.on_context?e.attachEvent("onAfterContextMenu",webix.bind(this.ir,this)):webix.event(e,"contextmenu",this.jr,{bind:this}),this.attachEvent("onDestruct",function(){e.callEvent?e.detachEvent(t):webix.eventRemove(t),e=null})},getContext:function(){return this.nh},setContext:function(e){this.nh=e},jr:function(e){return this.nh=webix.toNode(e||event),this.kr(e)},ir:function(e,t,i){return this.nh={obj:webix.$$(t),id:e},this.kr(t)},kr:function(e){var t=this.show(e,null,!0);return t===!1?t:(webix.callEvent("onClick",[]),webix.html.preventEvent(e))},gr:!0,master_setter:function(e){return this.attachTo(e),null}},webix.protoUI({name:"context"},webix.ContextHelper,webix.ui.popup),webix.protoUI({name:"contextmenu",$q:!0,$init:function(e){e.submenuConfig&&webix.extend(e,e.submenuConfig)}},webix.ContextHelper,webix.ui.submenu),webix.protoUI({name:"tabbar",$init:function(){this.attachEvent("onKeyPress",this.DD)},$skin:function(){var e=webix.skin.$active,t=this.defaults;t.topOffset=e.tabTopOffset||0,t.tabOffset="undefined"!=typeof e.tabOffset?e.tabOffset:10,t.bottomOffset=e.tabBottomOffset||0,t.height=e.tabbarHeight,t.tabMargin=e.tabMargin,t.inputPadding=e.inputPadding,t.tabMinWidth=e.tabMinWidth||100,t.tabMoreWidth=e.tabMoreWidth||40},ut:function(){var e,t,i=this.s,n=this.OC||i.options,r=this.we-2*i.tabOffset,a=i.optionWidth||i.tabMinWidth;if(t=n.length,i.tabMinWidth&&a>r/t)return{max:parseInt(r/a,10)||1};if(!i.optionWidth)for(e=0;t>e;e++)n[e].width&&(r-=n[e].width+(e||i.type?0:i.tabMargin),t--);return{width:t?r/t:i.tabMinWidth}},Je:function(){var e=this.s;if(!e.tabbarPopup){var t={view:"popup",width:e.popupWidth||200,body:{view:"list",borderless:!0,select:!0,css:"webix_tab_list",autoheight:!0,yCount:e.yCount,type:{template:e.popupTemplate}}},i=webix.ui(t);i.getBody().attachEvent("onBeforeSelect",webix.bind(function(e){return e&&this.callEvent("onBeforeTabClick",[e])?(this.setValue(e),webix.$$(this.s.tabbarPopup).hide(),this.callEvent("onAfterTabClick",[e]),!0):void 0},this)),i.getBody().attachEvent("onAfterSelect",webix.bind(function(e){this.refresh()},this)),e.tabbarPopup=i.s.id,this.Ns.push(i)}this.Je=function(){}},getPopup:function(){return this.Je(),webix.$$(this.s.tabbarPopup)},moreTemplate_setter:webix.template,popupTemplate_setter:webix.template,defaults:{popupWidth:200,popupTemplate:"#value#",yCount:7,moreTemplate:'<span class="webix_icon fa-ellipsis-h"></span>',template:function(e,t){var i,n,r,a,o,s,l,u,c,d;if(t.OC=u=t.yC(e.options),u.length){t.Be(u),!e.value&&u.length&&(e.value=u[0].id),n="",e.tabOffset&&(n+="<div class='webix_tab_filler' style='width:"+e.tabOffset+"px;'>&nbsp;</div>"),i=t.we-2*e.tabOffset-(e.type?0:e.tabMargin*(u.length-1)),c=e.topOffset+e.bottomOffset;var h=t.ut();if(h.max&&h.max<u.length){var f=t.getPopup();f.hide();var p=f.getBody()||null;if(p)if(h.max){var g=!1;for(r=0;r<u.length&&!g;r++)if(u[r].id==e.value&&(g=!0,r+1>h.max)){var v=u.splice(r,1),m=u.splice(0,h.max-1).concat(v);u=m.concat(u)}p.clearAll(),p.parse(u.slice(h.max))}else p.clearAll()}else t.s.tabbarPopup&&webix.$$(t.s.tabbarPopup).hide();l=e.tabOffset;var b=!1;for(r=0;r<u.length&&!b;r++)h&&h.max?(h.max==r+1&&(b=!0),i=t.we-2*e.tabOffset-(!e.type&&h.max>1?e.tabMargin*(h.max-1):0),d=(i-e.tabMoreWidth)/h.max):d=h.width,d=u[r].width||e.optionWidth||d,l+=d+(r&&!e.type?e.tabMargin:0),e.tabMargin>0&&r&&!e.type&&(n+="<div class='webix_tab_filler' style='width:"+e.tabMargin+"px;'></div>"),n+=t.vt(u[r],d),b&&(n+='<div role="button" tabindex="0" aria-label="'+webix.i18n.aria.showTabs+'" class="webix_tab_more_icon" style="width:'+e.tabMoreWidth+'px;">'+e.moreTemplate(e,t)+"</div>",l+=e.tabMoreWidth);a=t.bc-l,a>0&&!e.type&&(n+="<div class='webix_tab_filler' style='width:"+a+"px;'>&nbsp;</div>")}else n="<div class='webix_tab_filler' style='width:"+t.we+"px; border-right:0px;'></div>";return o="",s=c&&!e.type?"height:"+(t.dc-c)+"px":"",e.topOffset&&!e.type&&(o+="<div class='webix_before_all_tabs' style='width:100%;height:"+e.topOffset+"px'></div>"),o+="<div style='"+s+"' role='tablist' class='webix_all_tabs "+(e.type?"webixtype_"+e.type:"")+"'>"+n+"</div>",e.bottomOffset&&!e.type&&(o+="<div class='webix_after_all_tabs' style='width:100%;height:"+e.bottomOffset+"px'></div>"),o}},Ie:function(){return this.$view.querySelectorAll(".webix_item_tab")},vt:function(e,t){var i,n="",r=this.config;
if(e.id==r.value&&(n=" webix_selected"),e.css&&(n+=" "+e.css),t=e.width||t,i='<div class="webix_item_tab'+n+'" button_id="'+e.id+'" role="tab" aria-selected="'+(e.id==r.value?"true":"false")+'" tabindex="'+(e.id==r.value?"0":"-1")+'" style="width:'+t+'px;">',this.lr){var a=this.dc-2*r.inputPadding-2,o=this.dc-2,s=webix.extend({cheight:a,aheight:o},e);i+=this.lr(s)}else{var l=e.icon?"<span class='webix_icon fa-"+e.icon+"'></span> ":"";i+=l+e.value}return(e.close||r.close)&&(i+="<span role='button' tabindex='0' aria-label='"+webix.i18n.aria.closeTab+"' class='webix_tab_close webix_icon fa-times'></span>"),i+="</div>"},ne:{image:"<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>",icon:"<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn fa-#icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>",iconTop:"<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon fa-#icon#'></span><div class='webix_img_btn_text'>#value#</div></div>"},type_setter:function(e){return this.s.tabOffset=0,this.ne[e]&&(this.lr=webix.template(this.ne[e])),e}},webix.ui.segmented),webix.protoUI({name:"tabview",defaults:{type:"clean"},setValue:function(e){this.q[0].setValue(e)},getValue:function(){return this.q[0].getValue()},getTabbar:function(){return this.q[0]},getMultiview:function(){return this.q[1]},addView:function(e){var t=e.body.id=e.body.id||webix.uid();this.getMultiview().addView(e.body),e.id=e.body.id,e.value=e.header,delete e.body,delete e.header;var i=this.getTabbar();return i.addOption(e),t},removeView:function(e){var t=this.getTabbar();t.removeOption(e),t.refresh()},$init:function(e){this.$ready.push(this.Nv);for(var t=e.cells,i=[],n=t.length-1;n>=0;n--){var r=t[n].body||t[n];r.id||(r.id="view"+webix.uid()),i[n]={value:t[n].header,id:r.id,close:t[n].close,width:t[n].width,hidden:!!t[n].hidden},t[n]=r}var a={view:"tabbar",multiview:!0},o={view:"multiview",cells:t,animate:!!e.animate};e.value&&(a.value=e.value),e.tabbar&&webix.extend(a,e.tabbar,!0),e.multiview&&webix.extend(o,e.multiview,!0),a.options=a.options||i,e.rows=[a,o],delete e.cells,delete e.tabs},Nv:function(){this.getTabbar().attachEvent("onOptionRemove",function(e){var t=webix.$$(e);if(t){var i=t.getParentView();i&&i.removeView(t)}})}},webix.ui.layout),webix.protoUI({name:"fieldset",defaults:{borderless:!0,$cssName:"webix_fieldset",paddingX:18,paddingY:30},$init:function(e){this.x.className+=" "+this.defaults.$cssName,this.x.innerHTML="<fieldset><legend></legend><div></div></fieldset>"},label_setter:function(e){return this.x.firstChild.childNodes[0].innerHTML=e,e},getChildViews:function(){return[this.os]},body_setter:function(e){return this.os=webix.ui(e,this.x.firstChild.childNodes[1]),this.os.Xb=this,e},getBody:function(){return this.os},resizeChildren:function(){var e=this.$width-this.s.paddingX,t=this.$height-this.s.paddingY,i=this.os.$getSize(0,0);i[0]>e&&(e=i[0]),i[2]>t&&(t=i[2]),this.os.$setSize(e,t),this.resize()},$getSize:function(e,t){e+=this.s.paddingX,t+=this.s.paddingY;var i=this.os.$getSize(e,t),n=this.ps=webix.ui.view.prototype.$getSize.call(this,e,t);return n[0]<i[0]&&(n[0]=i[0]),n[2]<i[2]&&(n[2]=i[2]),n[1]>i[1]&&(n[1]=i[1]),n[3]>i[3]&&(n[3]=i[3]),n},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&(e=Math.min(this.ps[1],e),t=Math.min(this.ps[3],t),this.os.$setSize(e-this.s.paddingX,t-this.s.paddingY))}},webix.ui.view),webix.protoUI({name:"forminput",defaults:{$cssName:"webix_forminput",labelWidth:80,labelAlign:"left"},setValue:function(e){this.os.setValue&&this.os.setValue(e)},focus:function(){this.os.focus()},getValue:function(){return this.os.setValue?this.os.getValue():void 0},value_setter:function(e){this.setValue(e)},getBody:function(){return this.os},$skin:function(){this.tF=webix.skin.$active.inputPadding,this.$E=webix.skin.$active.inputSpacing},$init:function(e){this.$ready.push(function(){var e=this.x.firstChild.childNodes[0];e.style.width=this.s.paddingX+"px",e.style.textAlign=this.s.labelAlign,this.s.labelWidth||(e.style.display="none")});var t=webix.isUndefined(e.labelWidth)?this.defaults.labelWidth:e.labelWidth;e.paddingX=t-2*this.tF+2*this.$E},setBottomText:function(e){var t=this.s;if("undefined"!=typeof e){if(t.bottomLabel==e)return;t.bottomLabel=e}var i=(t.invalid?t.invalidMessage:"")||t.bottomLabel;this._F&&webix.html.remove(this._F),i&&(this.$view.style.position="relative",this._F=webix.html.create("div",{class:"webix_inp_bottom_label",role:t.invalid?"alert":"","aria-relevant":"all",style:"position:absolute; bottom:0px; padding:2px; background: white; left:"+this.s.labelWidth+"px; "},i),this.x.appendChild(this._F))}},webix.ui.fieldset),webix.protoUI({name:"dbllist",defaults:{borderless:!0},$init:function(e){this.uF={},this.vF=webix.bind(function(e){return this.uF[e.id]},this),this.wF=webix.bind(function(e){return!this.uF[e.id]},this),this.$view.className+=" webix_dbllist",this.$ready.unshift(this.HE)},$onLoad:function(e,t){this.xF(function(){this.$$("left").data.driver=t,this.$$("left").parse(e),this.$$("right").data.driver=t,this.$$("right").parse(e)}),this.QE()},yF:function(){if(this.s.buttons===!1)return{width:10};var e=webix.i18n.dbllist,t=[this.zF("deselect_all",e.deselectAll),this.zF("select_all",e.selectAll),this.zF("deselect_one",e.deselectOne),this.zF("select_one",e.selectOne)],t={width:120,template:t.join(""),onClick:{dbllist_button:function(e,t,i){this.getTopParentView().AF(i.getAttribute("action"))}}};return this.s.buttons&&(t.template=this.s.buttons),t},zF:function(e,t){return"<button class='dbllist_button' action='"+e+"'>"+t+"</button>"},BF:function(e,t,i,n){var r={view:"list",select:"multiselect",multiselect:"touch",id:e,action:t,drag:!0,type:{margin:3,id:e},on:{onBeforeDrop:function(e){var t=e.from,i=e.to,n=t.getTopParentView();if(n===this.getTopParentView()){var r="select_one"!=i.s.action;n.select(e.source,r)}return!1},onItemDblClick:function(){return this.getTopParentView().AF(this.config.action)}}};return this.s.list&&webix.extend(r,this.s.list,!0),i&&(r={rows:[{view:"label",label:i},r]}),n?{rows:[r,{view:"label",height:20,label:n,css:"bottom_label"}]}:r},HE:function(){var e=[{margin:10,type:"clean",cols:[this.BF("left","select_one",this.s.labelLeft,this.s.labelBottomLeft),this.yF(),this.BF("right","deselect_one",this.s.labelRight,this.s.labelBottomRight)]}];this.cols_setter(e)},AF:function(e){var t=this,i=null,n=!1;"select_all"===e?(i=t.$$("left").data.order,n=!0):"select_one"===e?(i=t.$$("left").getSelectedId(!0),n=!0):"deselect_all"===e?(i=t.$$("right").data.order,n=!1):"deselect_one"===e&&(i=t.$$("right").getSelectedId(!0),n=!1),t.select(i,n)},select:function(e,t){var i;if("object"!=typeof e&&(e=[e]),t)for(i=0;i<e.length;i++)this.uF[e[i]]=!0;else for(i=0;i<e.length;i++)delete this.uF[e[i]];this.QE(),this.callEvent("onChange",[])},xF:function(e,t){webix.ui.freeze(webix.bind(e,this),!1),t&&(this.$$("left").s.autoheight||this.$$("right").s.autoheight)&&this.resize()},QE:function(){var e=this.$$("left"),t=this.$$("right");e&&this.xF(function(){e.filter(this.wF),t.filter(this.vF)},!0)},focus:function(){webix.UIManager.setFocus(this)},value_setter:function(e){this.setValue(e)},setValue:function(e){this.uF={},"object"!=typeof e&&(e=e.toString().split(","));for(var t=0;t<e.length;t++)this.uF[e[t]]=!0;this.QE()},getValue:function(){var e=[];for(var t in this.uF)e.push(t);return e.join(",")}},webix.AtomDataLoader,webix.IdSpace,webix.ui.layout),webix.i18n.dbllist={selectAll:"<span class='webix_icon fa-angle-double-right'></span>",selectOne:"<span class='webix_icon fa-angle-right'></span>",deselectAll:"<span class='webix_icon fa-angle-double-left'></span>",deselectOne:"<span class='webix_icon fa-angle-left'></span>"},function(){function e(e){return e.tagName?e.tagName.toLowerCase():null}function t(e,t){if(!e.getAttribute)return null;var i=e.getAttribute(t);return i?i.toLowerCase():null}function i(){var t=e(this);return r[t]?r[t](this):r.other(this)}function n(t){var i=e(this);return a[i]?a[i](this,t):a.other(this,t)}var r={radio:function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return""},input:function(e){var i=t(e,"type");return"checkbox"===i?e.checked:e.value},textarea:function(e){return e.value},select:function(e){var t=e.selectedIndex;return e.options[t].value},other:function(e){return e.innerHTML}},a={radio:function(e,t){for(var i=0;i<e.length;i++)e[i].checked=e[i].value==t},input:function(e,i){var n=t(e,"type");"checkbox"===n?e.checked=!!i:e.value=i},textarea:function(e,t){e.value=t},select:function(e,t){e.value=t?t:e.firstElementChild.value||t},other:function(e,t){e.innerHTML=t}};webix.protoUI({name:"htmlform",$init:function(e){this.elements={},this.mr=!1,e.content&&(e.container==e.content||!e.container&&e.content==document.body)&&(this.nr=!0)},content_setter:function(e){if(e=webix.toNode(e),this.nr)for(;e.childNodes.length>1;)this.x.childNodes[0].appendChild(e.childNodes[0]);else this.x.childNodes[0].appendChild(e);return this.pc(),!0},render:function(){webix.ui.template.prototype.render.apply(this,arguments),this.pc()},pc:function(){var r=this.x.querySelectorAll("[name]");this.elements={};for(var a=0;a<r.length;a++){var o=r[a],s=t(o,"name");if(s){var l="button"===e(o),u=t(o,"type"),c=l||"button"===u||"submit"===u;if("radio"===u){var d=this.elements[s]||[];d.tagName="radio",d.push(o),o=d}this.elements[s]=o,o.getValue=i,o.setValue=n,o.Ce=!c,o.s={defaultValue:o.getValue()}}}return this.elements},Te:function(e,t){this.Qe(e,t);var i=this.x.querySelector('[name="'+e+'"]');i&&webix.html.addCss(i,"invalid")},Qe:function(e,t){var i=this.x.querySelector('[name="'+e+'"]');i&&webix.html.removeCss(i,"invalid")}},webix.ui.template,webix.Values)}(),function(){var e,t;webix.protoUI({name:"google-map",$init:function(e){this.$view.innerHTML="<div class='webix_map_content' style='width:100%;height:100%'></div>",this.w=this.$view.firstChild,this.iF=webix.promise.defer(),this.data.provideApi(this,!0),this.$ready.push(this.render)},getMap:function(e){return e?this.iF:this.eo},aG:function(t){return webix.bind(function(){"function"==typeof t&&t(),e=e||window.google,this.mE.call(this)},this)},render:function(){if("undefined"==typeof window.google||"undefined"==typeof window.google.maps){if(!t){t=document.createElement("script"),t.type="text/javascript";var e=this.s,i=e.src||"//maps.google.com/maps/api/js";i+=-1===i.indexOf("?")?"?":"&",e.key&&(i+="&key="+e.key),e.libraries&&(i+="&libraries="+e.libraries),t.src=i,document.getElementsByTagName("head")[0].appendChild(t)}t.onload=this.aG(t.onload)}else this.aG()()},mE:function(){var t=this.config;this.isVisible(t.id)&&(this.eo=new e.maps.Map(this.w,{zoom:t.zoom,center:new e.maps.LatLng(t.center[0],t.center[1]),mapTypeId:e.maps.MapTypeId[t.mapType]}),this.iF.resolve(this.eo))},center_setter:function(t){return this.eo&&this.eo.setCenter(new e.maps.LatLng(t[0],t[1])),t},mapType_setter:function(t){return this.eo&&this.eo.setMapTypeId(e.maps.MapTypeId[t]),t},zoom_setter:function(e){return this.eo&&this.eo.setZoom(e),e},layerType_setter:function(e){return"heatmap"==e&&(this.config.libraries="visualization"),this.nE[e]&&(webix.extend(this,this.nE[e],!0),this.data.attachEvent("onStoreUpdated",webix.bind(function(){this.iF.then(webix.bind(function(){this.drawData.call(this,arguments)},this))},this))),e},defaults:{zoom:5,center:[39.5,-98.5],mapType:"ROADMAP",layerType:"marker"},$setSize:function(){webix.ui.view.prototype.$setSize.apply(this,arguments),this.eo&&e.maps.event.trigger(this.eo,"resize")},$onLoad:function(e){return!this.eo&&(this.iF.then(webix.bind(function(){this.parse(e)},this)),!0)},nE:{marker:{drawData:function(e,t,i){switch(i){case"add":t.$marker=this.oE(t);break;case"update":t.$marker.setMap(null),t.$marker=this.oE(t);break;case"delete":t.$marker.setMap(null);break;default:this.data.each(function(e){e.$marker=this.oE(e)},this)}},clearAll:function(e){this.data.each(function(e){e.$marker.setMap(null)}),this.data.clearAll(e)},showItem:function(t){var i=this.getItem(t);this.eo.setCenter(new e.maps.LatLng(i.lat,i.lng))},oE:function(t){var i={};for(var n in t)i[n]=t[n];i.position=new e.maps.LatLng(t.lat,t.lng),i.map=t.hidden?null:this.eo;var r=new e.maps.Marker(i);return this.h(r),this.callEvent("onItemRender",[t]),r},h:function(e){var t=this;e.addListener("click",function(){t.callEvent("onItemClick",[this.id,this])}),e.getDraggable()&&(e.addListener("dragend",function(){t.pE(this,!0)}),e.addListener("drag",function(){t.pE(this)}))},pE:function(e,t){var i=this.getItem(e.id),n=e.getPosition(),r=t?"onAfterDrop":"onDrag";i.lat=n.lat(),i.lng=n.lng(),this.callEvent(r,[i.id,i])}},heatmap:{heatmapConfig_setter:function(e){return e=e||{}},drawData:function(){this.jF&&(this.jF.setMap(null),this.jF=null);var t=[];if(this.data.each(function(e){t.push(this.qE(e))},this),t.length){var i=webix.extend(this.config.heatmapConfig,{data:t,map:this.eo},!0);this.jF=new e.maps.visualization.HeatmapLayer(i),this.callEvent("onHeatMapRender",[this.jF])}},getHeatmap:function(){return this.jF},qE:function(t){var i={};for(var n in t)i[n]=t[n];return i.location=new e.maps.LatLng(t.lat,t.lng),i}}}},webix.DataLoader,webix.EventSystem,webix.ui.view)}(),function(){var e,t;webix.protoUI({name:"geochart",defaults:{chart:{displayMode:"auto",region:"world",resolution:"countries"}},$init:function(e){this.$view.innerHTML="<div class='webix_map_content' style='width:100%;height:100%'></div>",this.w=this.$view.firstChild,this.iF=webix.promise.defer(),e.chart=webix.extend(e.chart||{},this.defaults.chart),this.data.provideApi(this,!0),this.$ready.push(this.render),this.data.attachEvent("onClearAll",webix.bind(this.vG,this)),this.data.attachEvent("onStoreUpdated",webix.bind(this.wG,this))},getMap:function(e){return e?this.iF:this.eo},aG:function(t){return webix.bind(function(){"function"==typeof t&&t(),e=e||window.google,this.mE()},this)},render:function(){"undefined"==typeof window.google||"undefined"==typeof window.google.charts?(t||(t=document.createElement("script"),t.type="text/javascript",t.src="//www.gstatic.com/charts/loader.js",document.getElementsByTagName("head")[0].appendChild(t)),t.onload=this.aG(t.onload)):this.aG()()},mE:function(){e.visualization&&e.visualization.GeoChart?(this.eo=new e.visualization.GeoChart(this.w),this.xG(),this.iF.resolve(this.eo)):(e.charts.load("current",{packages:["geochart"],mapsApiKey:this.s.key}),e.charts.setOnLoadCallback(webix.bind(function(){this.mE()},this)))},$onLoad:function(e,t){return!this.eo&&(this.iF.then(webix.bind(function(){this.parse(e,this.s.datatype)},this)),!0)},wG:function(){if(!this.eo)return void(this.eo||this.iF.then(webix.bind(this.wG,this)));var t=this.fj&&this.fj.length?this.fj:this.yG(),i=[];if(this.data.each(function(e,n){for(var r=[],a=0;a<t.length;a++){var o=e[t[a].label];"number"==t[a].type?o*=1:"tooltip"==t[a].role&&(o=this.s.tooltip(e)),r.push(o)}i.push(r)},this),t.length){for(var n=new e.visualization.DataTable,r=0;r<t.length;r++)n.addColumn(t[r]);n.addRows(i);var a=new e.visualization.DataView(n);this.eo.draw(a,this.s.chart)}else this.eo.draw(e.visualization.arrayToDataTable([["",""]]),{})},setDisplayMode:function(e){this.s.chart.displayMode=e,this.refresh()},setRegion:function(e){this.s.chart.region=e,this.refresh()},refresh:function(){this.eo.clearChart(),this.wG()},tooltip_setter:function(e){var t=this.s.chart.tooltip;return this.s.chart.tooltip=webix.extend(t||{},{isHtml:!0}),webix.template(e)},$setSize:function(e,t){webix.ui.view.prototype.$setSize.apply(this,arguments)&&this.eo&&(webix.extend(this.s,{width:e,height:t}),this.refresh())},vG:function(){this.fj=null,this.wG()},zG:function(e,t){if(!e||webix.isUndefined(e[t]))return"string";var i=typeof e[t];return"string"!=i||isNaN(1*e[t])||(i="number"),i},yG:function(e){var t=this.s.columns||[],e=this.data.pull[this.data.order[0]];if(!t.length&&e)for(var i in e)"id"!==i&&t.push(i);for(var n=0;n<t.length;n++)"object"!=typeof t[n]&&(t[n]={type:this.zG(e,t[n]),label:t[n]});return this.s.tooltip&&t.push({type:"string",role:"tooltip",p:{html:!0}}),this.fj=t,t},xG:function(){e.visualization.events.addListener(this.eo,"error",webix.bind(function(){this.callEvent("onMapError",arguments)},this)),e.visualization.events.addListener(this.eo,"ready",webix.bind(function(){this.callEvent("onMapReady",arguments)},this)),e.visualization.events.addListener(this.eo,"regionClick",webix.bind(function(){this.callEvent("onRegionClick",arguments)},this)),e.visualization.events.addListener(this.eo,"select",webix.bind(function(){var e=this.eo.getSelection()[0],t=e||this.AG;if(t){var i=this.data.order[t.row];this.AG=t,this.callEvent("onItemClick",[i,!!e])}},this))}},webix.DataLoader,webix.EventSystem,webix.ui.view)}(),webix.dp=function(e,t){if("object"==typeof e&&e.s&&(e=e.s.id),webix.dp.ur[e]||t)return webix.dp.ur[e];("string"==typeof e||"number"==typeof e)&&(e={master:webix.$$(e)});var i=new webix.DataProcessor(e),n=i.s.master.s.id;return webix.dp.ur[n]=i,webix.$$(n).attachEvent("onDestruct",function(){webix.dp.ur[this.s.id]=null,delete webix.dp.ur[this.s.id]}),i},webix.dp.ur={},webix.dp.$$=function(e){return webix.dp.ur[e]},webix.DataProcessor=webix.proto({defaults:{autoupdate:!0,updateFromResponse:!1,mode:"post",operationName:"webix_operation",trackMove:!1},$init:function(){this.reset(),this.vr=!1,this.name="DataProcessor",this.$ready.push(this.Mi)},reset:function(){this.zr=[]},url_setter:function(e){var t="";if("string"==typeof e){var i=e.split("->");i.length>1&&(e=i[1],t=i[0])}else e&&e.mode&&(t=e.mode,e=e.url);return t?webix.proxy(t,e):e},master_setter:function(e){var t=e;return"DataStore"!=e.name&&(t=e.data),this.s.store=t,e},Mi:function(){this.s.store.attachEvent("onStoreUpdated",webix.bind(this.Ar,this)),this.s.store.attachEvent("onDataMove",webix.bind(this.Br,this))},ignore:function(e,t){var i=this.vr;this.vr=!0,e.call(t||this),this.vr=i},off:function(){this.vr=!0},on:function(){this.vr=!1},Cr:function(e){var t={};for(var i in e)0!==i.indexOf("$")&&(t[i]=e[i]);return t},save:function(e,t,i){t=t||"update",this.Dr(e,i||this.s.store.getItem(e),t)},Dr:function(e,t,i){if("object"==typeof e&&(e=e.toString()),!e||this.vr===!0||!i||"paint"==i)return!0;var n=this.s.store;n&&n.vf&&(t=n.vf(t));var r={id:e,data:this.Cr(t),operation:i};if(webix.isUndefined(t.$parent)||(r.data.parent=t.$parent),"delete"!=r.operation){var a=this.s.master;a&&a.data&&a.data.getMark&&a.data.getMark(e,"webix_invalid")&&(r.Er=!0),this.validate(null,r.data)||(r.Er=!0)}return this.Fr(r)&&this.zr.push(r),this.s.autoupdate&&this.send(),!0},Br:function(e,t,i,n){if(this.s.trackMove){var r=webix.copy(this.s.store.getItem(e));this.s.store.order,r.webix_move_index=t,r.webix_move_id=n,r.webix_move_parent=i,this.Dr(e,r,"order")}},Ar:function(e,t,i){switch(i){case"save":i="update";break;case"update":i="update";break;case"add":i="insert";break;case"delete":i="delete";break;default:return!0}return this.Dr(e,t,i)},Fr:function(e){for(var t=0;t<this.zr.length;t++){var i=this.zr[t];if(i.id==e.id)return"delete"==e.operation&&("insert"==i.operation?this.zr.splice(t,1):i.operation="delete"),i.data=e.data,i.Er=e.Er,!1}return!0},send:function(){this.Gr()},Gr:function(){if(this.s.url){for(var e=this.zr,t=[],i=this.s.url,n=0;n<e.length;n++){var r=e[n];if(!r.Hr&&!r.Er){var a=r.id,o=r.operation,s="object"!=typeof i||i.$proxy?i:i[o],l=s&&(s.$proxy||"function"==typeof s);if(s&&(this.s.store.uf&&this.s.store.uf(r.data),this.callEvent("onBefore"+o,[a,r]))){if(r.Hr=!0,!this.callEvent("onBeforeDataSend",[r]))return;r.data=this.Ir(r.data);var u=this.at({id:r.id,status:r.operation});s.$proxy?s.save?s.save(this.config.master,r,this,u):t.push(r):("insert"==o&&delete r.data.id,l?s(r.id,r.operation,r.data).then(function(e){e&&"function"==typeof e.json&&(e=e.json()),u.success("",e,-1)},function(e){u.error("",null,e)}):(r.data[this.s.operationName]=o,this.G(s,r.data,this.s.mode,o,u))),this.callEvent("onAfterDataSend",[r])}}}i.$proxy&&i.saveAll&&t.length&&i.saveAll(this.config.master,t,this,this.at({}))}},Ir:function(e){var t={};for(var i in e)0!==i.indexOf("$")&&(t[i]=e[i]);return t},G:function(e,t,i,n,r){return"function"==typeof e?e(t,n,r):void webix.ajax()[i](e,t,r)},at:function(e){var t=this;return{success:function(i,n,r){return t.xr(e,i,n,r)},error:function(i,n,r){return t.yr(e,i,n,r)}}},attachProgress:function(e,t,i){this.attachEvent("onBeforeDataSend",e),this.attachEvent("onAfterSync",t),this.attachEvent("onAfterSaveError",i),this.attachEvent("onLoadError",i)},yr:function(e,t,i,n){e?this.Jr(!0,e.id,!1,e.status,!1,{text:t,data:i,loader:n}):(this.callEvent("onLoadError",arguments),webix.callEvent("onLoadError",[t,i,n,this]))},Jr:function(e,t,i,n,r,a){var o=this.s.master,s=this.getItemState(t);if(s.Hr=!1,e){if(this.callEvent("onBeforeSaveError",[t,n,r,a]))return s.Er=!0,this.s.undoOnError&&o.s.undo&&o.undo(t),void this.callEvent("onAfterSaveError",[t,n,r,a])}else this.setItemState(t,!1);i&&t!=i&&this.s.store.changeId(t,i),r&&"delete"!=n&&this.s.updateFromResponse&&this.ignore(function(){this.s.store.updateItem(i||t,r)}),this.s.undoOnError&&o.s.undo&&o.removeUndo(i||t),this.callEvent("onAfterSave",[r,t,a]),this.callEvent("onAfter"+n,[r,t,a])},processResult:function(e,t,i){var n=t&&("error"==t.status||"invalid"==t.status),r=!!t&&(t.newid||t.id);this.Jr(n,e.id,r,e.status,t,i)},xr:function(e,t,i,n){if(this.callEvent("onBeforeSync",[e,t,i,n]),-1===n)this.processResult(e,i,{});else{var r=this.s.url;if(r.$proxy&&r.result)r.result(e,this.s.master,this,t,i,n);else{var a;t&&(a=i.json(),t&&"undefined"==typeof a&&(a={status:"error"})),this.processResult(e,a,{text:t,data:i,loader:n})}}this.callEvent("onAfterSync",[e,t,i,n])},escape:function(e){return this.s.escape?this.s.escape(e):encodeURIComponent(e)},getState:function(){if(!this.zr.length)return!1;for(var e=this.zr.length-1;e>=0;e--)if(this.zr[e].Hr)return"saving";return!0},getItemState:function(e){var t=this.bt(e);return this.zr[t]||null},setItemState:function(e,t){if(t)this.save(e,t);else{var i=this.bt(e);i>-1&&this.zr.splice(i,1)}},bt:function(e){for(var t=-1,i=0;i<this.zr.length;i++)if(this.zr[i].id==e){t=i;break}return t}},webix.Settings,webix.EventSystem,webix.ValidateData),function(){var e={};webix.jsonp=function(t,i,n,r){var a=webix.promise.defer(),o="webix_jsonp_"+webix.uid(),s=document.createElement("script");s.id=o,s.type="text/javascript";var l=document.getElementsByTagName("head")[0];"function"==typeof i&&(r=n,n=i,i={}),i||(i={}),i.jsonp="webix.jsonp."+o,webix.jsonp[o]=function(){n&&n.apply(r||window,arguments),a.resolve(arguments[0]),window.clearTimeout(e[o]),delete e[o],s.parentNode.removeChild(s),n=l=r=s=null,delete webix.jsonp[o]},e[o]=window.setTimeout(function(){a.reject(),delete webix.jsonp[o]},webix.jsonp.timer);var u=[];for(var c in i)u.push(c+"="+encodeURIComponent(i[c]));return t+=(-1==t.indexOf("?")?"?":"&")+u.join("&"),s.src=t,l.appendChild(s),a},webix.jsonp.timer=3e3}(),webix.markup={namespace:"x",attribute:"data-",dataTag:"li",Ys:/-([a-z])/g,Zs:function(e){return e[1].toUpperCase()},Lr:{width:!0,height:!0,gravity:!0,margin:!0,padding:!0,paddingX:!0,paddingY:!0,minWidth:!0,maxWidth:!0,minHeight:!0,maxHeight:!0,headerRowHeight:!0},AA:{disabled:!0,hidden:!0},Mr:function(e,t){return webix.ui.hasMethod(e,t)},init:function(e,t,i){e=e||document.body;for(var n=[],r=this.Nr(e),a=r.html,o=null,s=r.length-1;s>=0;s--)n[s]=r[s];for(var s=0;s<n.length;s++){var l;l=this.Or(n[s],a),l.$scope=i,o=this.Pr(l,n[s],a,t)}return o},parse:function(e,t){"string"==typeof e&&(e=webix.DataDriver[t||"xml"].toObject(e,e));var i=this.Nr(e,t);return this.Or(i[0],i.html)},Pr:function(e,t,i,n){return n?e.container=n:(e.container=t.parentNode,webix.html.remove(t)),this.Mr(e.view,"setPosition")&&delete e.container,webix.ui(e)},Nr:function(e){this.Qr=this.namespace?this.namespace+":":"",this.Rr=this.Qr+"ui";var t=e.getElementsByTagName(this.Rr);return!t.length&&e.documentElement&&e.documentElement.tagName==this.Rr&&(t=[e.documentElement]),!t.length&&this.namespace&&(t=e.getElementsByTagName("ui"),!t.length&&e.documentElement&&"ui"==e.documentElement.tagName&&(t=[e.documentElement])),t.length||(t=this.Sr(e),t.html=!0),t},Sr:function(e){if(e.getAttribute&&e.getAttribute(this.attribute+"view"))return[e];for(var t=e.querySelectorAll("["+this.attribute+"view]"),i=[],n=0;n<t.length;n++)t[n].parentNode.getAttribute(this.attribute+"view")||i.push(t[n]);return i},Or:function(e,t,i){var n=!1;if(!i){var r=this.Tr(e,t);if("ui"==r)for(var a=e.childNodes,o=0;o<a.length;o++)if(1==a[o].nodeType)return this.Or(a[o],t);i={view:r},t&&"table"==e.tagName.toLowerCase()&&(i.data=e,i.datatype="htmltable",n=!0)}for(var s="cols"==i.view||"rows"==i.view||this.Mr(i.view,"addView"),l=[],u=0,c=!(t||e.style),d=e.firstChild;d;){if(1==d.nodeType){var r=this.Tr(d,t);if("data"==r){u=1;var h=d;d=d.nextSibling,i.data=this.Ur(h,t);continue}if("config"==r){this.Vr(d,i,t);var f=d;d=d.nextSibling,webix.html.remove(f);continue}if("column"==r){u=1;var p=this.Wr(d,t);p.header=p.header||p.value,p.width=1*p.width||"",i.columns=i.columns||[],i.columns.push(p)}else if(r||s&&t){var g=this.Or(d,t,{view:r});"head"==g.view?i.head=g.rows?g.rows[0]:g.template:"body"==g.view?this.Mr(i.view,"addView")?l.push({body:g.rows?g.rows[0]:g.value,header:g.header||""}):i.body=g.rows?1==g.rows.length?g.rows[0]:{rows:g.rows}:g.value:l.push(g)}else if(c){u=1;var v=d.tagName;t&&(v=v.toLowerCase().replace(this.Ys,this.Zs)),i[v]=webix.DataDriver.xml.tagToObject(d)}}d=d.nextSibling}if(this.Xr(e,i,t),l.length)i.stack?i[i.stack]=l:this.Mr(i.view,"setValues")?i.elements=l:"rows"==i.view?(i.view="layout",i.rows=l):"cols"==i.view?(i.view="layout",i.cols=l):this.Mr(i.view,"setValue")?i.cells=l:this.Mr(i.view,"getBody")?i.body=1==l.length?l[0]:{rows:l}:i.rows=l;else if(!n&&!u)if(!t||i.template||i.view&&"template"!=i.view){var m=this.Yr(e,t);if(m){var b="template";this.Mr(i.view,"setValue")&&(b="value"),i[b]=i[b]||m}}else i.view="template",i.content=e;return i},Zr:function(e){var t=e.replace(/\s+/gm,"");return!(t.length>0)},$r:{body:1,head:1,data:1,rows:1,cols:1,cells:1,elements:1,ui:1,column:1,config:1},Vr:function(e,t,i){var n=this.Xr(e,{});n.name?(t[n.name]=n,delete n.name):n.stack?t[n.stack]=[]:t=n;for(var r=e.childNodes,a=0;a<r.length;a++){var o=null;o=1==r[a].nodeType&&"config"==r[a].tagName.toLowerCase()&&r[a].attributes.length?this.Vr(r[a],n,i):r[a].innerHTML,n.stack&&o&&t[n.stack].push(o)}return t},Tr:function(e,t){if(t)return e.getAttribute(this.attribute+"view")||("config"==e.tagName.toLowerCase()?"config":null);var i=e.tagName.toLowerCase();if(this.namespace){if(0===i.indexOf(this.Qr)||e.scopeName==this.namespace)return i.replace(this.Qr,"")}else if(webix.ui[i]||this.$r[i])return i;return 0},Ur:function(e,t){for(var i=[],n=e.getElementsByTagName(webix.markup.dataTag),r=0;r<n.length;r++){var a=n[r];if(a.parentNode.parentNode.tagName!=webix.markup.dataTag){var o=this.Wr(a,t);a.className&&(o.$css=a.className),i.push(o)}}return webix.html.remove(e),i},Yr:function(e,t){return e.style?e.innerHTML:e.firstChild?e.firstChild.wholeText||e.firstChild.data||"":""},Wr:function(e,t){if(!t)return webix.DataDriver.xml.tagToObject(e);var i=this.Xr(e,{},t);return!i.value&&e.childNodes.length&&(i.value=this.Yr(e,t)),i},Xr:function(e,t,i){for(var n=e.attributes,r=0;r<n.length;r++){var a=n[r].name;if(i){if(0!==a.indexOf(this.attribute))continue;a=a.replace(this.attribute,"").replace(this.Ys,this.Zs)}var o=n[r].value;-1!=o.indexOf("json://")&&(o=JSON.parse(o.replace("json://",""))),this.Lr[a]?o=parseInt(o,10):this.AA[a]&&(o=o&&"false"!==o&&"0"!=o),t[a]=o}return t}},function(){function e(e,t){var n=e.callback;i(!1),e.box.parentNode.removeChild(e.box),h=e.box=null,n&&n(t,e.details)}function t(t){if(h){t=t||event;var i=t.which||event.keyCode;if(webix.message.keyboard)return(13==i||32==i)&&e(h,!0),27==i&&e(h,!1),t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}function i(e){i.cover&&i.cover.parentNode||(i.cover=document.createElement("DIV"),i.cover.onkeydown=t,i.cover.className="webix_modal_cover",document.body.appendChild(i.cover)),i.cover.style.display=e?"inline-block":"none"}function n(e,t,i){return"<div role='button' tabindex='0' aria-label='"+e+"' class='webix_popup_button"+(i?" "+i:"")+"' result='"+t+"' ><div>"+e+"</div></div>"}function r(e){f.area||(f.area=document.createElement("DIV"),f.area.className="webix_message_area",f.area.style[f.position]="5px",document.body.appendChild(f.area)),f.area.setAttribute("role","alert"),f.area.setAttribute("aria-atomic",!0),f.hide(e.id);var t=document.createElement("DIV");return t.innerHTML="<div>"+e.text+"</div>",t.className="webix_info webix_"+e.type,t.onclick=function(){f.hide(e.id),e=null},webix.$testmode&&(t.className+=" webix_no_transition"),"bottom"==f.position&&f.area.firstChild?f.area.insertBefore(t,f.area.firstChild):f.area.appendChild(t),e.expire>0&&(f.timers[e.id]=window.setTimeout(function(){f.hide(e.id)},e.expire)),t.style.height=t.offsetHeight-2+"px",f.pull[e.id]=t,t=null,e.id}function a(t,i,r){var a=document.createElement("DIV");a.className=" webix_modal_box webix_"+t.type,a.setAttribute("webixbox",1),a.setAttribute("role","alertdialog"),a.setAttribute("aria-label",t.title||""),a.setAttribute("tabindex","0");var o="";if(t.width&&(a.style.width=t.width+(webix.rules.isNumber(t.width)?"px":"")),t.height&&(a.style.height=t.height+(webix.rules.isNumber(t.height)?"px":"")),t.title&&(o+='<div class="webix_popup_title">'+t.title+"</div>"),o+='<div class="webix_popup_text"><span>'+(t.content?"":t.text)+'</span></div><div  class="webix_popup_controls">',(i||t.ok)&&(o+=n(t.ok||"OK",!0,"confirm")),(r||t.cancel)&&(o+=n(t.cancel||"Cancel",!1)),t.buttons)for(var s=0;s<t.buttons.length;s++)o+=n(t.buttons[s],s);if(o+="</div>",a.innerHTML=o,t.content){var l=t.content;"string"==typeof l&&(l=document.getElementById(l)),"none"==l.style.display&&(l.style.display=""),a.childNodes[t.title?1:0].appendChild(l)}return a.onclick=function(i){i=i||event;var n=i.target||i.srcElement;if(n.className||(n=n.parentNode),-1!=n.className.indexOf("webix_popup_button")){var r=n.getAttribute("result");r="true"==r||"false"!=r&&r,e(t,r)}i.cancelBubble=!0},t.box=a,(i||r||t.buttons)&&(h=t),a}function o(e,n,r){var o=e.tagName?e:a(e,n,r);e.hidden||i(!0),webix.toNode(e.container||document.body).appendChild(o);var s=e.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-o.offsetWidth)/2)),l=e.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-o.offsetHeight)/2));return"top"==e.position?o.style.top="-3px":o.style.top=l+"px",o.style.left=s+"px",o.onkeydown=t,o.focus(),e.hidden&&webix.modalbox.hide(o),o}function s(e){return o(e,!0,!1)}function l(e){return o(e,!0,!0)}function u(e){return o(e)}function c(e,t,i){return"object"!=typeof e&&("function"==typeof t&&(i=t,t=""),e={text:e,type:t,callback:i}),e}function d(e,t,i,n){return"object"!=typeof e&&(e={text:e,type:t,expire:i,id:n}),e.id=e.id||f.uid(),e.expire=e.expire||f.expire,e}var h=null;webix.event(document,"keydown",t,{capture:!0}),webix.alert=function(){var e=c.apply(this,arguments);return e.type=e.type||"confirm",s(e)},webix.confirm=function(){var e=c.apply(this,arguments);return e.type=e.type||"alert",l(e)},webix.modalbox=function(){var e=c.apply(this,arguments);return e.type=e.type||"alert",u(e)},webix.modalbox.hide=function(e){if(e){for(;e&&e.getAttribute&&!e.getAttribute("webixbox");)e=e.parentNode;e&&e.parentNode.removeChild(e)}i(!1),h=null};var f=webix.message=function(e,t,i,n){e=d.apply(this,arguments),e.type=e.type||"info";var a=e.type.split("-")[0];switch(a){case"alert":return s(e);case"confirm":return l(e);case"modalbox":return u(e);default:return r(e)}};f.seed=(new Date).valueOf(),f.uid=function(){return f.seed++},f.expire=4e3,f.keyboard=!0,f.position="top",f.pull={},f.timers={},f.hideAll=function(){for(var e in f.pull)f.hide(e);
},f.hide=function(e){var t=f.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.style.height=0,t.className+=" hidden",f.area.removeAttribute("role"),f.timers[e]&&window.clearTimeout(f.timers[e]),delete f.pull[e])}}(),webix.protoUI({name:"carousel",defaults:{scrollSpeed:"300ms",type:"clean",navigation:{},animate:!0},$init:function(e){this.x.className+=" webix_carousel",this.Ft=null,this.y=null,this.Mh=0,this.$ready.unshift(this.Gt),this.$ready.push(this.Mi)},addView:function(e,t){var i=this.Ft.addView(e,t);return this.bG(),i},removeView:function(e){this.Ft.removeView(e),this.bG()},Qb:function(e,t){this.Ft.Qb(e,t),this.bG()},bG:function(){this.q=this.Ft.q,this.Ch(),this.setActiveIndex(Math.min(this.Mh,this.q.length-1))},Gt:function(){this.Ft&&this.Ft.destructor&&this.Ft.destructor();var e="";this.config.cols?(e="cols",this.mc=0):(e="rows",this.mc=1);var t={borderless:!0,type:"clean"};t[e]=webix.copy(this.s[e]);for(var i=["type","margin","marginX","marginY","padding","paddingX","paddingY"],n={},r=0;r<i.length;r++)this.s[i[r]]&&(n[i[r]]=this.s[i[r]]);webix.extend(t,n,!0),this.Ft=webix.ui.A(t),this.Ft.Xb=this,this.x.appendChild(this.Ft.x),this.q=this.Ft.q,this.Ft.fc=webix.bind(webix.ui.carousel.prototype.fc,this),this.Ft.adjustScroll=webix.bind(webix.ui.carousel.prototype.adjustScroll,this),webix.attachEvent("onReconstruct",webix.bind(function(e){e==this.Ft&&this.Ht()},this)),this.w=this.x.firstChild},DD:function(e,t){this.s.navigation.items&&"tab"===t.target.getAttribute("role")&&this.PD(e,t),webix.ui.baseview.prototype.DD.call(this,e,t)},getChildViews:function(){return[this.Ft]},getLayout:function(){return this.Ft},Mi:function(){this.w.setAttribute("touch_scroll",this.mc?"y":"x"),this.Ft.attachEvent("onAfterScroll",webix.bind(function(e){this.callEvent("onShow",[this.getActiveId()])},this)),webix.ui.each(this.Ft,function(e){e.x.setAttribute("role","tabpanel")})},adjustScroll:function(e){var t,i=this.mc?this.dc:this.bc;return this.mc?(t=Math.round(e.f/i),e.f=t*i):(t=Math.round(e.e/i),e.e=t*i),this.Mh=-t,this.s.navigation&&this.Eh(),!0},fc:function(e){var t,i,n,r,a,o;for(n=-1,i=this.Ft,t=0;t<i.q.length;t++)if(i.q[t]==e){n=t;break}0>n||n==this.Mh||(this.Mh=n,r=i.mc?this.dc:this.bc,a=-(i.mc?0:n*r),o=-(i.mc?n*r:0),this.scrollTo(a,o),this.callEvent("onShow",[i.q[this.Mh].s.id]),this.s.navigation&&this.Ch())},scrollTo:function(e,t){webix.Touch&&webix.animate.isSupported()&&this.s.animate?webix.Touch.Nf(this.w,e,t,this.s.scrollSpeed||"100ms"):(this.w.style.marginLeft=e+"px",this.w.style.marginTop=t+"px")},navigation_setter:function(e){return this.E(e,{type:"corner",buttons:!0,items:!0}),e},showNext:function(){this.Mh<this.Ft.q.length-1&&this.setActiveIndex(this.Mh+1)},showPrev:function(){this.Mh>0&&this.setActiveIndex(this.Mh-1)},setActiveIndex:function(e){var t=this.Ft.q[e].s.id;webix.$$(t).show()},getActiveIndex:function(){return this.Mh},$getSize:function(e,t){var i=this.Ft.$getSize(0,0),n=webix.ui.view.prototype.$getSize.call(this,e,t);return this.Ft.mc?(n[0]=Math.max(n[0],i[0]),n[1]=Math.min(n[1],i[1])):(n[2]=Math.max(n[2],i[2]),n[3]=Math.min(n[3],i[3])),n},$setSize:function(e,t){var i=this.Ft,n=i.q.length,r=webix.ui.view.prototype.$setSize.call(this,e,t),a=this.dc*(i.mc?n:1),o=this.bc*(i.mc?1:n);r?(this.w.style.height=a+"px",this.w.style.width=o+"px",i.$setSize(o,a),this.Ht()):i.$setSize(o,a)},Ht:function(){var e=this.Ft,t=this.Mh||0,i=e.mc?this.dc:this.bc,n=-(e.mc?0:t*i),r=-(e.mc?t*i:0);this.scrollTo(n,r),this.s.navigation&&this.Ch()},getActiveId:function(){var e=this.Ft.q[this.Mh];return e?e.s.id:null},setActive:function(e){webix.$$(e).show()}},webix.EventSystem,webix.NavigationButtons,webix.ui.view),webix.type(webix.ui.list,{name:"uploader",template:"#name#  {common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>",percent:function(e){return"transfer"==e.status?"<div style='width:60px; text-align:center; float:right'>"+e.percent+"%</div>":"<div class='webix_upload_"+e.status+"'><span class='"+("error"==e.status?"error_icon":"fa-check webix_icon")+"'></span></div>"},removeIcon:function(e){return"<div class='webix_remove_upload'><span class='cancel_icon'></span></div>"},on_click:{webix_remove_upload:function(e,t){webix.$$(this.config.uploader).files.remove(t)}}}),webix.UploadDriver={flash:{$render:function(e){window.swfobject||webix.require("legacy/swfobject.js",!0);var t=this.s;t.swfId=t.swfId||"webix_swf_"+webix.uid(),this.re().innerHTML+="<div class='webix_upload_flash'><div id='"+t.swfId+"'></div></div>",this._r=this.re().lastChild,swfobject.embedSWF(webix.codebase+"/legacy/uploader.swf",t.swfId,"100%","100%","9",null,{uploaderId:t.id,ID:t.swfId,enableLogs:t.enableLogs?"1":"",paramName:t.inputName,multiple:t.multiple?"Y":""},{wmode:"transparent"}),swfobject.getFlashPlayerVersion(),webix.UE(this.x,"click",webix.bind(function(){var e=new Date;e-(this.ds||0)>250&&this.fileDialog()},this)),this.files.attachEvent("onBeforeDelete",webix.bind(this.as,this))},$applyFlash:function(e,t){return this[e].apply(this,t)},getSwfObject:function(){return swfobject.getObjectById(this.s.swfId)},fileDialog:function(){this.getSwfObject()&&this.getSwfObject().showDialog()},send:function(e){if("function"==typeof e&&(this.fs=e,e=0),!e){var t=this.files.data.order,i=!0;if(t.length)for(var n=0;n<t.length;n++)i=this.send(t[n])&&i;return void(i&&this.gs())}var r=this.files.getItem(e);if("client"!==r.status)return!1;if(r.status="transfer",this.getSwfObject()){var a=this.rE(r),o=this.s.formData||{};"function"==typeof o&&(o=o.call(this));var s=webix.extend(r.formData||{},o);this.getSwfObject().upload(e,a,s)}return!0},$beforeAddFileToQueue:function(e,t,i){var n=t.split(".").pop(),r=this.ks(i);return this.callEvent("onBeforeFileAdd",[{id:e,name:t,size:i,sizetext:r,type:n}])},$addFileToQueue:function(e,t,i){if(this.files.exists(e))return!1;this.s.multiple||this.files.clearAll();var n=t.split(".").pop(),r=this.ks(i),a={name:t,id:e,size:i,sizetext:r,type:n,status:"client"};this.files.add(a),this.callEvent("onAfterFileAdd",[a]),e&&this.s.autosend&&this.send(e)},stopUpload:function(e){this.as(e)},as:function(e){var t=this.files.getItem(e);"transfer"==t.status&&(this.getSwfObject().uploadStop(e),t.status="client")},bs:function(){},$onUploadComplete:function(){this.s.autosend&&this.gs()},$onUploadSuccess:function(e,t,i){var n=this.files.getItem(e);n&&(n.status="server",n.progress=100,i.text&&"string"==typeof i.text&&(webix.DataDriver.json.toObject(i.text),webix.extend(n,i,!0)),this.callEvent("onFileUpload",[n,i]),this.callEvent("onChange",[]),this.files.updateItem(e))},$onUploadFail:function(e){var t=this.files.getItem(e);t.status="error",delete t.percent,this.files.updateItem(e),this.callEvent("onFileUploadError",[t,""])}},html5:{$render:function(e){if(this._r)return void this.w.firstChild.appendChild(this._r);this.files.attachEvent("onBeforeDelete",this.as);var t={type:"file",class:"webix_hidden_upload",tabindex:-1};this.s.accept&&(t.accept=this.s.accept),this.s.multiple&&(t.multiple="true"),this.s.directory&&(t.webkitdirectory="true",t.mozdirectory="true",t.directory="true");var i=webix.html.create("input",t);this._r=this.w.firstChild.appendChild(i),webix.UE(this.x,"drop",webix.bind(function(e){this.bs(e),webix.html.preventEvent(e)},this)),webix.UE(i,"change",webix.bind(function(){if(this.cs(i.files),webix.env.isIE){var e=document.createElement("form");e.appendChild(this._r),e.reset(),this.w.firstChild.appendChild(i)}else i.value=""},this)),webix.UE(this.x,"click",webix.bind(function(){var e=new Date;e-(this.ds||0)>250&&this.fileDialog()},this)),webix.UE(this.x,"dragenter",webix.html.preventEvent),webix.UE(this.x,"dragexit",webix.html.preventEvent),webix.UE(this.x,"dragover",webix.html.preventEvent)},kF:function(e){return e.isDirectory},lF:function(e,t,i){if(e.isFile)e.file(function(e){t.addFile(e,null,null,{name:i+"/"+e.name})});else if(e.isDirectory){var n=e.createReader();n.readEntries(function(n){for(var r=0;r<n.length;r++)t.lF(n[r],t,(i?i+"/":"")+e.name)})}},bs:function(e){var t=e.dataTransfer.files,i=e.dataTransfer.items;if(this.callEvent("onBeforeFileDrop",[t,e])){i=i||t;for(var n=0;n<i.length;n++){var r=i[n];this.s.directory&&r.webkitGetAsEntry&&(r=r.webkitGetAsEntry(),r.isDirectory)?this.lF(r,this,""):this.addFile(t[n])}}this.callEvent("onAfterFileDrop",[t,e])},fileDialog:function(e){this.ds=new Date,this.es=e;var t=this.x.getElementsByTagName("INPUT");t[t.length-1].click()},send:function(e){if("function"==typeof e&&(this.fs=e,e=0),!e){var t=this.files.data.order,i=!0;if(t.length)for(var n=0;n<t.length;n++)i=!this.send(t[n])&&i;return void(i&&this.gs())}var r=this.files.getItem(e);if("client"!==r.status)return!1;r.status="transfer";var a=new FormData;if(r.folder)for(var n=0;n<r.folder.length;n++)a.append(this.config.inputName+n,r.folder[n],r.folder[n].webkitRelativePath);else a.append(this.config.inputName,r.file,r.name),this.s.directory&&a.append(this.config.inputName+"_fullpath",r.name);var o={},s=this.s.formData||{};"function"==typeof s&&(s=s.call(this));var l=webix.extend(r.formData||{},s),u=new XMLHttpRequest,c=this.rE(r);if(webix.callEvent("onBeforeAjax",["POST",c,l,u,o,a])){for(var d in l)a.append(d,l[d]);r.xhr=u,u.upload.addEventListener("progress",webix.bind(function(t){this.$updateProgress(e,t.loaded/t.total*100)},this),!1),u.onload=webix.bind(function(t){u.aborted||this.is(e)},this),u.open("POST",c,!0);for(var d in o)u.setRequestHeader(d,o[d]);u.send(a)}return this.$updateProgress(e,0),!0},is:function(e){var t=this.files.getItem(e);if(t){var i=null;t.xhr.status<400&&(i=webix.DataDriver[this.s.datatype||"json"].toObject(t.xhr.responseText)),i&&"error"!=i.status?this.js(e,i):(t.status="error",delete t.percent,this.files.updateItem(e),this.callEvent("onFileUploadError",[t,i])),delete t.xhr}},stopUpload:function(e){webix.bind(this.as,this.files)(e)},as:function(e){var t=this.getItem(e);"undefined"!=typeof t.xhr&&(t.xhr.aborted=!0,t.xhr.abort(),delete t.xhr,t.status="client")}}},webix.protoUI({name:"uploader",defaults:{autosend:!0,multiple:!0,inputName:"upload"},$cssName:"button",Ce:!0,on_click:{webix_hidden_upload:function(){return!1}},send:function(){},fileDialog:function(){},stopUpload:function(){},$init:function(e){var t=webix.UploadDriver.html5;this.files=new webix.DataCollection,this.Ns=[this.files],(webix.isUndefined(XMLHttpRequest)||webix.isUndefined((new XMLHttpRequest).upload))&&(t=webix.UploadDriver.flash),webix.extend(this,t,!0)},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&this.render()},apiOnly_setter:function(e){return webix.delay(this.render,this),this.$apiOnly=e},cs:function(e){for(var t=0;t<e.length;t++)this.addFile(e[t])},link_setter:function(e){return e&&webix.delay(function(){var e=webix.$$(this.s.link);if(!e){var t=this.getTopParentView();t.$$&&(e=t.$$(this.s.link))}e.sync&&e.filter?e.sync(this.files):e.setValues&&this.files.data.attachEvent("onStoreUpdated",function(){e.setValues(this)}),e.s.uploader=this.s.id},this),e},addFile:function(e,t,i,n){var r=null;"object"==typeof e&&(r=e,e=r.name,t=r.size);var a=this.ks(t);i=i||e.split(".").pop();var o={file:r,name:e,id:webix.uid(),size:t,sizetext:a,type:i,context:this.es,status:"client"};if(this.s.directory&&r.webkitRelativePath&&(o.name=r.webkitRelativePath),n&&webix.extend(o,n,!0),this.callEvent("onBeforeFileAdd",[o])){this.s.multiple||this.files.clearAll();var s=this.files.add(o);this.callEvent("onAfterFileAdd",[o]),s&&this.s.autosend&&this.send(s)}return o},rE:function(e){var t=this.s.upload,i=webix.extend(e.urlData||{},this.s.urlData||{});if(t&&i){var n=[];for(var r in i)n.push(encodeURIComponent(r)+"="+encodeURIComponent(i[r]));n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&"))}return t},addDropZone:function(e,t){var i=webix.toNode(e),n="";t&&(n=" "+webix.html.createCss({content:'"'+t+'"'},":before"));var r="webix_drop_file"+n,a=null;webix.UE(i,"dragover",webix.html.preventEvent),webix.UE(i,"dragover",function(e){webix.html.addCss(i,r,!0),a&&(clearTimeout(a),a=null)}),webix.UE(i,"dragleave",function(e){a=setTimeout(function(){webix.html.removeCss(i,r)},150)}),webix.UE(i,"drop",webix.bind(function(e){return webix.html.removeCss(i,r),this.bs(e),webix.html.preventEvent(e)},this))},ks:function(e){for(var t=0;e>1024;)t++,e/=1024;return Math.round(100*e)/100+" "+webix.i18n.fileSize[t]},js:function(e,t){var i=this.files.getItem(e);webix.extend(i,t,!0),i.status="server",i.progress=100,this.callEvent("onFileUpload",[i,t]),this.callEvent("onChange",[]),this.files.updateItem(e),this.isUploaded()&&this.gs(t)},gs:function(e){this.callEvent("onUploadComplete",[e]),this.fs&&(this.fs.call(this,e),this.fs=0)},isUploaded:function(){for(var e=this.files.data.order,t=0;t<e.length;t++)if("server"!=this.files.getItem(e[t]).status)return!1;return!0},$onUploadComplete:function(){},$updateProgress:function(e,t){var i=this.files.getItem(e);i.percent=Math.round(t),this.files.updateItem(e)},setValue:function(e){"string"==typeof e&&e&&(e={value:e,status:"server"}),this.files.clearAll(),e&&this.files.parse(e),this.callEvent("onChange",[])},getValue:function(){var e=[];return this.files.data.each(function(t){"server"==t.status&&e.push(t.value||t.name)}),e.join(",")}},webix.ui.button),webix.html.addMeta=function(e,t){document.getElementsByTagName("head").item(0).appendChild(webix.html.create("meta",{name:e,content:t}))},function(){var e=function(){var e=!!(window.orientation%180);webix.ui.orientation!==e&&(webix.ui.orientation=e,webix.callEvent("onRotate",[e]))};webix.env.touch&&(webix.ui.orientation=!!((webix.isUndefined(window.orientation)?90:window.orientation)%180),webix.event(window,"onorientationchange"in window?"orientationchange":"resize",e)),webix.ui.fullScreen=function(){if(webix.env.touch){webix.html.addMeta("apple-mobile-web-app-capable","yes"),webix.html.addMeta("viewport","initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no");var t=function(){var e=window.innerWidth,t=window.innerHeight;t&&(document.body.style.height=t+"px",document.body.style.width=e+"px"),webix.ui.PG=!1,webix.ui.resize()},i=function(){webix.ui.PG=!0,webix.delay(t,null,[],500)};webix.attachEvent("onRotate",i),e(),webix.delay(i)}}}(),webix.history={track:function(e,t){if(this.ls(e,t),this.cG&&webix.$$(this.dG).detachEvent(this.cG),e){this.dG=e;var i=webix.$$(e),n=function(){webix.history.ms||i.getValue&&webix.history.push(e,i.getValue())};i.getActiveId?this.cG=i.attachEvent("onViewChange",n):this.cG=i.attachEvent("onChange",n)}},ns:function(e,t){webix.history.ms=1,e=webix.$$(e),e.callEvent("onBeforeHistoryNav",[t])&&e.setValue&&e.setValue(t),webix.history.ms=0},push:function(e,t,i){e=webix.$$(e);var n="";t&&(n="#!/"+t),webix.isUndefined(i)&&(i=e.getValue?e.getValue():t),window.history.pushState({webix:!0,id:e.s.id,value:i},"",n)},ls:function(e,t){webix.event(window,"popstate",function(e){e.state&&e.state.webix&&webix.history.ns(e.state.id,e.state.value)});var i=window.location.hash;webix.noanimate=!0,i&&0===i.indexOf("#!/")?webix.history.ns(e,i.replace("#!/","")):t&&(webix.history.push(e,t),webix.history.ns(e,t)),webix.noanimate=!1,this.ls=function(){}}},webix.protoUI({name:"slider",$touchCapture:!0,defaults:{min:0,max:100,value:50,step:1,title:!1,moveTitle:!0,template:function(e,t){var i=t.qs="x"+webix.uid(),n="",r="<div class='webix_slider_title"+(e.moveTitle?" webix_slider_move":"")+"'"+(!e.moveTitle&&e.vertical?" style='line-height:"+(e.aheight-2*e.inputPadding)+"px;'":"")+"></div>",a="<div class='webix_slider_left'>&nbsp;</div>",o="<div class='webix_slider_right'></div>",s="<div class='webix_slider_handle' role='slider' aria-label='"+e.label+(e.title?" "+e.title(e):"")+"' aria-valuemax='"+e.max+"' aria-valuemin='"+e.min+"' aria-valuenow='"+e.value+"' tabindex='0' id='"+i+"'>&nbsp;</div>";return n=e.vertical?"<div class='webix_slider_box'>"+o+a+s+"</div>"+r:r+"<div class='webix_slider_box'>"+a+o+s+"</div>",t.$renderInput(e,n,i)}},type_setter:function(e){this.x.className+=" webix_slider_"+e},title_setter:function(e){return"string"==typeof e?webix.template(e):e},rs:function(){return this.$view.querySelector(".webix_slider_handle")},oe:function(){var e=this.rs(),t=this.s;if(e){var i=t.vertical?this.dc:this.Ee(t),n=t.value%t.step?Math.round(t.value/t.step)*t.step:t.value,r=t.max-t.min;n=Math.max(Math.min(n,t.max),t.min),n=t.vertical?r-(n-t.min):n-t.min;var a=Math.ceil((i-2*this.mF)*n/r),o=i-2*this.mF-a,s=t.vertical?"top":"left",l=t.vertical?"height":"width";e.style[s]=this.mF+a-this.nF/2+"px",e.parentNode.style[l]=i+"px",o=Math.min(Math.max(o,2*this.oF),i-2*this.mF-2*this.oF),a=Math.min(Math.max(a,2*this.oF),i-2*this.mF-2*this.oF);var u=e.previousSibling;u.style[l]=o+"px";var c=u.previousSibling;c.style[l]=a+"px",this.BG(e,a,o,s)}},BG:function(e,t,i,n){var r=this.s;if(this.s.title){var a=e.parentNode[r.vertical?"nextSibling":"previousSibling"];if(a.innerHTML=this.s.title(this.s,this),this.s.moveTitle){var o=0;if(r.vertical)o=t+2*this.oF-this.nF/2;else{var s=a.clientWidth/2,l=s>t?s-t-2*this.oF:0,u=s>i?s-i-2*this.oF-this.nF/2:0;o=this.mF+t-s+l-u}a.style[n]=o+"px"}}},sE:function(){this.rs().setAttribute("aria-valuenow",this.s.value)},refresh:function(){var e=this.rs();e&&(this.sE(),this.s.title&&e.setAttribute("aria-label",this.s.label+" "+this.s.title(this.s,this)),this.oe())},$setValue:function(){this.refresh()},$getValue:function(){return this.s.value},$init:function(e){webix.env.touch?this.attachEvent("onTouchStart",webix.bind(this.ss,this)):webix.UE(this.x,"mousedown",webix.bind(this.ss,this)),webix.UE(this.$view,"keydown",webix.bind(this.tE,this)),e.vertical&&(e.height=e.height||webix.skin.$active.vSliderHeight,this.x.className+=" webix_slider_vertical",this.mF=webix.skin.$active.vSliderPadding)},$skin:function(){this.nF=webix.skin.$active.sliderHandleWidth,this.mF=webix.skin.$active.sliderPadding,this.oF=webix.skin.$active.sliderBorder},tE:function(e){var t=e.keyCode,i=this.s,n=i.value;if(t>32&&41>t){webix.html.preventEvent(e);var r=e.target||e.srcElement,a=/webix_slider_handle_(\d)/.exec(r.className);if(this.My=a?parseInt(a[1],10):-1,a&&(n=i.value[this.My]),n=n<i.min?i.min:n>i.max?i.max:n,35===t)n=i.min;else if(36===t)n=i.max;else{var o=37===t||40===t||34===t?-1:1;(33===t||34===t||i.step>1)&&(o*=i.step),n=1*n+o}if(a){var s=i.value[this.My?0:1];n=this.My&&s>=n||!this.My&&n>=s?s:n}if(n>=i.min&&n<=i.max){if(a){for(var l=[],u=0;u<i.value.length;u++)l[u]=u===this.My?n:i.value[u];n=l}this.setValue(n),this.My=-1}}},ss:function(e){var t=e.target||e.srcElement;this.Ky&&this.Ky(e);var i=this.s.value;return webix.isArray(i)&&(i=webix.copy(i)),-1!=t.className.indexOf("webix_slider_handle")?(this.$x=i,this.ts.apply(this,arguments)):void(-1!=t.className.indexOf("webix_slider")&&(this.$x=i,this.s.value=this.us.apply(this,arguments),this.ts(e)))},ts:function(e){webix.env.touch?this.vs=[this.attachEvent("onTouchMove",webix.bind(this.ws,this)),this.attachEvent("onTouchEnd",webix.bind(this.xs,this))]:this.vs=[webix.event(document.body,"mousemove",webix.bind(this.ws,this)),webix.event(window,"mouseup",webix.bind(this.xs,this))],webix.html.addCss(document.body,"webix_noselect")},xs:function(e){this.vs&&(webix.env.touch?(webix.detachEvent(this.vs[0]),webix.detachEvent(this.vs[1])):(webix.eventRemove(this.vs[0]),webix.eventRemove(this.vs[1])),this.vs=[]),webix.html.removeCss(document.body,"webix_noselect");var t=this.s.value;webix.isArray(t)&&(t=webix.copy(t)),this.s.value=this.$x,this.setValue(t),this.rs(this.My).focus(),this.My=-1},ws:function(e){this.s.value=this.us.apply(this,arguments),this.refresh(),this.callEvent("onSliderDrag",[])},us:function(e,t){var i=0,n=this.s.vertical?"y":"x";return i=webix.env.touch?t?t[n]:e[n]:webix.html.pos(e)[n],this.ys(i)},ys:function(e){var t=this.s,i=t.max-t.min,n=t.vertical?"y":"x",r=webix.html.offset(this.rs().parentNode)[n]+this.mF,a=(t.vertical?this.dc:this.Ee(t))-2*this.mF,o=a?(e-r)*i/a:0;return t.vertical&&(o=i-o),o=Math.round((o+t.min)/t.step)*t.step,Math.max(Math.min(o,t.max),t.min)},De:function(){}},webix.ui.text),webix.protoUI({name:"rangeslider",$cssName:"slider webix_rangeslider",defaults:{separator:",",value:"20,80",template:function(e,t){var i="x"+webix.uid();t.qs=[i+"_0",i+"_1"];var n="role='slider' aria-label='"+e.label+(e.title?" "+e.title(e):"")+"' aria-valuemax='"+e.max+"' aria-valuemin='"+e.min+"' tabindex='0'",r="<div class='webix_slider_handle webix_slider_handle_0' id='"+t.qs[0]+"' "+n+" aria-valuenow='"+e.value[0]+"'>&nbsp;</div>";r+="<div class='webix_slider_handle webix_slider_handle_1' id='"+t.qs[1]+"' "+n+" aria-valuenow='"+e.value[1]+"'>&nbsp;</div>";var a="<div class='webix_slider_title"+(e.moveTitle?" webix_slider_move":"")+"'"+(!e.moveTitle&&e.vertical?" style='line-height:"+(e.aheight-t.mF-2*e.inputPadding)+"px;'":"")+"></div>";e.moveTitle&&(a="<div class='webix_slider_title_box'>"+(a+a)+"</div>");var o="<div class='webix_slider_right'>&nbsp;</div><div class='webix_slider_left'></div>",s="";return s=e.vertical?"<div class='webix_slider_box'>"+o+r+"</div>"+a:a+"<div class='webix_slider_box'>"+o+r+"</div>",t.$renderInput(e,s,i)}},value_setter:function(e){return webix.isArray(e)||(e=e.toString().split(this.s.separator)),e.length<2&&(e[1]=e[0]),e[0]=parseFloat(e[0]),e[1]=parseFloat(e[1]),e},rs:function(e){return e=e&&e>=0?e:0,this.$view.querySelector(".webix_slider_handle_"+(e||0))},Ly:function(e,t){var i,n,r;return i=this.s,n=i.max-i.min,r=i.value[t]%i.step?Math.round(i.value[t]/i.step)*i.step:i.value[t],r=Math.max(Math.min(r,i.max),i.min),Math.ceil((e-2*this.mF)*(r-i.min)/n)},tH:function(e,t,i){var n=this.mF+t-this.nF/2*(i?-1:1);return n=i?e-n:n,n+"px"},uH:function(e,t,i,n){var r=t+this.mF+2*this.oF;return n&&(r=e-r-i),r+"px"},oe:function(){var e,t,i,n,r,a,o,s,l,u,c;t=this.rs(0),i=this.rs(1),e=this.s,webix.isArray(e.value)||this.define("value",e.value),t&&(l=e.vertical?"height":"width",c=e.vertical?"top":"left",u=e.vertical?this.dc:this.Ee(e),a=u-2*this.mF-2*this.oF,n=this.Ly(u,0),r=this.Ly(u,1),o=r-n,t.style[c]=this.tH(u,n,e.vertical),i.style[c]=this.tH(u,r,e.vertical),s=t.parentNode,s.style[l]=u+"px",s.firstChild.style[l]=a+"px",s.childNodes[1].style[l]=o+"px",s.childNodes[1].style[c]=this.uH(u,n,o,e.vertical),this.BG(t,[n,r],a,c))},vH:0,wH:function(e,t){webix.isUndefined(this.vH)||(e[this.vH].style.visibility="visible"),webix.isUndefined(t)||(e[t].style.visibility="hidden",this.vH=t)},BG:function(e,t,i,n){var r=this.s;if(this.s.title){var a=e.parentNode,o=r.vertical?"nextSibling":"previousSibling";if(r.moveTitle){for(var s=a[o].childNodes,l=[],u=0;2>u;u++)l.push(this.xH(s[u],r.value[u],t[u],i,n,u));var c=r.vertical?l[0]-l[1]-this.nF:l[1]-l[0],d=r.vertical?"clientHeight":"clientWidth";s[0][d]/2+s[1][d]/2>c?this.wH(s,webix.isUndefined(this.My)?0:this.My?0:1):this.wH(s);for(var u=0;2>u;u++)s[u].style[n]=l[u]+"px"}else a[o].innerHTML=this.s.title(this.s,this)}},xH:function(e,t,i,n,r,a){e.innerHTML=this.s.title({value:t},this);var o=e.clientWidth/2,s=0;return this.s.vertical?s=n-i-this.nF/2-(a?this.mF+this.config.inputPadding:0)+2*this.oF:(s=i+this.nF/2+2*this.oF-o,s=!a&&o>i?o-i+s:s,s=a&&o+i>n?s-o+(n-i):s),s},sE:function(){for(var e=0;2>e;e++)this.rs(e).setAttribute("aria-valuenow",this.s.value[e])},Ky:function(e){var t=e.target||e.srcElement,i=/webix_slider_handle_(\d)/.exec(t.className);this.My=i?parseInt(i[1],10):-1,i&&this.Ny(this.My)},setValue:function(e){var t=this.s.value,i="object"==typeof e?e.join(this.s.separator):e;return t.join(this.s.separator)!=i&&(this.s.value=e,this.se&&this.$setValue(e),void this.callEvent("onChange",[e,t]))},$getValue:function(){var e=this.s.value;return this.s.stringResult?e.join(this.s.separator):e},Ny:function(e){var t=this.rs(e),i=this.rs(1-e);-1==t.className.indexOf("webix_slider_active")&&(t.className+=" webix_slider_active"),i.className=i.className.replace(" webix_slider_active","")},ys:function(e){var t=this.s,i=t.value,n=t.max-t.min,r=t.vertical?"y":"x",a=webix.html.offset(this.rs().parentNode)[r],o=Math.ceil((e-a)*n/(t.vertical?this.dc:this.Ee(t)));o=Math.round((o+t.min)/t.step)*t.step,t.vertical&&(o=n-o);var s=null,l=webix.html.offset(this.rs(0))[r],u=webix.html.offset(this.rs(1))[r];if(l!=u||t.value[0]!=t.min&&t.value[0]!=t.max)if(this.My>=0)s=this.My;else if(l==u)s=l>e?0:1;else{var c=Math.abs(l-e),d=Math.abs(u-e);s=d>c?0:1,this.My=s}else s=t.value[0]==t.min?1:0,this.Ny(s);return s?i[s]=Math.max(Math.min(o,t.max),i[0]):i[s]=Math.max(Math.min(o,i[1]),t.min),i}},webix.ui.slider),webix.proxy.offline={$proxy:!0,storage:webix.storage.local,cache:!1,data:"",zs:function(){this.cache||webix.env.offline||(webix.callEvent("onOfflineMode",[]),webix.env.offline=!0)},As:function(){!this.cache&&webix.env.offline&&(webix.env.offline=!1,webix.callEvent("onOnlineMode",[]))},load:function(e,t){var i={error:function(){var i=this.getCache()||this.data,n={responseText:i},r=webix.ajax.prototype.J(n);this.zs(),webix.ajax.$callback(e,t,i,r,n)},success:function(i,n,r){this.As(),webix.ajax.$callback(e,t,i,n,r),this.setCache(i)}};this.cache&&this.getCache()?i.error.call(this):this.source.$proxy?this.source.load(this,i):webix.ajax(this.source,i,this)},getCache:function(){return this.storage.get(this.Bs())},clearCache:function(){this.storage.remove(this.Bs())},setCache:function(e){this.storage.put(this.Bs(),e)},Bs:function(){return this.source.$proxy?this.source.source+"_$proxy$_data":this.source+"_$proxy$_data"},saveAll:function(e,t,i,n){this.setCache(e.serialize()),webix.ajax.$callback(e,n,"",t)},result:function(e,t,i,n,r){for(var a=0;a<r.length;a++)i.processResult({id:r[a].id,status:r[a].operation},{},{})}},webix.proxy.cache={init:function(){webix.extend(this,webix.proxy.offline)},cache:!0},webix.proxy.local={init:function(){webix.extend(this,webix.proxy.offline)},cache:!0,data:[]},webix.ActiveContent={$init:function(e){if(e.activeContent){this.$ready.push(this.Ds),this.Es={},this.Fs={},this.Gs={},this.Hs={};for(var t in e.activeContent)if(this[t]=this.Is(t),e.activeContent[t].earlyInit){var i=webix.Xb;webix.Xb=null,this[t].call(this,{},this,e.activeContent),webix.Xb=i}}},uE:function(){for(var e in this.Hs){var t=this.Hs[e];t.destructor&&t.destructor()}},Ds:function(){if(this.attachEvent("onDestruct",webix.bind(this.uE,this)),webix.UE(this.$view,"blur",function(e){var t=e.target||e.srcElement;if("BUTTON"!=t.tagName){var i=webix.$$(e);if(i&&i!==this&&i.getValue&&i.setValue){i.getNode(e);var n=i.getValue();n!=i.s.value&&i.setValue(n)}}},{bind:this,capture:!0}),this.filter){for(var e in this.s.activeContent)this.type[e]=this[e],this[e]=this.Js(e);this.attachEvent("onBeforeRender",function(){this.type.masterUI=this}),this.type.masterUI=this}},Js:function(e){return function(t){for(var i=this.Hs[e],n=i.s.id,r=this.getItemNode(t).getElementsByTagName("DIV"),a=0;a<r.length;a++)if(r[a].getAttribute("view_id")==n){i.x=i.y=r[a];break}return i}},Ks:function(e,t,i){return function(n){if(n)for(var r=n.target||n.srcElement;r;){if(r.getAttribute&&r.getAttribute("view_id")){if(i.vE(e,r),i.locate){var a=i.locate(r.parentNode),o=i.Gs[t][a];e.s.value=o,e.s.$masterId=a}return r}r=r.parentNode}return e.x}},Ls:function(e,t){return function(i){var n=t.data;if(t.filter){var r=t.locate(this.x.parentNode);n=t.getItem(r),this.refresh(),t.Fs[e][r]=this.x.outerHTML||(new XMLSerializer).serializeToString(this.x),t.Gs[e][r]=i}n&&(n[e]=i)}},Is:function(e){return function(t,i,n){var r=i.Es?i:i.masterUI;if(!r.Es[e]){var a=document.createElement("DIV");n=n||r.s.activeContent;var o=webix.ui(n[e],a);a.firstChild.setAttribute("onclick","event.processed = true; if (webix.env.isIE8) event.srcElement.w_view = '"+o.s.id+"';"),o.getNode=r.Ks(o,e,r),o.attachEvent("onChange",r.Ls(e,r)),r.Hs[e]=o,r.Es[e]=a.innerHTML,r.Fs[e]={},r.Gs[e]={},o.$activeEl=o.$view}if(r.filter&&t[e]!=r.Gs[e]&&!webix.isUndefined(t[e])){var o=r.Hs[e];o.blockEvent(),r.vE(o,o.$activeEl),o.$view.firstChild||o.refresh(),o.setValue(t[e]),o.refresh(),o.unblockEvent(),r.Gs[e][t.id]=t[e],r.Fs[e][t.id]=o.x.outerHTML||(new XMLSerializer).serializeToString(o.x)}return r.Fs[e][t.id]||r.Es[e]}},vE:function(e,t){e.y=e.x=e.$view=t}},webix.ProgressBar={$init:function(){webix.isUndefined(this.cu)&&this.attachEvent&&(this.attachEvent("onBeforeLoad",this.showProgress),this.attachEvent("onAfterLoad",this.hideProgress),this.cu=null)},showProgress:function(e){if(!this.cu){e=webix.extend({position:0,delay:2e3,type:"icon",icon:"refresh",hide:!1},e||{},!0);var t="icon"==e.type?"fa-"+e.icon+" fa-spin":"";if(this.cu=webix.html.create("DIV",{class:"webix_progress_"+e.type,role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",tabindex:"0"},"<div class='webix_progress_state "+t+"'></div>"),this.setPosition||(this.x.style.position="relative"),webix.html.insertBefore(this.cu,this.x.firstChild,this.x),this.x.setAttribute("aria-busy","true"),!webix.Touch.$active&&this.getScrollState){var i=this.getScrollState();this.x.scrollWidth!=this.$width&&(this.cu.style.left=i.x+"px"),this.x.scrollHeight!=this.$height&&("bottom"!=e.type?this.cu.style.top=i.y+"px":this.cu.style.top=i.y+this.$height-this.cu.offsetHeight+"px")}this.du=1}e&&"icon"!=e.type?webix.delay(function(){if(this.cu){var t=e.position||1;if(this.cu.style[webix.env.transitionDuration]===webix.undefined&&e.delay){var i=0,n=0,r=t/e.delay*30,a=this;this.Oy&&(window.clearInterval(this.Oy),n=this.cu.firstChild.offsetWidth/this.cu.offsetWidth*100),this.Oy=window.setInterval(function(){30*i==e.delay?window.clearInterval(a.Oy):(a.cu&&a.cu.firstChild&&(a.cu.firstChild.style.width=n+i*r*t*100+"%"),i++)},30)}else this.cu.firstChild.style.width=100*t+"%",e.delay&&(this.cu.firstChild.style[webix.env.transitionDuration]=e.delay+"ms");e.hide&&webix.delay(this.hideProgress,this,[1],e.delay)}this.du=0},this):e&&"icon"==e.type&&e.hide&&webix.delay(this.hideProgress,this,[1],e.delay)},hideProgress:function(e){this.du&&(e=!0),this.cu&&(e?(this.Oy&&window.clearInterval(this.Oy),webix.html.remove(this.cu),this.cu=null,this.x.removeAttribute("aria-busy")):this.showProgress({position:1.1,delay:300,hide:!0}))}},webix.protoUI({name:"multitext",$cssName:"text",defaults:{icon:"plus-circle",iconWidth:25,separator:", "},getValueHere:function(){return webix.ui.text.prototype.getValue.call(this)},setValueHere:function(e){return webix.ui.text.prototype.$setValue.call(this,e)},getValue:function(){if("extra"==this.config.mode)return this.getValueHere();if(this.rH)return this.rH;for(var e=[this.getValueHere(this)],t=0;t<this.eu.length;t++){var i=webix.$$(this.eu[t]).getValueHere();i&&e.push(i)}return e.join(this.config.separator)},$setValue:function(e){if(e=e||"","extra"==this.config.mode)return this.setValueHere(e);this.rH=e;var t=e.split(this.config.separator);if(t.length!=this.eu.length+1){this.removeSection(),this.setValueHere.call(this,t[0]);for(var i=1;i<t.length;i++)this.addSection(t[i]);this.rH=""}else{this.setValueHere(t[0]);for(var i=0;i<this.eu.length;i++)webix.$$(this.eu[i]).setValueHere(t[i+1])}},yB:function(e){var t=this.config.master?webix.$$(this.config.master):this,i=t.getValue(),n=t.s.value;i!==n&&(t.s.value=i,t.callEvent("onChange",[i,n]))},addSection:function(e){var t=this.config,i={labelWidth:t.labelWidth,inputWidth:t.inputWidth,width:t.width,label:t.label?"&nbsp;":"",view:this.name,mode:"extra",value:e||"",icon:"minus-circle",suggest:t.suggest||null,master:t.id};webix.extend(i,t.subConfig||{},!0);var n=this.getParentView().addView(i);return webix.$$(n).attachEvent("onChange",this.yB),this.eu.push(n),this.callEvent("onSectionAdd",[n,this.eu.length]),n},removeSection:function(e){for(var t=this.config.master?webix.$$(this.config.master):this,i=t.eu.length-1;i>=0;i--){var n=t.eu[i];e&&n!=e||(t.eu.removeAt(i),this.getParentView().removeView(n),t.callEvent("onSectionRemove",[n,i+1]))}},on_click:{webix_input_icon:function(e,t,i){if("extra"==this.config.mode){this.removeSection(this.config.id);var n=this.getParentView().getChildViews();n[n.length-1].focus(),this.yB()}else webix.$$(this.addSection()).focus();return!1}},$init:function(){this.eu=webix.toArray([]),
this.attachEvent("onKeyPress",this.DD)},$render:function(e){this.$setValue(e.value)}},webix.ui.text),webix.protoUI({name:"organogram",defaults:{scroll:"auto",ariaLabel:"lines"},$init:function(){this.x.className+=" webix_organogram",this.v=document.createElement("DIV"),this.$ready.push(this.Av),webix.extend(this.data,webix.TreeStore,!0),this.data.provideApi(this,!0)},ad:"webix_dg_id",on_click:{webix_organogram_item:function(e,t){this.s.select&&("multiselect"==this.s.select||this.s.multiselect?this.select(t,!1,e.ctrlKey||e.metaKey||"touch"==this.s.multiselect,e.shiftKey):this.select(t),this.Qh=!1)}},on_context:{},on_dblclick:{},Av:function(){this.y.style.position="relative",this.data.attachEvent("onStoreUpdated",webix.bind(this.render,this))},pg:function(e){var t=this.data.Me[e.id];return this.callEvent("onItemRender",[e]),this.type.templateStart.call(this,e,this.type,t)+(e.$template?this.type["template"+e.$template].call(this,e,this.type,t):this.type.template.call(this,e,this.type,t))+this.type.templateEnd.call(this)},jb:function(e){var t=this.pg(e);return this.data.branch[e.id]&&(t+=this._x(e.id)),t},LA:function(){return this.type.listMarginX||this.type.listMarginY},_x:function(e,t){var i,n,r,a,o="",s=this.data.branch[e],l=this.data.Me[e],u=this.getItem(e),c=!!u&&u.$type;if(t=t||0,"list"===c&&(t+=this.type.listMarginX),e||(this.ay=[],this.$xy={},a=this.$width-2*this.type.padding,this.$xy[0]={totalWidth:a,start:this.type.padding,width:0,height:0,left:a/2,top:this.type.padding||0}),s){r=this.$xy[e],"list"!=c||this.LA()||(o+=this.type.templateListStart.call(this,u,this.type,l));var d=0,h=0;for(i=0;i<s.length;i++){n=s[i],a=this.by[n];var f=this.getItem(n);f.open==webix.undefined&&(f.open=!0),"list"==c&&this.data.addMark(n,"list_item","",1,!0);var p=this.cy(n);if("list"==c){var g=0;this.LA()?g=this.type.listMarginY:i||(g=this.type.marginY),this.$xy[n]={totalWidth:a,start:r.start,width:this.type.width,height:p,left:r.start+a/2-this.type.width/2+t,top:i?this.$xy[s[i-1]].top+this.$xy[s[i-1]].height+g+h:r.top+r.height+g},h=this.data.branch[n]?this.GG(n):0}else this.$xy[n]={totalWidth:a,start:r.start+d,width:this.type.width,height:p,left:r.start+d+a/2-this.type.width/2,top:r.top+r.height+(e?this.type.marginY:0)};o+=this.pg(f),d+=a}for(i=0;i<s.length;i++)n=s[i],this.data.branch[n]&&this.getItem(n).open?o+=this._x(n,t):u&&("list"!=u.$type?this.ay.push(this.$xy[n].top+this.$xy[n].height):i==s.length-1&&this.ay.push(this.$xy[n].top+this.$xy[n].height));var v=0;for(var m in this.$xy){var f=this.$xy[m];v=Math.max(f.left+f.width,v)}this.y.style.width=v+this.type.padding+this.type.marginX/2+"px","list"!=c||this.LA()||(o+=this.type.templateListEnd(u,this.type,l))}return o},GG:function(e){for(var t=this.data.branch[e],i=0,n=0;n<t.length;n++)i+=this.cy(t[n])+this.type.listMarginY,this.data.branch[t[n]]&&(i+=this.GG(t[n]));return i+this.type.marginY},cy:function(e){var t=this.getItem(e),i=this.type.height;return"function"==typeof i&&(i=i.call(t,this.type,this.data.Me[e])),this.dy||(this.dy=webix.html.create("div"),this.y.appendChild(this.dy)),this.dy.className=this.type.classname(t,this.type,this.data.Me[e]),this.dy.style.cssText="width:"+this.type.width+"px;height:"+i+("auto"==i?"":"px")+";",this.dy.innerHTML=this.type.template.call(this,t,this.type,this.data.Me[e]),this.dy.scrollHeight},ey:function(){var e={},t=this.type.width,i=this.type.marginX;return this.data.each(function(n){e[n.id]=t+i;var r=this.getParentId(n.id);if(r&&"list"!=this.getItem(r).$type)for(;r;){var a=this.branch[r];e[r]=0;for(var o=0;o<a.length;o++)e[r]+=e[a[o]]||0;r=this.getParentId(r)}}),this.by=e,e},getItemNode:function(e){if(this.t)return this.t[e];this.t={};for(var t=this.y.childNodes,i=0;i<t.length;i++){var n=t[i].getAttribute(this.ad);if(n&&(this.t[n]=t[i]),-1!=t[i].className.indexOf("webix_organogram_list")&&!this.LA())for(var r=t[i].childNodes,a=0;a<r.length;a++)n=r[a].getAttribute(this.ad),n&&(this.t[n]=r[a])}return this.getItemNode(e)},Ne:function(e){return this.v.innerHTML=this.pg(e),this.v.firstChild},render:function(e,t,i){if(this.isVisible(this.s.id)&&!this.$blockRender){if("update"==i){var n=this.getItemNode(e),r=this.t[e]=this.Ne(t);return webix.html.insertBefore(r,n),webix.html.remove(n),!0}return this.callEvent("onBeforeRender",[this.data])&&(this.ey(),this.t=null,this.y.innerHTML=this._x(0),this.dy=null,this.y.style.height=Math.max.apply(Math,this.ay)+this.type.padding+"px",this.fy(),this.resize(),this.callEvent("onAfterRender",[])),!0}},fy:function(){this.canvas&&this.canvas.clearCanvas(!0),this.canvas=new webix.Canvas({container:this.y,name:this.name,title:this.s.ariaLabel,width:this.y.offsetWidth,height:this.y.offsetHeight}),this.gy(0)},zo:function(e,t,i,n,r,a,o){e.strokeStyle=a,e.lineCap="square",e.lineWidth=o,e.beginPath(),e.moveTo(t,i),e.lineTo(n,r),e.stroke(),e.lineWidth=1},gy:function(e,t){var i,n,r,a,o,s,l,u,c,d;if(this.config.layout,t||(t=this.canvas.getCanvas()),this.$xy&&(e=e||0,r=this.data.branch[e],n=this.getItem(e),r&&r.length)){if(a=this.$xy[e],e)if(s=parseInt(a.left+a.width/2,10)+.5,l=parseInt(a.top+a.height,10),u=parseInt(a.top+a.height+this.type.marginY/2,10),"list"==n.$type){if(!this.LA())return u=parseInt(a.top+a.height+this.type.marginY,10),void this.zo(t,s,l,s,u,this.type.lineColor)}else this.zo(t,s,l,s,u,this.type.lineColor);for(l=parseInt(a.top+a.height+this.type.marginY/2,10)+.5,i=0;i<r.length;i++)e&&(o=this.$xy[r[i]],"list"==n.$type&&this.LA()?(s=parseInt(a.left+this.type.listMarginX/2,10)+.5,i?i==r.length-1&&(d=s):c=s,u=parseInt(o.top+o.height/2,10),this.zo(t,s,l-this.type.marginY/2,s,u,this.type.lineColor),this.zo(t,s,u,s+this.type.listMarginX/2,u,this.type.lineColor)):(s=parseInt(o.left+o.width/2,10)+.5,i?i==r.length-1&&(d=s):c=s,u=parseInt(o.top,10),this.zo(t,s,l,s,u,this.type.lineColor))),this.getItem(r[i]).open&&this.gy(r[i],t);e&&this.zo(t,c,l,d,l,this.type.lineColor)}},$getSize:function(e,t){var i=this.s.autowidth,n=this.s.autoheight;return i&&(e=this.y.offsetWidth+(this.y.offsetHeight>t&&!n?webix.ui.scrollSize:0)),n&&(t=this.y.offsetHeight+(this.y.offsetWidth>e&&!i?webix.ui.scrollSize:0)),webix.ui.view.prototype.$getSize.call(this,e,t)},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&(this.y.style.width=this.$width+"px",this.y.style.height=this.$height+"px",this.render())},type:{width:120,height:"auto",padding:20,marginX:20,marginY:20,listMarginX:0,listMarginY:0,lineColor:"#90caf9",classname:function(e,t,i){var n="webix_organogram_item ";return e.$css&&("object"==typeof e.$css&&(e.$css=webix.html.createCss(e.$css)),n+=" "+e.$css),i&&i.list_item&&(n+=" webix_organogram_list_item "),i&&i.$css&&(n+=i.$css),n+=" webix_organogram_level_"+e.$level},listClassName:function(e){var t="webix_organogram_list webix_organogram_list_"+e.$level;return e.$listCss&&("object"==typeof e.$listCss&&(e.$listCss=webix.html.createCss(e.$listCss)),t+=" "+e.$listCss),t},template:webix.template("#value#"),templateStart:function(e,t,i){var n="";if((!i||!i.list_item||t.listMarginX||t.listMarginY)&&this.$xy){var r=this.$xy[e.id];n+="width: "+r.width+"px; height: "+r.height+"px;",n+="top: "+r.top+"px; left: "+r.left+"px;"}return'<div webix_dg_id="'+e.id+'" class="'+t.classname.call(this,e,t,i)+'"'+(n?'style="'+n+'"':"")+'">'},templateEnd:webix.template("</div>"),templateListStart:function(e,t,i){var n="";if(this.$xy){var r=this.$xy[e.id];n+="width: "+r.width+"px;",n+="top: "+(r.top+r.height+t.marginY)+"px; left: "+r.left+"px;"}return'<div class="'+t.listClassName.call(this,e,t,i)+'"'+(n?'style="'+n+'"':"")+'">'},templateListEnd:webix.template("</div>")}},webix.AutoTooltip,webix.Group,webix.TreeAPI,webix.DataMarks,webix.SelectionModel,webix.MouseEvents,webix.Scrollable,webix.RenderStack,webix.TreeDataLoader,webix.DataLoader,webix.ui.view,webix.EventSystem),webix.protoUI({name:"barcode",defaults:{type:"ean13",height:160,width:220,paddingY:10,paddingX:20,textHeight:20,color:"#000",ariaLabel:"bars"},$init:function(){this.$view.className+=" webix_barcode",this.types||(this.types={default:this.type},this.type.name="default")},type:{},render:function(){this.isVisible(this.s.id)&&(this.canvas&&this.canvas.clearCanvas(!0),this.$view.innerHTML="",this.fy())},fy:function(){this.canvas=new webix.Canvas({container:this.$view,name:this.name,title:this.s.ariaLabel,width:this.$width,height:this.$height}),this.hy()},hy:function(){var e,t,i,n,r=this.s.value,a=this.s.type;if(!a||!this.types[a]||!r)return!1;if(e=this.type.encode(r),n=e.length,t=this.canvas.getCanvas(),n){var o=(this.$width-2*this.config.paddingX)/n,s=0;for(i=0;n>i;i++){var l=parseInt(e.charAt(i),10);l?(s++,i==n-1&&this.bp(t,i+1,o,s,n)):s&&(this.bp(t,i,o,s,n),s=0)}this.iy(r,o)}},bp:function(e,t,i,n,r){var a,o,s,l;o=parseInt(t*i+this.config.paddingX,10),a=parseInt(o-n*i,10),s=this.config.paddingY,l=this.$height-this.config.paddingY-this.config.textHeight,this.jy()&&(4>t||t>r-4||r/2+2>t&&t>r/2-2)&&(l+=this.config.textHeight/2),e.fillStyle=this.config.color,e.beginPath(),e.moveTo(a,s),e.lineTo(o,s),e.lineTo(o,l),e.lineTo(a,l),e.lineTo(a,s),e.fill()},iy:function(e,t){var i,n,r;if(this.type.template&&(e=this.type.template(e)),this.jy()){if(this.type.firstDigit&&(this.canvas.renderTextAt(!0,"left",this.config.paddingX,this.$height-this.config.paddingY,e.charAt(0)),e=e.slice(1)),n=e.length,this.type.lastDigit&&n--,n){var a=(this.$width-2*this.config.paddingX-11*t)/n;for(i=0;n>i;i++)r=this.config.paddingX+i*a+(n/2>i?3:8)*t+a/2,this.canvas.renderTextAt(!0,!0,r,this.$height-this.config.paddingY,e.charAt(i));this.type.lastDigit&&(r=this.config.paddingX+n*a+11*t,this.canvas.renderTextAt(!0,!1,r,this.$height-this.config.paddingY,e.charAt(n)))}}else this.canvas.renderTextAt(!0,!0,this.$width/2,this.$height-this.config.paddingY,e)},setValue:function(e){return this.s.value=e,this.render(),e},getValue:function(){var e=this.s.value;return this.type.template?this.type.template(e):e},type_setter:function(e){return this.types[e]?(this.type=webix.clone(this.types[e]),this.type.css&&(this.w.className+=" "+this.type.css)):this.customize(e),e},jy:function(){var e=this.config.type;return 0===e.indexOf("ean")||-1!=e.indexOf("upcA")},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&this.render()}},webix.ui.view),webix.type(webix.ui.barcode,{name:"ean8",encodings:[["0001101","1110010"],["0011001","1100110"],["0010011","1101100"],["0111101","1000010"],["0100011","1011100"],["0110001","1001110"],["0101111","1010000"],["0111011","1000100"],["0110111","1001000"],["0001011","1110100"]],encode:function(e){var t,i;if(e=e.replace(/[^0-9]/g,"").substring(0,7),7!=e.length)return"";for(e+=this.checksum(e),t="101",i=0;4>i;i++)t+=this.encodings[parseInt(e.charAt(i),10)][0];for(t+="01010",i=4;8>i;i++)t+=this.encodings[parseInt(e.charAt(i),10)][1];return t+="101"},template:function(e){return e.replace(/[^0-9]/g,"").substring(0,7)+this.checksum(e)},checksum:function(e){e=e.substring(0,7);var t,i=!0,n=0;for(t=0;7>t;t++)n+=(i?3:1)*parseInt(e.charAt(t),10),i=!i;return((10-n%10)%10).toString()}}),webix.type(webix.ui.barcode,{name:"ean13",firstDigit:!0,encodings:[["0001101","0100111","1110010","000000"],["0011001","0110011","1100110","001011"],["0010011","0011011","1101100","001101"],["0111101","0100001","1000010","001110"],["0100011","0011101","1011100","010011"],["0110001","0111001","1001110","011001"],["0101111","0000101","1010000","011100"],["0111011","0010001","1000100","010101"],["0110111","0001001","1001000","010110"],["0001011","0010111","1110100","011010"]],encode:function(e){var t,i,n;if(e=e.replace(/[^0-9]/g,"").substring(0,12),12!=e.length)return"";for(e+=this.checksum(e),t="101",i=this.encodings[parseInt(e.charAt(0),10)][3],n=1;7>n;n++)t+=this.encodings[parseInt(e.charAt(n),10)][parseInt(i.charAt(n-1),10)];for(t+="01010",n=7;13>n;n++)t+=this.encodings[parseInt(e.charAt(n),10)][2];return t+="101"},template:function(e){return e.replace(/[^0-9]/g,"").substring(0,12)+this.checksum(e)},checksum:function(e){var t,i=!1,n=0;for(e=e.substring(0,12),t=0;12>t;t++)n+=(i?3:1)*parseInt(e.charAt(t),10),i=!i;return((10-n%10)%10).toString()}}),webix.type(webix.ui.barcode,{name:"upcA",firstDigit:!0,lastDigit:!0,encode:function(e){return e.length<12&&(e="0"+e),webix.ui.barcode.prototype.types.ean13.encode(e)},template:function(e){return e.replace(/[^0-9]/g,"").substring(0,11)+this.checksum(e)},checksum:function(e){return e.length<12&&(e="0"+e),webix.ui.barcode.prototype.types.ean13.checksum(e)}}),webix.protoUI({name:"abslayout",$init:function(){this.$view.className+=" webix_abslayout",delete this.rows_setter,delete this.cols_setter,this.nc=[]},cells_setter:function(e){this.nc=e},kc:function(){webix.ui.baselayout.prototype.kc.call(this,this.nc)},$getSize:function(e,t){for(var i=webix.ui.baseview.prototype.$getSize.call(this,0,0),n=null,r=0;r<this.q.length;r++)this.q[r].s.relative&&(n=this.q[r].$getSize(0,0));return n&&(i[1]>=1e5&&(i[1]=0),i[3]>=1e5&&(i[3]=0),i[0]=Math.max(i[0],n[0]),i[1]=Math.max(i[1],n[1]),i[2]=Math.max(i[2],n[2]),i[3]=Math.max(i[3],n[3])),i},$setSize:function(e,t){this.lc=[e,t],webix.ui.baseview.prototype.$setSize.call(this,e,t),this.rc(e,t)},rc:function(e,t){for(var i=0;i<this.q.length;i++){var n=this.q[i],r=n.s,a=n.$getSize(0,0);r.relative?(r.left=r.top=0,n.$setSize(e,t)):n.$setSize(a[0],a[2]);for(var o=n.$view,s=["left","right","top","bottom"],l=0;l<s.length;l++){var u=s[l];u in r&&(o.style[u]=r[u]+"px")}}}},webix.ui.baselayout),webix.protoUI({name:"datalayout",$init:function(){this.data.provideApi(this,!0),this.data.attachEvent("onStoreUpdated",webix.bind(this.render,this))},kc:function(e){return this.cC||(this.cC=this.nc,this.nc=[{}]),webix.ui.layout.prototype.kc.call(this,this.nc)},setValue:function(e){this.parse(e)},getValue:function(e){for(var t=this.cC.length,i=0;i<this.q.length;i++){var n=this.data.order[Math.floor(i/t)],r=this.data.getItem(n);this.HG(this.q[i],r)}return this.data.serialize()},HG:function(e,t){var i=e.s.name;if(i){var n=null;e.getValues?n=e.getValues():e.getValue?n=e.getValue():e.serialize&&(n=e.serialize()),"$value"==i?webix.extend(t,n,!0):t[i]=n}else{var r=e.q;if(r)for(var a=0;a<r.length;a++)this.HG(r[a],t)}},sC:function(e,t){var i,n=e.s.name;if(n)i="$value"==n?t:t[n],e.setValues?e.setValues(i):e.setValue?e.setValue(i):e.parse&&(e.openAll&&(i=webix.copy(i)),e.parse(i));else{var r=e.q;if(r)for(var a=0;a<r.length;a++)this.sC(r[a],t)}},render:function(e,t,i){var n=this.cC.length;if(e&&"update"===i)for(var t=this.getItem(e),r=this.getIndexById(e),a=0;n>a;a++)this.sC(this.q[r*n+a],t);else{for(var o=this.nc=[],s=this.data.order,a=0;a<s.length;a++)if(n)for(var l=0;n>l;l++)o.push(webix.copy(this.cC[l]));else o.push(this.getItem(s[a]));if(o.length||o.push({}),this.reconstruct(),n)for(var a=0;a<s.length;a++)for(var u=this.getItem(s[a]),l=0;n>l;l++){var c=this.q[a*n+l];this.sC(c,u)}}}},webix.DataLoader,webix.ui.layout),webix.protoUI({$init:function(){webix.extend(this,webix.FlexLayout,!0)},name:"flexdatalayout"},webix.ui.datalayout),webix.protoUI({name:"gridlayout",defaults:{gridColumns:2,gridRows:2,margin:10,padding:10},gridRows_setter:function(e){return this.WG=e},kc:function(){for(var e=0;e<this.nc.length;e++)this.nc[e].Ob={};webix.ui.baselayout.prototype.kc.call(this,this.nc)},removeView:function(e){webix.ui.abslayout.prototype.removeView.call(this,e),this.pH(),this.callEvent("onChange",[])},XG:function(e){if(e.dx=e.dx||1,e.dy=e.dy||1,webix.isUndefined(e.y)||webix.isUndefined(e.x)){for(var t=this.YG(),i=0;i<this.WG;i++)for(var n=0;n<this.s.gridColumns;n++)if(!t[n][i]&&this.ZG(t,n,i,n+e.dx,i+e.dy))return e.x=n,void(e.y=i);e.x=0,e.y=this.WG}var r=e.x+e.dx-this.s.gridColumns;r>0&&(e.dx-=r)},Qb:function(e,t){this.XG(e.config),this.q.push(e),e.Xb=this,this.$view.appendChild(e.x),this.$G(e.config,e.config.id),this._G||this.callEvent("onChange",[])},ZG:function(e,t,i,n,r){for(var a=t;n>a;a++)for(var o=i;r>o;o++)if(!e[a]||e[a][o])return!1;return!0},aH:function(e,t,i){for(var n=0;n<t.dx;n++)for(var r=0;r<t.dy;r++)e[n+t.x][r+t.y]=i},bH:function(e,t,i){for(var n=this.s.gridColumns,r=t.x+t.dx;r+i.dx<=n;r++)if(this.ZG(e,r,i.y,r+i.dx,i.y+i.dy))return r-i.x;return 0},cH:function(e,t,i){for(var n=t.x-i.dx;n>=0;n--)if(this.ZG(e,n,i.y,n+i.dx,i.y+i.dy))return i.x-n;return 0},dH:function(e,t,i){for(var n=t.y-i.dy;n>=0;n--)if(this.ZG(e,i.x,n,i.x+i.dx,n+i.dy))return i.y-n;return 0},YG:function(e){for(var t=[],i=0;i<this.s.gridColumns;i++)t[i]=[];for(var n=0;n<this.q.length;n++){var r=this.q[n].config;r.id!==e&&this.aH(t,r,r.id)}return t},pH:function(){this.kH()&&this.eH()},kH:function(){var e=this.s.gridColumns,t=this.WG,i=this.YG(),n=!1;e:for(var r=t-1;r>=0;r--){for(var a=e-1;a>=0;a--)if(i[a][r])continue e;n=!0;for(var o=0;o<this.q.length;o++){var s=this.q[o].config;s.y>=r&&(s.y-=1)}}return n},$G:function(e,t,i){e.x-=Math.max(0,e.x+e.dx-this.s.gridColumns);for(var n=[],r=this.YG(t),a=0;a<this.q.length;a++){var o=this.q[a].config;o.id!==t&&o.y<e.y+e.dy&&o.y+o.dy>e.y&&o.x<e.x+e.dx&&o.x+o.dx>e.x&&n.push(o)}for(var s=[],a=0;a<n.length;a++){var o=n[a];this.aH(r,o,0);var l=this.bH(r,e,o);if(l)o.x+=l;else{var u=this.cH(r,e,o);if(u)o.x-=u;else{var c=this.dH(r,e,o);c?o.y-=c:(o.y=e.y+e.dy,s.push(o))}}this.aH(r,o,o.id)}for(var a=0;a<s.length;a++)this.$G(s[a],s[a].id,!0);i||(this.kH(),this.eH())},eH:function(){for(var e=this.s.gridRows,t=0;t<this.q.length;t++){var i=this.q[t].config;e=Math.max(e,i.y+i.dy)}this.WG!=e&&(this.WG=e,this.resize()),this.rc()},moveView:function(e,t){t=webix.extend(webix.$$(e).config,t,!0),this.$G(t,e),this.callEvent("onChange",[])},serialize:function(e){for(var t=[],i=0;i<this.q.length;i++)if(e)t.push(e.call(this,this.q[i]));else{var n=this.q[i].config;t.push({id:n.id,name:n.name,x:n.x,y:n.y,dx:n.dx,dy:n.dy})}return t},clearAll:function(){for(var e=0;e<this.q.length;e++)this.q[e].destructor();this.q=[]},restore:function(e,t){t=t||this.s.factory,e=webix.copy(e),this._G=!0;for(var i={},n=0;n<e.length;n++){var r,a=e[n],o=webix.$$(a.id);o?(webix.extend(o.config,a,!0),r=o.config.id):(o=t.call(this,a),r=this.addView(o)),i[r]=1}for(var n=this.q.length-1;n>=0;n--)i[this.q[n].config.id]||(this.q[n].destructor(),this.q.splice(n,1));this.eH(),this._G=!1},$getSize:function(e,t){for(var i=webix.ui.baseview.prototype.$getSize.call(this,0,0),n=0;n<this.q.length;n++)this.q[n].$getSize(0,0);var r=this.s.cellWidth,a=this.s.cellHeight,o=this.fH(0,0,this.s.gridColumns,this.WG);return r&&(i[0]=o.dx+2*o.x),a&&(i[2]=o.dy+2*o.y),i},fH:function(e,t,i,n){var r=this.s.margin,a=this.s.paddingX||this.s.padding,o=this.s.paddingY||this.s.padding,s=this.s.cellWidth;s||(s=(this.$width-2*a+r)/this.s.gridColumns-r);var l=this.s.cellHeight;l||(l=(this.$height-2*o+r)/this.WG-r);var u=a+(s+r)*e,c=o+(l+r)*t,d=Math.ceil(s+(s+r)*(i-1)),h=Math.ceil(l+(l+r)*(n-1));return{x:u,y:c,dx:d,dy:h}},rc:function(e,t){for(var i=0;i<this.q.length;i++){var n=this.q[i],r=n.s,a=this.fH(r.x,r.y,r.dx,r.dy);n.$getSize(0,0),n.$setSize(a.dx,a.dy);var o=n.$view;o.style.left=a.x+"px",o.style.top=a.y+"px"}}},webix.ui.abslayout),webix.protoUI({name:"dashboard",$init:function(){webix.DragControl.addDrag(this.$view,this),webix.DragControl.addDrop(this.$view,this,!0)},gH:function(e){if(!e.getAttribute||e.getAttribute("webix_disable_drag")||e.getAttribute("webixignore"))return!1;var t=(e.className||"").toString();return-1!=t.indexOf("panel_drag")?e:!(!e.parentNode||e==this.$view)&&this.gH(e.parentNode)},$dragCreate:function(e,t){if(t.target){if(!this.gH(t.target))return!1;var i=webix.$$(t);i.$resizeMove||(i=i.queryView(function(e){return!!e.config.dx},"parent"));var n=webix.html.offset(this.$view),r=webix.html.pos(t);return webix.DragControl.Gd={source:i,from:this,dashboard:{sx:r.x-n.x-parseInt(i.$view.style.left)+this.s.margin/2,sy:r.y-n.y-parseInt(i.$view.style.top)+this.s.margin/2}},this.hH(i.s.dx,i.s.dy),i.$view}},hH:function(e,t){var i=this.iH=webix.html.create("div",{class:"panel_target"}),n=this.fH(0,0,e,t);i.style.width=n.dx+"px",i.style.height=n.dy+"px",this.$view.appendChild(this.iH)},$drop:function(e,t){var i=webix.DragControl.Gd,n={x:i.dashboard.x,y:i.dashboard.y};if(i.from===this){var r=i.source.config;this.moveView(r.id,n)}else n.name=i.source[0],n.dx=i.dashboard.dx,n.dy=i.dashboard.dy,n.id=n.name+":"+webix.uid(),n=this.s.factory.call(this,n),this.addView(n)},$dragDestroy:function(e,t,i){t.style.zIndex=1,webix.html.remove(this.iH),this.iH=null,this.eH()},jH:function(e,t){var i=this.s.margin,n=this.s.paddingX||this.s.padding,r=this.s.paddingY||this.s.padding,a=this.s.cellWidth;a||(a=(this.$width-2*n+i)/this.s.gridColumns-i);var o=this.s.cellHeight;return o||(o=(this.$height-2*r+i)/this.WG-i),e=Math.round(-.2+(e-n)/(a+i/2)),t=Math.round(-.2+(t-n)/(o+i/2)),e=Math.max(0,Math.min(e,this.s.gridColumns)),t=Math.max(0,Math.min(t,this.WG)),{x:e,y:t,width:a,height:o,margin:i,rx:e*a+i*e+n,ry:t*o+i*t+r}},$dragOut:function(){var e=webix.DragControl.Gd;this.iH&&e.external&&(webix.html.remove(this.iH),this.iH=null)},$dragIn:function(e,t,i){var n=webix.DragControl.Gd;if(!this.iH){n.external=!0;var r=n.from.getItem(n.source);n.dashboard={dx:r.dx,dy:r.dy},this.hH(r.dx,r.dy)}if(n.external){var a=this.iH,o=webix.env.mouse.context(i),s=webix.html.offset(this.$view),l=this.jH(o.x-s.x,o.y-s.y);webix.extend(n.dashboard,l,!0),a.style.left=l.rx+"px",a.style.top=l.ry+"px"}return!0},$dragPos:function(e,t,i){var n=webix.DragControl.Gd;i.style.left="-10000px";var r=webix.env.mouse.context(t),a=webix.html.offset(this.$view),o=n.dashboard,s=this.jH(r.x-a.x-o.sx,r.y-a.y-o.sy);e.x=r.x-o.sx-a.x,e.y=r.y-o.sy-a.y;var l=this.iH;l.style.left=s.rx+"px",l.style.top=s.ry+"px",webix.extend(o,s,!0)}},webix.ui.gridlayout),webix.protoUI({name:"panel",$init:function(e){if(e.header&&e.body){var t=e.header;"object"!=typeof t&&(t={template:e.header,type:"header",css:"webix_header"}),e.body=[t,e.body]}webix.html.addCss(this.$view,"panel_drag_view"),this.$ready.push(this.Py)},Py:function(){var e=this.getChildViews(),t=1===e.length?this:e[1];if(this.s.icon){var i=webix.html.create("div",{class:"panel_icon"},"<span class='webix_icon fa-"+this.s.icon+" panel_icon_span'></span>");t!=this&&(t.$view.style.position="relative"),t.$view.appendChild(i)}},body_setter:function(e){return this.rows_setter(webix.isArray(e)?e:[e])},$resizeEnd:function(e){var t=this.getParentView();if(t&&t.jH){var i=t.jH(e.x,e.y),n=(this.s,Math.max(i.x,1)),r=Math.max(i.y,1);t.moveView(this.s.id,{dx:n,dy:r})}},$resizeMove:function(e){var t=this.getParentView();if(t&&t.jH){var i=t.jH(e.x,e.y);e.x=i.width*i.x+i.margin*(i.x-1),e.y=i.height*i.y+i.margin*(i.y-1)}}},webix.ui.layout,webix.ResizeArea),webix.protoUI({name:"video",$init:function(e){e.id||(e.id=webix.uid()),this.$ready.push(this.Ms)},Ms:function(){var e=this.s;if(this.w=webix.html.create("video",{class:"webix_view_video",style:"width:100%;height:100%;",autobuffer:"autobuffer"},""),e.poster&&(this.w.poster=e.poster),e.src){"object"!=typeof e.src&&(e.src=[e.src]);for(var t=0;t<e.src.length;t++)this.w.innerHTML+=' <source src="'+e.src[t]+'">'}e.controls&&(this.w.controls=!0),e.autoplay&&(this.w.autoplay=!0),this.x.appendChild(this.w)},getVideo:function(){return this.w},defaults:{src:"",controls:!0}},webix.ui.view),webix.protoUI({name:"sidemenu",defaults:{animate:!0,position:"left",width:200,borderless:!0},$init:function(){this.$view.className+=" webix_sidemenu"},$skin:function(){this.defaults.padding=0},position_setter:function(e){var t=this.s.position;return t&&webix.html.removeCss(this.$view," webix_sidemenu_"+t),webix.html.addCss(this.$view," webix_sidemenu_"+e),e},$getSize:function(){var e=webix.ui.window.prototype.$getSize.apply(this,arguments);return this.MA=e,e},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t),e=this.bc-2*this.s.padding,t=this.dc-2*this.s.padding,this.w.style.padding=this.s.padding+"px",this.bd.style.display="none",this.ed.style.height=t+"px",this.gd.$setSize(e,t)},show:function(){return!!this.callEvent("onBeforeShow",arguments)&&(this.s.hidden=!1,this.x.style.zIndex=this.s.zIndex||webix.ui.zIndex(),(this.s.modal||this.my)&&(this.Md(!0),this.my=null),this.x.style.display="block",this.Qd(),this.s.position&&this.Td(),this.Ww=1,webix.delay(function(){this.Ww=0},this,[],webix.env.touch?400:100),this.config.autofocus&&(this.Vd=webix.UIManager.getFocus(),webix.UIManager.setFocus(this)),-1==webix.ui.et.find(this)&&webix.ui.et.push(this),void this.callEvent("onShow",[]))},Td:function(e){var t,i,n,r,a,o=0,s=0,l={};this.$view.style.position="fixed",n=window.innerWidth||document.documentElement.offsetWidth,r=window.innerHeight||document.documentElement.offsetHeight,t=this.MA[0]||n,i=this.MA[2]||r,a=this.s.position,"top"==a?t=n:"right"==a?(i=r,o=n-t):"bottom"==a?(t=n,s=r-i):i=r,l={left:o,top:s,width:t,height:i,maxWidth:n,maxHeight:r},"function"==typeof this.s.state&&this.s.state.call(this,l),this.NA=l,this.$setSize(l.width,l.height),"undefined"==typeof e&&this.OA()?(webix.html.removeCss(this.$view,"webix_animate",!0),this.Qf[this.s.position].beforeShow.call(this,l),webix.delay(function(){webix.html.addCss(this.$view,"webix_animate",!0)},this,null,1),webix.delay(function(){this.Qf[this.s.position].show.call(this,l)},this,null,10)):("right"===this.s.position&&(l.left=l.right?n-l.width-l.right:n-l.width),this.setPosition(l.left,l.top))},OA:function(){return webix.animate.isSupported()&&this.s.animate&&!(webix.env.isIE&&-1!=navigator.appVersion.indexOf("MSIE 9"))},hidden_setter:function(e){return e?this.hide(!0):this.show(),!!e},Qf:{left:{beforeShow:function(e){this.$view.style.left=-e.width+"px",this.$view.style.top=e.top+"px"},show:function(e){this.$view.style.left=e.left?e.left+"px":"0px"},hide:function(e){this.$view.style.left=-e.width+"px"}},right:{beforeShow:function(e){this.$view.style.left="auto",this.$view.style.right=-e.width+"px",this.$view.style.top=e.top+"px"},show:function(e){this.$view.style.right=e.right?e.right+"px":"0px"},hide:function(e){this.$view.style.right=-e.width+"px"}},top:{beforeShow:function(e){this.setPosition(e.left,e.top),this.$view.style.height="0px",this.ed.style.height="0px"},show:function(e){this.$view.style.height=e.height+"px",this.ed.style.height=e.height+"px"},hide:function(){this.$view.style.height="0px",this.ed.style.height="0px"}},bottom:{beforeShow:function(e){this.$view.style.left=e.left+"px",this.$view.style.top="auto";var t=e.bottom!=webix.undefined?e.bottom:e.maxHeight-e.top-e.height;this.$view.style.bottom=t+"px",this.$view.style.height="0px"},show:function(e){this.$view.style.height=e.height+"px"},hide:function(){this.$view.style.height="0px"}}},hide:function(e){if(!this.$destructed){this.s.modal&&this.Md(!1);var t=window.innerWidth||document.documentElement.offsetWidth,i=window.innerHeight||document.documentElement.offsetHeight;if(!e&&this.OA()&&t==this.NA.maxWidth&&i==this.NA.maxHeight){this.Qf[this.s.position].hide.call(this,this.NA);var n=webix.event(this.$view,webix.env.transitionEnd,webix.bind(function(e){this.Wd(),webix.eventRemove(n)},this))}else this.Wd();if(this.s.autofocus){var r=document.activeElement;r&&this.x&&this.x.contains(r)&&(webix.UIManager.setFocus(this.Vd),this.Vd=null)}this.ny()}}},webix.ui.popup),webix.protoUI({name:"sidebar",defaults:{titleHeight:40,type:"sideBar",activeTitle:!0,select:!0,scroll:!1,collapsed:!1,collapsedWidth:41,position:"left",width:250,mouseEventDelay:10},$init:function(e){this.$ready.push(this.yH),this.$ready.push(this.zH),this.data.qf=function(e){e.data&&(e.menu=webix.copy(e.data))}},on_context:{},on_mouse_move:{},yH:function(){this.AH=this.config.width,this.attachEvent("onBeforeOpen",function(e){if(!this.config.multipleOpen)for(var t=this.getOpenItems(),i=0;i<t.length;i++)this.getParentId(e)==this.getParentId(t[i])&&this.close(t[i]);return!this.config.collapsed}),this.attachEvent("onItemClick",function(e,t,i){this.getPopup()&&!this.getPopup().config.hidden&&(t.showpopup=!0),webix.env.touch&&this.BH(e,i)}),this.attachEvent("onBeforeSelect",function(e){return!this.getItem(e).$count&&(this.clearCss("webix_sidebar_selected"),!0)}),this.attachEvent("onAfterSelect",function(e){this.CH(this,e,!0),this.getPopup().DH(e)}),this.attachEvent("onMouseMove",function(e,t,i){this.BH(e,i)}),this.config.collapsed&&this.collapse()},BH:function(e,t){if(this.config.collapsed){var i=this.getPopup();i&&(this.EH(e),this.FH(e),i.show(t,{x:"left"==this.config.position?this.config.collapsedWidth:-i.config.width,y:-1}))}},EH:function(e){var t=this.getPopup(),i=t.getBody().getChildViews()[0];if(i){var n=this.getSelectedId();i.masterId=e,i.parse(this.getItem(e)),n&&this.getParentId(n)==e?webix.html.addCss(i.$view,"webix_sidebar_selected",!0):webix.html.removeCss(i.$view,"webix_sidebar_selected"),n==e?webix.html.addCss(i.$view,"webix_selected",!0):webix.html.removeCss(i.$view,"webix_selected")}},FH:function(e){var t=this.getPopup(),i=t.getBody().getChildViews()[1];if(i){i.clearCss("webix_sidebar_selected"),i.masterId=e;var n=this.getSelectedId(),r=this.getItem(e).menu?webix.copy(this.getItem(e).menu):[].concat(webix.copy(this.data.getBranch(e)));i.unselect(),r.length?(i.show(),i.data.importData(r),i.exists(n)?i.select(n):n&&this.CH(i,n)):i.hide()}},zH:function(){var e,t=this,i=t.config;if(i.popup&&(e=webix.$$(i.popup)),!e){var n="left"==i.position?"webix_sidebar_popup_left":"webix_sidebar_popup_right",r="left"==i.position?"right":"left",a=function(e){var t=e.submenu||e.data?'<div class="webix_icon fa-angle-'+("left"==i.position?"right":"left")+'"></div>':"";return t+e.value},o={view:"popup",css:"webix_sidebar_popup "+n,autofit:!1,width:this.AH-this.config.collapsedWidth,borderless:!0,padding:0,body:{rows:[{view:"template",borderless:!0,css:"webix_sidebar_popup_title",template:"#value#",height:this.config.titleHeight+2,onClick:{webix_template:function(){var e=this.masterId;t.getItem(e).$count||t.select(e)}}},{view:"menu",submenu:"data",layout:"y",subMenuPos:r,select:!0,borderless:!0,autoheight:!0,css:"webix_sidebar_popup_list "+n,template:a,type:{subsign:!1},submenuConfig:{padding:0,subMenuPos:r,template:a,select:!0,type:{subsign:!1},css:"webix_sidebar_popup_list "+n,on:{onShow:function(){this.clearCss("webix_sidebar_selected"),this.unselectAll();var e=t.getSelectedId();e&&this.exists(e)?this.select(e):e&&t.CH(this,e)},onBeforeSelect:function(e){return!this.getSubMenu(e)&&void 0},onAfterSelect:function(e){for(var i=t.getPopup().queryView({view:"menu"}),n=t.getParentId(e);n;){var r=i.getMenu(n);r&&(r.unselectAll(),t.CH(r,e)),n=t.getParentId(n)}t.CH(this,e)}}},on:{onBeforeSelect:function(e){return!this.getSubMenu(e)&&void 0},onMenuItemClick:function(e){this.getSubMenu(e)||t.select(e)}}}]}};webix.extend(o,i.popup||{},!0),e=webix.ui(o),e.DH=function(e){t&&t.getParentId(e)==this.masterId&&webix.html.addCss(this.$view,"webix_sidebar_selected",!0),t.config.collapsed&&1==t.getItem(e).$level&&webix.html.addCss(this.$view,"webix_selected",!0)},e.queryView({view:"menu"}).sH=!0}e.attachEvent("onBeforeShow",function(){return i.collapsed}),this.Ns=[e],i.popupId=e.config.id,webix.UE(document.body,"mousemove",function(t){var i=t.target||t.srcElement;e.config.hidden||e.$view.contains(i)||this.$view.firstChild.contains(i)||e.queryView({view:"menu"}).dr||e.hide()},{bind:this})},CH:function(e,t,i){var n="webix_sidebar_selected";e.data.each(function(r){!this.GH(t,r.id)||i&&"0"!=this.getParentId(r.id)?e.hasCss(r.id,n)&&e.removeCss(r.id,n):e.addCss(r.id,n)},this)},GH:function(e,t){var i=this.getParentId(e);return t==i||!!i&&this.GH(i,t)},getPopup:function(){return webix.$$(this.config.popupId)},position_setter:function(e){var t=e,i="left"==e?"right":"left";webix.html.removeCss(this.$view,"webix_sidebar_"+i),webix.html.addCss(this.$view,"webix_sidebar_"+t,!0);var n=this.getPopup();if(n){var r=n.$view;webix.html.removeCss(r,"webix_sidebar_popup_"+i),webix.html.addCss(r,"webix_sidebar_popup_"+t,!0)}return e},collapse:function(){this.define("collapsed",!0)},expand:function(){this.define("collapsed",!1)},toggle:function(){var e=!this.config.collapsed;this.define("collapsed",e)},collapsed_setter:function(e){var t;return e?(t=this.config.collapsedWidth,this.closeAll(),
this.type.collapsed=!0,webix.html.removeCss(this.$view,"webix_sidebar_expanded")):(t=this.AH,this.type.collapsed=!1,webix.html.addCss(this.$view,"webix_sidebar_expanded",!0)),this.define("width",t),this.resize(),e}},webix.ui.tree),webix.type(webix.ui.tree,{name:"sideBar",height:"auto",css:"webix_sidebar",template:function(e,t){return t.collapsed?t.icon(e,t):t.arrow(e,t)+t.icon(e,t)+"<span>"+e.value+"</span>"},arrow:function(e,t){for(var i="",n=1;n<=e.$level;n++)if(n==e.$level&&e.$count){var r="webix_sidebar_dir_icon webix_icon fa-angle-"+(e.open?"down":"left");i+="<span class='"+r+"'></span>"}return i},icon:function(e,t){var i="";return e.$level>2&&(i='style="padding-left:'+40*(e.$level-2)+'px"'),e.icon?"<span class='webix_icon webix_sidebar_icon fa-"+e.icon+"' "+i+"></span>":"<span "+i+"></span>"}}),function(){var e=webix.CustomScroll={scrollStep:40,init:function(){this.ze(),webix.env.$customScroll=!0,webix.ui.scrollSize=0,webix.destructors.push({obj:{destructor:function(){this.gu=null}}}),webix.attachEvent("onReconstruct",e.hu),webix.attachEvent("onResize",e.hu),webix.attachEvent("onClick",e.hu)},resize:function(){this.hu()},mk:function(t){t.Vf.iu=t.s.id,t.attachEvent("onAfterRender",function(){var t=e.ju(this),i=Math.max(t.dy-t.py,0),n=Math.max(t.dx-t.px,0);this.Wj&&this.jk>i?this.Wj.scrollTo(i):this.Zj&&this.bk>n&&this.Zj.scrollTo(n),e.gu==this.Vf&&e.hu()}),webix.UE(t.Vf,"mouseover",e.ku),webix.UE(t.Vf,"mouseout",e.lu)},enable:function(t,i){if(e.ze(),t.mapCells)return this.mk(t);var n=t;t.y&&(n=t.y.parentNode),n.mu=i||"xy",webix.UE(n,"mouseover",e.ku),webix.UE(n,"mouseout",e.lu),webix.UE(n,"mousewheel",e.nu),webix.UE(n,"DOMMouseScroll",e.nu),this.wE(t)},hu:function(){var t=e.gu;t&&t.ou&&(e.pu.call(t),e.ku.call(t))},ze:function(t){webix.event(document.body,"mousemove",function(t){e.qu&&e.ru(e.qu,e.qu.su,webix.html.pos(t))}),e.ze=function(){}},ku:function(t){if(e.gu=this,clearTimeout(this.tu),!this.ou&&!e.qu){var i;if(this.iu){var n=webix.$$(this.iu);if(!n)return;i=e.ju(n)}else i={dx:this.scrollWidth,dy:this.scrollHeight,px:this.clientWidth,py:this.clientHeight},i.ec=i.dx>i.px&&-1!=this.mu.indexOf("x"),i.cc=i.dy>i.py&&-1!=this.mu.indexOf("y");this.ou=i,i.ec&&(i.uu=e.Om(this,"x",i.dx,i.px,"width","height"),i.vu=i.px-i.uu.offsetWidth-4,i.wu=i.dx-i.px,e.trackBar&&(i.wA=e.xA(this,"x"))),i.cc&&(i.xu=e.Om(this,"y",i.dy,i.py,"height","width"),i.yu=i.py-i.xu.offsetHeight-4,i.zu=i.dy-i.py,e.trackBar&&(i.yA=e.xA(this,"y"))),e.sk(this)}},xA:function(e,t){var i=webix.html.create("DIV",{webixignore:"1",class:"webix_c_scroll_bar_"+t},"");return e.appendChild(i),i},ru:function(t,i,n){var r=t.ou,a=t.iu;if(a&&(a=webix.$$(a)),r.uu==t.Au){var o=(n.x-i.x)*r.wu/r.vu;a?a.Zj.scrollTo(a.bk+o):e.Bu(t,"scrollLeft",o)}if(r.xu==t.Au){var o=(n.y-i.y)*r.zu/r.yu;a?a.Wj.scrollTo(a.jk+o):e.Bu(t,"scrollTop",o)}t.su=n,e.sk(t)},ju:function(e){var t={};return e.Zj&&e.s.scrollX&&(t.dx=e.Zj.s.scrollWidth,t.px=e.Zj.Si||1,t.ec=t.dx-t.px>1),e.Wj&&e.s.scrollY&&(t.dy=e.Wj.s.scrollHeight,t.py=e.Wj.Si||1,t.cc=t.dy-t.py>1),t},lu:function(){clearTimeout(this.tu),this.tu=webix.delay(e.pu,this,[],200)},Cu:function(e){e&&(webix.html.remove(e),e.Du&&(webix.eventRemove(e.Du),webix.eventRemove(e.Eu)))},pu:function(){if(this.ou){if(this.Au)return void(this.Fu=!0);var t=this.ou;e.Cu(t.uu),e.Cu(t.xu),webix.html.removeCss(document.body,"webix_noselect"),t.wA&&webix.html.remove(t.wA),t.yA&&webix.html.remove(t.yA),this.ou=null}},nu:function(t){var i=this.ou,n=t.wheelDelta/-40,r=!0;if(!n&&t.detail&&webix.isUndefined(t.wheelDelta)&&(n=t.detail),i)if(i.uu&&(t.wheelDeltaX||n&&!i.xu)){var a=t.wheelDeltaX/-40||n;r=e.Bu(this,"scrollLeft",a*e.scrollStep)}else n&&i.xu&&(r=e.Bu(this,"scrollTop",n*e.scrollStep));return e.sk(this),r!==!1?webix.html.preventEvent(t):void 0},Bu:function(t,i,n){var r=t.ou,a="scrollLeft"==i?r.dx-r.px:r.dy-r.py,o=t[i];return o+n>a&&(n=a-o),!(!n||0>o+n&&0===o)&&(webix.env.isIE?(e.sk(t,i,n+o),t[i]+=n):t[i]+=n,!0)},Om:function(t,i,n,r,a,o){var s=webix.html.create("DIV",{webixignore:"1",class:"webix_c_scroll_"+i},"<div></div>");return s.style[a]=Math.max(r*r/n-7,40)+"px",t.style.position="relative",t.appendChild(s),t.Du=webix.event(s,"mousedown",e.Gu(t)),t.Eu=webix.event(document.body,"mouseup",webix.bind(e.Hu,t)),s},Gu:function(t){return function(i){webix.html.addCss(document.body,"webix_noselect",1),this.className+=" webix_scroll_active",e.qu=t,t.Au=this,t.su=webix.html.pos(i)}},Hu:function(t){this.Au&&(webix.html.removeCss(document.body,"webix_noselect"),this.Au.className=this.Au.className.toString().replace(" webix_scroll_active",""),this.Au=!1,e.qu=0,this.Fu&&(e.pu.call(this),this.Fu=!1))},sk:function(e,t,i){var n=e.ou;if(n&&(n.uu||n.xu)){var r=e.iu,a="scrollLeft"==t?i:e.scrollLeft,o=r?webix.$$(r).bk:a,s=r?0:o,l="scrollTop"==t?i:e.scrollTop,u=r?webix.$$(r).jk:l,c=r?0:u;n.uu&&(n.uu.style.bottom=1-c+"px",n.uu.style.left=Math.round(n.vu*o/(n.dx-n.px))+s+1+"px",n.wA&&(n.wA.style.bottom=1-c+"px",n.wA.style.left=s+"px")),n.xu&&(n.xu.style.right=0-s+"px",n.xu.style.top=Math.round(n.yu*u/(n.dy-n.py))+c+1+"px",n.yA&&(n.yA.style.right=0-s+"px",n.yA.style.top=c+"px"))}},wE:function(t){t.data&&t.data.attachEvent&&t.data.attachEvent("onStoreUpdated",function(){var i=e.gu;i&&t.$view.contains(i)&&e.resize()})}}}(),webix.protoUI({name:"portlet",defaults:{layoutType:"wide",icon:"bars"},$init:function(e){this.x.style.position="relative",e.header&&e.body&&(e.body=[{template:e.header,type:"header"},e.body]),this.$ready.push(this.Py),webix.attachEvent("onAfterPortletMove",this.xC)},xC:function(e){webix.ui.each(e,function(e){e.Ow&&e.Ow()})},Py:function(){var e=this.getChildViews();if(e.length>1)webix.DragControl.addDrag(e[0].$view,this);else if(this.s.icon){var t=webix.html.create("div",{class:"portlet_drag"},"<span class='webix_icon fa-"+this.s.icon+"'></span>");this.x.appendChild(t),webix.DragControl.addDrag(t,this)}else webix.DragControl.addDrag(this.$view,this)},body_setter:function(e){return this.rows_setter(webix.isArray(e)?e:[e])},markDropArea:function(e,t){return e?(e=webix.$$(e),this.Qy||(this.Qy=webix.html.create("div",null,"&nbsp;")),e.$view.appendChild(this.Qy),void(this.Qy.className="portlet_marker"+t)):webix.html.remove(this.Qy)},movePortlet:function(e,t){var i=e.getParentView(),n=this.getParentView(),r=i.index(e),a=n.index(this);if(webix.callEvent("onBeforePortletMove",[n,i,this,e,t])){webix.ui.PG=!0;var o=n!=i?1:0,s=i.mc;"top"==t||"bottom"==t?(1!==s&&(i=webix.ui({type:e.s.layoutType,rows:[]},i,r+o),webix.ui(e,i,0),r=0,o=1),"bottom"==t&&(o+=1)):("left"==t||"right"==t)&&(0!==s&&(i=webix.ui({type:e.s.layoutType,cols:[]},i,r+o),webix.ui(e,i,0),r=0,o=1),"right"==t&&(o+=1)),r>a&&(o-=1),webix.ui(this,i,r+o),"replace"==t&&webix.ui(e,n,a),this.Ry(n),webix.ui.PG=!1,n.getTopParentView(),e.resize(),n.resize(),webix.callEvent("onAfterPortletMove",[n,i,this,e,t])}},Ry:function(e){for(var t,i=0;e.getChildViews().length<=i;)t=e,e=e.getParentView(),i=1;i&&e.removeView(t)},$drag:function(e,t){return webix.html.addCss(this.x,"portlet_in_drag"),webix.DragControl.Gd={source:e,from:e},this.x.innerHTML},$dragDestroy:function(e,t,i){webix.html.removeCss(this.x,"portlet_in_drag"),webix.html.remove(t),this.Sy&&(this.movePortlet(this.Sy,this.Ty),this.markDropArea(),this.Sy=null)},WB:function(){return webix.html.offset(this.$view)},$dragPos:function(e,t,i){i.style.left="-10000px";var n=webix.env.mouse.context(t),r=document.body.scrollTop||document.documentElement.scrollTop||0,a=document.body.scrollLeft||document.documentElement.scrollLeft||0,o=document.elementFromPoint(n.x-a,n.y-r),s=null;o&&(s=webix.$$(o)),this.Sy=this.Uy(s),this.Ty=this.Vy(this.Sy,t),e.x=e.x-this.bc+10,e.y=e.y-20,webix.DragControl.Ed=!0},Vy:function(e,t){var i="",n="";if(t&&e){var r=webix.html.offset(e.$view),a=webix.html.pos(t),o=a.x-r.x-r.width/2,s=a.y-r.y-r.height/2;n=e.s.mode,n||(n=Math.abs(o)*(r.height/r.width)>Math.abs(s)?"cols":"rows"),"cols"==n?i=o>=0?"right":"left":"rows"==n&&(i=s>=0?"bottom":"top"),this.markDropArea(e,i)}return this.markDropArea(e,i),i||n},Uy:function(e){for(;e;){if(e.movePortlet)return e;e=e.getParentView()}}},webix.ui.layout),webix.UIManager.getState=function(e,t){t=t||!1,e=webix.$$(e);var i={id:e.config.id,width:e.config.width,height:e.config.height,gravity:e.config.gravity};if(webix.isUndefined(e.config.collapsed)||(i.collapsed=e.config.collapsed),("tabs"===e.name||"tabbar"===e.name)&&(i.activeCell=e.getValue()),t&&(i=[i],e.q))for(var n=0;n<e.q.length;n++)i=i.concat(this.getState(e.q[n],t));return i},webix.UIManager.setState=function(e){webix.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t],n=webix.$$(i.id);n&&(webix.isUndefined(i.collapsed)||n.define("collapsed",i.collapsed),webix.isUndefined(i.activeCell)||n.setValue(i.activeCell),n.define("width",i.width),n.define("height",i.height),n.define("gravity",i.gravity))}var r=webix.$$(e[0].id);r&&r.resize()},function(){function e(e,t){return webix.csv.stringify(e)}function t(e,t,i){return!i&&t.format?function(i){return t.format(i[e])}:function(t){return t[e]}}function i(e,i){var n=[],r=0,a=0,o=e.getColumnConfig,s=i.columns,l=!!i.rawValues;if(n.heights={},s){if(!s.length){var u=[];for(var c in s)u.push(webix.extend({id:c},webix.extend({},s[c])));s=u}}else if(o)s=[].concat(e.fj);else{s=[];var d=e.data.pull[e.data.order[0]];for(var c in d)"id"!==c&&"$"!=c[0]&&s.push({id:c})}if(i.ignore)for(var h=s.length-1;h>=0;h--)i.ignore[s[h].id]&&s.splice(h,1);if(i.id&&n.push({id:"id",width:50,header:" ",template:function(e){return e.id}}),i.flatTree){for(var f=i.flatTree.id,p=[].concat(i.flatTree.columns),g=[],v=!!i.flatTree.fill,h=1;h<=p.length;h++)p[h-1].template=function(e,t){return function(t){return t.$level==e?g[e]=t[f]:v&&e<t.$level?g[e]:""}}(h);for(var m=0,h=s.length-1;h>=0;h--)s[h].id===f&&(m=h);s=[].concat(s.slice(0,m)).concat(p).concat(s.slice(m+1))}for(var b=0;b<s.length;b++){var y=s[b],c=y.id;if(!y.noExport){o&&e.Aj[c]&&(y=webix.extend(webix.extend({},y),e.Aj[c]));var w={id:y.id,template:l||!y.template?t(c,y,l):y.template,width:(y.width||200)*("excel"===i.export_mode?8.43/70:1),header:y.header!==!1?y.header||c:""};"excel"===i.export_mode&&webix.extend(w,{type:y.exportType||"",format:y.exportFormat||""}),"string"==typeof w.header?w.header=[{text:w.header}]:w.header=webix.copy(w.header);for(var h=0;h<w.header.length;h++)w.header[h]=w.header[h]?w.header[h].contentId?"":w.header[h].text:"";if(r=Math.max(r,w.header.length),e.s.footer){var x=y.footer||"";x="string"==typeof x?[{text:x}]:webix.copy(x);for(var h=0;h<x.length;h++)x[h]?x[h]=x[h].contentId?e.getHeaderContent(x[h].contentId).getValue():x[h].text:x[h]="";w.footer=x,a=Math.max(a,w.footer.length)}n.push(w)}}for(var h=0;h<n.length;h++){for(var E=r-n[h].header.length,_=0;E>_;_++)n[h].header.push("");if(e.s.footer){E=a-n[h].footer.length;for(var _=0;E>_;_++)n[h].footer.push("")}}return n}function n(e,t,i){var n,r,a=!!t.filterHTML,o=/<[^>]*>/gi,s=[];if("excel"===t.export_mode&&t.docHeader&&(s=[[(t.docHeader.text||t.docHeader).toString()],[""]],t.docHeader.height&&(i.heights[0]=t.docHeader.height)),t.header!==!1&&i.length)for(var l=0;l<i[0].header.length;l++){r=[];for(var u=0;u<i.length;u++)n="",i[u].header[l]&&(n=i[u].header[l],a&&(n=i[u].header[l]=n.replace(o,""))),r.push(n);"excel"!=t.export_mode||!e.fj||t.heights===!1||e.Mt[l]===webix.skin.$active.barHeight&&"all"!=t.heights||(i.heights[s.length]=e.Mt[l]),"pdf"!==t.export_mode&&(s[s.length]=r)}t.yCorrection=(t.yCorrection||0)-s.length;var c="TreeStore"==e.data.name,d=t.flatTree||t.plainOutput?"":" - ";if(e.data.each(function(n){if(!t.filter||t.filter(n)){for(var r=[],l=0;l<i.length;l++){var u=i[l],h=null;if(t.math&&n["$"+u.id]&&"="==n["$"+u.id].charAt(0)&&!n["$"+u.id].match(/^=(image|link|sparkline)\(/i)&&(h=n["$"+u.id]),this.Rt){var f=this.getSpan(n.id,u.id);f&&f[4]&&f[0]==n.id&&f[1]==u.id&&(h=f[4],a&&"string"==typeof h&&(h=h.replace(o,"")))}h||(h=u.template(n,e.type,n[u.id],u,l),h||0===h||(h=""),a&&"string"==typeof h&&(c&&(h=h.replace(/<div class=.webix_tree_none.><\/div>/,d)),h=h.replace(o,"")),"string"==typeof h&&"csv"===t.export_mode&&(h=h.trim()),"string"!=typeof h||"excel"!==t.export_mode&&"csv"!==t.export_mode||(h=h.replace(/<br\s*\/?>/gm,"\n"))),r.push(h)}"excel"==t.export_mode&&e.fj&&t.heights!==!1&&(n.$height&&n.$height!==webix.skin.$active.rowHeight||"all"==t.heights)&&(i.heights[s.length]=n.$height||this.config.rowHeight),s.push(r)}},e),t.footer!==!1)for(var h=i[0].footer?i[0].footer.length:0,f=0;h>f;f++){for(var p=[],u=0;u<i.length;u++){var g=i[u].footer[f];a&&(g=i[u].footer[f]=g.toString().replace(o,"")),p.push(g)}"excel"!=t.export_mode||!e.fj||t.heights===!1||e.Nt[f]===webix.skin.$active.barHeight&&"all"!=t.heights||(i.heights[s.length]=e.Nt[f]),"pdf"!==t.export_mode&&s.push(p)}return"excel"===t.export_mode&&t.docFooter&&(s=s.concat([[],[(t.docFooter.text||t.docFooter).toString()]]),t.docFooter.height&&(i.heights[s.length-1]=t.docFooter.height)),s}function r(e){for(var t=[],i=0;i<e.length;i++)t.push({wch:e[i].width});return t}function a(e){return Math.round(25569+e/864e5)}function o(e,t){var i=e.getColumnConfig,n=e.Rt,r=[];if(i){if(t.header!==!1&&(r=s(e,t,"header",r)),n){var a=t.xCorrection||0,o=t.yCorrection||0;for(var l in n){var u=n[l];for(var c in u){var d=e.getColumnIndex(c)-a,h=e.getIndexById(l)-o,f=d+u[c][0]-1,p=h+(u[c][1]-1);r.push({s:{c:d,r:h},e:{c:f,r:p}})}}}t.footer!==!1&&(r=s(e,t,"footer",r))}return r}function s(e,t,i,n){for(var r=e.config.columns,a=(t.docHeader?2:0)+("header"==i?0:(t.header!==!1?e.Mt.length:0)+e.count()),o=0;o<r.length;o++)for(var s=r[o][i],l=0;l<s.length;l++)s[l]&&(s[l].colspan||s[l].rowspan)&&n.push({s:{c:o,r:l+a},e:{c:o+(s[l].colspan||1)-1,r:l+(s[l].rowspan||1)-1+a}});return n}function l(e,t,i){return i[e]&&i[e][t]?i[e][t]:""}function u(e){for(var t in e)e[t]={hpx:e[t],hpt:.75*e[t]};return e}function c(e,t,i,n){for(var o={},s={s:{c:1e7,r:1e7},e:{c:0,r:0}},c=0;c!=e.length;++c)for(var d=0;d!=e[c].length;++d){s.s.r>c&&(s.s.r=c),s.s.c>d&&(s.s.c=d),s.e.r<c&&(s.e.r=c),s.e.c<d&&(s.e.c=d);var h={v:e[c][d]};if(null!==h.v){var f=XLSX.utils.encode_cell({c:d,r:c});if(h.v instanceof Date?(h.t="n",h.z=XLSX.SSF[v][14],h.v=a(h.v)):"boolean"==typeof h.v?h.t="b":"number"==typeof h.v||h.v&&!isNaN(1*h.v)?(h.v=1*h.v,h.t="n"):"="==h.v.charAt(0)?(h.t="n",h.f=h.v,delete h.v):h.t="s",c>=t[0].header.length&&!h.f){var p=t[d];p.type&&(h.t=g[p.type]||h.t),p.format&&(h.z=p.format)}n&&(h.s=l(c,d,n)),o[f]=h}}return s.s.c<1e7&&(o["!ref"]=XLSX.utils.encode_range(s)),o["!rows"]=u(t.heights),o["!cols"]=r(t),i.length&&(o["!merges"]=i),o}function d(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!=e.length;++n)i[n]=255&e.charCodeAt(n);return t}function h(e,t,i,n){i.header=webix.isUndefined(i.header)||i.header===!0?{}:i.header,i.footer=webix.isUndefined(i.footer)||i.footer===!0?{}:i.footer,i.table=i.table||{};var r=i.width||595.296,a=i.height||841.896;if(i.orientation&&"landscape"===i.orientation&&(a=[r,r=a][0]),i.autowidth){r=80;for(var o=0;o<e.length;o++)r+=e[o].width}for(var s=new pdfjs.Document({padding:40,font:i.hB,threshold:256,width:r,height:a}),l=i.header===!1?0:e[0].header.length,u=i.footer!==!1&&e[0].footer?e[0].footer.length:0,c=[],o=0;o<e.length;o++)c[o]=e[o].width;var d=webix.extend(i.table,{borderWidth:1,height:20,lineHeight:1.1,borderColor:15658734,backgroundColor:16777215,color:6710886,textAlign:"left",paddingRight:10,paddingLeft:10,headerRows:l,widths:c.length?c:["100%"]}),h=s.table(d);if(l)for(var f=webix.extend(i.header,{borderRightColor:11587299,borderBottomColor:11587299,color:4868682,backgroundColor:13820911,height:27,lineHeight:1.2}),o=0;l>o;o++)for(var p=h.tr(f),g=0;g<e.length;g++)p.td(e[g].header[o].toString());for(var v=0;v<t.length;v++)for(var m=h.tr({}),b=0;b<t[v].length;b++)m.td(t[v][b]);if(u)for(var y=webix.extend(i.footer,{borderRightColor:15658734,borderBottomColor:15658734,backgroundColor:16448250,color:6710886,height:27,lineHeight:1.2}),o=0;u>o;o++)for(var w=h.tr(y),g=0;g<e.length;g++)w.td(e[g].footer[o].toString());if(i.docFooter!==!1){var x=s.footer();x.text({color:6710886,textAlign:"center"}).append(webix.i18n.dataExport.page||"Page").pageNumber().append("  "+(webix.i18n.dataExport.of||"of")+"  ").pageCount()}var E={text:0,image:1};if(i.docHeader&&("string"==typeof i.docHeader&&(i.docHeader={text:i.docHeader}),webix.extend(i.docHeader,{color:6710886,textAlign:"right",order:0}),E.text=i.docHeader.order),i.docHeaderImage&&("string"==typeof i.docHeaderImage&&(i.docHeaderImage={url:i.docHeaderImage}),webix.extend(i.docHeaderImage,{align:"right",order:1}),E.image=i.docHeaderImage.order),i.docHeader&&E.image>E.text&&s.header({paddingBottom:10}).text(i.docHeader.text,i.docHeader),i.docHeaderImage)pdfjs.load(i.docHeaderImage.url,function(e,t){if(!e){var r=new pdfjs.Image(t);s.header({paddingBottom:10}).image(r,i.docHeaderImage),i.docHeader&&E.image<E.text&&s.header({paddingBottom:10}).text(i.docHeader.text,i.docHeader)}var a=s.render();n(a,i)});else{var _=s.render();n(_,i)}}var f="non-existing view for export";webix.toPNG=function(e,t){var i=webix.promise.defer();return webix.require(webix.cdn+"/extras/html2canvas.min.js",function(){"string"==typeof t&&(t={filename:t}),t=t||{};var n=webix.$$(e);if(n&&n.$exportView&&(n=n.$exportView(t)),!n)return i.reject(f);var r=n?n.$view:webix.toNode(e),a=(t.filename||"Data")+".png";window.html2canvas(r).then(function(e){var n=function(n){t.download!==!1&&webix.html.download(n,a),e.remove(),i.resolve(n)};e.msToBlob?n(e.msToBlob()):e.toBlob(n,"image/png")})}),i},webix.toExcel=function(e,t){t=t||{},t.export_mode="excel",e=webix.isArray(e)?e:[e];for(var r=[],a=0;a<e.length;a++){var s=webix.$$(e[a]);if(s&&s.$exportView&&(s=s.$exportView(t)),s&&(r=r.concat(s)),t.dataOnly){var l=i(s,t);r[a]={scheme:l,exportData:n(s,t,l),spans:t.spans?o(s,t):[]}}}if(t.dataOnly)return r;var u=webix.promise.defer();return webix.require(webix.cdn+"/extras/xlsx.core.styles.min.js",function(){if(!r.length)return u.reject(f);for(var e={SheetNames:[],Sheets:{},Workbook:{WBProps:{},Names:[]}},a=webix.isArray(t.sheets)?t.sheets:[t.name||"Data"],s=0;s<r.length;s++){var l=r[s].scheme||i(r[s],t),h=r[s].exportData||n(r[s],t,l),p=r[s].spans?r[s].spans:t.spans?o(r[s],t):[],g=r[s].ranges||[],v=r[s].styles||[],m=c(h,l,p,v),b=(a[s]||"Data"+s).replace(/[\*\?\:\[\]\\\/]/g,"").replace(/&/g,"&amp;").substring(0,31);e.SheetNames.push(b),e.Sheets[b]=m,e.Workbook.Names=e.Workbook.Names.concat(g)}var y=XLSX.write(e,{bookType:"xlsx",bookSST:!1,type:"binary"}),w=(t.filename||a.join(","))+".xlsx",x=new Blob([d(y)],{type:"application/xlsx"});t.download!==!1&&webix.html.download(x,w),u.resolve(x)}),u},webix.toCSV=function(t,r){r=r||{};var a=webix.$$(t);if(a&&a.$exportView&&(a=a.$exportView(r)),!a)return webix.promise.reject(f);r.export_mode="csv",r.filterHTML=!0;var o=i(a,r),s=n(a,r,o),l=e(s,o),u=(r.filename||"Data")+".csv",c=new Blob(["\ufeff"+l],{type:"text/csv"});return r.download!==!1&&webix.html.download(c,u),webix.promise.resolve(c)};var p;webix.toPDF=function(e,t){var r=webix.promise.defer();return webix.require(webix.cdn+"/extras/pdfjs.js",function(){t=t||{};var a=webix.$$(e);if(a&&a.$exportView&&(a=a.$exportView(t)),!a)return r.reject();t.export_mode="pdf",t.hB=p,t.fontName=t.fontName||"pt-sans.regular";var o=i(a,t),s=n(a,t,o),l=function(e,t){var i=(t.filename||"Data")+".pdf",n=new Blob([e.toString()],{type:"application/pdf"});t.download!==!1&&webix.html.download(n,i),r.resolve(n)};t.hB?h(o,s,t,l):pdfjs.load(webix.cdn+"/extras/"+t.fontName+".ttf",function(e,i){if(e)throw e;p=t.hB=new pdfjs.TTFFont(i),h(o,s,t,l)})}),r};var g={number:"n",date:"n",string:"s",boolean:"b"},v="_table"}(),webix.protoUI({name:"pdfviewer",defaults:{scale:"auto"},$init:function(e){this.$view.className+=" webix_pdf";var t=document.createElement("DIV");t.className="canvas_wrapper";var i=document.createElement("canvas");this.uz=this.$view,this.gt=this.$view.appendChild(t),this.Zn=this.gt.appendChild(i),this.$pdfDoc=null,this.$pageNum=0,this.$numPages=0,this.vz=!1,this.wz=null,this.xz=this.Zn.getContext("2d"),this.zz=.1,this.Az=e.scaleDelta||1.1,this.Bz=e.minScale||.25,this.Cz=e.maxScale||10,this.Dz=1.25,this.Ez=40,this.Fz=10,this.$ready.push(this.Hz)},toolbar_setter:function(e){if("string"==typeof e){var t=webix.$$(e);return t&&(t.$master=this,t.refresh()),this.attachEvent("onDocumentReady",function(){t?(t.setPage(this.$pageNum),t.setValues(this.$numPages,this.s.scale)):this.toolbar_setter(e)}),e}},Hz:function(){if(delete this.s.datatype,this.attachEvent("onScaleChange",function(e,t){t&&this.s.toolbar&&webix.$$(this.s.toolbar).setScale&&webix.$$(this.s.toolbar).setScale(e)}),webix.env.touch)this.xE=!1,webix.UE(this.x,"touchstart",webix.bind(function(e){var t=e.targetTouches;2===t.length&&(webix.html.preventEvent(e),this.xE=Math.abs(t[0].pageY-t[1].pageY))},this)),webix.UE(this.$view,"touchmove",webix.bind(function(e){var t=e.targetTouches;2===t.length&&this.xE!==!1&&(webix.html.preventEvent(e),Math.abs(t[0].pageY-t[1].pageY)>this.xE?this.zoomIn():this.zoomOut(),this.xE=!1)},this)),this.attachEvent("onSwipeX",function(e,t){this.$view.scrollLeft=this.$view.scrollLeft-(t.x-e.x)}),this.attachEvent("onSwipeY",function(e,t){var i=this.$view.clientHeight,n=this.$view.scrollHeight,r=this.$view.offsetHeight,a=this.$view.scrollTop,o=t.y-e.y;if(i===n||0>o&&a>n-r||o>0&&0===a){var s=this.$pageNum+(o>0?-1:1);s>0&&s<=this.$numPages&&(this.$pageNum=s,this.Mz(this.$pageNum),this.$view.scrollTop=o>0?n:0)}else this.$view.scrollTop=a-o});else{var e=webix.env.isFF?"DOMMouseScroll":"mousewheel";webix.event(window,e,webix.bind(function(e){var t="DOMMouseScroll"===e.type?-e.detail:e.wheelDelta,i=0>t?"out":"in";e.ctrlKey&&(webix.html.preventEvent(e),"in"==i?this.zoomIn():this.zoomOut())},this))}},yE:function(e){if(e.name){var t=new FileReader;t.onload=webix.bind(function(e){this.yE({data:e.target.result})},this),t.readAsArrayBuffer(e)}else PDFJS.getDocument({data:e.data}).then(webix.bind(function(e){this.clear(),this.$pdfDoc=e,this.$numPages=this.$pdfDoc.numPages,this.$pageNum=1,this.Jz(this.$pageNum).then(webix.bind(function(){this.callEvent("onDocumentReady")},this))},this))},$onLoad:function(e){return window.PDFJS?this.yE(e):webix.require([webix.cdn+"/extras/pdfjs/compatibility.min.js",webix.cdn+"/extras/pdfjs/pdf.min.js"],function(){PDFJS.workerSrc=webix.cdn+"/extras/pdfjs/pdf.worker.min.js",this.yE(e)},this),!0},Kz:function(e,t){var i=e.getViewport(t);return this.Zn.height=i.height,this.Zn.width=i.width,this.gt.style.width=i.width+"px",this.gt.style.height=i.height+"px",i},Jz:function(e){var t=this;return t.vz=!0,this.$pdfDoc.getPage(e).then(function(e){var i=isNaN(parseFloat(t.s.scale))?t.zz:t.s.scale,n=t.Kz(e,i);i!==t.s.scale&&(i=t.Lz(t.s.scale),n=t.Kz(e,i),t.s.scale=i);var r={canvasContext:t.xz,viewport:n};return e.cleanupAfterRender=!0,e.render(r).promise.then(function(){t.callEvent("onPageRender",[t.$pageNum]),t.vz=!1,null!==t.wz&&(t.Jz(t.wz),t.wz=null)})})},Mz:function(e){this.vz?this.wz=e:this.Jz(e)},renderPage:function(e){!this.$pdfDoc||0>e||e>this.$numPages||(this.$pageNum=e,this.Mz(this.$pageNum))},prevPage:function(){this.$pageNum<=1||(this.$pageNum--,this.Mz(this.$pageNum))},nextPage:function(){this.$pageNum>=this.$numPages||(this.$pageNum++,this.Mz(this.$pageNum))},zoomIn:function(){var e=this.s.scale;e=(e*this.Az).toFixed(2),e=Math.ceil(10*e)/10,e=Math.min(this.Cz,e),this.setScale(e,!0)},zoomOut:function(){var e=this.s.scale;e=(e/this.Az).toFixed(2),e=Math.floor(10*e)/10,e=Math.max(this.Bz,e),this.setScale(e,!0)},Lz:function(e){if(!isNaN(parseFloat(e)))return e;isNaN(parseFloat(this.s.scale))&&(this.s.scale=this.zz);var t=1,i=((this.uz.clientWidth-this.Ez)*this.s.scale/this.Zn.clientWidth).toFixed(2),n=((this.uz.clientHeight-this.Fz)*this.s.scale/this.Zn.clientHeight).toFixed(2);switch(e){case"page-actual":t=1;break;case"page-width":t=i;break;case"page-height":t=n;break;case"page-fit":t=Math.min(i,n);break;case"auto":var r=this.uz.clientWidth>this.uz.clientHeight,a=r?Math.min(n,i):i;t=Math.min(this.Dz,a)}return t},setScale:function(e,t){if(isNaN(parseFloat(e))){var i=this.Lz(e);this.Nz(i,t)}else this.Nz(e,t)},Nz:function(e,t){this.s.scale=e,this.renderPage(this.$pageNum),this.callEvent("onScaleChange",[e,t])},download:function(){if(this.$pdfDoc){var e=(this.s.downloadName||"document")+".pdf";this.$pdfDoc.getData().then(function(t){var i=PDFJS.createBlob(t,"application/pdf");webix.html.download(i,e)})}},clear:function(){this.$pdfDoc&&(this.xz.clearRect(0,0,this.Zn.width,this.Zn.height),this.gt.style.height=this.gt.style.width=this.Zn.width=this.Zn.height=0,this.s.scale="auto",this.$pageNum=this.$numPages=0,this.$pdfDoc.transport.startCleanup(),this.$pdfDoc.destroy(),this.$pdfDoc=null,this.s.toolbar&&webix.$$(this.s.toolbar)&&webix.$$(this.s.toolbar).reset())}},webix.EventSystem,webix.AtomDataLoader,webix.ui.view),webix.protoUI({name:"pdfbar",reset:function(){this.setPage(0),this.setValues(0,"auto")},$init:function(e){this.$view.className+=" pdf_bar",e.cols=[{view:"button",type:"icon",icon:"arrow-left",width:35,click:function(){this.getParentView().he("prev")}},{view:"text",width:70,value:"0",on:{onBlur:function(){this.getParentView().he(this.getValue())},onKeyPress:function(e){13===e&&this.getParentView().he(this.getValue())}}},{template:webix.i18n.PDFviewer.of+" #limit#",width:70,data:{limit:0},borderless:!0},{view:"button",type:"icon",icon:"arrow-right",width:35,click:function(){this.getParentView().he("next")}},{},{view:"button",type:"icon",icon:"minus",width:35,click:function(){this.getParentView().zoom("out")}},{view:"richselect",options:[],maxWidth:195,suggest:{padding:0,css:"pdf_opt_list",borderless:!0,body:{type:{height:25},scroll:!1,yCount:13}},on:{onChange:function(){this.getParentView().setMasterScale(this.getValue())}}},{view:"button",type:"icon",icon:"plus",width:35,click:function(){this.getParentView().zoom("in")}},{view:"button",type:"icon",icon:"download",width:35,click:function(){this.getParentView().download()}}],this.$ready.push(this.Oz)},Oz:function(){var e=this.getChildViews()[6].getPopup().getBody();e.clearAll(),e.parse([{id:"auto",value:webix.i18n.PDFviewer.automaticZoom},{id:"page-actual",value:webix.i18n.PDFviewer.actualSize},{id:"page-fit",value:webix.i18n.PDFviewer.pageFit},{id:"page-width",value:webix.i18n.PDFviewer.pageWidth},{id:"page-height",value:webix.i18n.PDFviewer.pageHeight},{id:"0.5",value:"50%"},{id:"0.75",value:"75%"},{id:"1",value:"100%"},{id:"1.25",value:"125%"},{id:"1.5",value:"150%"},{id:"2",value:"200%"},{id:"3",value:"300%"},{id:"4",value:"400%"}]);var t=0;e.data.each(function(e){t=Math.max(webix.html.getTextSize(e.value,"webixbutton").width,t)}),this.getChildViews()[6].define("width",t+20),this.getChildViews()[6].resize()},he:function(e){this.setMasterPage(e),this.setPage(this.$master.$pageNum)},setScale:function(e){var t=this.getChildViews()[6];t.blockEvent(),t.getPopup().getList().exists(e)?t.setValue(e):(t.setValue(""),t.getInputNode().innerHTML=(100*e).toFixed(0)+"%"),t.unblockEvent()},setMasterScale:function(e){this.$master&&this.$master.setScale(e)},setMasterPage:function(e){this.$master&&("prev"===e?this.$master.prevPage():"next"===e?this.$master.nextPage():isNaN(parseInt(e))||this.$master.renderPage(parseInt(e)))},zoom:function(e){this.$master&&("out"===e?this.$master.zoomOut():"in"===e&&this.$master.zoomIn())},setPage:function(e){this.getChildViews()[1].setValue(e)},setValues:function(e,t){this.getChildViews()[2].data.limit=e,this.getChildViews()[2].refresh(),this.setScale(t)},download:function(){this.$master&&this.$master.download()}},webix.ui.toolbar),webix.protoUI({name:"excelbar",defaults:{padding:0,type:"line"},$init:function(e){e.cols=[{view:"tabbar",options:[""],optionWidth:200,on:{onaftertabclick:function(){this.getParentView().callEvent("onExcelSheetSelect",[this.getValue()])}}}]},getValue:function(){return this.getInput().getValue()},setValue:function(e){return this.getInput().setValue(e)},getInput:function(){return this.getChildViews()[0]},setSheets:function(e){var t=this.getInput();t.config.options=e,t.refresh()}},webix.ui.toolbar),webix.protoUI({name:"excelviewer",$init:function(){this.$ready.push(function(){this.s.toolbar&&webix.$$(this.s.toolbar).attachEvent("onExcelSheetSelect",webix.bind(this.showSheet,this))})},defaults:{datatype:"excel"},$onLoad:function(e){if(e.sheets){this.zA=e,this.s.toolbar&&webix.$$(this.s.toolbar).setSheets(e.names);var t=e.names[0];return this.showSheet(t.id||t),!0}return!1},$exportView:function(e){if("excel"!==e.export_mode||e.dataOnly)return this;e.sheets===!0?e.sheets=this.getSheets():e.sheets&&e.sheets.length?"string"==typeof e.sheets&&(e.sheets=[e.sheets]):e.sheets=[this.IG],e.dataOnly=!0,e.heights=webix.isUndefined(e.heights)&&e.styles?"all":e.heights;for(var t=[],i=this.IG,n=0;n<e.sheets.length;n++)this.showSheet(e.sheets[n]),t=t.concat(webix.toExcel(this,e)),e.styles&&(t[n].styles=this.oG(e));return this.showSheet(i),delete e.dataOnly,t},showSheet:function(e){this.clearAll();var t=this.data.driver.sheetToArray(this.zA.sheets[e],{spans:this.s.spans}),i=this.s.excelHeader,n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r={},a={};if(t.sizes)for(var o=0;o<t.sizes.length;o++)"column"==t.sizes[o][0]?r[t.sizes[o][1]]=Math.round(t.sizes[o][2]):"row"==t.sizes[o][0]&&(a[t.sizes[o][1]]=Math.round(t.sizes[o][2]));if(i)if(i===!0){i=t.data.splice(0,1)[0];for(var o=0;o<i.length;o++)i[o]={header:i[o],id:"data"+o,width:r[o],adjust:!r[o],editor:"text",sort:"string"}}else i=webix.copy(i);else{i=webix.copy(t.data[0]);for(var o=0;o<i.length;o++)i[o]={header:n[o],id:"data"+o,width:r[o],adjust:!r[o],editor:"text",sort:"string"}}this.config.columns=i,this.refreshColumns(),this.parse(t,this.s.datatype),this.IG=e;var s=this.eG(t.spans),l=this.JG(a),u=this.KG(t.styles,s);(s||l||u)&&this.refresh()},getSheets:function(){return this.zA.names},LG:function(e,t,i,n){for(var r=!1,a=0;a<e.length;a++)if(e[a][0]===t&&e[a][1]===i){e[a][5]=webix.html.createCss(this.MG(n)),this.addSpan(e[a][0],e[a][1],e[a][2],e[a][3],e[a][4],e[a][5]),r=!0;break}return r},KG:function(e,t){var i=0;if(e&&e.length){for(var n=0;n<e.length;n++){var r=e[n][0]-(this.config.excelHeader?1:0);if(r>=0){var a=this.getIdByIndex(r);if(this.exists(a)){var o=this.getItem(a),s=this.columnId(e[n][1]);s&&(t.length&&this.LG(t,a,s,e[n][2])||(o.$cellCss=o.$cellCss||{},o.$cellCss[s]=this.MG(e[n][2])),i++)}}}return i}return!1},NG:function(e){return e=e||"000000",8===e.length&&(e=e.substring(2)),"#"+e},MG:function(e){var t={};if(e.fill&&e.fill.fgColor&&(t["background-color"]=this.NG(e.fill.fgColor.rgb)),e.font){var i=e.font;i.name&&(t["font-family"]=i.name),i.sz&&(t["font-size"]=i.sz/.75+"px"),i.color&&i.color.rgb&&(t.color=this.NG(i.color.rgb)),i.bold&&(t["font-weight"]="bold"),i.underline&&(t["text-decoration"]="underline"),i.italic&&(t["font-style"]="italic"),i.strike&&(t["text-decoration"]="line-through")}if(e.alignment){var n=e.alignment;n.vertical&&"center"==n.vertical&&(t.display="flex",t["justify-content"]="flex-start",t["align-items"]="center"),n.vertical&&"bottom"==n.vertical&&(t.display="flex",t["justify-content"]="flex-end",t["align-items"]="flex-end"),n.horizontal&&(!n.vertical||"center"!=n.vertical&&"bottom"!=n.vertical?t["text-align"]=n.horizontal:t["justify-content"]="center"),n.wrapText&&(t["white-space"]="normal")}if(e.border){var r=e.border;r.top&&(t["border-top"]="1px solid "+this.NG(r.top.color.rgb)),r.bottom&&(t["border-bottom"]="1px solid "+this.NG(r.bottom.color.rgb)+" !important"),r.left&&(t["border-left"]="1px solid "+this.NG(r.left.color.rgb)),r.right&&(t["border-right"]="1px solid "+this.NG(r.right.color.rgb)+" !important")}return t},JG:function(e){var t=0;for(var i in e){var n=this.config.excelHeader?i-1:i;if(n>=0){var r=this.getIdByIndex(n);this.exists(r)&&(this.getItem(r).$height=e[i],t++)}}return this.config.fixedRowHeight=!t,t},eG:function(e){var t=[];if(this.s.spans&&e&&e.length){this.Rt={};for(var i=0;i<e.length;i++)this.config.excelHeader&&e[i][0]--,e[i][0]>=0&&(e[i][0]=this.getIdByIndex(e[i][0]),e[i][1]="data"+e[i][1],t.push(e[i]));return this.addSpan(t),
t}return!1}},webix.ui.datatable),webix.DataDriver.excel=webix.extend({toObject:function(e){if(!e.excel){var t=e.options||{};t.dataurl&&webix.extend(t,this.zB(t.dataurl)),e=e.data||e;var i=webix.promise.defer();if(e.name){t.ext=e.name.split(".").pop();var n=new FileReader;n.onload=webix.bind(function(e){i.resolve(this.parseData(e.target.result,t))},this),n.readAsArrayBuffer(e)}else i.resolve(this.parseData(e,t));return i}return e},parseData:function(e,t){e=new Uint8Array(e);for(var i=[],n=0;n!=e.length;++n)i[n]=String.fromCharCode(e[n]);var r=(t.ext||t).toLowerCase();return"xls"!=r&&(r="xlsx"),webix.require(webix.cdn+"/extras/xlsx.core.styles.min.js").then(webix.bind(function(){var e="xls"==r?XLS.read(i.join(""),{type:"binary",cellStyles:!0,cellDates:!0}):XLSX.read(i.join(""),{type:"binary",cellStyles:!0,cellDates:!0}),n={sheets:e.Sheets,names:e.SheetNames,options:t,ranges:e.Workbook?e.Workbook.Names||[]:[]};return webix.extend(this.getSheet(n,t),n)},this))},getSheet:function(e,t){var i=t.name||e.names[0];return e=this.sheetToArray(e.sheets[i],t),t.rows&&t.rows.length&&(e.data=e.data.splice(t.rows[0],Math.min(t.rows[1],e.data.length)-t.rows[0])),e},sheetToArray:function(e,t){var i=[],n=[],r=[],a=[];if(e&&e["!ref"]){var o,s,l,u,c=XLS.utils.decode_range(e["!ref"]),d=c.s.c,h=c.s.r+(t.rows?t.rows[0]:0);for(o=c.s.r;o<=c.e.r;o++){var f=[];for(s=c.s.c;s<=c.e.c;s++)if(l=XLS.utils.encode_cell({r:o,c:s}),u=e[l]){var p="";p=t.math&&u.f?"="==u.f.charAt(0)?u.f:"="+u.f:"d"==u.t&&webix.isDate(u.v)?webix.i18n.dateFormatStr(u.v):u.v,f.push(p),u.s&&r.push([o-h,s-d,u.s])}else f.push("");i.push(f)}if(e["!merges"])for(var g=e["!merges"],v=0;v<g.length;v++){var m=g[v].s,b=g[v].e;(!t.rows||m.r-h>=0&&b.r-h<=t.rows[1])&&n.push([m.r-h,m.c-d,b.c-m.c+1,b.r-m.r+1])}if(e["!cols"])for(var y=e["!cols"],v=0;v<y.length;v++)y[v]&&a.push(["column",v-d,Math.round(y[v].wch/(8.43/70))]);if(e["!rows"])for(var w=e["!rows"],v=0;v<w.length;v++)w[v]&&a.push(["row",v-h,w[v].hpx])}return{data:i,spans:n,styles:r,sizes:a,excel:!0}},zB:function(e){var t=e.split("["),i={};if(i.name=t[0],t[1]){var n=t[1].split(/[^0-9]+/g);n[0]=1*n[0]||0,n[1]=1*n[1]||9999999,i.rows=n}return i}},webix.DataDriver.jsarray),webix.protoUI({name:"treemap",defaults:{activeItem:!1,subRender:!0,header:!0,headerHeight:35,value:webix.template("#value#"),headerTemplate:"",navigation:!0},value_setter:webix.template,headerTemplate_setter:webix.template,header_setter:function(e){return e&&e!==!0&&(this.type.header=e),e},$init:function(e){this.$view.className+=" webix_treemap",this.x.setAttribute("role","tree"),this.PA=document.createElement("DIV"),webix.extend(this.data,webix.TreeStore,!0),this.data.provideApi(this,!0),this.data.attachEvent("onClearAll",webix.bind(function(){this.v="",this.$values={},this.$xy={}},this)),this.attachEvent("onKeyPress",this.DD)},pg:function(e){var t=this.data.Me[e.id];this.callEvent("onItemRender",[e]);var i=e.$template?this.type["template"+e.$template].call(this,e,this.type,t):this.type.template.call(this,e,this.type,t);return this.type.templateStart.call(this,e,this.type,t)+i+this.type.templateEnd.call(this)},QA:function(e){var t=this.getItem(e),i=this.s.headerHeight,n="<div class='webix_treemap_header' style='height:"+i+"px;line-height:"+i+"px;'>";return n+=this.type.header.call(this,t,this.type),n+="</div>"},_x:function(e){var t,i,n,r,a,o=[];if(!this.$width||!this.count())return this.v="",!1;if(e||(e=this.config.branch||0,this.v="",this.$values={},this.$xy={},this.$xy[e]={width:this.$width,height:this.$height,top:0,left:0},e&&this.s.header&&(this.$xy[e].height-=this.s.headerHeight,this.$xy[e].top=this.s.headerHeight,this.v+=this.QA(e)),a=0,this.data.each(function(e){var t=this.getParentId(e.id);if(!this.data.branch[e.id]&&(r=1*this.config.value.call(this,e),!isNaN(r)&&r))for(this.$values[e.id]=r,a+=r;t;)this.$values[t]||(this.$values[t]=0),this.$values[t]+=r,t=this.getParentId(t)},this,!1,e)),this.data.eachChild(e,function(e){this.$values[e.id]&&o.push(webix.copy(e))},this),a=a||this.$values[e],o.length&&a){i=this.$xy[e],n={top:i.top,left:i.left,dx:i.width,dy:i.height,set:[],sum:0},n.dim=Math.min(n.dx,n.dy);var s=n.dx*n.dy/a;for(t=0;t<o.length;t++)o[t].$value=this.$values[o[t].id]*s;o.sort(function(e,t){return e.$value>t.$value?-1:1});for(var l=1/0,t=0;o[t];){var u=this.RA(n,o[t]);if(l>u)n.sum+=o[t].$value,n.set.push(o[t]),l=u,t++;else{this.SA(n);var c={top:n.top,left:n.left,dx:n.dx,dy:n.dy,set:[],sum:0},s=n.sum/n.dim;n.dx>n.dy?(c.left+=s,c.dx-=s):(c.top+=s,c.dy-=s),n=c,n.dim=Math.min(n.dx,n.dy),l=1/0}}}n&&this.SA(n)},SA:function(e){var t,i,n,r,a=e.top,o=e.left;for(e.mode=e.dy<e.dx,e.contra=e.sum/e.dim,t=0;t<e.set.length;t++)i=e.set[t].id,e.mode?(n=e.contra,r=e.set[t].$value/e.contra):(n=e.set[t].$value/e.contra,r=e.contra),this.$xy[i]={},this.$xy[i].top=a,this.$xy[i].left=o,e.mode?a+=r:o+=n,this.$xy[i].width=n,this.$xy[i].height=r,this.v+=this.pg(this.getItem(i)),this.s.subRender&&this.data.branch[i]&&this._x(i)},RA:function(e,t){var i=e.sum+t.$value,n=i*i/(e.dim*e.dim*t.$value);return e.set.length&&(n=Math.max(e.dim*e.dim*e.set[0].$value/(i*i),n)),n>1?n:1/n},Ne:function(e){return this.PA.innerHTML=this.pg(e),this.PA.firstChild},showBranch:function(e){this.s.branch=e,this.refresh()},render:function(e,t,i){if(this.isVisible(this.s.id)&&!this.$blockRender){if("update"==i){var n=this.getItemNode(e);if(n){var r=this.t[e]=this.Ne(t);webix.html.insertBefore(r,n),webix.html.remove(n)}}else!this.data.branch||this.s.branch&&!this.data.branch[this.s.branch]||(this.t=null,this.callEvent("onBeforeRender",[]),this._x(),this.y.innerHTML=this.v,this.callEvent("onAfterRender",[]));return!0}},ad:"webix_dm_id",on_click:{webix_treemap_item:function(e,t){this.s.select&&("multiselect"==this.s.select||this.s.multiselect?this.select(t,!1,e.ctrlKey||e.metaKey||"touch"==this.s.multiselect,e.shiftKey):this.select(t)),this.s.activeItem&&this.isBranch(t)&&this.showBranch(t)},webix_treemap_header_item:function(e){var t=webix.html.locate(e,"webix_dm_header_id");this.define("branch",t),this.refresh()},webix_treemap_reset:function(e){this.define("branch",0),this.refresh()}},on_dblclick:{},on_mouse_move:{},TA:function(e){var t="";for(var i in e)t+=i+":"+e[i]+";";return t},type:{template:webix.template("#value#"),header:function(e,t){for(var i=e.id,n="<div role='button' tabindex='0' aria-label='"+webix.i18n.aria.resetTreeMap+"' class='webix_treemap_reset'></div>",r=[];i;)e=this.getItem(i),r.push(t.headerItem.call(this,e,t)),i=this.getParentId(i);return r.reverse(),n+r.join("<span class='webix_icon fa-angle-right webix_treemap_path_icon'></span>")},headerItem:function(e){var t=this.config.headerTemplate(e),i='<a role="button" tabindex="0" aria-label="'+t+'" webix_dm_header_id="'+e.id+'" class="webix_treemap_header_item">';return i+=t,i+="</a>"},classname:function(e,t,i){var n="webix_treemap_item";t.css&&(n+=t.css+" "),e.$css&&("object"==typeof e.$css&&(e.$css=webix.html.createCss(e.$css)),n+=" "+e.$css);var r=this.$xy[e.id];i&&i.$css&&(n+=" "+i.$css),n+=" webix_treemap_level_"+this.getItem(e.id).$level;var a=this.getParentId(e.id);if(a&&a!=this.s.branch||(n+=" webix_treemap_level_top"),this.$height-r.top-r.height<1&&(n+=" webix_treemap_item_bottom"),this.$width-r.left-r.width<1&&(n+=" webix_treemap_item_right"),t.cssClass){var o=t.cssClass.call(this,e,t,i);o&&(n+="object"==typeof o?" "+webix.html.createCss(o):" "+o)}return n},templateStart:function(e,t,i){var n="";if(this.$xy){var r=this.$xy[e.id];n+="width: "+r.width+"px; height: "+r.height+"px;",n+="top: "+r.top+"px; left: "+r.left+"px;"}return'<div role="treeitem" aria-level="'+e.$level+'" '+(i&&i.webix_selected?'aria-selected="true" tabindex="0"':"")+' webix_dm_id="'+e.id+'" class="'+t.classname.call(this,e,t,i)+'" style="'+n+'">'},templateEnd:webix.template("</div>")}},webix.AutoTooltip,webix.Group,webix.TreeAPI,webix.SelectionModel,webix.KeysNavigation,webix.MouseEvents,webix.Scrollable,webix.TreeDataLoader,webix.ui.proto,webix.TreeRenderStack,webix.CopyPaste,webix.EventSystem),webix.extend(webix.ui.datatable,{iB:function(){this.jB=!0,this.kB={},this.define("select","area"),this.attachEvent("onAfterScroll",function(){this.refreshSelectArea()}),this.attachEvent("onAfterRender",function(){this.refreshSelectArea()}),this.attachEvent("onBeforeColumnHide",function(e){this.tC=this.getColumnIndex(e)}),this.attachEvent("onAfterColumnHide",function(){this.uC(this.tC)}),this.attachEvent("onAfterRender",function(){this.qH()}),this.wB=function(e,t,i,n){if(e.row&&t.row){if(i)return this.addSelectArea(e,t,!0),this.jB=!0,!1;if(!this.callEvent("onAreaDrag",[e,t,n]))return!1;this.mB?this.nB(this.mB):!this.jB||this.s.multiselect&&n&&n.ctrlKey||(this.removeSelectArea(),this.jB=!1)}},this.attachEvent("onBeforeAreaAdd",this.oB),webix.UE(this.Vf,"mousedown",this.pB,{bind:this})},ql:!0,uC:function(e){var t=this.kB;for(var i in t){var n=t[i];if(this.getColumnIndex(n.start.column)<0)if(n.start.column==n.end.column)this.removeSelectArea(n.name);else{var r=this.columnId(e+1);r&&this.vC(n.name,{row:n.start.row,column:r},null)}else if(this.getColumnIndex(n.end.column)<0){var r=this.columnId(e-1);r&&this.vC(n.name,null,{row:n.end.row,column:r})}}},gC:function(e,t,i,n){var r,a,o,s,l,u,c,d;if(t){r=this.getColumnIndex(t.start.column),a=this.getColumnIndex(t.end.column),o=this.getIndexById(t.start.row),s=this.getIndexById(t.end.row),l=this.getColumnIndex(e.column),u=this.getIndexById(e.row),c=this.getIndexById(t.init.row),d=this.getColumnIndex(t.init.column),r>l||"left"==i?"left"===i&&n.ctrl?(r=this.OG(c,r,i),a=d):"left"===i&&a>d?a--:r=l:(l>=a||"right"==i)&&("right"==i&&n.ctrl?(a=this.OG(c,a,i),r=d):"right"==i&&d>r?r++:a=l),o>u||"up"==i?"up"==i&&n.ctrl?(o=this.OG(o,d,i),s=c):"up"==i&&s>c?s--:o=u:(u>s||"down"==i)&&("down"==i&&n.ctrl?(s=this.OG(s,d,i),o=c):"down"==i&&c>o?o++:s=u);var h={row:this.getIdByIndex(o),column:this.columnId(r)},f={row:this.getIdByIndex(s),column:this.columnId(a)};this.callEvent("onBeforeBlockSelect",[h,f,!0])&&(this.vC(t.name,h,f),this.callEvent("onSelectChange",[]),this.callEvent("onAfterBlockSelect",[h,f]))}},OG:function(e,t,i){var n=this.config.columns,r=this.data.order,a=this.data.pull[r[e]],o=n[t].id,s=0;if("right"==i)for(var l=t+1;l<n.length;l++){if(a[n[l].id]){s=l;break}s=l}else if("left"==i){for(var l=t-1;l>=0;l--)if(a[n[l].id]){s=l;break}}else if("down"==i)for(var l=e+1;l<r.length;l++){if(this.getItem(r[l])[o]){s=l;break}s=l}else if("up"==i)for(var l=e-1;l>=0;l--)if(this.getItem(r[l])[o]){s=l;break}return s},vC:function(e,t,i,n){var r=this.kB[e];if(!r)return!1;var a=webix.copy(r),o={start:t||r.start,end:i||r.end};this.oB(o),webix.extend(r,o,!0),this.refreshSelectArea(),this.qH(a),n&&this.callEvent("onSelectChange",[])},areaselect_setter:function(e){return e&&(this.iB(),this.iB=function(){}),this.define("blockselect",e),e},addSelectArea:function(e,t,i,n,r,a){var o,s,l,u,c;o=this.getIndexById(e.row),s=this.getIndexById(t.row),l=this.getColumnIndex(e.column),u=this.getColumnIndex(t.column),o>s&&(c=o,o=s,s=c),l>u&&(c=l,l=u,u=c),n=n||this.mB||webix.uid(),this.mB=null;var d={start:{row:this.getIdByIndex(o),column:this.columnId(l)},end:{row:this.getIdByIndex(s),column:this.columnId(u)}};return r&&(d.css=r),(a||a===!1)&&(d.handle=a),this.kB[n]?this.vC(n,d.start,d.end,!0):(d.handle=!0,d.name=n,d.init=d.start,void(this.callEvent("onBeforeAreaAdd",[d])&&(this.qB=n,i||this.removeSelectArea(),this.kB[d.name]=d,this.el.push(d),this.refreshSelectArea(),this.qH(),this.callEvent("onAfterAreaAdd",[d]),this.callEvent("onSelectChange",[]))))},PC:function(){var e=webix.html.create("DIV");return e.className="webix_area_selection_layer",e.style.top=this.ck+"px",e},refreshSelectArea:function(){var e,t,i,n,r,a,o=null,s=null,l=null,u=this.s.prerender;if(this.wk){e=this.Xj(u),t=this.Sj(u===!0),this.rB||(this.rB=this.PC(),this.Vf.childNodes[1].appendChild(this.rB),this.QC=this.PC(),this.Vf.childNodes[0].appendChild(this.QC),this.RC=this.PC(),this.Vf.childNodes[2].appendChild(this.RC)),this.rB.innerHTML="",this.QC.innerHTML="",this.RC.innerHTML="";var c=this.s.leftSplit,d=this.s.rightSplit;for(i in this.kB){n=this.kB[i];var h=this.BD(n,e,t);if(null!==h){var f=this.getColumnIndex(n.start.column),p=this.getColumnIndex(n.end.column);if(h.r0<=h.r1){if(this.s.topSplit&&r>=this.s.topSplit&&a<this.ak)return!1;c>f&&(s=this.SC(h.r0,f,h.r1,Math.min(p,c-1))),h.c0<=h.c1&&(o=this.SC(h.r0,h.c0,h.r1,h.c1)),d&&p>=this.Fj&&(l=this.SC(h.r0,Math.max(f,this.Fj),h.r1,p)),(s||o||l)&&this.sB(s,o,l,i,n.css,n.handle)}}else this.removeSelectArea(i)}}},BD:function(e,t,i){var n,r,a,o,s=this.getIndexById(e.start.row),l=this.getIndexById(e.end.row),u=this.getColumnIndex(e.start.column),c=this.getColumnIndex(e.end.column);if(-1===u||-1===c)return null;if(-1===s||-1===l)return null;if(r=Math.min(i[1],l),this.s.topSplit){if(n=s,n>=this.s.topSplit&&(n=Math.max(i[0]-this.s.topSplit,s)),r>=this.s.topSplit){var d=this.ug(this.getIdByIndex(l),e.end.column),h=this.ug(this.getIdByIndex(this.s.topSplit-1),e.end.column);h.top+h.height>d.top+d.height&&(r=this.s.topSplit-1)}}else n=Math.max(i[0],this.getIndexById(e.start.row));return a=Math.max(t[0],u),o=Math.min(this.Fj?t[1]-1:t[1],c),{r0:n,r1:r,c0:a,c1:o}},SC:function(e,t,i,n){var r=this.ug(this.getIdByIndex(e),this.columnId(t)),a=this.ug(this.getIdByIndex(i),this.columnId(n));return[r,a]},sB:function(e,t,i,n,r,a){var o,s,l=this.kB[n],u=0;this.s.topSplit&&(u=this.zD(l.start,!0));var c=function(e,t,i,a,o){var s,l,c,d,h,f,p={top:1,right:1,bottom:1,left:1};a&&delete p.left,o&&delete p.right,l=i.top-t.top+i.height-1,c=i.left-t.left+i.width;for(s in p){d=t.top+u,"bottom"==s&&(d=i.top+i.height),h=t.left,"right"==s&&(h=i.left+i.width),f="top"==s||"bottom"==s,e.appendChild(webix.html.create("DIV",{class:"webix_area_selection webix_area_selection_"+s+(r?" "+r:""),style:"left:"+h+"px;top:"+d+"px;"+(f?"width:"+c+"px;":"height:"+(l-u)+"px;"),webix_area_name:n},""));var g=e.lastChild;"right"==s&&(g.style.left=h-g.offsetWidth+"px"),"bottom"==s&&(g.style.top=d-g.offsetHeight+"px"),u&&("top"==s&&(g.style.display="none"),i.height==u&&"bottom"==s&&(g.style.display="none"))}};i&&c(this.RC,i[0],i[1],!!t,!1),t&&c(this.rB,t[0],t[1],!!e,!!i),e&&c(this.QC,e[0],e[1],!1,!!t),a&&(s=i?i[1]:t?t[1]:e[1],o=i?this.RC:t?this.rB:this.QC,o.appendChild(webix.html.create("DIV",{class:"webix_area_selection_handle"+(r?" "+r:""),style:"left:"+(s.left+s.width)+"px;top:"+(s.top+s.height)+"px;",webix_area_name:n},"")),u&&s.height==u&&(o.lastChild.style.display="none"))},nB:function(e){if(e){var t=function(t){for(var i=t.childNodes,n=i.length-1;n>=0;n--)i[n].getAttribute("webix_area_name")==e&&t.removeChild(i[n])};t(this.rB),t(this.QC),t(this.RC)}},removeSelectArea:function(e){if(e&&this.kB[e]){if(this.callEvent("onBeforeAreaRemove",[e])){this.qH(webix.copy(this.kB[e]),!0),delete this.kB[e],this.nB(e),this.el=[];for(var t in this.kB)this.el.push(this.kB[t]);this.callEvent("onAfterAreaRemove",[e])}}else for(var i in this.kB)this.removeSelectArea(i)},pB:function(e){var t=e.target||e.srcElement,i=webix.html.TC(t);if(i&&-1!=i.indexOf("webix_area_selection_handle")){var n=t.getAttribute("webix_area_name");this.mB=n;var r=this.kB[n],a=this.ug(r.start.row,r.start.column),o=this.ug(r.end.row,r.end.column),s=this.s.prerender,l=this.getColumnIndex(r.start.column)<this.s.leftSplit?0:this.dk,u=this.getColumnIndex(r.end.column)<this.s.leftSplit?0:this.dk;return this.ul=[a.left+1+l-this.bk,a.top+1-(s?this.jk:0),{row:r.start.row,column:r.start.column}],this.xl=webix.html.offset(this.Vf),this.Al(e),this.vl=[o.left+1+u-this.bk,o.top+1-(s?this.jk:0)],this.jz(!1,!1),webix.html.preventEvent(e)}},getSelectArea:function(e){return this.kB[e||this.qB]},getAllSelectAreas:function(){return this.kB},oB:function(e,t){var i,n,r,a,o,s,l,u,c,d,h,f,p,g=!1,v=e.start,m=e.end;for(d=o=this.getIndexById(v.row),h=r=this.getColumnIndex(v.column),f=s=this.getIndexById(m.row),p=a=this.getColumnIndex(m.column),i=o;s>=i;i++){var b=this.getItem(this.getIdByIndex(i));if(b.$row&&!t)g=!0,p=this.fj.length-1;else if(this.config.spans)for(n=r;a>=n;n++)l=this.getSpan(this.getIdByIndex(i),this.columnId(n)),l&&(u=this.getIndexById(l[0]),c=this.getColumnIndex(l[1]),d>u&&(d=u,g=!0),h>c&&(g=!0,h=c),u+l[3]-1>f&&(g=!0,f=u+l[3]-1),c+l[2]-1>p&&(g=!0,p=c+l[2]-1))}g&&(e.start={row:this.getIdByIndex(d),column:this.columnId(h)},e.end={row:this.getIdByIndex(f),column:this.columnId(p)},this.oB(e,!0))},qH:function(e,t){if(e){var i=this.getIndexById(e.end.row)-this.getIndexById(e.start.row)+1,n=this.getColumnIndex(e.end.column)-this.getColumnIndex(e.start.column)+1;this.mapCells(e.start.row,e.start.column,i,n,webix.bind(function(e,t,i){var n=this.getItemNode({row:t,column:i});n&&n.removeAttribute("tabindex")},this),!0)}!t&&this.el.length&&this.mapSelection(webix.bind(function(e,t,i){var n=this.getItemNode({row:t,column:i});return n&&n.setAttribute("tabindex","1"),e},this))}}),webix.protoUI({name:"rangechart",$init:function(){this.attachEvent("onAfterRender",this.AB),this.BB()},AB:function(){return!this.eo.sA.length||this.CB?void this.pF(!0):(this.TE(),this.EB=(this.eo.sA[0].points[2]-this.eo.sA[0].points[0])/2,this.FB=webix.html.create("div",{class:"webix_chart_resizer right",tabindex:"0",role:"button","aria-label":webix.i18n.aria.resizeChart}),this.GB=webix.html.create("div",{class:"webix_chart_resizer left",tabindex:"0",role:"button","aria-label":webix.i18n.aria.resizeChart}),this.CB=webix.html.create("div",{class:"webix_chart_frame"}),this.x.appendChild(this.GB),this.x.appendChild(this.CB),this.x.appendChild(this.FB),this.pF(),webix.UE(this.FB,webix.env.mouse.down,this.IB,{bind:this}),webix.UE(this.GB,webix.env.mouse.down,this.IB,{bind:this}),webix.UE(this.CB,webix.env.mouse.down,this.IB,{bind:this}),webix.UE(webix.toNode(this.FB),"keydown",this.zE,{bind:this}),webix.UE(webix.toNode(this.GB),"keydown",this.zE,{bind:this}),this.JB&&(this.s.range=this.BB(this.JB)),this.KB(),this.callEvent("onAfterRangeChange",[this.JB]),void this.data.attachEvent("onStoreUpdated",webix.bind(this.KB,this)))},$setSize:function(e,t){webix.ui.chart.prototype.$setSize.call(this,e,t)&&(this.TE(),this.KB())},pF:function(e){this.FB&&!this.HB&&(this.HB=this.FB.clientWidth/2,e&&this.KB())},TE:function(){var e=this.no(this.bc,this.dc);this.kp=e.start,this.DB=e.end},removeAllSeries:function(){this.CB=this.FB=this.GB=null,webix.ui.chart.prototype.removeAllSeries.apply(this,arguments)},zE:function(e){var t=e.which||e.keyCode;if(37===t||39===t){webix.html.preventEvent(e);var i=-1!==e.target.className.indexOf("right")?"eindex":"sindex",n=-1!==e.target.className.indexOf("right")?"end":"start",r=this.JB;r[i]=r[i]+(37===t?-1:1),this.eo.sA[r[i]]&&(r[n]=this.SB(r[i]),this.setFrameRange(r))}},IB:function(e){if(-1!==e.target.className.indexOf("webix_chart_resizer"))this.LB=e.target;else if(this.eo.sA.length){var t=this.eo.sA[this.JB.sindex].points[2]-this.EB,i=this.eo.sA[this.JB.eindex].points[2]-this.EB;this.MB={ex:webix.html.pos(e).x,fx:t+this.kp.x,fw:i-t}}webix.html.addCss(this.x,"webix_noselect webix_wresize_cursor"),this.GE(),this.NB=webix.event(document.body,webix.env.mouse.move,this.OB,{bind:this}),this.PB=webix.event(document.body,webix.env.mouse.up,this.QB,{bind:this})},GE:function(){webix.h[this.NB]&&(webix.eventRemove(this.NB),webix.eventRemove(this.PB))},OB:function(e){if(this.LB){var t=webix.html.pos(e).x-webix.html.offset(this.$view).x;t>=this.kp.x&&t<=this.DB.x&&(-1!==this.LB.className.indexOf("left")?t<this.FB.offsetLeft&&(this.LB.style.left=t-this.HB+"px",this.CB.style.left=t+"px",this.CB.style.width=this.FB.offsetLeft-this.GB.offsetLeft-1+"px"):t>this.GB.offsetLeft+this.HB&&(this.LB.style.left=t-this.HB+"px",this.CB.style.width=this.FB.offsetLeft-this.GB.offsetLeft-1+"px"))}else if(this.MB){var i=webix.html.pos(e).x-this.MB.ex,n=this.MB.fx+i,r=n+this.MB.fw;this.kp.x<=n&&this.DB.x>=r&&(webix.extend(this.MB,{lx:n,rx:r},!0),this.GB.style.left=n-this.HB+"px",this.FB.style.left=r-this.HB+"px",this.CB.style.left=n+"px")}},QB:function(e){if(this.GE(),webix.html.removeCss(this.x,"webix_noselect"),webix.html.removeCss(this.x,"webix_wresize_cursor"),this.count()){if(this.LB){var t=webix.env.touch?e.changedTouches[0].pageX:webix.html.pos(e).x;t-=webix.html.offset(this.$view).x+this.kp.x;var i=this.RB(t),n=this.SB(i);this.LB===this.GB?(i>=this.JB.eindex&&(i=this.JB.eindex,n=this.SB(i)),this.JB.start=n,this.JB.sindex=i):(i<=this.JB.sindex&&(i=this.JB.sindex,n=this.SB(i)),this.JB.end=n,this.JB.eindex=i),this.LB=null}else if(this.MB&&this.MB.lx){var r=this.JB.sindex=this.RB(this.MB.lx-this.kp.x),a=this.JB.eindex=this.RB(this.MB.rx-this.kp.x);this.JB.start=this.SB(r),this.JB.end=this.SB(a),this.MB=null}this.KB(),this.callEvent("onAfterRangeChange",[this.JB.start,this.JB.end])}},SB:function(e){return e>=this.data.order.length&&(e=this.data.order.length-1),this.getItem(this.data.order[e])[this.s.frameId||"id"]},RB:function(e){for(var t=this.eo.sA,i=0;i<t.length;i++)if(e<=t[i].points[2]-this.EB)return i;return t.length-1},TB:function(e){for(var t=this.s.frameId||"id",i=0;i<this.data.order.length;i++)if(this.getItem(this.data.order[i])[t]==e)return i;return-1},BB:function(e){e?(e.start&&(e.sindex=this.TB(e.start)),e.end&&(e.eindex=this.TB(e.end)),e.start=e.start||this.SB(e.sindex),e.end=e.end||this.SB(e.eindex)):e={start:0,end:0,sindex:0,eindex:0},this.JB=e},range_setter:function(e){return this.BB(e),this.JB},getFrameData:function(){for(var e=[],t=this.JB.sindex;t<=this.JB.eindex;t++){var i=this.getItem(this.data.order[t]);i&&e.push(i)}return e},setFrameRange:function(e){this.BB(e),this.KB(),this.callEvent("onAfterRangeChange",[e])},KB:function(){if(this.eo){var e=this.eo.sA;if(e.length){var t=e[this.JB.sindex].points[0]+this.kp.x+this.EB-1,i=e[this.JB.eindex].points[0]+this.kp.x+this.EB-1;this.GB.style.left=t-this.HB+"px",this.FB.style.left=i-this.HB+"px",this.CB.style.left=t+"px",this.CB.style.width=i-t+"px",this.s.range=this.JB}}},getFrameRange:function(){return this.s.range}},webix.ui.chart),webix.protoUI({name:"richtext",defaults:{label:"",labelWidth:80,labelPosition:"left"},$init:function(e){this.$ready.unshift(this.HE)},getInputNode:function(){return this.$view.querySelector(".webix_richtext_editor")},IE:function(e){return{view:"toggle",type:"iconButton",icon:e,name:e,id:e,label:webix.i18n.richtext[e],autowidth:!0,action:e,click:this.JE}},HE:function(){var e=this,t={view:"template",css:"webix_richtext_container",borderless:!0,template:"<div class='webix_richtext_editor' contenteditable='true'>"+this.getValue()+"</div>",on:{onAfterRender:function(){webix.UE(e.getInputNode(),"blur",function(){e.CG(this.innerHTML)}),webix.UE(e.getInputNode(),"keyup",function(){e.KE()})}},onClick:{webix_richtext_editor:function(){e.KE()}}},i={view:"toolbar",id:"toolbar",elements:[this.IE("underline"),this.IE("bold"),this.IE("italic"),{}]},n=[i,t];"top"!==this.config.labelPosition&&this.config.labelWidth?(this.config.borderless=!0,this.cols_setter([{template:this.config.label||" ",width:this.config.labelWidth},{rows:n}])):(i.elements.push({view:"label",label:this.config.label,align:"right"}),this.rows_setter(n))},KE:function(){var e,t=this,i=t.$$("toolbar");i.setValues({italic:!1,underline:!1,bold:!1}),e=window.getSelection?window.getSelection():document.selection.createRange();for(var n=0;n<e.rangeCount;++n)e.getRangeAt(n),t.$view.contains(this.getInputNode())&&(document.queryCommandState("bold")&&t.$$("bold").setValue(!0),document.queryCommandState("underline")&&t.$$("underline").setValue(!0),document.queryCommandState("italic")&&t.$$("italic").setValue(!0))},refresh:function(){this.getInputNode().innerHTML=this.config.value},LE:function(e,t){var i,n;if(window.getSelection()?(i=window.getSelection(),n=i.toString().length):(i=document.selection.createRange(),n=i.text.length),n>0)for(var r=0;r<i.rangeCount;++r){var a=i.getRangeAt(r);if(i.isCollapsed){var o=i.focusNode.textContent,s=i.focusNode,l=i.anchorOffset,u=o.substring(0,l).match(/[A-Za-z]*$/)[0],c=o.substring(l).match(/^[A-Za-z]*/)[0],d=l-u.length,h=l+c.length;a.setStart(s,d),a.setEnd(s,h),i.removeAllRanges(),window.getSelection().addRange(a),document.execCommand(t,!1,"")}else document.execCommand(t,!1,"")}},JE:function(){var e=(this.config.action,this.getTopParentView()),t=e.getInputNode();this.$view.contains(this.getInputNode())&&e.LE(t,this.config.action)},focus:function(){var e=this.$view.querySelector(".webix_richtext_editor");e.focus()},CG:function(e){var t=this.config.value;this.config.value=e||"",t!==e&&this.callEvent("onChange",[e,t])},setValue:function(e){this.CG(e),this.refresh()},getValue:function(){var e=this.getInputNode();e&&(this.config.value=this.getInputNode().innerHTML);var t=this.config.value;return t||(0===t?"0":"")}},webix.IdSpace,webix.ui.layout),webix.protoUI({name:"gage",defaults:{value:0,minRange:0,maxRange:100,minWidth:250,minHeight:200,smoothFlow:!0,scale:3,stroke:7},$init:function(){this.$ready.push(webix.bind(this.ME,this)),this.attachEvent("onDestruct",function(){this.NE=this.OE=this.PE=null})},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&(this.QE(this.config.value),this.Qf(this.config.value))},QE:function(){var e=this.$view.querySelector(".webix_gage_curves"),t=this.$view.querySelector(".webix_gage_info"),i=this.config.scale,n=this.$width;e.setAttribute("r",n/i),e.setAttribute("strokeDasharray",Math.round(Math.PI*n/i)),e.style.r=n/i,e.style.strokeDasharray=Math.round(Math.PI*n/i),t.setAttribute("style","width: "+Math.round(n/i*2)+"px;"),this.PE.setAttribute("style","height: "+(n/i+20)+"px;"),this.NE.setAttribute("r",n/i),this.NE.setAttribute("style","stroke-dasharray: "+Math.round(this.gradientLength*Math.PI*n/i)+", 1900;"),this.RE(e.style.r)},sF:function(e){return Math.min(Math.max(e,this.s.minRange),this.s.maxRange)},RE:function(e){var t=this.$width,i=.05,n=this.config.value;n=this.sF(n);var r=n-this.config.minRange,a=Math.round(180*r/(this.config.maxRange-this.config.minRange));(0===a||180===a)&&(this.PE.style.paddingTop="3px"),this.OE.style.transformOrigin=t/2-(.5+i)+"px 0 0",this.OE.setAttribute("y1","0"),this.OE.setAttribute("x1",Math.round(t*(.5+i))),this.OE.setAttribute("y2",0),this.OE.setAttribute("x2",Math.round(t*(.5+i/2)+parseInt(e)))},Qf:function(e){var t=this.$view.querySelector(".webix_gage-value"),i=this.sF(e)-this.config.minRange,n=Math.round(180*i/(this.config.maxRange-this.config.minRange)),r=this.$width;r=Math.floor(r/10),this.$view.style.fontSize=r+"px",t.innerHTML=e,this.NE.style.stroke=this.color,this.NE.setAttribute("stroke",this.color),this.OE.setAttribute("transform","rotate("+n+" "+this.$width/2+" 0)"),this.OE.style.transform="rotate("+n+"deg)"},SE:function(){this.gradientLength=(this.sF(this.config.value)-this.config.minRange)/(this.config.maxRange-this.config.minRange);var e=this.config.color;e?"function"==typeof e?this.color=e.call(this,this.config.value):this.color=e:this.color="hsl("+(120-Math.round(120*this.gradientLength))+", 100%, 50%)",this.config.animation===!0?this.defaultColor="hsl(125, 100%, 50%)":this.defaultColor="hsl("+(120-Math.round(120*this.gradientLength))+", 100%, 50%)"},ME:function(){this.gradientLength=0,this.SE(),this.$view.innerHTML='<div class="webix_gage_label"><span>'+(this.config.label||"")+'</span></div><svg class="webix_gage" style="height:300px; position: relative;"><circle class="webix_gage_curves" r="0" cx="50%" cy="0" stroke="#EEEEEE" stroke-width="'+this.config.stroke+'%" fill="none"></circle><circle class="webix_gage_gradient" r="0" stroke="'+this.defaultColor+'" cx="50%" cy="0" stroke-width="'+this.config.stroke+'%" fill="none" style="stroke-dasharray: 0, 1900;"></circle><line class="webix_gage_gradient_point" x1="0" x2="0" y1="0" y2="0" style="stroke:#B0B0B0; stroke-width:4;"></line></svg><div class="webix_gage_info"><div class="webix_gage_min_range">'+this.config.minRange+'</div><div class="webix_gage_max_range">'+this.config.maxRange+'</div><div class="webix_gage_placeholder"><div class="webix_gage-value">'+this.config.value+'</div><div class="webix_gage_range_info">'+(this.config.placeholder||"")+"</div></div></div>",this.NE=this.$view.querySelector(".webix_gage_gradient"),this.OE=this.$view.querySelector(".webix_gage_gradient_point"),this.PE=this.$view.querySelector(".webix_gage"),this.isVisible()===!0&&this.config.smoothFlow===!0&&webix.env.svganimation&&!webix.env.isEdge&&(this.NE.setAttribute("class","webix_gage_gradient webix_gage_animated"),this.OE.setAttribute("class","webix_gage_gradient_point webix_gage_gradient_point_animated"))},setValue:function(e){this.config.value=e,this.SE(),this.QE(),this.Qf(e)},getValue:function(){return this.config.value}},webix.EventSystem,webix.ui.view),webix.protoUI({name:"bullet",defaults:{color:"#394646",marker:!1,layout:"x",barWidth:40,flowTime:500,labelWidth:150,stroke:8,bands:[{value:100,color:"#5be5d6"},{value:80,color:"#fff07e"},{value:60,color:"#fd8b8c"}],scale:{step:10}},label_setter:webix.template,placeholder_setter:webix.template,$init:function(e){e&&(e.layout&&"x"!==e.layout||e.height||(e.height=e.scale===!1?60:90),"y"!==e.layout||e.width||(e.width=e.scale===!1?60:97))},scale_setter:function(e){return e.step=e.step||10,e.template=webix.template(e.template||"#value#"),e},$setSize:function(e,t){webix.ui.view.prototype.$setSize.call(this,e,t)&&(this.ME("y"===this.s.layout?t:e),(this.s.value||0===this.s.value)&&this.Qf(0,this.s.value))},sF:function(e){return Math.min(Math.max(e,this.s.minRange),this.s.maxRange)},CF:function(e){this.DF=e-(this.um||e),this.um=e;var t;t=this.s.flowTime>this.DF?this.s.flowTime/this.DF:this.s.flowTime,(t>1e3||5>t)&&(t=30);var i=(this.s.value-this.EF)/t;this.FF+=i,Math.abs(this.FF-this.s.value)<Math.abs(i)&&(this.FF=this.s.value),this.FF!=this.s.value?this.GF=requestAnimationFrame(this.CF.bind(this)):(cancelAnimationFrame(this.GF),this.GF=null),this.HF.setAttribute("width",Math.floor(this.FF*this.JF))},Qf:function(e,t){this.EF=this.FF=e,this.s.value=t;var i=this.s.label;i&&(this.$view.querySelector(".webix_bullet_header").textContent=i(this.s));var n=this.s.placeholder;"function"==typeof n&&(this.$view.querySelector(".webix_bullet_subheader").textContent=n(this.s)),this.isVisible()===!0&&this.s.smoothFlow===!0&&window.requestAnimationFrame?this.GF||(this.GF=requestAnimationFrame(this.CF.bind(this))):this.HF.setAttribute("width",Math.floor(t*this.JF))},KF:function(e,t,i){for(var n=0;n<t.length;n++)e.setAttribute(t[n],i[n])},LF:function(e,t,i){var n="http://www.w3.org/2000/svg",r=document.createElementNS(n,e);return t&&this.KF(r,t,i),r},SF:function(e){var t=this.LF(e[0],e[1],e[2]),i=e[3];if(i)for(var n=0;n<i.length;n++)t.appendChild(this.SF(i[n]));return t},MF:function(){var e="d"+webix.uid(),t=this.LF("svg",["class"],["webix_bullet_graph_svg"]),i=this.LF("g"),n=this.LF("g"),r=this.LF("rect",["x","y","width","height","class","style"],[this.IF,this.TF,100,this.s.stroke,"webix_bullet_value","filter:url(#"+e+");fill:"+this.s.color]),a=this.LF("rect",["x","y","width","height","fill"],[0,5,3,this.s.barWidth-10,"rgba(0,0,0,0.5)"]),o=this.LF("g",["stroke","stroke-width","fill"],["#8b94ac","2","none"]),s=this.LF("text",["text-anchor","stroke","fill"],["end","none","#8b94ac"]),l="y"==this.s.layout?"50%":this.IF-10,u="y"==this.s.layout?11:17,c=this.LF("tspan",["x","y","class"],[l,u,"webix_bullet_header"]),d=this.LF("tspan",["x","y","class"],[l,u+17,"webix_bullet_subheader"]),h=this.LF("text",["text-anchor","stroke","class","fill"],["middle","none","webix_bullet_scale","#8b94ac"]),f=this.SF(["filter",["id","x","y","width","height"],[e,"0","-150%","110%","400%"],[["feOffset",["in","dx","dy"],["SourceAlpha",0,0]],["feGaussianBlur",["stdDeviation"],["2"]],["feComponentTransfer",0,0,[["feFuncA",["type","slope"],["linear","0.5"]]]],["feMerge",0,0,[["feMergeNode"],["feMergeNode",["in"],["SourceGraphic"]]]]]]);t.appendChild(f);var p=document.createElement("div");i.appendChild(n),this.s.marker!==!1&&(a.setAttribute("x",this.IF+this.sF(this.s.marker)*this.JF-2),i.appendChild(a)),i.appendChild(r),s.appendChild(c),s.appendChild(d),t.appendChild(s);var g="y"===this.s.layout;
if(this.s.scale){for(var v=this.s.minRange;v<=this.s.maxRange;v+=this.s.scale.step){var m=this.s.labelHeight||this.s.labelWidth,l=Math.floor(m+v*this.JF-(v?.1:-1)),b=g?(this.$width-this.s.barWidth)/2+-10:l,y=g?this.NF-l+m+44:this.s.barWidth+28,w=g?-13:this.s.barWidth+3,x=g?"end":"middle",E=this.LF("tspan",["x","y","text-anchor"],[b,y,x]),_=this.LF("line",["x1","y1","x2","y2","stroke-width"],[l,w,l,w+10,1]);p.innerHTML=this.s.scale.template({value:v}),E.appendChild(p.childNodes[0]),h.appendChild(E),o.appendChild(_)}i.appendChild(o),t.appendChild(h)}for(var v=0;v<this.s.bands.length;v++){var A=this.s.bands[v],C=this.LF("path"),r=this.sF(A.value)*this.JF;C.setAttribute("d","M "+this.IF+",0 l "+r+",0 l 0,"+this.s.barWidth+" l -"+r+",0 z"),C.setAttribute("fill",A.color),n.appendChild(C)}if(t.appendChild(i),"y"===this.s.layout){var S=this.s.scale?this.$width/2-10:0,T=this.$height+this.IF-28;i.setAttribute("transform","translate("+S+", "+T+") rotate(270)"),s.setAttribute("text-anchor","middle"),s.childNodes[0].setAttribute("x","55%"),s.childNodes[1].setAttribute("x","55%"),h.setAttribute("text-anchor","right")}return t.setAttribute("viewBox","0 0 "+this.$width+" "+this.$height),t},ME:function(e){if(e){var t=this.$view;t.innerHTML="";var i=this.s.labelHeight||this.s.labelWidth;this.IF=this.s.label?i:7,this.TF=Math.floor((this.s.barWidth-this.s.stroke)/2),this.NF=e-this.IF-30,this.JF=this.NF/(this.s.maxRange-this.s.minRange);var n=this.MF();n.setAttribute("height",this.$height),n.setAttribute("width",this.$width),t.appendChild(n),this.HF=t.querySelector(".webix_bullet_value")}},setValue:function(e){this.s.value!=e&&this.Qf(this.s.value,e)},getValue:function(){return this.s.value}},webix.ui.gage,webix.ui.view),webix.protoUI({name:"switch",defaults:{template:function(e,t){t.HH();var i=e.name||"x"+webix.uid(),n="";e.labelRight&&(n="<label class='webix_label_right'>"+e.labelRight+"</label>",e.labelWidth&&(e.label=e.label||"&nbsp;"));var r=e.checkValue==e.value,a='<label class="webix_switch_box '+(r?" webix_switch_on":"")+'" style="width:'+t.IH+'px" for="'+i+'"><span class="webix_switch_text">'+((r?e.onLabel:e.offLabel)||"")+'</span><span class="webix_switch_handle" style="left:'+(r?t.IH-t.JH:0)+'px;"><input  id="'+i+'" class="webix_switch_toggle" type="checkbox" '+(r?"checked":"")+"></span></label>"+n;return t.$renderInput(e,a)}},$skin:function(){this.JH=webix.skin.$active.switchHeight,this.IH=webix.skin.$active.switchWidth},$setValue:function(e){var t=this.s,i=e==t.checkValue,n=this.$view.querySelector(".webix_switch_box");if(n){var r=n.childNodes[1],a=(i?t.onLabel:t.offLabel)||"";i?webix.html.addCss(n,"webix_switch_on"):webix.html.removeCss(n,"webix_switch_on"),r.style.left=(i?this.IH-this.JH:0)+"px",r.firstChild.checked=i,a&&(n.childNodes[0].innerHTML=a)}},HH:function(){var e=this.s;if(e.onLabel||e.offLabel){var t=e.onLabel?webix.html.getTextSize(e.onLabel,"webix_switch_text").width:0,i=e.onLabel?webix.html.getTextSize(e.offLabel,"webix_switch_text").width:0;this.IH=Math.max(t,i)+this.JH}},on_click:{webix_switch_toggle:function(e,t,i){this.toggle()}}},webix.ui.checkbox)}).call(exports,__webpack_require__(329).setImmediate)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=n(b),w=i(277),x=n(w),E=i(129),_=n(E);i(1848);var A=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={detailsExpanded:!1},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"toggleDetails",value:function(){this.setState({detailsExpanded:!this.state.detailsExpanded})}},{key:"hideDetails",value:function(){this.setState({detailsExpanded:!1})}},{key:"onOK",value:function(){this.props.onOK(),this.setState({detailsExpanded:!1})}},{key:"render",value:function(){var e=this,t=this.props,i=t.open,n=t.title,r=t.message,a=t.details,o=(t.onOK,t.okText),s=t.type,l=this.state.detailsExpanded,u=g.default.createElement("div",{className:s},g.default.createElement("div",{className:"message"},r),g.default.createElement("div",{className:(0,y.default)({"details-expanded":l,details:!0})},g.default.createElement("div",{onClick:function(){return e.toggleDetails()},className:"toggle-details"},l?"Hide Details":"Show Details"),g.default.createElement("div",{className:"details-text"},a))),c=g.default.createElement(_.default,{onClick:function(){return e.onOK()},type:"primary"},o);return g.default.createElement(x.default,{open:i,className:"mstr-as-alert",title:n,content:u,footer:c})}}]),t}(p.Component);A.propTypes={open:m.default.bool,title:m.default.string,message:m.default.string,details:m.default.string,onOK:m.default.func,okText:m.default.string,type:m.default.oneOf(["info","warning"])},A.defaultProps={title:"Error",message:"",details:"",open:!1,okText:"OK",type:"warning",onOK:function(){}},t.default=A},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(13),m=n(v),b=i(5),y=n(b),w=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this._popup=document.createElement("div"),document.body.appendChild(this._popup),this._render()}},{key:"componentDidUpdate",value:function(){this._render()}},{key:"componentWillUnmount",value:function(){m.default.unmountComponentAtNode(this._popup),document.body.removeChild(this._popup)}},{key:"_render",value:function(){m.default.render(this.props.children,this._popup)}},{key:"render",value:function(){return null}}]),t}(g.default.PureComponent);w.propTypes={children:y.default.node},t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(55),s=n(o),l=i(30),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b),w=i(1),x=n(w),E=i(5),_=n(E);i(1849);var A=i(8),C=n(A),S=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.onClick=function(){i.props.isDisabled===!1&&i.props.onClick()},i.defaultW=72,i.defaultH=26,i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this.props,t=e.htmlId,i=e.dim,n=e.type,r=e.text,o=e.buttonType,l=e.isDisabled,c=e.style,d=e.className,h=(0,u.default)(e,["htmlId","dim","type","text","buttonType","isDisabled","style","className"]),f={width:this.defaultW,height:this.defaultH};i&&(f={position:"absolute",left:i.x,top:i.y,width:i.w?i.w:this.defaultW,height:i.h?i.h:this.defaultH}),c&&(0,s.default)(f,c);var p=(0,C.default)("mbde-lib-button",{"btn-normal":"NORMAL"===n&l===!1,"btn-emphasized":"EMPHASIZED"===n&l===!1},{"btn-disabled":l===!0},d);return x.default.createElement("button",(0,a.default)({id:t,onClick:this.onClick,className:p,disabled:l,style:f,type:o},h),r)}}]),t}(w.Component);S.propTypes={dim:_.default.object,isDisabled:_.default.bool,type:_.default.string,onClick:_.default.func,text:_.default.string.isRequired,htmlId:_.default.string,style:_.default.object},S.defaultProps={isDisabled:!1,type:"NORMAL"},t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(30),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v),b=i(1),y=n(b),w=i(5),x=n(w),E=function(e){function t(){var e,i,n,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=n=(0,g.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),n.getContainer=function(e){n.container=e},n.handle=function(e){if("click"===e.type){var t=n.props.onClickOutside,i=n.container;i.contains(e.target)||t(e)}},r=i,(0,g.default)(n,r)}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,i=(0,s.default)(e,["children"]);return y.default.createElement("div",(0,a.default)({},i,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handle,!0)}}]),t}(b.Component);E.propTypes={onClickOutside:x.default.func.isRequired},t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(8),y=(n(b),i(129)),w=n(y),x=i(277),E=n(x);i(1850);var _=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.open,i=e.title,n=e.message,r=e.details,a=e.onCancel,o=e.onOK,s=e.okText,l=e.cancelText,u=e.type,c=g.default.createElement("div",{className:u},g.default.createElement("div",{className:"message"},n),g.default.createElement("div",{className:"details"},r)),d=g.default.createElement("div",null,g.default.createElement(w.default,{onClick:o,type:"primary"},s),g.default.createElement(w.default,{onClick:a,type:"secondary"},l));return g.default.createElement(E.default,{open:t,title:i,className:"mstr-as-confirm",content:c,footer:d})}}]),t}(p.Component);_.propTypes={open:m.default.bool,title:m.default.string,message:m.default.string,details:m.default.string,onOK:m.default.func,okText:m.default.string,onCancel:m.default.func,cancelText:m.default.string,type:m.default.oneOf(["info","warning"])},_.defaultProps={title:"Confirm",details:"",open:!1,cancelText:"Cancel",okText:"OK",type:"info",onCancel:function(){},onOK:function(){},message:""},t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(255),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(342);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(129),x=n(w),E=i(277),_=n(E),A=i(20),C=i(133);i(1851);var S=[{title:"Name",dataIndex:"name"},{title:"Pipeline ID",dataIndex:"id"}],T=function(e){function t(){var e,i,n,r;(0,u.default)(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return i=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),n.state={selectedRowKeys:[]},n.onSelectChange=function(e){var t=[];e.length>0&&n.state.selectedRowKeys.length>0?(e.forEach(function(e){n.state.selectedRowKeys.indexOf(e)===-1&&t.push({index:e,enabled:!0})}),n.state.selectedRowKeys.forEach(function(i){e.indexOf(i)===-1&&t.push({index:i,enabled:!1})})):0===e.length?t=n.state.selectedRowKeys.map(function(e){return{index:e,enabled:!1}}):0===n.state.selectedRowKeys.length&&(t=e.map(function(e){return{index:e,enabled:!0}})),t.forEach(function(e){(0,C.setPipelineCache)(A.workspaceManager.initialWorkspaceId,A.workspaceManager.currentWorkspaceDefinition.pipelines[e.index].id,!e.enabled).then(function(e){console.log("change pipeline cache mode",e)})}),n.setState({selectedRowKeys:e})},r=i,(0,f.default)(n,r)}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({selectedRowKeys:[]})}},{key:"render",value:function(){var e=this.props,t=e.open,i=e.title,n=e.onCancel,r=e.onOK,o=e.okText,s=e.cancelText,l=this.state.selectedRowKeys,u={selectedRowKeys:l,onChange:this.onSelectChange},c=A.workspaceManager.currentWorkspaceDefinition?A.workspaceManager.currentWorkspaceDefinition.pipelines:[],d=m.default.createElement(a.default,{showHeader:!0,bordered:!1,scroll:{y:300},pagination:!1,size:"small",rowSelection:u,columns:S,dataSource:c}),h=m.default.createElement("div",null,m.default.createElement(x.default,{onClick:r,type:"primary"},o),m.default.createElement(x.default,{onClick:n,type:"secondary"},s));return m.default.createElement(_.default,{open:t,title:i,className:"mstr-as-cubepublish",content:d,footer:h})}}]),t}(v.Component);T.propTypes={open:y.default.bool,title:y.default.string,onOK:y.default.func,okText:y.default.string,onCancel:y.default.func,cancelText:y.default.string},T.defaultProps={title:"FeatureFlag",open:!1,cancelText:"Cancel",okText:"OK",onCancel:function(){},onOK:function(){}},t.default=T},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(333),o=r(a),s=i(12),l=r(s),u=i(9),c=r(u),d=i(2),h=r(d),f=i(6),p=r(f),g=i(4),v=r(g),m=i(3),b=r(m);i(490);var y=i(1),w=r(y),x=i(13),E=(r(x),i(5)),_=r(E);i(1852);var A=i(375),C=r(A),S=i(152),T=r(S),I=i(10),D=r(I),O=i(376),M=r(O),k=i(569),N=r(k),P=i(378),L=n(P),R=o.default.RangePicker,F=507,j=332,B=335,H=80,V=function(e){function t(e){(0,h.default)(this,t);var i=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e));return i.getDefaultOperation=function(){var e=L.numericOperations.find(function(e){return e.default});return e?e.key:""},i.onSelect=function(){var e={operation:i.state.operation};i.state.date1&&(e.value1=i.getDateInMillis(i.state.date1)),i.state.date2&&(e.value2=i.getDateInMillis(i.state.date2)),i.props.onSelect(e),i.layoverClick()},i.getDateInMillis=function(e){if(e)return(0,D.default)(e,i.props.dateTimeMilliFormat).valueOf()},i.onChange=function(e,t){t&&(Array.isArray(t)?i.setState({date1:t[0],date2:t[1]}):i.setState({date1:t}))},i.onCustomDatefrom=function(e){i.setState({date1:e})},i.onCustomDateTo=function(e){i.setState({date2:e})},i.onOperationChange=function(e){i.setState({operation:e,date1:null,date2:null})},i.layoverClick=function(e){e&&e.stopPropagation(),i.setState({isVisible:!1,date1:null,date2:null}),i.props.onClose()},i.containerClick=function(e){return e.stopPropagation()},i.getDatePicker=function(){if([L.BETWEEN,L.NOTBETWEEN].includes(i.state.operation)){var e;return w.default.createElement("div",{className:"custom-range-wrapper"},w.default.createElement(R,(e={showTime:i.props.showTime,getCalendarContainer:function(){return document.querySelector(".datepkr-container .calendar-container")}},(0,l.default)(e,"showTime",i.props.showTime===!0&&{format:i.props.timeFormat}),(0,l.default)(e,"format",i.format),(0,l.default)(e,"placeholder",["Start Time","End Time"]),(0,l.default)(e,"onChange",i.onChange),(0,l.default)(e,"open",!0),e)))}return[L.ISNULL,L.ISNOTNULL].includes(i.state.operation)?null:w.default.createElement("div",{className:"custom-date-wrapper"},w.default.createElement(o.default,{showTime:i.props.showTime,getCalendarContainer:function(){return document.querySelector(".datepkr-container .calendar-container")},format:i.format,placeholder:"Select Time",onChange:i.onChange,open:!0}))},i.onEnter=function(){i.isValidInput()&&i.onSelect()},i.getHeader=function(){var e=i.props.showTime;return[L.BETWEEN,L.NOTBETWEEN].includes(i.state.operation)?w.default.createElement("div",{key:"hdr-"+i.state.operation,className:"header-inner-wrapper"},w.default.createElement(N.default,{key:"input-val1"+i.state.operation,className:"datepkr-input",value:i.state.date1,onPressEnter:i.onEnter,onChange:i.onCustomDatefrom,placeholder:i.getPlaceHolder(),isRequired:!0,isDateTime:e,isDate:!e}),w.default.createElement("div",{className:"small-font"},"and"),w.default.createElement(N.default,{key:"input-val2"+i.state.operation,className:"datepkr-input",value:i.state.date2,onPressEnter:i.onEnter,onChange:i.onCustomDateTo,placeholder:i.getPlaceHolder(),isRequired:!0,isDateTime:e,isDate:!e})):[L.ISNULL,L.ISNOTNULL].includes(i.state.operation)?null:w.default.createElement("div",{key:"hdr-"+i.state.operation,className:"header-inner-wrapper"},w.default.createElement(N.default,{key:"input-val1"+i.state.operation,className:"datepkr-input",value:i.state.date1,onPressEnter:i.onEnter,onChange:i.onCustomDatefrom,placeholder:i.getPlaceHolder(),isRequired:!0,isDateTime:e,isDate:!e}))},i.getPlaceHolder=function(){return i.props.showTime?i.props.dateTimeFormat:i.props.dateFormat},i.isValidInput=function(){var e=i.state,t=e.date1,n=e.date2,r=e.operation;return[L.BETWEEN,L.NOTBETWEEN].includes(r)?i.isValidDate(t)&&i.isValidDate(n):!![L.ISNULL,L.ISNOTNULL].includes(r)||i.isValidDate(t)},i.isValidDate=function(e,t){var n=i.props,r=n.dateFormat,a=n.dateTimeFormat,o=n.dateTimeMilliFormat;return(0,D.default)(e,r,!0).isValid()||(0,D.default)(e,a,!0).isValid()||(0,D.default)(e,o,!0).isValid()},i.state={isVisible:!0},i}return(0,b.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:this.props.visible,operation:this.getDefaultOperation()})}},{key:"componentWillReceiveProps",value:function(e){e.visible!==this.props.visible&&this.setState({isVisible:e.visible})}},{key:"render",value:function(){var e=this.props,t=e.pos,i=e.showTime;this.format=i===!0?this.props.dateTimeFormat:this.props.dateFormat;var n=this.state.operation===L.BETWEEN?F:j,r=this.isValidInput(),a=[L.ISNULL,L.ISNOTNULL].includes(this.state.operation)?H:B;return w.default.createElement(C.default,null,this.state.isVisible?w.default.createElement("div",{className:"custom-datepkr-layover",onClick:this.layoverClick},w.default.createElement("div",{className:"datepkr-container",onClick:this.containerClick,style:{width:n,top:t.y,left:t.x}},w.default.createElement("div",{className:"select-container"},w.default.createElement(M.default,{className:"datepkr-select",dataSource:L.numericOperations,onChange:this.onOperationChange,defaultValue:this.state.operation,value:this.state.operation}),this.getHeader()),w.default.createElement("div",{className:"calendar-container",style:{height:a}},this.getDatePicker()),w.default.createElement("div",{className:"footer-container"},w.default.createElement(T.default,{isDisabled:!r,type:"EMPHASIZED",style:{width:100},text:L.APPLY_BTN_TXT,onClick:this.onSelect}),w.default.createElement(T.default,{text:L.CANCEL_BTN_TXT,onClick:this.layoverClick})))):null)}}]),t}(y.Component);V.propTypes={pos:_.default.object,onSelect:_.default.func.isRequired,onClose:_.default.func,showTime:_.default.bool,dateFormat:_.default.string,dateTimeFormat:_.default.string,timeFormat:_.default.string},V.defaultProps={pos:{x:0,y:0},onClose:function(){},dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm:ss",timeFormat:"HH:mm:ss",dateTimeMilliFormat:"YYYY-MM-DD HH:mm:ss.SSS",showTime:!1},t.default=V},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1291),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(64),a=n(r),o=i(7),s=n(o),l=i(30),u=n(l),c=i(9),d=n(c),h=i(2),f=n(h),p=i(6),g=n(p),v=i(4),m=n(v),b=i(3),y=n(b);i(65);var w=i(1),x=n(w),E=i(13);n(E);i(1853);var _=i(5),A=n(_),C=i(8),S=n(C),T=i(10),I=n(T),D=/^[\+\-]?\d*\.?\d*$/,O="Must not be empty.",M="Must be a number.",k="Must be a date",N=function(e){function t(e){(0,f.default)(this,t);var i=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));return i.onChange=function(e){var t=i.props,n=t.isNumeric,r=t.isDate,a=t.isDateTime,o=t.onChange,s=e.target.value;n?i.isValidNumber(s)?(i.setState({value:s,validNumber:!0}),o(s)):(i.setState({value:s,validNumber:!1}),o(null)):r?i.isValidDate(s)?(i.setState({value:s,validDate:!0}),o(s)):(i.setState({value:s,validDate:!1}),o(null)):a?i.isValidDate(s)?(i.setState({value:s,validDateTime:!0}),o(s)):(i.setState({value:s,validDateTime:!1}),o(null)):(i.setState({value:s}),o(s))},i.refresh=function(e){var t=i.props,n=t.isNumeric,r=t.isDate,a=t.isDateTime;n?i.isValidNumber(e)?i.setState({value:e,validNumber:!0}):i.setState({value:e,validNumber:!1}):r?i.isValidDate(e)?i.setState({value:e,validDate:!0}):i.setState({value:e,validDate:!1}):a?i.isValidDate(e)?i.setState({value:e,validDateTime:!0}):i.setState({value:e,validDateTime:!1}):i.setState({value:e})},i.isValidNumber=function(e){return!!e&&!(isNaN(e)||!D.test(e))},i.isValidDate=function(e){var t=i.props,n=t.isDate,r=t.isDateTime,a=t.dateFormat,o=t.dateTimeFormat,s=t.dateTimeMilliFormat;return n?(0,I.default)(e,a,!0).isValid():!!r&&((0,I.default)(e,a,!0).isValid()||(0,I.default)(e,o,!0).isValid()||(0,I.default)(e,s,!0).isValid())},i.hasError=function(e,t,n,r){return!t||i.state.value&&0!==i.state.value.length?e&&!i.state.validNumber?M:n&&!i.state.validDate?k:r&&!i.state.validDateTime?k:null:O},i.state={value:null,validNumber:!1,validDate:!1,validDateTime:!1},i}return(0,y.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this.props.value&&this.refresh(this.props.value)}},{key:"componentWillReceiveProps",value:function(e){e.value&&this.refresh(e.value)}},{key:"render",value:function(){var e=this.props,t=e.className,i=(e.onChange,e.value,e.isNumeric),n=e.isDate,r=e.isDateTime,o=e.isRequired,l=(e.dateFormat,e.dateTimeFormat,e.dateTimeMilliFormat,(0,u.default)(e,["className","onChange","value","isNumeric","isDate","isDateTime","isRequired","dateFormat","dateTimeFormat","dateTimeMilliFormat"])),c=this.hasError(i,o,n,r),d=(0,S.default)("custom-input-component-container",t);return x.default.createElement("div",{className:d},x.default.createElement(a.default,(0,s.default)({className:"custom-input-component",onChange:this.onChange,value:this.state.value},l)),x.default.createElement("div",{className:"custom-input-alert-style"},c))}}]),t}(w.Component);N.propTypes={onChange:A.default.func,isNumeric:A.default.bool,value:A.default.string},N.defaultProps={onChange:function(){},isNumeric:!1,isRequired:!1,dateFormat:"YYYY-MM-DD",dateTimeFormat:"YYYY-MM-DD HH:mm:ss",dateTimeMilliFormat:"YYYY-MM-DD HH:mm:ss.SSS",value:""},t.default=N},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(64),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(65);var v=i(1),m=n(v),b=i(13);n(b);i(1854);var y=i(5),w=n(y),x=i(8),E=n(x),_=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.onChange=function(e){var t=e.target.value;i.setState({searchValue:t}),i.props.onChange(t)},i.clearInput=function(){i.searchInput.focus(),i.setState({searchValue:""}),i.props.onChange("")},i.state={searchValue:""},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.className,n=t.size,r=this.state.searchValue?m.default.createElement("div",{className:"facet-icon text-clear",onClick:this.clearInput}):m.default.createElement("div",{className:"facet-icon input-search-icon"}),o=(0,E.default)("custom-input-search",i);return m.default.createElement("div",{className:"custom-input-search-wrapper"},m.default.createElement(a.default,{className:o,size:n,onChange:this.onChange,suffix:r,value:this.state.searchValue,ref:function(t){return e.searchInput=t}}))}}]),t}(v.Component);_.propTypes={onChange:w.default.func,size:w.default.string},_.defaultProps={size:"small",onChange:function(){}},t.default=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1294),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(66),a=n(r),o=i(7),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(94);var b=i(1),y=n(b),w=i(13);n(w);i(1855);var x=i(5),E=n(x),_=i(8),A=n(_),C=a.default.Option,S=function(e){function t(){var e,i,n,r;(0,d.default)(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return i=n=(0,g.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o))),n.getOptions=function(){if(n.props.dataSource)return n.props.dataSource.map(function(e){return y.default.createElement(C,{key:e.key,value:e.key,text:e.value},e.value)})},n.onChange=function(e){n.props.onChange(e)},r=i,(0,g.default)(n,r)}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,i=e.size,n=e.dataSource,r=e.defaultValue,o=e.rest,l=n.find(function(e){return e.default===!0}),u=(0,A.default)("custom-select-search",t);return y.default.createElement(a.default,(0,s.default)({size:i,defaultValue:r||l.key,onChange:this.onChange,dropdownClassName:"custom-select-search-dropdown",className:u},o),this.getOptions())}}]),t}(b.Component);S.propTypes={onChange:E.default.func,size:E.default.string,dataSource:E.default.array.isRequired,defaultValue:E.default.string},S.defaultProps={size:"small",onChange:function(){}},t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(66),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(94);var v=i(1),m=n(v),b=i(13),y=(n(b),i(5)),w=n(y),x=i(8),E=n(x),_=a.default.Option,A=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));C.call(i),i.state={};var n=i.props.dataSource.find(function(e){return e.default===!0});return n&&(i.default=n.key),i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.default&&this.setState({value:this.default})}},{key:"render",value:function(){var e=this.props,t=e.className,i=(e.dataSource,e.size),n=((0,E.default)("custom-select-icon-search-wrapper",t),(0,E.default)("custom-select-search",t));return m.default.createElement("div",{className:"custom-select-search-wrapper"},m.default.createElement(a.default,{size:i,defaultValue:this.default||"",onChange:this.onChange,dropdownClassName:"custom-select-search-dropdown",dropdownStyle:{},className:n},this.getOptions()))}}]),t}(v.Component),C=function(){var e=this;this.getOptions=function(){if(e.props.dataSource)return e.props.dataSource.map(function(t){return m.default.createElement(_,{key:t.key,value:t.key,text:t.value},e.state.value===t.key?m.default.createElement("div",{className:t.className+"-selected"}):m.default.createElement("div",{className:t.className}))})},this.onChange=function(t){var i=e.props.dataSource.find(function(e){return e.key===t});i&&e.setState({value:t}),e.props.onChange(t)}};A.propTypes={onChange:w.default.func,size:w.default.string,dataSource:w.default.array},A.defaultProps={size:"small",onChange:function(){},dataSource:[]},t.default=A},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1297),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,i=e.height,n=e.stroke,r=e.strokeWidth,a=e.strokeDasharray;return g.default.createElement("svg",{width:t,height:i,style:{position:"absolute"},version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.default.createElement("line",{strokeDasharray:a,stroke:n,strokeWidth:r,x1:"0",y1:"1",x2:t,y2:"1"}))}}]),t}(p.Component);b.propTypes={width:m.default.number.isRequired,stroke:m.default.string,strokeWidth:m.default.number,strokeDasharray:m.default.string,height:m.default.number},b.defaultProps={stroke:"#5D63D8",strokeWidth:2,strokeDasharray:"2, 6",height:2},t.default=b},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1299),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(332),a=n(r),o=i(64),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(485),i(65);var b=i(1),y=n(b),w=i(5),x=n(w);i(1858);var E=function(e){function t(e){(0,d.default)(this,t);var i=(0,g.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return i.onDropdownClick=function(){i.props.onDropdownClick()},i.onInputClick=function(e){i.setState({prefix:"",placeHolder:""}),i.props.onInputClick()},i.onBlur=function(e){i.setState({prefix:i.props.val?null:y.default.createElement("div",{className:"mbde-input-dropdown search-icon"})}),i.setState({placeHolder:i.props.val?null:i.props.placeHolder})},i.state={placeHolder:"",prefix:y.default.createElement("div",{className:"mbde-input-dropdown search-icon"})},i}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.setState({placeHolder:this.props.placeHolder})}},{key:"componentWillReceiveProps",value:function(e){e.val?this.setState({prefix:"",placeHolder:""}):this.setState({prefix:y.default.createElement("div",{className:"mbde-input-dropdown search-icon"}),placeHolder:this.props.placeHolder})}},{key:"render",value:function(){var e=this.props,t=e.htmlId,i=e.dim,n=e.datasource,r=e.onChange,o=e.val,l=e.className,u=e.handleSearch,c=e.borderColor,d=y.default.createElement("div",{onClick:this.onDropdownClick,className:"mbde-input-dropdown dropdown-arrow-icon"}),h=l+" custom-dropdown-container";return y.default.createElement("div",{id:t,style:{position:"absolute",left:i.x,top:i.y,width:i.w,height:i.h}},y.default.createElement(a.default,{className:h,dropdownClassName:"custom-dropdown-element",dropdownMatchSelectWidth:!1,dropdownStyle:{width:i.w},size:"small",style:{width:"100%",height:"100%",border:"1px solid "+c},dataSource:n,optionLabelProp:"value",value:o,onSearch:u,onSelect:r},y.default.createElement(s.default,{size:"small",onClick:this.onInputClick,onBlur:this.onBlur,prefix:this.state.prefix,suffix:d,placeholder:this.state.placeHolder})))}}]),t}(b.Component);E.propTypes={dim:x.default.object.isRequired,htmlId:x.default.string,datasource:x.default.array,placeHolder:x.default.string,onChange:x.default.func,val:x.default.string,onInputClick:x.default.func,handleSearch:x.default.func,onDropdownClick:x.default.func,className:x.default.string,borderColor:x.default.string},t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1301),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(12),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v);i(678);var b=i(8),y=n(b),w=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.barData,i=e.barClass,n=(0,y.default)(i,(0,a.default)({},i+"-match",0===t.isMismatch),(0,a.default)({},i+"-mismatch",1===t.isMismatch));return m.default.createElement("div",{className:n,style:{width:t.width}},m.default.createElement("div",{className:"bar-text-container",style:{width:t.maxWidth}},m.default.createElement("div",{className:"bar-key",style:{width:70*t.maxWidth/100}},t.key),m.default.createElement("div",{className:"bar-value",style:{width:30*t.maxWidth/100}},t.value)))}}]),t}(v.Component);t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{
value:!0});var r=i(7),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p),v=i(1),m=n(v);i(678);var b=i(885),y=n(b),w=i(1303),x=n(w),E=i(5),_=n(E),A=function(e){function t(e){(0,u.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return i.buildElements=function(){var e=[];return i.barData.forEach(function(t,n){e.push(m.default.createElement(x.default,{key:n,text:i.barData[n].key,barClass:i.props.barClass||"default-bar-row",barData:i.barData[n]}))}),e},i.state={elements:[]},i}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.maxBarWidth;if(this.barData=[],this.props.group){var i=this.props.group;if(Array.isArray(i)&&i.length>0){var n=i.reduce(function(e,t){return e.value>t.value?e:t}),r=t/n.value;this.props.group.forEach(function(i){e.barData.push((0,a.default)({width:i.value*r,maxWidth:t},i))})}}this.setState({elements:this.buildElements()})}},{key:"render",value:function(){var e=this,t=this.props,i=t.rowHeight,n=t.facetClass,r=t.containerHeight;return m.default.createElement("div",{className:n||"defaultFacetClass",ref:function(t){return e.viewport=t}},m.default.createElement(y.default,{className:"infinite-container",elementHeight:i,containerHeight:r},this.state.elements))}}]),t}(v.Component);A.propTypes={rowHeight:_.default.number.isRequired,facetClass:_.default.string,barClass:_.default.string,maxBarWidth:_.default.number.isRequired,containerHeight:_.default.number.isRequired,group:_.default.array.isRequired},t.default=A},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1304),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(255),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(342);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(129),x=n(w),E=i(277),_=n(E),A=i(20);i(1860);var C=i(383),S=[{title:"Name",dataIndex:"name"},{title:"Description",dataIndex:"description"}],T=function(e){function t(){var e,i,n,r;(0,u.default)(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return i=n=(0,f.default)(this,(e=t.__proto__||(0,s.default)(t)).call.apply(e,[this].concat(o))),n.state={selectedRowKeys:[],bordered:!1,loading:!1,pagination:!1,scroll:scroll},n.onSelectChange=function(e){console.log("selectedRowKeys changed: ",e),n.setState({selectedRowKeys:e})},n.onConfirm=function(){if(A.workspaceManager.featureFlags){for(var e=0;e<A.workspaceManager.featureFlags.list.length;e++){var t=A.workspaceManager.featureFlags.list[e];t.enabled=n.state.selectedRowKeys.indexOf(e)>-1}(0,C.changeFeatureFlags)(A.workspaceManager.featureFlags.version,A.workspaceManager.featureFlags.list).then(function(e){console.log("featureflag updated",e)})}n.props.onOK()},r=i,(0,f.default)(n,r)}return(0,g.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){for(var t=[],i=0;i<A.workspaceManager.featureFlags.list.length;i++){var n=A.workspaceManager.featureFlags.list[i];n.key=i,n.enabled&&t.push(i)}this.setState({selectedRowKeys:t})}},{key:"render",value:function(){var e=this.props,t=e.open,i=e.title,n=e.onCancel,r=(e.onOK,e.okText),o=e.cancelText,s=this.state.selectedRowKeys,l={selectedRowKeys:s,onChange:this.onSelectChange},u=m.default.createElement(a.default,{showHeader:!0,bordered:!1,scroll:{y:300},pagination:!1,rowSelection:l,size:"small",columns:S,dataSource:A.workspaceManager.featureFlags.list}),c=m.default.createElement("div",null,m.default.createElement(x.default,{onClick:this.onConfirm,type:"primary"},r),m.default.createElement(x.default,{onClick:n,type:"secondary"},o));return m.default.createElement(_.default,{open:t,title:i,className:"mstr-as-cubepublish",content:u,footer:c})}}]),t}(v.Component);T.propTypes={open:y.default.bool,title:y.default.string,onOK:y.default.func,okText:y.default.string,onCancel:y.default.func,cancelText:y.default.string},T.defaultProps={title:"FeatureFlag",open:!1,cancelText:"Cancel",okText:"OK",onCancel:function(){},onOK:function(){}},t.default=T},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(144),a=n(r),o=i(35),s=n(o),l=i(9),u=n(l),c=i(2),d=n(c),h=i(6),f=n(h),p=i(4),g=n(p),v=i(3),m=n(v);i(254);var b=i(1),y=n(b),w=i(5),x=n(w);i(1859);var E=i(892),_=n(E),A=i(152),C=n(A),S=function(e){function t(){return(0,d.default)(this,t),(0,g.default)(this,(t.__proto__||(0,u.default)(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,i=e.actionTitle,n=e.actionHeader,r=e.actionDetails,a=e.onCancel,o=e.onContinue;return y.default.createElement(_.default,{isOpen:t,onRequestClose:a,className:"dialog-pos-style alert-dialog-style",overlayClassName:"alert-curtain-style",contentLabel:"Notification Modal",shouldCloseOnOverlayClick:!1},y.default.createElement("div",{className:"alert-dialog-header-style"}," ",i," "),y.default.createElement("div",{className:"alert-dialog-body-style",style:{overflow:"auto"}},y.default.createElement("div",{className:"alert-box-icons notification-icon",style:{float:"left"}}),y.default.createElement("div",{style:{marginLeft:16,width:302,float:"left"}},y.default.createElement("div",{style:{display:"table-row"}},y.default.createElement("div",{style:{float:"left",fontWeight:"bold"},className:"aler-content"},n)),y.default.createElement("div",{style:{display:"inline"}},y.default.createElement("div",{className:"aler-content alert-content-details",style:{marginTop:8,marginBottom:8}},this.getDetailComponents(r))))),y.default.createElement("div",{className:"alert-dialog-footer-style"},y.default.createElement(C.default,{text:"Confirm",onClick:o,type:"EMPHASIZED"}),y.default.createElement(C.default,{text:"Cancel",onClick:a,style:{marginLeft:8}})))}},{key:"getDetailComponents",value:function(e){if("string"==typeof e)return e;if("object"!==("undefined"==typeof e?"undefined":(0,s.default)(e)))return"no details";if("radio"===e.type){var t=a.default.Group;return y.default.createElement(t,{value:e.value,onChange:e.onRadioChange,style:{marginTop:4,marginBottom:4}},e.options.map(function(e){return y.default.createElement(a.default,{className:"alert-content-radio",value:e.value},e.name)}))}return"string"===e.type?e.desc:void 0}}]),t}(b.Component);S.propTypes={actionTitle:x.default.string.isRequired,actionHeader:x.default.string.isRequired,actionDetails:x.default.any.isRequired,isOpen:x.default.bool.isRequired,onCancel:x.default.func.isRequired,onContinue:x.default.func.isRequired},t.default=S},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1307),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(9),o=r(a),s=i(2),l=r(s),u=i(6),c=r(u),d=i(4),h=r(d),f=i(3),p=r(f),g=i(1),v=r(g),m=i(13),b=(r(m),i(5)),y=r(b);i(1861);var w=i(375),x=r(w),E=i(152),_=r(E),A=i(376),C=r(A),S=i(569),T=r(S),I=i(378),D=n(I),O=function(e){function t(e){(0,l.default)(this,t);var i=(0,h.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return i.getDefaultOperation=function(){var e=D.numericOperations.find(function(e){return e.default});return e?e.key:""},i.onSelect=function(){var e={operation:i.state.operation};null!=i.state.value1&&(e.value1=i.state.value1),null!=i.state.value2&&(e.value2=i.state.value2),i.props.onSelect(e),i.layoverClick()},i.onOperationChange=function(e){i.setState({operation:e,value1:null,value2:null})},i.layoverClick=function(e){e&&e.stopPropagation(),i.setState({isVisible:!1}),i.props.onClose()},i.containerClick=function(e){return e.stopPropagation()},i.onFirstInputChange=function(e){i.setState({value1:i.getNumericData(e)})},i.onSecondInputChange=function(e){i.setState({value2:i.getNumericData(e)})},i.getNumericData=function(e){if(null!=e&&e.length>0&&!isNaN(e))return Number(e)},i.onEnter=function(){i.isValidInput()&&i.onSelect()},i.getArgumentTemplate=function(){return i.state.operation?[D.BETWEEN,D.NOTBETWEEN].includes(i.state.operation)?v.default.createElement("div",{key:"arg-"+i.state.operation,className:"argument-container"},v.default.createElement("div",{className:"from-field-style"},v.default.createElement(T.default,{key:"fromField",onPressEnter:i.onEnter,onChange:function(e){return i.onFirstInputChange(e)},isRequired:!0,isNumeric:!0})),v.default.createElement("div",{className:"between-separator-style"},v.default.createElement("div",{className:"separator-type-dash"})),v.default.createElement("div",{className:"to-field-style"},v.default.createElement(T.default,{key:"toField",onPressEnter:i.onEnter,onChange:function(e){return i.onSecondInputChange(e)},isRequired:!0,isNumeric:!0}))):[D.ISNULL,D.ISNOTNULL].includes(i.state.operation)?null:v.default.createElement("div",{key:"arg-"+i.state.operation,className:"argument-container"},v.default.createElement(T.default,{onPressEnter:i.onEnter,onChange:function(e){return i.onFirstInputChange(e)},isRequired:!0,isNumeric:!0})):null},i.isValidInput=function(){var e=i.state,t=e.value1,n=e.value2,r=e.operation;return[D.BETWEEN,D.NOTBETWEEN].includes(r)?null!=t&&null!=n:!![D.ISNULL,D.ISNOTNULL].includes(r)||null!=t},i.state={isVisible:!0},i}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:this.props.visible,operation:this.getDefaultOperation()})}},{key:"componentWillReceiveProps",value:function(e){e.visible!==this.props.visible&&this.setState({isVisible:e.visible})}},{key:"render",value:function(){var e=this.props.pos,t=this.isValidInput();return v.default.createElement(x.default,null,this.state.isVisible?v.default.createElement("div",{className:"num-op-panel-layover",onClick:this.layoverClick},v.default.createElement("div",{className:"num-op-panel-wrapper",onClick:this.containerClick,style:{top:e.y,left:e.x}},v.default.createElement("div",{className:"num-op-panel-container"},v.default.createElement("div",{className:"select-container"},v.default.createElement(C.default,{dataSource:D.numericOperations,onChange:this.onOperationChange})),this.getArgumentTemplate(),v.default.createElement("div",{className:"footer-container"},v.default.createElement(_.default,{className:"btn-cancel-selection",text:D.CANCEL_BTN_TXT,onClick:this.layoverClick}),v.default.createElement(_.default,{isDisabled:!t,type:"EMPHASIZED",className:"btn-add-selection",text:D.APPLY_BTN_TXT,onClick:this.onSelect}))))):null)}}]),t}(g.Component);O.propTypes={calendarWidth:y.default.number,pos:y.default.object,onSelect:y.default.func.isRequired,onClose:y.default.func},O.defaultProps={pos:{x:0,y:0},onClose:function(){}},t.default=O},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1309),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=i(153),y=n(b),w=function(e){function t(){return(0,s.default)(this,t),(0,d.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,i=e.text,n=e.textPosition;return g.default.createElement("div",{className:"spinner-wrapper",style:{display:t===!0?"block":"none"}},g.default.createElement("div",{className:"spinner-container"},g.default.createElement(y.default,{text:i},g.default.createElement("div",{className:"offline-icon"})),i?"right"===n?g.default.createElement("div",{className:"spinner-text spinner-text-container-right"},i):g.default.createElement("div",{className:"spinner-text spinner-text-container-bottom"},i):null))}}]),t}(p.Component);w.propTypes={visible:m.default.bool,text:m.default.string,textPosition:m.default.string},w.defaultProps={visible:!0,textPosition:"right"},t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1311),a=n(r);t.default=a.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return function(n){function r(){return(0,c.default)(this,r),(0,p.default)(this,(r.__proto__||(0,l.default)(r)).apply(this,arguments))}return(0,v.default)(r,n),(0,h.default)(r,[{key:"render",value:function(){var n=this.props,r=n.spinnerText,a=n.spinnerSize,s=n.offlineText,l=(0,o.default)(n,["spinnerText","spinnerSize","offlineText"]);if(i&&i(this.props)===!0)return b.default.createElement(E.default,{text:s});var u=t(this.props);return u===!0?b.default.createElement(e,l):b.default.createElement(w.default,{text:r,size:a})}}]),r}(m.Component)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),o=n(a),s=i(9),l=n(s),u=i(2),c=n(u),d=i(6),h=n(d),f=i(4),p=n(f),g=i(3),v=n(g),m=i(1),b=n(m),y=i(278),w=n(y),x=i(1312),E=n(x);t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v);i(1862);var b=i(2310),y=n(b),w=function(e){function t(){var e,i,n,r;(0,s.default)(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return i=n=(0,d.default)(this,(e=t.__proto__||(0,a.default)(t)).call.apply(e,[this].concat(l))),n.getSmallSpinner=function(){return{w:18,h:18}},n.getLargeSpinner=function(){return{w:36,h:36}},r=i,(0,d.default)(n,r)}return(0,f.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.size,i=e.spinning,n=e.text,r=e.textPosition,a={};return"small"===t?a=this.getSmallSpinner():"large"===t&&(a=this.getLargeSpinner()),g.default.createElement("div",{className:"spinner-wrapper",style:{display:i===!0?"block":"none"}},g.default.createElement("div",{className:"spinner-container"},g.default.createElement("img",{src:y.default,alt:"spinnerGif",style:{width:a.w,height:a.h,display:"inline-block"}}),n?"right"===r?g.default.createElement("div",{className:"spinner-text spinner-text-container-right"},n):g.default.createElement("div",{className:"spinner-text spinner-text-container-bottom"},n):null))}}]),t}(p.Component);w.propTypes={size:m.default.string,spinning:m.default.bool,text:m.default.string,textPosition:m.default.string},w.defaultProps={size:"small",spinning:!0,textPosition:"right"},t.default=w},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(338),a=n(r),o=i(9),s=n(o),l=i(2),u=n(l),c=i(6),d=n(c),h=i(4),f=n(h),p=i(3),g=n(p);i(501);var v=i(1),m=n(v),b=i(5),y=n(b),w=i(8),x=n(w),E=i(153),_=n(E);i(1863);var A=function(e){function t(){return(0,u.default)(this,t),(0,f.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,g.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.showTitle,i=e.title,n=e.iconClass,r=e.tableIconColor,o=e.enableActions,s=e.actionIcons;return m.default.createElement("div",{className:"panel-tab-title"},n?m.default.createElement("div",{className:(0,x.default)("tab-icon left-icon",n)}):null,r?m.default.createElement("div",{className:"table-icon-wrapper left-icon"},m.default.createElement("i",{className:"table-icon-font",style:{color:r}},"")):null,t?m.default.createElement("div",{className:"title-text-wrapper"},m.default.createElement("div",{className:"title-text"},i)):null,s&&o?s.map(function(e){return"popover"===e.actionType?m.default.createElement(a.default,{content:e.content,title:e.title,trigger:"click",key:e.name},m.default.createElement("div",{className:(0,x.default)("tab-icon",e.iconClass),onClick:e.action,key:e.name})):m.default.createElement(_.default,{text:e.tooltip,key:e.name},m.default.createElement("div",{className:(0,x.default)("tab-icon",e.iconClass),onClick:e.action,key:e.name}))}):null)}}]),t}(m.default.Component);A.propTypes={showTitle:y.default.bool,title:y.default.string,iconClass:y.default.string,tableIconColor:y.default.string,actionIcons:y.default.array,enableActions:y.default.bool},A.defaultProps={showTitle:!0,actionIcons:[]},t.default=A},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(9),a=n(r),o=i(2),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(3),f=n(h),p=i(1),g=n(p),v=i(5),m=n(v),b=function(e){function t(e){(0,s.default)(this,t);var i=(0,d.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={text:"",bkpText:""},i}return(0,f.default)(t,e),(0,u.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.text!==t.text}},{key:"cutMiddleChar",value:function(e){var t=Math.floor(e.length/2);return e.substr(0,t)+e.substr(t+1)}},{key:"insertMiddleEllipsis",value:function(e){var t=Math.floor(e.length/2);return e.substr(0,t)+"..."+e.substr(t)}},{key:"componentDidUpdate",value:function(e,t){if(this.container.clientWidth>this.props.maxWidth){var i=this.cutMiddleChar(this.state.bkpText);this.setState({text:i+"...",bkpText:i})}else this.state.bkpText===this.props.text?this.setState({text:this.state.bkpText}):this.setState({text:this.insertMiddleEllipsis(this.state.bkpText)})}},{key:"componentDidMount",value:function(){this.setState({text:this.props.text,bkpText:this.props.text})}},{key:"componentWillReceiveProps",value:function(e){e.text&&this.props.text!==e.text&&this.setState({text:e.text,bkpText:e.text})}},{key:"render",value:function(){var e=this,t=this.props,i=t.text,n=t.className;return this.state.text.length>0?g.default.createElement("span",{title:i,ref:function(t){e.container=t},className:n,style:{display:"inline-block"}},this.state.text):g.default.createElement("span",{title:i,ref:function(t){e.container=t},className:n,style:{display:"inline-block"}},i)}}]),t}(p.Component);b.propTypes={className:m.default.string,text:m.default.string,maxWidth:m.default.string},t.default=b},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(257),o=r(a),s=i(9),l=r(s),u=i(2),c=r(u),d=i(6),h=r(d),f=i(4),p=r(f),g=i(3),v=r(g);i(344);var m=i(1),b=r(m),y=i(13),w=(r(y),i(5)),x=r(w);i(1864);var E=i(375),_=r(E),A=i(152),C=r(A),S=i(376),T=r(S),I=i(378),D=n(I),O=function(e){function t(e){(0,c.default)(this,t);var i=(0,p.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return i.getDefaultOperation=function(){var e=D.numericOperations.find(function(e){return e.default});return e?e.key:""},i.onSelect=function(){var e={operation:i.state.operation};i.state.value1&&(e.value1=i.state.value1),i.state.value2&&(e.value2=i.state.value2),i.props.onSelect(e),i.layoverClick()},i.onOperationChange=function(e){i.setState({operation:e,value1:null,value2:null})},i.layoverClick=function(e){e&&e.stopPropagation(),i.setState({isVisible:!1}),i.props.onClose()},i.containerClick=function(e){return e.stopPropagation()},i.onFirstInputChange=function(e,t){t&&t.length>0?i.setState({value1:t}):i.setState({value1:null})},i.onSecondInputChange=function(e,t){t&&t.length>0?i.setState({value2:t}):i.setState({value2:null})},i.getArgumentTemplate=function(){return i.state.operation?[D.BETWEEN,D.NOTBETWEEN].indexOf(i.state.operation)>-1?b.default.createElement("div",{key:"arg-"+i.state.operation,className:"argument-container"},b.default.createElement("div",{className:"from-field-style"},b.default.createElement(o.default,{key:"fromField",onChange:i.onFirstInputChange,popupClassName:"custom-timepicker-popup",format:i.props.format,placeholder:i.props.format})),b.default.createElement("div",{className:"between-separator-style"},b.default.createElement("div",{className:"separator-type-dash"})),b.default.createElement("div",{className:"to-field-style"},b.default.createElement(o.default,{key:"toField",onChange:i.onSecondInputChange,popupClassName:"custom-timepicker-popup",format:i.props.format,placeholder:i.props.format}))):[D.ISNULL,D.ISNOTNULL].indexOf(i.state.operation)>-1?null:b.default.createElement("div",{key:"arg-"+i.state.operation,className:"argument-container"},b.default.createElement("div",{className:"from-field-style"},b.default.createElement(o.default,{key:"fromField",onChange:i.onFirstInputChange,popupClassName:"custom-timepicker-popup",format:i.props.format,placeholder:i.props.format}))):null},i.isValidInput=function(){var e=i.state,t=e.value1,n=e.value2,r=e.operation;return[D.BETWEEN,D.NOTBETWEEN].indexOf(r)>-1?null!=t&&null!=n:[D.ISNULL,D.ISNOTNULL].indexOf(r)>-1||null!=t},i.state={isVisible:!0},i}return(0,v.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){this.setState({isVisible:this.props.visible,operation:this.getDefaultOperation()})}},{key:"componentWillReceiveProps",value:function(e){e.visible!==this.props.visible&&this.setState({isVisible:e.visible})}},{key:"render",value:function(){var e=this.props.pos,t=this.isValidInput();return b.default.createElement(_.default,null,this.state.isVisible?b.default.createElement("div",{className:"time-op-panel-layover",onClick:this.layoverClick},b.default.createElement("div",{className:"time-op-panel-wrapper",onClick:this.containerClick,style:{top:e.y,left:e.x}},b.default.createElement("div",{className:"time-op-panel-container"},b.default.createElement("div",{className:"select-time-container"},b.default.createElement(T.default,{dataSource:D.numericOperations,onChange:this.onOperationChange})),this.getArgumentTemplate(),b.default.createElement("div",{className:"footer-container"},b.default.createElement(C.default,{className:"btn-cancel-selection",text:D.CANCEL_BTN_TXT,onClick:this.layoverClick}),b.default.createElement(C.default,{isDisabled:!t,type:"EMPHASIZED",className:"btn-add-selection",text:D.APPLY_BTN_TXT,onClick:this.onSelect}))))):null)}}]),t}(m.Component);O.propTypes={calendarWidth:x.default.number,pos:x.default.object,onSelect:x.default.func.isRequired,onClose:x.default.func},O.defaultProps={pos:{x:0,y:0},onClose:function(){},format:"HH:mm:ss"},t.default=O},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1317),a=n(r);t.default=a.default},function(e,t,i){var n,r,a;(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var s=i(155),l=o(s),u=i(582),c=o(u),d=i(579),h=o(d),f=i(580),p=o(f),g=i(53),v=o(g),m=i(577),b=o(m),y=i(9),w=o(y),x=i(385),E=o(x),_=i(55),A=o(_),C=i(578),S=o(C),T=i(280),I=o(T),D=i(581),O=o(D),M=i(28),k=o(M),N=i(281),P=o(N),L=i(35),R=o(L);!function(o,s){if("object"===(0,R.default)(t)&&"object"===(0,R.default)(e))e.exports=s(i(10),i(585),i(643));else{r=[i(10),i(585),i(643)],n=s,a="function"==typeof n?n.apply(t,r):n,!(void 0!==a&&(e.exports=a))}}(void 0,function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||(0,P.default)(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=56)}([function(e,t){var i=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t,i){e.exports=!i(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.BETWEEN="BETWEEN",t.GREATER="GREATER",t.LESS="LESS",t.EQUALS="EQUALS",t.DNEQUALS="DNEQUALS",t.GREATERTE="GREATERTE",t.LESSTE="LESSTE",t.NOTBETWEEN="NOTBETWEEN",t.ISNULL="ISNULL",t.ISNOTNULL="ISNOTNULL",t.OP_TYPE={ADD:"ADD"},t.FACET_TYPE_STRING="STRING",t.FACET_TYPE_NUMERIC="NUMERIC",t.FACET_TYPE_DATE="DATE",t.FACET_TYPE_TIME="TIME",t.FACET_TYPE_TIMESTAMP="TIMESTAMP",t.FACET_TYPE_BINARY="BINARY",t.NUMERIC_NULL=-(1/0),t.STRING_NULL="#$HJGS57656FFHHG6757%%%TRETE56$#",t.STRING_EMPTY="#HJGS57656FFHHG6757%%%TRETE56$"},function(e,t,i){var n=i(9),r=i(37),a=i(28),o=P.default;t.f=i(2)?P.default:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var n=i(20)("wks"),r=i(14),a=i(1).Symbol,o="function"==typeof a,s=e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:r)("Symbol."+e))};s.store=n},function(e,t,i){var n=i(1),r=i(0),a=i(36),o=i(13),s="prototype",l=function e(t,i,l){var u,c,d,h=t&e.F,f=t&e.G,p=t&e.S,g=t&e.P,v=t&e.B,m=t&e.W,b=f?r:r[i]||(r[i]={}),y=b[s],w=f?n:p?n[i]:(n[i]||{})[s];f&&(l=i);for(u in l)c=!h&&w&&void 0!==w[u],c&&u in b||(d=c?w[u]:l[u],b[u]=f&&"function"!=typeof w[u]?l[u]:v&&c?a(d,n):m&&w[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):g&&"function"==typeof d?a(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[u]=d,t&e.R&&y&&!y[u]&&o(y,u,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,i){var n=i(10);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"===("undefined"==typeof e?"undefined":(0,R.default)(e))?null!==e:"function"==typeof e}},function(e,t,i){var n=i(25),r=i(18);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(34),r=i(21);e.exports=k.default||function(e){return n(e,r)}},function(e,t,i){var n=i(4),r=i(15);e.exports=i(2)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var i=!1,n=0;n<t.length&&!(t[n].key>=e.high);n++)if(t[n].key>=e.low&&t[n].key<e.high&&t[n].binFilter===!0){i=!0;break}return i}function o(e,t){return e.filter(function(e){return t>=e.low&&t<e.high})}function s(e,t){for(var i=!1,n=0;n<e.length;n++)if(!(t.low<e[n].low&&t.high<e[n].low||t.low>e[n].high&&t.high>e[n].high)){if(t.low>=e[n].low&&t.high<=e[n].high){i=!0;break}if(t.low<=e[n].low&&t.high>=e[n].high){e[n].low=t.low,e[n].high=t.high,i=!0;break}if(t.low<e[n].low&&t.high<e[n].high){e[n].low=t.low,i=!0;break}if(t.high>e[n].high&&t.low>e[n].low){e[n].high=t.high,i=!0;break}}i===!1&&e.push({low:t.low,high:t.high}),l(e)}function l(e){e.sort(function(e,t){return e.low-t.low});var t=[],i=-1;e.forEach(function(e){if(i===-1){var n={low:e.low,high:e.high};t.push(n),i++}else if(e.low<=t[i].high)e.high>t[i].high&&(t[i].high=e.high);else{var r={low:e.low,high:e.high};t.push(r),i++}}),e.length=0,t.forEach(function(t){e.push(t)})}function u(e,t){for(var i=[],n=0;n<e.length;n++)t.low<e[n].low&&t.high<=e[n].low||t.low>=e[n].high&&t.high>e[n].high||(t.low<=e[n].low&&t.high>=e[n].high?e[n]=void 0:t.low>=e[n].low&&t.high<=e[n].high?t.low===e[n].low?e[n].low=t.high:t.high===e[n].high?e[n].high=t.low:(i.push({low:t.high,high:e[n].high}),e[n].high=t.low):t.low<e[n].low&&t.high<e[n].high?e[n].low=t.high:t.high>e[n].high&&t.low>e[n].low&&(e[n].high=t.low));i.forEach(function(t){return s(e,t)}),i=e.filter(function(e){return void 0!==e}),e.length=0,e.push.apply(e,(0,v.default)(i))}function c(e){return!isNaN(parseFloat(e))&&isFinite(e)}function d(e){return e?"STRING"===e.toUpperCase()?b.FACET_TYPE_STRING:"DATE"===e.toUpperCase()?b.FACET_TYPE_DATE:"TIME"===e.toUpperCase()?b.FACET_TYPE_TIME:"TIMESTAMP"===e.toUpperCase()?b.FACET_TYPE_TIMESTAMP:"BINARY"===e.toUpperCase()?b.FACET_TYPE_BINARY:h(e)?b.FACET_TYPE_NUMERIC:b.FACET_TYPE_STRING:b.FACET_TYPE_STRING}function h(e){return["LONG","SHORT","INTEGER","DOUBLE","DECIMAL","BIGDECIMAL"].indexOf(e.toUpperCase())>-1}function f(e){var t=" 00:00:00.000",i=".000",n=" 00:00:00";return null!=e&&(e.indexOf(t)>-1?e=e.replace(t,""):e.indexOf(i)>-1?e=e.replace(i,""):e.indexOf(n)>-1&&e.indexOf(".")===-1&&(e=e.replace(n,""))),e}function p(e){var t=String(e),i=y(t);if(e=Number(t),i.eq(e))return e;throw"Invalid Number - "+t}Object.defineProperty(t,"__esModule",{value:!0});var g=i(22),v=r(g);t.isFilterValid=a,t.getFiltersForKey=o,t.addCurRFilter=s,t.removeCurRFilter=u,t.isNumeric=c,t.getFacetType=d,t.sanitizeDate=f,t.getSafeNum=p;var m=i(3),b=n(m),y=i(60)},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(20)("keys"),r=i(14);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(1),r="__core-js_shared__",a=n[r]||(n[r]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(71),a=n(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,a.default)(e)}},function(e,t,i){var n=i(18);e.exports=function(e){return Object(n(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(26);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var n=i(10),r=i(1).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){var n=i(10);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,i){t.exports=e},function(e,t){t.f=O.default},,,function(e,t,i){e.exports={default:i(57),__esModule:!0}},function(e,t,i){var n=i(6),r=i(11),a=i(38)(!1),o=i(19)("IE_PROTO");e.exports=function(e,t){var i,s=r(e),l=0,u=[];for(i in s)i!=o&&n(s,i)&&u.push(i);for(;t.length>l;)n(s,i=t[l++])&&(~a(u,i)||u.push(i));return u}},function(e,t,i){var n=i(17),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t,i){var n=i(40);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){e.exports=!i(2)&&!i(5)(function(){
return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){var n=i(11),r=i(35),a=i(39);e.exports=function(e){return function(t,i,o){var s,l=n(t),u=r(l.length),c=a(o,u);if(e&&i!=i){for(;u>c;)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===i)return e||c||0;return!e&&-1}}},function(e,t,i){var n=i(17),r=Math.max,a=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):a(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=!0},function(e,t,i){var n=i(4).f,r=i(6),a=i(7)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e){function t(){return oe}function i(e){e&&(null!=e.key?Number(e.key)===s.NUMERIC_NULL?P():C(Number(e.key)):null!=e.low&&null!=e.high&&T(Number(e.low),Number(e.high)))}function n(e){e&&(null!=e.key?Number(e.key)===s.NUMERIC_NULL?L():S(Number(e.key)):null!=e.low&&null!=e.high&&I(Number(e.low),Number(e.high)))}function r(e){e&&e.length>0&&e.forEach(function(e){e.type===s.OP_TYPE.ADD&&(e.operation===s.LESS?null!=e.key&&D(Number(e.key)):e.operation===s.GREATER?null!=e.key&&M(Number(e.key)):e.operation===s.LESSTE?null!=e.key&&O(Number(e.key)):e.operation===s.GREATERTE?null!=e.key&&k(Number(e.key)):e.operation===s.EQUALS?null!=e.key&&C(Number(e.key)):e.operation===s.BETWEEN?null!=e.low&&null!=e.high&&N(Number(e.low),Number(e.high)):e.operation===s.ISNULL&&P())})}function a(){oe=[],se=[],le=[],ue=[],ce=[],de=[],he=[],fe=[],pe=[],ge=[],ve=[],me=[],be=[],ye=[],we=null,xe=null,Ee=null,_e=null,Ae=null,Ce=null}function o(e){return!(!e||null==e.key)&&c(e.key)}function l(){return ye.length>0||me.length>0||be.length>0||null!=we||null!=xe||null!=Ee||null!=_e||Ae===!0||Ce===!0}function c(e){if(null!=e){if(e=Number(e),be.indexOf(e)>-1)return!1;if(e===s.NUMERIC_NULL)return Ae===!0;if(j(e)||B(e)||me.indexOf(e)>-1)return!0}return!1}function d(){return{uiInList:me,uiNotInList:be,uiRangeFilters:ye,uiKeyLess:we,uiKeyLessTE:xe,uiKeyGreater:Ee,uiKeyGreaterTE:_e,uiNullKey:Ae,uiNotNullKey:Ce}}function h(){var t=[];if(ye.forEach(function(i){if(null!=i.low&&null!=i.high){var n=f();if("RANGE"===i.type){t.push(n);var r=y(i.low,e.colId,e.type);n.args.push(r);var a=v(i.high,e.colId,e.type);n.args.push(a);var o=A("RANGE",i.low,i.high);if(o.length>0){var s=E(e.colId,o,e.type);n.args.push(s)}}else{var l=g(i.low,i.high,e.colId,e.type),u=A("BETWEEN",i.low,i.high);if(u.length>0){var c=E(e.colId,u,e.type);t.push(n),n.args.push(l),n.args.push(c)}else t.push(l)}}}),null!=we){var i=f(),n=v(we,e.colId,e.type),r=A("LESS",we);if(r.length>0){var a=E(e.colId,r,e.type);i.args.push(n),i.args.push(a),t.push(i)}else t.push(n)}else if(null!=xe){var o=f(),s=m(xe,e.colId,e.type),l=A("LESSTE",xe);if(l.length>0){var u=E(e.colId,l,e.type);o.args.push(lessFilter),o.args.push(u),t.push(o)}else t.push(s)}if(null!=Ee){var c=f(),d=b(Ee,e.colId,e.type),h=A("GREATER",Ee);if(h.length>0){var _=E(e.colId,h,e.type);c.args.push(d),c.args.push(_),t.push(c)}else t.push(d)}else if(null!=_e){var C=f(),S=y(_e,e.colId,e.type),T=A("GREATERTE",_e);if(T.length>0){var I=E(e.colId,T,e.type);C.args.push(S),C.args.push(I),t.push(C)}else t.push(S)}if(me.length>0){var D=x(e.colId,me,e.type);t.push(D)}if(Ae===!0){var O=w(e.colId);t.push(O)}if(1===t.length)return t[0];if(t.length>1){var M=p();return M.args=t,M}return null}function f(){return{type:"func",funcName:"And",args:[]}}function p(){return{type:"func",funcName:"Or",args:[]}}function g(e,t,i,n){var r={type:"func",funcName:"Between",args:[]};return r.args.push({type:"column",columnName:i}),r.args.push({type:"const",data:_(e,n),dataType:n}),r.args.push({type:"const",data:_(t,n),dataType:n}),r}function v(e,t,i){var n={type:"func",funcName:"<",args:[]};return n.args.push({type:"column",columnName:t}),n.args.push({type:"const",data:_(e,i),dataType:i}),n}function m(e,t,i){var n={type:"func",funcName:"<=",args:[]};return n.args.push({type:"column",columnName:t}),n.args.push({type:"const",data:_(e,i),dataType:i}),n}function b(e,t,i){var n={type:"func",funcName:">",args:[]};return n.args.push({type:"column",columnName:t}),n.args.push({type:"const",data:_(e,i),dataType:i}),n}function y(e,t,i){var n={type:"func",funcName:">=",args:[]};return n.args.push({type:"column",columnName:t}),n.args.push({type:"const",data:_(e,i),dataType:i}),n}function w(e){var t={type:"func",funcName:"IsNull",args:[]};return t.args.push({type:"column",columnName:e}),t}function x(e,t,i){var n={type:"func",funcName:"In",args:[]};return n.args.push({type:"column",columnName:e}),t.forEach(function(e){n.args.push({type:"const",data:_(e,i),dataType:i})}),n}function E(e,t,i){var n={type:"func",funcName:"Not In",args:[]};return n.args.push({type:"column",columnName:e}),t.forEach(function(e){n.args.push({type:"const",data:_(e,i),dataType:i})}),n}function _(e,t){return t?(t=t.toUpperCase(),["TIMESTAMP","DATE"].indexOf(t)>-1?(0,u.default)(e).format("YYYY-MM-DD HH:mm:ss"):"TIME"===t?(0,u.default)(e).format("HH:mm:ss"):e):e}function A(e,t,i){var n=[];return"RANGE"===e?be.forEach(function(e){e>=t&&e<i&&n.push(e)}):"LESS"===e?be.forEach(function(e){e<t&&n.push(e)}):"LESSTE"===e?be.forEach(function(e){e<=t&&n.push(e)}):"GREATER"===e?be.forEach(function(e){e>t&&n.push(e)}):"GREATERTE"===e?be.forEach(function(e){e>=t&&n.push(e)}):"BETWEEN"===e&&be.forEach(function(e){e>=t&&e<=i&&n.push(e)}),n}function C(e){oe.push({type:"INLIST",action:"ADD",args:[e]}),ge.push(oe.length-1),R(be,e),j(e)||B(e)||F(me,e)}function S(e){oe.push({type:"INLIST",action:"REMOVE",args:[e]}),ge.push(oe.length-1),R(me,e),(j(e)||B(e))&&F(be,e)}function T(e,t){oe.push({type:"RANGE",action:"ADD",args:[e,t]}),he.push(oe.length-1),ye.push({low:e,high:t,type:"RANGE"}),Q()}function I(e,t){oe.push({type:"RANGE",action:"REMOVE",args:[e,t]}),he.push(oe.length-1),H(e,t,"RANGE")}function D(e){oe.push({type:"LESS",action:"ADD",args:[e]}),se.push(oe.length-1),z(e)}function O(e){oe.push({type:"LESSTE",action:"ADD",args:[e]}),le.push(oe.length-1),$(e)}function M(e){oe.push({type:"GREATER",action:"ADD",args:[e]}),ue.push(oe.length-1),Y(e)}function k(e){oe.push({type:"GREATERTE",action:"ADD",args:[e]}),ce.push(oe.length-1),K(e)}function N(e,t){oe.push({type:"BETWEEN",action:"ADD",args:[e,t]}),de.push(oe.length-1),ye.push({low:e,high:t,type:"BETWEEN"}),Q()}function P(){oe.push({type:"NULL",action:"ADD"}),fe.push(oe.length-1),Ae=!0}function L(){oe.push({type:"NULL",action:"REMOVE"}),fe.push(oe.length-1),Ae=!1}function R(e,t){if(e&&null!=t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function F(e,t){if(e&&null!=t){var i=e.indexOf(t);i<0&&e.push(t)}}function j(e){return ye.some(function(t){return"RANGE"===t.type&&e>=t.low&&e<t.high||"BETWEEN"===t.type&&e>=t.low&&e<=t.high})}function B(e){return null!=we&&e<we||null!=xe&&e<=xe||null!=Ee&&e>Ee||null!=_e&&e>=_e}function H(e,t,i){W(e,t,i),U(e,t,i),V(e,t,i)}function V(e,t,i){var n=[];if("RANGE"===i){var r,a;me.forEach(function(i){(i<e||i>=t)&&n.push(i)}),me.length=0,(r=me).push.apply(r,n),n.length=0,be.forEach(function(i){(i<e||i>=t)&&n.push(i)}),be.length=0,(a=be).push.apply(a,n)}}function U(e,t,i){if("RANGE"===i){if(null!=we)if(e<we&&t<we){var n={low:t,high:we,type:"RANGE"};ye.push(n),we=e}else e<we&&t>=we&&(we=e);else if(null!=xe)if(e<xe&&t===xe)F(me,xe),xe=null,we=e;else if(e<xe&&t<xe){var r={low:t,high:xe,type:"BETWEEN"};ye.push(r),xe=null,we=e}else e<=xe&&t>xe&&(we=e,xe=null);if(null!=Ee)if(e>Ee&&t>Ee){var a={low:Ee,high:e,type:"RANGE"};F(be,Ee),ye.push(a),Ee=null,_e=t}else e<=Ee&&t>Ee&&(_e=t,Ee=null);else if(null!=_e)if(e>_e&&t>_e){var o={low:_e,high:e,type:"RANGE"};ye.push(o),_e=t,Ee=null}else e<=_e&&t>_e&&(_e=t,Ee=null)}}function W(e,t,i){var n,r=[];"RANGE"===i&&ye.forEach(function(i){if("RANGE"===i.type){if(e<i.low&&t<=i.high||e>=i.high&&t>i.high)r.push({low:i.low,high:i.high,type:i.type});else if(e>=i.low&&t<=i.high){var n={low:i.low,high:e,type:"RANGE"},a={low:t,high:i.high,type:"RANGE"};n.low<n.high&&r.push(n),a.low<a.high&&r.push(a)}else if(e<i.low&&t<i.high){var o={low:t,high:i.high,type:"RANGE"};r.push(o)}else if(t>i.high&&e>i.low){var s={low:i.low,high:e,type:"RANGE"};r.push(s)}}else if(e<i.low&&t<=i.high||e>i.high&&t>i.high)r.push({low:i.low,high:i.high,type:i.type});else if(e>=i.low&&t<=i.high){var l={low:i.low,high:e,type:"RANGE"},u={low:t,high:i.high,type:"BETWEEN"};l.low<l.high&&r.push(l),u.low<u.high&&r.push(u),u.low===u.high&&F(me,u.low)}else if(e<i.low&&t<i.high){var c={low:t,high:i.high,type:"BETWEEN"};r.push(c)}else if(t>i.high&&e>i.low){var d={low:i.low,high:e,type:"RANGE"};r.push(d)}}),ye.length=0,(n=ye).push.apply(n,r)}function z(e){G(e)||(we=e,xe=null,Z())}function G(e){return null!=we&&e<=we||null!=xe&&e<=xe}function $(e){q(e)||(xe=e,we=null,Z())}function q(e){return null!=we&&e<we||null!=xe&&e<=xe}function Y(e){J(e)||(Ee=e,_e=null,Z())}function J(e){return null!=Ee&&e>=Ee||null!=_e&&e>=_e}function K(e){X(e)||(_e=e,Ee=null,Z())}function X(e){return null!=Ee&&e>Ee||null!=_e&&e>=_e}function Q(){var e;ye.sort(function(e,t){return e.low-t.low||e.high-t.high||e.type>t.type});var t=[],i=void 0;ye.forEach(function(e){i?"RANGE"===i.type&&e.low>=i.high?(i={low:e.low,high:e.high,type:e.type},t.push(i)):"BETWEEN"===i.type&&e.low>i.high?(i={low:e.low,high:e.high,type:e.type},t.push(i)):e.high>i.high&&(i.high=e.high,i.type=e.type):(i={low:e.low,high:e.high,type:e.type},t.push(i))}),ye.length=0,(e=ye).push.apply(e,t),Z()}function Z(){ee(),te(),ie(),ne(),re()}function ee(){if(null!=we||null!=xe){var e=void 0,t=void 0;null!=we?(e=we,t="LESS"):null!=xe&&(e=xe,t="LESSTE"),ye.forEach(function(i){"RANGE"===i.type?i.low<=e&&i.high>e&&(e=i.high,t="LESS"):i.low<=e&&i.high>=e&&(e=i.high,t="LESSTE")}),"LESS"===t?(we=e,xe=null):(xe=e,we=null)}}function te(){if(null!=Ee||null!=_e){var e=void 0,t=void 0;null!=Ee?(e=Ee,t="GREATER"):null!=_e&&(e=_e,t="GREATERTE"),ye.forEach(function(i){"RANGE"===i.type&&"GREATER"===t?i.low<=e&&i.high>e&&(e=i.low,t="GREATERTE"):i.low<=e&&i.high>=e&&(e=i.low,t="GREATERTE")}),null!=we?e<we&&(e=we,t="GREATERTE"):null!=xe&&e<xe&&(e=xe,t="GREATER"),"GREATER"===t?(Ee=e,_e=null):(_e=e,Ee=null)}}function ie(){var e,t=-(1/0),i="LESS",n=1/0,r="GREATER";null!=we?(t=we,i="LESS"):null!=xe&&(t=xe,i="LESSTE"),null!=Ee?(n=Ee,r="GREATER"):null!=_e&&(n=_e,r="GREATERTE");var a=[];ye.forEach(function(e){"RANGE"===e.type?"LESS"===i?e.low>=t&&e.high<=n&&a.push({low:e.low,high:e.high,type:e.type}):e.low>t&&e.high<=n&&a.push({low:e.low,high:e.high,type:e.type}):"LESS"===i?"GREATER"===r?e.low>=t&&e.high<=n&&a.push({low:e.low,high:e.high,type:e.type}):e.low>=t&&e.high<n&&a.push({low:e.low,high:e.high,type:e.type}):"GREATER"===r?e.low>t&&e.high<=n&&a.push({low:e.low,high:e.high,type:e.type}):e.low>t&&e.high<n&&a.push({low:e.low,high:e.high,type:e.type})}),ye.length=0,(e=ye).push.apply(e,a)}function ne(){var e,t=[];me.forEach(function(e){j(e)||B(e)||t.push(e)}),me.length=0,(e=me).push.apply(e,t)}function re(){var e,t=[];be.forEach(function(e){(j(e)||B(e))&&t.push(e)}),be.length=0,(e=be).push.apply(e,t)}var ae={addFilter:i,removeFilter:n,performBulkFilter:r,clearFilters:a,hasFilter:l,binHasFilter:o,getAllFilters:d,addKeyLessThan:D,addKeyGreaterThan:M,valueHasFilter:c,getFilterExpression:h,getAllOperations:t},oe=[],se=[],le=[],ue=[],ce=[],de=[],he=[],fe=[],pe=[],ge=[],ve=[],me=[],be=[],ye=[],we=void 0,xe=void 0,Ee=void 0,_e=void 0,Ae=void 0,Ce=void 0;return ae}Object.defineProperty(t,"__esModule",{value:!0}),t.numericFilter=a;var o=(i(16),i(3)),s=r(o),l=i(29),u=n(l);i(98),i(103)},function(e,t,i){e.exports=i(13)},function(e,t){e.exports={}},function(e,t,i){var n=i(9),r=i(47),a=i(21),o=i(19)("IE_PROTO"),s=function(){},l="prototype",u=function(){var e,t=i(27)("iframe"),n=a.length,r="<",o=">";for(t.style.display="none",i(48).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+o+"document.F=Object"+r+"/script"+o),e.close(),u=e.F;n--;)delete u[l][a[n]];return u()};e.exports=I.default||function(e,t){var i;return null!==e?(s[l]=n(e),i=new s,s[l]=null,i[o]=e):i=u(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(4),r=i(9),a=i(12);e.exports=i(2)?S.default:function(e,t){r(e);for(var i,o=a(t),s=o.length,l=0;s>l;)n.f(e,i=o[l++],t[i]);return e}},function(e,t,i){var n=i(1).document;e.exports=n&&n.documentElement},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(50),a=n(r);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){e.exports={default:i(51),__esModule:!0}},function(e,t,i){i(52),e.exports=i(0).Object.assign},function(e,t,i){var n=i(8);n(n.S+n.F,"Object",{assign:i(53)})},function(e,t,i){var n=i(12),r=i(30),a=i(24),o=i(23),s=i(25),l=A.default;e.exports=!l||i(5)(function(){var e={},t={},i=(0,E.default)(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[i]||(0,k.default)(l({},t)).join("")!=n})?function(e,t){for(var i=o(e),l=arguments.length,u=1,c=r.f,d=a.f;l>u;)for(var h,f=s(arguments[u++]),p=c?n(f).concat(c(f)):n(f),g=p.length,v=0;g>v;)d.call(f,h=p[v++])&&(i[h]=f[h]);return i}:l},,,function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e,t,a,o){var s=void 0,l={colId:e,type:a,hasGlobalFilter:c,clearDim:m};if("NUMERIC"===(0,v.getFacetType)(a)){var d={},h=function(e){var i=void 0;return i=void 0===t(e)||null===t(e)||0===t(e).toString().trim().length?b.NUMERIC_NULL:(0,v.getSafeNum)(t(e)),d[t(e)]=i,i};try{l.dim=A.dimension(h),l._dim=C.dimension(function(e){return d[t(e)]}),s=(0,f.numericDimension)(l)}catch(e){console.log(e),l.type="string",s=r(l,t)}}else if("DATE"===(0,v.getFacetType)(a)||"TIMESTAMP"===(0,v.getFacetType)(a)){var g={};!o&&(o="YYYY-MM-DD HH:mm:ss.SSS");var w=function(e){var n=b.NUMERIC_NULL,r=t(e);if(r){if(r=(new(Function.prototype.bind.apply(Date,[null].concat((0,u.default)(i(r)))))).getTime(),isNaN(r))throw"Invalid date";n=r}return g[t(e)]=n,n};try{l.dim=A.dimension(w),l._dim=C.dimension(function(e){return g[t(e)]}),l.format="DATE"===(0,v.getFacetType)(a)?"YYYY-MM-DD":"YYYY-MM-DD HH:mm:ss.S",s=(0,p.dateDimension)(l)}catch(e){console.log(e),l.type="string",s=r(l,t)}}else if("TIME"===(0,v.getFacetType)(a)){var x={};!o&&(o="YYYY-MM-DD HH:mm:ss.SSS");var E=function(e){var i=b.NUMERIC_NULL,r=t(e);if(r){if(r=(new(Function.prototype.bind.apply(Date,[null].concat([1970,0,1],(0,u.default)(n(r)))))).getTime(),isNaN(r))throw"Invalid date";i=r}return x[t(e)]=i,i};try{l.dim=A.dimension(E),l._dim=C.dimension(function(e){return x[t(e)]}),l.format="HH:mm:ss:S",s=(0,p.dateDimension)(l)}catch(e){console.log(e),l.type="string",s=r(l,t)}}else if("BINARY"===(0,v.getFacetType)(a)){var _=function(e){var i=t(e);return i?i.trim()?i:"":null===i||void 0===i?b.STRING_NULL:""};l.dim=A.dimension(_),s=(0,y.binaryDimension)(l)}else s=r(l,t);return S[e]=s,s}function i(e){var t=e.split(/[^0-9]/);return t[1]=t[1]-1,t}function n(e){return e.split(/[^0-9]/)}function r(e,t){var i={},n=function(e){var n=b.STRING_EMPTY,r=null!=t(e)?t(e).toString():t(e);return r?r.trim()&&(n=r):null!==r&&void 0!==r||(n=b.STRING_NULL),i[t(e)]=n,n};return e.dim=A.dimension(n),e._dim=C.dimension(function(e){return i[t(e)]}),(0,h.stringDimension)(e)}function a(){return A.allFiltered()}function o(){return A.all()}function l(){return A.size()}function c(e){return(0,s.default)(S).some(function(t){var i=S[t];if(i&&i!==e)return i.hasFilter()})}function g(){return(0,s.default)(S).some(function(e){return S[e].hasFilter()})}function m(e){var t=S;S={},(0,s.default)(t).forEach(function(i){t[i]!==e&&(S[i]=t[i])})}function w(){(0,s.default)(S).forEach(function(e){return S[e].dispose()}),S={}}function x(e){if(S[e])return S[e];throw"Column doesnt have any dimentions to clone"}function E(){var e=[];return(0,s.default)(S).forEach(function(t){return e.push(S[t])}),e}var _={dimension:t,listFiltered:a,list:o,disposeAll:w,hasFilter:g,getDimension:x,getAllDimensions:E,size:l,hasGlobalFilter:c},A=(0,d.default)(e),C=(0,d.default)(e),S={};return _}Object.defineProperty(t,"__esModule",{value:!0});var o=i(33),s=r(o),l=i(22),u=r(l);t.rangefilter=a;var c=i(85),d=r(c),h=i(86),f=i(93),p=i(104),g=i(29),v=(r(g),i(16)),m=i(3),b=n(m),y=i(109)},function(e,t,i){i(58),e.exports=i(0).Object.keys},function(e,t,i){var n=i(23),r=i(12);i(59)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(8),r=i(0),a=i(5);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],o={};o[e]=t(i),n(n.S+n.F*a(function(){i(1)}),"Object",o)}},function(e,i){e.exports=t},function(e,t,i){e.exports=i(107)},,,function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(e){e&&"key"in e?c(e.key):e&&"low"in e&&"high"in e?p(e.low,e.high):e&&e.sc&&o(e.sc)}function i(e){e&&"key"in e?h(e.key):e&&"low"in e&&"high"in e?g(e.low,e.high):e&&e.sc&&l(e.sc)}function n(){return k.length>0||w()}function r(e){return!!(e&&"key"in e)&&(!!y(N,e.key)||!y(P,e.key)&&(e.key!==d.STRING_NULL&&k.some(function(t){return e.key.charCodeAt(I)==t})))}function a(e){return!!y(N,e)||!y(P,e)&&(e!==d.STRING_NULL&&k.some(function(t){return e.charCodeAt(I)==t}))}function o(e){for(var t=0;t<e.length;t++)x(e[t]),delete N[e[t]],delete P[e[t]]}function l(e){for(var t=0;t<e.length;t++)E(e[t]),delete N[e[t]],delete P[e[t]]}function c(e){!_(e)&&m(N,e),b(P,e)}function h(e){b(N,e),f(e)}function f(e){if(_(e)){!P[e.charCodeAt(I)]&&(P[e.charCodeAt(I)]=[]);var t=P[e.charCodeAt(I)],i=t.indexOf(e);i===-1&&(O&&P[e.charCodeAt(I)].length===O[e.charCodeAt(I)]-1?(E(e.charCodeAt(I)),delete P[e.charCodeAt(I)]):t.push(e))}}function p(e,t){for(var i=String(e).charCodeAt(0),n=String(t).charCodeAt(0),r=i;r<=n;r++)x(r),delete N[r],delete P[r]}function g(e,t){for(var i=String(e).charCodeAt(0),n=String(t).charCodeAt(0),r=i;r<=n;r++)E(r),delete P[r],delete N[r]}function v(){k=[],P={},N={}}function m(e,t){if(t===d.STRING_NULL)e[d.STRING_NULL]=[null];else if(e[t.charCodeAt(I)]){var i=e[t.charCodeAt(I)],n=i.indexOf(t);n===-1&&i.push(t)}else e[t.charCodeAt(I)]=[t]}function b(e,t){if(t===d.STRING_NULL)delete e[d.STRING_NULL];else if(e[t.charCodeAt(I)]){var i=e[t.charCodeAt(I)],n=i.indexOf(t);n>-1&&(1===i.length?delete e[t.charCodeAt(I)]:i.splice(n,1))}}function y(e,t){if(t===d.STRING_NULL)return e.hasOwnProperty(d.STRING_NULL);if(e[t.charCodeAt(I)]){var i=e[t.charCodeAt(I)];return i.indexOf(t)>-1}return!1}function w(){return(0,u.default)(N).some(function(e){return N[e].length>0})}function x(e){var t=k.indexOf(e);t===-1&&k.push(e)}function E(e){var t=k.indexOf(e);t>-1&&k.splice(t,1)}function _(e){return k.some(function(t){return e&&e.charCodeAt(I)===t})}function A(){var e=[];k.forEach(function(t){return e.push(D+String.fromCharCode(t))});var t=[],i=[];return(0,u.default)(N).forEach(function(e){return t.push.apply(t,(0,s.default)(N[e]))}),(0,u.default)(P).forEach(function(e){return i.push.apply(i,(0,s.default)(P[e]))}),{patternList:e,keyIncludeList:t,keyExcludeList:i}}function C(){var t=A(),i=t.patternList,r=t.keyIncludeList,a=t.keyExcludeList,o=null;if(n()&&e.colId){var s=[];if(i.forEach(function(t){var i={type:"func",funcName:"Like",args:[]};i.args.push({type:"column",columnName:e.colId}),i.args.push({type:"const",data:t+"%",dataType:e.type}),s.push(i)}),r.length>0){var l=void 0,u=void 0,c={type:"func",funcName:"In",args:[]};c.args.push({type:"column",columnName:e.colId}),r.forEach(function(t){null===t?(l=S(e.colId),s.push(l)):""===t?(u=T(e.colId),s.push(u)):c.args.push({type:"const",data:t,dataType:e.type})}),c.args.length>1&&s.push(c)}if(a.length>0){var d={type:"func",funcName:"Not In",args:[]};d.args.push({type:"column",columnName:e.colId}),a.forEach(function(t){d.args.push({type:"const",data:t,dataType:e.type})}),s.push(d)}return 1===s.length?s[0]:s.length>1?{type:"func",funcName:"Or",args:s}:null}return o}function S(e){var t={type:"func",funcName:"IsNull",args:[]};return t.args.push({type:"column",columnName:e}),t}function T(e){var t={type:"func",funcName:"=",args:[]},i={type:"func",funcName:"Trim",args:[]};i.args.push({type:"column",columnName:e});var n={type:"const",data:"",dataType:"string"};return t.args.push(i,n),t}var I=e.pos,D=e.prefix,O=e.grpSize,M={addFilter:t,removeFilter:i,clearFilters:v,hasFilter:n,binHasFilter:r,getAllFilters:A,getFilterExpression:C,valueHasFilter:a},k=[],N={},P={};return M}Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),s=r(o),l=i(33),u=r(l);t.stringFilter=a;var c=i(3),d=n(c)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(){return h}function i(){return h.length}function n(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)if((0,l.isNumeric)(e[t].key))return e[t].key}function r(e){if(e&&e.length>0)for(var t=e.length-1;t>=0;t--)if((0,l.isNumeric)(e[t].key))return e[t].key}function a(e,t){if(void 0===e||null===e)return null;if(0===e)return"0";var i=Math.floor((0,s.default)(Math.abs(e)));Math.pow(10,i);if(t=!t||t<0?0:t,i<0)return i<-2?(e=Number(d(e).times(Math.pow(10,-i))),e+"E"+i):e.toString();var n=Math.floor(Math.min(i,14)/3),r=Math.pow(10,3*n);e=Number(d(e).div(r));var a=e+["","K","M","B","T"][n];return a}function o(e){if((0,l.isNumeric)(e)){var t=Math.floor((0,s.default)(e))-1,i=Math.pow(10,t),n=Math.ceil(e/i),r=n*i;return Number(r.toFixed(Math.abs(t)))}throw"Expected numeric value"}var u={getBins:t,getBinCount:i,testMethods:{getBinrange:o,abbreviateNumber:a}};if(!e||!e.grpData)throw"Invalid config in Numeric bin";e.maxSize=e.maxSize||20;var h=[];if(e.grpData.length>0){var f=r(e.grpData),p=n(e.grpData),g=void 0;g=(f-p)/(e.maxSize-3);var v=o(g),m=Number(d(Math.floor(p/v)).times(v)),b=Number(d(Math.ceil(f/v)).times(v)),y=m,w={key:c.NUMERIC_NULL,keyAlias:"{Null}",value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};for(h.push(w);y<=b;){var x={low:y,lowAlias:a(y)};y=Number(d(y).plus(v)),x.high=y,x.highAlias=a(y),x.value=0,x.maxValue=0,x.filterValue=0,x.globalFilter=!1,x.grpFilter=!1,x.binFilter=!1,h.push(x)}e.grpData.forEach(function(e){(0,l.isNumeric)(e.key)?h.some(function(t){if(e.key>=t.low&&e.key<t.high)return t.value+=e.value,t.maxValue+=e.maxValue,t.filterValue+=e.filterValue,e.globalFilter===!0&&(t.globalFilter=!0),e.grpFilter===!0&&(t.grpFilter=!0),e.binFilter===!0&&(t.binFilter=!0),!0}):(w.value+=e.value,w.maxValue+=e.maxValue,w.filterValue+=e.filterValue,e.globalFilter===!0&&(w.globalFilter=!0),e.grpFilter===!0&&(w.grpFilter=!0),e.binFilter===!0&&(w.binFilter=!0))}),0===w.value&&0===w.maxValue&&h.shift()}return u}Object.defineProperty(t,"__esModule",{value:!0});var o=i(95),s=r(o);t.numericBin=a;var l=i(16),u=i(3),c=n(u),d=i(60)},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if((0,l.default)(e).isValid()){var i=u.filter(function(e){return t>e.estimate.low&&t<=e.estimate.high});if(i&&i.length>0)return i[0].binGenerator(e)();throw new Error("Invalid bin estimate")}throw new Error("Invalid Date")}Object.defineProperty(t,"__esModule",{value:!0});var a=i(61),o=n(a);t.getBinGenerator=r;var s=i(29),l=n(s),u=[{estimate:{low:.1,high:1},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("day"),i=e.format("MMM DD, YYYY"),n=e.format("x"),e.endOf("day").add(1,"ms"),r=i,a=e.format("x"),t.next=10,{low:n,lowAlias:i,high:a,highAlias:r};case 10:t.next=1;break;case 12:case"end":return t.stop()}},t,this)})}},{estimate:{low:1,high:2},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("day"),i=e.format("MMM DD, YYYY"),n=e.format("x"),e.add(1,"days").endOf("day"),r=e.format("MMM DD, YYYY"),e.add(1,"ms"),a=e.format("x"),t.next=11,{low:n,lowAlias:i,high:a,highAlias:r};case 11:t.next=1;break;case 13:case"end":return t.stop()}},t,this)})}},{estimate:{low:2,high:4},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("day"),i=e.format("MMM DD, YYYY"),n=e.format("x"),e.add(3,"days").endOf("day"),r=e.format("MMM DD, YYYY"),e.add(1,"ms"),a=e.format("x"),t.next=11,{low:n,lowAlias:i,high:a,highAlias:r};case 11:t.next=1;break;case 13:case"end":return t.stop()}},t,this)})}},{estimate:{low:4,high:7},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("week"),i=e.format("MMM DD, YYYY"),n=e.format("x"),e.endOf("week"),r=e.format("MMM DD, YYYY"),e.add(1,"ms"),a=e.format("x"),t.next=11,{low:n,lowAlias:i,high:a,highAlias:r};case 11:t.next=1;break;case 13:case"end":return t.stop()}},t,this)})}},{estimate:{low:7,high:15},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=!0;case 2:return 1==i?e.startOf("month"):e.startOf("day"),n=e.format("MMM DD, YYYY"),r=e.format("x"),1==i?e.add(14,"days").endOf("day"):e.endOf("month"),a=e.format("MMM DD, YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=12,{low:r,lowAlias:n,high:s,highAlias:a};case 12:i=!i,t.next=2;break;case 15:case"end":return t.stop()}},t,this)})}},{estimate:{low:15,high:30},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("month"),i=e.format("MMM YYYY"),n=e.format("x"),e.endOf("month"),r=i,e.add(1,"ms"),a=e.format("x"),t.next=11,{low:n,lowAlias:i,high:a,highAlias:r};case 11:t.next=1;break;case 13:case"end":return t.stop()}},t,this)})}},{estimate:{low:30,high:60},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),Number(e.month())%2!==0&&e.subtract(1,"months");case 2:return e.startOf("month"),i=e.format("MMM YYYY"),n=e.format("x"),e.add(1,"months").endOf("month"),r=e.format("MMM YYYY"),e.add(1,"ms"),a=e.format("x"),t.next=12,{low:n,lowAlias:i,high:a,highAlias:r};case 12:t.next=2;break;case 14:case"end":return t.stop()}},t,this)})}},{estimate:{low:60,high:90},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("quarter"),i="Q"+e.format("Q YYYY"),n=e.format("x"),e.endOf("quarter").add(1,"ms"),r=i,a=e.format("x"),t.next=10,{low:n,lowAlias:i,high:a,highAlias:r};case 10:t.next=1;break;case 12:case"end":return t.stop()}},t,this)})}},{estimate:{low:90,high:180},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s,u;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e,i=(0,l.default)(i).startOf("year"),e=(0,l.default)(e).startOf("quarter"),n=e.diff(i,"months")/3%2,n&&e.subtract(1,"days").startOf("quarter");case 5:return e.startOf("month"),r=e.format("MMM YYYY"),a=e.format("x"),e.add(5,"months").endOf("month"),s=e.format("MMM YYYY"),e.add(1,"ms"),u=e.format("x"),t.next=15,{low:a,lowAlias:r,high:u,highAlias:s};case 15:t.next=5;break;case 17:case"end":return t.stop()}},t,this)})}},{estimate:{low:180,high:365},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e);case 1:return e.startOf("year"),i=e.format("YYYY"),n=e.format("x"),e.endOf("year").add(1,"ms"),r=i,a=e.format("x"),t.next=10,{low:n,lowAlias:i,high:a,highAlias:r};case 10:t.next=1;break;case 12:case"end":return t.stop()}},t,this)})}},{estimate:{low:365,high:730},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=e.format("YYYY")%2,i=0===i?2:i,e.subtract(i-1,"years");case 4:return e.startOf("year"),n=e.format("YYYY"),r=e.format("x"),e.add(1,"years").endOf("year"),a=e.format("YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=14,{low:r,lowAlias:n,high:s,highAlias:a};case 14:t.next=4;break;case 16:case"end":return t.stop()}},t,this)})}},{estimate:{low:730,high:1825},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=e.format("YYYY")%5,i=0===i?5:i,e.subtract(i-1,"years");case 4:return e.startOf("year"),n=e.format("YYYY"),r=e.format("x"),e.add(4,"years").endOf("year"),a=e.format("YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=14,{low:r,lowAlias:n,high:s,highAlias:a};case 14:t.next=4;break;case 16:case"end":return t.stop()}},t,this)})}},{estimate:{low:1825,high:3650},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=e.format("YYYY")%10,i=0===i?10:i,e.subtract(i-1,"years");case 4:return e.startOf("year"),n=e.format("YYYY"),r=e.format("x"),e.add(9,"years").endOf("year"),a=e.format("YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=14,{low:r,lowAlias:n,high:s,highAlias:a};case 14:t.next=4;break;case 16:case"end":return t.stop()}},t,this)})}},{estimate:{low:3650,high:9125},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=e.format("YYYY")%25,i=0===i?25:i,e.subtract(i-1,"years");case 4:return e.startOf("year"),n=e.format("YYYY"),r=e.format("x"),e.add(24,"years").endOf("year"),a=e.format("YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=14,{low:r,lowAlias:n,high:s,highAlias:a};case 14:t.next=4;break;case 16:case"end":return t.stop()}},t,this)})}},{estimate:{low:9125,high:18250},binGenerator:function(e){return o.default.mark(function t(){var i,n,r,a,s;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.default)(e),i=e.format("YYYY")%50,i=0===i?50:i,e.subtract(i-1,"years");case 4:return e.startOf("year"),n=e.format("YYYY"),r=e.format("x"),e.add(49,"years").endOf("year"),a=e.format("YYYY"),e.add(1,"ms"),s=e.format("x"),t.next=14,{low:r,lowAlias:n,high:s,highAlias:a};case 14:t.next=4;break;case 16:case"end":return t.stop()}},t,this)})}}]},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){if((0,p.default)(e).isValid()){var n=m.filter(function(e){return t>e.estimate.low&&t<=e.estimate.high});if(n&&n.length>0)return n[0].binGenerator(e,i)();throw new Error("Invalid bin estimate")}throw new Error("Invalid Date")}function o(e){if(e)return e.toUpperCase()===v.FACET_TYPE_DATE||e.toUpperCase()===v.FACET_TYPE_TIMESTAMP}function s(e,t,i,n){return h.default.mark(function r(){var a,o,s,l,u;return h.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(0,p.default)(e),a=e.format("x"),a-=a%t%i,e=(0,p.default)(a),o=e.format(n),s=e.format("x"),e.add(i,"ms"),l=e.format(n),u=e.format("x"),r.next=11,{low:s,lowAlias:o,high:u,highAlias:l};case 11:return o=e.format(n),
s=e.format("x"),e.add(i,"ms"),l=e.format(n),u=e.format("x"),r.next=19,{low:s,lowAlias:o,high:u,highAlias:l};case 19:r.next=11;break;case 21:case"end":return r.stop()}},r,this)})}function l(e,t,i){return h.default.mark(function n(){var r,a,o,s;return h.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.default)(e),e.startOf("seconds"),e.subtract(e.seconds()%t,"seconds"),r=e.format(i),a=e.format("x"),e.add(t,"s"),o=e.format(i),s=e.format("x"),n.next=10,{low:a,lowAlias:r,high:s,highAlias:o};case 10:return r=e.format(i),a=e.format("x"),e.add(t,"s"),o=e.format(i),s=e.format("x"),n.next=18,{low:a,lowAlias:r,high:s,highAlias:o};case 18:n.next=10;break;case 20:case"end":return n.stop()}},n,this)})}function u(e,t,i){return h.default.mark(function n(){var r,a,o,s;return h.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.default)(e),e.startOf("minutes"),e.subtract(e.minute()%t,"minutes"),r=e.format(i),a=e.format("x"),e.add(t,"m"),o=e.format(i),s=e.format("x"),n.next=10,{low:a,lowAlias:r,high:s,highAlias:o};case 10:return r=e.format(i),a=e.format("x"),e.add(t,"m"),o=e.format(i),s=e.format("x"),n.next=18,{low:a,lowAlias:r,high:s,highAlias:o};case 18:n.next=10;break;case 20:case"end":return n.stop()}},n,this)})}function c(e,t,i){return h.default.mark(function n(){var r,a,o,s;return h.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.default)(e),e.startOf("hours"),e.subtract(e.hour()%t,"hours"),r=e.format(i),a=e.format("x"),e.add(t,"h"),o=e.format(i),s=e.format("x"),n.next=10,{low:a,lowAlias:r,high:s,highAlias:o};case 10:return r=e.format(i),a=e.format("x"),e.add(t,"h"),o=e.format(i),s=e.format("x"),n.next=18,{low:a,lowAlias:r,high:s,highAlias:o};case 18:n.next=10;break;case 20:case"end":return n.stop()}},n,this)})}Object.defineProperty(t,"__esModule",{value:!0});var d=i(61),h=r(d);t.getBinGenerator=a;var f=i(29),p=r(f),g=i(3),v=n(g),m=[{estimate:{low:-(1/0),high:.1},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss.S":"HH:mm:ss.S";return s(e,1e3,100,i)}},{estimate:{low:.1,high:.2},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss.S":"HH:mm:ss.S";return s(e,1e3,200,i)}},{estimate:{low:.2,high:.3},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss.S":"HH:mm:ss.S";return s(e,1e3,300,i)}},{estimate:{low:.3,high:.4},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss.S":"HH:mm:ss.S";return s(e,1e3,400,i)}},{estimate:{low:.4,high:.5},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss.S":"HH:mm:ss.S";return s(e,1e4,500,i)}},{estimate:{low:.5,high:1},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return s(e,1e4,1e3,i)}},{estimate:{low:1,high:2},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return s(e,1e4,2e3,i)}},{estimate:{low:2,high:3},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return s(e,1e4,3e3,i)}},{estimate:{low:3,high:5},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return s(e,1e4,5e3,i)}},{estimate:{low:5,high:10},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return l(e,10,i)}},{estimate:{low:10,high:20},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return l(e,20,i)}},{estimate:{low:20,high:30},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return l(e,30,i)}},{estimate:{low:30,high:40},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return l(e,40,i)}},{estimate:{low:40,high:60},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,1,i)}},{estimate:{low:60,high:120},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,2,i)}},{estimate:{low:120,high:180},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,3,i)}},{estimate:{low:180,high:240},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,4,i)}},{estimate:{low:240,high:300},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,5,i)}},{estimate:{low:300,high:600},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,10,i)}},{estimate:{low:600,high:1200},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,20,i)}},{estimate:{low:1200,high:1800},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,30,i)}},{estimate:{low:1800,high:2400},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return u(e,40,i)}},{estimate:{low:2400,high:3600},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return c(e,1,i)}},{estimate:{low:3600,high:7200},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return c(e,2,i)}},{estimate:{low:7200,high:10800},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return c(e,3,i)}},{estimate:{low:10800,high:21600},binGenerator:function(e,t){var i=o(t)?"MMM DD, YYYY HH:mm:ss":"HH:mm:ss";return c(e,6,i)}}]},,,,function(e,t,i){e.exports={default:i(72),__esModule:!0}},function(e,t,i){i(73),i(78),e.exports=i(0).Array.from},function(e,t,i){var n=i(74)(!0);i(75)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var n=i(17),r=i(18);e.exports=function(e){return function(t,i){var a,o,s=String(r(t)),l=n(i),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):(a-55296<<10)+(o-56320)+65536)}}},function(e,t,i){var n=i(41),r=i(8),a=i(44),o=i(13),s=i(6),l=i(45),u=i(76),c=i(42),d=i(77),h=i(7)("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",g="keys",v="values",m=function(){return this};e.exports=function(e,t,i,b,y,w,x){u(i,t,b);var E,_,A,C=function(e){if(!f&&e in D)return D[e];switch(e){case g:return function(){return new i(this,e)};case v:return function(){return new i(this,e)}}return function(){return new i(this,e)}},S=t+" Iterator",T=y==v,I=!1,D=e.prototype,O=D[h]||D[p]||y&&D[y],M=O||C(y),k=y?T?C("entries"):M:void 0,N="Array"==t?D.entries||O:O;if(N&&(A=d(N.call(new e)),A!==Object.prototype&&A.next&&(c(A,S,!0),n||s(A,h)||o(A,h,m))),T&&O&&O.name!==v&&(I=!0,M=function(){return O.call(this)}),n&&!x||!f&&!I&&D[h]||o(D,h,M),l[t]=M,l[S]=m,y)if(E={values:T?M:C(v),keys:w?M:C(g),entries:k},x)for(_ in E)_ in D||a(D,_,E[_]);else r(r.P+r.F*(f||I),t,E);return E}},function(e,t,i){var n=i(46),r=i(15),a=i(42),o={};i(13)(o,i(7)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:r(1,i)}),a(e,t+" Iterator")}},function(e,t,i){var n=i(6),r=i(23),a=i(19)("IE_PROTO"),o=Object.prototype;e.exports=w.default||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){var n=i(36),r=i(8),a=i(23),o=i(79),s=i(80),l=i(35),u=i(81),c=i(82);r(r.S+r.F*!i(84)(function(e){(0,b.default)(e)}),"Array",{from:function(e){var t,i,r,d,h=a(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,b=c(h);if(v&&(g=n(g,p>2?arguments[2]:void 0,2)),void 0==b||f==Array&&s(b))for(t=l(h.length),i=new f(t);t>m;m++)u(i,m,v?g(h[m],m):h[m]);else for(d=b.call(h),i=new f;!(r=d.next()).done;m++)u(i,m,v?o(d,g,[r.value,m],!0):r.value);return i.length=m,i}})},function(e,t,i){var n=i(9);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,i){var n=i(45),r=i(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},function(e,t,i){var n=i(4),r=i(15);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(83),r=i(7)("iterator"),a=i(45);e.exports=i(0).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[n(e)]}},function(e,t,i){var n=i(26),r=i(7)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=o(t=Object(e),r))?i:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,i){var n=i(7)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},(0,b.default)(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:i=!0}},a[n]=function(){return o},e(a)}catch(e){}return i}},function(e,t){e.exports=i},function(e,t,i){function n(e){function t(){return e.type}function i(){return g.top(1/0)}function n(e){return"string"==typeof e&&"ALL"===e.toUpperCase()?g.group():S.size(e,v(x),h(),f)}function o(e){T.addFilter(e),l()}function s(e){T.removeFilter(e),l()}function l(){T.hasFilter()?g.filterFunction(function(e){return T.valueHasFilter(e)}):d()}function u(){var e=0,t=A.all();if(t&&t.length>0&&((!t[0].key||t[0].key&&!t[0].key.toString().trim())&&(e=1),t.length>e&&t[e].key!==t[t.length-1].key))for(;t[e].key.charAt(E)===t[t.length-1].key.charAt(E);)_+=t[e].key.charAt(E),E++}function c(){g.dispose(),m(x)}function d(){T.clearFilters(),g.filterAll()}function h(){return T.hasFilter()}function f(e){return T.binHasFilter(e)}function p(){return T.getFilterExpression()}var g=e.dim,v=e.hasGlobalFilter,m=e.clearDim,b=e._dim,y=e.type,w=e.colId,x={list:i,group:n,addFilter:o,removeFilter:s,clearFilters:d,hasFilter:h,binHasFilter:f,dispose:c,getType:t,getFilterExpression:p};if(!g)throw"Dimention is not defined";var E=0,_="",A=g.group();u();var C={},S=(0,r.stringGroup)({pos:E,prefix:_,group:A,dim:g,dummyDim:b,grpSize:C}),T=(0,a.stringFilter)({type:y,colId:w,pos:E,prefix:_,grpSize:C});return x}Object.defineProperty(t,"__esModule",{value:!0}),t.stringDimension=n;var r=i(87),a=i(64)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(t,a,o,c){var d=e.dim,h=d.group().all();if(y=[],h.forEach(function(e,t){e.maxValue=E[t],e.globalFilter=a,e.grpFilter=o,e.binFilter=!1,e.filterValue=0,e.keyAlias=n(e.key),o===!0?c(e)===!0&&(e.filterValue=e.value,e.binFilter=!0):a===!0&&(e.filterValue=e.value)}),h.length>t){if(x)for(var f in x)x[f].reset(h);else x={},r(h,_),["L","U","N","SC","NULL","PREFIX","EMPTY"].forEach(function(e){return l(h,e)});var p=(0,u.default)(x).reduce(function(e,t){return e+x[t].getBinCount()},0),g=[];if((0,u.default)(x).forEach(function(e){x[e].getBinCount()>0&&g.push({grp:x[e]})}),p>t){g.sort(function(e,t){return e.grp.getDataCount()-t.grp.getDataCount()});for(var v=0;p>t&&g[v];)g[v].grp.canCompress()===!0?(p-=g[v].grp.getBinCount(),g[v].grp.compressAll(),p+=g[v].grp.getBinCount()):v++}g.sort(function(e,t){return e.grp.getGrpId()-t.grp.getGrpId()}),g.forEach(function(e){var t;(t=y).push.apply(t,(0,s.default)(e.grp.getBins()))})}else{var b;(b=y).push.apply(b,(0,s.default)(h))}return i(y,m.STRING_EMPTY),i(y,m.STRING_NULL),this}function i(e,t){var i=y.findIndex(function(e){return e.key===m.STRING_NULL});if(i>0){var n=y[i];y.splice(i,1),y.unshift(n)}}function n(e){return e===m.STRING_NULL?"{Null}":e===m.STRING_EMPTY?"{Empty}":e}function r(e,t){w={lCb:[],uCb:[],nCb:[],sCb:[],nullCb:[],prefixCb:[],emptyCb:[]},e.forEach(function(e,i){if(e.key===m.STRING_NULL)w.nullCb.push(i);else if(e.key===m.STRING_EMPTY)w.emptyCb.push(i);else if(e.key){var n=e.key.charAt(t);n?o(n)?w.lCb.push(i):a(n)?w.uCb.push(i):(0,g.isNumeric)(n)?w.nCb.push(i):w.sCb.push(i):w.prefixCb.push(i)}})}function a(e){return/^[A-Z]/.test(e)}function o(e){return/^[a-z]/.test(e)}function l(t,i){if("N"===i&&w.nCb.length>0){var n=(0,d.stringNumBin)({grpData:t,prefix:A,pos:_,bucket:w.nCb,grpSize:e.grpSize});x.nGrp=n}else if("SC"===i&&w.sCb.length>0){var r=(0,h.stringScBin)({grpData:t,prefix:A,pos:_,bucket:w.sCb,grpSize:e.grpSize});x.scGrp=r}else if("L"===i&&w.lCb.length>0){var a=(0,c.stringCharBin)({grpData:t,prefix:A,pos:_,bucket:w.lCb,type:i,grpSize:e.grpSize});x.lGrp=a}else if("U"===i&&w.uCb.length>0){var o=(0,c.stringCharBin)({grpData:t,prefix:A,pos:_,bucket:w.uCb,type:i,grpSize:e.grpSize});x.uGrp=o}else if("NULL"===i&&w.nullCb.length>0){var s=(0,f.stringNullBin)({grpData:t,bucket:w.nullCb});x.nullGrp=s}else if("PREFIX"===i&&w.prefixCb.length>0){var l=(0,p.stringPrefixBin)({grpData:t,bucket:w.prefixCb});x.prefixGrp=l}else"EMPTY"===i&&w.emptyCb.length>0&&(x.emptyGrp=(0,f.stringNullBin)({grpData:t,bucket:w.emptyCb,type:"EMPTY"}))}function v(){return y}var b={list:v,size:t},y=void 0,w=void 0,x=void 0,E={};if(!e||!e.group)throw"Invalid config in String Group";var _=(e.group,e.pos),A=e.prefix;return e.dummyDim.group().all().map(function(e,t){e.maxValue=e.value,E[t]=e.value}),e.dummyDim.dispose(),b}Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),s=r(o),l=i(33),u=r(l);t.stringGroup=a;var c=i(88),d=i(89),h=i(90),f=i(91),p=i(92),g=i(16),v=i(3),m=n(v)},function(e,t,i){function n(e){function t(t){f=[];for(var i=0;i<26;i++){var n={low:String.fromCharCode(i+c),high:String.fromCharCode(i+c),prefix:h,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};n.lowAlias=n.low,n.highAlias=n.high,n.aliasEllipsis=!0,f.push(n)}e.bucket.forEach(function(e){var i=t[e].key;if(i){var n=i.charCodeAt(d)-c;f[n].value=f[n].value+t[e].value,f[n].maxValue=f[n].maxValue+t[e].maxValue,f[n].filterValue=f[n].filterValue+t[e].filterValue,t[e].globalFilter===!0&&(f[n].globalFilter=!0),t[e].grpFilter===!0&&(f[n].grpFilter=!0),t[e].binFilter===!0&&(f[n].binFilter=!0)}}),p=f.filter(function(e){return e.maxValue>0}),v=1}function i(){return p}function n(){return p.length}function r(){return e&&"L"===e.type?6:5}function a(){return e.bucket&&Array.isArray(e.bucket)?e.bucket.length:0}function o(){return v+1<=g}function s(){if(v+=1,v>=g){p=[];var e={prefix:h,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};f.forEach(function(t){e.low||(e.low=t.low,e.lowAlias=t.low),e.high=t.high,e.highAlias=t.high,e.aliasEllipsis=!0,e.value=e.value+(t.value||0),e.maxValue=e.maxValue+(t.maxValue||0),e.filterValue=e.filterValue+(t.filterValue||0),t.globalFilter===!0&&(e.globalFilter=!0),t.grpFilter===!0&&(e.grpFilter=!0),t.binFilter===!0&&(e.binFilter=!0)}),p.push(e)}else l(v)}function l(e){p=[];for(var t=Array(26).fill(-1),i=0,n=0,r=1;i<26;i++,r++)t[i]=n,r===e&&(r=0,n++);for(var a=0;a<=t[25];a++)p.push({prefix:h,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1});for(var o=0;o<t.length;o++)t[o]!==-1&&p[t[o]]&&(p[t[o]].low||(p[t[o]].low=f[o].low,p[t[o]].lowAlias=f[o].low),p[t[o]].high=f[o].high,p[t[o]].highAlias=f[o].high,p[t[o]].aliasEllipsis=!0,void 0===p[t[o]].value&&void 0===f[o].value||(p[t[o]].value=p[t[o]].value+f[o].value,p[t[o]].maxValue=p[t[o]].maxValue+f[o].maxValue,p[t[o]].filterValue=p[t[o]].filterValue+f[o].filterValue,f[o].globalFilter===!0&&(p[t[o]].globalFilter=!0),f[o].grpFilter===!0&&(p[t[o]].grpFilter=!0),f[o].binFilter===!0&&(p[t[o]].binFilter=!0)));p=p.filter(function(e){return e.maxValue>0})}var u={reset:t,getBins:i,getBinCount:n,getDataCount:a,compressAll:s,canCompress:o,getGrpId:r};if(!e||!e.type)throw"Invalid config in String char Bin Group";for(var c="L"===e.type?97:65,d=e.pos,h=e.prefix,f=[],p=[],g=3,v=1,m=0;m<26;m++){var b={low:String.fromCharCode(m+c),high:String.fromCharCode(m+c),prefix:h,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};b.lowAlias=b.low,b.highAlias=b.high,b.aliasEllipsis=!0,f.push(b)}return e.bucket.forEach(function(t){try{var i=e.grpData[t].key;if(i){var n=i.charCodeAt(d)-c;f[n].value=(f[n].value||0)+e.grpData[t].value,f[n].maxValue=(f[n].maxValue||0)+e.grpData[t].maxValue,f[n].filterValue=(f[n].filterValue||0)+e.grpData[t].filterValue,e.grpData[t].globalFilter===!0&&(f[n].globalFilter=!0),e.grpData[t].grpFilter===!0&&(f[n].grpFilter=!0),e.grpData[t].binFilter===!0&&(f[n].binFilter=!0),e.grpSize[i.charCodeAt(d)]?e.grpSize[i.charCodeAt(d)]++:e.grpSize[i.charCodeAt(d)]=1}}catch(i){console.log(e.type+" - "+t+" - "),console.log(e.grpData[t]),console.log(i)}}),p=f.filter(function(e){return e.maxValue>0}),u}Object.defineProperty(t,"__esModule",{value:!0}),t.stringCharBin=n},function(e,t,i){function n(e){function t(){return h}function i(t){d=[];for(var i=0;i<=9;i++){var n={low:i,high:i,prefix:c,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};n.lowAlias=n.low,n.highAlias=n.high,n.aliasEllipsis=!0,d.push(n)}e.bucket.forEach(function(e){var i=t[e].key;if(i){var n=i.charAt(u);d[n].value=d[n].value+t[e].value,d[n].maxValue=d[n].maxValue+t[e].maxValue,d[n].filterValue=d[n].filterValue+t[e].filterValue,t[e].globalFilter===!0&&(d[n].globalFilter=!0),t[e].grpFilter===!0&&(d[n].grpFilter=!0),t[e].binFilter===!0&&(d[n].binFilter=!0)}}),h=d.filter(function(e){return e.maxValue>0}),p=1}function n(){return h.length}function r(){return e.bucket&&Array.isArray(e.bucket)?e.bucket.length:0}function a(){return 3}function o(){return p+1<=f}function s(){if(p+=1,p>=f){h=[];var e={prefix:c,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};d.forEach(function(t){void 0===e.low&&(e.low=t.low,e.lowAlias=t.low),e.high=t.high,e.highAlias=t.high,e.aliasEllipsis=!0,e.value=e.value+t.value,e.maxValue=e.maxValue+t.maxValue,e.filterValue=e.filterValue+t.filterValue,t.globalFilter===!0&&(e.globalFilter=!0),t.grpFilter===!0&&(e.grpFilter=!0),t.binFilter===!0&&(e.binFilter=!0)}),h.push(e)}}for(var l={getBins:t,getBinCount:n,getDataCount:r,compressAll:s,reset:i,canCompress:o,getGrpId:a},u=e.pos,c=e.prefix,d=[],h=[],f=2,p=1,g=0;g<=9;g++){var v={low:g,high:g,prefix:c,value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};v.lowAlias=v.low,v.highAlias=v.high,v.aliasEllipsis=!0,d.push(v)}return e.bucket.forEach(function(t){var i=e.grpData[t].key;if(i){var n=i.charAt(u);d[n].value=d[n].value+e.grpData[t].value,d[n].maxValue=d[n].maxValue+e.grpData[t].maxValue,d[n].filterValue=d[n].filterValue+e.grpData[t].filterValue,e.grpData[t].globalFilter===!0&&(d[n].globalFilter=!0),e.grpData[t].grpFilter===!0&&(d[n].grpFilter=!0),e.grpData[t].binFilter===!0&&(d[n].binFilter=!0),e.grpSize[i.charCodeAt(u)]?e.grpSize[i.charCodeAt(u)]++:e.grpSize[i.charCodeAt(u)]=1}}),h=d.filter(function(e){return e.maxValue>0}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.stringNumBin=n},function(e,t,i){function n(e){function t(){return v}function i(t){d=[],h=[],e.bucket.forEach(function(e){var i=t[e].key;if(i){var n=i.charAt(u),r=n.charCodeAt(0);h[r]?(h[r].value=h[r].value+t[e].value,h[r].maxValue=h[r].maxValue+t[e].maxValue,h[r].filterValue=h[r].filterValue+t[e].filterValue,t[e].globalFilter===!0&&(h[r].globalFilter=!0),t[e].grpFilter===!0&&(h[r].grpFilter=!0),t[e].binFilter===!0&&(h[r].binFilter=!0)):h[r]={sc:[r],scAlias:n,aliasEllipsis:!0,value:t[e].value,maxValue:t[e].maxValue,prefix:c,filterValue:t[e].filterValue,globalFilter:t[e].globalFilter,grpFilter:t[e].grpFilter,binFilter:t[e].binFilter}}});for(var i in h)d.push(h[i]);v=d,p=1}function n(){return v.length}function r(){return e.bucket&&Array.isArray(e.bucket)?e.bucket.length:0}function a(){return 2}function o(){return p+1<=f}function s(){if(p+=1,p>=f){v=[];var e={sc:[],aliasEllipsis:!0,scAlias:"{Special Chars}",value:0,prefix:c,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};d.forEach(function(t){e.sc.push(t.sc[0]),e.value=e.value+t.value,e.maxValue=e.maxValue+t.maxValue,e.filterValue=e.filterValue+t.filterValue,t.globalFilter===!0&&(e.globalFilter=!0),t.grpFilter===!0&&(e.grpFilter=!0),t.binFilter===!0&&(e.binFilter=!0)}),v.push(e)}}var l={getBins:t,getBinCount:n,getDataCount:r,compressAll:s,reset:i,canCompress:o,getGrpId:a},u=e.pos,c=e.prefix,d=[],h={},f=2,p=1;e.bucket.forEach(function(t){var i=e.grpData[t].key;if(i){var n=i.charAt(u),r=n.charCodeAt(0);h[r]?(h[r].value=h[r].value+e.grpData[t].value,h[r].maxValue=h[r].maxValue+e.grpData[t].maxValue,h[r].filterValue=h[r].filterValue+e.grpData[t].filterValue,e.grpData[t].globalFilter===!0&&(h[r].globalFilter=!0),e.grpData[t].grpFilter===!0&&(h[r].grpFilter=!0),e.grpData[t].binFilter===!0&&(h[r].binFilter=!0),e.grpSize[i.charCodeAt(u)]++):(h[r]={sc:[r],scAlias:n,aliasEllipsis:!0,value:e.grpData[t].value,maxValue:e.grpData[t].maxValue,prefix:c,filterValue:e.grpData[t].filterValue},e.grpSize[i.charCodeAt(u)]=1)}});for(var g in h)d.push(h[g]);var v=d;return l}Object.defineProperty(t,"__esModule",{value:!0}),t.stringScBin=n},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){return c}function i(t){c.length=0,e.bucket.forEach(function(e){c.push((0,o.default)({},t[e],{keyAlias:d}))})}function n(){return c.length}function r(){return e.bucket&&Array.isArray(e.bucket)?e.bucket.length:0}function a(){return"EMPTY"===e.type?0:1}function s(){}function l(){return!1}var u={getBins:t,getBinCount:n,getDataCount:r,compressAll:s,reset:i,canCompress:l,getGrpId:a},c=[],d="EMPTY"===e.type?"{Empty}":"{Null}";return e.bucket.forEach(function(t){c.push((0,o.default)({},e.grpData[t],{keyAlias:d}))}),u}Object.defineProperty(t,"__esModule",{value:!0});var a=i(49),o=n(a);t.stringNullBin=r},function(e,t,i){function n(e){function t(){return u}function i(t){u.length=0,e.bucket.forEach(function(e){u.push(t[e])})}function n(){return u.length}function r(){return e.bucket&&Array.isArray(e.bucket)?e.bucket.length:0}function a(){return 4}function o(){return!1}function s(){}var l={getBins:t,getBinCount:n,getDataCount:r,compressAll:s,reset:i,canCompress:o,getGrpId:a},u=[];return e.bucket.forEach(function(t){u.push(e.grpData[t])}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.stringPrefixBin=n},function(e,t,i){function n(e){function t(){return T.min}function i(){return T.max}function n(){return A}function s(){return curRFilters}function l(){curRFilters=[]}function u(){return w.top(1/0)}function c(e){return"string"==typeof e&&"ALL"===e.toUpperCase()?w.group():I.size(e,x(S),v(),m)}function d(e){D.addFilter(e),p()}function h(e){D.performBulkFilter(e),p()}function f(e){D.removeFilter(e),p()}function p(){D.hasFilter()?w.filterFunction(function(e){return D.valueHasFilter(e)}):g()}function g(){D.clearFilters(),w.filterAll()}function v(){return D.hasFilter()}function m(e){return D.binHasFilter(e)}function b(){w.dispose(),E(S)}function y(){return D.getFilterExpression()}var w=e.dim,x=e.hasGlobalFilter,E=e.clearDim,_=e._dim,A=e.type,C=e.colId,S={list:u,group:c,addFilter:d,removeFilter:f,clearFilters:g,hasFilter:v,binHasFilter:m,dispose:b,testMethods:{addCurRFilter:o.addCurRFilter,removeCurRFilter:o.removeCurRFilter,getCurRFilters:s,clearCurRFilters:l},getType:n,getMin:t,getMax:i,addFilterGroup:h,getFilterExpression:y};if(!w)throw"Dimention is not defined";var T={dim:w,dummyDim:_},I=(0,r.numericGroup)(T),D=(0,a.numericFilter)({type:A,colId:C});return S}Object.defineProperty(t,"__esModule",{value:!0}),t.numericDimension=n;var r=i(94),a=i(43),o=i(16)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(){return o}function i(){return a}function n(t,i,n,r){if(o=[],a=e.dim.group().all(),a.forEach(function(e,t){e.maxValue=u[t],e.globalFilter=i,e.grpFilter=n,e.binFilter=!1,e.filterValue=0,e.keyAlias=e.key===c.NUMERIC_NULL?"{Null}":String(e.key).replace("e","E"),n===!0?r(e)===!0&&(e.filterValue=e.value,e.binFilter=!0):i===!0&&(e.filterValue=e.value)}),a.length>t){var d,h=(0,l.numericBin)({maxSize:t,grpData:a,hasFilter:r});(d=o).push.apply(d,(0,s.default)(h.getBins()))}else{var f;(f=o).push.apply(f,(0,s.default)(a))}return this}var r={list:t,size:n,getGrpData:i};if(!e||!e.dim)throw"Invalid config in String Group";var a=void 0,o=void 0,u={},d=e.dummyDim.group().all();return d.map(function(e,t){e.maxValue=e.value,u[t]=e.value}),e.dummyDim.dispose(),d=null,r}Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),s=r(o);t.numericGroup=a;var l=i(65),u=i(3),c=n(u)},function(e,t,i){e.exports={default:i(96),__esModule:!0}},function(e,t,i){i(97),e.exports=i(0).Math.log10},function(e,t,i){var n=i(8);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i){(function(e,n){function r(e,i){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(i)?n.showHidden=i:i&&t._extend(n,i),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),l(n,e,n.depth)}function a(e,t){var i=r.styles[t];return i?"["+r.colors[i][0]+"m"+e+"["+r.colors[i][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}function l(e,i,n){if(e.customInspect&&i&&D(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return E(r)||(r=l(e,r,n)),r}var a=u(e,i);if(a)return a;var o=(0,k.default)(i),h=s(o);if(e.showHidden&&(o=(0,p.default)(i)),I(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(i);if(0===o.length){if(D(i)){var v=i.name?": "+i.name:"";return e.stylize("[Function"+v+"]","special")}if(C(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(T(i))return e.stylize(Date.prototype.toString.call(i),"date");if(I(i))return c(i)}var b="",y=!1,w=["{","}"];if(m(i)&&(y=!0,w=["[","]"]),D(i)){var x=i.name?": "+i.name:"";b=" [Function"+x+"]"}if(C(i)&&(b=" "+RegExp.prototype.toString.call(i)),T(i)&&(b=" "+Date.prototype.toUTCString.call(i)),I(i)&&(b=" "+c(i)),0===o.length&&(!y||0==i.length))return w[0]+b+w[1];if(n<0)return C(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special");e.seen.push(i);var _;return _=y?d(e,i,n,h,o):o.map(function(t){return f(e,i,n,h,t,y)}),e.seen.pop(),g(_,b,w)}function u(e,t){if(A(t))return e.stylize("undefined","undefined");if(E(t)){var i="'"+(0,v.default)(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,i,n,r){for(var a=[],o=0,s=t.length;o<s;++o)L(t,String(o))?a.push(f(e,t,i,n,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(f(e,t,i,n,r,!0))}),a}function f(e,t,i,n,r,a){var o,s,u;if(u=(0,h.default)(t,r)||{value:t[r]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),L(n,r)||(o="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(i)?l(e,u.value,null):l(e,u.value,i-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),A(o)){if(a&&r.match(/^\d+$/))return s;o=(0,v.default)(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function g(e,t,i){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function m(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function y(e){return null===e}function w(e){return null==e}function x(e){return"number"==typeof e}function E(e){return"string"==typeof e}function _(e){return"symbol"===("undefined"==typeof e?"undefined":(0,R.default)(e))}function A(e){return void 0===e}function C(e){return S(e)&&"[object RegExp]"===M(e)}function S(e){return"object"===("undefined"==typeof e?"undefined":(0,R.default)(e))&&null!==e}function T(e){return S(e)&&"[object Date]"===M(e)}function I(e){return S(e)&&("[object Error]"===M(e)||e instanceof Error)}function D(e){return"function"==typeof e}function O(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":(0,R.default)(e))||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var F=/%[sdj%]/g;t.format=function(e){if(!E(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(r(arguments[i]));return t.join(" ")}for(var i=1,n=arguments,a=n.length,o=String(e).replace(F,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return(0,v.default)(n[i++])}catch(e){return"[Circular]"}default:return e}}),s=n[i];i<a;s=n[++i])o+=y(s)||!S(s)?" "+s:" "+r(s);return o},t.deprecate=function(i,r){function a(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}if(A(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(n.noDeprecation===!0)return i;var o=!1;return a};var j,B={};t.debuglog=function(e){if(A(j)&&(j=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!B[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var i=n.pid;B[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else B[e]=function(){};return B[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=b,t.isNull=y,t.isNullOrUndefined=w,t.isNumber=x,t.isString=E,t.isSymbol=_,t.isUndefined=A,t.isRegExp=C,t.isObject=S,t.isDate=T,t.isError=I,t.isFunction=D,t.isPrimitive=O,t.isBuffer=i(101);var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=i(102),t._extend=function(e,t){if(!t||!S(t))return e;for(var i=(0,k.default)(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(t,i(99),i(100))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":(0,R.default)(window))&&(i=window)}e.exports=i},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){g&&f&&(g=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!g){var e=r(o);g=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var f,p=[],g=!1,v=-1;h.nextTick=function(e){
var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"===("undefined"==typeof e?"undefined":(0,R.default)(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof I.default?e.exports=function(e,t){e.super_=t,e.prototype=(0,I.default)(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n"},function(e,t,i){function n(e){function t(){return y}function i(){return g.top(1/0)}function n(e){return"string"==typeof e&&"ALL"===e.toUpperCase()?g.group():_.size(e,v(E),d(),h,b)}function o(e){A.addFilter(e),u()}function s(e){A.performBulkFilter(e),u()}function l(e){A.removeFilter(e),u()}function u(){A.hasFilter()?g.filterFunction(function(e){return A.valueHasFilter(e)}):c()}function c(){A.clearFilters(),g.filterAll()}function d(){return A.hasFilter()}function h(e){return A.binHasFilter(e)}function f(){g.dispose(),m(E)}function p(){return A.getFilterExpression()}var g=e.dim,v=e.hasGlobalFilter,m=e.clearDim,b=e.format,y=e.type,w=e._dim,x=e.colId,E={list:i,group:n,addFilter:o,removeFilter:l,clearFilters:c,hasFilter:d,binHasFilter:h,dispose:f,getType:t,addFilterGroup:s,getFilterExpression:p};if(!g)throw"Dimention is not defined";var _=(0,r.dateGroup)({format:b,dim:g,type:y,dummyDim:w}),A=(0,a.numericFilter)({type:y,colId:x});return E}Object.defineProperty(t,"__esModule",{value:!0}),t.dateDimension=n;var r=i(105),a=i(43);i(16)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(){return o}function i(){return u}function n(t,i,n,r){if(o=[],u=e.dim.group().all(),u.forEach(function(e,t){e.maxValue=a[t],e.globalFilter=i,e.grpFilter=n,e.binFilter=!1,e.filterValue=0,e.keyAlias=e.key===f.NUMERIC_NULL?"{Null}":e.key,n===!0?r(e)===!0&&(e.filterValue=e.value,e.binFilter=!0):i===!0&&(e.filterValue=e.value)}),u.length>t){var h,p=(0,l.dateBin)({maxSize:t,grpData:u,hasFilter:r,type:e.type});(h=o).push.apply(h,(0,s.default)(p.getBins()))}else u.forEach(function(t){(0,c.default)(t.key).isValid()===!0&&(t.keyAlias=e.type.toUpperCase()===f.FACET_TYPE_TIME?(0,c.default)(t.key).format("HH:mm:ss.SSS"):(0,d.sanitizeDate)((0,c.default)(t.key).format("YYYY-MM-DD HH:mm:ss.SSS"))),o.push(t)});return this}var r={list:t,size:n,getGrpData:i};if(!e||!e.dim)throw"Invalid config in String Group";var a={};e.dummyDim.group().all().map(function(e,t){e.maxValue=e.value,a[t]=e.value}),e.dummyDim.dispose();var o=void 0,u=void 0;return r}Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),s=r(o);t.dateGroup=a;var l=i(106),u=i(29),c=r(u),d=i(16),h=i(3),f=n(h)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(){return o}function i(){return o.length}function n(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)if((0,u.isNumeric)(e[t].key))return e[t].key}function r(e){if(e&&e.length>0)for(var t=e.length-1;t>=0;t--)if((0,u.isNumeric)(e[t].key))return e[t].key}var a={getBins:t,getBinCount:i};if(!e||!e.grpData)throw"Invalid config in Numeric bin";e.maxSize=e.maxSize||20;var o=[],c=e.type||"DATE";if(e.grpData.length>0&&e.grpData.length>e.maxSize){var h=r(e.grpData),f=n(e.grpData),p=(h-f)/(1e3*(e.maxSize-1)),g=void 0,v=void 0;p<=21600?(v=p,g=(0,l.getBinGenerator)(f,v,c)):(v=p/86400,g=(0,s.getBinGenerator)(f,v));try{var m={high:h-1},b={key:d.NUMERIC_NULL,keyAlias:"{Null}",value:0,maxValue:0,filterValue:0,globalFilter:!1,grpFilter:!1,binFilter:!1};for(o.push(b);h>m.high;)m=g.next().value,m&&(m.low=Number(m.low),m.high=Number(m.high),m.value=0,m.maxValue=0,m.filterValue=0,m.globalFilter=!1,m.grpFilter=!1,m.binFilter=!1,o.push(m));e.grpData.forEach(function(e){(0,u.isNumeric)(e.key)?o.some(function(t){if(e.key>=t.low&&e.key<t.high)return t.value+=e.value,t.maxValue+=e.maxValue,t.filterValue+=e.filterValue,e.globalFilter===!0&&(t.globalFilter=!0),e.grpFilter===!0&&(t.grpFilter=!0),e.binFilter===!0&&(t.binFilter=!0),!0}):(b.value+=e.value,b.maxValue+=e.maxValue,b.filterValue+=e.filterValue,e.globalFilter===!0&&(b.globalFilter=!0),e.grpFilter===!0&&(b.grpFilter=!0),e.binFilter===!0&&(b.binFilter=!0))}),0===b.value&&0===b.maxValue&&o.shift()}catch(e){console.log("Facet failed for this column due to invalid data")}}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.dateBin=a;var o=i(29),s=(r(o),i(66)),l=i(67),u=i(16),c=i(3),d=n(c)},function(e,t,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&(0,p.default)(n).indexOf("regeneratorRuntime")>=0,a=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=i(108),r)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){function i(e,t,i,n){var a=t&&t.prototype instanceof r?t:r,o=(0,I.default)(a.prototype),s=new g(n||[]);return o._invoke=d(e,i,s),o}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(i,r,a,o){var s=n(e[i],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===("undefined"==typeof c?"undefined":(0,R.default)(c))&&x.call(c,"__await")?l.default.resolve(c.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):l.default.resolve(c).then(function(e){u.value=e,a(u)},o)}o(s.arg)}function i(e,i){function n(){return new l.default(function(n,r){t(e,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function d(e,t,i){var r=O;return function(a,o){if(r===k)throw new Error("Generator is already running");if(r===N){if("throw"===a)throw o;return m()}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=h(s,i);if(l){if(l===P)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===O)throw r=N,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=k;var u=n(e,t,i);if("normal"===u.type){if(r=i.done?N:M,u.arg===P)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=N,i.method="throw",i.arg=u.arg)}}}function h(e,t){var i=e.iterator[t.method];if(i===b){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=b,h(e,t),"throw"===t.method))return P;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var r=n(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,P;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=b),t.delegate=null,P):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,P)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function v(e){if(e){var t=e[A];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(x.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=b,t.done=!0,t};return n.next=n}}return{next:m}}function m(){return{value:b,done:!0}}var b,y=Object.prototype,x=y.hasOwnProperty,_="function"==typeof E.default?E.default:{},A=_.iterator||"@@iterator",C=_.asyncIterator||"@@asyncIterator",S=_.toStringTag||"@@toStringTag",T="object"===("undefined"==typeof e?"undefined":(0,R.default)(e)),D=t.regeneratorRuntime;if(D)return void(T&&(e.exports=D));D=t.regeneratorRuntime=T?e.exports:{},D.wrap=i;var O="suspendedStart",M="suspendedYield",k="executing",N="completed",P={},L={};L[A]=function(){return this};var F=w.default,j=F&&F(F(v([])));j&&j!==y&&x.call(j,A)&&(L=j);var B=o.prototype=r.prototype=(0,I.default)(L);a.prototype=B.constructor=o,o.constructor=a,o[S]=a.displayName="GeneratorFunction",D.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},D.mark=function(e){return c.default?(0,c.default)(e,o):(e.__proto__=o,S in e||(e[S]="GeneratorFunction")),e.prototype=(0,I.default)(B),e},D.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[C]=function(){return this},D.AsyncIterator=u,D.async=function(e,t,n,r){var a=new u(i(e,t,n,r));return D.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(B),B[S]="Generator",B[A]=function(){return this},B.toString=function(){return"[object Generator]"},D.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},D.values=v,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&x.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=b)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,i.next=t,n&&(i.method="next",i.arg=b),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=x.call(r,"catchLoc"),s=x.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&x.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,P):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),P},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),p(i),P}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;p(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:v(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=b),P}}}(function(){return this}()||Function("return this")())},function(e,t,i){function n(e){function t(){return e.type}function i(){return p.top(1/0)}function n(e){return"string"==typeof e&&"ALL"===e.toUpperCase()?p.group():w.size(e,g(y),d(),h)}function o(e){x.addFilter(e),l()}function s(e){x.removeFilter(e),l()}function l(){x.hasFilter()?p.filterFunction(function(e){return x.valueHasFilter(e)}):c()}function u(){p.dispose(),v(y)}function c(){x.clearFilters(),p.filterAll()}function d(){return x.hasFilter()}function h(e){return x.binHasFilter(e)}function f(){return x.getFilterExpression()}var p=e.dim,g=e.hasGlobalFilter,v=e.clearDim,m=e.type,b=e.colId,y={list:i,group:n,addFilter:o,removeFilter:s,clearFilters:c,hasFilter:d,binHasFilter:h,dispose:u,getType:t,getFilterExpression:f},w=(0,r.binaryGroup)({dim:p}),x=(0,a.binaryFilter)({type:m,colId:b});if(!p)throw"Dimention is not defined";return y}Object.defineProperty(t,"__esModule",{value:!0}),t.binaryDimension=n;var r=i(110),a=i(111)},function(e,t,i){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){function t(t,n,r,o){var l,u=e.dim,c=u.group().all();return a=[],c.forEach(function(e,t){e.maxValue=e.value,e.globalFilter=n,e.grpFilter=r,e.binFilter=!1,e.filterValue=0,e.keyAlias=i(e.key),r===!0?o(e)===!0&&(e.filterValue=e.value,e.binFilter=!0):n===!0&&(e.filterValue=e.value)}),(l=a).push.apply(l,(0,s.default)(c)),this}function i(e){return e===u.STRING_NULL?"{Null}":""===e?"{Empty}":"{Binary}"}function n(){return a}var r={list:n,size:t},a=void 0;return r}Object.defineProperty(t,"__esModule",{value:!0});var o=i(22),s=r(o);t.binaryGroup=a;var l=i(3),u=n(l)},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e){e&&null!=e.key&&(u[e.key]=!0)}function i(e){e&&null!=e.key&&delete u[e.key]}function n(){return(0,o.default)(u).length>0}function r(e){return!(!e||!e.key)&&(console.log(e.key,u[e.key]),u[e.key]===!0)}function a(){u={}}function s(e){return u[e]===!0}var l={addFilter:t,removeFilter:i,clearFilters:a,hasFilter:n,binHasFilter:r,valueHasFilter:s},u={};return l}Object.defineProperty(t,"__esModule",{value:!0});var a=i(33),o=n(a);t.binaryFilter=r}])})}).call(t,i(63)(e))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){this.nodes=[],this.edges=[],this.nodedic={},this.graphmatrix={},this.directed=!0,this.nodegroups={},this.nodegroupnames=[]}Object.defineProperty(t,"__esModule",{value:!0});var a=i(28),o=n(a);t.default=r;var s=i(379),l=n(s);r.prototype.addNode=function(e){return e&&null==this.nodedic[e.id]&&(this.nodedic[e.id]=e,this.nodes.push(e)),this.nodedic[e.id]},r.prototype.addEdge=function(e,t,i){if(this.graphmatrix[e]&&this.graphmatrix[e][t]){var n=this.graphmatrix[e][t];return void n.entities.push(i)}if(null==this.graphmatrix[e]&&(this.graphmatrix[e]={}),null==this.graphmatrix[e][t]&&this.nodedic[e]&&this.nodedic[t]){var r=new l.default(e,t,i);r.fromnode=this.nodedic[e],r.tonode=this.nodedic[t],r.fromnode.outedges.push(r),r.tonode.inedges.push(r),r.directed=this.directed,this.graphmatrix[e][t]=r,this.edges.push(r)}},r.prototype.getEdge=function(e,t){return null==this.graphmatrix[e]||null==this.graphmatrix[e][t]?null:this.graphmatrix[e][t]},r.prototype.getNeighbors=function(e){var t={},i=this.nodedic[e];if(i){if(i.inedges)for(var n=0;n<i.inedges.length;n++){var r=i.inedges[n];t[r.from]||(t[r.from]="in")}if(i.outedges)for(var a=0;a<i.outedges.length;a++){var o=i.outedges[a];t[o.to]?"in"===t[o.to]&&(t[o.to]="inout"):t[o.to]="out"}}return t},r.prototype.updateNodeDegree=function(){for(var e=0,t=this.nodes.length;e<t;e++){var i=this.nodes[e];i.inedges=[],i.outedges=[]}for(var n=0,r=this.edges.length;n<r;n++){var a=this.edges[n];a.fromnode.outedges.push(a),a.tonode.inedges.push(a)}},r.prototype.updateNodeLevel=function(e,t){if(e&&e.length>0){for(var i={},n=0;n<e.length;n++){var r=this.nodedic[e[n]];if(r&&!r.visited){if(r.level=t,r.visited=!0,r.outedges&&r.outedges.length)for(var a=0;a<r.outedges.length;a++){var s=r.outedges[a];i[s.tonode.id]=!0}}else r&&r.level<t&&(r.level=t)}var l=(0,o.default)(i);l.length>0&&this.updateNodeLevel(l,t+1)}},r.prototype.refreshNodeLevel=function(){var e=[];for(var t in this.nodedic){var i=this.nodedic[t];i.visited=!1,0===i.inedges.length&&e.push(i.id)}this.updateNodeLevel(e,0);var n=this.getNodeMaxLevel();for(var r in this.nodedic){var a=this.nodedic[r];"metric"===a.tabletype&&(a.level=n+1)}},r.prototype.getNodesInLevel=function(e){for(var t=[],i=0,n=this.nodes.length;i<n;i++){var r=this.nodes[i];r.level===e&&t.push(r)}return t},r.prototype.getNodeMaxLevel=function(){for(var e=0,t=0,i=this.nodes.length;t<i;t++){var n=this.nodes[t];n.level>e&&(e=n.level)}return e},r.prototype.changeNodeLevel=function(e,t){if(e&&e.length>0)for(var i=0;i<e.length;i++){var n=e[i],r=this.nodedic[n];r&&(r.level=t)}},r.prototype.makeNodeGroups=function(e){this.nodegroups={},this.nodegroupnames=[];for(var t=0,i=this.nodes.length;t<i;t++){var n=this.nodes[t];null==this.nodegroups[n.data[e]]?(this.nodegroups[n.data[e]]={size:n.val,nodes:[n]},this.nodegroupnames.push(n.data[e])):(this.nodegroups[n.data[e]].nodes.push(n),this.nodegroups[n.data[e]].size+=n.val)}},r.prototype.distanceBetween=function(e,t){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},r.prototype.removeNode=function(e){var t=this.nodedic[e];if(t){var i=this.nodes.indexOf(t);i>-1&&i<this.nodes.length&&this.nodes.splice(i,1),delete this.nodedic[e];for(var n=0;n<t.inedges.length;n++){var r=t.inedges[n];this.removeEdge(r)}for(var a=0;a<t.outedges.length;a++){var o=t.outedges[a];this.removeEdge(o)}this.updateNodeDegree()}},r.prototype.removeEdge=function(e){if(e){var t=this.edges.indexOf(e);t>-1&&t<this.edges.length&&this.edges.splice(t,1),t=e.fromnode.outedges.indexOf(e),t>-1&&t<e.fromnode.outedges.length&&e.fromnode.outedges.splice(t,1),t=e.tonode.inedges.indexOf(e),t>-1&&t<e.tonode.inedges.length&&e.tonode.inedges.splice(t,1),this.graphmatrix[e.from]&&this.graphmatrix[e.from][e.to]&&delete this.graphmatrix[e.from][e.to]}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){this.netviz=e,this.graph=e.graph,this.svgcanvas=e.svg,this.isplaying=!1,this.loopfunctionid=0,this.duration=0,this.currenttime=0,this.starttime=0,this.transfunc=l.easeInOutCubic,this.layout=s.GRAPH_LAYOUT.MANUAL,this.bound={xmax:-(1/0),ymax:-(1/0),xmin:1/0,ymin:1/0},this.callback=null}Object.defineProperty(t,"__esModule",{value:!0});var a=i(46),o=n(a);t.default=r;var s=i(96);r.prototype.changeLayout=function(e,t){switch(e){case s.GRAPH_LAYOUT.PAIRWISE:this.initPairwise(t);break;case s.GRAPH_LAYOUT.LINEAR:this.initLinear();break;case s.GRAPH_LAYOUT.CIRCULAR:this.initCircular();break;case s.GRAPH_LAYOUT.FORCE_DIRECTED:this.initForceDirected();break;case s.GRAPH_LAYOUT.SEQUENCE:this.initSequence();break;case s.GRAPH_LAYOUT.TREE:this.initTree();break;case s.GRAPH_LAYOUT.STATIC_TREE:this.initStaticTree();break;case s.GRAPH_LAYOUT.MANUAL:this.initManual(t)}this.layout=e,this.fitToScreen("autolayout"),e===s.GRAPH_LAYOUT.FORCE_DIRECTED&&this.rearrangeUnconnectedNodes()},r.prototype.changeLayoutWithoutZoom=function(e,t){switch(e){case s.GRAPH_LAYOUT.PAIRWISE:this.initPairwise(t);break;case s.GRAPH_LAYOUT.LINEAR:this.initLinear();break;case s.GRAPH_LAYOUT.CIRCULAR:this.initCircular();break;case s.GRAPH_LAYOUT.FORCE_DIRECTED:this.initForceDirected();break;case s.GRAPH_LAYOUT.SEQUENCE:this.initSequence();break;case s.GRAPH_LAYOUT.TREE:this.initTree();break;case s.GRAPH_LAYOUT.STATIC_TREE:this.initStaticTree();break;case s.GRAPH_LAYOUT.MANUAL:this.initManual(t)}this.layout=e},r.prototype.fitToScreen=function(e){if(this.bound={xmax:-(1/0),ymax:-(1/0),xmin:1/0,ymin:1/0},this.graph&&this.graph.nodes&&(this.bound=this.getBoundingBox(this.graph.nodes),this.netviz)){this.netviz.updateSize();var t=1,i={x:.5*(this.bound.xmax+this.bound.xmin),y:.5*(this.bound.ymax+this.bound.ymin)};this.bound.xmax>this.bound.xmin&&this.bound.ymax>this.bound.ymin&&(t=Math.min(1,Math.min(this.netviz.w/(this.bound.xmax-this.bound.xmin),this.netviz.h/(this.bound.ymax-this.bound.ymin))),t<1&&(t*=.9)),this.netviz.moveNodes(.5*this.netviz.w-i.x,.5*this.netviz.h-i.y),this.render(),this.netviz.zoomhandler&&this.netviz.zoomhandler.setZoom(t,{x:.5*this.netviz.w,y:.5*this.netviz.h},e)}},r.prototype.getBoundingBox=function(e){var t={xmax:-(1/0),ymax:-(1/0),xmin:1/0,ymin:1/0};if(e)for(var i=0;i<e.length;i++){var n=e[i];t.xmax<n.targetpos.x+n.targetsize.w&&(t.xmax=n.targetpos.x+n.targetsize.w),t.xmin>n.targetpos.x-n.targetsize.w&&(t.xmin=n.targetpos.x-n.targetsize.w),t.ymax<n.targetpos.y+n.targetsize.h&&(t.ymax=n.targetpos.y+n.targetsize.h),t.ymin>n.targetpos.y-n.targetsize.h&&(t.ymin=n.targetpos.y-n.targetsize.h)}return t},r.prototype.getFOV=function(e){var t=this.netviz.getNodeLayerPoint({x:e.x,y:e.y},!0),i=this.netviz.getNodeLayerPoint({x:e.x+e.w,y:e.y+e.h},!0);return{xmin:t.x,ymin:t.y,xmax:i.x,ymax:i.y}},r.prototype.autoPan=function(e,t){var i=this,n=e?e.map(function(e){return i.netviz.getNode(e)}):[];if(n&&n.length>0){var r=this.getBoundingBox(n),a=this.getFOV({x:0,y:0,w:t.w,h:t.h});if(r.ymax>a.ymax&&r.ymax-r.ymin+s.NODE_STYLE.DEFAULT_SIZE.H<=a.ymax-a.ymin){var o=a.ymax-r.ymax-2*s.NODE_STYLE.DEFAULT_SIZE.H;this.netviz.moveNodes(0,o),this.render()}else r.ymax-r.ymin+s.NODE_STYLE.DEFAULT_SIZE.H>a.ymax-a.ymin&&this.moveNodesToCenter(n,t)}},r.prototype.moveNodesToCenter=function(e,t){if(e&&e.length>0){var i=this.getBoundingBox(e);if(this.netviz){var n=1,r={x:.5*(i.xmax+i.xmin),y:.5*(i.ymax+i.ymin)};i.xmax>i.xmin&&i.ymax>i.ymin&&(n=Math.min(1,Math.min(t.w/(i.xmax-i.xmin+s.NODE_STYLE.DEFAULT_SIZE.W),t.h/(i.ymax-i.ymin+s.NODE_STYLE.DEFAULT_SIZE.H)))),this.netviz.moveNodes(.5*t.w-r.x,.5*t.h-r.y),this.render(),this.netviz.zoomhandler&&this.netviz.zoomhandler.setZoom(n,{x:.5*t.w,y:.5*t.h},"manual")}}},r.prototype.initManual=function(e){if(this.graph&&e)for(var t=0,i=this.graph.nodes.length;t<i;t++){var n=this.graph.nodes[t];e[n.id]?(n.startpos.x=e[n.id].startpos.x,n.startpos.y=e[n.id].startpos.y,n.targetpos.x=e[n.id].targetpos.x,n.targetpos.y=e[n.id].targetpos.y):(n.startpos.x=n.pos.x,n.startpos.y=n.pos.y,n.targetpos.x=n.pos.x,n.targetpos.y=n.pos.y)}},r.prototype.initPairwise=function(e){var t=this.netviz.w/6,i=this.netviz.h/2,n=[];n[0]=[],n[1]=[e.leftnode],n[2]=[],n[3]=[e.rightnode],n[4]=[];var r=this.netviz.nodedic[e.leftnode],a=this.netviz.graph.getNeighbors(r.id),o=this.netviz.nodedic[e.rightnode],s=this.netviz.graph.getNeighbors(o.id);for(var l in a)s[l]?n[2].push(l):n[0].push(l);for(var u in s)a[u]||n[4].push(u);for(var c=0;c<5;c++)for(var d=0;d<n[c].length;d++){var h=this.netviz.nodedic[n[c][d]];h&&(h.startpos.x=h.pos.x,h.startpos.y=h.pos.y,h.targetpos.x=t*(c+1),h.targetpos.y=i+60*(d-.5*n[c].length)+15,h.startsize.w=h.size.w,h.startsize.h=h.size.h,h.targetsize.w=h.size.w,h.targetsize.h=h.size.h,h.labelpos=1)}},r.prototype.initSequence=function(){for(var e=this.netviz.w/8,t=this.netviz.h/2,i=[],n=this.graph.nodes.filter(function(e){return 0===e.outedges.length}),r=function(){var e=[];n.forEach(function(t){e.push.apply(e,(0,o.default)(t.inedges.map(function(e){return e.fromnode})))}),i.unshift(n),n=e};n&&n.length>0;)r();for(var a=0;a<i.length;a++)if(i[a]&&i[a].length>0)for(var s=0;s<i[a].length;s++){var l=i[a][s];l&&(l.startpos.x=l.pos.x,l.startpos.y=l.pos.y,l.targetpos.x=e*(a+1),l.targetpos.y=t+100*(s-.5*i[a].length)+15,l.startsize.w=l.size.w,l.startsize.h=l.size.h,l.targetsize.w=l.size.w,l.targetsize.h=l.size.h,l.labelpos=2)}},r.prototype.initStaticTree=function(){for(var e=this.netviz.w/2,t=this.netviz.h/2,i=[],n=0,r=0,a=this.graph.nodes.length;r<a;r++){var o=this.graph.nodes[r];i[o.level]?i[o.level].push(o.id):i[o.level]=[o.id],o.level>n&&(n=o.level)}for(var s=0;s<=n;s++)if(i[s]&&i[s].length>0)for(var l=0;l<i[s].length;l++){var u=this.netviz.nodedic[i[s][l]];if(u){var c=e+100*(l-.5*i[s].length)+50,d=t+50*(s-.5*n);u.startpos.x=c,u.pos.x=c,u.startpos.y=d,u.pos.y=d,u.targetpos.x=c,u.targetpos.y=d,u.startsize.w=u.size.w,u.startsize.h=u.size.h,u.targetsize.w=u.size.w,u.targetsize.h=u.size.h,u.labelpos=1}}},r.prototype.initTree=function(){for(var e=this.netviz.w/2,t=this.netviz.h/2,i=[],n=0,r=0,a=this.graph.nodes.length;r<a;r++){var o=this.graph.nodes[r];i[o.level]?i[o.level].push(o.id):i[o.level]=[o.id],o.level>n&&(n=o.level)}for(var s=0;s<=n;s++)if(i[s]&&i[s].length>0)for(var l=0;l<i[s].length;l++){var u=this.netviz.nodedic[i[s][l]];u&&(u.startpos.x=u.pos.x,u.startpos.y=u.pos.y,u.targetpos.x=e+100*(l-.5*i[s].length)+50,u.targetpos.y=t+50*(s-.5*n),u.startsize.w=u.size.w,u.startsize.h=u.size.h,u.targetsize.w=u.size.w,u.targetsize.h=u.size.h,u.labelpos=1)}},r.prototype.initLinear=function(){if(this.graph&&this.svgcanvas){for(var e=this.netviz.w,t=this.netviz.h,i=Math.min(e,t),n=0,r=this.graph.nodes.length;n<r;n++){var a=this.graph.nodes[n];a.startpos.x=a.pos.x,a.startpos.y=a.pos.y,a.targetpos.x=.5*(e-i)+i*(n+1)/(r+1),a.targetpos.y=.5*t,a.startsize.w=a.size.w,a.startsize.h=a.size.h,a.targetsize.w=a.size.w,a.targetsize.h=a.size.h,a.labelpos=1}for(var o=0,s=this.graph.edges.length;o<s;o++){var l=this.graph.edges[o];l.startsize=l.size,l.targetsize=l.size}}},r.prototype.initCircular=function(){if(this.graph&&this.svgcanvas){var e=this.netviz.w,t=this.netviz.h,i=.4*Math.min(e,t);this.controlpt={};for(var n=0,r=this.graph.nodes.length;n<r;n++){var a=this.graph.nodes[n];a.startpos.x=a.pos.x,a.startpos.y=a.pos.y,a.targetpos.x=i*Math.cos(2*Math.PI*n/r)+.5*e,a.targetpos.y=i*Math.sin(2*Math.PI*n/r)+.5*t,a.startsize.w=a.size.w,a.startsize.h=a.size.h,a.targetsize.w=a.size.w,a.targetsize.h=a.size.h}for(var o=0,s=this.graph.edges.length;o<s;o++){var l=this.graph.edges[o];l.startsize=l.size,l.targetsize=l.size}}},r.prototype.rearrangeUnconnectedNodes=function(){var e=this.graph.nodes.filter(function(e){return 0===e.inedges.length&&0===e.outedges.length}),t=this.graph.nodes.filter(function(e){return e.inedges.length>0||e.outedges.length>0}),i=this.netviz.getNodeLayerPoint({x:50,y:50},!0),n=this.netviz.zoomhandler.getScale(),r=this.netviz.w/n,a=4*s.NODE_STYLE.DEFAULT_SIZE.W,o=3*s.NODE_STYLE.DEFAULT_SIZE.H;if(t.length>0&&e.length>0)for(var l=this.getBoundingBox(t),u=1;i.y+o*u>l.ymin;){n*=.9,this.netviz.zoomhandler.setZoom(n,{x:.5*this.netviz.w,y:.5*this.netviz.h},"manual"),i=this.netviz.getNodeLayerPoint({x:50,y:50},!0),l=this.getBoundingBox(t),r=this.netviz.w/n;var c=Math.floor(r/a);u=Math.ceil(e.length/c)}if(e.length>0){var d=i.x,h=i.y;e.forEach(function(e){e.pos={x:d,y:h},e.targetpos={x:d,y:h},d-i.x+1.5*a<r?d+=a:(d=i.x,h+=o)})}},r.prototype.initForceDirected=function(){if(this.graph){this.forceDirected.resetDamper(),this.computeInitialForceDirectedPositions(100);for(var e=0,t=this.graph.nodes.length;e<t;e++){var i=this.graph.nodes[e];i.targetpos.x=i.pos.x,i.targetpos.y=i.pos.y,i.startsize.w=i.size.w,i.startsize.h=i.size.h,i.targetsize.w=i.size.w,i.targetsize.h=i.size.w}for(var n=0,r=this.graph.edges.length;n<r;n++){var a=this.graph.edges[n];a.startsize=a.size,a.targetsize=a.size,a.size=a.size}this.forceDirected.damper=0}},r.prototype.computeInitialForceDirectedPositions=function(e){var t=this.netviz.w,i=this.netviz.h,n=Math.min(t,i),r=[],a=[];this.graph.nodes.forEach(function(e){0===e.inedges.length&&0===e.outedges.length?(e.visible=!1,a.push(e)):(e.visible=!0,r.push(e))});for(var o=0,s=r.length;o<s;o++){var l=r[o];l.startpos.x=l.pos.x,l.startpos.y=l.pos.y,l.targetpos.x=n*Math.cos(2*Math.PI*o/s)+.5*t,l.targetpos.y=n*Math.sin(2*Math.PI*o/s)+.5*i,l.pos.x=l.targetpos.x,l.pos.y=l.targetpos.y,l.targetsize.w=l.size.w,l.targetsize.h=l.size.w}for(var u=0,c=this.graph.edges.length;u<c;u++){var d=this.graph.edges[u];d.startsize=d.size,d.targetsize=d.size,d.size=d.size}this.damper=1;for(var h=0;h<e;h++)this.forceDirected.update(this.graph);var f=r.length>0?this.getBoundingBox(r):{xmin:0,ymin:0,xmax:t,ymax:i},p={x:.5*(f.xmax+f.xmin),y:.5*(f.ymax+f.ymin)};a.forEach(function(e){e.startpos.x=e.pos.x,e.startpos.y=e.pos.y,e.pos={x:p.x,y:p.y},e.targetpos={x:p.x,y:p.y}}),this.netviz.moveNodes(.5*t-p.x,.5*i-p.y)},r.prototype.start=function(e){var t=this;this.isplaying&&this.stop(),this.isplaying=!0,this.currenttime=0,this.starttime=0,this.duration=e,this.loopfunctionid=window.requestAnimationFrame(function(e){t.updateLayout(e)})},r.prototype.stop=function(){this.isplaying&&(window.cancelAnimationFrame(this.loopfunctionid),this.isplaying=!1)},r.prototype.updateLayout=function(e){var t=this;if(0===this.starttime&&(this.starttime=e),"force-directed-dynamic"===this.layout)this.forceDirected.update(this.graph),this.render(),this.loopfunctionid=window.requestAnimationFrame(function(e){t.updateLayout(e)});else{this.currenttime=e-this.starttime;var i=this.transfunc(this.currenttime,0,1,this.duration);if(i>1&&(i=1),this.graph){for(var n=0,r=this.graph.nodes.length;n<r;n++){var a=this.graph.nodes[n];a.changeratio=i,a.pos.x=a.startpos.x+i*(a.targetpos.x-a.startpos.x),a.pos.y=a.startpos.y+i*(a.targetpos.y-a.startpos.y),a.size.w=a.startsize.w+i*(a.targetsize.w-a.startsize.w),a.size.h=a.startsize.h+i*(a.targetsize.h-a.startsize.h)}for(var o=0,s=this.graph.edges.length;o<s;o++){var l=this.graph.edges[o];l.size=l.startsize+(l.targetsize-l.startsize)*i}}this.render(),this.currenttime>=this.duration?(this.stop(),this.callback&&(this.callback(),this.callback=null)):this.loopfunctionid=window.requestAnimationFrame(function(e){t.updateLayout(e)})}},r.prototype.render=function(){this.netviz&&this.graph&&(this.netviz.updateNodes(this.graph.nodes),this.netviz.updateEdges(this.graph.edges))},r.prototype.forceDirected={MAX_MOTION_LIMIT:.01,REPULSION_DISTANCE_LIMIT:300,MAX_MOVING_X:30,MAX_MOVING_Y:30,REPULSION_ADJUSTMENT_FACTOR:.004,ATTRACTION_ADJUSTMENT_FACTOR:.003,DEFAULT_RIGIDITY:.25,damper:1,maxmotion:0,lastmaxmotion:0,motionratio:0,timeout:5e3,lastresetdamper:0,group:!1},r.prototype.forceDirected.resetDamper=function(){this.damper=1,this.lastresetdamper=new Date},r.prototype.forceDirected.update=function(e){if(!(this.damper<=0)){new Date-this.lastresetdamper>this.timeout&&(this.damper=.9*this.damper);for(var t=0,i=e.edges.length;t<i;t++)this.relaxEdge(e.edges[t]);for(var n=void 0,r=void 0,a=0,o=e.nodes.length;a<o;a++){n=e.nodes[a];for(var s=a+1;s<o;s++)r=e.nodes[s],n!==r&&this.relaxNodes(n,r)}this.lastmaxmotion=this.maxmotion,this.maxmotion=0;for(var l=0,u=e.nodes.length;l<u;l++)this.setNewPosition(e.nodes[l]);this.maxmotion>0?this.motionratio=this.lastmaxmotion/this.maxmotion-1:this.motionratio=0,this.motionratio<=.001&&((this.maxmotion<.2||this.maxmotion>1&&this.damper<.9)&&this.damper>.01?this.damper-=.01:this.maxmotion<.4&&this.damper>.003?this.damper-=.003:this.damper>1e-4&&(this.damper-=1e-4)),this.maxmotion<this.MAX_MOTION_LIMIT&&(this.damper=0)}},r.prototype.forceDirected.relaxEdge=function(e){if(e&&e.visible&&e.size>0){var t=.03*e.size;t>1&&(t=1);var i=e.tonode.pos.x-e.fromnode.pos.x,n=e.tonode.pos.y-e.fromnode.pos.y,r=Math.sqrt(i*i+n*n),a=i*this.DEFAULT_RIGIDITY*r*this.ATTRACTION_ADJUSTMENT_FACTOR*t,o=n*this.DEFAULT_RIGIDITY*r*this.ATTRACTION_ADJUSTMENT_FACTOR*t;e.tonode.dx-=a,e.tonode.dy-=o,e.fromnode.dx+=a,e.fromnode.dy+=o}},r.prototype.forceDirected.setNewPosition=function(e){var t=e.dx,i=e.dy;t*=this.damper,i*=this.damper,e.dx=t/2,e.dy=i/2,
e.fixed||(e.pos.x+=Math.max(-this.MAX_MOVING_X,Math.min(this.MAX_MOVING_X,t)),e.pos.y+=Math.max(-this.MAX_MOVING_Y,Math.min(this.MAX_MOVING_Y,i)),e.targetpos.x=e.pos.x,e.targetpos.y=e.pos.y),this.maxmotion=Math.max(Math.sqrt(t*t+i*i),this.maxmotion)},r.prototype.forceDirected.relaxNodes=function(e,t){if(e&&t&&e.visible&&t.visible){var i=0,n=0,r=e.pos.x-t.pos.x,a=e.pos.y-t.pos.y,o=r*r+a*a;if(0===o)i=Math.random(),n=Math.random();else{if(!(o<this.REPULSION_DISTANCE_LIMIT*this.REPULSION_DISTANCE_LIMIT))return;i=r/o,n=a/o}var s=e.repulsion*t.repulsion*this.DEFAULT_RIGIDITY*this.REPULSION_ADJUSTMENT_FACTOR;e.dx+=i*s,e.dy+=n*s,t.dx-=i*s,t.dy-=n*s}};var l={easeInOutQuad:function(e,t,i,n){return e/=n/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)},easeInOutCubic:function(e,t,i,n){return e/=n/2,e<1?i/2*e*e*e+t:(e-=2,i/2*(e*e*e+2)+t)},easeInOutQuart:function(e,t,i,n){return e/=n/2,e<1?i/2*e*e*e*e+t:(e-=2,-i/2*(e*e*e*e-2)+t)},easeInOutQuint:function(e,t,i,n){return e/=n/2,e<1?i/2*e*e*e*e*e+t:(e-=2,i/2*(e*e*e*e*e+2)+t)},easeInOutSine:function(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t},easeInOutExpo:function(e,t,i,n){return e/=n/2,e<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(-Math.pow(2,-10*e)+2)+t)},easeInOutCirc:function(e,t,i,n){return e/=n/2,e<1?-i/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,i/2*(Math.sqrt(1-e*e)+1)+t)},easeOutExpo:function(e,t,i,n){return i*(-Math.pow(2,-10*e/n)+1)+t},easeLinearTween:function(e,t,i,n){return i*e/n+t}}},function(e,t,i){"use strict";function n(e,t){this.enablePan=1,this.enableZoom=1,this.enableDrag=1,this.zoomScale=.2,this.minzoom=.25,this.maxzoom=4,this.rootElement=e,this.state="none",this.svgRoot=t,this.stateTarget=null,this.stateOrigin=null,this.stateTf=null,this.panstartpt=null,a[e.id]=this,this.setupHandlers(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=i(96),a={};n.prototype.setupHandlers=function(e){e&&(e.onmousedown=this.handleMouseDown),navigator.userAgent.toLowerCase().indexOf("firefox")>=0?e.addEventListener("DOMMouseScroll",this.handleMouseWheel,!1):e.addEventListener("mousewheel",this.handleMouseWheel,!1)},n.prototype.getEventPoint=function(e){var t=this.rootElement.createSVGPoint(),i=this.getPosition(this.rootElement.parentNode);return t.x=e.clientX-i.x,t.y=e.clientY-i.y,t},n.prototype.getLocalPoint=function(e){var t=this.rootElement.createSVGPoint(),i=this.getPosition(this.rootElement.parentNode);return t.x=e.x-i.x,t.y=e.y-i.y,t},n.prototype.getClientPoint=function(e){var t={},i=this.getPosition(this.rootElement.parentNode);return t.x=e.x+i.x,t.y=e.y+i.y,t},n.prototype.getPosition=function(e){for(var t=0,i=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,i+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:i}},n.prototype.getScale=function(){var e=0;return this.svgRoot&&(e=this.svgRoot.getCTM().a),e},n.prototype.setCTM=function(e,t){var i="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",i)},n.prototype.dumpMatrix=function(e){var t="[ "+e.a+", "+e.c+", "+e.e+"\n  "+e.b+", "+e.d+", "+e.f+"\n  0, 0, 1 ]";return t},n.prototype.handleMouseWheel=function(e){var t=a[this.id];if(t.enableZoom){e.preventDefault(),e.returnValue=!1;var i=void 0;i=e.wheelDelta?e.wheelDelta/360:e.detail/-9;var n=Math.pow(1+t.zoomScale,i),o=t.svgRoot,s=t.getEventPoint(e);s=s.matrixTransform(o.getCTM().inverse());var l=t.getScale();n*l>t.maxzoom?n=t.maxzoom/l:n*l<t.minzoom&&(n=t.minzoom/l);var u=t.rootElement.createSVGMatrix().translate(s.x,s.y).scale(n).translate(-s.x,-s.y);t.setCTM(o,o.getCTM().multiply(u)),"undefined"!=typeof t.stateTf&&null!=t.stateTf||(t.stateTf=o.getCTM().inverse()),t.stateTf=t.stateTf.multiply(u.inverse()),t.graphviz&&t.graphviz.dispatchCustomEvent(r.GRAPH_EVENT.NAME.ZOOM_CHANGED,{scale:t.getScale(),type:r.GRAPH_EVENT.TYPE.CANVAS_EVENT,from:"mousewheel"})}},n.prototype.setRelativeZoom=function(e,t,i){var n=a[this.rootElement.id],o=n.svgRoot,s=n.getLocalPoint(n.getClientPoint(t)),l=n.getScale(),u=e/l;s=s.matrixTransform(o.getCTM().inverse());var c=n.rootElement.createSVGMatrix().translate(s.x,s.y).scale(u).translate(-s.x,-s.y);n.setCTM(o,o.getCTM().multiply(c)),"undefined"!=typeof n.stateTf&&null!=n.stateTf||(n.stateTf=o.getCTM().inverse()),n.stateTf=n.stateTf.multiply(c.inverse()),n.graphviz&&n.graphviz.dispatchCustomEvent(r.GRAPH_EVENT.NAME.ZOOM_CHANGED,{scale:e,anchor:t,type:r.GRAPH_EVENT.TYPE.CANVAS_EVENT,from:i})},n.prototype.setZoom=function(e,t,i){var n=a[this.rootElement.id],o=n.svgRoot,s=this.rootElement.createSVGPoint();s.x=t?t.x:0,s.y=t?t.y:0;var l=n.rootElement.createSVGMatrix().translate(s.x,s.y).scale(e).translate(-s.x,-s.y);if(n.setCTM(o,l),"undefined"==typeof n.stateTf||null===n.stateTf){var u=o.getCTM();u&&(n.stateTf=u.inverse())}n.stateTf&&(n.stateTf=n.stateTf.multiply(l.inverse())),n.graphviz&&n.graphviz.dispatchCustomEvent(r.GRAPH_EVENT.NAME.ZOOM_CHANGED,{scale:e,anchor:t,type:r.GRAPH_EVENT.TYPE.CANVAS_EVENT,from:i})},n.prototype.handleMouseDown=function(e){var t=this,i=a[this.id],n=i.svgRoot;"circle"===e.target.tagName&&"circle"===e.srcElement.tagName||"rect"===e.target.tagName&&"rect"===e.srcElement.tagName||"text"===e.target.tagName&&"text"===e.srcElement.tagName||"tspan"===e.target.tagName&&"tspan"===e.srcElement.tagName||"image"===e.target.tagName&&"image"===e.srcElement.tagName||("svg"!==e.target.tagName&&i.enableDrag?(i.state="drag",i.stateTarget=e.target,i.stateTf=n.getCTM().inverse(),i.stateOrigin=i.getEventPoint(e).matrixTransform(i.stateTf)):0===e.button?i.graphviz&&(i.graphviz.startLassoSelection({x:e.clientX,y:e.clientY}),i.graphviz.dispatchCustomEvent(r.GRAPH_EVENT.NAME.LASSO_SELECTION_STARTED,{type:r.GRAPH_EVENT.TYPE.CANVAS_EVENT})):(window.document.body.style.cursor="-webkit-grabbing",i.state="pan",i.stateTf=n.getCTM().inverse(),i.stateOrigin=i.getEventPoint(e).matrixTransform(i.stateTf),i.panstartpt={x:e.clientX,y:e.clientY},window.onmousemove=function(e){e.preventDefault(),e.returnValue=!1;var i=a[t.id],n=i.svgRoot;if("pan"===i.state&&i.enablePan){var r=i.getEventPoint(e).matrixTransform(i.stateTf);i.setCTM(n,i.stateTf.inverse().translate(r.x-i.stateOrigin.x,r.y-i.stateOrigin.y))}else if("drag"===i.state&&i.enableDrag){var o=i.getEventPoint(e).matrixTransform(n.getCTM().inverse());i.setCTM(i.stateTarget,i.rootElement.createSVGMatrix().translate(o.x-i.stateOrigin.x,o.y-i.stateOrigin.y).multiply(n.getCTM().inverse()).multiply(i.stateTarget.getCTM())),i.stateOrigin=o}},window.onmouseup=function(e){e.preventDefault(),e.returnValue=!1;var i=a[t.id];"pan"!==i.state&&"drag"!==i.state||(i.state="",i.panstartpt&&(i.panstartpt=null),window.onmousemove=null,window.onmouseup=null,window.document.body.style.cursor="default")},i.graphviz.dispatchCustomEvent(r.GRAPH_EVENT.NAME.PAN_STARTED,{type:r.GRAPH_EVENT.TYPE.CANVAS_EVENT})))}},function(e,t){"use strict";function i(e,t){this.x=e,this.y=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.prototype.copy=function(){return new i(this.x,this.y)},i.prototype.rotate=function(e){var t=new i(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e));return this.x=t.x,this.y=t.y,this.copy()},i.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.scale=function(e){return this.x*=e,this.y*=e,this.copy()},i.prototype.normalize=function(){var e=1/this.magnitude();return this.scale(e)},i.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.copy()},i.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this.copy()}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){if((s.dataModelingManager.isEditCubeMode()||s.dataModelingManager.isCubeSaved())&&s.dataModelingManager.isEditSuperCube())h({name:mstrAppSchema.cubeName}).then(s.dataModelingManager.close);else{var e=(0,u.default)(function(e){return h(e).then(s.dataModelingManager.close)});e.open()}}function a(e,t){h=e,o.workspaceManager.isWorkspaceEmpty()||!t?s.dataModelingManager.close():d.default.openSaveConfirm(r,s.dataModelingManager.close)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=i(20),s=i(353),l=i(566),u=n(l),c=i(132),d=n(c),h=null},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t,i,n,r){var a=[];r.forEach(function(e){if(e.leftCol&&e.rightCol){var t={};t.leftColumnId=e.leftCol,t.rightColumnId=e.rightCol,t.requiredData=e.requiredData||!1,a.push(t)}});var o="/workspaces/"+e+"/join-info-previews";if(a.length>0&&e){var u={requestId:l.workspaceManager.generateRequestId(),joinType:t,leftTableId:i,rightTableId:n,joinColumnList:a};return s.post(o,u)}}function a(e,t,i,n){var r=[],a={};a.leftColumnId=n,r.push(a);var o="/workspaces/"+e+"/join-info-previews";if(r.length>0&&e){var u={requestId:l.workspaceManager.generateRequestId(),joinType:t,leftTableId:i,joinColumnList:r};return s.post(o,u)}}Object.defineProperty(t,"__esModule",{value:!0}),t.previewJoinInfoSummary=r,t.previewColumnData=a;var o=i(86),s=n(o),l=i(20)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){t.map(function(t){t.key=(0,b.tableKeyConstructor)(e,t)})}function a(e){var t=(0,m.getAllState)().tablesPanel.datasources;e.map(function(e){var i=t.find(function(t){return t.id===e.datasource.id}),n=i.tables.find(function(t){return t.key===e.key});n&&(e.name=n.name)})}Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=n(o),l=i(28),u=n(l),c=i(127),d=i(52),h=i(20),f=i(269),p=i(132),g=n(p),v=i(268),m=i(29),b=i(553),y=100,w={fetchTablesCallback:function(e){var t=[];if((0,u.default)(e).forEach(function(i){var n=e[i];r(n.type,n.tables),t=t.concat(n.tables.map(function(e){return(0,s.default)({},e,{datasource:{id:n.id,type:n.type}})})),(0,m.dispatchAction)((0,c.addOrUpdateDatasource)((0,s.default)({},n,{expanded:!0})))}),a(t),t.length<=y)h.workspaceManager.addTables(t),(0,m.dispatchAction)((0,d.enableDPToolbar)());else{var i="As you have selected a large number of tables (more than "+y+"), we will add them to the 'Tables' Panel instead of directly adding them to the canvas at once. You can always drag and drop the tables that you wish to use, on to the canvas, from that panel.";mstrmojo.alert(i)}(0,m.dispatchAction)((0,c.setActiveTab)(f.TABLES_TAB_KEY))},freeformSQLCallback:function(e){e.key=(0,b.tableKeyConstructor)(e.type,e),(0,m.dispatchAction)((0,c.addOrUpdateDatasource)((0,s.default)({},e,{expanded:!0,datasource:{id:e.id,type:e.type,sql:e.sql}}))),e.datasource={id:e.id,type:e.connection.connectionType,sql:e.sql};var t=[e];a(t),h.workspaceManager.addTables(t),(0,m.dispatchAction)((0,d.enableDPToolbar)()),(0,m.dispatchAction)((0,c.setActiveTab)(f.TABLES_TAB_KEY))},updateAllDBRoles:function(e){g.default.getDBRoles().then(function(e){(0,m.dispatchAction)((0,v.fetchAllDataSourceListSUCCESS)(e.dbRoles))})}};window.mstrAppSchema&&(window.mstrAppSchema.callbacks=w,window.mstrAppSchema.workspaceManager=h.workspaceManager),t.default=w},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t,i){if(t){var n="/recommendations/tables";return s.post(n,{workspaceId:e,pipelineId:t,sourceTableIds:i,userId:l.workspaceManager.getUserId()})}}function a(e,t,i){if(e)return s.post("/recommendations/joins",{pipelineId:e,workspaceId:t,tableIds:i,userId:l.workspaceManager.getUserId()})}Object.defineProperty(t,"__esModule",{value:!0}),t.suggestTables=r,t.suggestJoins=a;var o=i(86),s=n(o),l=i(20)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.publishStatusSubject=void 0;var r=i(179),a=n(r);t.publishStatusSubject=new a.default.Subject},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){if(v.workspaceManager.initialWorkspaceId){var e=new WebSocket((0,b.getSparkServerURL)().replace(/^http/i,"ws")+"/workspaces/"+v.workspaceManager.initialWorkspaceId+"/socket");e.addEventListener("message",function(e){try{var t=JSON.parse(e.data),i=t.msgType;switch(i){case A.WS_HANDSHAKE:a(t);break;case A.JOB_NOTIFICATION:o(t);break;case A.TABLE_ROW_COUNT:g.pipelineManager.updateTableRowCount(t.pipelineId,t.tableId,t.totalCount);break;default:var n=t.requestId,r=(0,y.getStream)(n),s=r&&r.getTopic(i);s&&s.onNext(t)}}catch(e){console.log("websocket msg parsing error",e)}})}}function a(e){e.content.status===x.SERVICE_RESPONSE.STATUS.APPROVED?(v.workspaceManager.currentClientId=e.content.clientId,v.workspaceManager.updateWorkspaceDefinition(v.workspaceManager.initialWorkspaceId).then(function(e){window.mstrAppSchema&&window.mstrAppSchema.workspaceId&&(v.workspaceManager.constructWorkspaceGraph(v.workspaceManager.currentWorkspaceDefinition),mstrAppSchema.cubeId&&(0,E.dispatchAction)((0,_.populateLeftPanelWithWS)(v.workspaceManager.currentWorkspaceDefinition)))})):((0,w.openNotification)("Error: Error in establishing WebSocket connection",(0,d.default)(e.content)),console.log("received message: ",e.content))}function o(e){var t=e.jobInfo.jobStatus,i=e.requestId,n=(0,y.getStream)(i);if(n)switch(t){case"DONE":n.done.onNext(e),(0,y.deleteStream)(i);break;case"CANCELLED":case"ERROR":n.error.onNext(e),(0,y.deleteStream)(i)}}function s(){return g.pipelineManager.pipelineVisual.graph||(g.pipelineManager.pipelineVisual.graph=new p.default(g.pipelineManager.pipelineVisual.graphElement,null,null),g.pipelineManager.pipelineVisual.pegraph=new p.default(g.pipelineManager.pipelineVisual.pipelineGraphElement,null,null)),window.mstrAppSchema&&window.mstrAppSchema.workspaceId?(v.workspaceManager.initialWorkspaceId=window.mstrAppSchema.workspaceId,console.log("editing workspace id: "+v.workspaceManager.initialWorkspaceId),new u.default(r)):(0,h.initWorkspace)().then(function(e){e&&e.workspaceId?(v.workspaceManager.initialWorkspaceId=e.workspaceId,console.log("initial workspace id: "+v.workspaceManager.initialWorkspaceId),r(),(0,m.getFeatureFlags)().then(function(e){e&&e.status===x.SERVICE_RESPONSE.TYPE.IMMEDIATE&&e.featureFlags&&(v.workspaceManager.featureFlags={version:e.version,list:e.featureFlags},console.log("feature flags",v.workspaceManager.featureFlags))})):(0,w.openNotification)("Error: Error in Creating Workspace")})}Object.defineProperty(t,"__esModule",{value:!0});var l=i(155),u=n(l),c=i(53),d=n(c);t.initSocket=r,t.initWorkspaceAfterConnect=s;var h=i(133),f=i(96),p=n(f),g=i(85),v=i(20),m=i(383),b=i(374),y=i(576),w=i(154),x=i(87),E=i(29),_=i(52),A=x.SERVICE_RESPONSE.TYPE},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(132),a=n(r);t.default=function(){return function(e){return function(t){return"MOJO_SERVICE"===t.type&&a.default[t.method]&&a.default[t.method].apply(a.default,t.parameters),e(t)}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(16),a=i(2286),o=n(a),s=i(1332),l=i(1330),u=n(l);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[o.default,u.default],i=[],n=r.compose,a=(0,r.createStore)(s.rootReducer,e,n.apply(void 0,[r.applyMiddleware.apply(void 0,t)].concat(i)));return a.asyncReducers={},a}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=t.injectReducer=t.makeRootReducer=void 0;var r=i(7),a=n(r),o=i(16),s=i(1275),l=n(s),u=i(554),c=n(u),d=i(1276),h=n(d),f=i(1257),p=n(f),g=i(1092),v=n(g),m=i(1261),b=n(m),y=i(1237),w=n(y),x=i(1192),E=n(x),_=t.makeRootReducer=function(e){return(0,o.combineReducers)((0,a.default)({},e))};t.injectReducer=function(e,t){var i=t.key,n=t.reducer;Object.hasOwnProperty.call(e.asyncReducers,i)||(e.asyncReducers[i]=n,e.replaceReducer(_(e.asyncReducers)))},t.rootReducer=(0,o.combineReducers)({layout:l.default,datasourceConfig:c.default,uiComponentState:h.default,dmState:v.default,tablesPanel:p.default,dpState:b.default,joinPanelReducer:w.default,dataWrangler:E.default})},function(e,t,i){(function(e){"use strict";function t(e,t,i){e[t]||Object[n](e,t,{writable:!0,configurable:!0,value:i})}if(i(1638),i(1334),i(1376),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var n="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,function(){return this}())},function(e,t){(function(t){!function(t){"use strict";function i(e,t,i,n){var a=t&&t.prototype instanceof r?t:r,o=Object.create(a.prototype),s=new f(n||[]);return o._invoke=u(e,i,s),o}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function i(t,r,a,o){var s=n(e[t],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){i("next",e,a,o)},function(e){i("throw",e,a,o)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},o)}o(s.arg)}function r(e,t){function n(){return new Promise(function(n,r){i(e,t,n,r)})}return a=a?a.then(n,n):n()}"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i));var a;this._invoke=r}function u(e,t,i){var r=C;return function(a,o){if(r===T)throw new Error("Generator is already running");if(r===I){if("throw"===a)throw o;return g()}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=c(s,i);if(l){if(l===D)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===C)throw r=I,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=T;var u=n(e,t,i);if("normal"===u.type){if(r=i.done?I:S,u.arg===D)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=I,i.method="throw",i.arg=u.arg)}}}function c(e,t){var i=e.iterator[t.method];if(i===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return D;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var r=n(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,D;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,D):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,D)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(b.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:g}}function g(){return{value:v,done:!0}}var v,m=Object.prototype,b=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",E=y.toStringTag||"@@toStringTag",_="object"==typeof e,A=t.regeneratorRuntime;if(A)return void(_&&(e.exports=A));A=t.regeneratorRuntime=_?e.exports:{},A.wrap=i;var C="suspendedStart",S="suspendedYield",T="executing",I="completed",D={},O={};O[w]=function(){return this};var M=Object.getPrototypeOf,k=M&&M(M(p([])));k&&k!==m&&b.call(k,w)&&(O=k);var N=o.prototype=r.prototype=Object.create(O);a.prototype=N.constructor=o,o.constructor=a,o[E]=a.displayName="GeneratorFunction",A.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},A.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(N),e},A.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[x]=function(){return this},A.AsyncIterator=l,A.async=function(e,t,n,r){var a=new l(i(e,t,n,r));return A.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(N),N[E]="Generator",N[w]=function(){return this},N.toString=function(){return"[object Generator]"},A.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},A.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,i.next=t,n&&(i.method="next",i.arg=v),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=b.call(r,"catchLoc"),s=b.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,D):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),h(i),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;h(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:p(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=v),D}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},,function(e,t,i){e.exports={default:i(1381),__esModule:!0}},function(e,t,i){e.exports={default:i(1382),__esModule:!0}},function(e,t,i){e.exports={default:i(1391),__esModule:!0}},function(e,t,i){e.exports={default:i(1393),__esModule:!0}},function(e,t,i){e.exports={default:i(1395),__esModule:!0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){!function(e){e(i(190))}(function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var i=this;e.on("cursorActivity",this.activityFunc=function(){i.cursorActivity()})}function i(e,t,i){var n=e.options.hintOptions,r={};for(var a in p)r[a]=p[a];if(n)for(var a in n)void 0!==n[a]&&(r[a]=n[a]);if(i)for(var a in i)void 0!==i[a]&&(r[a]=i[a]);return r.hint.resolve&&(r.hint=r.hint.resolve(e,t)),r}function n(e){return"string"==typeof e?e:e.text}function r(e,t){function i(e,i){var r;r="string"!=typeof i?function(e){return i(e,t)}:n.hasOwnProperty(i)?n[i]:i,a[e]=r}var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=e.options.customKeys,a=r?{}:n;if(r)for(var o in r)r.hasOwnProperty(o)&&i(o,r[o]);var s=e.options.extraKeys;if(s)for(var o in s)s.hasOwnProperty(o)&&i(o,s[o]);return a}function a(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function o(t,i){this.completion=t,this.data=i,this.picked=!1;var o=this,s=t.cm,l=this.hints=document.createElement("ul");l.className="CodeMirror-hints",this.selectedHint=i.selectedHint||0;for(var u=i.list,h=0;h<u.length;++h){var f=l.appendChild(document.createElement("li")),p=u[h],g=c+(h!=this.selectedHint?"":" "+d);null!=p.className&&(g=p.className+" "+g),f.className=g,p.render?p.render(f,i,p):f.appendChild(document.createTextNode(p.displayText||n(p))),f.hintId=h}var v=s.cursorCoords(t.options.alignWithWord?i.from:null),m=v.left,b=v.bottom,y=!0;l.style.left=m+"px",l.style.top=b+"px";var w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),x=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(l);var E=l.getBoundingClientRect(),_=E.bottom-x,A=l.scrollHeight>l.clientHeight+1,C=s.getScrollInfo();if(_>0){var S=E.bottom-E.top,T=v.top-(v.bottom-E.top);if(T-S>0)l.style.top=(b=v.top-S)+"px",y=!1;else if(S>x){l.style.height=x-5+"px",l.style.top=(b=v.bottom-E.top)+"px";var I=s.getCursor();i.from.ch!=I.ch&&(v=s.cursorCoords(I),l.style.left=(m=v.left)+"px",E=l.getBoundingClientRect())}}var D=E.right-w;if(D>0&&(E.right-E.left>w&&(l.style.width=w-5+"px",D-=E.right-E.left-w),l.style.left=(m=v.left-D)+"px"),A)for(var O=l.firstChild;O;O=O.nextSibling)O.style.paddingRight=s.display.nativeBarWidth+"px";if(s.addKeyMap(this.keyMap=r(t,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:u.length,close:function(){t.close()},pick:function(){o.pick()},data:i})),t.options.closeOnUnfocus){var M;s.on("blur",this.onBlur=function(){M=setTimeout(function(){t.close()},100)}),s.on("focus",this.onFocus=function(){clearTimeout(M)})}return s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),i=s.getWrapperElement().getBoundingClientRect(),n=b+C.top-e.top,r=n-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return y||(r+=l.offsetHeight),r<=i.top||r>=i.bottom?t.close():(l.style.top=n+"px",void(l.style.left=m+C.left-e.left+"px"))}),e.on(l,"dblclick",function(e){var t=a(l,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())}),e.on(l,"click",function(e){var i=a(l,e.target||e.srcElement);i&&null!=i.hintId&&(o.changeActive(i.hintId),t.options.completeOnSingleClick&&o.pick())}),e.on(l,"mousedown",function(){setTimeout(function(){s.focus()},20)}),e.signal(i,"select",u[this.selectedHint],l.childNodes[this.selectedHint]),!0}function s(e,t){if(!e.somethingSelected())return t;for(var i=[],n=0;n<t.length;n++)t[n].supportsSelection&&i.push(t[n]);return i}function l(e,t,i,n){if(e.async)e(t,n,i);else{var r=e(t,i);r&&r.then?r.then(n):n(r)}}function u(t,i){var n,r=t.getHelpers(i,"hint");if(r.length){var a=function(e,t,i){function n(r){return r==a.length?t(null):void l(a[r],e,i,function(e){e&&e.list.length>0?t(e):n(r+1)})}var a=s(e,r);n(0)};return a.async=!0,a.supportsSelection=!0,a}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:n})}:e.hint.anyword?function(t,i){return e.hint.anyword(t,i)}:function(){}}var c="CodeMirror-hint",d="CodeMirror-hint-active";e.showHint=function(e,t,i){if(!t)return e.showHint(i);i&&i.async&&(t.async=!0);var n={hint:t};if(i)for(var r in i)n[r]=i[r];return e.showHint(n)},e.defineExtension("showHint",function(n){n=i(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var a=0;a<r.length;a++)if(r[a].head.line!=r[a].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}});var h=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},f=window.cancelAnimationFrame||clearTimeout;t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,i){var r=t.list[i];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(n(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(f(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||e.ch&&this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var i=this;this.debounce=h(function(){i.update()}),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,i=++this.tick;l(this.options.hint,this.cm,this.options,function(n){t.tick==i&&t.finishUpdate(n,e)})}},finishUpdate:function(t,i){this.data&&e.signal(this.data,"update");var n=this.widget&&this.widget.picked||i&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(n&&1==t.list.length?this.pick(t,0):(this.widget=new o(this,t),e.signal(t,"shown")))}},o.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,i){if(t>=this.data.list.length?t=i?this.data.list.length-1:0:t<0&&(t=i?0:this.data.list.length-1),this.selectedHint!=t){var n=this.hints.childNodes[this.selectedHint];n.className=n.className.replace(" "+d,""),n=this.hints.childNodes[this.selectedHint=t],n.className+=" "+d,n.offsetTop<this.hints.scrollTop?this.hints.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],n)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:u}),e.registerHelper("hint","fromList",function(t,i){var n=t.getCursor(),r=t.getTokenAt(n),a=e.Pos(n.line,r.end);if(r.string&&/\w/.test(r.string[r.string.length-1]))var o=r.string,s=e.Pos(n.line,r.start);else var o="",s=a;for(var l=[],u=0;u<i.words.length;u++){var c=i.words[u];c.slice(0,o.length)==o&&l.push(c)}if(l.length)return{list:l,from:s,to:a}}),e.commands.autocomplete=e.showHint;var p={hint:e.hint.auto,completeSingle:!0,
alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)})},function(e,t,i){!function(e){e(i(190))}(function(e){"use strict";function t(t,i,n){function r(t){var i=e.wheelEventPixels(t)["horizontal"==a.orientation?"x":"y"],n=a.pos;a.moveTo(a.pos+i),a.pos!=n&&e.e_preventDefault(t)}this.orientation=i,this.scroll=n,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+i,this.inner=this.node.appendChild(document.createElement("div"));var a=this;e.on(this.inner,"mousedown",function(t){function i(){e.off(document,"mousemove",n),e.off(document,"mouseup",i)}function n(e){return 1!=e.which?i():void a.moveTo(s+(e[r]-o)*(a.total/a.size))}if(1==t.which){e.e_preventDefault(t);var r="horizontal"==a.orientation?"pageX":"pageY",o=t[r],s=a.pos;e.on(document,"mousemove",n),e.on(document,"mouseup",i)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var i,n=a.inner.getBoundingClientRect();i="horizontal"==a.orientation?t.clientX<n.left?-1:t.clientX>n.right?1:0:t.clientY<n.top?-1:t.clientY>n.bottom?1:0,a.moveTo(a.pos+i*a.screen)}),e.on(this.node,"mousewheel",r),e.on(this.node,"DOMMouseScroll",r)}function i(e,i,n){this.addClass=e,this.horiz=new t(e,"horizontal",n),i(this.horiz.node),this.vert=new t(e,"vertical",n),i(this.vert.node),this.width=null}t.prototype.setPos=function(e,t){return e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),!(!t&&e==this.pos)&&(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!0)},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var n=10;t.prototype.update=function(e,t,i){var r=this.screen!=t||this.total!=e||this.size!=i;r&&(this.screen=t,this.total=e,this.size=i);var a=this.screen*(this.size/this.total);a<n&&(this.size-=n-a,a=n),this.inner.style["horizontal"==this.orientation?"width":"height"]=a+"px",this.setPos(this.pos,r)},i.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var i=this.width||0,n=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=r?"block":"none",this.horiz.node.style.display=n?"block":"none",r&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(n?i:0)),this.vert.node.style.bottom=n?i+"px":"0"),n&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(r?i:0)-e.barLeft),this.horiz.node.style.right=r?i+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:r?i:0,bottom:n?i:0}},i.prototype.setScrollTop=function(e){this.vert.setPos(e)},i.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},i.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new i("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new i("CodeMirror-overlayscroll",e,t)}})},function(e,t,i){!function(e){e(i(190))}(function(e){"use strict";function t(e){e.state.markedSelection&&e.operation(function(){o(e)})}function i(e){e.state.markedSelection&&e.state.markedSelection.length&&e.operation(function(){r(e)})}function n(e,t,i,n){if(0!=u(t,i))for(var r=e.state.markedSelection,a=e.state.markedSelectionStyle,o=t.line;;){var c=o==t.line?t:l(o,0),d=o+s,h=d>=i.line,f=h?i:l(d,0),p=e.markText(c,f,{className:a});if(null==n?r.push(p):r.splice(n++,0,p),h)break;o=d}}function r(e){for(var t=e.state.markedSelection,i=0;i<t.length;++i)t[i].clear();t.length=0}function a(e){r(e);for(var t=e.listSelections(),i=0;i<t.length;i++)n(e,t[i].from(),t[i].to())}function o(e){if(!e.somethingSelected())return r(e);if(e.listSelections().length>1)return a(e);var t=e.getCursor("start"),i=e.getCursor("end"),o=e.state.markedSelection;if(!o.length)return n(e,t,i);var l=o[0].find(),c=o[o.length-1].find();if(!l||!c||i.line-t.line<=s||u(t,c.to)>=0||u(i,l.from)<=0)return a(e);for(;u(t,l.from)>0;)o.shift().clear(),l=o[0].find();for(u(t,l.from)<0&&(l.to.line-t.line<s?(o.shift().clear(),n(e,t,l.to,0)):n(e,t,l.from,0));u(i,c.to)<0;)o.pop().clear(),c=o[o.length-1].find();u(i,c.to)>0&&(i.line-c.from.line<s?(o.pop().clear(),n(e,c.from,i)):n(e,c.to,i))}e.defineOption("styleSelectedText",!1,function(n,o,s){var l=s&&s!=e.Init;o&&!l?(n.state.markedSelection=[],n.state.markedSelectionStyle="string"==typeof o?o:"CodeMirror-selectedtext",a(n),n.on("cursorActivity",t),n.on("change",i)):!o&&l&&(n.off("cursorActivity",t),n.off("change",i),r(n),n.state.markedSelection=n.state.markedSelectionStyle=null)});var s=8,l=e.Pos,u=e.cmpPos})},function(e,t,i){i(1446),e.exports=i(100).RegExp.escape},,,,function(e,t,i){var n=i(31),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,i){i(1421),e.exports=i(31).Math.log10},function(e,t,i){i(1422),e.exports=9007199254740991},,,function(e,t,i){i(1425);var n=i(31).Object;e.exports=function(e,t){return n.defineProperties(e,t)}},,function(e,t,i){i(1427);var n=i(31).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,i){i(1428);var n=i(31).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},function(e,t,i){i(608),e.exports=i(31).Object.getOwnPropertySymbols},function(e,t,i){i(1429),e.exports=i(31).Object.getPrototypeOf},function(e,t,i){i(1430),e.exports=i(31).Object.isExtensible},function(e,t,i){i(1431),e.exports=i(31).Object.keys},function(e,t,i){i(1432),e.exports=i(31).Object.preventExtensions},,function(e,t,i){i(1435),e.exports=i(31).Object.values},function(e,t,i){i(607),i(232),i(287),i(1434),i(1436),i(1437),e.exports=i(31).Promise},,,,158,,,,[2327,191,593,592,97,398,402],619,,,,[2339,68,606,228],,[2352,194,135,229],function(e,t,i){var n=i(157);e.exports=function(e,t,i){for(var r in t)i&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},,function(e,t,i){"use strict";var n=i(68),r=i(31),a=i(119),o=i(118),s=i(61)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];o&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},,,,,,,[2372,56],[2373,56],,,[2376,56,118,597],,[2378,135,393,195],[2379,195,598],[2380,231,600,195],[2381,98,195],[2382,231,194,195],[2383,98,596,195],,[2385,284,68,191,387,56,98,283,1400,1404,605,606,1409,391,602,603,61,1412,285,1414,31,595],[2388,56,1411],[2389,56,31,68,605,603],[2390,56,391,602],,,function(e,t,i){var n=i(25),r=i(292),a=i(36)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,i){"use strict";var n=i(24),r=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!n(function(){a.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:a},function(e,t,i){"use strict";var n=i(17),r=i(104),a="number";e.exports=function(e){if("string"!==e&&e!==a&&"default"!==e)throw TypeError("Incorrect hint");return r(n(this),e!=a)}},[2326,163,296,235],function(e,t){e.exports=function(e,t){var i=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,i)}}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},function(e,t,i){var n=i(11),r=i(1444)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return r(e)}})},function(e,t,i){var n=i(11);n(n.P,"Array",{copyWithin:i(610)}),i(136)("copyWithin")},function(e,t,i){"use strict";var n=i(11),r=i(99)(4);n(n.P+n.F*!i(90)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,i){var n=i(11);n(n.P,"Array",{fill:i(403)}),i(136)("fill")},function(e,t,i){"use strict";var n=i(11),r=i(99)(2);n(n.P+n.F*!i(90)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(11),r=i(99)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(136)(a)},function(e,t,i){"use strict";var n=i(11),r=i(99)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(136)(a)},function(e,t,i){"use strict";var n=i(11),r=i(99)(0),a=i(90)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},[2370,89,11,49,621,411,43,405,428,294],function(e,t,i){"use strict";var n=i(11),r=i(288)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(90)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,i){var n=i(11);n(n.S,"Array",{isArray:i(292)})},function(e,t,i){"use strict";var n=i(11),r=i(79),a=[].join;n(n.P+n.F*(i(234)!=Object||!i(90)(a)),"Array",{join:function(e){return a.call(r(this),void 0===e?",":e)}})},function(e,t,i){"use strict";var n=i(11),r=i(79),a=i(103),o=i(43),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(90)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),i=o(t.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,i){"use strict";var n=i(11),r=i(99)(1);n(n.P+n.F*!i(90)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(11),r=i(405);n(n.S+n.F*i(24)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)r(i,e,arguments[e++]);return i.length=t,i}})},function(e,t,i){"use strict";var n=i(11),r=i(612);n(n.P+n.F*!i(90)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,i){"use strict";var n=i(11),r=i(612);n(n.P+n.F*!i(90)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,i){"use strict";var n=i(11),r=i(409),a=i(88),o=i(167),s=i(43),l=[].slice;n(n.P+n.F*i(24)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var i=s(this.length),n=a(this);if(t=void 0===t?i:t,"Array"==n)return l.call(this,e,t);for(var r=o(e,i),u=o(t,i),c=s(u-r),d=new Array(c),h=0;h<c;h++)d[h]="String"==n?this.charAt(r+h):this[r+h];return d}})},function(e,t,i){"use strict";var n=i(11),r=i(99)(3);n(n.P+n.F*!i(90)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,i){"use strict";var n=i(11),r=i(57),a=i(49),o=i(24),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!i(90)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),r(e))}})},function(e,t,i){i(166)("Array")},function(e,t,i){var n=i(11);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){var n=i(11),r=i(1441);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,i){"use strict";var n=i(11),r=i(49),a=i(104);n(n.P+n.F*i(24)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),i=a(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},function(e,t,i){var n=i(36)("toPrimitive"),r=Date.prototype;n in r||i(70)(r,n,i(1442))},function(e,t,i){var n=Date.prototype,r="Invalid Date",a="toString",o=n[a],s=n.getTime;new Date(NaN)+""!=r&&i(71)(n,a,function(){var e=s.call(this);return e===e?o.call(this):r})},function(e,t,i){var n=i(11);n(n.P,"Function",{bind:i(613)})},function(e,t,i){"use strict";var n=i(25),r=i(78),a=i(36)("hasInstance"),o=Function.prototype;a in o||i(42).f(o,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,i){var n=i(42).f,r=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in r||i(41)&&n(r,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,i){var n=i(11),r=i(624),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+a(e-1)*a(e+1))}})},function(e,t,i){function n(e){return isFinite(e=+e)&&0!=e?e<0?-n(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=i(11),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:n})},function(e,t,i){var n=i(11),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,i){var n=i(11),r=i(415);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,i){var n=i(11);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,i){var n=i(11),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,i){var n=i(11),r=i(414);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,i){var n=i(11);n(n.S,"Math",{fround:i(623)})},function(e,t,i){var n=i(11),r=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,a=0,o=0,s=arguments.length,l=0;o<s;)i=r(arguments[o++]),l<i?(n=l/i,a=a*n*n+1,l=i):i>0?(n=i/l,a+=n*n):a+=i;return l===1/0?1/0:l*Math.sqrt(a)}})},function(e,t,i){var n=i(11),r=Math.imul;n(n.S+n.F*i(24)(function(){return r(4294967295,5)!=-5||2!=r.length}),"Math",{imul:function(e,t){var i=65535,n=+e,r=+t,a=i&n,o=i&r;return 0|a*o+((i&n>>>16)*o+a*(i&r>>>16)<<16>>>0)}})},[2372,11],function(e,t,i){var n=i(11);n(n.S,"Math",{log1p:i(624)})},function(e,t,i){var n=i(11);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){var n=i(11);n(n.S,"Math",{sign:i(415)})},function(e,t,i){var n=i(11),r=i(414),a=Math.exp;n(n.S+n.F*i(24)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,i){var n=i(11),r=i(414),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),i=r(-e);return t==1/0?1:i==1/0?-1:(t-i)/(a(e)+a(-e))}})},function(e,t,i){var n=i(11);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,i){"use strict";var n=i(19),r=i(69),a=i(88),o=i(410),s=i(104),l=i(24),u=i(162).f,c=i(77).f,d=i(42).f,h=i(198).trim,f="Number",p=n[f],g=p,v=p.prototype,m=a(i(161)(v))==f,b="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():h(t,3);var i,n,r,a=t.charCodeAt(0);if(43===a||45===a){if(i=t.charCodeAt(2),88===i||120===i)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if(o=l.charCodeAt(u),o<48||o>r)return NaN;return parseInt(l,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof p&&(m?l(function(){v.valueOf.call(i)}):a(i)!=f)?o(new g(y(t)),i,p):y(t)};for(var w,x=i(41)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)r(g,w=x[E])&&!r(p,w)&&d(p,w,c(g,w));p.prototype=v,v.constructor=p,i(71)(n,f,p)}},function(e,t,i){var n=i(11);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,i){var n=i(11),r=i(19).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,i){var n=i(11);n(n.S,"Number",{isInteger:i(620)})},function(e,t,i){var n=i(11);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){var n=i(11),r=i(620),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&a(e)<=9007199254740991}})},[2373,11],function(e,t,i){var n=i(11);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,i){var n=i(11),r=i(632);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,i){var n=i(11),r=i(633);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,i){"use strict";var n=i(11),r=i(103),a=i(609),o=i(422),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",d="0",h=function(e,t){for(var i=-1,n=t;++i<6;)n+=e*u[i],u[i]=n%1e7,n=l(n/1e7)},f=function(e){for(var t=6,i=0;--t>=0;)i+=u[t],u[t]=l(i/e),i=i%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var i=String(u[e]);t=""===t?i:t+o.call(d,7-i.length)+i}return t},g=function(e,t,i){return 0===t?i:t%2===1?g(e,t-1,i*e):g(e*e,t/2,i)},v=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(24)(function(){s.call({})})),"Number",{toFixed:function(e){var t,i,n,s,l=a(this,c),u=r(e),m="",b=d;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=v(l*g(2,69,1))-69,i=t<0?l*g(2,-t,1):l/g(2,t,1),i*=4503599627370496,t=52-t,t>0){for(h(0,i),n=u;n>=7;)h(1e7,0),n-=7;for(h(g(10,n,1),0),n=t-1;n>=23;)f(1<<23),n-=23;f(1<<n),h(1,1),f(2),b=p()}else h(0,i),h(1<<-t,0),b=p()+o.call(d,u);return u>0?(s=b.length,b=m+(s<=u?"0."+o.call(d,u-s)+b:b.slice(0,s-u)+"."+b.slice(s-u))):b=m+b,b}})},function(e,t,i){"use strict";var n=i(11),r=i(24),a=i(609),o=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},[2374,11,626],[2375,11,161],[2376,11,41,627],[2377,11,41,42],function(e,t,i){var n=i(25),r=i(137).onFreeze;i(102)("freeze",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},[2378,79,77,102],[2379,102,628],[2380,49,78,102],[2381,25,102],function(e,t,i){var n=i(25);i(102)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(25);i(102)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,i){var n=i(11);n(n.S,"Object",{is:i(1445)})},[2382,49,163,102],[2383,25,137,102],function(e,t,i){var n=i(25),r=i(137).onFreeze;i(102)("seal",function(e){return function(t){return e&&n(t)?e(r(t)):t}})},[2384,11,418],function(e,t,i){"use strict";var n=i(233),r={};r[i(36)("toStringTag")]="z",r+""!="[object z]"&&i(71)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,i){var n=i(11),r=i(632);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(e,t,i){var n=i(11),r=i(633);n(n.G+n.F*(parseInt!=r),{parseInt:r})},[2385,160,19,89,233,11,25,57,158,159,300,424,416,417,634,635,36,165,197,166,100,294],function(e,t,i){var n=i(11),r=i(57),a=i(17),o=(i(19).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(24)(function(){o(function(){})}),"Reflect",{apply:function(e,t,i){var n=r(e),l=a(i);return o?o(n,t,l):s.call(n,t,l)}})},function(e,t,i){var n=i(11),r=i(161),a=i(57),o=i(17),s=i(25),l=i(24),u=i(613),c=(i(19).Reflect||{}).construct,d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),h=!l(function(){c(function(){})});n(n.S+n.F*(d||h),"Reflect",{construct:function(e,t){a(e),o(t);var i=arguments.length<3?e:a(arguments[2]);if(h&&!d)return c(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var l=i.prototype,f=r(s(l)?l:Object.prototype),p=Function.apply.call(e,f,t);return s(p)?p:f}})},function(e,t,i){var n=i(42),r=i(11),a=i(17),o=i(104);r(r.S+r.F*i(24)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){a(e),t=o(t,!0),a(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},function(e,t,i){var n=i(11),r=i(77).f,a=i(17);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=r(a(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,t,i){"use strict";var n=i(11),r=i(17),a=function(e){this._t=r(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)};i(412)(a,"Object",function(){var e,t=this,i=t._k;do if(t._i>=i.length)return{value:void 0,done:!0};while(!((e=i[t._i++])in t._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,i){var n=i(77),r=i(11),a=i(17);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},function(e,t,i){var n=i(11),r=i(78),a=i(17);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(a(e))}})},function(e,t,i){function n(e,t){var i,s,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(i=r.f(e,t))?o(i,"value")?i.value:void 0!==i.get?i.get.call(c):void 0:l(s=a(e))?n(s,t,c):void 0}var r=i(77),a=i(78),o=i(69),s=i(11),l=i(25),u=i(17);s(s.S,"Reflect",{get:n})},function(e,t,i){var n=i(11);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,i){var n=i(11),r=i(17),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!a||a(e)}})},function(e,t,i){var n=i(11);n(n.S,"Reflect",{ownKeys:i(631)})},function(e,t,i){var n=i(11),r=i(17),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,i){var n=i(11),r=i(418);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,i){function n(e,t,i){var l,h,f=arguments.length<4?e:arguments[3],p=a.f(c(e),t);if(!p){if(d(h=o(e)))return n(h,t,i,f);p=u(0)}return s(p,"value")?!(p.writable===!1||!d(f))&&(l=a.f(f,t)||u(0),l.value=i,r.f(f,t,l),!0):void 0!==p.set&&(p.set.call(f,i),!0)}var r=i(42),a=i(77),o=i(78),s=i(69),l=i(11),u=i(164),c=i(17),d=i(25);l(l.S,"Reflect",{set:n})},function(e,t,i){var n=i(19),r=i(410),a=i(42).f,o=i(162).f,s=i(293),l=i(291),u=n.RegExp,c=u,d=u.prototype,h=/a/g,f=/a/g,p=new u(h)!==h;if(i(41)&&(!p||i(24)(function(){return f[i(36)("match")]=!1,u(h)!=h||u(f)==f||"/a/i"!=u(h,"i")}))){u=function(e,t){var i=this instanceof u,n=s(e),a=void 0===t;return!i&&n&&e.constructor===u&&a?e:r(p?new c(n&&!a?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&a?l.call(e):t),i?this:d,u)};for(var g=(function(e){e in u||a(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}),v=o(c),m=0;v.length>m;)g(v[m++]);d.constructor=u,u.prototype=d,i(71)(n,"RegExp",u)}i(166)("RegExp")},function(e,t,i){i(290)("match",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,t,i){i(290)("replace",2,function(e,t,i){return[function(n,r){"use strict";var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,r):i.call(String(a),n,r)},i]})},function(e,t,i){i(290)("search",1,function(e,t,i){return[function(i){"use strict";var n=e(this),r=void 0==i?void 0:i[t];return void 0!==r?r.call(i,n):new RegExp(i)[t](String(n))},i]})},function(e,t,i){i(290)("split",2,function(e,t,n){"use strict";var r=i(293),a=n,o=[].push,s="split",l="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[l]||2!="ab"[s](/(?:ab)*/)[l]||4!="."[s](/(.?)(.?)/)[l]||"."[s](/()()/)[l]>1||""[s](/.?/)[l]){var c=void 0===/()??/.exec("")[1];n=function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return a.call(i,e,t);var n,s,d,h,f,p=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,m=void 0===t?4294967295:t>>>0,b=new RegExp(e.source,g+"g");for(c||(n=new RegExp("^"+b.source+"$(?!\\s)",g));(s=b.exec(i))&&(d=s.index+s[0][l],!(d>v&&(p.push(i.slice(v,s.index)),!c&&s[l]>1&&s[0].replace(n,function(){for(f=1;f<arguments[l]-2;f++)void 0===arguments[f]&&(s[f]=void 0)}),s[l]>1&&s.index<i[l]&&o.apply(p,s.slice(1)),h=s[0][l],v=d,p[l]>=m)));)b[u]===s.index&&b[u]++;return v===i[l]?!h&&b.test("")||p.push(""):p.push(i.slice(v)),p[l]>m?p.slice(0,m):p}}else"0"[s](void 0,0)[l]&&(n=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)});return[function(i,r){var a=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,a,r):n.call(String(a),i,r)},n]})},function(e,t,i){"use strict";i(640);var n=i(17),r=i(291),a=i(41),o="toString",s=/./[o],l=function(e){i(71)(RegExp.prototype,o,e,!0)};i(24)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?l(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)}):s.name!=o&&l(function(){return s.call(this)})},function(e,t,i){"use strict";i(72)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,i){"use strict";i(72)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,i){"use strict";i(72)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,i){"use strict";i(72)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,i){"use strict";var n=i(11),r=i(420)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,i){"use strict";var n=i(11),r=i(43),a=i(421),o="endsWith",s=""[o];n(n.P+n.F*i(408)(o),"String",{endsWith:function(e){var t=a(this,e,o),i=arguments.length>1?arguments[1]:void 0,n=r(t.length),l=void 0===i?n:Math.min(r(i),n),u=String(e);return s?s.call(t,u,l):t.slice(l-u.length,l)===u}})},function(e,t,i){"use strict";i(72)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,i){"use strict";i(72)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,i){"use strict";i(72)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,i){var n=i(11),r=i(167),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?a(t):a(((t-=65536)>>10)+55296,t%1024+56320))}return i.join("")}})},function(e,t,i){"use strict";var n=i(11),r=i(421),a="includes";n(n.P+n.F*i(408)(a),"String",{includes:function(e){return!!~r(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,i){"use strict";i(72)("italics",function(e){return function(){return e(this,"i","","")}})},[2386,420,413],function(e,t,i){"use strict";i(72)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,i){var n=i(11),r=i(79),a=i(43);n(n.S,"String",{raw:function(e){for(var t=r(e.raw),i=a(t.length),n=arguments.length,o=[],s=0;i>s;)o.push(String(t[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,i){var n=i(11);n(n.P,"String",{repeat:i(422)})},function(e,t,i){"use strict";i(72)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,i){"use strict";var n=i(11),r=i(43),a=i(421),o="startsWith",s=""[o];n(n.P+n.F*i(408)(o),"String",{startsWith:function(e){var t=a(this,e,o),i=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,i):t.slice(i,i+n.length)===n}})},function(e,t,i){"use strict";i(72)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,i){"use strict";i(72)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,i){"use strict";i(72)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,i){"use strict";i(198)("trim",function(e){return function(){return e(this,3)}})},[2387,19,69,41,11,71,137,24,299,197,168,36,638,427,1443,292,17,25,79,104,164,161,628,77,42,163,162,235,296,160,70],function(e,t,i){"use strict";var n=i(11),r=i(301),a=i(425),o=i(17),s=i(167),l=i(43),u=i(25),c=i(19).ArrayBuffer,d=i(300),h=a.ArrayBuffer,f=a.DataView,p=r.ABV&&c.isView,g=h.prototype.slice,v=r.VIEW,m="ArrayBuffer";n(n.G+n.W+n.F*(c!==h),{ArrayBuffer:h}),n(n.S+n.F*!r.CONSTR,m,{isView:function(e){return p&&p(e)||u(e)&&v in e}}),n(n.P+n.U+n.F*i(24)(function(){return!new h(2).slice(1,void 0).byteLength}),m,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(o(this),e);for(var i=o(this).byteLength,n=s(e,i),r=s(void 0===t?i:t,i),a=new(d(this,h))(l(r-n)),u=new f(this),c=new f(a),p=0;n<r;)c.setUint8(p++,u.getUint8(n++));return a}}),i(166)(m)},function(e,t,i){var n=i(11);n(n.G+n.W+n.F*!i(301).ABV,{DataView:i(425).DataView})},function(e,t,i){i(121)("Float32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Float64",8,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Int16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Int32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Int8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Uint16",2,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Uint32",4,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}})},function(e,t,i){i(121)("Uint8",1,function(e){return function(t,i,n){return e(this,t,i,n)}},!0)},function(e,t,i){"use strict";var n=i(616),r=i(199),a="WeakSet";i(289)(a,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(r(this,a),e,!0)}},n,!1,!0)},function(e,t,i){"use strict";var n=i(11),r=i(617),a=i(49),o=i(43),s=i(57),l=i(404);n(n.P,"Array",{flatMap:function(e){var t,i,n=a(this);return s(e),t=o(n.length),i=l(n,0),r(i,n,n,t,0,1,e,arguments[1]),i}}),i(136)("flatMap")},function(e,t,i){"use strict";var n=i(11),r=i(617),a=i(49),o=i(43),s=i(103),l=i(404);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=a(this),i=o(t.length),n=l(t,0);return r(n,t,t,i,0,void 0===e?1:s(e)),n}}),i(136)("flatten")},function(e,t,i){"use strict";var n=i(11),r=i(288)(!0);n(n.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(136)("includes")},function(e,t,i){var n=i(11),r=i(416)(),a=i(19).process,o="process"==i(88)(a);n(n.G,{asap:function(e){var t=o&&a.domain;r(t?t.bind(e):e)}})},function(e,t,i){var n=i(11),r=i(88);n(n.S,"Error",{isError:function(e){return"Error"===r(e)}})},function(e,t,i){var n=i(11);n(n.G,{global:i(19)})},function(e,t,i){i(297)("Map")},function(e,t,i){i(298)("Map")},function(e,t,i){var n=i(11);n(n.P+n.R,"Map",{toJSON:i(615)("Map")})},function(e,t,i){var n=i(11);n(n.S,"Math",{clamp:function(e,t,i){return Math.min(i,Math.max(t,e))}})},function(e,t,i){var n=i(11);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,i){var n=i(11),r=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*r}})},function(e,t,i){var n=i(11),r=i(625),a=i(623);n(n.S,"Math",{fscale:function(e,t,i,n,o){return a(r(e,t,i,n,o))}})},function(e,t,i){var n=i(11);n(n.S,"Math",{iaddh:function(e,t,i,n){var r=e>>>0,a=t>>>0,o=i>>>0;return a+(n>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(e,t,i){var n=i(11);n(n.S,"Math",{imulh:function(e,t){var i=65535,n=+e,r=+t,a=n&i,o=r&i,s=n>>16,l=r>>16,u=(s*o>>>0)+(a*o>>>16);return s*l+(u>>16)+((a*l>>>0)+(u&i)>>16)}})},function(e,t,i){var n=i(11);n(n.S,"Math",{isubh:function(e,t,i,n){var r=e>>>0,a=t>>>0,o=i>>>0;return a-(n>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(e,t,i){var n=i(11);n(n.S,"Math",{
RAD_PER_DEG:180/Math.PI})},function(e,t,i){var n=i(11),r=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*r}})},function(e,t,i){var n=i(11);n(n.S,"Math",{scale:i(625)})},function(e,t,i){var n=i(11);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,i){var n=i(11);n(n.S,"Math",{umulh:function(e,t){var i=65535,n=+e,r=+t,a=n&i,o=r&i,s=n>>>16,l=r>>>16,u=(s*o>>>0)+(a*o>>>16);return s*l+(u>>>16)+((a*l>>>0)+(u&i)>>>16)}})},function(e,t,i){"use strict";var n=i(11),r=i(49),a=i(57),o=i(42);i(41)&&n(n.P+i(295),"Object",{__defineGetter__:function(e,t){o.f(r(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,i){"use strict";var n=i(11),r=i(49),a=i(57),o=i(42);i(41)&&n(n.P+i(295),"Object",{__defineSetter__:function(e,t){o.f(r(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,i){var n=i(11),r=i(630)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,t,i){var n=i(11),r=i(631),a=i(79),o=i(77),s=i(405);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=a(e),l=o.f,u=r(n),c={},d=0;u.length>d;)i=l(n,t=u[d++]),void 0!==i&&s(c,t,i);return c}})},function(e,t,i){"use strict";var n=i(11),r=i(49),a=i(104),o=i(78),s=i(77).f;i(41)&&n(n.P+i(295),"Object",{__lookupGetter__:function(e){var t,i=r(this),n=a(e,!0);do if(t=s(i,n))return t.get;while(i=o(i))}})},function(e,t,i){"use strict";var n=i(11),r=i(49),a=i(104),o=i(78),s=i(77).f;i(41)&&n(n.P+i(295),"Object",{__lookupSetter__:function(e){var t,i=r(this),n=a(e,!0);do if(t=s(i,n))return t.set;while(i=o(i))}})},[2388,11,630],function(e,t,i){"use strict";var n=i(11),r=i(19),a=i(100),o=i(416)(),s=i(36)("observable"),l=i(57),u=i(17),c=i(158),d=i(165),h=i(70),f=i(159),p=f.RETURN,g=function(e){return null==e?void 0:l(e)},v=function(e){var t=e._c;t&&(e._c=void 0,t())},m=function(e){return void 0===e._o},b=function(e){m(e)||(e._o=void 0,v(e))},y=function(e,t){u(e),this._c=void 0,this._o=e,e=new w(this);try{var i=t(e),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:l(i),this._c=i)}catch(t){return void e.error(t)}m(this)&&v(this)};y.prototype=d({},{unsubscribe:function(){b(this)}});var w=function(e){this._s=e};w.prototype=d({},{next:function(e){var t=this._s;if(!m(t)){var i=t._o;try{var n=g(i.next);if(n)return n.call(i,e)}catch(e){try{b(t)}finally{throw e}}}},error:function(e){var t=this._s;if(m(t))throw e;var i=t._o;t._o=void 0;try{var n=g(i.error);if(!n)throw e;e=n.call(i,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!m(t)){var i=t._o;t._o=void 0;try{var n=g(i.complete);e=n?n.call(i,e):void 0}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var x=function(e){c(this,x,"Observable","_f")._f=l(e)};d(x.prototype,{subscribe:function(e){return new y(e,this._f)},forEach:function(e){var t=this;return new(a.Promise||r.Promise)(function(i,n){l(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:i})})}}),d(x,{from:function(e){var t="function"==typeof this?this:x,i=g(u(e)[s]);if(i){var n=u(i.call(e));return n.constructor===t?n:new t(function(e){return n.subscribe(e)})}return new t(function(t){var i=!1;return o(function(){if(!i){try{if(f(e,!1,function(e){if(t.next(e),i)return p})===p)return}catch(e){if(i)throw e;return void t.error(e)}t.complete()}}),function(){i=!0}})},of:function(){for(var e=0,t=arguments.length,i=new Array(t);e<t;)i[e]=arguments[e++];return new("function"==typeof this?this:x)(function(e){var t=!1;return o(function(){if(!t){for(var n=0;n<i.length;++n)if(e.next(i[n]),t)return;e.complete()}}),function(){t=!0}})}}),h(x.prototype,s,function(){return this}),n(n.G,{Observable:x}),i(166)("Observable")},[2389,11,100,19,300,635],[2390,11,417,634],function(e,t,i){var n=i(120),r=i(17),a=n.key,o=n.set;n.exp({defineMetadata:function(e,t,i,n){o(e,t,r(i),a(n))}})},function(e,t,i){var n=i(120),r=i(17),a=n.key,o=n.map,s=n.store;n.exp({deleteMetadata:function(e,t){var i=arguments.length<3?void 0:a(arguments[2]),n=o(r(t),i,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var l=s.get(t);return l.delete(i),!!l.size||s.delete(t)}})},function(e,t,i){var n=i(641),r=i(611),a=i(120),o=i(17),s=i(78),l=a.keys,u=a.key,c=function(e,t){var i=l(e,t),a=s(e);if(null===a)return i;var o=c(a,t);return o.length?i.length?r(new n(i.concat(o))):o:i};a.exp({getMetadataKeys:function(e){return c(o(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,i){var n=i(120),r=i(17),a=i(78),o=n.has,s=n.get,l=n.key,u=function(e,t,i){var n=o(e,t,i);if(n)return s(e,t,i);var r=a(t);return null!==r?u(e,r,i):void 0};n.exp({getMetadata:function(e,t){return u(e,r(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,i){var n=i(120),r=i(17),a=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(e){return a(r(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,i){var n=i(120),r=i(17),a=n.get,o=n.key;n.exp({getOwnMetadata:function(e,t){return a(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,i){var n=i(120),r=i(17),a=i(78),o=n.has,s=n.key,l=function(e,t,i){var n=o(e,t,i);if(n)return!0;var r=a(t);return null!==r&&l(e,r,i)};n.exp({hasMetadata:function(e,t){return l(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,i){var n=i(120),r=i(17),a=n.has,o=n.key;n.exp({hasOwnMetadata:function(e,t){return a(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,i){var n=i(120),r=i(17),a=i(57),o=n.key,s=n.set;n.exp({metadata:function(e,t){return function(i,n){s(e,t,(void 0!==n?r:a)(i),o(n))}}})},function(e,t,i){i(297)("Set")},function(e,t,i){i(298)("Set")},function(e,t,i){var n=i(11);n(n.P+n.R,"Set",{toJSON:i(615)("Set")})},function(e,t,i){"use strict";var n=i(11),r=i(420)(!0);n(n.P,"String",{at:function(e){return r(this,e)}})},function(e,t,i){"use strict";var n=i(11),r=i(101),a=i(43),o=i(293),s=i(291),l=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};i(412)(u,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),n(n.P,"String",{matchAll:function(e){if(r(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),i="flags"in l?String(e.flags):s.call(e),n=new RegExp(e.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=a(e.lastIndex),new u(n,t)}})},function(e,t,i){"use strict";var n=i(11),r=i(636),a=i(426);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,i){"use strict";var n=i(11),r=i(636),a=i(426);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,i){"use strict";i(198)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,i){"use strict";i(198)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},[2391,427],[2392,427],function(e,t,i){var n=i(11);n(n.S,"System",{global:i(19)})},function(e,t,i){i(297)("WeakMap")},function(e,t,i){i(298)("WeakMap")},function(e,t,i){i(297)("WeakSet")},function(e,t,i){i(298)("WeakSet")},function(e,t,i){for(var n=i(429),r=i(163),a=i(71),o=i(19),s=i(70),l=i(196),u=i(36),c=u("iterator"),d=u("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),g=0;g<p.length;g++){var v,m=p[g],b=f[m],y=o[m],w=y&&y.prototype;if(w&&(w[c]||s(w,c,h),w[d]||s(w,d,m),l[m]=h,b))for(v in n)w[v]||a(w,v,n[v],!0)}},function(e,t,i){var n=i(11),r=i(424);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,i){var n=i(19),r=i(11),a=i(426),o=[].slice,s=/MSIE .\./.test(a),l=function(e){return function(t,i){var n=arguments.length>2,r=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,i)}};r(r.G+r.B+r.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(e,t,i){i(1566),i(1505),i(1507),i(1506),i(1509),i(1511),i(1516),i(1510),i(1508),i(1518),i(1517),i(1513),i(1514),i(1512),i(1504),i(1515),i(1519),i(1520),i(1472),i(1474),i(1473),i(1522),i(1521),i(1492),i(1502),i(1503),i(1493),i(1494),i(1495),i(1496),i(1497),i(1498),i(1499),i(1500),i(1501),i(1475),i(1476),i(1477),i(1478),i(1479),i(1480),i(1481),i(1482),i(1483),i(1484),i(1485),i(1486),i(1487),i(1488),i(1489),i(1490),i(1491),i(1553),i(1558),i(1565),i(1556),i(1548),i(1549),i(1554),i(1559),i(1561),i(1544),i(1545),i(1546),i(1547),i(1550),i(1551),i(1552),i(1555),i(1557),i(1560),i(1562),i(1563),i(1564),i(1467),i(1469),i(1468),i(1471),i(1470),i(1456),i(1454),i(1460),i(1457),i(1463),i(1465),i(1453),i(1459),i(1450),i(1464),i(1448),i(1462),i(1461),i(1455),i(1458),i(1447),i(1449),i(1452),i(1451),i(1466),i(429),i(1538),i(1543),i(640),i(1539),i(1540),i(1541),i(1542),i(1523),i(639),i(641),i(642),i(1578),i(1567),i(1568),i(1573),i(1576),i(1577),i(1571),i(1574),i(1572),i(1575),i(1569),i(1570),i(1524),i(1525),i(1526),i(1527),i(1528),i(1531),i(1529),i(1530),i(1532),i(1533),i(1534),i(1535),i(1537),i(1536),i(1581),i(1579),i(1580),i(1622),i(1625),i(1624),i(1626),i(1627),i(1623),i(1628),i(1629),i(1603),i(1606),i(1602),i(1600),i(1601),i(1604),i(1605),i(1587),i(1621),i(1586),i(1620),i(1632),i(1634),i(1585),i(1619),i(1631),i(1633),i(1584),i(1630),i(1583),i(1588),i(1589),i(1590),i(1591),i(1592),i(1594),i(1593),i(1595),i(1596),i(1597),i(1599),i(1598),i(1608),i(1609),i(1610),i(1611),i(1613),i(1612),i(1615),i(1614),i(1616),i(1617),i(1618),i(1582),i(1607),i(1637),i(1636),i(1635),e.exports=i(100)},,function(e,t){function i(e){for(var t=new Array(e),i=-1;++i<e;)t[i]=0;return t}function n(e,t){for(var i=e.length;i<t;)e[i++]=0;return e}function r(e,t){if(t>32)throw new Error("invalid array width!");return e}function a(e){this.length=e,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=o(e)}if("undefined"!=typeof Uint8Array)var o=function(e){return new Uint8Array(e)},s=function(e){return new Uint16Array(e)},l=function(e){return new Uint32Array(e)},u=function(e,t){if(e.length>=t)return e;var i=new e.constructor(t);return i.set(e),i},c=function(e,t){var i;switch(t){case 16:i=s(e.length);break;case 32:i=l(e.length);break;default:throw new Error("invalid array width!")}return i.set(e),i};a.prototype.lengthen=function(e){var t,i;for(t=0,i=this.subarrays;t<i;++t)this[t]=u(this[t],e);this.length=e},a.prototype.add=function(){var e,t,i,n,r;for(n=0,r=this.subarrays;n<r;++n)if(e=this.masks[n],t=this.width-32*n,i=~e&-~e,!(t>=32)||i)return t<32&&i&1<<t&&(this[n]=c(this[n],t<<=1),this.width=32*n+t),this.masks[n]|=i,{offset:n,one:i};return this[this.subarrays]=o(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},a.prototype.copy=function(e,t){var i,n;for(i=0,n=this.subarrays;i<n;++i)this[i][e]=this[i][t]},a.prototype.truncate=function(e){var t,i;for(t=0,i=this.subarrays;t<i;++t){for(var n=this.length-1;n>=e;n--)this[t][n]=0;this[t].length=e}this.length=e},a.prototype.zero=function(e){var t,i;for(t=0,i=this.subarrays;t<i;++t)if(this[t][e])return!1;return!0},a.prototype.zeroExcept=function(e,t,i){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(n===t?this[n][e]&i:this[n][e])return!1;return!0},a.prototype.zeroExceptMask=function(e,t){var i,n;for(i=0,n=this.subarrays;i<n;++i)if(this[i][e]&t[i])return!1;return!0},a.prototype.only=function(e,t,i){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(this[n][e]!=(n===t?i:0))return!1;return!0},a.prototype.onlyExcept=function(e,t,i,n,r){var a,o,s;for(o=0,s=this.subarrays;o<s;++o)if(a=this[o][e],o===t&&(a&=i),a!=(o===n?r:0))return!1;return!0},e.exports={array8:i,array16:i,array32:i,arrayLengthen:n,arrayWiden:r,bitarray:a}},function(e,t,i){"use strict";function n(e){function t(t,i,n,r){for(;n<r;){var a=n+r>>>1;e(t[a])<i?n=a+1:r=a}return n}function i(t,i,n,r){for(;n<r;){var a=n+r>>>1;i<e(t[a])?r=a:n=a+1}return n}return i.right=i,i.left=t,i}var r=i(200);e.exports=n(r),e.exports.by=n},function(e,t,i){"use strict";function n(){function e(e){var t=D,i=e.length;return i&&(I=I.concat(e),S.lengthen(D+=i),M.forEach(function(n){n(e,t,i)}),C("dataAdded")),T}function t(e){for(var t=r(D,D),i=[],n="function"==typeof e,a=function(t){return n?e(I[t],t):S.zero(t)},o=0,s=0;o<D;++o)a(o)?(i.push(o),t[o]=x):t[o]=s++;O.forEach(function(e){e(-1,-1,[],i,!0)}),k.forEach(function(e){e(t)});for(var l=0,u=0;l<D;++l)t[l]!==x&&(l!==u&&(S.copy(u,l),I[u]=I[l]),++u);I.length=D=u,S.truncate(u),C("dataRemoved")}function i(e,t){var i,n,r,a,o=Array(S.subarrays);for(i=0;i<S.subarrays;i++)o[i]=-1;if(t)for(n=0,a=t.length;n<a;n++)r=t[n].id(),o[r>>7]&=~(1<<(63&r));return S.zeroExceptMask(e,o)}function n(e,t){function i(i,n,o){if(t){ue=0,T=0,ee=[];for(var l=0;l<i.length;l++)for(T=0,ee=e(i[l]);T<ee.length;T++)ue++;q=[],K=a(i.length),Q=r(ue,1);for(var u=a(ue),c=0,d=0;d<i.length;d++)if(ee=e(i[d]),ee.length)for(K[d]=ee.length,T=0;T<ee.length;T++)q.push(ee[T]),u[c]=d,c++;else K[d]=0,ie.push(d+n);var h=ne(a(ue),0,ue);q=v(q,h),Y=v(u,h)}else q=i.map(e),Y=ne(a(o),0,o),q=v(q,Y);t&&(o=ue);var f=re(q),p=f[0],g=f[1];if(Z)for(var m=0;m<o;++m)Z(q[m],m)||(S[W][Y[m]+n]|=V,t&&(Q[m]=1));else{for(var b=0;b<p;++b)S[W][Y[b]+n]|=V,t&&(Q[b]=1);for(var y=g;y<o;++y)S[W][Y[y]+n]|=V,t&&(Q[y]=1)}if(!n)return G=q,$=Y,J=K,X=Q,se=p,void(le=g);var w,x=G,E=$,_=X,A=0;if(l=0,t&&(w=n,n=x.length,o=ue),G=t?new Array(n+o):new Array(D),$=t?new Array(n+o):r(D,D),t&&(X=r(n+o,1)),t){var C=J.length;J=s.arrayLengthen(J,D);for(var T=0;T+C<D;T++)J[T+C]=K[T]}for(var I=0;l<n&&A<o;++I)x[l]<q[A]?(G[I]=x[l],t&&(X[I]=_[l]),$[I]=E[l++]):(G[I]=q[A],t&&(X[I]=Q[A]),$[I]=Y[A++]+(t?w:n));for(;l<n;++l,++I)G[I]=x[l],t&&(X[I]=_[l]),$[I]=E[l];for(;A<o;++A,++I)G[I]=q[A],t&&(X[I]=Q[A]),$[I]=Y[A]+(t?w:n);f=re(G),se=f[0],le=f[1]}function n(e,t,i){ae.forEach(function(e){e(q,Y,t,i)}),q=Y=null}function g(e){if(t){for(var i=0,n=0;i<ie.length;i++)e[ie[i]]!==x&&(ie[n]=e[ie[i]],n++);for(ie.length=n,i=0,n=0;i<D;i++)e[i]!==x&&(n!==i&&(J[n]=J[i]),n++);J.length=n}for(var r,a=G.length,o=0,s=0;o<a;++o)r=$[o],e[r]!==x&&(o!==s&&(G[s]=G[o]),$[s]=e[r],t&&(X[s]=X[o]),++s);for(G.length=s,t&&(X.length=s);s<a;)$[s++]=0;var l=re(G);se=l[0],le=l[1]}function y(e){var i=e[0],n=e[1];if(Z)return Z=null,P(function(e,t){return i<=t&&t<n},0===e[0]&&e[1]===G.length),se=i,le=n,te;var r,a,o,s=[],l=[],u=[],c=[];if(i<se)for(r=i,a=Math.min(se,n);r<a;++r)s.push($[r]),u.push(r);else if(i>se)for(r=se,a=Math.min(i,le);r<a;++r)l.push($[r]),c.push(r);if(n>le)for(r=Math.max(i,le),a=n;r<a;++r)s.push($[r]),u.push(r);else if(n<le)for(r=Math.max(se,n),a=le;r<a;++r)l.push($[r]),c.push(r);if(t){var d=[],h=[];for(r=0;r<s.length;r++)J[s[r]]++,X[u[r]]=0,1===J[s[r]]&&(S[W][s[r]]^=V,d.push(s[r]));for(r=0;r<l.length;r++)J[l[r]]--,X[c[r]]=1,0===J[l[r]]&&(S[W][l[r]]^=V,h.push(l[r]));if(s=d,l=h,0===e[0]&&e[1]===G.length)for(r=0;r<ie.length;r++)S[W][o=ie[r]]&V&&(S[W][o]^=V,s.push(o));else for(r=0;r<ie.length;r++)S[W][o=ie[r]]&V||(S[W][o]^=V,l.push(o))}else{for(r=0;r<s.length;r++)S[W][s[r]]^=V;for(r=0;r<l.length;r++)S[W][l[r]]^=V}return se=i,le=n,O.forEach(function(e){e(V,W,s,l)}),C("filtered"),te}function E(e){return null==e?T():Array.isArray(e)?A(e):"function"==typeof e?N(e):_(e)}function _(e){return y((re=l.filterExact(p,e))(G))}function A(e){return y((re=l.filterRange(p,e))(G))}function T(){return y((re=l.filterAll)(G))}function N(e){Z=e,re=l.filterAll,P(e,!1);var t=re(G);return se=t[0],le=t[1],te}function P(e,i){var n,r,a,o=[],s=[],l=[],u=[],c=G.length;if(!t)for(n=0;n<c;++n)!(S[W][r=$[n]]&V)^!!(a=e(G[n],n))&&(a?o.push(r):s.push(r));if(t)for(n=0;n<c;++n)e(G[n],n)?(o.push($[n]),l.push(n)):(s.push($[n]),u.push(n));if(t){var d=[],h=[];for(n=0;n<o.length;n++)1===X[l[n]]&&(J[o[n]]++,X[l[n]]=0,1===J[o[n]]&&(S[W][o[n]]^=V,d.push(o[n])));for(n=0;n<s.length;n++)0===X[u[n]]&&(J[s[n]]--,X[u[n]]=1,0===J[s[n]]&&(S[W][s[n]]^=V,h.push(s[n])));if(o=d,s=h,i)for(n=0;n<ie.length;n++)S[W][r=ie[n]]&V&&(S[W][r]^=V,o.push(r));else for(n=0;n<ie.length;n++)S[W][r=ie[n]]&V||(S[W][r]^=V,s.push(r))}else{for(n=0;n<o.length;n++)S[W][o[n]]&V&&(S[W][o[n]]&=U);for(n=0;n<s.length;n++)S[W][s[n]]&V||(S[W][s[n]]|=V)}O.forEach(function(e){e(V,W,o,s)}),C("filtered")}function L(e,i){var n,r=[],a=le,o=0;for(i&&i>0&&(o=i);--a>=se&&e>0;)S.zero(n=$[a])&&(o>0?--o:(r.push(I[n]),--e));if(t)for(a=0;a<ie.length&&e>0;a++)S.zero(n=ie[a])&&(o>0?--o:(r.push(I[n]),--e));return r}function R(e,i){var n,r,a=[],o=0;if(i&&i>0&&(o=i),t)for(n=0;n<ie.length&&e>0;n++)S.zero(r=ie[n])&&(o>0?--o:(a.push(I[r]),--e));for(n=se;n<le&&e>0;)S.zero(r=$[n])&&(o>0?--o:(a.push(I[r]),--e)),n++;return a}function F(e){function i(i,n,u,d){function h(){return t?void Y++:void(++Y===q&&(E=s.arrayWiden(E,z<<=1),P=s.arrayWiden(P,z),q=o(z)))}t&&(H=u,u=G.length-i.length,d=i.length);var f,v,m,b,y,w,x=N,E=t?[]:r(Y,q),_=F,A=j,C=B,T=Y,M=0,k=0;for(X&&(_=C=c),X&&(A=C=c),N=new Array(Y),Y=0,P=t?T?P:[]:T>1?s.arrayLengthen(P,D):r(D,q),T&&(m=(v=x[0]).key);k<d&&!((b=e(i[k]))>=b);)++k;for(;k<d;){for(v&&m<=b?(y=v,w=m,E[M]=Y,v=x[++M],v&&(m=v.key)):(y={key:b,value:C()},w=b),N[Y]=y;b<=w&&(f=n[k]+(t?H:u),t?P[f]?P[f].push(Y):P[f]=[Y]:P[f]=Y,y.value=_(y.value,I[f],!0),S.zeroExcept(f,W,U)||(y.value=A(y.value,I[f],!1)),!(++k>=d));)b=e(i[k]);h()}for(;M<T;)N[E[M]=Y]=x[M++],h();if(t)for(var L=0;L<D;L++)P[L]||(P[L]=[]);if(Y>M)if(t)for(M=0;M<H;++M)for(L=0;L<P[M].length;L++)P[M][L]=E[P[M][L]];else for(M=0;M<u;++M)P[M]=E[P[M]];f=O.indexOf(J),Y>1||t?(J=a,K=p):(!Y&&Q&&(Y=1,N=[{key:null,value:C()}]),1===Y?(J=l,K=g):(J=c,K=c),P=null),O[f]=J}function n(e){if(Y>1||t){var i,n,o,s=Y,u=N,d=r(s,s);if(t){for(i=0,o=0;i<D;++i)if(e[i]!==x){for(P[o]=P[i],n=0;n<P[o].length;n++)d[P[o][n]]=1;++o}}else for(i=0,o=0;i<D;++i)e[i]!==x&&(d[P[o]=P[i]]=1,++o);for(N=[],Y=0,i=0;i<s;++i)d[i]&&(d[i]=Y++,N.push(u[i]));if(Y>1||t)if(t)for(i=0;i<o;++i)for(n=0;n<P[i].length;++n)P[i][n]=d[P[i][n]];else for(i=0;i<o;++i)P[i]=d[P[i]];else P=null;O[O.indexOf(J)]=Y>1||t?(K=p,J=a):1===Y?(K=g,J=l):K=J=c}else if(1===Y){if(Q)return;for(var h=0;h<D;++h)if(e[h]!==x)return;N=[],Y=0,O[O.indexOf(J)]=J=K=c}}function a(e,i,n,r,a){if(!(e===V&&i===W||X)){var o,s,l,u,c;if(t){for(o=0,u=n.length;o<u;++o)if(S.zeroExcept(l=n[o],W,U))for(s=0;s<P[l].length;s++)c=N[P[l][s]],c.value=F(c.value,I[l],!1,s);for(o=0,u=r.length;o<u;++o)if(S.onlyExcept(l=r[o],W,U,i,e))for(s=0;s<P[l].length;s++)c=N[P[l][s]],c.value=j(c.value,I[l],a,s)}else{for(o=0,u=n.length;o<u;++o)S.zeroExcept(l=n[o],W,U)&&(c=N[P[l]],c.value=F(c.value,I[l],!1));for(o=0,u=r.length;o<u;++o)S.onlyExcept(l=r[o],W,U,i,e)&&(c=N[P[l]],c.value=j(c.value,I[l],a))}}}function l(e,t,i,n,r){if(!(e===V&&t===W||X)){var a,o,s,l=N[0];for(a=0,s=i.length;a<s;++a)S.zeroExcept(o=i[a],W,U)&&(l.value=F(l.value,I[o],!1));for(a=0,s=n.length;a<s;++a)S.onlyExcept(o=n[a],W,U,t,e)&&(l.value=j(l.value,I[o],r))}}function p(){var e,i,n;for(e=0;e<Y;++e)N[e].value=B();if(t){for(e=0;e<D;++e)for(i=0;i<P[e].length;i++)n=N[P[e][i]],n.value=F(n.value,I[e],!0,i);for(e=0;e<D;++e)if(!S.zeroExcept(e,W,U))for(i=0;i<P[e].length;i++)n=N[P[e][i]],n.value=j(n.value,I[e],!1,i)}else{for(e=0;e<D;++e)n=N[P[e]],n.value=F(n.value,I[e],!0);for(e=0;e<D;++e)S.zeroExcept(e,W,U)||(n=N[P[e]],n.value=j(n.value,I[e],!1))}}function g(){var e,t=N[0];for(t.value=B(),e=0;e<D;++e)t.value=F(t.value,I[e],!0);for(e=0;e<D;++e)S.zeroExcept(e,W,U)||(t.value=j(t.value,I[e],!1))}function v(){return X&&(K(),X=!1),N}function m(e){var t=L(v(),0,N.length,e);return R.sort(t,0,t.length)}function y(e,t,i){return F=e,j=t,B=i,X=!0,M}function w(){return y(b.reduceIncrement,b.reduceDecrement,d)}function E(e){return y(b.reduceAdd(e),b.reduceSubtract(e),d)}function _(e){function t(t){return e(t.value)}return L=h.by(t),R=f.by(t),M}function A(){return _(u)}function C(){return Y}function T(){var e=O.indexOf(J);return e>=0&&O.splice(e,1),e=ae.indexOf(i),e>=0&&ae.splice(e,1),e=k.indexOf(n),e>=0&&k.splice(e,1),M}var M={top:m,all:v,reduce:y,reduceCount:w,reduceSum:E,order:_,orderNatural:A,size:C,dispose:T,remove:T};oe.push(M);var N,P,L,R,F,j,B,H,z=8,q=o(z),Y=0,J=c,K=c,X=!0,Q=e===c;return arguments.length<1&&(e=u),O.push(J),ae.push(i),k.push(n),i(G,$,0,D),w().orderNatural()}function j(){var e=F(c),t=e.all;return delete e.all,delete e.top,delete e.order,delete e.orderNatural,delete e.size,e.value=function(){return t()[0].value},e}function B(){oe.forEach(function(e){e.dispose()});var e=M.indexOf(i);return e>=0&&M.splice(e,1),e=M.indexOf(n),e>=0&&M.splice(e,1),e=k.indexOf(g),e>=0&&k.splice(e,1),S.masks[W]&=U,T()}if("string"==typeof e){var H=e;e=function(e){return w(e,H)}}var V,U,W,z,G,$,q,Y,J,K,X,Q,Z,ee,te={filter:E,filterExact:_,filterRange:A,filterFunction:N,filterAll:T,top:L,bottom:R,group:F,groupAll:j,dispose:B,remove:B,accessor:e,id:function(){return z}},ie=[],ne=m.by(function(e){return q[e]}),re=l.filterAll,ae=[],oe=[],se=0,le=0,ue=0;M.unshift(i),M.push(n),k.push(g);var ce=S.add();return W=ce.offset,V=ce.one,U=~V,z=W<<7|Math.log(V)/Math.log(2),i(I,0,D),n(I,0,D),te}function g(){function e(e,t){var i;if(!p)for(i=t;i<D;++i)l=u(l,I[i],!0),S.zero(i)||(l=c(l,I[i],!1))}function t(e,t,i,n,r){var a,o,s;if(!p){for(a=0,s=i.length;a<s;++a)S.zero(o=i[a])&&(l=u(l,I[o],r));for(a=0,s=n.length;a<s;++a)S.only(o=n[a],t,e)&&(l=c(l,I[o],r))}}function i(){var e;for(l=h(),e=0;e<D;++e)l=u(l,I[e],!0),S.zero(e)||(l=c(l,I[e],!1))}function n(e,t,i){return u=e,c=t,h=i,p=!0,f}function r(){return n(b.reduceIncrement,b.reduceDecrement,d)}function a(e){return n(b.reduceAdd(e),b.reduceSubtract(e),d)}function o(){return p&&(i(),p=!1),l}function s(){var i=O.indexOf(t);return i>=0&&O.splice(i,1),i=M.indexOf(e),i>=0&&M.splice(i,1),f}var l,u,c,h,f={reduce:n,reduceCount:r,reduceSum:a,value:o,dispose:s,remove:s},p=!0;return O.push(t),M.push(e),e(I,0,D),r()}function y(){return D}function E(){return I}function _(){var e=[],t=0;for(t=0;t<D;t++)S.zero(t)&&e.push(I[t]);return e}function A(e){return"function"!=typeof e?void console.warn("onChange callback parameter must be a function!"):(N.push(e),function(){N.splice(N.indexOf(e),1)})}function C(e){for(var t=0;t<N.length;t++)N[t](e)}var S,T={add:e,remove:t,dimension:n,groupAll:g,size:y,all:E,allFiltered:_,onChange:A,isElementFiltered:i},I=[],D=0,O=[],M=[],k=[],N=[];return S=new s.bitarray(0),arguments.length?e(arguments[0]):T}function r(e,t){return(t<257?s.array8:t<65537?s.array16:s.array32)(e)}function a(e){for(var t=r(e,e),i=-1;++i<e;)t[i]=i;return t}function o(e){return 8===e?256:16===e?65536:4294967296}var s=i(1640),l=i(1643),u=i(200),c=i(1645),d=i(1649),h=i(1644),f=i(644),p=i(1641),g=i(645),v=i(1646),m=i(1647),b=i(1648),y=i(1896),w=i(1904),x=-1;t.crossfilter=n,t.crossfilter.heap=f,t.crossfilter.heapselect=h,t.crossfilter.bisect=p,t.crossfilter.insertionsort=g,t.crossfilter.permute=v,t.crossfilter.quicksort=m,t.crossfilter.version=y.version},function(e,t){"use strict";function i(e,t){return function(i){var n=i.length;return[e.left(i,t,0,n),e.right(i,t,0,n)]}}function n(e,t){var i=t[0],n=t[1];return function(t){var r=t.length;return[e.left(t,i,0,r),e.left(t,n,0,r)]}}function r(e){return[0,e.length]}e.exports={filterExact:i,filterRange:n,filterAll:r}},function(e,t,i){"use strict";function n(e){function t(t,n,r,a){var o,s,l,u=new Array(a=Math.min(r-n,a));for(s=0;s<a;++s)u[s]=t[n++];if(i(u,0,a),n<r){o=e(u[0]);do e(l=t[n])>o&&(u[0]=l,o=e(i(u,0,a)[0]));while(++n<r)}return u}var i=a.by(e);return t}var r=i(200),a=i(644);e.exports=n(r),e.exports.by=n},function(e,t){"use strict";function i(){return null}e.exports=i},function(e,t){"use strict";function i(e,t,i){for(var n=0,r=t.length,a=i?JSON.parse(JSON.stringify(e)):new Array(r);n<r;++n)a[n]=e[t[n]];return a}e.exports=i},function(e,t,i){function n(e){function t(e,t,r){return(r-t<o?n:i)(e,t,r)}function i(i,n,r){var a,o=(r-n)/6|0,s=n+o,l=r-1-o,u=n+r-1>>1,c=u-o,d=u+o,h=i[s],f=e(h),p=i[c],g=e(p),v=i[u],m=e(v),b=i[d],y=e(b),w=i[l],x=e(w);f>g&&(a=h,h=p,p=a,a=f,f=g,g=a),y>x&&(a=b,b=w,w=a,a=y,y=x,x=a),f>m&&(a=h,h=v,v=a,a=f,f=m,m=a),g>m&&(a=p,p=v,v=a,a=g,g=m,m=a),f>y&&(a=h,h=b,b=a,a=f,f=y,y=a),m>y&&(a=v,v=b,b=a,a=m,m=y,y=a),g>x&&(a=p,p=w,w=a,a=g,g=x,x=a),g>m&&(a=p,p=v,v=a,a=g,g=m,m=a),y>x&&(a=b,b=w,w=a,a=y,y=x,x=a);var E=p,_=g,A=b,C=y;i[s]=h,i[c]=i[n],i[u]=v,i[d]=i[r-1],i[l]=w;var S=n+1,T=r-2,I=_<=C&&_>=C;if(I)for(var D=S;D<=T;++D){var O=i[D],M=e(O);if(M<_)D!==S&&(i[D]=i[S],i[S]=O),++S;else if(M>_)for(;;){var k=e(i[T]);{if(!(k>_)){if(k<_){i[D]=i[S],i[S++]=i[T],i[T--]=O;break}i[D]=i[T],i[T--]=O;break}T--}}}else!function(){for(var t=S;t<=T;t++){var n=i[t],r=e(n);if(r<_)t!==S&&(i[t]=i[S],i[S]=n),++S;else if(r>C)for(;;){var a=e(i[T]);{if(!(a>C)){a<_?(i[t]=i[S],i[S++]=i[T],i[T--]=n):(i[t]=i[T],i[T--]=n);break}if(T--,T<t)break}}}}();return i[n]=i[S-1],i[S-1]=E,i[r-1]=i[T+1],i[T+1]=A,t(i,n,S-1),t(i,T+2,r),I?i:(S<s&&T>l&&!function(){for(var t,n;(t=e(i[S]))<=_&&t>=_;)++S;for(;(n=e(i[T]))<=C&&n>=C;)--T;for(var r=S;r<=T;r++){var a=i[r],o=e(a);if(o<=_&&o>=_)r!==S&&(i[r]=i[S],i[S]=a),S++;else if(o<=C&&o>=C)for(;;){n=e(i[T]);{if(!(n<=C&&n>=C)){n<_?(i[r]=i[S],i[S++]=i[T],i[T--]=a):(i[r]=i[T],i[T--]=a);break}if(T--,T<r)break}}}}(),t(i,S,T+1))}var n=a.by(e);return t}var r=i(200),a=i(645),o=32;e.exports=n(r),e.exports.by=n},function(e,t){"use strict";function i(e){return e+1}function n(e){return e-1}function r(e){return function(t,i){return t+ +e(i)}}function a(e){return function(t,i){return t-e(i)}}e.exports={reduceIncrement:i,reduceDecrement:n,reduceAdd:r,reduceSubtract:a}},function(e,t){"use strict";function i(){return 0}e.exports=i},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=i(431),o=n(a),s=function(){function e(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r(this,e),Array.isArray(i[0])&&1===i.length&&(i=i[0]);for(var a=0;a<i.length;a++)if(!o.default(i[a]))throw new Error("Expected a disposable");this.disposables=i,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return t!==-1&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),i=0;i<e;i++)t[i]=this.disposables[i];this.isDisposed=!0,this.disposables=[],this.length=0;for(var i=0;i<e;i++)t[i].dispose()}},e}();t.default=s,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){},a=function(){function e(t){i(this,e),this.isDisposed=!1,this.action=t||r}return n(e,null,[{key:"empty",value:{dispose:r},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=a,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=i(431),o=n(a),s=function(){function e(){r(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!o.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,i=void 0;t||(i=this.current,this.current=e),i&&i.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=s,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=i(431),a=n(r);t.isDisposable=a.default;var o=i(1652),s=n(o);t.Disposable=s.default;var l=i(1651),u=n(l);t.CompositeDisposable=u.default;var c=i(1653),d=n(c);t.SerialDisposable=d.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(481),l=r(s),u=i(1663),c=r(u),d=i(302),h=n(d),f=i(1656),p=r(f),g=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e);var n=(0,l.default)(c.default);this.context=i,this.store=n,this.monitor=new p.default(n),this.registry=this.monitor.registry,this.backend=t(this),n.subscribe(this.handleRefCountChange.bind(this))}return o(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){function e(e){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=e.apply(t,r);"undefined"!=typeof o&&i(o)}}var t=this,i=this.store.dispatch;return Object.keys(h).filter(function(e){return"function"==typeof h[e]}).reduce(function(t,i){var n=h[i];return t[i]=e(n),t},{})}}]),e}();t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(40),s=n(o),l=i(50),u=n(l),c=i(648),d=n(c),h=i(1659),f=n(h),p=i(647),g=i(646),v=function(){function e(t){r(this,e),this.store=t,this.registry=new f.default(t)}return a(e,[{key:"subscribeToStateChange",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.handlerIds;(0,s.default)("function"==typeof e,"listener must be a function."),(0,s.default)("undefined"==typeof n||(0,u.default)(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId,a=function(){var i=t.store.getState(),a=i.stateId;try{var o=a===r||a===r+1&&!(0,g.areDirty)(i.dirtyHandlerIds,n);o||e()}finally{r=a}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,s.default)("function"==typeof e,"listener must be a function.");var i=this.store.getState().dragOffset,n=function(){var n=t.store.getState().dragOffset;n!==i&&(i=n,e())};return this.store.subscribe(n)}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,s.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,s.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;
var i=this.registry.getTargetType(e),n=this.getItemType();return(0,d.default)(i,n)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);if((0,s.default)(t,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(e),n=this.getItemType();return i===n&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1},i=t.shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(!(0,d.default)(n,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var o=a.indexOf(e);return i?o===a.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,p.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,p.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=v},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){(0,f.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,f.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,f.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function o(e){(0,f.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,f.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,f.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}function s(e,t){return t&&(0,g.default)(e)?void e.forEach(function(e){return s(e,!1)}):void(0,f.default)("string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":d(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function l(e){var t=(0,w.default)().toString();switch(e){case x.SOURCE:return"S"+t;case x.TARGET:return"T"+t;default:(0,f.default)(!1,"Unknown role: "+e)}}function u(e){switch(e[0]){case"S":return x.SOURCE;case"T":return x.TARGET;default:(0,f.default)(!1,"Cannot parse handler ID: "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=i(40),f=n(h),p=i(50),g=n(p),v=i(1043),m=n(v),b=i(303),y=i(1666),w=n(y),x={SOURCE:"SOURCE",TARGET:"TARGET"},E=function(){function e(t){r(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return c(e,[{key:"addSource",value:function(e,t){s(e),a(t);var i=this.addHandler(x.SOURCE,e,t);return this.store.dispatch((0,b.addSource)(i)),i}},{key:"addTarget",value:function(e,t){s(e,!0),o(t);var i=this.addHandler(x.TARGET,e,t);return this.store.dispatch((0,b.addTarget)(i)),i}},{key:"addHandler",value:function(e,t,i){var n=l(e);return this.types[n]=t,this.handlers[n]=i,n}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some(function(i){return t.handlers[i]===e})}},{key:"getSource",value:function(e,t){(0,f.default)(this.isSourceId(e),"Expected a valid source ID.");var i=t&&e===this.pinnedSourceId,n=i?this.pinnedSource:this.handlers[e];return n}},{key:"getTarget",value:function(e){return(0,f.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,f.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,f.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){var t=u(e);return t===x.SOURCE}},{key:"isTargetId",value:function(e){var t=u(e);return t===x.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,f.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,b.removeSource)(e)),(0,m.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"removeTarget",value:function(e){var t=this;(0,f.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,b.removeTarget)(e)),(0,m.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,f.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,f.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new u(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var s=i(714),l=n(s),u=function(){function e(t){r(this,e),this.actions=t.getActions()}return o(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return l.default}},{key:"connectDragPreview",value:function(){return l.default}},{key:"connectDropTarget",value:function(){return l.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1655);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return n(r).default}});var a=i(1657);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return n(a).default}});var o=i(1658);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return n(o).default}});var s=i(1660);Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return n(s).default}})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case l.BEGIN_DRAG:return a({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case l.PUBLISH_DRAG_SOURCE:return a({},e,{isSourcePublic:!0});case l.HOVER:return a({},e,{targetIds:t.targetIds});case u.REMOVE_TARGET:return e.targetIds.indexOf(t.targetId)===-1?e:a({},e,{targetIds:(0,s.default)(e.targetIds,t.targetId)});case l.DROP:return a({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case l.END_DRAG:return a({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=r;var o=i(718),s=n(o),l=i(302),u=i(303),c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,h.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,o.default)(e.dragOffset,t),refCount:(0,c.default)(e.refCount,t),dragOperation:(0,l.default)(e.dragOperation,t),stateId:(0,p.default)(e.stateId)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(647),o=n(a),s=i(1662),l=n(s),u=i(1664),c=n(u),d=i(646),h=n(d),f=i(1665),p=n(f)},function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=i(303)},function(e,t){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";function i(){return n++}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=0},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n;/*!
	  Copyright (c) 2015 Jed Watson.
	  Based on code that is Copyright 2013-2015, Facebook, Inc.
	  All rights reserved.
	*/
!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};n=function(){return a}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}()},39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n;(function(e,r){!function(a){var o="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports==o&&e,"object"==typeof r&&r);s.global!==s&&s.window!==s||(a=s);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},f=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},g=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,v=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,b={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",
iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},y={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},w={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},x=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],E=String.fromCharCode,_={},A=_.hasOwnProperty,C=function(e,t){return A.call(e,t)},S=function(e,t){for(var i=-1,n=e.length;++i<n;)if(e[i]==t)return!0;return!1},T=function(e,t){if(!e)return t;var i,n={};for(i in t)n[i]=C(e,i)?e[i]:t[i];return n},I=function(e,t){var i="";return e>=55296&&e<=57343||e>1114111?(t&&M("character reference outside the permissible Unicode range"),"�"):C(w,e)?(t&&M("disallowed character reference"),w[e]):(t&&S(x,e)&&M("disallowed character reference"),e>65535&&(e-=65536,i+=E(e>>>10&1023|55296),e=56320|1023&e),i+=E(e))},D=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},O=function(e){return"&#"+e+";"},M=function(e){throw Error("Parse error: "+e)},k=function(e,t){t=T(t,k.options);var i=t.strict;i&&v.test(e)&&M("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,a=t.allowUnsafeSymbols,o=t.decimal?O:D,s=function(e){return o(e.charCodeAt(0))};return n?(e=e.replace(u,function(e){return r&&C(h,e)?"&"+h[e]+";":s(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(d,function(e){return"&"+h[e]+";"}))):r?(a||(e=e.replace(f,function(e){return"&"+h[e]+";"})),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(d,function(e){return"&"+h[e]+";"})):a||(e=e.replace(f,s)),e.replace(l,function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=1024*(t-55296)+i-56320+65536;return o(n)}).replace(c,s)};k.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var N=function(e,t){t=T(t,N.options);var i=t.strict;return i&&g.test(e)&&M("malformed character reference"),e.replace(m,function(e,n,r,a,o,s,l,u){var c,d,h,f,p,g;return n?(h=n,d=r,i&&!d&&M("character reference was not terminated by a semicolon"),c=parseInt(h,10),I(c,i)):a?(f=a,d=o,i&&!d&&M("character reference was not terminated by a semicolon"),c=parseInt(f,16),I(c,i)):s?(p=s,C(b,p)?b[p]:(i&&M("named character reference was not terminated by a semicolon"),e)):(p=l,g=u,g&&t.isAttributeValue?(i&&"="==g&&M("`&` did not start a character reference"),e):(i&&M("named character reference was not terminated by a semicolon"),y[p]+(g||"")))})};N.options={isAttributeValue:!1,strict:!1};var P=function(e){return e.replace(f,function(e){return p[e]})},L={version:"1.1.1",encode:k,decode:N,escape:P,unescape:N};n=function(){return L}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,i(63)(e),function(){return this}())},function(e,t){(function(t){(function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function s(e){var t=new FileReader,i=o(t);return t.readAsArrayBuffer(e),i}function l(e){var t=new FileReader,i=o(t);return t.readAsText(e),i}function u(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?a(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var i=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=h(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function g(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var i=e.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();t.append(n,r)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,n){e=t(e),n=i(n);var r=this.map[e];this.map[e]=r?r+","+n:n},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,n){this.map[t(e)]=i(n)},r.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),n(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},d.call(f.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(E.indexOf(t)===-1)throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=f,e.Response=v,e.fetch=function(e,t){return new Promise(function(i,n){var r=new f(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:g(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new v(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(r.method,r.url,!0),"include"===r.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),r.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),e.exports=t.fetch}).call(t)}).call(t,function(){return this}())},function(e,t,i){var n,r;/*!
	 * jQuery Browser Plugin 0.1.0
	 * https://github.com/gabceb/jquery-browser-plugin
	 *
	 * Original jquery-browser code Copyright 2005, 2015 jQuery Foundation, Inc. and other contributors
	 * http://jquery.org/license
	 *
	 * Modifications Copyright 2015 Gabriel Cebrian
	 * https://github.com/gabceb
	 *
	 * Released under the MIT license
	 *
	 * Date: 05-07-2015
	 */
!function(a){n=[i(26)],r=function(e){return a(e)}.apply(t,n),!(void 0!==r&&(e.exports=r))}(function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],n={},r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:i[0]||""};if(r.browser&&(n[r.browser]=!0,n.version=r.version,n.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(n[r.platform]=!0),(n.android||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"])&&(n.mobile=!0),(n.cros||n.mac||n.linux||n.win)&&(n.desktop=!0),(n.chrome||n.opr||n.safari)&&(n.webkit=!0),n.rv||n.iemobile){var a="msie";r.browser=a,n[a]=!0}if(n.edge){delete n.edge;var o="msedge";r.browser=o,n[o]=!0}if(n.safari&&n.blackberry){var s="blackberry";r.browser=s,n[s]=!0}if(n.safari&&n.playbook){var l="playbook";r.browser=l,n[l]=!0}if(n.bb){var u="blackberry";r.browser=u,n[u]=!0}if(n.opr){var c="opera";r.browser=c,n[c]=!0}if(n.safari&&n.android){var d="android";r.browser=d,n[d]=!0}if(n.safari&&n.kindle){var h="kindle";r.browser=h,n[h]=!0}if(n.safari&&n.silk){var f="silk";r.browser=f,n[f]=!0}return n.name=r.browser,n.platform=r.platform,n}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser})},function(e,t){e.exports={_args:[["crossfilter2@1.4.3","/var/lib/jenkins/workspace/web-bigdata-.-next-.-stage-1-dev/production"]],_from:"crossfilter2@1.4.3",_id:"crossfilter2@1.4.3",_inBundle:!1,_integrity:"sha512-LB0si9wwHufgvIk8ia3WoWDc3mel1OC0ZHe1bUxXE4hZDpino5xBwlw27VI26n8beiAM+Pdknuh55OTHlZz+tg==",_location:"/crossfilter2",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"crossfilter2@1.4.3",name:"crossfilter2",escapedName:"crossfilter2",rawSpec:"1.4.3",saveSpec:null,fetchSpec:"1.4.3"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/crossfilter2/-/crossfilter2-1.4.3.tgz",_spec:"1.4.3",_where:"/var/lib/jenkins/workspace/web-bigdata-.-next-.-stage-1-dev/production",author:{name:"Mike Bostock",url:"http://bost.ocks.org/mike"},bugs:{url:"https://github.com/crossfilter/crossfilter/issues"},contributors:[{name:"Jason Davies",url:"http://www.jasondavies.com/"}],dependencies:{"lodash.result":"^4.4.0"},description:"Fast multidimensional filtering for coordinated views.",devDependencies:{browserify:"^13.0.0",d3:"3.5",eslint:"2.10.2","package-json-versionify":"1.0.2",semver:"^5.3.0","uglify-js":"2.4.0",vows:"0.7.0"},eslintConfig:{env:{browser:!0,node:!0},globals:{Uint8Array:!0,Uint16Array:!0,Uint32Array:!0},extends:"eslint:recommended"},files:["src","index.js","crossfilter.js","crossfilter.min.js"],homepage:"http://crossfilter.github.com/crossfilter/",keywords:["analytics","visualization","crossfilter"],license:"Apache-2.0",main:"./index.js",maintainers:[{name:"Gordon Woodhull",url:"https://github.com/gordonwoodhull"},{name:"Tanner Linsley",url:"https://github.com/tannerlinsley"},{name:"Ethan Jewett",url:"https://github.com/esjewett"}],name:"crossfilter2",repository:{type:"git",url:"git+ssh://git@github.com/crossfilter/crossfilter.git"},scripts:{benchmark:"node test/benchmark.js",build:"browserify index.js -t package-json-versionify --standalone crossfilter -o crossfilter.js && uglifyjs --compress --mangle --screw-ie8 crossfilter.js -o crossfilter.min.js",clean:"rm -f crossfilter.js crossfilter.min.js",test:"vows --verbose && eslint src/"},version:"1.4.3"}},,,,,function(e,t,i){(function(e,i){function n(e,t){for(var i=-1,n=null==e?0:e.length,r=0,a=[];++i<n;){var o=e[i];t(o,i,e)&&(a[r++]=o)}return a}function r(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function a(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function o(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function s(e){return function(t){return e(t)}}function l(e,t){return e.has(t)}function u(e,t){return null==e?void 0:e[t]}function c(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function d(e,t){return function(i){return e(t(i))}}function h(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function f(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function p(){this.__data__=Ft?Ft(null):{},this.size=0}function g(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function v(e){var t=this.__data__;if(Ft){var i=t[e];return i===we?void 0:i}return yt.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return Ft?void 0!==t[e]:yt.call(t,e)}function b(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ft&&void 0===t?we:t,this}function y(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function w(){this.__data__=[],this.size=0}function x(e){var t=this.__data__,i=V(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():Tt.call(t,i,1),--this.size,!0}function E(e){var t=this.__data__,i=V(t,e);return i<0?void 0:t[i][1]}function _(e){return V(this.__data__,e)>-1}function A(e,t){var i=this.__data__,n=V(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}function C(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function S(){this.size=0,this.__data__={hash:new f,map:new(Nt||y),string:new f}}function T(e){var t=ee(this,e).delete(e);return this.size-=t?1:0,t}function I(e){return ee(this,e).get(e)}function D(e){return ee(this,e).has(e)}function O(e,t){var i=ee(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}function M(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new C;++t<i;)this.add(e[t])}function k(e){return this.__data__.set(e,we),this}function N(e){return this.__data__.has(e)}function P(e){var t=this.__data__=new y(e);this.size=t.size}function L(){this.__data__=new y,this.size=0}function R(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function F(e){return this.__data__.get(e)}function j(e){return this.__data__.has(e)}function B(e,t){var i=this.__data__;if(i instanceof y){var n=i.__data__;if(!Nt||n.length<ye-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new C(n)}return i.set(e,t),this.size=i.size,this}function H(e,t){var i=Yt(e),n=!i&&qt(e),r=!i&&!n&&Jt(e),a=!i&&!n&&!r&&Kt(e),s=i||n||r||a,l=s?o(e.length,String):[],u=l.length;for(var c in e)!t&&!yt.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ne(c,u))||l.push(c);return l}function V(e,t){for(var i=e.length;i--;)if(ue(e[i][0],t))return i;return-1}function U(e,t,i){var n=t(e);return Yt(e)?n:r(n,i(e))}function W(e){return null==e?void 0===e?Ue:Pe:It&&It in Object(e)?ie(e):se(e)}function z(e){return ge(e)&&W(e)==Ae}function G(e,t,i,n,r){return e===t||(null==e||null==t||!ge(e)&&!ge(t)?e!==e&&t!==t:$(e,t,i,n,G,r))}function $(e,t,i,n,r,a){var o=Yt(e),s=Yt(t),l=o?Ce:$t(e),u=s?Ce:$t(t);l=l==Ae?Le:l,u=u==Ae?Le:u;var c=l==Le,d=u==Le,h=l==u;if(h&&Jt(e)){if(!Jt(t))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new P),o||Kt(e)?K(e,t,i,n,r,a):X(e,t,l,i,n,r,a);if(!(i&xe)){var f=c&&yt.call(e,"__wrapped__"),p=d&&yt.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,v=p?t.value():t;return a||(a=new P),r(g,v,i,n,a)}}return!!h&&(a||(a=new P),Q(e,t,i,n,r,a))}function q(e){if(!pe(e)||ae(e))return!1;var t=he(e)?Et:it;return t.test(le(e))}function Y(e){return ge(e)&&fe(e.length)&&!!rt[W(e)]}function J(e){if(!oe(e))return Mt(e);var t=[];for(var i in Object(e))yt.call(e,i)&&"constructor"!=i&&t.push(i);return t}function K(e,t,i,n,r,o){var s=i&xe,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var d=o.get(e);if(d&&o.get(t))return d==t;var h=-1,f=!0,p=i&Ee?new M:void 0;for(o.set(e,t),o.set(t,e);++h<u;){var g=e[h],v=t[h];if(n)var m=s?n(v,g,h,t,e,o):n(g,v,h,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!a(t,function(e,t){if(!l(p,t)&&(g===e||r(g,e,i,n,o)))return p.push(t)})){f=!1;break}}else if(g!==v&&!r(g,v,i,n,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function X(e,t,i,n,r,a,o){switch(i){case Ge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ze:return!(e.byteLength!=t.byteLength||!a(new Ct(e),new Ct(t)));case Te:case Ie:case Ne:return ue(+e,+t);case De:return e.name==t.name&&e.message==t.message;case je:case He:return e==t+"";case ke:var s=c;case Be:var l=n&xe;if(s||(s=h),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=Ee,o.set(e,t);var d=K(s(e),s(t),n,r,a,o);return o.delete(e),d;case Ve:if(zt)return zt.call(e)==zt.call(t)}return!1}function Q(e,t,i,n,r,a){var o=i&xe,s=Z(e),l=s.length,u=Z(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=s[d];if(!(o?h in t:yt.call(t,h)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);for(var g=o;++d<l;){h=s[d];var v=e[h],m=t[h];if(n)var b=o?n(m,v,h,t,e,a):n(v,m,h,e,t,a);if(!(void 0===b?v===m||r(v,m,i,n,a):b)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(p=!1)}return a.delete(e),a.delete(t),p}function Z(e){return U(e,ve,Gt)}function ee(e,t){var i=e.__data__;return re(t)?i["string"==typeof t?"string":"hash"]:i.map}function te(e,t){var i=u(e,t);return q(i)?i:void 0}function ie(e){var t=yt.call(e,It),i=e[It];try{e[It]=void 0;var n=!0}catch(e){}var r=xt.call(e);return n&&(t?e[It]=i:delete e[It]),r}function ne(e,t){return t=null==t?_e:t,!!t&&("number"==typeof e||nt.test(e))&&e>-1&&e%1==0&&e<t}function re(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ae(e){return!!wt&&wt in e}function oe(e){var t=e&&e.constructor,i="function"==typeof t&&t.prototype||vt;return e===i}function se(e){return xt.call(e)}function le(e){if(null!=e){try{return bt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ue(e,t){return e===t||e!==e&&t!==t}function ce(e){return null!=e&&fe(e.length)&&!he(e)}function de(e,t){return G(e,t)}function he(e){if(!pe(e))return!1;var t=W(e);return t==Oe||t==Me||t==Se||t==Fe}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=_e}function pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ge(e){return null!=e&&"object"==typeof e}function ve(e){return ce(e)?H(e):J(e)}function me(){return[]}function be(){return!1}var ye=200,we="__lodash_hash_undefined__",xe=1,Ee=2,_e=9007199254740991,Ae="[object Arguments]",Ce="[object Array]",Se="[object AsyncFunction]",Te="[object Boolean]",Ie="[object Date]",De="[object Error]",Oe="[object Function]",Me="[object GeneratorFunction]",ke="[object Map]",Ne="[object Number]",Pe="[object Null]",Le="[object Object]",Re="[object Promise]",Fe="[object Proxy]",je="[object RegExp]",Be="[object Set]",He="[object String]",Ve="[object Symbol]",Ue="[object Undefined]",We="[object WeakMap]",ze="[object ArrayBuffer]",Ge="[object DataView]",$e="[object Float32Array]",qe="[object Float64Array]",Ye="[object Int8Array]",Je="[object Int16Array]",Ke="[object Int32Array]",Xe="[object Uint8Array]",Qe="[object Uint8ClampedArray]",Ze="[object Uint16Array]",et="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,it=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,rt={};rt[$e]=rt[qe]=rt[Ye]=rt[Je]=rt[Ke]=rt[Xe]=rt[Qe]=rt[Ze]=rt[et]=!0,rt[Ae]=rt[Ce]=rt[ze]=rt[Te]=rt[Ge]=rt[Ie]=rt[De]=rt[Oe]=rt[ke]=rt[Ne]=rt[Le]=rt[je]=rt[Be]=rt[He]=rt[We]=!1;var at="object"==typeof e&&e&&e.Object===Object&&e,ot="object"==typeof self&&self&&self.Object===Object&&self,st=at||ot||Function("return this")(),lt="object"==typeof t&&t&&!t.nodeType&&t,ut=lt&&"object"==typeof i&&i&&!i.nodeType&&i,ct=ut&&ut.exports===lt,dt=ct&&at.process,ht=function(){try{return dt&&dt.binding&&dt.binding("util")}catch(e){}}(),ft=ht&&ht.isTypedArray,pt=Array.prototype,gt=Function.prototype,vt=Object.prototype,mt=st["__core-js_shared__"],bt=gt.toString,yt=vt.hasOwnProperty,wt=function(){var e=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),xt=vt.toString,Et=RegExp("^"+bt.call(yt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=ct?st.Buffer:void 0,At=st.Symbol,Ct=st.Uint8Array,St=vt.propertyIsEnumerable,Tt=pt.splice,It=At?At.toStringTag:void 0,Dt=Object.getOwnPropertySymbols,Ot=_t?_t.isBuffer:void 0,Mt=d(Object.keys,Object),kt=te(st,"DataView"),Nt=te(st,"Map"),Pt=te(st,"Promise"),Lt=te(st,"Set"),Rt=te(st,"WeakMap"),Ft=te(Object,"create"),jt=le(kt),Bt=le(Nt),Ht=le(Pt),Vt=le(Lt),Ut=le(Rt),Wt=At?At.prototype:void 0,zt=Wt?Wt.valueOf:void 0;f.prototype.clear=p,f.prototype.delete=g,f.prototype.get=v,f.prototype.has=m,f.prototype.set=b,y.prototype.clear=w,y.prototype.delete=x,y.prototype.get=E,y.prototype.has=_,y.prototype.set=A,C.prototype.clear=S,C.prototype.delete=T,C.prototype.get=I,C.prototype.has=D,C.prototype.set=O,M.prototype.add=M.prototype.push=k,M.prototype.has=N,P.prototype.clear=L,P.prototype.delete=R,P.prototype.get=F,P.prototype.has=j,P.prototype.set=B;var Gt=Dt?function(e){return null==e?[]:(e=Object(e),n(Dt(e),function(t){return St.call(e,t)}))}:me,$t=W;(kt&&$t(new kt(new ArrayBuffer(1)))!=Ge||Nt&&$t(new Nt)!=ke||Pt&&$t(Pt.resolve())!=Re||Lt&&$t(new Lt)!=Be||Rt&&$t(new Rt)!=We)&&($t=function(e){var t=W(e),i=t==Le?e.constructor:void 0,n=i?le(i):"";if(n)switch(n){case jt:return Ge;case Bt:return ke;case Ht:return Re;case Vt:return Be;case Ut:return We}return t});var qt=z(function(){return arguments}())?z:function(e){return ge(e)&&yt.call(e,"callee")&&!St.call(e,"callee")},Yt=Array.isArray,Jt=Ot||be,Kt=ft?s(ft):Y;i.exports=de}).call(t,function(){return this}(),i(63)(e))},,,function(e,t){(function(t){function i(e,t){return null==e?void 0:e[t]}function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function r(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function a(){this.__data__=ge?ge(null):{}}function o(e){return this.has(e)&&delete this.__data__[e]}function s(e){var t=this.__data__;if(ge){var i=t[e];return i===U?void 0:i}return ue.call(t,e)?t[e]:void 0}function l(e){var t=this.__data__;return ge?void 0!==t[e]:ue.call(t,e)}function u(e,t){var i=this.__data__;return i[e]=ge&&void 0===t?U:t,this}function c(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function d(){this.__data__=[]}function h(e){var t=this.__data__,i=E(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():fe.call(t,i,1),!0}function f(e){var t=this.__data__,i=E(t,e);return i<0?void 0:t[i][1]}function p(e){return E(this.__data__,e)>-1}function g(e,t){var i=this.__data__,n=E(i,e);return n<0?i.push([e,t]):i[n][1]=t,this}function v(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function m(){this.__data__={hash:new r,map:new(pe||c),string:new r}}function b(e){return S(this,e).delete(e)}function y(e){return S(this,e).get(e)}function w(e){return S(this,e).has(e)}function x(e,t){return S(this,e).set(e,t),this}function E(e,t){for(var i=e.length;i--;)if(P(e[i][0],t))return i;return-1}function _(e){if(!R(e)||O(e))return!1;var t=L(e)||n(e)?de:Z;return t.test(k(e))}function A(e){if("string"==typeof e)return e;if(j(e))return me?me.call(e):"";var t=e+"";return"0"==t&&1/e==-W?"-0":t}function C(e){return ye(e)?e:be(e)}function S(e,t){var i=e.__data__;return D(t)?i["string"==typeof t?"string":"hash"]:i.map}function T(e,t){var n=i(e,t);return _(n)?n:void 0}function I(e,t){if(ye(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!j(e))||(Y.test(e)||!q.test(e)||null!=t&&e in Object(t))}function D(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function O(e){return!!se&&se in e}function M(e){if("string"==typeof e||j(e))return e;var t=e+"";return"0"==t&&1/e==-W?"-0":t}function k(e){if(null!=e){try{return le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function N(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(V);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=e.apply(this,n);return i.cache=a.set(r,o),o};return i.cache=new(N.Cache||v),i}function P(e,t){return e===t||e!==e&&t!==t}function L(e){var t=R(e)?ce.call(e):"";return t==z||t==G}function R(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){return!!e&&"object"==typeof e}function j(e){return"symbol"==typeof e||F(e)&&ce.call(e)==$}function B(e){return null==e?"":A(e)}function H(e,t,i){t=I(t,e)?[t]:C(t);var n=-1,r=t.length;for(r||(e=void 0,r=1);++n<r;){var a=null==e?void 0:e[M(t[n])];void 0===a&&(n=r,a=i),e=L(a)?a.call(e):a}return e}var V="Expected a function",U="__lodash_hash_undefined__",W=1/0,z="[object Function]",G="[object GeneratorFunction]",$="[object Symbol]",q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,J=/^\./,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,Q=/\\(\\)?/g,Z=/^\[object .+?Constructor\]$/,ee="object"==typeof t&&t&&t.Object===Object&&t,te="object"==typeof self&&self&&self.Object===Object&&self,ie=ee||te||Function("return this")(),ne=Array.prototype,re=Function.prototype,ae=Object.prototype,oe=ie["__core-js_shared__"],se=function(){var e=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),le=re.toString,ue=ae.hasOwnProperty,ce=ae.toString,de=RegExp("^"+le.call(ue).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=ie.Symbol,fe=ne.splice,pe=T(ie,"Map"),ge=T(Object,"create"),ve=he?he.prototype:void 0,me=ve?ve.toString:void 0;r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,c.prototype.clear=d,c.prototype.delete=h,c.prototype.get=f,c.prototype.has=p,c.prototype.set=g,v.prototype.clear=m,v.prototype.delete=b,v.prototype.get=y,v.prototype.has=w,v.prototype.set=x;var be=N(function(e){e=B(e);var t=[];return J.test(e)&&t.push(""),e.replace(K,function(e,i,n,r){t.push(n?r.replace(Q,"$1"):i||e)}),t});N.Cache=v;var ye=Array.isArray;e.exports=H}).call(t,function(){return this}())},,,,,,,,,,function(e,t,i){var n=i(694),r=i(1951),a=r(n);e.exports=a},,,,,function(e,t,i){function n(e,t,i){for(var n=i?o:a,d=e[0].length,h=e.length,f=h,p=Array(h),g=1/0,v=[];f--;){var m=e[f];f&&t&&(m=s(m,l(t))),g=c(m.length,g),p[f]=!i&&(t||d>=120&&m.length>=120)?new r(f&&m):void 0}m=e[0];var b=-1,y=p[0];e:for(;++b<d&&v.length<g;){var w=m[b],x=t?t(w):w;if(w=i||0!==w?w:0,!(y?u(y,x):n(v,x,i))){for(f=h;--f;){var E=p[f];if(!(E?u(E,x):n(e[f],x,i)))continue e}y&&y.push(x),v.push(w)}}return v}var r=i(309),a=i(450),o=i(451),s=i(174),l=i(313),u=i(314),c=Math.min;e.exports=n},,,,,,,,function(e,t,i){function n(e,t){var i=-1,n=a(e)?Array(e.length):[];return r(e,function(e,r,a){n[++i]=t(e,r,a)}),n}var r=i(1914),a=i(123);e.exports=n},,,,,function(e,t,i){function n(e,t,i){var n=-1;t=r(t.length?t:[c],l(a));var d=o(e,function(e,i,a){var o=r(t,function(t){return t(e)});return{criteria:o,index:++n,value:e}});return s(d,function(e,t){return u(e,t,i)})}var r=i(174),a=i(241),o=i(1927),s=i(1937),l=i(313),u=i(1947),c=i(320);e.exports=n},,,,,function(e,t){function i(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}e.exports=i},,,,function(e,t,i){function n(e,t,i){var n=e.length;if(n<2)return n?o(e[0]):[];for(var s=-1,l=Array(n);++s<n;)for(var u=e[s],c=-1;++c<n;)c!=s&&(l[s]=r(l[s]||u,e[c],t,i));return o(a(l,1),t,i)}var r=i(691),a=i(452),o=i(453);e.exports=n},function(e,t,i){function n(e){return r(e)?e:[]}var r=i(243);e.exports=n},,,,function(e,t,i){function n(e,t){if(e!==t){var i=void 0!==e,n=null===e,a=e===e,o=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||n&&s&&u||!i&&u||!a)return 1;if(!n&&!o&&!c&&e<t||c&&i&&a&&!n&&!o||l&&i&&a||!s&&a||!u)return-1}return 0}var r=i(207);e.exports=n},function(e,t,i){function n(e,t,i){for(var n=-1,a=e.criteria,o=t.criteria,s=a.length,l=i.length;++n<s;){var u=r(a[n],o[n]);if(u){if(n>=l)return u;var c=i[n];return u*("desc"==c?-1:1)}}return e.index-t.index}var r=i(1946);e.exports=n},,,,function(e,t,i){function n(e,t){return function(i,n){if(null==i)return i;if(!r(i))return e(i,n);for(var a=i.length,o=t?a:-1,s=Object(i);(t?o--:++o<a)&&n(s[o],o,s)!==!1;);return i}}var r=i(123);e.exports=n},,function(e,t,i){function n(e){return function(t,i,n){var s=Object(t);if(!a(t)){var l=r(i,3);t=o(t),i=function(e){return l(s[e],e,s)}}var u=e(t,i,n);return u>-1?s[l?t[u]:u]:void 0}}var r=i(241),a=i(123),o=i(244);e.exports=n},,,,,,,,,,,,,,,,function(e,t,i){function n(e){return o(e)||a(e)||!!(s&&e&&e[s])}var r=i(204),a=i(242),o=i(50),s=r?r.isConcatSpreadable:void 0;e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var n=i(176),r=i(206),a=i(457),o=i(462),s=Object.prototype,l=s.hasOwnProperty,u=n(function(e,t){e=Object(e);var i=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&a(t[0],t[1],u)&&(n=1);++i<n;)for(var c=t[i],d=o(c),h=-1,f=d.length;++h<f;){var p=d[h],g=e[p];(void 0===g||r(g,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e});e.exports=u},function(e,t,i){var n=i(1953),r=i(2004),a=n(r);e.exports=a},function(e,t,i){function n(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var l=null==i?0:o(i);return l<0&&(l=s(n+l,0)),r(e,a(t,3),l)}var r=i(692),a=i(241),o=i(2022),s=Math.max;e.exports=n},function(e,t,i){function n(e,t){return 2==t?function(t,i){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function r(e,t){return 2==t?function(t,i){return e(t,i)}:function(t){return e(t)}}function a(e){for(var t=e?e.length:0,i=Array(t);t--;)i[t]=e[t];return i}function o(e){return function(t){return e({},t)}}function s(e,t){return function(){for(var i=arguments.length,n=i-1,r=Array(i);i--;)r[i]=arguments[i];var a=r[t],o=r.slice(0,t);return a&&h.apply(o,a),t!=n&&h.apply(o,r.slice(t+1)),e.apply(this,o)}}function l(e,t){return function(){var i=arguments.length;if(i){for(var n=Array(i);i--;)n[i]=arguments[i];var r=n[0]=t.apply(void 0,n);return e.apply(void 0,n),r}}}function u(e,t,i,h){function f(e,t){if(T.cap){var i=c.iterateeRearg[e];if(i)return x(t,i);var n=!C&&c.iterateeAry[e];if(n)return w(t,n)}return t}function p(e,t,i){return I||T.curry&&i>1?F(t,i):t}function g(e,t,i){if(T.fixed&&(D||!c.skipFixed[e])){var n=c.methodSpread[e],r=n&&n.start;return void 0===r?P(t,i):s(t,r)}return t}function v(e,t,i){return T.rearg&&i>1&&(O||!c.skipRearg[e])?z(t,c.methodRearg[e]||c.aryRearg[i]):t}function m(e,t){t=$(t);for(var i=-1,n=t.length,r=n-1,a=R(Object(e)),o=a;null!=o&&++i<n;){var s=t[i],l=o[s];null==l||V(l)||H(l)||U(l)||(o[s]=R(i==r?l:Object(l))),o=o[s]}return a}function b(e){return J.runInContext.convert(e)(void 0)}function y(e,t){var i=c.aliasToReal[e]||e,n=c.remap[i]||i,r=h;return function(e){var a=C?k:N,o=C?k[n]:t,s=L(L({},r),e);return u(a,i,o,s)}}function w(e,t){return E(e,function(e){return"function"==typeof e?r(e,t):e})}function x(e,t){return E(e,function(e){var i=t.length;return n(z(r(e,i),t),i)})}function E(e,t){return function(){var i=arguments.length;if(!i)return e();for(var n=Array(i);i--;)n[i]=arguments[i];var r=T.rearg?0:i-1;return n[r]=t(n[r]),e.apply(void 0,n)}}function _(e,t){var i,n=c.aliasToReal[e]||e,r=t,s=Y[n];return s?r=s(t):T.immutable&&(c.mutate.array[n]?r=l(t,a):c.mutate.object[n]?r=l(t,o(t)):c.mutate.set[n]&&(r=l(t,m))),j(q,function(e){return j(c.aryMethod[e],function(t){if(n==t){var a=c.methodSpread[n],o=a&&a.afterRearg;return i=o?g(n,v(n,r,e),e):v(n,g(n,r,e),e),i=f(n,i),i=p(n,i,e),!1}}),!i}),i||(i=r),i==t&&(i=I?F(i,1):function(){return t.apply(this,arguments)}),i.convert=y(n,t),c.placeholder[n]&&(A=!0,i.placeholder=t.placeholder=M),i}var A,C="function"==typeof t,S=t===Object(t);if(S&&(h=i,i=t,t=void 0),null==i)throw new TypeError;h||(h={});var T={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},I="curry"in h&&h.curry,D="fixed"in h&&h.fixed,O="rearg"in h&&h.rearg,M=C?i:d,k=C?i.runInContext():void 0,N=C?i:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},P=N.ary,L=N.assign,R=N.clone,F=N.curry,j=N.forEach,B=N.isArray,H=N.isError,V=N.isFunction,U=N.isWeakMap,W=N.keys,z=N.rearg,G=N.toInteger,$=N.toPath,q=W(c.aryMethod),Y={castArray:function(e){return function(){var t=arguments[0];return B(t)?e(a(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],i=arguments[1],n=e(t,i),a=n.length;return T.cap&&"number"==typeof i?(i=i>2?i-2:1,a&&a<=i?n:r(n,i)):n}},mixin:function(e){return function(t){var i=this;if(!V(i))return e(i,Object(t));var n=[];return j(W(t),function(e){V(t[e])&&n.push([e,i.prototype[e]])}),e(i,Object(t)),j(n,function(e){var t=e[1];V(t)?i.prototype[e[0]]=t:delete i.prototype[e[0]]}),i}},nthArg:function(e){return function(t){var i=t<0?1:G(t)+1;return F(e(t),i)}},rearg:function(e){return function(t,i){var n=i?i.length:0;return F(e(t,i),n)}},runInContext:function(t){return function(i){return u(e,t(i),h)}}};if(!S)return _(t,i);var J=i,K=[];return j(q,function(e){j(c.aryMethod[e],function(e){var t=J[c.remap[e]||e];t&&K.push([e,_(e,t)])})}),j(W(J),function(e){var t=J[e];if("function"==typeof t){for(var i=K.length;i--;)if(K[i][0]==e)return;t.convert=y(e,t),K.push([e,t])}}),j(K,function(e){J[e[0]]=e[1]}),J.convert=b,A&&(J.placeholder=M),j(W(J),function(e){j(c.realToAlias[e]||[],function(t){J[t]=J[e]})}),J}var c=i(2006),d=i(2007),h=Array.prototype.push;e.exports=u},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,
partial:!0,partialRight:!0},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,i=t.aliasToReal,n={};for(var r in i){var a=i[r];e.call(n,a)?n[a].push(r):n[a]=[r]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t){e.exports={}},,function(e,t,i){var n=i(174),r=i(1919),a=i(176),o=i(1942),s=a(function(e){var t=n(e,o);return t.length&&t[0]===e[0]?r(t):[]});e.exports=s},,,,function(e,t,i){var n;(function(e,r){(function(){function a(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function o(e,t,i,n){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(n,o,i(o),e)}return n}function s(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function l(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function u(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function c(e,t){for(var i=-1,n=null==e?0:e.length,r=0,a=[];++i<n;){var o=e[i];t(o,i,e)&&(a[r++]=o)}return a}function d(e,t){return!(null==e||!e.length)&&-1<w(e,t,0)}function h(e,t,i){for(var n=-1,r=null==e?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}function f(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}function p(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}function g(e,t,i,n){var r=-1,a=null==e?0:e.length;for(n&&a&&(i=e[++r]);++r<a;)i=t(i,e[r],r,e);return i}function v(e,t,i,n){var r=null==e?0:e.length;for(n&&r&&(i=e[--r]);r--;)i=t(i,e[r],r,e);return i}function m(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}function b(e,t,i){var n;return i(e,function(e,i,r){if(t(e,i,r))return n=i,!1}),n}function y(e,t,i,n){var r=e.length;for(i+=n?1:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function w(e,t,i){if(t===t)e:{--i;for(var n=e.length;++i<n;)if(e[i]===t){e=i;break e}e=-1}else e=y(e,E,i);return e}function x(e,t,i,n){--i;for(var r=e.length;++i<r;)if(n(e[i],t))return i;return-1}function E(e){return e!==e}function _(e,t){var i=null==e?0:e.length;return i?I(e,t)/i:$}function A(e){return function(t){return null==t?z:t[e]}}function C(e){return function(t){return null==e?z:e[t]}}function S(e,t,i,n,r){return r(e,function(e,r,a){i=n?(n=!1,e):t(i,e,r,a)}),i}function T(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].c;return e}function I(e,t){for(var i,n=-1,r=e.length;++n<r;){var a=t(e[n]);a!==z&&(i=i===z?a:i+a)}return i}function D(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function O(e,t){return f(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function k(e,t){return f(t,function(t){return e[t]})}function N(e,t){return e.has(t)}function P(e,t){for(var i=-1,n=e.length;++i<n&&-1<w(t,e[i],0););return i}function L(e,t){for(var i=e.length;i--&&-1<w(t,e[i],0););return i}function R(e){return"\\"+He[e]}function F(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}function j(e,t){return function(i){return e(t(i))}}function B(e,t){for(var i=-1,n=e.length,r=0,a=[];++i<n;){var o=e[i];o!==t&&"__lodash_placeholder__"!==o||(e[i]="__lodash_placeholder__",a[r++]=i)}return a}function H(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}function V(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=[e,e]}),i}function U(e){if(Pe.test(e)){for(var t=ke.lastIndex=0;ke.test(e);)++t;e=t}else e=it(e);return e}function W(e){return Pe.test(e)?e.match(ke)||[]:e.split("")}var z,G=1/0,$=NaN,q=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Y=/\b__p\+='';/g,J=/\b(__p\+=)''\+/g,K=/(__e\(.*?\)|\b__t\))\+'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,Z=RegExp(X.source),ee=RegExp(Q.source),te=/<%-([\s\S]+?)%>/g,ie=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,se=/[\\^$.*+?()[\]{}|]/g,le=RegExp(se.source),ue=/^\s+|\s+$/g,ce=/^\s+/,de=/\s+$/,he=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,fe=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ve=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,xe=/^\[object .+?Constructor\]$/,Ee=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ce=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Te="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",Ie="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Te,De="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Oe=RegExp("['’]","g"),Me=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),ke=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+De+Te,"g"),Ne=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])|\\d+",Ie].join("|"),"g"),Pe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1;var je={};je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object DataView]"]=je["[object Boolean]"]=je["[object Date]"]=je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object Symbol]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Error]"]=je["[object Function]"]=je["[object WeakMap]"]=!1;var Be,He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,Ue=parseInt,We="object"==typeof e&&e&&e.Object===Object&&e,ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=We||ze||Function("return this")(),$e="object"==typeof t&&t&&!t.nodeType&&t,qe=$e&&"object"==typeof r&&r&&!r.nodeType&&r,Ye=qe&&qe.exports===$e,Je=Ye&&We.process;e:{try{Be=Je&&Je.binding&&Je.binding("util");break e}catch(e){}Be=void 0}var Ke=Be&&Be.isArrayBuffer,Xe=Be&&Be.isDate,Qe=Be&&Be.isMap,Ze=Be&&Be.isRegExp,et=Be&&Be.isSet,tt=Be&&Be.isTypedArray,it=A("length"),nt=C({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rt=C({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),at=C({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ot=function e(t){function i(e){if(mr(e)&&!as(e)&&!(e instanceof C)){if(e instanceof r)return e;if(aa.call(e,"__wrapped__"))return Hn(e)}return new r(e)}function n(){}function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=z}function C(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Te(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function De(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new De;++t<i;)this.add(e[t])}function Be(e){this.size=(this.__data__=new Ie(e)).size}function He(e,t){var i,n=as(e),r=!n&&rs(e),a=!n&&!r&&ss(e),o=!n&&!r&&!a&&hs(e),r=(n=n||r||a||o)?D(e.length,Zr):[],s=r.length;for(i in e)!t&&!aa.call(e,i)||n&&("length"==i||a&&("offset"==i||"parent"==i)||o&&("buffer"==i||"byteLength"==i||"byteOffset"==i)||Tn(i,s))||r.push(i);return r}function We(e){var t=e.length;return t?e[ri(0,t-1)]:z}function ze(e,t){return Rn(Pi(e),ht(t,0,e.length))}function $e(e){return Rn(Pi(e))}function qe(e,t,i){(i===z||ur(e[t],i))&&(i!==z||t in e)||ct(e,t,i)}function Je(e,t,i){var n=e[t];aa.call(e,t)&&ur(n,i)&&(i!==z||t in e)||ct(e,t,i)}function it(e,t){for(var i=e.length;i--;)if(ur(e[i][0],t))return i;return-1}function st(e,t,i,n){return no(e,function(e,r,a){t(n,e,i(e),a)}),n}function lt(e,t){return e&&Li(t,Mr(t),e)}function ut(e,t){return e&&Li(t,kr(t),e)}function ct(e,t,i){"__proto__"==t&&_a?_a(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function dt(e,t){for(var i=-1,n=t.length,r=$r(n),a=null==e;++i<n;)r[i]=a?z:Dr(e,t[i]);return r}function ht(e,t,i){return e===e&&(i!==z&&(e=e<=i?e:i),t!==z&&(e=e>=t?e:t)),e}function ft(e,t,i,n,r,a){var o,l=1&t,u=2&t,c=4&t;if(i&&(o=r?i(e,n,r,a):i(e)),o!==z)return o;if(!vr(e))return e;if(n=as(e)){if(o=_n(e),!l)return Pi(e,o)}else{var d=go(e),h="[object Function]"==d||"[object GeneratorFunction]"==d;if(ss(e))return Ii(e,l);if("[object Object]"==d||"[object Arguments]"==d||h&&!r){if(o=u||h?{}:An(e),!l)return u?Fi(e,ut(o,e)):Ri(e,lt(o,e))}else{if(!je[d])return r?e:{};o=Cn(e,d,l)}}if(a||(a=new Be),r=a.get(e))return r;if(a.set(e,o),ds(e))return e.forEach(function(n){o.add(ft(n,t,i,n,e,a))}),o;if(us(e))return e.forEach(function(n,r){o.set(r,ft(n,t,i,r,e,a))}),o;var u=c?u?gn:pn:u?kr:Mr,f=n?z:u(e);return s(f||e,function(n,r){f&&(r=n,n=e[r]),Je(o,r,ft(n,t,i,r,e,a))}),o}function pt(e){var t=Mr(e);return function(i){return gt(i,e,t)}}function gt(e,t,i){var n=i.length;if(null==e)return!n;for(e=Xr(e);n--;){var r=i[n],a=t[r],o=e[r];if(o===z&&!(r in e)||!a(o))return!1}return!0}function vt(e,t,i){if("function"!=typeof e)throw new ea("Expected a function");return bo(function(){e.apply(z,i)},t)}function mt(e,t,i,n){var r=-1,a=d,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;i&&(t=f(t,M(i))),n?(a=h,o=!1):200<=t.length&&(a=N,o=!1,t=new ke(t));e:for(;++r<s;){var c=e[r],p=null==i?c:i(c),c=n||0!==c?c:0;if(o&&p===p){for(var g=u;g--;)if(t[g]===p)continue e;l.push(c)}else a(t,p,n)||l.push(c)}return l}function bt(e,t){var i=!0;return no(e,function(e,n,r){return i=!!t(e,n,r)}),i}function yt(e,t,i){for(var n=-1,r=e.length;++n<r;){var a=e[n],o=t(a);if(null!=o&&(s===z?o===o&&!xr(o):i(o,s)))var s=o,l=a}return l}function wt(e,t){var i=[];return no(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function xt(e,t,i,n,r){var a=-1,o=e.length;for(i||(i=Sn),r||(r=[]);++a<o;){var s=e[a];0<t&&i(s)?1<t?xt(s,t-1,i,n,r):p(r,s):n||(r[r.length]=s)}return r}function Et(e,t){return e&&ao(e,t,Mr)}function _t(e,t){return e&&oo(e,t,Mr)}function At(e,t){return c(t,function(t){return fr(e[t])})}function Ct(e,t){t=Si(t,e);for(var i=0,n=t.length;null!=e&&i<n;)e=e[Fn(t[i++])];return i&&i==n?e:z}function St(e,t,i){return t=t(e),as(e)?t:p(t,i(e))}function Tt(e){if(null==e)e=e===z?"[object Undefined]":"[object Null]";else if(Ea&&Ea in Xr(e)){var t=aa.call(e,Ea),i=e[Ea];try{e[Ea]=z;var n=!0}catch(e){}var r=la.call(e);n&&(t?e[Ea]=i:delete e[Ea]),e=r}else e=la.call(e);return e}function It(e,t){return e>t}function Dt(e,t){return null!=e&&aa.call(e,t)}function Ot(e,t){return null!=e&&t in Xr(e)}function Mt(e,t,i){for(var n=i?h:d,r=e[0].length,a=e.length,o=a,s=$r(a),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=f(c,M(t))),l=La(c.length,l),s[o]=!i&&(t||120<=r&&120<=c.length)?new ke(o&&c):z}var c=e[0],p=-1,g=s[0];e:for(;++p<r&&u.length<l;){var v=c[p],m=t?t(v):v,v=i||0!==v?v:0;if(g?!N(g,m):!n(u,m,i)){for(o=a;--o;){var b=s[o];if(b?!N(b,m):!n(e[o],m,i))continue e}g&&g.push(m),u.push(v)}}return u}function kt(e,t,i){var n={};return Et(e,function(e,r,a){t(n,i(e),r,a)}),n}function Nt(e,t,i){return t=Si(t,e),e=2>t.length?e:Ct(e,di(t,0,-1)),t=null==e?e:e[Fn(Gn(t))],null==t?z:a(t,e,i)}function Pt(e){return mr(e)&&"[object Arguments]"==Tt(e)}function Lt(e){return mr(e)&&"[object ArrayBuffer]"==Tt(e)}function Rt(e){return mr(e)&&"[object Date]"==Tt(e)}function Ft(e,t,i,n,r){if(e===t)t=!0;else if(null==e||null==t||!mr(e)&&!mr(t))t=e!==e&&t!==t;else e:{var a=as(e),o=as(t),s=a?"[object Array]":go(e),l=o?"[object Array]":go(t),s="[object Arguments]"==s?"[object Object]":s,l="[object Arguments]"==l?"[object Object]":l,u="[object Object]"==s,o="[object Object]"==l;if((l=s==l)&&ss(e)){if(!ss(t)){t=!1;break e}a=!0,u=!1}if(l&&!u)r||(r=new Be),t=a||hs(e)?dn(e,t,i,n,Ft,r):hn(e,t,s,i,n,Ft,r);else{if(!(1&i)&&(a=u&&aa.call(e,"__wrapped__"),s=o&&aa.call(t,"__wrapped__"),a||s)){e=a?e.value():e,t=s?t.value():t,r||(r=new Be),t=Ft(e,t,i,n,r);break e}if(l)t:if(r||(r=new Be),a=1&i,s=pn(e),o=s.length,l=pn(t).length,o==l||a){for(u=o;u--;){var c=s[u];if(!(a?c in t:aa.call(t,c))){t=!1;break t}}if((l=r.get(e))&&r.get(t))t=l==t;else{l=!0,r.set(e,t),r.set(t,e);for(var d=a;++u<o;){var c=s[u],h=e[c],f=t[c];if(n)var p=a?n(f,h,c,t,e,r):n(h,f,c,e,t,r);if(p===z?h!==f&&!Ft(h,f,i,n,r):!p){l=!1;break}d||(d="constructor"==c)}l&&!d&&(i=e.constructor,n=t.constructor,i!=n&&"constructor"in e&&"constructor"in t&&!("function"==typeof i&&i instanceof i&&"function"==typeof n&&n instanceof n)&&(l=!1)),r.delete(e),r.delete(t),t=l}}else t=!1;else t=!1}}return t}function jt(e){return mr(e)&&"[object Map]"==go(e)}function Bt(e,t,i,n){var r=i.length,a=r,o=!n;if(null==e)return!a;for(e=Xr(e);r--;){var s=i[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){var s=i[r],l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===z&&!(l in e))return!1}else{if(s=new Be,n)var d=n(u,c,l,e,t,s);if(d===z?!Ft(c,u,3,n,s):!d)return!1}}return!0}function Ht(e){return!(!vr(e)||sa&&sa in e)&&(fr(e)?da:xe).test(jn(e))}function Vt(e){return mr(e)&&"[object RegExp]"==Tt(e)}function Ut(e){return mr(e)&&"[object Set]"==go(e)}function Wt(e){return mr(e)&&gr(e.length)&&!!Fe[Tt(e)]}function zt(e){return"function"==typeof e?e:null==e?Br:"object"==typeof e?as(e)?Jt(e[0],e[1]):Yt(e):Wr(e)}function Gt(e){if(!Mn(e))return Na(e);var t,i=[];for(t in Xr(e))aa.call(e,t)&&"constructor"!=t&&i.push(t);return i}function $t(e,t){return e<t}function qt(e,t){var i=-1,n=cr(e)?$r(e.length):[];return no(e,function(e,r,a){n[++i]=t(e,r,a)}),n}function Yt(e){var t=wn(e);return 1==t.length&&t[0][2]?kn(t[0][0],t[0][1]):function(i){return i===e||Bt(i,e,t)}}function Jt(e,t){return Dn(e)&&t===t&&!vr(t)?kn(Fn(e),t):function(i){var n=Dr(i,e);return n===z&&n===t?Or(i,e):Ft(t,n,3)}}function Kt(e,t,i,n,r){e!==t&&ao(t,function(a,o){if(vr(a)){r||(r=new Be);var s=r,l="__proto__"==o?z:e[o],u="__proto__"==o?z:t[o],c=s.get(u);if(c)qe(e,o,c);else{var c=n?n(l,u,o+"",e,t,s):z,d=c===z;if(d){var h=as(u),f=!h&&ss(u),p=!h&&!f&&hs(u),c=u;h||f||p?as(l)?c=l:dr(l)?c=Pi(l):f?(d=!1,c=Ii(u,!0)):p?(d=!1,c=Oi(u,!0)):c=[]:yr(u)||rs(u)?(c=l,rs(l)?c=Tr(l):(!vr(l)||i&&fr(l))&&(c=An(u))):d=!1}d&&(s.set(u,c),Kt(c,u,i,n,s),s.delete(u)),qe(e,o,c)}}else s=n?n("__proto__"==o?z:e[o],a,o+"",e,t,r):z,s===z&&(s=a),qe(e,o,s)},kr)}function Xt(e,t){var i=e.length;if(i)return t+=0>t?i:0,Tn(t,i)?e[t]:z}function Qt(e,t,i){var n=-1;return t=f(t.length?t:[Br],M(bn())),e=qt(e,function(e){return{a:f(t,function(t){return t(e)}),b:++n,c:e}}),T(e,function(e,t){var n;e:{n=-1;for(var r=e.a,a=t.a,o=r.length,s=i.length;++n<o;){var l=Mi(r[n],a[n]);if(l){n=n>=s?l:l*("desc"==i[n]?-1:1);break e}}n=e.b-t.b}return n})}function Zt(e,t){return ei(e,t,function(t,i){return Or(e,i)})}function ei(e,t,i){for(var n=-1,r=t.length,a={};++n<r;){var o=t[n],s=Ct(e,o);i(s,o)&&ui(a,Si(o,e),s)}return a}function ti(e){return function(t){return Ct(t,e)}}function ii(e,t,i,n){var r=n?x:w,a=-1,o=t.length,s=e;for(e===t&&(t=Pi(t)),i&&(s=f(e,M(i)));++a<o;)for(var l=0,u=t[a],u=i?i(u):u;-1<(l=r(s,u,l,n));)s!==e&&ya.call(s,l,1),ya.call(e,l,1);return e}function ni(e,t){for(var i=e?t.length:0,n=i-1;i--;){var r=t[i];if(i==n||r!==a){var a=r;Tn(r)?ya.call(e,r,1):yi(e,r)}}}function ri(e,t){return e+Ia(ja()*(t-e+1))}function ai(e,t){var i="";if(!e||1>t||9007199254740991<t)return i;do t%2&&(i+=e),(t=Ia(t/2))&&(e+=e);while(t);return i}function oi(e,t){return yo(Nn(e,t,Br),e+"")}function si(e){return We(Pr(e))}function li(e,t){var i=Pr(e);return Rn(i,ht(t,0,i.length))}function ui(e,t,i,n){if(!vr(e))return e;t=Si(t,e);for(var r=-1,a=t.length,o=a-1,s=e;null!=s&&++r<a;){var l=Fn(t[r]),u=i;if(r!=o){var c=s[l],u=n?n(c,l,s):z;u===z&&(u=vr(c)?c:Tn(t[r+1])?[]:{})}Je(s,l,u),s=s[l]}return e}function ci(e){return Rn(Pr(e))}function di(e,t,i){var n=-1,r=e.length;for(0>t&&(t=-t>r?0:r+t),i=i>r?r:i,0>i&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0,i=$r(r);++n<r;)i[n]=e[n+t];return i}function hi(e,t){var i;return no(e,function(e,n,r){return i=t(e,n,r),!i}),!!i}function fi(e,t,i){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t===t&&2147483647>=r){for(;n<r;){var a=n+r>>>1,o=e[a];null!==o&&!xr(o)&&(i?o<=t:o<t)?n=a+1:r=a}return r}return pi(e,t,Br,i)}function pi(e,t,i,n){t=i(t);for(var r=0,a=null==e?0:e.length,o=t!==t,s=null===t,l=xr(t),u=t===z;r<a;){var c=Ia((r+a)/2),d=i(e[c]),h=d!==z,f=null===d,p=d===d,g=xr(d);(o?n||p:u?p&&(n||h):s?p&&h&&(n||!f):l?p&&h&&!f&&(n||!g):f||g?0:n?d<=t:d<t)?r=c+1:a=c}return La(a,4294967294)}function gi(e,t){for(var i=-1,n=e.length,r=0,a=[];++i<n;){var o=e[i],s=t?t(o):o;if(!i||!ur(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function vi(e){return"number"==typeof e?e:xr(e)?$:+e}function mi(e){if("string"==typeof e)return e;if(as(e))return f(e,mi)+"";if(xr(e))return to?to.call(e):"";var t=e+"";return"0"==t&&1/e==-G?"-0":t}function bi(e,t,i){var n=-1,r=d,a=e.length,o=!0,s=[],l=s;if(i)o=!1,r=h;else if(200<=a){if(r=t?null:co(e))return H(r);o=!1,r=N,l=new ke}else l=t?[]:s;e:for(;++n<a;){var u=e[n],c=t?t(u):u,u=i||0!==u?u:0;if(o&&c===c){for(var f=l.length;f--;)if(l[f]===c)continue e;t&&l.push(c),s.push(u)}else r(l,c,i)||(l!==s&&l.push(c),s.push(u))}return s}function yi(e,t){return t=Si(t,e),e=2>t.length?e:Ct(e,di(t,0,-1)),null==e||delete e[Fn(Gn(t))]}function wi(e,t,i,n){for(var r=e.length,a=n?r:-1;(n?a--:++a<r)&&t(e[a],a,e););return i?di(e,n?0:a,n?a+1:r):di(e,n?a+1:0,n?r:a)}function xi(e,t){var i=e;return i instanceof C&&(i=i.value()),g(t,function(e,t){return t.func.apply(t.thisArg,p([e],t.args))},i)}function Ei(e,t,i){var n=e.length;if(2>n)return n?bi(e[0]):[];for(var r=-1,a=$r(n);++r<n;)for(var o=e[r],s=-1;++s<n;)s!=r&&(a[r]=mt(a[r]||o,e[s],t,i));return bi(xt(a,1),t,i)}function _i(e,t,i){for(var n=-1,r=e.length,a=t.length,o={};++n<r;)i(o,e[n],n<a?t[n]:z);return o}function Ai(e){return dr(e)?e:[]}function Ci(e){return"function"==typeof e?e:Br}function Si(e,t){return as(e)?e:Dn(e,t)?[e]:wo(Ir(e))}function Ti(e,t,i){var n=e.length;return i=i===z?n:i,!t&&i>=n?e:di(e,t,i)}function Ii(e,t){if(t)return e.slice();var i=e.length,i=ga?ga(i):new e.constructor(i);return e.copy(i),i}function Di(e){var t=new e.constructor(e.byteLength);return new pa(t).set(new pa(e)),t}function Oi(e,t){return new e.constructor(t?Di(e.buffer):e.buffer,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var i=e!==z,n=null===e,r=e===e,a=xr(e),o=t!==z,s=null===t,l=t===t,u=xr(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!i&&l||!r)return 1;if(!n&&!a&&!u&&e<t||u&&i&&r&&!n&&!a||s&&i&&r||!o&&r||!l)return-1}return 0}function ki(e,t,i,n){var r=-1,a=e.length,o=i.length,s=-1,l=t.length,u=Pa(a-o,0),c=$r(l+u);for(n=!n;++s<l;)c[s]=t[s];for(;++r<o;)(n||r<a)&&(c[i[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Ni(e,t,i,n){var r=-1,a=e.length,o=-1,s=i.length,l=-1,u=t.length,c=Pa(a-s,0),d=$r(c+u);for(n=!n;++r<c;)d[r]=e[r];for(c=r;++l<u;)d[c+l]=t[l];for(;++o<s;)(n||r<a)&&(d[c+i[o]]=e[r++]);return d}function Pi(e,t){var i=-1,n=e.length;for(t||(t=$r(n));++i<n;)t[i]=e[i];return t}function Li(e,t,i,n){var r=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(i[s],e[s],s,i,e):z;l===z&&(l=e[s]),r?ct(i,s,l):Je(i,s,l)}return i}function Ri(e,t){return Li(e,fo(e),t)}function Fi(e,t){return Li(e,po(e),t)}function ji(e,t){return function(i,n){var r=as(i)?o:st,a=t?t():{};return r(i,e,bn(n,2),a)}}function Bi(e){return oi(function(t,i){var n=-1,r=i.length,a=1<r?i[r-1]:z,o=2<r?i[2]:z,a=3<e.length&&"function"==typeof a?(r--,a):z;for(o&&In(i[0],i[1],o)&&(a=3>r?z:a,r=1),t=Xr(t);++n<r;)(o=i[n])&&e(t,o,n,a);return t})}function Hi(e,t){return function(i,n){if(null==i)return i;if(!cr(i))return e(i,n);for(var r=i.length,a=t?r:-1,o=Xr(i);(t?a--:++a<r)&&!1!==n(o[a],a,o););return i}}function Vi(e){return function(t,i,n){var r=-1,a=Xr(t);n=n(t);for(var o=n.length;o--;){var s=n[e?o:++r];if(!1===i(a[s],s,a))break}return t}}function Ui(e,t,i){function n(){return(this&&this!==Ge&&this instanceof n?a:e).apply(r?i:this,arguments)}var r=1&t,a=Gi(e);return n}function Wi(e){return function(t){t=Ir(t);var i=Pe.test(t)?W(t):z,n=i?i[0]:t.charAt(0);return t=i?Ti(i,1).join(""):t.slice(1),n[e]()+t}}function zi(e){return function(t){return g(Fr(Rr(t).replace(Oe,"")),e,"")}}function Gi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=io(e.prototype),t=e.apply(i,t);return vr(t)?t:i}}function $i(e,t,i){function n(){for(var o=arguments.length,s=$r(o),l=o,u=mn(n);l--;)s[l]=arguments[l];return l=3>o&&s[0]!==u&&s[o-1]!==u?[]:B(s,u),o-=l.length,o<i?rn(e,t,Ji,n.placeholder,z,s,l,z,z,i-o):a(this&&this!==Ge&&this instanceof n?r:e,this,s)}var r=Gi(e);return n}function qi(e){return function(t,i,n){var r=Xr(t);if(!cr(t)){var a=bn(i,3);t=Mr(t),i=function(e){return a(r[e],e,r)}}return i=e(t,i,n),-1<i?r[a?t[i]:i]:z}}function Yi(e){return fn(function(t){var i=t.length,n=i,a=r.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new ea("Expected a function");if(a&&!s&&"wrapper"==vn(o))var s=new r([],!0)}for(n=s?n:i;++n<i;)var o=t[n],a=vn(o),l="wrapper"==a?ho(o):z,s=l&&On(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[vn(l[0])].apply(s,l[3]):1==o.length&&On(o)?s[a]():s.thru(o);return function(){var e=arguments,n=e[0];if(s&&1==e.length&&as(n))return s.plant(n).value();for(var r=0,e=i?t[r].apply(this,e):n;++r<i;)e=t[r].call(this,e);return e}})}function Ji(e,t,i,n,r,a,o,s,l,u){function c(){for(var m=arguments.length,b=$r(m),y=m;y--;)b[y]=arguments[y];if(p){var w,x=mn(c),y=b.length;for(w=0;y--;)b[y]===x&&++w}if(n&&(b=ki(b,n,r,p)),a&&(b=Ni(b,a,o,p)),m-=w,p&&m<u)return x=B(b,x),rn(e,t,Ji,c.placeholder,i,b,x,s,l,u-m);if(x=h?i:this,y=f?x[e]:e,m=b.length,s){w=b.length;for(var E=La(s.length,w),_=Pi(b);E--;){var A=s[E];b[E]=Tn(A,w)?_[A]:z}}else g&&1<m&&b.reverse();return d&&l<m&&(b.length=l),this&&this!==Ge&&this instanceof c&&(y=v||Gi(y)),y.apply(x,b)}var d=128&t,h=1&t,f=2&t,p=24&t,g=512&t,v=f?z:Gi(e);return c}function Ki(e,t){return function(i,n){return kt(i,e,t(n))}}function Xi(e,t){return function(i,n){var r;if(i===z&&n===z)return t;if(i!==z&&(r=i),n!==z){if(r===z)return n;"string"==typeof i||"string"==typeof n?(i=mi(i),n=mi(n)):(i=vi(i),n=vi(n)),r=e(i,n)}return r}}function Qi(e){return fn(function(t){return t=f(t,M(bn())),oi(function(i){var n=this;return e(t,function(e){return a(e,n,i)})})})}function Zi(e,t){t=t===z?" ":mi(t);var i=t.length;return 2>i?i?ai(t,e):t:(i=ai(t,Ta(e/U(t))),Pe.test(t)?Ti(W(i),0,e).join(""):i.slice(0,e))}function en(e,t,i,n){function r(){for(var t=-1,l=arguments.length,u=-1,c=n.length,d=$r(c+l),h=this&&this!==Ge&&this instanceof r?s:e;++u<c;)d[u]=n[u];for(;l--;)d[u++]=arguments[++t];return a(h,o?i:this,d)}var o=1&t,s=Gi(e);return r}function tn(e){return function(t,i,n){n&&"number"!=typeof n&&In(t,i,n)&&(i=n=z),t=_r(t),i===z?(i=t,t=0):i=_r(i),n=n===z?t<i?1:-1:_r(n);var r=-1;i=Pa(Ta((i-t)/(n||1)),0);for(var a=$r(i);i--;)a[e?i:++r]=t,t+=n;return a}}function nn(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=Sr(t),i=Sr(i)),e(t,i)}}function rn(e,t,i,n,r,a,o,s,l,u){var c=8&t,d=c?o:z;o=c?z:o;var h=c?a:z;return a=c?z:a,t=(t|(c?32:64))&~(c?64:32),4&t||(t&=-4),r=[e,t,r,h,d,a,o,s,l,u],i=i.apply(z,r),On(e)&&mo(i,r),i.placeholder=n,Pn(i,e,t)}function an(e){var t=Kr[e];return function(e,i){if(e=Sr(e),i=null==i?0:La(Ar(i),292)){var n=(Ir(e)+"e").split("e"),n=t(n[0]+"e"+(+n[1]+i)),n=(Ir(n)+"e").split("e");return+(n[0]+"e"+(+n[1]-i))}return t(e)}}function on(e){return function(t){var i=go(t);return"[object Map]"==i?F(t):"[object Set]"==i?V(t):O(t,e(t))}}function sn(e,t,i,n,r,a,o,s){var l=2&t;if(!l&&"function"!=typeof e)throw new ea("Expected a function");var u=n?n.length:0;if(u||(t&=-97,n=r=z),o=o===z?o:Pa(Ar(o),0),s=s===z?s:Ar(s),u-=r?r.length:0,64&t){var c=n,d=r;n=r=z}var h=l?z:ho(e);return a=[e,t,i,n,r,c,d,a,o,s],h&&(i=a[1],e=h[1],t=i|e,n=128==e&&8==i||128==e&&256==i&&a[7].length<=h[8]||384==e&&h[7].length<=h[8]&&8==i,131>t||n)&&(1&e&&(a[2]=h[2],t|=1&i?0:4),(i=h[3])&&(n=a[3],a[3]=n?ki(n,i,h[4]):i,a[4]=n?B(a[3],"__lodash_placeholder__"):h[4]),(i=h[5])&&(n=a[5],a[5]=n?Ni(n,i,h[6]):i,a[6]=n?B(a[5],"__lodash_placeholder__"):h[6]),(i=h[7])&&(a[7]=i),128&e&&(a[8]=null==a[8]?h[8]:La(a[8],h[8])),null==a[9]&&(a[9]=h[9]),a[0]=h[0],a[1]=t),e=a[0],t=a[1],i=a[2],n=a[3],r=a[4],s=a[9]=a[9]===z?l?0:e.length:Pa(a[9]-u,0),!s&&24&t&&(t&=-25),Pn((h?so:mo)(t&&1!=t?8==t||16==t?$i(e,t,s):32!=t&&33!=t||r.length?Ji.apply(z,a):en(e,t,i,n):Ui(e,t,i),a),e,t)}function ln(e,t,i,n){return e===z||ur(e,ia[i])&&!aa.call(n,i)?t:e}function un(e,t,i,n,r,a){return vr(e)&&vr(t)&&(a.set(t,e),Kt(e,t,z,un,a),a.delete(t)),e}function cn(e){return yr(e)?z:e}function dn(e,t,i,n,r,a){var o=1&i,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;if((l=a.get(e))&&a.get(t))return l==t;var l=-1,u=!0,c=2&i?new ke:z;for(a.set(e,t),a.set(t,e);++l<s;){var d=e[l],h=t[l];if(n)var f=o?n(h,d,l,t,e,a):n(d,h,l,e,t,a);if(f!==z){if(f)continue;u=!1;break}if(c){if(!m(t,function(e,t){if(!N(c,t)&&(d===e||r(d,e,i,n,a)))return c.push(t)})){u=!1;break}}else if(d!==h&&!r(d,h,i,n,a)){u=!1;break}}return a.delete(e),a.delete(t),u}function hn(e,t,i,n,r,a,o){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new pa(e),new pa(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ur(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=F;case"[object Set]":if(s||(s=H),e.size!=t.size&&!(1&n))break;return(i=o.get(e))?i==t:(n|=2,o.set(e,t),t=dn(s(e),s(t),n,r,a,o),o.delete(e),t);case"[object Symbol]":if(eo)return eo.call(e)==eo.call(t)}return!1}function fn(e){return yo(Nn(e,z,Wn),e+"")}function pn(e){return St(e,Mr,fo)}function gn(e){
return St(e,kr,po)}function vn(e){for(var t=e.name+"",i=qa[t],n=aa.call(qa,t)?i.length:0;n--;){var r=i[n],a=r.func;if(null==a||a==e)return r.name}return t}function mn(e){return(aa.call(i,"placeholder")?i:e).placeholder}function bn(){var e=i.iteratee||Hr,e=e===Hr?zt:e;return arguments.length?e(arguments[0],arguments[1]):e}function yn(e,t){var i=e.__data__,n=typeof t;return("string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?i["string"==typeof t?"string":"hash"]:i.map}function wn(e){for(var t=Mr(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,r===r&&!vr(r)]}return t}function xn(e,t){var i=null==e?z:e[t];return Ht(i)?i:z}function En(e,t,i){t=Si(t,e);for(var n=-1,r=t.length,a=!1;++n<r;){var o=Fn(t[n]);if(!(a=null!=e&&i(e,o)))break;e=e[o]}return a||++n!=r?a:(r=null==e?0:e.length,!!r&&gr(r)&&Tn(o,r)&&(as(e)||rs(e)))}function _n(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&aa.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function An(e){return"function"!=typeof e.constructor||Mn(e)?{}:io(va(e))}function Cn(e,t,i){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Di(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return t=i?Di(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Oi(e,i);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return t=new e.constructor(e.source,be.exec(e)),t.lastIndex=e.lastIndex,t;case"[object Set]":return new n;case"[object Symbol]":return eo?Xr(eo.call(e)):{}}}function Sn(e){return as(e)||rs(e)||!!(wa&&e&&e[wa])}function Tn(e,t){var i=typeof e;return t=null==t?9007199254740991:t,!!t&&("number"==i||"symbol"!=i&&_e.test(e))&&-1<e&&0==e%1&&e<t}function In(e,t,i){if(!vr(i))return!1;var n=typeof t;return!!("number"==n?cr(i)&&Tn(t,i.length):"string"==n&&t in i)&&ur(i[t],e)}function Dn(e,t){if(as(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!xr(e))||ae.test(e)||!re.test(e)||null!=t&&e in Xr(t)}function On(e){var t=vn(e),n=i[t];return"function"==typeof n&&t in C.prototype&&(e===n||(t=ho(n),!!t&&e===t[0]))}function Mn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ia)}function kn(e,t){return function(i){return null!=i&&i[e]===t&&(t!==z||e in Xr(i))}}function Nn(e,t,i){return t=Pa(t===z?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=Pa(n.length-t,0),s=$r(o);++r<o;)s[r]=n[t+r];for(r=-1,o=$r(t+1);++r<t;)o[r]=n[r];return o[t]=i(s),a(e,this,o)}}function Pn(e,t,i){var n=t+"";t=yo;var r,a=Bn;return r=(r=n.match(fe))?r[1].split(pe):[],i=a(r,i),(a=i.length)&&(r=a-1,i[r]=(1<a?"& ":"")+i[r],i=i.join(2<a?", ":" "),n=n.replace(he,"{\n/* [wrapped with "+i+"] */\n")),t(e,n)}function Ln(e){var t=0,i=0;return function(){var n=Ra(),r=16-(n-i);if(i=n,0<r){if(800<=++t)return arguments[0]}else t=0;return e.apply(z,arguments)}}function Rn(e,t){var i=-1,n=e.length,r=n-1;for(t=t===z?n:t;++i<t;){var n=ri(i,r),a=e[n];e[n]=e[i],e[i]=a}return e.length=t,e}function Fn(e){if("string"==typeof e||xr(e))return e;var t=e+"";return"0"==t&&1/e==-G?"-0":t}function jn(e){if(null!=e){try{return ra.call(e)}catch(e){}return e+""}return""}function Bn(e,t){return s(q,function(i){var n="_."+i[0];t&i[1]&&!d(e,n)&&e.push(n)}),e.sort()}function Hn(e){if(e instanceof C)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Vn(e,t,i){var n=null==e?0:e.length;return n?(i=null==i?0:Ar(i),0>i&&(i=Pa(n+i,0)),y(e,bn(t,3),i)):-1}function Un(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return i!==z&&(r=Ar(i),r=0>i?Pa(n+r,0):La(r,n-1)),y(e,bn(t,3),r,!0)}function Wn(e){return(null==e?0:e.length)?xt(e,1):[]}function zn(e){return e&&e.length?e[0]:z}function Gn(e){var t=null==e?0:e.length;return t?e[t-1]:z}function $n(e,t){return e&&e.length&&t&&t.length?ii(e,t):e}function qn(e){return null==e?e:Ba.call(e)}function Yn(e){if(!e||!e.length)return[];var t=0;return e=c(e,function(e){if(dr(e))return t=Pa(e.length,t),!0}),D(t,function(t){return f(e,A(t))})}function Jn(e,t){if(!e||!e.length)return[];var i=Yn(e);return null==t?i:f(i,function(e){return a(t,z,e)})}function Kn(e){return e=i(e),e.__chain__=!0,e}function Xn(e,t){return t(e)}function Qn(){return this}function Zn(e,t){return(as(e)?s:no)(e,bn(t,3))}function er(e,t){return(as(e)?l:ro)(e,bn(t,3))}function tr(e,t){return(as(e)?f:qt)(e,bn(t,3))}function ir(e,t,i){return t=i?z:t,t=e&&null==t?e.length:t,sn(e,128,z,z,z,z,t)}function nr(e,t){var i;if("function"!=typeof t)throw new ea("Expected a function");return e=Ar(e),function(){return 0<--e&&(i=t.apply(this,arguments)),1>=e&&(t=z),i}}function rr(e,t,i){return t=i?z:t,e=sn(e,8,z,z,z,z,z,t),e.placeholder=rr.placeholder,e}function ar(e,t,i){return t=i?z:t,e=sn(e,16,z,z,z,z,z,t),e.placeholder=ar.placeholder,e}function or(e,t,i){function n(t){var i=l,n=u;return l=u=z,p=t,d=e.apply(n,i)}function r(e){var i=e-f;return e-=p,f===z||i>=t||0>i||v&&e>=c}function a(){var e=qo();if(r(e))return o(e);var i,n=bo;i=e-p,e=t-(e-f),i=v?La(e,c-i):e,h=n(a,i)}function o(e){return h=z,m&&l?n(e):(l=u=z,d)}function s(){var e=qo(),i=r(e);if(l=arguments,u=this,f=e,i){if(h===z)return p=e=f,h=bo(a,t),g?n(e):d;if(v)return h=bo(a,t),n(f)}return h===z&&(h=bo(a,t)),d}var l,u,c,d,h,f,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new ea("Expected a function");return t=Sr(t)||0,vr(i)&&(g=!!i.leading,c=(v="maxWait"in i)?Pa(Sr(i.maxWait)||0,t):c,m="trailing"in i?!!i.trailing:m),s.cancel=function(){h!==z&&uo(h),p=0,l=f=u=h=z},s.flush=function(){return h===z?d:o(qo())},s}function sr(e,t){function i(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;return a.has(r)?a.get(r):(n=e.apply(this,n),i.cache=a.set(r,n)||a,n)}if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ea("Expected a function");return i.cache=new(sr.Cache||De),i}function lr(e){if("function"!=typeof e)throw new ea("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ur(e,t){return e===t||e!==e&&t!==t}function cr(e){return null!=e&&gr(e.length)&&!fr(e)}function dr(e){return mr(e)&&cr(e)}function hr(e){if(!mr(e))return!1;var t=Tt(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!yr(e)}function fr(e){return!!vr(e)&&(e=Tt(e),"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function pr(e){return"number"==typeof e&&e==Ar(e)}function gr(e){return"number"==typeof e&&-1<e&&0==e%1&&9007199254740991>=e}function vr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function mr(e){return null!=e&&"object"==typeof e}function br(e){return"number"==typeof e||mr(e)&&"[object Number]"==Tt(e)}function yr(e){return!(!mr(e)||"[object Object]"!=Tt(e))&&(e=va(e),null===e||(e=aa.call(e,"constructor")&&e.constructor,"function"==typeof e&&e instanceof e&&ra.call(e)==ua))}function wr(e){return"string"==typeof e||!as(e)&&mr(e)&&"[object String]"==Tt(e)}function xr(e){return"symbol"==typeof e||mr(e)&&"[object Symbol]"==Tt(e)}function Er(e){if(!e)return[];if(cr(e))return wr(e)?W(e):Pi(e);if(xa&&e[xa]){e=e[xa]();for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}return t=go(e),("[object Map]"==t?F:"[object Set]"==t?H:Pr)(e)}function _r(e){return e?(e=Sr(e),e===G||e===-G?1.7976931348623157e308*(0>e?-1:1):e===e?e:0):0===e?e:0}function Ar(e){e=_r(e);var t=e%1;return e===e?t?e-t:e:0}function Cr(e){return e?ht(Ar(e),0,4294967295):0}function Sr(e){if("number"==typeof e)return e;if(xr(e))return $;if(vr(e)&&(e="function"==typeof e.valueOf?e.valueOf():e,e=vr(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(ue,"");var t=we.test(e);return t||Ee.test(e)?Ue(e.slice(2),t?2:8):ye.test(e)?$:+e}function Tr(e){return Li(e,kr(e))}function Ir(e){return null==e?"":mi(e)}function Dr(e,t,i){return e=null==e?z:Ct(e,t),e===z?i:e}function Or(e,t){return null!=e&&En(e,t,Ot)}function Mr(e){return cr(e)?He(e):Gt(e)}function kr(e){if(cr(e))e=He(e,!0);else if(vr(e)){var t,i=Mn(e),n=[];for(t in e)("constructor"!=t||!i&&aa.call(e,t))&&n.push(t);e=n}else{if(t=[],null!=e)for(i in Xr(e))t.push(i);e=t}return e}function Nr(e,t){if(null==e)return{};var i=f(gn(e),function(e){return[e]});return t=bn(t),ei(e,i,function(e,i){return t(e,i[0])})}function Pr(e){return null==e?[]:k(e,Mr(e))}function Lr(e){return js(Ir(e).toLowerCase())}function Rr(e){return(e=Ir(e))&&e.replace(Ae,nt).replace(Me,"")}function Fr(e,t,i){return e=Ir(e),t=i?z:t,t===z?Le.test(e)?e.match(Ne)||[]:e.match(ge)||[]:e.match(t)||[]}function jr(e){return function(){return e}}function Br(e){return e}function Hr(e){return zt("function"==typeof e?e:ft(e,1))}function Vr(e,t,i){var n=Mr(t),r=At(t,n);null!=i||vr(t)&&(r.length||!n.length)||(i=t,t=e,e=this,r=At(t,Mr(t)));var a=!(vr(i)&&"chain"in i&&!i.chain),o=fr(e);return s(r,function(i){var n=t[i];e[i]=n,o&&(e.prototype[i]=function(){var t=this.__chain__;if(a||t){var i=e(this.__wrapped__);return(i.__actions__=Pi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,p([this.value()],arguments))})}),e}function Ur(){}function Wr(e){return Dn(e)?A(Fn(e)):ti(e)}function zr(){return[]}function Gr(){return!1}t=null==t?Ge:ot.defaults(Ge.Object(),t,ot.pick(Ge,Re));var $r=t.Array,qr=t.Date,Yr=t.Error,Jr=t.Function,Kr=t.Math,Xr=t.Object,Qr=t.RegExp,Zr=t.String,ea=t.TypeError,ta=$r.prototype,ia=Xr.prototype,na=t["__core-js_shared__"],ra=Jr.prototype.toString,aa=ia.hasOwnProperty,oa=0,sa=function(){var e=/[^.]+$/.exec(na&&na.keys&&na.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),la=ia.toString,ua=ra.call(Xr),ca=Ge._,da=Qr("^"+ra.call(aa).replace(se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ha=Ye?t.Buffer:z,fa=t.Symbol,pa=t.Uint8Array,ga=ha?ha.f:z,va=j(Xr.getPrototypeOf,Xr),ma=Xr.create,ba=ia.propertyIsEnumerable,ya=ta.splice,wa=fa?fa.isConcatSpreadable:z,xa=fa?fa.iterator:z,Ea=fa?fa.toStringTag:z,_a=function(){try{var e=xn(Xr,"defineProperty");return e({},"",{}),e}catch(e){}}(),Aa=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Ca=qr&&qr.now!==Ge.Date.now&&qr.now,Sa=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Ta=Kr.ceil,Ia=Kr.floor,Da=Xr.getOwnPropertySymbols,Oa=ha?ha.isBuffer:z,Ma=t.isFinite,ka=ta.join,Na=j(Xr.keys,Xr),Pa=Kr.max,La=Kr.min,Ra=qr.now,Fa=t.parseInt,ja=Kr.random,Ba=ta.reverse,Ha=xn(t,"DataView"),Va=xn(t,"Map"),Ua=xn(t,"Promise"),Wa=xn(t,"Set"),za=xn(t,"WeakMap"),Ga=xn(Xr,"create"),$a=za&&new za,qa={},Ya=jn(Ha),Ja=jn(Va),Ka=jn(Ua),Xa=jn(Wa),Qa=jn(za),Za=fa?fa.prototype:z,eo=Za?Za.valueOf:z,to=Za?Za.toString:z,io=function(){function e(){}return function(t){return vr(t)?ma?ma(t):(e.prototype=t,t=new e,e.prototype=z,t):{}}}();i.templateSettings={escape:te,evaluate:ie,interpolate:ne,variable:"",imports:{_:i}},i.prototype=n.prototype,i.prototype.constructor=i,r.prototype=io(n.prototype),r.prototype.constructor=r,C.prototype=io(n.prototype),C.prototype.constructor=C,Te.prototype.clear=function(){this.__data__=Ga?Ga(null):{},this.size=0},Te.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Te.prototype.get=function(e){var t=this.__data__;return Ga?(e=t[e],"__lodash_hash_undefined__"===e?z:e):aa.call(t,e)?t[e]:z},Te.prototype.has=function(e){var t=this.__data__;return Ga?t[e]!==z:aa.call(t,e)},Te.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Ga&&t===z?"__lodash_hash_undefined__":t,this},Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(e){var t=this.__data__;return e=it(t,e),!(0>e||(e==t.length-1?t.pop():ya.call(t,e,1),--this.size,0))},Ie.prototype.get=function(e){var t=this.__data__;return e=it(t,e),0>e?z:t[e][1]},Ie.prototype.has=function(e){return-1<it(this.__data__,e)},Ie.prototype.set=function(e,t){var i=this.__data__,n=it(i,e);return 0>n?(++this.size,i.push([e,t])):i[n][1]=t,this},De.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(Va||Ie),string:new Te}},De.prototype.delete=function(e){return e=yn(this,e).delete(e),this.size-=e?1:0,e},De.prototype.get=function(e){return yn(this,e).get(e)},De.prototype.has=function(e){return yn(this,e).has(e)},De.prototype.set=function(e,t){var i=yn(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ke.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.clear=function(){this.__data__=new Ie,this.size=0},Be.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Be.prototype.get=function(e){return this.__data__.get(e)},Be.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ie){var n=i.__data__;if(!Va||199>n.length)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new De(n)}return i.set(e,t),this.size=i.size,this};var no=Hi(Et),ro=Hi(_t,!0),ao=Vi(),oo=Vi(!0),so=$a?function(e,t){return $a.set(e,t),e}:Br,lo=_a?function(e,t){return _a(e,"toString",{configurable:!0,enumerable:!1,value:jr(t),writable:!0})}:Br,uo=Aa||function(e){return Ge.clearTimeout(e)},co=Wa&&1/H(new Wa([,-0]))[1]==G?function(e){return new Wa(e)}:Ur,ho=$a?function(e){return $a.get(e)}:Ur,fo=Da?function(e){return null==e?[]:(e=Xr(e),c(Da(e),function(t){return ba.call(e,t)}))}:zr,po=Da?function(e){for(var t=[];e;)p(t,fo(e)),e=va(e);return t}:zr,go=Tt;(Ha&&"[object DataView]"!=go(new Ha(new ArrayBuffer(1)))||Va&&"[object Map]"!=go(new Va)||Ua&&"[object Promise]"!=go(Ua.resolve())||Wa&&"[object Set]"!=go(new Wa)||za&&"[object WeakMap]"!=go(new za))&&(go=function(e){var t=Tt(e);if(e=(e="[object Object]"==t?e.constructor:z)?jn(e):"")switch(e){case Ya:return"[object DataView]";case Ja:return"[object Map]";case Ka:return"[object Promise]";case Xa:return"[object Set]";case Qa:return"[object WeakMap]"}return t});var vo=na?fr:Gr,mo=Ln(so),bo=Sa||function(e,t){return Ge.setTimeout(e,t)},yo=Ln(lo),wo=function(e){e=sr(e,function(e){return 500===t.size&&t.clear(),e});var t=e.cache;return e}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,function(e,i,n,r){t.push(n?r.replace(ve,"$1"):i||e)}),t}),xo=oi(function(e,t){return dr(e)?mt(e,xt(t,1,dr,!0)):[]}),Eo=oi(function(e,t){var i=Gn(t);return dr(i)&&(i=z),dr(e)?mt(e,xt(t,1,dr,!0),bn(i,2)):[]}),_o=oi(function(e,t){var i=Gn(t);return dr(i)&&(i=z),dr(e)?mt(e,xt(t,1,dr,!0),z,i):[]}),Ao=oi(function(e){var t=f(e,Ai);return t.length&&t[0]===e[0]?Mt(t):[]}),Co=oi(function(e){var t=Gn(e),i=f(e,Ai);return t===Gn(i)?t=z:i.pop(),i.length&&i[0]===e[0]?Mt(i,bn(t,2)):[]}),So=oi(function(e){var t=Gn(e),i=f(e,Ai);return(t="function"==typeof t?t:z)&&i.pop(),i.length&&i[0]===e[0]?Mt(i,z,t):[]}),To=oi($n),Io=fn(function(e,t){var i=null==e?0:e.length,n=dt(e,t);return ni(e,f(t,function(e){return Tn(e,i)?+e:e}).sort(Mi)),n}),Do=oi(function(e){return bi(xt(e,1,dr,!0))}),Oo=oi(function(e){var t=Gn(e);return dr(t)&&(t=z),bi(xt(e,1,dr,!0),bn(t,2))}),Mo=oi(function(e){var t=Gn(e),t="function"==typeof t?t:z;return bi(xt(e,1,dr,!0),z,t)}),ko=oi(function(e,t){return dr(e)?mt(e,t):[]}),No=oi(function(e){return Ei(c(e,dr))}),Po=oi(function(e){var t=Gn(e);return dr(t)&&(t=z),Ei(c(e,dr),bn(t,2))}),Lo=oi(function(e){var t=Gn(e),t="function"==typeof t?t:z;return Ei(c(e,dr),z,t)}),Ro=oi(Yn),Fo=oi(function(e){var t=e.length,t=1<t?e[t-1]:z,t="function"==typeof t?(e.pop(),t):z;return Jn(e,t)}),jo=fn(function(e){function t(t){return dt(t,e)}var i=e.length,n=i?e[0]:0,a=this.__wrapped__;return!(1<i||this.__actions__.length)&&a instanceof C&&Tn(n)?(a=a.slice(n,+n+(i?1:0)),a.__actions__.push({func:Xn,args:[t],thisArg:z}),new r(a,this.__chain__).thru(function(e){return i&&!e.length&&e.push(z),e})):this.thru(t)}),Bo=ji(function(e,t,i){aa.call(e,i)?++e[i]:ct(e,i,1)}),Ho=qi(Vn),Vo=qi(Un),Uo=ji(function(e,t,i){aa.call(e,i)?e[i].push(t):ct(e,i,[t])}),Wo=oi(function(e,t,i){var n=-1,r="function"==typeof t,o=cr(e)?$r(e.length):[];return no(e,function(e){o[++n]=r?a(t,e,i):Nt(e,t,i)}),o}),zo=ji(function(e,t,i){ct(e,i,t)}),Go=ji(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]}),$o=oi(function(e,t){if(null==e)return[];var i=t.length;return 1<i&&In(e,t[0],t[1])?t=[]:2<i&&In(t[0],t[1],t[2])&&(t=[t[0]]),Qt(e,xt(t,1),[])}),qo=Ca||function(){return Ge.Date.now()},Yo=oi(function(e,t,i){var n=1;if(i.length)var r=B(i,mn(Yo)),n=32|n;return sn(e,n,t,i,r)}),Jo=oi(function(e,t,i){var n=3;if(i.length)var r=B(i,mn(Jo)),n=32|n;return sn(t,n,e,i,r)}),Ko=oi(function(e,t){return vt(e,1,t)}),Xo=oi(function(e,t,i){return vt(e,Sr(t)||0,i)});sr.Cache=De;var Qo=oi(function(e,t){t=1==t.length&&as(t[0])?f(t[0],M(bn())):f(xt(t,1),M(bn()));var i=t.length;return oi(function(n){for(var r=-1,o=La(n.length,i);++r<o;)n[r]=t[r].call(this,n[r]);return a(e,this,n)})}),Zo=oi(function(e,t){return sn(e,32,z,t,B(t,mn(Zo)))}),es=oi(function(e,t){return sn(e,64,z,t,B(t,mn(es)))}),ts=fn(function(e,t){return sn(e,256,z,z,z,t)}),is=nn(It),ns=nn(function(e,t){return e>=t}),rs=Pt(function(){return arguments}())?Pt:function(e){return mr(e)&&aa.call(e,"callee")&&!ba.call(e,"callee")},as=$r.isArray,os=Ke?M(Ke):Lt,ss=Oa||Gr,ls=Xe?M(Xe):Rt,us=Qe?M(Qe):jt,cs=Ze?M(Ze):Vt,ds=et?M(et):Ut,hs=tt?M(tt):Wt,fs=nn($t),ps=nn(function(e,t){return e<=t}),gs=Bi(function(e,t){if(Mn(t)||cr(t))Li(t,Mr(t),e);else for(var i in t)aa.call(t,i)&&Je(e,i,t[i])}),vs=Bi(function(e,t){Li(t,kr(t),e)}),ms=Bi(function(e,t,i,n){Li(t,kr(t),e,n)}),bs=Bi(function(e,t,i,n){Li(t,Mr(t),e,n)}),ys=fn(dt),ws=oi(function(e,t){e=Xr(e);var i=-1,n=t.length,r=2<n?t[2]:z;for(r&&In(t[0],t[1],r)&&(n=1);++i<n;)for(var r=t[i],a=kr(r),o=-1,s=a.length;++o<s;){var l=a[o],u=e[l];(u===z||ur(u,ia[l])&&!aa.call(e,l))&&(e[l]=r[l])}return e}),xs=oi(function(e){return e.push(z,un),a(Ss,z,e)}),Es=Ki(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=la.call(t)),e[t]=i},jr(Br)),_s=Ki(function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=la.call(t)),aa.call(e,t)?e[t].push(i):e[t]=[i]},bn),As=oi(Nt),Cs=Bi(function(e,t,i){Kt(e,t,i)}),Ss=Bi(function(e,t,i,n){Kt(e,t,i,n)}),Ts=fn(function(e,t){var i={};if(null==e)return i;var n=!1;t=f(t,function(t){return t=Si(t,e),n||(n=1<t.length),t}),Li(e,gn(e),i),n&&(i=ft(i,7,cn));for(var r=t.length;r--;)yi(i,t[r]);return i}),Is=fn(function(e,t){return null==e?{}:Zt(e,t)}),Ds=on(Mr),Os=on(kr),Ms=zi(function(e,t,i){return t=t.toLowerCase(),e+(i?Lr(t):t)}),ks=zi(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Ns=zi(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Ps=Wi("toLowerCase"),Ls=zi(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()}),Rs=zi(function(e,t,i){return e+(i?" ":"")+js(t)}),Fs=zi(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),js=Wi("toUpperCase"),Bs=oi(function(e,t){try{return a(e,z,t)}catch(e){return hr(e)?e:new Yr(e)}}),Hs=fn(function(e,t){return s(t,function(t){t=Fn(t),ct(e,t,Yo(e[t],e))}),e}),Vs=Yi(),Us=Yi(!0),Ws=oi(function(e,t){return function(i){return Nt(i,e,t)}}),zs=oi(function(e,t){return function(i){return Nt(e,i,t)}}),Gs=Qi(f),$s=Qi(u),qs=Qi(m),Ys=tn(),Js=tn(!0),Ks=Xi(function(e,t){return e+t},0),Xs=an("ceil"),Qs=Xi(function(e,t){return e/t},1),Zs=an("floor"),el=Xi(function(e,t){return e*t},1),tl=an("round"),il=Xi(function(e,t){return e-t},0);return i.after=function(e,t){if("function"!=typeof t)throw new ea("Expected a function");return e=Ar(e),function(){if(1>--e)return t.apply(this,arguments)}},i.ary=ir,i.assign=gs,i.assignIn=vs,i.assignInWith=ms,i.assignWith=bs,i.at=ys,i.before=nr,i.bind=Yo,i.bindAll=Hs,i.bindKey=Jo,i.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return as(e)?e:[e]},i.chain=Kn,i.chunk=function(e,t,i){if(t=(i?In(e,t,i):t===z)?1:Pa(Ar(t),0),i=null==e?0:e.length,!i||1>t)return[];for(var n=0,r=0,a=$r(Ta(i/t));n<i;)a[r++]=di(e,n,n+=t);return a},i.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,r=[];++t<i;){var a=e[t];a&&(r[n++]=a)}return r},i.concat=function(){var e=arguments.length;if(!e)return[];for(var t=$r(e-1),i=arguments[0];e--;)t[e-1]=arguments[e];return p(as(i)?Pi(i):[i],xt(t,1))},i.cond=function(e){var t=null==e?0:e.length,i=bn();return e=t?f(e,function(e){if("function"!=typeof e[1])throw new ea("Expected a function");return[i(e[0]),e[1]]}):[],oi(function(i){for(var n=-1;++n<t;){var r=e[n];if(a(r[0],this,i))return a(r[1],this,i)}})},i.conforms=function(e){return pt(ft(e,1))},i.constant=jr,i.countBy=Bo,i.create=function(e,t){var i=io(e);return null==t?i:lt(i,t)},i.curry=rr,i.curryRight=ar,i.debounce=or,i.defaults=ws,i.defaultsDeep=xs,i.defer=Ko,i.delay=Xo,i.difference=xo,i.differenceBy=Eo,i.differenceWith=_o,i.drop=function(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===z?1:Ar(t),di(e,0>t?0:t,n)):[]},i.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===z?1:Ar(t),t=n-t,di(e,0,0>t?0:t)):[]},i.dropRightWhile=function(e,t){return e&&e.length?wi(e,bn(t,3),!0,!0):[]},i.dropWhile=function(e,t){return e&&e.length?wi(e,bn(t,3),!0):[]},i.fill=function(e,t,i,n){var r=null==e?0:e.length;if(!r)return[];for(i&&"number"!=typeof i&&In(e,t,i)&&(i=0,n=r),r=e.length,i=Ar(i),0>i&&(i=-i>r?0:r+i),n=n===z||n>r?r:Ar(n),0>n&&(n+=r),n=i>n?0:Cr(n);i<n;)e[i++]=t;return e},i.filter=function(e,t){return(as(e)?c:wt)(e,bn(t,3))},i.flatMap=function(e,t){return xt(tr(e,t),1)},i.flatMapDeep=function(e,t){return xt(tr(e,t),G)},i.flatMapDepth=function(e,t,i){return i=i===z?1:Ar(i),xt(tr(e,t),i)},i.flatten=Wn,i.flattenDeep=function(e){return(null==e?0:e.length)?xt(e,G):[]},i.flattenDepth=function(e,t){return null!=e&&e.length?(t=t===z?1:Ar(t),xt(e,t)):[]},i.flip=function(e){return sn(e,512)},i.flow=Vs,i.flowRight=Us,i.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var r=e[t];n[r[0]]=r[1]}return n},i.functions=function(e){return null==e?[]:At(e,Mr(e))},i.functionsIn=function(e){return null==e?[]:At(e,kr(e))},i.groupBy=Uo,i.initial=function(e){return(null==e?0:e.length)?di(e,0,-1):[]},i.intersection=Ao,i.intersectionBy=Co,i.intersectionWith=So,i.invert=Es,i.invertBy=_s,i.invokeMap=Wo,i.iteratee=Hr,i.keyBy=zo,i.keys=Mr,i.keysIn=kr,i.map=tr,i.mapKeys=function(e,t){var i={};return t=bn(t,3),Et(e,function(e,n,r){ct(i,t(e,n,r),e)}),i},i.mapValues=function(e,t){var i={};return t=bn(t,3),Et(e,function(e,n,r){ct(i,n,t(e,n,r))}),i},i.matches=function(e){return Yt(ft(e,1))},i.matchesProperty=function(e,t){return Jt(e,ft(t,1))},i.memoize=sr,i.merge=Cs,i.mergeWith=Ss,i.method=Ws,i.methodOf=zs,i.mixin=Vr,i.negate=lr,i.nthArg=function(e){return e=Ar(e),oi(function(t){return Xt(t,e)})},i.omit=Ts,i.omitBy=function(e,t){return Nr(e,lr(bn(t)))},i.once=function(e){return nr(2,e)},i.orderBy=function(e,t,i,n){return null==e?[]:(as(t)||(t=null==t?[]:[t]),i=n?z:i,as(i)||(i=null==i?[]:[i]),Qt(e,t,i))},i.over=Gs,i.overArgs=Qo,i.overEvery=$s,i.overSome=qs,i.partial=Zo,i.partialRight=es,i.partition=Go,i.pick=Is,i.pickBy=Nr,i.property=Wr,i.propertyOf=function(e){return function(t){return null==e?z:Ct(e,t)}},i.pull=To,i.pullAll=$n,i.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?ii(e,t,bn(i,2)):e},i.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?ii(e,t,z,i):e},i.pullAt=Io,i.range=Ys,i.rangeRight=Js,i.rearg=ts,i.reject=function(e,t){return(as(e)?c:wt)(e,lr(bn(t,3)))},i.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,r=[],a=e.length;for(t=bn(t,3);++n<a;){var o=e[n];t(o,n,e)&&(i.push(o),r.push(n))}return ni(e,r),i},i.rest=function(e,t){if("function"!=typeof e)throw new ea("Expected a function");return t=t===z?t:Ar(t),oi(e,t)},i.reverse=qn,i.sampleSize=function(e,t,i){return t=(i?In(e,t,i):t===z)?1:Ar(t),(as(e)?ze:li)(e,t)},i.set=function(e,t,i){return null==e?e:ui(e,t,i)},i.setWith=function(e,t,i,n){return n="function"==typeof n?n:z,null==e?e:ui(e,t,i,n)},i.shuffle=function(e){return(as(e)?$e:ci)(e)},i.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&In(e,t,i)?(t=0,i=n):(t=null==t?0:Ar(t),i=i===z?n:Ar(i)),di(e,t,i)):[]},i.sortBy=$o,i.sortedUniq=function(e){return e&&e.length?gi(e):[]},i.sortedUniqBy=function(e,t){return e&&e.length?gi(e,bn(t,2)):[]},i.split=function(e,t,i){return i&&"number"!=typeof i&&In(e,t,i)&&(t=i=z),i=i===z?4294967295:i>>>0,i?(e=Ir(e))&&("string"==typeof t||null!=t&&!cs(t))&&(t=mi(t),!t&&Pe.test(e))?Ti(W(e),0,i):e.split(t,i):[]},i.spread=function(e,t){if("function"!=typeof e)throw new ea("Expected a function");return t=null==t?0:Pa(Ar(t),0),oi(function(i){var n=i[t];return i=Ti(i,0,t),n&&p(i,n),a(e,this,i)})},i.tail=function(e){var t=null==e?0:e.length;return t?di(e,1,t):[]},i.take=function(e,t,i){return e&&e.length?(t=i||t===z?1:Ar(t),di(e,0,0>t?0:t)):[]},i.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?(t=i||t===z?1:Ar(t),t=n-t,di(e,0>t?0:t,n)):[]},i.takeRightWhile=function(e,t){return e&&e.length?wi(e,bn(t,3),!1,!0):[]},i.takeWhile=function(e,t){return e&&e.length?wi(e,bn(t,3)):[]},i.tap=function(e,t){return t(e),e},i.throttle=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new ea("Expected a function");return vr(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),or(e,t,{leading:n,maxWait:t,trailing:r})},i.thru=Xn,i.toArray=Er,i.toPairs=Ds,i.toPairsIn=Os,i.toPath=function(e){return as(e)?f(e,Fn):xr(e)?[e]:Pi(wo(Ir(e)))},i.toPlainObject=Tr,i.transform=function(e,t,i){var n=as(e),r=n||ss(e)||hs(e);if(t=bn(t,4),null==i){var a=e&&e.constructor;i=r?n?new a:[]:vr(e)&&fr(a)?io(va(e)):{}}return(r?s:Et)(e,function(e,n,r){return t(i,e,n,r)}),i},i.unary=function(e){return ir(e,1)},i.union=Do,i.unionBy=Oo,i.unionWith=Mo,i.uniq=function(e){return e&&e.length?bi(e):[]},i.uniqBy=function(e,t){return e&&e.length?bi(e,bn(t,2)):[]},i.uniqWith=function(e,t){return t="function"==typeof t?t:z,e&&e.length?bi(e,z,t):[]},i.unset=function(e,t){return null==e||yi(e,t)},i.unzip=Yn,i.unzipWith=Jn,i.update=function(e,t,i){return null==e?e:ui(e,t,Ci(i)(Ct(e,t)),void 0)},i.updateWith=function(e,t,i,n){return n="function"==typeof n?n:z,null!=e&&(e=ui(e,t,Ci(i)(Ct(e,t)),n)),e},i.values=Pr,i.valuesIn=function(e){return null==e?[]:k(e,kr(e))},i.without=ko,i.words=Fr,i.wrap=function(e,t){return Zo(Ci(t),e)},i.xor=No,i.xorBy=Po,i.xorWith=Lo,i.zip=Ro,i.zipObject=function(e,t){return _i(e||[],t||[],Je)},i.zipObjectDeep=function(e,t){return _i(e||[],t||[],ui)},i.zipWith=Fo,i.entries=Ds,i.entriesIn=Os,i.extend=vs,i.extendWith=ms,Vr(i,i),i.add=Ks,i.attempt=Bs,i.camelCase=Ms,i.capitalize=Lr,i.ceil=Xs,i.clamp=function(e,t,i){return i===z&&(i=t,t=z),i!==z&&(i=Sr(i),i=i===i?i:0),t!==z&&(t=Sr(t),t=t===t?t:0),ht(Sr(e),t,i)},i.clone=function(e){return ft(e,4)},i.cloneDeep=function(e){return ft(e,5)},i.cloneDeepWith=function(e,t){return t="function"==typeof t?t:z,ft(e,5,t)},i.cloneWith=function(e,t){return t="function"==typeof t?t:z,ft(e,4,t)},i.conformsTo=function(e,t){return null==t||gt(e,t,Mr(t))},i.deburr=Rr,i.defaultTo=function(e,t){return null==e||e!==e?t:e},i.divide=Qs,i.endsWith=function(e,t,i){e=Ir(e),t=mi(t);var n=e.length,n=i=i===z?n:ht(Ar(i),0,n);return i-=t.length,0<=i&&e.slice(i,n)==t},i.eq=ur,i.escape=function(e){return(e=Ir(e))&&ee.test(e)?e.replace(Q,rt):e},i.escapeRegExp=function(e){return(e=Ir(e))&&le.test(e)?e.replace(se,"\\$&"):e},i.every=function(e,t,i){var n=as(e)?u:bt;return i&&In(e,t,i)&&(t=z),n(e,bn(t,3))},i.find=Ho,i.findIndex=Vn,i.findKey=function(e,t){return b(e,bn(t,3),Et)},i.findLast=Vo,i.findLastIndex=Un,i.findLastKey=function(e,t){return b(e,bn(t,3),_t)},i.floor=Zs,i.forEach=Zn,i.forEachRight=er,i.forIn=function(e,t){return null==e?e:ao(e,bn(t,3),kr)},i.forInRight=function(e,t){return null==e?e:oo(e,bn(t,3),kr)},i.forOwn=function(e,t){return e&&Et(e,bn(t,3))},i.forOwnRight=function(e,t){return e&&_t(e,bn(t,3))},i.get=Dr,i.gt=is,i.gte=ns,i.has=function(e,t){return null!=e&&En(e,t,Dt)},i.hasIn=Or,i.head=zn,i.identity=Br,i.includes=function(e,t,i,n){return e=cr(e)?e:Pr(e),i=i&&!n?Ar(i):0,n=e.length,0>i&&(i=Pa(n+i,0)),wr(e)?i<=n&&-1<e.indexOf(t,i):!!n&&-1<w(e,t,i)},i.indexOf=function(e,t,i){var n=null==e?0:e.length;return n?(i=null==i?0:Ar(i),0>i&&(i=Pa(n+i,0)),w(e,t,i)):-1},i.inRange=function(e,t,i){return t=_r(t),i===z?(i=t,t=0):i=_r(i),e=Sr(e),e>=La(t,i)&&e<Pa(t,i)},i.invoke=As,i.isArguments=rs,i.isArray=as,i.isArrayBuffer=os,i.isArrayLike=cr,i.isArrayLikeObject=dr,i.isBoolean=function(e){return!0===e||!1===e||mr(e)&&"[object Boolean]"==Tt(e)},i.isBuffer=ss,i.isDate=ls,i.isElement=function(e){return mr(e)&&1===e.nodeType&&!yr(e)},i.isEmpty=function(e){if(null==e)return!0;if(cr(e)&&(as(e)||"string"==typeof e||"function"==typeof e.splice||ss(e)||hs(e)||rs(e)))return!e.length;var t=go(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Mn(e))return!Gt(e).length;for(var i in e)if(aa.call(e,i))return!1;return!0},i.isEqual=function(e,t){return Ft(e,t)},i.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:z)?i(e,t):z;return n===z?Ft(e,t,z,i):!!n},i.isError=hr,i.isFinite=function(e){return"number"==typeof e&&Ma(e)},i.isFunction=fr,i.isInteger=pr,i.isLength=gr,i.isMap=us,i.isMatch=function(e,t){return e===t||Bt(e,t,wn(t))},i.isMatchWith=function(e,t,i){return i="function"==typeof i?i:z,Bt(e,t,wn(t),i)},i.isNaN=function(e){return br(e)&&e!=+e},i.isNative=function(e){if(vo(e))throw new Yr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ht(e)},i.isNil=function(e){return null==e},i.isNull=function(e){return null===e},i.isNumber=br,i.isObject=vr,i.isObjectLike=mr,i.isPlainObject=yr,i.isRegExp=cs,i.isSafeInteger=function(e){return pr(e)&&-9007199254740991<=e&&9007199254740991>=e},i.isSet=ds,i.isString=wr,i.isSymbol=xr,i.isTypedArray=hs,i.isUndefined=function(e){return e===z},i.isWeakMap=function(e){return mr(e)&&"[object WeakMap]"==go(e)},i.isWeakSet=function(e){return mr(e)&&"[object WeakSet]"==Tt(e)},i.join=function(e,t){return null==e?"":ka.call(e,t)},i.kebabCase=ks,i.last=Gn,i.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=n;if(i!==z&&(r=Ar(i),r=0>r?Pa(n+r,0):La(r,n-1)),t===t){for(i=r+1;i--&&e[i]!==t;);e=i}else e=y(e,E,r,!0);return e},i.lowerCase=Ns,i.lowerFirst=Ps,i.lt=fs,i.lte=ps,i.max=function(e){return e&&e.length?yt(e,Br,It):z},i.maxBy=function(e,t){return e&&e.length?yt(e,bn(t,2),It):z},i.mean=function(e){return _(e,Br)},i.meanBy=function(e,t){return _(e,bn(t,2))},i.min=function(e){return e&&e.length?yt(e,Br,$t):z},i.minBy=function(e,t){return e&&e.length?yt(e,bn(t,2),$t):z},i.stubArray=zr,i.stubFalse=Gr,i.stubObject=function(){return{}},i.stubString=function(){return""},i.stubTrue=function(){return!0},i.multiply=el,i.nth=function(e,t){return e&&e.length?Xt(e,Ar(t)):z},i.noConflict=function(){return Ge._===this&&(Ge._=ca),this},i.noop=Ur,i.now=qo,i.pad=function(e,t,i){e=Ir(e);var n=(t=Ar(t))?U(e):0;return!t||n>=t?e:(t=(t-n)/2,Zi(Ia(t),i)+e+Zi(Ta(t),i))},i.padEnd=function(e,t,i){e=Ir(e);var n=(t=Ar(t))?U(e):0;return t&&n<t?e+Zi(t-n,i):e},i.padStart=function(e,t,i){e=Ir(e);var n=(t=Ar(t))?U(e):0;return t&&n<t?Zi(t-n,i)+e:e},i.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),Fa(Ir(e).replace(ce,""),t||0)},i.random=function(e,t,i){if(i&&"boolean"!=typeof i&&In(e,t,i)&&(t=i=z),i===z&&("boolean"==typeof t?(i=t,t=z):"boolean"==typeof e&&(i=e,e=z)),e===z&&t===z?(e=0,t=1):(e=_r(e),t===z?(t=e,e=0):t=_r(t)),e>t){var n=e;e=t,t=n}return i||e%1||t%1?(i=ja(),La(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)):ri(e,t)},i.reduce=function(e,t,i){var n=as(e)?g:S,r=3>arguments.length;return n(e,bn(t,4),i,r,no)},i.reduceRight=function(e,t,i){var n=as(e)?v:S,r=3>arguments.length;return n(e,bn(t,4),i,r,ro)},i.repeat=function(e,t,i){return t=(i?In(e,t,i):t===z)?1:Ar(t),
ai(Ir(e),t)},i.replace=function(){var e=arguments,t=Ir(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},i.result=function(e,t,i){t=Si(t,e);var n=-1,r=t.length;for(r||(r=1,e=z);++n<r;){var a=null==e?z:e[Fn(t[n])];a===z&&(n=r,a=i),e=fr(a)?a.call(e):a}return e},i.round=tl,i.runInContext=e,i.sample=function(e){return(as(e)?We:si)(e)},i.size=function(e){if(null==e)return 0;if(cr(e))return wr(e)?U(e):e.length;var t=go(e);return"[object Map]"==t||"[object Set]"==t?e.size:Gt(e).length},i.snakeCase=Ls,i.some=function(e,t,i){var n=as(e)?m:hi;return i&&In(e,t,i)&&(t=z),n(e,bn(t,3))},i.sortedIndex=function(e,t){return fi(e,t)},i.sortedIndexBy=function(e,t,i){return pi(e,t,bn(i,2))},i.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=fi(e,t);if(n<i&&ur(e[n],t))return n}return-1},i.sortedLastIndex=function(e,t){return fi(e,t,!0)},i.sortedLastIndexBy=function(e,t,i){return pi(e,t,bn(i,2),!0)},i.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var i=fi(e,t,!0)-1;if(ur(e[i],t))return i}return-1},i.startCase=Rs,i.startsWith=function(e,t,i){return e=Ir(e),i=null==i?0:ht(Ar(i),0,e.length),t=mi(t),e.slice(i,i+t.length)==t},i.subtract=il,i.sum=function(e){return e&&e.length?I(e,Br):0},i.sumBy=function(e,t){return e&&e.length?I(e,bn(t,2)):0},i.template=function(e,t,n){var r=i.templateSettings;n&&In(e,t,n)&&(t=z),e=Ir(e),t=ms({},t,r,ln),n=ms({},t.imports,r.imports,ln);var a,o,s=Mr(n),l=k(n,s),u=0;n=t.interpolate||Ce;var c="__p+='";n=Qr((t.escape||Ce).source+"|"+n.source+"|"+(n===ne?me:Ce).source+"|"+(t.evaluate||Ce).source+"|$","g");var d="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(e.replace(n,function(t,i,n,r,s,l){return n||(n=r),c+=e.slice(u,l).replace(Se,R),i&&(a=!0,c+="'+__e("+i+")+'"),s&&(o=!0,c+="';"+s+";\n__p+='"),n&&(c+="'+((__t=("+n+"))==null?'':__t)+'"),u=l+t.length,t}),c+="';",(t=t.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(Y,""):c).replace(J,"$1").replace(K,"$1;"),c="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",t=Bs(function(){return Jr(s,d+"return "+c).apply(z,l)}),t.source=c,hr(t))throw t;return t},i.times=function(e,t){if(e=Ar(e),1>e||9007199254740991<e)return[];var i=4294967295,n=La(e,4294967295);for(t=bn(t),e-=4294967295,n=D(n,t);++i<e;)t(i);return n},i.toFinite=_r,i.toInteger=Ar,i.toLength=Cr,i.toLower=function(e){return Ir(e).toLowerCase()},i.toNumber=Sr,i.toSafeInteger=function(e){return e?ht(Ar(e),-9007199254740991,9007199254740991):0===e?e:0},i.toString=Ir,i.toUpper=function(e){return Ir(e).toUpperCase()},i.trim=function(e,t,i){return(e=Ir(e))&&(i||t===z)?e.replace(ue,""):e&&(t=mi(t))?(e=W(e),i=W(t),t=P(e,i),i=L(e,i)+1,Ti(e,t,i).join("")):e},i.trimEnd=function(e,t,i){return(e=Ir(e))&&(i||t===z)?e.replace(de,""):e&&(t=mi(t))?(e=W(e),t=L(e,W(t))+1,Ti(e,0,t).join("")):e},i.trimStart=function(e,t,i){return(e=Ir(e))&&(i||t===z)?e.replace(ce,""):e&&(t=mi(t))?(e=W(e),t=P(e,W(t)),Ti(e,t).join("")):e},i.truncate=function(e,t){var i=30,n="...";if(vr(t))var r="separator"in t?t.separator:r,i="length"in t?Ar(t.length):i,n="omission"in t?mi(t.omission):n;e=Ir(e);var a=e.length;if(Pe.test(e))var o=W(e),a=o.length;if(i>=a)return e;if(a=i-U(n),1>a)return n;if(i=o?Ti(o,0,a).join(""):e.slice(0,a),r===z)return i+n;if(o&&(a+=i.length-a),cs(r)){if(e.slice(a).search(r)){var s=i;for(r.global||(r=Qr(r.source,Ir(be.exec(r))+"g")),r.lastIndex=0;o=r.exec(s);)var l=o.index;i=i.slice(0,l===z?a:l)}}else e.indexOf(mi(r),a)!=a&&(r=i.lastIndexOf(r),-1<r&&(i=i.slice(0,r)));return i+n},i.unescape=function(e){return(e=Ir(e))&&Z.test(e)?e.replace(X,at):e},i.uniqueId=function(e){var t=++oa;return Ir(e)+t},i.upperCase=Fs,i.upperFirst=js,i.each=Zn,i.eachRight=er,i.first=zn,Vr(i,function(){var e={};return Et(i,function(t,n){aa.call(i.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),i.VERSION="4.17.5",s("bind bindKey curry curryRight partial partialRight".split(" "),function(e){i[e].placeholder=i}),s(["drop","take"],function(e,t){C.prototype[e]=function(i){i=i===z?1:Pa(Ar(i),0);var n=this.__filtered__&&!t?new C(this):this.clone();return n.__filtered__?n.__takeCount__=La(i,n.__takeCount__):n.__views__.push({size:La(i,4294967295),type:e+(0>n.__dir__?"Right":"")}),n},C.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var i=t+1,n=1==i||3==i;C.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:bn(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}}),s(["head","last"],function(e,t){var i="take"+(t?"Right":"");C.prototype[e]=function(){return this[i](1).value()[0]}}),s(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");C.prototype[e]=function(){return this.__filtered__?new C(this):this[i](1)}}),C.prototype.compact=function(){return this.filter(Br)},C.prototype.find=function(e){return this.filter(e).head()},C.prototype.findLast=function(e){return this.reverse().find(e)},C.prototype.invokeMap=oi(function(e,t){return"function"==typeof e?new C(this):this.map(function(i){return Nt(i,e,t)})}),C.prototype.reject=function(e){return this.filter(lr(bn(e)))},C.prototype.slice=function(e,t){e=Ar(e);var i=this;return i.__filtered__&&(0<e||0>t)?new C(i):(0>e?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==z&&(t=Ar(t),i=0>t?i.dropRight(-t):i.take(t-e)),i)},C.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},C.prototype.toArray=function(){return this.take(4294967295)},Et(C.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),o=i[a?"take"+("last"==t?"Right":""):t],s=a||/^find/.test(t);o&&(i.prototype[t]=function(){function t(e){return e=o.apply(i,p([e],u)),a&&f?e[0]:e}var l=this.__wrapped__,u=a?[1]:arguments,c=l instanceof C,d=u[0],h=c||as(l);h&&n&&"function"==typeof d&&1!=d.length&&(c=h=!1);var f=this.__chain__,g=!!this.__actions__.length,d=s&&!f,c=c&&!g;return!s&&h?(l=c?l:new C(this),l=e.apply(l,u),l.__actions__.push({func:Xn,args:[t],thisArg:z}),new r(l,f)):d&&c?e.apply(this,u):(l=this.thru(t),d?a?l.value()[0]:l.value():l)})}),s("pop push shift sort splice unshift".split(" "),function(e){var t=ta[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);i.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(as(i)?i:[],e)}return this[n](function(i){return t.apply(as(i)?i:[],e)})}}),Et(C.prototype,function(e,t){var n=i[t];if(n){var r=n.name+"";(qa[r]||(qa[r]=[])).push({name:t,func:n})}}),qa[Ji(z,2).name]=[{name:"wrapper",func:z}],C.prototype.clone=function(){var e=new C(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},C.prototype.reverse=function(){if(this.__filtered__){var e=new C(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},C.prototype.value=function(){var e,t=this.__wrapped__.value(),i=this.__dir__,n=as(t),r=0>i,a=n?t.length:0;e=a;for(var o=this.__views__,s=0,l=-1,u=o.length;++l<u;){var c=o[l],d=c.size;switch(c.type){case"drop":s+=d;break;case"dropRight":e-=d;break;case"take":e=La(e,s+d);break;case"takeRight":s=Pa(s,e-d)}}if(e={start:s,end:e},o=e.start,s=e.end,e=s-o,o=r?s:o-1,s=this.__iteratees__,l=s.length,u=0,c=La(e,this.__takeCount__),!n||!r&&a==e&&c==e)return xi(t,this.__actions__);n=[];e:for(;e--&&u<c;){for(o+=i,r=-1,a=t[o];++r<l;){var h=s[r],d=h.type,h=(0,h.iteratee)(a);if(2==d)a=h;else if(!h){if(1==d)continue e;break e}}n[u++]=a}return n},i.prototype.at=jo,i.prototype.chain=function(){return Kn(this)},i.prototype.commit=function(){return new r(this.value(),this.__chain__)},i.prototype.next=function(){this.__values__===z&&(this.__values__=Er(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?z:this.__values__[this.__index__++]}},i.prototype.plant=function(e){for(var t,i=this;i instanceof n;){var r=Hn(i);r.__index__=0,r.__values__=z,t?a.__wrapped__=r:t=r;var a=r,i=i.__wrapped__}return a.__wrapped__=e,t},i.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof C?(this.__actions__.length&&(e=new C(this)),e=e.reverse(),e.__actions__.push({func:Xn,args:[qn],thisArg:z}),new r(e,this.__chain__)):this.thru(qn)},i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=function(){return xi(this.__wrapped__,this.__actions__)},i.prototype.first=i.prototype.head,xa&&(i.prototype[xa]=Qn),i}();Ge._=ot,n=function(){return ot}.call(t,i,t,r),!(void 0!==n&&(r.exports=n))}).call(this)}).call(t,function(){return this}(),i(63)(e))},,,,function(e,t,i){var n=i(452),r=i(1932),a=i(176),o=i(457),s=a(function(e,t){if(null==e)return[];var i=t.length;return i>1&&o(e,t[0],t[1])?t=[]:i>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),r(e,n(t,1),[])});e.exports=s},,,,function(e,t,i){function n(e){if(!e)return 0===e?e:0;if(e=r(e),e===a||e===-a){var t=e<0?-1:1;return t*o}return e===e?e:0}var r=i(716),a=1/0,o=1.7976931348623157e308;e.exports=n},function(e,t,i){function n(e){var t=r(e),i=t%1;return t===t?i?t-i:t:0}var r=i(2021);e.exports=n},,function(e,t,i){var n=i(452),r=i(176),a=i(453),o=i(243),s=r(function(e){return a(n(e,1,o,!0))});e.exports=s},,,function(e,t,i){var n=i(686),r=i(176),a=i(1941),o=i(243),s=r(function(e){return a(n(e,o))});e.exports=s},,,,,,,function(e,t,i){(function(t){(function(){var i,n,r,a,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(i()-o)/1e6},n=t.hrtime,i=function(){var e;return e=n(),1e9*e[0]+e[1]},a=i(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,i(124))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e?e.replace(/\r\n|\r/g,"\n"):e}var r=i(1),a=(i(13),i(5)),o=i(8),s=i(446),l=i(1901),u=i(32),c=u({propTypes:{autoFocus:a.bool,className:a.any,codeMirrorInstance:a.func,defaultValue:a.string,name:a.string,onChange:a.func,onCursorActivity:a.func,onFocusChange:a.func,onScroll:a.func,options:a.object,path:a.string,value:a.string,preserveScrollPosition:a.bool},getDefaultProps:function(){return{preserveScrollPosition:!1}},getCodeMirrorInstance:function(){return this.props.codeMirrorInstance||i(190)},getInitialState:function(){return{isFocused:!1}},componentWillMount:function(){this.componentWillReceiveProps=s(this.componentWillReceiveProps,0),this.props.path&&console.error("Warning: react-codemirror: the `path` prop has been changed to `name`")},componentDidMount:function(){var e=this.getCodeMirrorInstance();this.codeMirror=e.fromTextArea(this.textareaNode,this.props.options),this.codeMirror.on("change",this.codemirrorValueChanged),this.codeMirror.on("cursorActivity",this.cursorActivity),this.codeMirror.on("focus",this.focusChanged.bind(this,!0)),this.codeMirror.on("blur",this.focusChanged.bind(this,!1)),this.codeMirror.on("scroll",this.scrollChanged),this.codeMirror.setValue(this.props.defaultValue||this.props.value||"")},componentWillUnmount:function(){this.codeMirror&&this.codeMirror.toTextArea()},componentWillReceiveProps:function(e){if(this.codeMirror&&void 0!==e.value&&e.value!==this.props.value&&n(this.codeMirror.getValue())!==n(e.value))if(this.props.preserveScrollPosition){var t=this.codeMirror.getScrollInfo();this.codeMirror.setValue(e.value),this.codeMirror.scrollTo(t.left,t.top)}else this.codeMirror.setValue(e.value);if("object"==typeof e.options)for(var i in e.options)e.options.hasOwnProperty(i)&&this.setOptionIfChanged(i,e.options[i])},setOptionIfChanged:function(e,t){var i=this.codeMirror.getOption(e);l(i,t)||this.codeMirror.setOption(e,t)},getCodeMirror:function(){return this.codeMirror},focus:function(){this.codeMirror&&this.codeMirror.focus()},focusChanged:function(e){this.setState({isFocused:e}),this.props.onFocusChange&&this.props.onFocusChange(e)},cursorActivity:function(e){this.props.onCursorActivity&&this.props.onCursorActivity(e)},scrollChanged:function(e){this.props.onScroll&&this.props.onScroll(e.getScrollInfo())},codemirrorValueChanged:function(e,t){this.props.onChange&&"setValue"!==t.origin&&this.props.onChange(e.getValue(),t)},render:function(){var e=this,t=o("ReactCodeMirror",this.state.isFocused?"ReactCodeMirror--focused":null,this.props.className);return r.createElement("div",{className:t},r.createElement("textarea",{ref:function(t){return e.textareaNode=t},name:this.props.name||this.props.path,defaultValue:this.props.value,autoComplete:"off",autoFocus:this.props.autoFocus}))}});e.exports=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2024),s=n(o),l=i(718),u=n(l),c=function(){function e(){r(this,e),this.entered=[]}return a(e,[{key:"enter",value:function(e){var t=this.entered.length,i=function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))};return this.entered=(0,s.default)(this.entered.filter(i),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,u.default)(this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=c},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(2002),l=r(s),u=i(2165),c=r(u),d=i(2158),h=r(d),f=i(877),p=i(2162),g=i(2161),v=i(473),m=n(v),b=function(){function e(t){a(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new h.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return o(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,i){var n=this;return this.sourcePreviewNodeOptions[e]=i,this.sourcePreviewNodes[e]=t,function(){delete n.sourcePreviewNodes[e],delete n.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,i){var n=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=i;var r=function(t){return n.handleDragStart(t,e)},a=function(t){return n.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",r),t.addEventListener("selectstart",a),function(){delete n.sourceNodes[e],delete n.sourceNodeOptions[e],t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",a),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var i=this,n=function(t){return i.handleDragEnter(t,e)},r=function(t){return i.handleDragOver(t,e)},a=function(t){return i.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",a)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,l.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,l.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,p.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(m).some(function(t){return m[t]===e})}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,g.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle]),(0,f.isFirefox)()&&this.window.addEventListener("mouseover",this.asyncEndDragNativeItem,!0)}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem),(0,f.isFirefox)()&&(this.window.removeEventListener("mouseover",this.asyncEndDragNativeItem,!0),this.enterLeaveCounter.reset())}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,p.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1,this.window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,c.default)((0,p.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,i=this.dragStartSourceIds;this.dragStartSourceIds=null;var n=(0,p.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(i,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,a=(0,g.matchNativeItemType)(r);if(this.monitor.isDragging()){if("function"==typeof r.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],l=this.sourcePreviewNodes[o]||s,u=this.getCurrentSourcePreviewNodeOptions(),c=u.anchorX,d=u.anchorY,h=u.offsetX,f=u.offsetY,v={anchorX:c,anchorY:d},m={offsetX:h,offsetY:f},b=(0,p.getDragPreviewOffset)(s,l,n,v,m);r.setDragImage(l,b.x,b.y)}try{r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);var y=this.getCurrentSourcePreviewNodeOptions(),w=y.captureDraggingState;w?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(a)this.beginDragNativeItem(a);else{if(!(r.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){this.dragEnterTargetIds=[];var t=this.enterLeaveCounter.enter(e.target);if(t&&!this.monitor.isDragging()){var i=e.dataTransfer,n=(0,g.matchNativeItemType)(i);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,i=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],this.monitor.isDragging()){this.altKeyPressed=e.altKey,(0,f.isFirefox)()||this.actions.hover(i,{clientOffset:(0,p.getEventClientOffset)(e)});var n=i.some(function(e){return t.monitor.canDropOnTarget(e)});n&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect())}}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,i=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(i,{clientOffset:(0,p.getEventClientOffset)(e)});var n=i.some(function(e){return t.monitor.canDropOnTarget(e)});n?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault();var t=this.enterLeaveCounter.leave(e.target);t&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,p.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),e}();t.default=b},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,n){i(this,e);for(var r=t.length,a=[],o=0;o<r;o++)a.push(o);a.sort(function(e,i){return t[e]<t[i]?-1:1});for(var s=[],l=[],u=[],c=void 0,d=void 0,h=0;h<r-1;h++)c=t[h+1]-t[h],d=n[h+1]-n[h],l.push(c),s.push(d),u.push(d/c);for(var f=[u[0]],p=0;p<l.length-1;p++){var g=u[p],v=u[p+1];if(g*v<=0)f.push(0);else{c=l[p];var m=l[p+1],b=c+m;f.push(3*b/((b+m)/g+(b+c)/v))}}f.push(u[u.length-1]);for(var y=[],w=[],x=void 0,E=0;E<f.length-1;E++){x=u[E];var _=f[E],A=1/l[E],C=_+f[E+1]-x-x;y.push((x-_-C)*A),w.push(C*A*A)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=y,this.c3s=w}return n(e,[{key:"interpolate",value:function(e){var t=this.xs,i=this.ys,n=this.c1s,r=this.c2s,a=this.c3s,o=t.length-1;if(e===t[o])return i[o];for(var s=0,l=a.length-1,u=void 0;s<=l;){u=Math.floor(.5*(s+l));var c=t[u];if(c<e)s=u+1;else{if(!(c>e))return i[u];l=u-1}}o=Math.max(0,l);var d=e-t[o],h=d*d;return i[o]+n[o]*d+r[o]*h+a[o]*d*h}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e,t){for(var i in t){var n=t[i];n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i,n)}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i){var n=t.reduce(function(t,i){return t||e.getData(i)},null);return null!=n?n:i}function l(e){var t=p[e],i=t.exposeProperty,n=t.matchesTypes,o=t.getData;return function(){function e(){var t,n;a(this,e),this.item=(t={},n={},n[i]=n[i]||{},n[i].get=function(){return console.warn("Browser doesn't allow reading \""+i+'" until the drop event.'),null},r(t,n),t)}return d(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[i],this.item[i]=o(e,n)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()}function u(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(p).filter(function(e){var i=p[e].matchesTypes;return i.some(function(e){return t.indexOf(e)>-1})})[0]||null}Object.defineProperty(t,"__esModule",{value:!0});var c,d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.createNativeDragSource=l,t.matchNativeItemType=u;var h=i(473),f=n(h),p=(c={},o(c,f.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(c,f.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),o(c,f.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),c)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.nodeType===h?e:e.parentElement;if(!t)return null;var i=t.getBoundingClientRect(),n=i.top,r=i.left;return{x:r,y:n}}function a(e){return{x:e.clientX,y:e.clientY}}function o(e){return"IMG"===e.nodeName&&((0,u.isFirefox)()||!document.documentElement.contains(e))}function s(e,t,i,n){var r=e?t.width:i,a=e?t.height:n;return(0,u.isSafari)()&&e&&(a/=window.devicePixelRatio,r/=window.devicePixelRatio),{dragPreviewWidth:r,dragPreviewHeight:a}}function l(e,t,i,n,a){var l=o(t),c=l?e:t,h=r(c),f={x:i.x-h.x,y:i.y-h.y},p=e.offsetWidth,g=e.offsetHeight,v=n.anchorX,m=n.anchorY,b=s(l,t,p,g),y=b.dragPreviewWidth,w=b.dragPreviewHeight,x=function(){var e=new d.default([0,.5,1],[f.y,f.y/g*w,f.y+w-g]),t=e.interpolate(m);return(0,u.isSafari)()&&l&&(t+=(window.devicePixelRatio-1)*w),t},E=function(){var e=new d.default([0,.5,1],[f.x,f.x/p*y,f.x+y-p]);return e.interpolate(v)},_=a.offsetX,A=a.offsetY,C=0===_||_,S=0===A||A;return{x:C?_:E(),y:S?A:x()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=r,t.getEventClientOffset=a,t.getDragPreviewOffset=l;var u=i(877),c=i(2160),d=n(c),h=1},function(e,t){"use strict";function i(){return n||(n=new Image,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=void 0},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return new s.default(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=a;var o=i(2159),s=r(o),l=i(2163),u=r(l),c=i(473),d=n(c);t.NativeTypes=d,t.getEmptyImage=u.default},474,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(1),d=i(5),h=n(d),f=i(878),p=(l=s=function(e){function t(e,i){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),o=function(){return e&&e.window?e.window:i&&i.window?i.window:"undefined"!=typeof window?window:void 0};return n.backend=(0,f.unpackBackendForEs5Users)(e.backend),n.childContext=(0,f.createChildContext)(n.backend,{window:o()}),n}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return c.Children.only(this.props.children)}}]),t}(c.Component),s.propTypes={backend:h.default.oneOfType([h.default.func,h.default.object]).isRequired,children:h.default.element.isRequired,window:h.default.object},s.defaultProps={window:void 0},s.childContextTypes=f.CHILD_CONTEXT_TYPES,s.displayName="DragDropContextProvider",s.contextTypes={window:h.default.object},l);t.default=p},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,w.default)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,w.default)((0,b.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(i){var n,s,f=t.arePropsEqual,g=void 0===f?A.default:f,m=i.displayName||i.name||"Component",b=(s=n=function(t){function n(e,t){r(this,n);var i=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i.handleChange=i.handleChange.bind(i),i.manager=t.dragDropManager,(0,w.default)("object"===u(i.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",m,m),i.state=i.getCurrentState(),i}return o(n,t),c(n,[{key:"getDecoratedComponentInstance",value:function(){return(0,w.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!g(e,this.props)||!(0,E.default)(t,this.state)}}]),c(n,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,E.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t)}},{key:"render",value:function(){var e=this;return h.default.createElement(i,l({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),n}(d.Component),n.DecoratedComponent=i,n.displayName="DragLayer("+m+")",n.contextTypes={dragDropManager:p.default.object.isRequired},s);return(0,v.default)(b,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var d=i(1),h=n(d),f=i(5),p=n(f),g=i(173),v=n(g),m=i(106),b=n(m),y=i(40),w=n(y),x=i(474),E=n(x),_=i(882),A=n(_),C=i(325),S=n(C)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var r=e;"function"!=typeof e&&((0,o.default)((0,E.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),r=function(){return e}),(0,o.default)((0,l.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var a=(0,v.default)(t);return(0,o.default)("function"==typeof i,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',i),(0,o.default)((0,l.default)(n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',i),function(e){return(0,h.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:a,registerHandler:p.default,createMonitor:b.default,createConnector:w.default,DecoratedComponent:e,getType:r,collect:i,options:n})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(40),o=n(a),s=i(106),l=n(s),u=i(325),c=n(u),d=i(880),h=n(d),f=i(2176),p=n(f),g=i(2171),v=n(g),m=i(2172),b=n(m),y=i(2170),w=n(y),x=i(881),E=n(x)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};c.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var r=e;"function"!=typeof e&&((0,o.default)((0,E.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),r=function(){return e}),(0,o.default)((0,l.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var a=(0,v.default)(t);return(0,o.default)("function"==typeof i,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',i),(0,o.default)((0,l.default)(n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',i),function(e){return(0,h.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:a,registerHandler:p.default,createMonitor:b.default,createConnector:w.default,DecoratedComponent:e,getType:r,collect:i,options:n})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(40),o=n(a),s=i(106),l=n(s),u=i(325),c=n(u),d=i(880),h=n(d),f=i(2177),p=n(f),g=i(2174),v=n(g),m=i(2175),b=n(m),y=i(2173),w=n(y),x=i(881),E=n(x)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){u&&(u(),u=null),r&&a&&(u=e.connectDragSource(r,a,s))}function i(){h&&(h(),h=null),r&&c&&(h=e.connectDragPreview(r,c,d))}function n(e){e!==r&&(r=e,t(),i())}var r=void 0,a=void 0,s=void 0,u=void 0,c=void 0,d=void 0,h=void 0,f=(0,o.default)({dragSource:function(e,i){e===a&&(0,l.default)(i,s)||(a=e,s=i,t())},dragPreview:function(e,t){e===c&&(0,l.default)(t,d)||(c=e,d=t,i())}});return{receiveHandlerId:n,hooks:f}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(883),o=n(a),s=i(879),l=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){(0,l.default)(c.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',c.join(", "),t),(0,l.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),d.forEach(function(t){(0,l.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){r(this,t),this.monitor=e,this.props=null,this.component=null}return o(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,i){return e.isDragging?e.isDragging(this.props,this.monitor):i===t.getSourceId()}},{key:"beginDrag",value:function(){var t=e.beginDrag(this.props,this.monitor,this.component);return t}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var s=i(40),l=n(s),u=i(106),c=(n(u),["canDrag","beginDrag","isDragging","endDrag"]),d=["beginDrag"]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new d(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var s=i(40),l=n(s),u=!1,c=!1,d=function(){function e(t){r(this,e),this.internalMonitor=t.getMonitor()}return o(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,l.default)(!u,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return u=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{u=!1}}},{key:"isDragging",value:function(){(0,l.default)(!c,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return c=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{c=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){s&&(s(),s=null),n&&r&&(s=e.connectDropTarget(n,r,a))}function i(e){e!==n&&(n=e,t())}var n=void 0,r=void 0,a=void 0,s=void 0,u=(0,o.default)({dropTarget:function(e,i){e===r&&(0,l.default)(i,a)||(r=e,a=i,t())}});return{receiveHandlerId:i,hooks:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(883),o=n(a),s=i(879),l=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){(0,l.default)(c.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',c.join(", "),t),(0,l.default)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){r(this,t),this.monitor=e,this.props=null,this.component=null}return o(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return t}}}]),t}();return function(e){return new t(e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var s=i(40),l=n(s),u=i(106),c=(n(u),["canDrop","hover","drop"])},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new c(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var s=i(40),l=n(s),u=!1,c=function(){function e(t){r(this,e),this.internalMonitor=t.getMonitor()}return o(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,l.default)(!u,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return u=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{u=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t){"use strict";function i(e,t,i){function n(){r.removeSource(a)}var r=i.getRegistry(),a=r.addSource(e,t);return{handlerId:a,unregister:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";function i(e,t,i){function n(){r.removeTarget(a)}var r=i.getRegistry(),a=r.addTarget(e,t);return{handlerId:a,unregister:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=e.ref;return(0,o.default)("string"!=typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),i?(0,s.cloneElement)(e,{ref:function(e){t(e),i&&i(e)}}):(0,s.cloneElement)(e,{ref:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(40),o=n(a),s=i(1)},,function(e,t,i){!function(t,n){e.exports=n(i(1),i(13))}(this,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";e.exports=i(1).default,e.exports.DraggableCore=i(17).default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(2),h=n(d),f=i(3),p=n(f),g=i(11),v=n(g),m=i(12),b=n(m),y=i(13),w=i(16),x=i(14),E=i(17),_=n(E),A=i(19),C=n(A),S=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.onDragStart=function(e,t){(0,C.default)("Draggable: onDragStart: %j",t);var n=i.props.onStart(e,(0,w.createDraggableData)(i,t));return n!==!1&&void i.setState({dragging:!0,dragged:!0})},i.onDrag=function(e,t){if(!i.state.dragging)return!1;(0,C.default)("Draggable: onDrag: %j",t);var n=(0,w.createDraggableData)(i,t),r={x:n.x,y:n.y};if(i.props.bounds){var a=r.x,o=r.y;r.x+=i.state.slackX,r.y+=i.state.slackY;var s=(0,w.getBoundPosition)(i,r.x,r.y),l=u(s,2);r.x=l[0],r.y=l[1],r.slackX=i.state.slackX+(a-r.x),r.slackY=i.state.slackY+(o-r.y),n.x=a,n.y=o,n.deltaX=r.x-i.state.x,n.deltaY=r.y-i.state.y}var c=i.props.onDrag(e,n);return c!==!1&&void i.setState(r)},i.onDragStop=function(e,t){if(!i.state.dragging)return!1;var n=i.props.onStop(e,(0,w.createDraggableData)(i,t));if(n===!1)return!1;(0,C.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0},a=Boolean(i.props.position);if(a){var o=i.props.position,s=o.x,l=o.y;r.x=s,r.y=l}i.setState(r)},i.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},i}return s(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&v.default.findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},i=null,n=Boolean(this.props.position),a=!n||this.state.dragging,o=this.props.position||this.props.defaultPosition,s={x:(0,w.canDragX)(this)&&a?this.state.x:o.x,y:(0,w.canDragY)(this)&&a?this.state.y:o.y};this.state.isElementSVG?i=(0,y.createSVGTransform)(s):t=(0,y.createCSSTransform)(s);var u=this.props,c=u.defaultClassName,d=u.defaultClassNameDragging,f=u.defaultClassNameDragged,p=(0,b.default)(this.props.children.props.className||"",c,(e={},r(e,d,this.state.dragging),r(e,f,this.state.dragged),e));return h.default.createElement(_.default,l({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),h.default.cloneElement(h.default.Children.only(this.props.children),{className:p,style:l({},this.props.children.props.style,t),transform:i}))}}]),t}(h.default.Component);S.displayName="Draggable",S.propTypes=l({},_.default.propTypes,{axis:p.default.oneOf(["both","x","y","none"]),bounds:p.default.oneOfType([p.default.shape({left:p.default.number,right:p.default.number,top:p.default.number,bottom:p.default.number}),p.default.string,p.default.oneOf([!1])]),defaultClassName:p.default.string,defaultClassNameDragging:p.default.string,defaultClassNameDragged:p.default.string,defaultPosition:p.default.shape({x:p.default.number,y:p.default.number}),position:p.default.shape({x:p.default.number,y:p.default.number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),S.defaultProps=l({},_.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=S},function(t,i){t.exports=e},function(e,t,i){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},a=!0;e.exports=i(4)(r,a)}else e.exports=i(10)()},function(e,t,i){"use strict";var n=i(5),r=i(6),a=i(7),o=i(8),s=i(9);e.exports=function(e,t){function i(e){var t=e&&(S&&e[S]||e[T]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function i(i,l,c,d,h,f,p){if(d=d||I,f=f||c,p!==o)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+c;!n[g]&&s<3&&(a(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,d),n[g]=!0,s++)}return null==l[c]?i?new u(null===l[c]?"The "+h+" `"+f+"` is marked as required "+("in `"+d+"`, but its value is `null`."):"The "+h+" `"+f+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:e(l,c,d,h,f)}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var n={},s=0;var l=i.bind(null,!1);return l.isRequired=i.bind(null,!0),l}function d(e){function t(t,i,n,r,a,o){var s=t[i],l=_(s);if(l!==e){var c=A(s);return new u("Invalid "+r+" `"+a+"` of type "+("`"+c+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function h(){return c(n.thatReturnsNull)}function f(e){function t(t,i,n,r,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[i];if(!Array.isArray(s)){var l=_(s);return new u("Invalid "+r+" `"+a+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an array."))}for(var c=0;c<s.length;c++){var d=e(s,c,n,r,a+"["+c+"]",o);if(d instanceof Error)return d}return null}return c(t)}function p(){function t(t,i,n,r,a){var o=t[i];if(!e(o)){var s=_(o);return new u("Invalid "+r+" `"+a+"` of type "+("`"+s+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return c(t)}function g(e){function t(t,i,n,r,a){if(!(t[i]instanceof e)){var o=e.name||I,s=C(t[i]);return new u("Invalid "+r+" `"+a+"` of type "+("`"+s+"` supplied to `"+n+"`, expected ")+("instance of `"+o+"`."))}return null}return c(t)}function v(e){function t(t,i,n,r,a){for(var o=t[i],s=0;s<e.length;s++)if(l(o,e[s]))return null;var c=JSON.stringify(e);return new u("Invalid "+r+" `"+a+"` of value `"+o+"` "+("supplied to `"+n+"`, expected one of "+c+"."))}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?a(!1,"Invalid argument supplied to oneOf, expected an instance of array."):void 0,n.thatReturnsNull)}function m(e){function t(t,i,n,r,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var s=t[i],l=_(s);if("object"!==l)return new u("Invalid "+r+" `"+a+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an object."));for(var c in s)if(s.hasOwnProperty(c)){var d=e(s,c,n,r,a+"."+c,o);if(d instanceof Error)return d}return null}return c(t)}function b(e){function t(t,i,n,r,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,i,n,r,a,o))return null}return new u("Invalid "+r+" `"+a+"` supplied to "+("`"+n+"`."))}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV?a(!1,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0,n.thatReturnsNull)}function y(){function e(e,t,i,n,r){return x(e[t])?null:new u("Invalid "+n+" `"+r+"` supplied to "+("`"+i+"`, expected a ReactNode."))}return c(e)}function w(e){function t(t,i,n,r,a){var s=t[i],l=_(s);if("object"!==l)return new u("Invalid "+r+" `"+a+"` of type `"+l+"` "+("supplied to `"+n+"`, expected `object`."));for(var c in e){var d=e[c];if(d){var h=d(s,c,n,r,a+"."+c,o);if(h)return h}}return null}return c(t)}function x(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(x);if(null===t||e(t))return!0;var n=i(t);if(!n)return!1;var r,a=n.call(t);if(n!==t.entries){for(;!(r=a.next()).done;)if(!x(r.value))return!1}else for(;!(r=a.next()).done;){var o=r.value;if(o&&!x(o[1]))return!1}return!0;default:return!1}}function E(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function _(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":E(t,e)?"symbol":t}function A(e){var t=_(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){return e.constructor&&e.constructor.name?e.constructor.name:I}var S="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",I="<<anonymous>>",D={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:h(),arrayOf:f,element:p(),instanceOf:g,node:y(),objectOf:m,oneOf:v,oneOfType:b,shape:w};return u.prototype=Error.prototype,D.checkPropTypes=s,D.PropTypes=D,D}},function(e,t){"use strict";function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n,a,o,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,a,o,s,l],d=0;u=new Error(t.replace(/%s/g,function(){return c[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(e){};"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n},function(e,t,i){"use strict";var n=i(5),r=n;"production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV&&!function(){var e=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=0,a="Warning: "+e.replace(/%s/g,function(){return i[r++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(e){}};r=function(t,i){if(void 0===i)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==i.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];e.apply(void 0,[i].concat(r))}}}(),e.exports=r},function(e,t){"use strict";var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
e.exports=i},function(e,t,i){"use strict";function n(e,t,i,n,l){if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var c;try{r("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",i,u),c=e[u](t,u,n,i,null,o)}catch(e){c=e}if(a(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",i,u,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var d=l?l():"";a(!1,"Failed %s type: %s%s",i,c.message,null!=d?d:"")}}}if("production"!=={DRAGGABLE_DEBUG:void 0}.NODE_ENV)var r=i(6),a=i(7),o=i(8),s={};e.exports=n},function(e,t,i){"use strict";var n=i(5),r=i(6);e.exports=function(){function e(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,i){e.exports=t},function(e,t,i){var n,r;/*!
		  Copyright (c) 2016 Jed Watson.
		  Licensed under the MIT License (MIT), see
		  http://jedwatson.github.io/classnames
		*/
!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(n=[],r=function(){return i}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return C||(C=(0,E.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,E.isFunction)(e[t])})),e[C].call(e,t)}function o(e,t,i){var n=e;do{if(a(n,t))return!0;if(n===i)return!1;n=n.parentNode}while(n);return!1}function s(e,t,i){e&&(e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener?e.addEventListener(t,i,!0):e["on"+t]=i)}function l(e,t,i){e&&(e.detachEvent?e.detachEvent("on"+t,i):e.removeEventListener?e.removeEventListener(t,i,!0):e["on"+t]=null)}function u(e){var t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,E.int)(i.borderTopWidth),t+=(0,E.int)(i.borderBottomWidth)}function c(e){var t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,E.int)(i.borderLeftWidth),t+=(0,E.int)(i.borderRightWidth)}function d(e){var t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,E.int)(i.paddingTop),t-=(0,E.int)(i.paddingBottom)}function h(e){var t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,E.int)(i.paddingLeft),t-=(0,E.int)(i.paddingRight)}function f(e,t){var i=t===t.ownerDocument.body,n=i?{left:0,top:0}:t.getBoundingClientRect(),r=e.clientX+t.scrollLeft-n.left,a=e.clientY+t.scrollTop-n.top;return{x:r,y:a}}function p(e){var t=e.x,i=e.y;return r({},(0,_.browserPrefixToKey)("transform",A.default),"translate("+t+"px,"+i+"px)")}function g(e){var t=e.x,i=e.y;return"translate("+t+","+i+")"}function v(e,t){return e.targetTouches&&(0,E.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,E.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function m(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function b(e){var t=e.getAttribute("style")||"";D.test(t)||e.setAttribute("style",t+I)}function y(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(D,""))}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x({touchAction:"none"},e)}Object.defineProperty(t,"__esModule",{value:!0});var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.matchesSelector=a,t.matchesSelectorAndParentsTo=o,t.addEvent=s,t.removeEvent=l,t.outerHeight=u,t.outerWidth=c,t.innerHeight=d,t.innerWidth=h,t.offsetXYFromParent=f,t.createCSSTransform=p,t.createSVGTransform=g,t.getTouch=v,t.getTouchIdentifier=m,t.addUserSelectStyles=b,t.removeUserSelectStyles=y,t.styleHacks=w;var E=i(14),_=i(15),A=n(_),C="",S=(0,_.getPrefix)("user-select"),T=(0,_.browserPrefixToStyle)("user-select",S),I=";"+T+": none;",D=new RegExp(";?"+T+": none;")},function(e,t){"use strict";function i(e,t){for(var i=0,n=e.length;i<n;i++)if(t.apply(t,[e[i],i,e]))return e[i]}function n(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function r(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function o(e,t,i){if(e[t])return new Error("Invalid prop "+t+" passed to "+i+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=i,t.isFunction=n,t.isNum=r,t.int=a,t.dontSetMe=o},function(e,t){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var i=0;i<o.length;i++)if(n(e,o[i])in t)return o[i];return""}function n(e,t){return t?""+t+a(e):e}function r(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function a(e){for(var t="",i=!0,n=0;n<e.length;n++)i?(t+=e[n].toUpperCase(),i=!1):"-"===e[n]?i=!0:t+=e[n];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=i,t.browserPrefixToKey=n,t.browserPrefixToStyle=r;var o=["Moz","Webkit","O","ms"];t.default=i()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){if(!e.props.bounds)return[t,i];var n=e.props.bounds;n="string"==typeof n?n:d(n);var r=p.default.findDOMNode(e);if("string"==typeof n){var a=r.ownerDocument,o=a.defaultView,s=void 0;if("parent"===n)s=r.parentNode;else if(s=a.querySelector(n),!s)throw new Error('Bounds selector "'+n+'" could not find an element.');var l=o.getComputedStyle(r),u=o.getComputedStyle(s);n={left:-r.offsetLeft+(0,h.int)(u.paddingLeft)+(0,h.int)(l.marginLeft),top:-r.offsetTop+(0,h.int)(u.paddingTop)+(0,h.int)(l.marginTop),right:(0,g.innerWidth)(s)-(0,g.outerWidth)(r)-r.offsetLeft+(0,h.int)(u.paddingRight)-(0,h.int)(l.marginRight),bottom:(0,g.innerHeight)(s)-(0,g.outerHeight)(r)-r.offsetTop+(0,h.int)(u.paddingBottom)-(0,h.int)(l.marginBottom)}}return(0,h.isNum)(n.right)&&(t=Math.min(t,n.right)),(0,h.isNum)(n.bottom)&&(i=Math.min(i,n.bottom)),(0,h.isNum)(n.left)&&(t=Math.max(t,n.left)),(0,h.isNum)(n.top)&&(i=Math.max(i,n.top)),[t,i]}function a(e,t,i){var n=Math.round(t/e[0])*e[0],r=Math.round(i/e[1])*e[1];return[n,r]}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function l(e,t,i){var n="number"==typeof t?(0,g.getTouch)(e,t):null;if("number"==typeof t&&!n)return null;var r=p.default.findDOMNode(i),a=i.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,g.offsetXYFromParent)(n||e,a)}function u(e,t,i){var n=e.state,r=!(0,h.isNum)(n.lastX);return r?{node:p.default.findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}:{node:p.default.findDOMNode(e),deltaX:t-n.lastX,deltaY:i-n.lastY,lastX:n.lastX,lastY:n.lastY,x:t,y:i}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function d(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=r,t.snapToGrid=a,t.canDragX=o,t.canDragY=s,t.getControlPosition=l,t.createCoreData=u,t.createDraggableData=c;var h=i(14),f=i(11),p=n(f),g=i(13)},function(e,t,i){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(2),c=n(u),d=i(3),h=n(d),f=i(11),p=n(f),g=i(13),v=i(16),m=i(14),b=i(19),y=n(b),w={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},x=w.mouse,E=function(e){function t(){var e,i,n,o;r(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return i=n=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},n.handleDragStart=function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=p.default.findDOMNode(n),i=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof i.defaultView.Node)||n.props.handle&&!(0,g.matchesSelectorAndParentsTo)(e.target,n.props.handle,t)||n.props.cancel&&(0,g.matchesSelectorAndParentsTo)(e.target,n.props.cancel,t))){var r=(0,g.getTouchIdentifier)(e);n.setState({touchIdentifier:r});var a=(0,v.getControlPosition)(e,r,n);if(null!=a){var o=a.x,s=a.y,l=(0,v.createCoreData)(n,o,s);(0,y.default)("DraggableCore: handleDragStart: %j",l),(0,y.default)("calling",n.props.onStart);var u=n.props.onStart(e,l);u!==!1&&(n.props.enableUserSelectHack&&(0,g.addUserSelectStyles)(i.body),n.setState({dragging:!0,lastX:o,lastY:s}),(0,g.addEvent)(i,x.move,n.handleDrag),(0,g.addEvent)(i,x.stop,n.handleDragStop))}}},n.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,v.getControlPosition)(e,n.state.touchIdentifier,n);if(null!=t){var i=t.x,r=t.y;if(Array.isArray(n.props.grid)){var a=i-n.state.lastX,o=r-n.state.lastY,l=(0,v.snapToGrid)(n.props.grid,a,o),u=s(l,2);if(a=u[0],o=u[1],!a&&!o)return;i=n.state.lastX+a,r=n.state.lastY+o}var c=(0,v.createCoreData)(n,i,r);(0,y.default)("DraggableCore: handleDrag: %j",c);var d=n.props.onDrag(e,c);if(d!==!1)n.setState({lastX:i,lastY:r});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(h)}}},n.handleDragStop=function(e){if(n.state.dragging){var t=(0,v.getControlPosition)(e,n.state.touchIdentifier,n);if(null!=t){var i=t.x,r=t.y,a=(0,v.createCoreData)(n,i,r),o=p.default.findDOMNode(n),s=o.ownerDocument;n.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(s.body),(0,y.default)("DraggableCore: handleDragStop: %j",a),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,a),(0,y.default)("DraggableCore: Removing handlers"),(0,g.removeEvent)(s,x.move,n.handleDrag),(0,g.removeEvent)(s,x.stop,n.handleDragStop)}}},n.onMouseDown=function(e){return x=w.mouse,n.handleDragStart(e)},n.onMouseUp=function(e){return x=w.mouse,n.handleDragStop(e)},n.onTouchStart=function(e){return x=w.touch,n.handleDragStart(e)},n.onTouchEnd=function(e){return x=w.touch,n.handleDragStop(e)},o=i,a(n,o)}return o(t,e),l(t,[{key:"componentWillUnmount",value:function(){var e=p.default.findDOMNode(this),t=e.ownerDocument;(0,g.removeEvent)(t,w.mouse.move,this.handleDrag),(0,g.removeEvent)(t,w.touch.move,this.handleDrag),(0,g.removeEvent)(t,w.mouse.stop,this.handleDragStop),(0,g.removeEvent)(t,w.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(t.body)}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{style:(0,g.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c.default.Component);E.displayName="DraggableCore",E.propTypes={allowAnyClick:h.default.bool,disabled:h.default.bool,enableUserSelectHack:h.default.bool,offsetParent:function(t,i){if(e.browser&&t[i]&&1!==t[i].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:h.default.arrayOf(h.default.number),handle:h.default.string,cancel:h.default.string,onStart:h.default.func,onDrag:h.default.func,onStop:h.default.func,onMouseDown:h.default.func,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe},E.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t.default=E}).call(t,i(18))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){g&&f&&(g=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!g){var e=r(o);g=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var f,p=[],g=!1,v=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,i){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}])})},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(884),l=i(2183),u=function(e){function t(e,i){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return a.prefixHeightData=a.heightData.reduce(function(e,t){return 0===e.length?[t]:(e.push(e[e.length-1]+t),e)},[]),a}return a(t,e),o(t,[{key:"maybeIndexToIndex",value:function(e){return"undefined"==typeof e||null===e?this.prefixHeightData.length-1:e}},{key:"getTotalScrollableHeight",value:function(){var e=this.prefixHeightData.length;return 0===e?0:this.prefixHeightData[e-1]}},{key:"getDisplayIndexStart",value:function(e){var t=l.binaryIndexSearch(this.prefixHeightData,e,l.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getDisplayIndexEnd",value:function(e){var t=l.binaryIndexSearch(this.prefixHeightData,e,l.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getTopSpacerHeight",value:function(e){var t=e-1;return t<0?0:this.prefixHeightData[t]}},{key:"getBottomSpacerHeight",value:function(e){return e===-1?0:this.getTotalScrollableHeight()-this.prefixHeightData[e]}}]),t}(s);e.exports=u},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(884),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"getTotalScrollableHeight",value:function(){return this.heightData*this.numberOfChildren}},{key:"getDisplayIndexStart",value:function(e){return Math.floor(e/this.heightData)}},{key:"getDisplayIndexEnd",value:function(e){var t=Math.ceil(e/this.heightData);return t>0?t-1:t}},{key:"getTopSpacerHeight",value:function(e){return e*this.heightData}},{key:"getBottomSpacerHeight",value:function(e){var t=e+1;return Math.max(0,(this.numberOfChildren-t)*this.heightData)}}]),t}(s);e.exports=l},function(e,t){"use strict";var i={CLOSEST_LOWER:1,CLOSEST_HIGHER:2},n=function(e,t,n){for(var r,a,o,s=e.length-1,l=0;l<=s;){if(a=l+Math.floor((s-l)/2),o=e[a],o===t)return a;o<t?l=a+1:o>t&&(s=a-1)}return n===i.CLOSEST_LOWER&&l>0?r=l-1:n===i.CLOSEST_HIGHER&&s<e.length-1&&(r=s+1),r};e.exports={binaryIndexSearch:n,opts:i}},function(e,t,i){(function(t){"use strict";var n=t.React||i(1),r=i(683);e.exports=function(e){var t="Invariant Violation: ";if(!e.containerHeight&&!e.useWindowAsScrollContainer)throw new Error(t+"Either containerHeight or useWindowAsScrollContainer must be provided.");if(!r(e.elementHeight)&&!Array.isArray(e.elementHeight))throw new Error(t+"You must provide either a number or an array of numbers as the elementHeight.");if(Array.isArray(e.elementHeight)&&n.Children.count(e.children)!==e.elementHeight.length)throw new Error(t+"There must be as many values provided in the elementHeight prop as there are children.")}}).call(t,function(){return this}())},function(e,t,i){"use strict";Object.assign||(Object.assign=i(2187)),Array.isArray||(Array.isArray=i(682))},function(e,t,i){(function(t){"use strict";function n(e,t){var i={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);return i}function r(e,t){var i,n=h.Children.count(t);return i=Array.isArray(e)?new c(e,n):new u(e,n)}function a(e,t){var i=e.preloadBatchSize,n=e.preloadAdditionalHeight,r=e.infiniteComputer,a=0===i?0:Math.floor(t/i),o=i*a,s=o+i,l=Math.max(0,o-n),u=Math.min(r.getTotalScrollableHeight(),s+n);return{displayIndexStart:r.getDisplayIndexStart(l),displayIndexEnd:r.getDisplayIndexEnd(u)}}function o(e){var t=e.containerHeight,i=e.preloadBatchSize,r=e.preloadAdditionalHeight,a=e.handleScroll,o=e.onInfiniteLoad,s=n(e,["containerHeight","preloadBatchSize","preloadAdditionalHeight","handleScroll","onInfiniteLoad"]),u={};t="number"==typeof t?t:0,u.containerHeight=e.useWindowAsScrollContainer?f.innerHeight:t,u.handleScroll=a||function(){},u.onInfiniteLoad=o||function(){};var c={type:d.CONTAINER_HEIGHT_SCALE_FACTOR,amount:.5},h=i&&i.type?i:c;"number"==typeof i?u.preloadBatchSize=i:"object"===("undefined"==typeof h?"undefined":l(h))&&h.type===d.CONTAINER_HEIGHT_SCALE_FACTOR?u.preloadBatchSize=u.containerHeight*h.amount:u.preloadBatchSize=0;var p={type:d.CONTAINER_HEIGHT_SCALE_FACTOR,amount:1},g=r&&r.type?r:p;return"number"==typeof r?u.preloadAdditionalHeight=r:"object"===("undefined"==typeof g?"undefined":l(g))&&g.type===d.CONTAINER_HEIGHT_SCALE_FACTOR?u.preloadAdditionalHeight=u.containerHeight*g.amount:u.preloadAdditionalHeight=0,Object.assign(s,u)}function s(e){return{width:"100%",height:Math.ceil(e)}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=i(2182),c=i(2181),d=i(886),h=t.React||i(1),f=i(887);e.exports={createInfiniteComputer:r,recomputeApertureStateFromOptionsAndScrollTop:a,generateComputedProps:o,buildHeightStyle:s}}).call(t,function(){return this}())},function(e,t){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var a,o,s=i(e),l=1;l<arguments.length;l++){a=Object(arguments[l]);for(var u in a)n.call(a,u)&&(s[u]=a[u]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}},,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e()}Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(1),h=r(d),f=i(13),p=r(f),g=i(5),v=r(g),m=i(2193),b=r(m),y=i(888),w=n(y),x=i(890),E=r(x),_=t.portalClassName="ReactModalPortal",A=t.bodyOpenClassName="ReactModal__Body--open",C=p.default.unstable_renderSubtreeIntoContainer,S=function(e){function t(){var e,i,n,r;a(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.removePortal=function(){p.default.unmountComponentAtNode(n.node);var e=l(n.props.parentSelector);e.removeChild(n.node)},n.renderPortal=function(e){n.portal=C(n,h.default.createElement(b.default,u({defaultStyles:t.defaultStyles},e)),n.node)},r=i,o(n,r)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.node=document.createElement("div"),this.node.className=this.props.portalClassName;var e=l(this.props.parentSelector);e.appendChild(this.node),this.renderPortal(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.isOpen;if(this.props.isOpen||t){var i=l(this.props.parentSelector),n=l(e.parentSelector);n!==i&&(i.removeChild(this.node),n.appendChild(this.node)),this.renderPortal(e)}}},{key:"componentWillUpdate",value:function(e){e.portalClassName!==this.props.portalClassName&&(this.node.className=e.portalClassName)}},{key:"componentWillUnmount",value:function(){if(this.node&&this.portal){var e=this.portal.state,t=Date.now(),i=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);i?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-t)):this.removePortal()}}},{key:"render",value:function(){return null}}],[{key:"setAppElement",value:function(e){w.setElement(e)}},{key:"injectCSS",value:function(){}}]),t}(d.Component);S.propTypes={isOpen:v.default.bool.isRequired,style:v.default.shape({content:v.default.object,overlay:v.default.object}),portalClassName:v.default.string,bodyOpenClassName:v.default.string,className:v.default.oneOfType([v.default.string,v.default.object]),overlayClassName:v.default.oneOfType([v.default.string,v.default.object]),appElement:v.default.instanceOf(E.default),onAfterOpen:v.default.func,onRequestClose:v.default.func,closeTimeoutMS:v.default.number,ariaHideApp:v.default.bool,shouldFocusAfter:v.default.bool,shouldCloseOnOverlayClick:v.default.bool,parentSelector:v.default.func,aria:v.default.object,role:v.default.string,contentLabel:v.default.string},S.defaultProps={isOpen:!1,portalClassName:_,bodyOpenClassName:A,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,parentSelector:function(){return document.body}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},t.default=S},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(1),h=r(d),f=i(5),p=i(2195),g=n(p),v=i(2196),m=r(v),b=i(888),y=n(b),w=i(889),x=n(w),E=i(2194),_=n(E),A=i(890),C=r(A),S={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},T=9,I=27,D=function(e){function t(e){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.setFocusAfterRender=function(e){i.focusAfterRender=i.props.shouldFocusAfterRender&&e},i.setOverlayRef=function(e){i.overlay=e},i.setContentRef=function(e){i.content=e},i.afterClose=function(){g.returnFocus(),g.teardownScopedFocus()},i.open=function(){i.beforeOpen(),i.state.afterOpen&&i.state.beforeClose?(clearTimeout(i.closeTimer),i.setState({beforeClose:!1})):(g.setupScopedFocus(i.node),g.markForFocusLater(),i.setState({isOpen:!0},function(){i.setState({afterOpen:!0}),i.props.isOpen&&i.props.onAfterOpen&&i.props.onAfterOpen()}))},i.close=function(){i.beforeClose(),i.props.closeTimeoutMS>0?i.closeWithTimeout():i.closeWithoutTimeout()},i.focusContent=function(){return i.content&&!i.contentHasFocus()&&i.content.focus()},i.closeWithTimeout=function(){var e=Date.now()+i.props.closeTimeoutMS;i.setState({beforeClose:!0,closesAt:e},function(){i.closeTimer=setTimeout(i.closeWithoutTimeout,i.state.closesAt-Date.now())})},i.closeWithoutTimeout=function(){i.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},i.afterClose)},i.handleKeyDown=function(e){e.keyCode===T&&(0,m.default)(i.content,e),e.keyCode===I&&(e.preventDefault(),i.requestClose(e))},i.handleOverlayOnClick=function(e){null===i.shouldClose&&(i.shouldClose=!0),i.shouldClose&&i.props.shouldCloseOnOverlayClick&&(i.ownerHandlesClose()?i.requestClose(e):i.focusContent()),i.shouldClose=null,i.moveFromContentToOverlay=null},i.handleOverlayOnMouseUp=function(){null===i.moveFromContentToOverlay&&(i.shouldClose=!1)},i.handleContentOnMouseUp=function(){i.shouldClose=!1},i.handleOverlayOnMouseDown=function(){i.moveFromContentToOverlay=!1},i.handleContentOnClick=function(){i.shouldClose=!1},i.handleContentOnMouseDown=function(){i.shouldClose=!1,i.moveFromContentToOverlay=!1},i.requestClose=function(e){return i.ownerHandlesClose()&&i.props.onRequestClose(e)},i.ownerHandlesClose=function(){return i.props.onRequestClose},i.shouldBeClosed=function(){return!i.state.isOpen&&!i.state.beforeClose},i.contentHasFocus=function(){return document.activeElement===i.content||i.content.contains(document.activeElement)},i.buildClassName=function(e,t){var n="object"===("undefined"==typeof t?"undefined":u(t))?t:{base:S[e],afterOpen:S[e]+"--after-open",beforeClose:S[e]+"--before-close"},r=n.base;return i.state.afterOpen&&(r=r+" "+n.afterOpen),i.state.beforeClose&&(r=r+" "+n.beforeClose),"string"==typeof t&&t?r+" "+t:r},i.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,i){return t["aria-"+i]=e[i],t},{})},i.state={afterOpen:!1,beforeClose:!1},i.shouldClose=null,i.moveFromContentToOverlay=null,i}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())}},{key:"componentWillReceiveProps",value:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()}},{key:"componentDidUpdate",value:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))}},{key:"componentWillUnmount",value:function(){this.beforeClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,i=e.ariaHideApp,n=e.bodyOpenClassName;_.add(n),i&&y.hide(t)}},{key:"beforeClose",value:function(){var e=this.props,t=e.appElement,i=e.ariaHideApp,n=e.bodyOpenClassName;_.remove(n),i&&x.totalCount()<1&&y.show(t)}},{key:"render",value:function(){var e=this.props,t=e.className,i=e.overlayClassName,n=e.defaultStyles,r=t?{}:n.content,a=i?{}:n.overlay;return this.shouldBeClosed()?null:h.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:l({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,onMouseUp:this.handleOverlayOnMouseUp},h.default.createElement("div",l({ref:this.setContentRef,style:l({},r,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{})),this.props.children))}}]),t}(d.Component);D.defaultProps={style:{overlay:{},content:{}}},D.propTypes={isOpen:f.PropTypes.bool.isRequired,defaultStyles:f.PropTypes.shape({content:f.PropTypes.object,overlay:f.PropTypes.object}),style:f.PropTypes.shape({content:f.PropTypes.object,overlay:f.PropTypes.object}),className:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.object]),overlayClassName:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.object]),bodyOpenClassName:f.PropTypes.string,
ariaHideApp:f.PropTypes.bool,appElement:f.PropTypes.instanceOf(C.default),onAfterOpen:f.PropTypes.func,onRequestClose:f.PropTypes.func,closeTimeoutMS:f.PropTypes.number,shouldFocusAfterRender:f.PropTypes.bool,shouldCloseOnOverlayClick:f.PropTypes.bool,role:f.PropTypes.string,contentLabel:f.PropTypes.string,aria:f.PropTypes.object,children:f.PropTypes.node},t.default=D,e.exports=t.default},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){e.split(" ").map(s.add).forEach(function(e){return document.body.classList.add(e)})}function a(e){var t=s.get();e.split(" ").map(s.remove).filter(function(e){return 0===t[e]}).forEach(function(e){return document.body.classList.remove(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.remove=a;var o=i(889),s=n(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){p=!0}function a(){if(p){if(p=!1,!f)return;setTimeout(function(){if(!f.contains(document.activeElement)){var e=(0,d.default)(f)[0]||f;e.focus()}},0)}}function o(){h.push(document.activeElement)}function s(){var e=null;try{return e=h.pop(),void e.focus()}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function l(e){f=e,window.addEventListener?(window.addEventListener("blur",r,!1),document.addEventListener("focus",a,!0)):(window.attachEvent("onBlur",r),document.attachEvent("onFocus",a))}function u(){f=null,window.addEventListener?(window.removeEventListener("blur",r),document.removeEventListener("focus",a)):(window.detachEvent("onBlur",r),document.detachEvent("onFocus",a))}Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=r,t.handleFocus=a,t.markForFocusLater=o,t.returnFocus=s,t.setupScopedFocus=l,t.teardownScopedFocus=u;var c=i(891),d=n(c),h=[],f=null,p=!1},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=(0,o.default)(e);if(!i.length)return void t.preventDefault();var n=i[t.shiftKey?0:i.length-1],r=n===document.activeElement||e===document.activeElement;if(r){t.preventDefault();var a=i[t.shiftKey?i.length-1:0];a.focus()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=i(891),o=n(a);e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(475),u=n(l),c=i(327),d=n(c),h=i(477),f=n(h),p=i(464),g=n(p),v=i(465),m=n(v),b=i(476),y=n(b),w=i(1),x=n(w),E=i(5),_=n(E),A=1e3/60,C=function(e){function t(i){var n=this;r(this,t),e.call(this,i),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,i=n.state,r=i.currentStyle,a=i.currentVelocity,s=i.lastIdealStyle,l=i.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,r=o({},r),a=o({},a),s=o({},s),l=o({},l)),r[u]=c,a[u]=0,s[u]=c,l[u]=0)}t&&n.setState({currentStyle:r,currentVelocity:a,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){n.animationID=m.default(function(e){var t=n.props.style;if(y.default(n.state.currentStyle,t,n.state.currentVelocity))return n.wasAnimating&&n.props.onRest&&n.props.onRest(),n.animationID=null,n.wasAnimating=!1,void(n.accumulatedTime=0);n.wasAnimating=!0;var i=e||g.default(),r=i-n.prevTime;if(n.prevTime=i,n.accumulatedTime=n.accumulatedTime+r,n.accumulatedTime>10*A&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/A)*A)/A,o=Math.floor(n.accumulatedTime/A),s={},l={},u={},c={};for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var h=t[d];if("number"==typeof h)u[d]=h,c[d]=0,s[d]=h,l[d]=0;else{for(var p=n.state.lastIdealStyle[d],v=n.state.lastIdealVelocity[d],m=0;m<o;m++){var b=f.default(A/1e3,p,v,h.val,h.stiffness,h.damping,h.precision);p=b[0],v=b[1]}var w=f.default(A/1e3,p,v,h.val,h.stiffness,h.damping,h.precision),x=w[0],E=w[1];u[d]=p+(x-p)*a,c[d]=v+(E-v)*a,s[d]=p,l[d]=v}}n.animationID=null,n.accumulatedTime-=o*A,n.setState({currentStyle:u,currentVelocity:c,lastIdealStyle:s,lastIdealVelocity:l}),n.unreadPropStyle=null,n.startAnimationIfNecessary()})},this.state=this.defaultState()}return a(t,e),s(t,null,[{key:"propTypes",value:{defaultStyle:_.default.objectOf(_.default.number),style:_.default.objectOf(_.default.oneOfType([_.default.number,_.default.object])).isRequired,children:_.default.func.isRequired,onRest:_.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,i=e.style,n=t||d.default(i),r=u.default(n);return{currentStyle:n,currentVelocity:r,lastIdealStyle:n,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=g.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=g.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(m.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&x.default.Children.only(e)},t}(x.default.Component);t.default=C,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,i){for(var n=0;n<e.length;n++)if(!w.default(e[n],t[n],i[n]))return!1;return!0}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(475),c=n(u),d=i(327),h=n(d),f=i(477),p=n(f),g=i(464),v=n(g),m=i(465),b=n(m),y=i(476),w=n(y),x=i(1),E=n(x),_=i(5),A=n(_),C=1e3/60,S=function(e){function t(i){var n=this;r(this,t),e.call(this,i),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=n.state,i=t.currentStyles,r=t.currentVelocities,a=t.lastIdealStyles,o=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],d=!1;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var f=c[h];"number"==typeof f&&(d||(d=!0,l=!0,i[u]=s({},i[u]),r[u]=s({},r[u]),a[u]=s({},a[u]),o[u]=s({},o[u])),i[u][h]=f,r[u][h]=0,a[u][h]=f,o[u][h]=0)}}l&&n.setState({currentStyles:i,currentVelocities:r,lastIdealStyles:a,lastIdealVelocities:o})},this.startAnimationIfNecessary=function(){n.animationID=b.default(function(e){var t=n.props.styles(n.state.lastIdealStyles);if(o(n.state.currentStyles,t,n.state.currentVelocities))return n.animationID=null,void(n.accumulatedTime=0);var i=e||v.default(),r=i-n.prevTime;if(n.prevTime=i,n.accumulatedTime=n.accumulatedTime+r,n.accumulatedTime>10*C&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var a=(n.accumulatedTime-Math.floor(n.accumulatedTime/C)*C)/C,s=Math.floor(n.accumulatedTime/C),l=[],u=[],c=[],d=[],h=0;h<t.length;h++){var f=t[h],g={},m={},b={},y={};for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)){var x=f[w];if("number"==typeof x)g[w]=x,m[w]=0,b[w]=x,y[w]=0;else{for(var E=n.state.lastIdealStyles[h][w],_=n.state.lastIdealVelocities[h][w],A=0;A<s;A++){var S=p.default(C/1e3,E,_,x.val,x.stiffness,x.damping,x.precision);E=S[0],_=S[1]}var T=p.default(C/1e3,E,_,x.val,x.stiffness,x.damping,x.precision),I=T[0],D=T[1];g[w]=E+(I-E)*a,m[w]=_+(D-_)*a,b[w]=E,y[w]=_}}c[h]=g,d[h]=m,l[h]=b,u[h]=y}n.animationID=null,n.accumulatedTime-=s*C,n.setState({currentStyles:c,currentVelocities:d,lastIdealStyles:l,lastIdealVelocities:u}),n.unreadPropStyles=null,n.startAnimationIfNecessary()})},this.state=this.defaultState()}return a(t,e),l(t,null,[{key:"propTypes",value:{defaultStyles:A.default.arrayOf(A.default.objectOf(A.default.number)),styles:A.default.func.isRequired,children:A.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,i=e.styles,n=t||i().map(h.default),r=n.map(function(e){return c.default(e)});return{currentStyles:n,currentVelocities:r,lastIdealStyles:n,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=v.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=v.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(b.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&E.default.Children.only(e)},t}(E.default.Component);t.default=S,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,i){var n=t;return null==n?e.map(function(e,t){return{key:e.key,data:e.data,style:i[t]}}):e.map(function(e,t){for(var r=0;r<n.length;r++)if(n[r].key===e.key)return{key:n[r].key,data:n[r].data,style:i[t]};return{key:e.key,data:e.data,style:i[t]}})}function s(e,t,i,n){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r].key!==t[r].key)return!1;for(var r=0;r<n.length;r++)if(!A.default(e[r],t[r].style,i[r]))return!1;return!0}function l(e,t,i,n,r,a,o,s,l){for(var u=b.default(n,r,function(e,n){var r=t(n);return null==r?(i({key:n.key,data:n.data}),null):A.default(a[e],r,o[e])?(i({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:r}}),c=[],d=[],f=[],p=[],g=0;g<u.length;g++){for(var v=u[g],m=null,y=0;y<n.length;y++)if(n[y].key===v.key){m=y;break}if(null==m){var w=e(v);c[g]=w,f[g]=w;var x=h.default(v.style);d[g]=x,p[g]=x}else c[g]=a[m],f[g]=s[m],d[g]=o[m],p[g]=l[m]}return[u,c,d,f,p]}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=i(475),h=n(d),f=i(327),p=n(f),g=i(477),v=n(g),m=i(2200),b=n(m),y=i(464),w=n(y),x=i(465),E=n(x),_=i(476),A=n(_),C=i(1),S=n(C),T=i(5),I=n(T),D=1e3/60,O=function(e){function t(i){var n=this;r(this,t),e.call(this,i),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=l(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,e,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],c=0;c<e.length;c++){var d=e[c].style,h=!1;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var p=d[f];"number"==typeof p&&(h||(h=!0,r[c]=u({},r[c]),a[c]=u({},a[c]),o[c]=u({},o[c]),s[c]=u({},s[c]),i[c]={key:i[c].key,data:i[c].data,style:u({},i[c].style)}),r[c][f]=p,a[c][f]=0,o[c][f]=p,s[c][f]=0,i[c].style[f]=p)}}n.setState({currentStyles:r,currentVelocities:a,mergedPropsStyles:i,lastIdealStyles:o,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){n.unmounting||(n.animationID=E.default(function(e){if(!n.unmounting){var t=n.props.styles,i="function"==typeof t?t(o(n.state.mergedPropsStyles,n.unreadPropStyles,n.state.lastIdealStyles)):t;if(s(n.state.currentStyles,i,n.state.currentVelocities,n.state.mergedPropsStyles))return n.animationID=null,void(n.accumulatedTime=0);var r=e||w.default(),a=r-n.prevTime;if(n.prevTime=r,n.accumulatedTime=n.accumulatedTime+a,n.accumulatedTime>10*D&&(n.accumulatedTime=0),0===n.accumulatedTime)return n.animationID=null,void n.startAnimationIfNecessary();for(var u=(n.accumulatedTime-Math.floor(n.accumulatedTime/D)*D)/D,c=Math.floor(n.accumulatedTime/D),d=l(n.props.willEnter,n.props.willLeave,n.props.didLeave,n.state.mergedPropsStyles,i,n.state.currentStyles,n.state.currentVelocities,n.state.lastIdealStyles,n.state.lastIdealVelocities),h=d[0],f=d[1],p=d[2],g=d[3],m=d[4],b=0;b<h.length;b++){var y=h[b].style,x={},E={},_={},A={};for(var C in y)if(Object.prototype.hasOwnProperty.call(y,C)){var S=y[C];if("number"==typeof S)x[C]=S,E[C]=0,_[C]=S,A[C]=0;else{for(var T=g[b][C],I=m[b][C],O=0;O<c;O++){var M=v.default(D/1e3,T,I,S.val,S.stiffness,S.damping,S.precision);T=M[0],I=M[1]}var k=v.default(D/1e3,T,I,S.val,S.stiffness,S.damping,S.precision),N=k[0],P=k[1];x[C]=T+(N-T)*u,E[C]=I+(P-I)*u,_[C]=T,A[C]=I}}g[b]=_,m[b]=A,f[b]=x,p[b]=E}n.animationID=null,n.accumulatedTime-=c*D,n.setState({currentStyles:f,currentVelocities:p,lastIdealStyles:g,lastIdealVelocities:m,mergedPropsStyles:h}),n.unreadPropStyles=null,n.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return a(t,e),c(t,null,[{key:"propTypes",value:{defaultStyles:I.default.arrayOf(I.default.shape({key:I.default.string.isRequired,data:I.default.any,style:I.default.objectOf(I.default.number).isRequired})),styles:I.default.oneOfType([I.default.func,I.default.arrayOf(I.default.shape({key:I.default.string.isRequired,data:I.default.any,style:I.default.objectOf(I.default.oneOfType([I.default.number,I.default.object])).isRequired}))]).isRequired,children:I.default.func.isRequired,willEnter:I.default.func,willLeave:I.default.func,didLeave:I.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return p.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,i=e.styles,n=e.willEnter,r=e.willLeave,a=e.didLeave,o="function"==typeof i?i(t):i,s=void 0;s=null==t?o:t.map(function(e){for(var t=0;t<o.length;t++)if(o[t].key===e.key)return o[t];return e});var u=null==t?o.map(function(e){return p.default(e.style)}):t.map(function(e){return p.default(e.style)}),c=null==t?o.map(function(e){return h.default(e.style)}):t.map(function(e){return h.default(e.style)}),d=l(n,r,a,s,o,u,c,u,c),f=d[0],g=d[1],v=d[2],m=d[3],b=d[4];return{currentStyles:g,currentVelocities:v,lastIdealStyles:m,lastIdealVelocities:b,mergedPropsStyles:f}},t.prototype.componentDidMount=function(){this.prevTime=w.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;"function"==typeof t?this.unreadPropStyles=t(o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=t,null==this.animationID&&(this.prevTime=w.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(E.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=o(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&S.default.Children.only(t)},t}(S.default.Component);t.default=O,e.exports=t.default},function(e,t){"use strict";function i(e,t,i){for(var n={},r=0;r<e.length;r++)n[e[r].key]=r;for(var a={},r=0;r<t.length;r++)a[t[r].key]=r;for(var o=[],r=0;r<t.length;r++)o[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(a,e[r].key)){var s=i(r,e[r]);null!=s&&o.push(s)}return o.sort(function(e,i){var r=a[e.key],o=a[i.key],s=n[e.key],l=n[i.key];if(null!=r&&null!=o)return a[e.key]-a[i.key];if(null!=s&&null!=l)return n[e.key]-n[i.key];if(null!=r){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(r<a[c]&&l>n[c])return-1;if(r>a[c]&&l<n[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(o<a[c]&&s>n[c])return 1;if(o>a[c]&&s<n[c])return-1}}return-1})}t.__esModule=!0,t.default=i,e.exports=t.default},function(e,t,i){"use strict";function n(){}t.__esModule=!0,t.default=n;e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return a({},l,t,{val:e})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=r;var o=i(893),s=n(o),l=a({},s.default.noWobble,{precision:.01});e.exports=t.default},,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2003),s=n(o),l=i(2017),u=n(l),c=function(){function e(){r(this,e),this.refs={}}return a(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var i=this.getIndex(e,t);i!==-1&&this.refs[e].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,s.default)(this.refs[this.active.collection],function(t){var i=t.node;return i.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,u.default)(this.refs[e],function(e){var t=e.node;return t.sortableInfo.index})}}]),e}();t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=t=function(t){function i(e){a(this,i);var t=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return t.handleStart=function(e){var i=t.props,n=i.distance,r=i.shouldCancelStart;if(2===e.button||r(e))return!1;t._touched=!0,t._pos={x:e.pageX,y:e.pageY};var a=(0,x.closest)(e.target,function(e){return null!=e.sortableInfo});if(a&&a.sortableInfo&&t.nodeIsChild(a)&&!t.state.sorting){var o=t.props.useDragHandle,s=a.sortableInfo,l=s.index,u=s.collection;if(o&&!(0,x.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var i=t.props,n=i.distance,r=i.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.pageX,y:t._pos.y-e.pageY};var a=Math.abs(t._delta.x)+Math.abs(t._delta.y);n||r&&!(r&&a>=r)?n&&a>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var i=t.manager.getActive();if(i){var n=t.props,a=n.axis,o=n.getHelperDimensions,s=n.helperClass,l=n.hideSortableGhost,u=n.onSortStart,c=n.useWindowAsScrollContainer,d=i.node,h=i.collection,f=d.sortableInfo.index,p=(0,x.getElementMargin)(d),g=t.container.getBoundingClientRect(),v=o({index:f,node:d,collection:h});t.node=d,t.margin=p,t.width=v.width,t.height=v.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=g,t.index=f,t.newIndex=f,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(d),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var m=d.querySelectorAll("input, textarea, select"),b=d.cloneNode(!0),y=[].concat(r(b.querySelectorAll("input, textarea, select")));if(y.forEach(function(e,t){"file"!==e.type&&m[t]&&(e.value=m[t].value)}),t.helper=t.document.body.appendChild(b),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-p.top+"px",t.helper.style.left=t.boundingClientRect.left-p.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(c?0:g.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(c?t.contentWindow.innerWidth:g.left+g.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(c?0:g.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(c?t.contentWindow.innerHeight:g.top+g.height)-t.boundingClientRect.top-t.height/2),s){var w;(w=t.helper.classList).add.apply(w,r(s.split(" ")))}t.listenerNode=e.touches?d:t.contentWindow,x.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),x.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:f}),u&&u({node:d,index:f,collection:h},e)}},t.handleSortMove=function(e){var i=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),i&&i(e)},t.handleSortEnd=function(e){var i=t.props,n=i.hideSortableGhost,r=i.onSortEnd,a=t.manager.active.collection;t.listenerNode&&(x.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),x.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var o=t.manager.refs[a],s=0,l=o.length;s<l;s++){var u=o[s],c=u.node;u.edgeOffset=null,c.style[x.vendorPrefix+"Transform"]="",c.style[x.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:a},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,i={x:0,y:0},n={x:1,y:1},r={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(i.y=1,n.y=r.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(i.x=1,n.x=r.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(i.y=-1,n.y=r.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(i.x=-1,n.x=r.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===i.x&&0===i.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*n.x*i.x,top:1*n.y*i.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new w.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,b.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return s(i,t),d(i,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,i=t.getContainer,n=t.useWindowAsScrollContainer,r=this.props.contentWindow||window;this.container="function"==typeof i?i(this.getWrappedInstance()):(0,v.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=n?this.document.body:this.container,this.contentWindow="function"==typeof r?r():r;var a=function(t){e.events.hasOwnProperty(t)&&x.events[t].forEach(function(i){return e.container.addEventListener(i,e.events[t],!1)})};for(var o in this.events)a(o)}},{key:"componentWillUnmount",value:function(){var e=this,t=function(t){e.events.hasOwnProperty(t)&&x.events[t].forEach(function(i){return e.container.removeEventListener(i,e.events[t])})};for(var i in this.events)t(i)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var i={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,i):i}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].pageX:e.pageX,y:e.touches?e.touches[0].pageY:e.pageY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,b.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,i=c(t,2),n=i[0],r=i[1];return[this.getLockPixelOffset(n),this.getLockPixelOffset(r)]}},{key:"getLockPixelOffset",value:function(e){var t=e,i=e,n="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,b.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=i=parseFloat(e),n=r[1]}return(0,b.default)(isFinite(t)&&isFinite(i),"lockOffset value should be a finite. Given %s",e),"%"===n&&(t=t*this.width/100,i=i*this.height/100),{x:t,y:i}}},{key:"updatePosition",value:function(e){var t=this.props,i=t.lockAxis,n=t.lockToContainerEdges,r=this.getOffset(e),a={x:r.x-this.initialOffset.x,y:r.y-this.initialOffset.y};if(a.y-=window.pageYOffset-this.initialWindowScroll.top,a.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=a,n){var o=this.getLockPixelOffsets(),s=c(o,2),l=s[0],u=s[1],d={x:this.width/2-l.x,y:this.height/2-l.y},h={x:this.width/2-u.x,y:this.height/2-u.y};a.x=(0,x.limit)(this.minTranslate.x+d.x,this.maxTranslate.x-h.x,a.x),a.y=(0,x.limit)(this.minTranslate.y+d.y,this.maxTranslate.y-h.y,a.y)}"x"===i?a.y=0:"y"===i&&(a.x=0),this.helper.style[x.vendorPrefix+"Transform"]="translate3d("+a.x+"px,"+a.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,i=e.hideSortableGhost,n=this.manager.getOrderedRefs(),r={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},a={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},o={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var s=0,l=n.length;s<l;s++){var u=n[s].node,c=u.sortableInfo.index,d=u.offsetWidth,h=u.offsetHeight,f={width:this.width>d?d/2:this.width/2,height:this.height>h?h/2:this.height/2},p={x:0,y:0},g=n[s].edgeOffset;g||(n[s].edgeOffset=g=this.getEdgeOffset(u));var v=s<n.length-1&&n[s+1],m=s>0&&n[s-1];v&&!v.edgeOffset&&(v.edgeOffset=this.getEdgeOffset(v.node)),c!==this.index?(t&&(u.style[x.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?c<this.index&&(a.left+o.left-f.width<=g.left&&a.top+o.top<=g.top+f.height||a.top+o.top+f.height<=g.top)?(p.x=this.width+this.marginOffset.x,g.left+p.x>this.containerBoundingRect.width-f.width&&(p.x=v.edgeOffset.left-g.left,p.y=v.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=c)):c>this.index&&(a.left+o.left+f.width>=g.left&&a.top+o.top+f.height>=g.top||a.top+o.top+f.height>=g.top+h)&&(p.x=-(this.width+this.marginOffset.x),g.left+p.x<this.containerBoundingRect.left+f.width&&(p.x=m.edgeOffset.left-g.left,p.y=m.edgeOffset.top-g.top),this.newIndex=c):c>this.index&&a.left+o.left+f.width>=g.left?(p.x=-(this.width+this.marginOffset.x),this.newIndex=c):c<this.index&&a.left+o.left<=g.left+f.width&&(p.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=c)):this.axis.y&&(c>this.index&&a.top+o.top+f.height>=g.top?(p.y=-(this.height+this.marginOffset.y),this.newIndex=c):c<this.index&&a.top+o.top<=g.top+f.height&&(p.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=c))),u.style[x.vendorPrefix+"Transform"]="translate3d("+p.x+"px,"+p.y+"px,0)"):i&&(this.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,b.default)(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=n.withRef?"wrappedInstance":null;return f.default.createElement(e,u({ref:t},(0,x.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),i}(h.Component),t.displayName=(0,x.provideDisplayName)("sortableList",e),t.defaultProps={
axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){var t=["input","textarea","select","option","button"];if(t.indexOf(e.target.tagName.toLowerCase())!==-1)return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:g.default.oneOf(["x","y","xy"]),distance:g.default.number,lockAxis:g.default.string,helperClass:g.default.string,transitionDuration:g.default.number,contentWindow:g.default.any,onSortStart:g.default.func,onSortMove:g.default.func,onSortEnd:g.default.func,shouldCancelStart:g.default.func,pressDelay:g.default.number,useDragHandle:g.default.bool,useWindowAsScrollContainer:g.default.bool,hideSortableGhost:g.default.bool,lockToContainerEdges:g.default.bool,lockOffset:g.default.oneOfType([g.default.number,g.default.string,g.default.arrayOf(g.default.oneOfType([g.default.number,g.default.string]))]),getContainer:g.default.func,getHelperDimensions:g.default.func},t.childContextTypes={manager:g.default.object.isRequired},i}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=function(){function e(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var h=i(1),f=n(h),p=i(5),g=n(p),v=i(13),m=i(40),b=n(m),y=i(2212),w=n(y),x=i(328)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=t=function(t){function i(){return r(this,i),a(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return o(i,t),u(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,i=e.disabled,n=e.index;i||this.setDraggable(t,n)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,i=e.disabled,n=e.index;i?this.removeDraggable(t):this.setDraggable(t,n)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,i=e.disabled;i||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var i=this.node=(0,p.findDOMNode)(this);i.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:i},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,v.default)(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=n.withRef?"wrappedInstance":null;return d.default.createElement(e,l({ref:t},(0,m.omit)(this.props,"collection","disabled","index")))}}]),i}(c.Component),t.displayName=(0,m.provideDisplayName)("sortableElement",e),t.contextTypes={manager:f.default.object.isRequired},t.propTypes={index:f.default.number.isRequired,collection:f.default.oneOfType([f.default.number,f.default.string]),disabled:f.default.bool},t.defaultProps={collection:0},i}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var c=i(1),d=n(c),h=i(5),f=n(h),p=i(13),g=i(40),v=n(g),m=i(328)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return i=t=function(t){function i(){return r(this,i),a(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return o(i,t),u(i,[{key:"componentDidMount",value:function(){var e=(0,h.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,p.default)(n.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=n.withRef?"wrappedInstance":null;return d.default.createElement(e,l({ref:t},this.props))}}]),i}(c.Component),t.displayName=(0,g.provideDisplayName)("sortableHandle",e),i}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=s;var c=i(1),d=n(c),h=i(13),f=i(40),p=n(f),g=i(328)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function i(e){return function(t){var i=t.dispatch,n=t.getState;return function(t){return function(r){return"function"==typeof r?r(i,n,e):t(r)}}}}t.__esModule=!0;var n=i();n.withExtraArgument=i,t.default=n},,,,function(e,t,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=i(2291),r)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function i(e,t,i,n){var a=t&&t.prototype instanceof r?t:r,o=Object.create(a.prototype),s=new f(n||[]);return o._invoke=u(e,i,s),o}function n(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(i,r,a,o){var s=n(e[i],e,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(u).then(function(e){l.value=e,a(l)},o)}o(s.arg)}function i(e,i){function n(){return new Promise(function(n,r){t(e,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function u(e,t,i){var r=C;return function(a,o){if(r===T)throw new Error("Generator is already running");if(r===I){if("throw"===a)throw o;return g()}for(i.method=a,i.arg=o;;){var s=i.delegate;if(s){var l=c(s,i);if(l){if(l===D)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===C)throw r=I,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=T;var u=n(e,t,i);if("normal"===u.type){if(r=i.done?I:S,u.arg===D)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=I,i.method="throw",i.arg=u.arg)}}}function c(e,t){var i=e.iterator[t.method];if(i===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return D;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var r=n(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,D;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,D):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,D)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function f(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function p(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function t(){for(;++i<e.length;)if(b.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=v,t.done=!0,t};return n.next=n}}return{next:g}}function g(){return{value:v,done:!0}}var v,m=Object.prototype,b=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",E=y.toStringTag||"@@toStringTag",_="object"==typeof e,A=t.regeneratorRuntime;if(A)return void(_&&(e.exports=A));A=t.regeneratorRuntime=_?e.exports:{},A.wrap=i;var C="suspendedStart",S="suspendedYield",T="executing",I="completed",D={},O={};O[w]=function(){return this};var M=Object.getPrototypeOf,k=M&&M(M(p([])));k&&k!==m&&b.call(k,w)&&(O=k);var N=o.prototype=r.prototype=Object.create(O);a.prototype=N.constructor=o,o.constructor=a,o[E]=a.displayName="GeneratorFunction",A.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},A.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(N),e},A.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[x]=function(){return this},A.AsyncIterator=l,A.async=function(e,t,n,r){var a=new l(i(e,t,n,r));return A.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(N),N[E]="Generator",N[w]=function(){return this},N.toString=function(){return"[object Generator]"},A.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},A.values=p,f.prototype={constructor:f,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return a.type="throw",a.arg=e,i.next=t,n&&(i.method="next",i.arg=v),!!n}if(this.done)throw e;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=b.call(r,"catchLoc"),s=b.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,D):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),h(i),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;h(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:p(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=v),D}}}(function(){return this}()||Function("return this")())},,,function(e,t){"use strict";function i(e){return s[e]}var n=Math.floor(1099511627776*Math.random()).toString(16),r=new RegExp('"@__(F|R|D)-'+n+'-(\\d+)__@"',"g"),a=/\{\s*\[native code\]\s*\}/g,o=/[<>\/\u2028\u2029]/g,s={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};e.exports=function(e,t){function s(e,t){if(!t)return t;var i=this[e],r=typeof i;if("object"===r){if(i instanceof RegExp)return"@__R-"+n+"-"+(c.push(i)-1)+"__@";if(i instanceof Date)return"@__D-"+n+"-"+(d.push(i)-1)+"__@"}return"function"===r?"@__F-"+n+"-"+(u.push(i)-1)+"__@":t}t||(t={}),"number"!=typeof t&&"string"!=typeof t||(t={space:t});var l,u=[],c=[],d=[];return l=t.isJSON&&!t.space?JSON.stringify(e):JSON.stringify(e,t.isJSON?null:s,t.space),"string"!=typeof l?String(l):(l=l.replace(o,i),0===u.length&&0===c.length&&0===d.length?l:l.replace(r,function(e,t,i){if("D"===t)return'new Date("'+d[i].toISOString()+'")';if("R"===t)return c[i].toString();var n=u[i],r=n.toString();if(a.test(r))throw new TypeError("Serializing native function: "+n.name);return r}))}},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABmtJREFUaAXdW01oHVUUvu+9BIzNj23TVpHaiNAaoSAVK1az00W7KYIb0UKhIK6q0G5iFyGL2E0L/iwUQSi0JQsLahe60F1EKWIWijYWxNYoJm36ExKtNrXP7ztzz2TeffOfeXnPd8KZc+bcc88935w7P+/OpGQKpmq1WkHIHeAh8MOWN0P2WIYwC5anIacsT0BOlkqlfyFbiwCqE7wX/CH4BjgvsS9jMFZn01EiiS7wMHgOXDQxJmN3rTpQDFoBHwD/Bm40cQyOxanfeMJAu8E/gFebOObuhiFE8BJ4bLVRhYzHHEqFAkXAbvDHIYM1y8RcugsBiUAD4O+ahSRmXOY0kAQyttQ2wDkE2ZgUqEntlzHuE7h3XowavxzVAHCcAmfBrQqOqTO3szZX7tdRaAXRgfaPwHvremQw/Hzpb/P2e3+Ya9eXzJ07GTqGuJZRinVrO83BV+4zD225y/X4BIbnUMmq2xAFcAyOr7vOWfYJbmTsV1M3YpYgIb5MePTIA2Eg3wDAI26XOoCoHu81n7qOWfdfHf7FzF1dMpvu7TKPP7nBdHcHnrw4KpHXjW5H0bbA0VlcXDLffH3FzM7cNP3rO81bRx8MS2kPQH4WbKg5BwGOTwvHgg55dU5L0s6nNpjeng7DKVbGDPJYdcoQFl/YKW2/3t5Os3NXv8TU2LJTuzlmMfhWdK+h/dh7pMaSc0fPuT6CExAEp2BUV8AJ0oLsA0iSxg5JjbnvD9p9gEDOh9rRYGMRulTMJrhcEa1MFGDa9SAE9cCcjU5u1GIRDx8g9l4D3x/dL1+LVE0AWlDQK9y3UnRUVmVttbWyyyBTZEEMxCKEYXC+e7+9DnmmYrdMvIJq+BI6r+a0UYoOH5UC1ILXigdtKbM7ZDEZAYhOe8DrU3bO5BZaQZ6LApzgWZ1lKTraVAq4QIVTDk4sxOQD3JeyY2Y3N8EwwOUypiJBibTnHnULXtqoaznSZfES3TpQSt4anknXJ7sXk6rir4Q/SpLqlKQqzCWolEKYuuJKCXL9xZi8eZbYOuD3GLgv2T+fB6viJ6sALFCvAQBQKiQjkqOoTinE40DVOx6eLXlLTDsI8OlkX8/j2o3bZvzMnDl/4S9zHXoa4jTzE4tIUKtHKaRg9IDQrjbrklIMEeBgGmeCGx69ZBb/zLaqx3MQj09eVSwCqZC1+WMrOBpUD8p8AAcJcJs/SIzCyhHco9vXmAP7Npl197BrNL348gVprPAyKaQSO5qsVsiZsp6/3+gB1j5eY9rtNmbJRdlE4rQkpQEXDMYK1pOC9aRbUbfiXn/tUx8txrKZALninEh6ziVVzg3EqyhTCxZAdb9GjoEzWa+sjOc0u0PE7eNJOCXAuChxbXIOwkGTpK/qlA0mAdjQMcKmqFsh96riVY8XppWnxgougBvymMb0OnCRcc8xd866N3L3wYBxctICLwEEWDjpY9XM3D+mgmelGsbNUfYpg7r6ISuvHVJ0+hkzM3dL8tTYKZIWgNMpHDO7cIGIdGp81sxcueU9XKOavG10CBBPUufTjkrq9FFJnb88GOP0+IzE1NiyE7+Z5hT9CTwU75e9latfXHSan79t3nn39+wBInrwiszYKWmKU/R8SudMblza4+oXF4gyTKnIMRiDsSJW1KL6TbGCE1GtK7UTZMTqlx9an3hOv7/VtxWoTLCCk+D5AoO2SihimizjsYhPz1+0SlYF5vE5sbGCpJOeaKvtKaJRgFzJvtpG8IhFVucFIErJZejjbQTwuMXkV5DY3gQXd8Nq3tEiBmIR0inKX903YRmx9v+zGLFYagFaRCcgf7R6jVhrf8Fz6aIo0lgau4C4zP1EMI5fQRqBnLeMw0EH1Qe33i3qBydnjSambXkkYzAWSWPnieP0OWwx+ObQdQD8vBmDR80LUCaUZ9HJHylC6V5TMUdHtiSu8UR0D5rTvQBlDwAk8LpX2ASZddkwmEFQ57Rk5V54vr8IcNleYTMRgORHCF+Bt3O/hel75LYLU3MxLMfQKaqOADkA/Rx4o9paTF5GPvk+IyEQHJWLDADmUWo1Yk6x4FInzOkKbs9PufQoAGD7foynICkBtD0/p3RAtu8HsQ7Q9vykOQiSOqatfpR+Bjo/LM9L7MsYhX2UHnsfdIGk2UdyWOmUt8Z8scp3j3w9xzdYPZYhav6tgMuWXNn7Evyt+ywJ24roP6yN7GiAjQ2+AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAcCAYAAAFt+W06AAAAAXNSR0IArs4c6QAABhdJREFUWAnVWF1sVEUUPnPvdvtDoV3KQrcNEJRuiQIVoUpsQmoNRBEUIRFtsSFBaiqY+IQvPtRXfTFCaaxikNIqhAoKQYOx1IQmGH6UH6UtoFJot7S20B9K2e7e8Zy5PZfd9t4tLfHBSdq5c875vjl3Zs45cxfAoQmS1zcMSOord1+Hko0zVa+RgNuKgjT1SL1OT0G9uCxtahwcq+sC6je+Pk0xMcDqxUfbAzL3yRQ4dbYHqKcmeELLDB+0/Lwk0dMbwtlvSO4VaWHpNc+ix9zdDP98T6vMmZ8seLwLx1WfZmlR7xJJTWwpU1yWiMbq/QhpSfHhi6obsO+bQKQIx+1RNlFKu4Hp8+YmSUtJLRg0YHdNq1paHn/5Vevx6srsAlG4ueknNCxQlvjvyA8dsOr56Ty0elod8tkyJE1b+z1lMNJnJG1SL6i0I/4lJ99fCaUSokUDl74k0u6V1TOg858gvLjCa4lpXFPpX65fOP1JYMhV7O3vDz+V6UuA2sMd8o9LfRU4zqVx1f6AHOr1uevrPzBGHQt6YaSMeg81BXpQUzH3zFh6dsciRoAsetUHk5JGvNewJZ3qpEQd5sxOhLylHsZH9dXo8cDd0E7ckq2j9i/KMoKU9/fnE92QmhIHOQsm25kC6ZuvDrznuCO2KBQ+87QHzp7vcVIrPUj5vkVMJy1WY331gTZYuzrd0bT6QEDqbtcSa42LSprqkhJd+bjOliwSffDITXVc3iyeCZrlzn0LOjpk48/0x5WViZAtSVFJ8zYp5SYQkIFJ4qSmu7burXikiWnG0rPdf9JHeVxYemUxhMKnbWaqq/ks+7mx9JE4i5jWWBNa/huv+YTbHb2IlD1/Pd8LuqbJWHpwJUytqZh9iyZQDEi6gzZuU3HmKFIyohNBwRE2DFs95VgKLggNdpM9NUUsJWxxOg1k9HtjP2xYnwGLFk5ROY1kIxtFLOmHQx402uHsuZNG2lnjcxf6gPXkGec/yyDiYbg6FJBIo2P1BM7k1Bov90MsvRNOo7NK6+fUBu6G1fo66Z3kuMbiZGtg0EkP073xEEvvBNQoquobbjnWtDxMOvUN5mZzvnAii9RrFKrBe4bKA3aA1BQXsH7vvjagEuPUqr4OSC5J6rj5M7PcnGTsQJR4SO/xxIE3zW1nApTkDWnUU5UhAyvyysqkq7n1ctAdr0F+nkdQDaON+w0jrunKHcxo2k7DkKVOeiGgnCoHz2oRs2BD6Z/ZRji0A0AuBQltQohd1ZX+Dx9Uz3ajiFkR2RdvueoPD4XX4A4vx+owy0ynaIETA9Z6JPlRj9MP7Sl/tDkSx88Pi2ce6m0dpuW+3Nb8sZTibfRKuON1OWdmgpg9KxE8qXFWvNAW3LodhGstg/DX9UEZvBdGPiE1TVRIw8D3EaUTwQshd2Zl+N+lQhTp7CiHhx09hrnuWcxVEq+/wjvN/nCNJKIx+gjfHjUrI40J+/LKGbYVkvR2jSon3rLlnYEQnho4jo6viHTcWmGz5hindLwHv7TSOy5HaeLOLizRh29i1AlY/YJ5AT38fQeWOalC1Smq7JxWfOj4d0c7ZdjAg+jScqOiTgVEaKiRtr5wXbpt6XEiJvntnhDsPxgAisjCdT7gekkJqaY2oPLM+rW+qFt/LD7Wmfh2ddRcblc2xYjKP2b0gkoPPBmDHqRv+EXVZMRPtZwlHHFhylEUJ06aNg/CxzYmPlWdgtBQuJzkymGVanBAuWwiraPT/LSww2f6EhUl24yXn/Hso+kwpSdsFPUTaVyF7fAsY5vx8jNepVAEK4cpiRMRVYmJtHlZyQpmh2cZ24yXn/Hso7qgXDizvWHB4neWdXUPzaHUZLe1sSZKnxEPAfzi/LvlrkptjKfL6cVL/ZCRHg/L8HyPtzEecXR7fovwVlqjAV1i6b5JOXjNKq9w+tIjW7vWgIFF91HeftrOx+clO34N2nGQDHMwHDrSybk4ds2nXy1EeLCWigdd2xfiLxY58ydHRb/dRJSCzl3sw79+LHLm9/NE8OcRT7d6KhpST1jHnwU8Z9QKs5D74Q8YuqAUsGyMvg4rxzZO8g+LH2Ou/4f6X1O0+BAMGvxgAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAAClxJREFUaAXVWgtsldUd/9MXtLSW0q3YVrB14EQBZwRNCIu4IAuNDoyvONSSVWB0EwxjBhi4zfGYbLqh0yksUWbUOJoMh4EpiaIiiRsbk6dY1sujLY9BH5S29N62d//f+e4595zvfue+a/CfnPud83//v/P+f5dIg2Aw+BGXDRqKiBFnuLihYhC4gJ097wtD4PUN1wrCR9+fe0RI4blufaOob/17SzCD2Y/oIlXTi0Rz4k35Dhqs4Gw+7VdP4ASVnxVo6KBrg1OZXHp0pPJWR6I+iCEDqtCQocinwONHws5PumRVPBGKHSTrDx6rF1X55EZjVIcMlcw9Q2ryehrMaMQScCsRChiJlyagpTUgq+JZs/Co0f7xEw2qDWs9aMnelhS08bpmh0aBxNeEXoa0KvC6RiC8lEkF4s2F4nRGhFAV/Ud0s2RBAyDbHs8mhyMKD7uzmMs5Lj4ukzyUmChmigYHdW7lGiR0gq0uw7EOK5sg8BDOYkPLJNOaZxvp4OddorlqxdX0Zt3/jHblqMGS1VkD4KZXny39hQ8kBa++odaSNjV3xIIR1kfz5oykwUOyNQxRT496DYWDoM6ghhof7u6mQCBI027LU+RLLDhksPM+lcXu7n7FgAqEXt/cbOAWLm0It2UAq585Kavi+ejC+qDfH0Y1HLsU7OtT7c2YHbmqyZWfrPAF1/zOWQuBd7eBU2bRSABWK0FU4hTcZwjJBgvXRFGQKfnierKiZVGUuUmYUblxKdaZWGiLW1OS7dAmFNauZiNQMMSPmWFy2moZPA9F76uBiggGyBi87mf1Ncp9GNPhYmefmNRv/RVdYkJXV1+wekF9VPqc2vqge8KEtMzEa8TyqQCMXoYkw9xF9cGn1zeLLcW90kge+fSi45UuV6FyBevb/bOKdZRR7+zqp1snDhO4++8upepa85ijMz+zqpKWrDymowgGOwxMAo229gCvWvZp1tjcQ8XF5hKJVzpJvgI8G45fCqIPbPDJPy4EH5p/JFi3tS1i8dZlsKjxiUhHibrca85xYMZ73PTmWXrvgza6bXIhfa9qOBUVZtH+w520YdMZ6uLXevuUK+j9j9ut9D//cQxlqDmgXluOmodsHtvl9YqU/koWz8U+5QM3bmAbBem3Q/tZN6DPqpujFVteRAckhjC3B6s1DwLbmcmlLYa9Oqa7hqSHsnhRrAyjeQMXHxecMbEM4YKChcM+N+I1AD5WhO05cn1jpAXUISkRO4KXFR60KI0HPSNug6wtPx6NcfBgq4sANQ9BYSUV/PChniY4y9NhhK5LzUM2BuPpNAY7JazXiFRFiFeke5LmehVHuh06RYRsK7wbp9lSSN02qVZE6BWd70QPrVh1XPKp5w3X5dHyxVdRLLoSCFeWc5RrMVCwihiAXR9bFI4TbsBpADt59YIvotJxTHEDbOOVbgo7wQ3elk6dCdArL4ym3Fw1phTL3s86GJ9Jgd6gJx2nhT+su4bmPX5UycgKO5AJjYUSgSf2wOefrtRRRv1Ek58efqCMbhxX4KkUzEXDsmhmVTHhSuaCRUYI77zbKjZUF5Nq/ua5JhrzjaGijXMNzjc2QKTy/qfxzDIM7tzVLnZ3jcGoHvi8k26acIWBS7BxvWGwtb1XHCVsSnp7iYbmpbQxFBgGR1+TSwcOO9dgL6P5QzOp6dQlL1K8uGbD4JwHS+jlTaetwo/NL6Wdu1oEHXfWaOC+44Z4dxgGS0dkixOZ77iRLVN6x/Gk9/v76VyLn6dPI/1obqmiuSu1SxoIyQIXbMTEx9FAAS7ImNg4V3oBLtSg43JtAySMvO4WMI7DEs4hft2Tfh7tjyyop7y8DJpffSWNG5tHGFB/29ZCH+5up+98u5A+2HXBSp9++zCq5u5xwXle2r4m11LM0HIXg1hxXuWV52hDtxi9U6cU0p3fdRKe4MWKFI3u0pfHBrulQYx1HvQDBofYGM69zvbEDRxS1wyUOWkM+kWE0hD3J9IU42U7Tc8CNnhR6jKmBRMmMGG/JKbhWakbs+rjSFfbhnwCeOPtWY1JAitG6jeclIrfUmrHFbaTzcVYHDxs494xEOkWGb/5DDmFo8pmLrEuPcxiBchCB3Sl72Jkuhu7xcbRvcjnJdPFLJYQwAZspbQPx4yKDWCZT8dkYTUpAXxIbMJFi46VVXDZl5JLAyMMnyqi+Q6a9U2wMBKru7mkeyGH3XQC1v3JtvXa2CikVQ4O6RXk+y734OAyfOwI+Yy2AUYPMhMmMrbfgcy2GQ6kuXGI9U3g3lQJNhUgB4cPDfVcIo5tNidOnw3Qnr0XOZ/ZRefPB8QZErzIcSIjO57PlfiOfWWJ94qfqrzFrybGj+Egu0EXAXJw8OAUFyM5CwYdcDB+7a2ztGNnO07qNJQvNRNvzKebv5VP5WU56saFwzLSzv/+Tyft+ewidXb24cOhSOZCHw7PycjfMbWQL8ElXglf3U3Uz3MpZZsBGWAdI+4BxQsQ2K9/73zIHF6UTYtry6jyau3DpZeQhgsEiGqXHKWu0MfCPE4ZvPjb0ZTt3bGaZLiKe9WzLzYTf1EnJFCWPn5VrEDrOMD7sLfdwmo+Dasya8jCrFx9grKzBtGTT4xMKDBo2v3PDnph4ynhzKw7nWTblnfOEF4aLnmTJxWYBmO0EOhT606K3MmvfjaKjC/EkbK3IMCNjH80kuZciZas9ImhuH5NpWcyxktO4g7wp521nC/Jycmg2feVcY85U15+5sWNFqks9EgigCv1ouU+MfTxycc2x1nnn7BNTLMpx30PgIuoVybKJifxz7+MaU00dcpwFRzaCBQ4wHMhHtGI8we+zKt2RsMrbzg+WkSnIcAyC1FcdkHDLTsZ4JyeECsvHRIhLnGSJ4IhBmL8WCcJhgt5FChDgNjQPQHLPQCrYjKQ5YhzFk5tS0qNxEkeRYizIn2SPlrEOhAgNkdPQJoCgPxIMjDuOuct7913IUJc4iRPBEMMhPRJ+mhhP4QAjbS+zogcDBYAJH/+sgVbS2Lw04XlnG3MoPr/dtKne9qUMOrAgQaeRAG+wCf4pueJPPRswSqK4xm8NzLPOrP8Gos98KllI0VGWafHqi/75TFCphqpcUB3dx+NKs+htT+vEO14f1rbeunJtSfFXmjJpumq2rlRLDd6XP+tPQkpZLPXv9QsstY52Rk0444iuot7ONbqiiV9K2fOt73XynsXb34M2FOrpg9PSH77jlbyB/pFry36YZnofaHM/jOLN/q3nY2Jmbgn8WUxruQaNn/9L1l2Gw4FQ+nBe7+uNuVU5WPZY7rzycfNyEEiNfBVhxo9LtWDEsnR4VPtNtn+ij3VJ0npN1ZRA3jcbmcE8G8bhMu7AV/xDyv4bkBED+pU7s0KbuMgXqLjL6M6zmm3cmDHbD5F9KDOCEEuOPThyH859Sh8QZJ+RLTg9FjirmOOcknl7xgsnhTAJtaHLw/YIP7kgv9gJvJHF2aPC6ATunNTiSjqHExGMTuE48rNXKZwGcvlm1xGcsEwRwHggI9ykssRLoe57OLyLx5ykSdzJiQL/wcAdK+qKgIiMAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAABvlJREFUaAXdWk1sVUUUvv3BBGxFbSMGAxQXGDC6McWE6I4NbMCIC3TBgsKGEBMSTFoSjSS0Ca4ETEytCxfKAoywceOOGBIlbiCUlARrBURIodUiSirU75t3z3Xu/L25991nWk9y3p05/2f+7szclyQazM3NnQEOa6QkAeEm0ISeFkqRmpNOK62gnxHGW7svJ0SBVhTGpCJPXUCZFYdv7hqTYs0Vaj0ZJS2IFfUErQ14Xyd6o20BMForDQZEOqNNPjh6XVnLRQmKYu7f+4xi8ocCHY+2qXqLy2wqeT0YUCpUe8DKJlryQU6YFQhaCoePXLP0pWWVAXDZaFEgihRuh/Y9ZcH40Zvq8+E1BjethtzpXnQ5ekzYbSTqXsSFtL/URV6vq7Ju1Shfs4RNAhT2ASeB48Bek2/VIRSCi7qCGh0kUENn+MpsD/LUgDSVPhr51dK7M/23ooks50C/KXX2+99NUvLk46oDMjo9Dma1yAKcTatQKW+Gxz519Wtqe2mm6AovFECmqAsdPLAyq4pnyztbieAbkzWu9XuCHpdk5iML6Mo3suWB/bT3nR8tVceUGoTigUzQCsZNOJ8p6AXI7nTLK2ptfdMVQmWo9AeMmSzOqMUhe04elE6ZlkrWO0wH2Wwkg47w2GIK6XWO6HqD8wnMo4MDK/X51IoOzM/2mAyKjEmH7E4GrqY0nelZNKk8AjeT7fjZ53Lgazp9SjqazmVKp53i22ISlC6dSqOOieRdfXyyLjqn/ozuLFRudS5NIQ0HDxn2AnPg6PAcX68UkaUeh+s5xHHbEUszSI+oRoLTblgfFQ8cDPIyE1oFz3b4mTUnPleG6D6NDOICHL0YlEVTq72O3lclyoeCTkJMONsCnK7j9CT4i0J2CvFgjKN5GDgOvA/km4EHFO67ir2CfJ5haDGQhmPB2iT5bFt0eLgY68Uht8ky6CNAucNhoAyJrzoLzGnRA4lxS6o84RamxDJdPXOIFFh+qDPNMheDdwd/TqbSHa7Jl/qG9Y8le/qeluppON0qlewZ02ZcN29PzdYV5Rns2Cc3dLmsT9XSBo56G2feAwVzG+4S5cHU2IZ8LXLywhkRQrOeSEpNGR4wgpumCgNQ5xFm+FmFRoOmkFwbN1FLTanQaNT3NMZoNM246m/nD2KpCA8LRw8/q+8rFUd3RoIMDG0KpBa8j60yaCyJmNFIJXFqGXAT1nkduuUbpnY2xSHHALcpDvjFSXUIKhLXPtcW3exbCnMMOOAbdaWA4ZqDIlu/IrJw0ssm/dIRSVNIWMTP0eH2pli3jaq9LzfCs+DV7ghtoSopK2hMRumqMpYDo9E0N4rE/iRRjVJUHqBDubgOkMh7NtfII88Ez2jMicH+80LI3vgkwCmvKV4QZkXPTji8K7akSVUdDG7JLwizgudq3ZnXHjI9BGwUcq3ndSYMeOPVr31BXD+M6O2K+Mo9YX8RkOeGEPDc8V/tHNRgY1A88JwA1jv0QMQL1KUN2qruYJRrwogKnLN7eZ9XpouhVgjog76qOaD58oMDnomrmCww0xAwhmITzpcU6TDWAzzfUEjNUWZMPaHYyfO2BJR5fXIWWPVCTr9VAtf9Db712pkgkuP1inotlo2E7+X+9yeSu388KGvCqcfX9NB7q6wDAYTzXwxc2kiMi0cj9xZQr8Ge/VfUB5SYs7Lo1HvSFjektO0Bxp5bjLJXPRj80DABXOdKvihNbhxiT0Mx9sWW2HboMPaJNBfFVgmCwHfOVeC/n6cVe0H+MIeraU7Z/vc4iF0LMh130MzlC7J4WbIez9dZ+Z/BNuTWywPFrpjEyq6K9Q4mgVUxJqx6MruZ4MZ6UuTzqpJLvuvOxqVfLzHRoU3aPua+BxCxss+NXGSWx2jLyiUrWYxOrIzYjpUvILecCc4UUFhoojNMMPuMVmX03V3Vnna4Bsg/sHhPGgmjnIP8gPFqpEK02IdDq5MrE38lRz6+kdyZmk0eBj9I1P4VFjLOy8G1a5ZErwGpLfVRm1sb3kJZN8+6Q1k0XB+qdbmi5WbZRRy/Abt4s8bd8I6igS0A+R3MTW3VUDiNgBs6PcyzhAfSnLKtGv+xN4Qg++ZZoGXC6UtzUbqqB8UKGJ+ivFnq+lNWLq5kXNEahZKrYj23m9McMjnfgZf0r4C5qzkGdfzkZHLp8r26H2AzD56CrIrbt3W7Dq8eLS+ZU+w1JGd9QHEmKGawWe1B+TvgU0KbZ89biOdlJPaTL67cEDWFqAjk9/ZOIFtpvgBj4SX9slBypYJFr/Iv0pVca8BOEaDP7LN/qeCLKsEh/+TC/2AW+aMLxKOANmmbVymlITgHy1hFQNwZvQR8BbgW+BxwBZDDnEjgBp/Ia5Ix4CXgt8AfMOS48agM/gHtuw9G/jZ3jwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAACplJREFUaAXVWg1sldUZfgv9oYWuQKXQQrEgTBELOkUTMIEtDAORweYGUccwgswsUwgjGzBcsg1xM8FhtgxS3QZjYnQ1wEBwsGxoxMzgUGBFWBkXKLRQKG3tH/29e55zOafn3Pt996e9LPgm537nPe/feb/z9573uyIWBIPB91BKrCYRNFxCCYeiFHKx9fEl/3EEXiv5oiK899hTJ4MHDjYH+dz1zlWlgc8+YD9pi9x3zwCF6qdSS87Ki21Kkk+C4sKzSGHWj62N0n1RWu1G01u7kfUUQB9qIqJd0U+2p/Dn3Q9aSFcwdXKmrgpd8QdKEp58ptx5AjkftUOOSnDPVOI+Pw4zkVgC4XqUAjTypSl4e/9nauA4eCyLnz2lSer5/R+eNjjfQDM18J31z0pVyvhTsrlCvj2/QCBs2n79y1EOrgaaqp5a+l/HIqeMDTau3hxVksGojlFRw6x5iBA07vG8EOKIwgPjy1GuoARQJnkocZvAFA3KbG7TNUrYBL+6dsd3WvkJsp3CqTC0SjOte+m8lJ1Qwypr19wqr5dedvBRIzM0a2gY2E293PWsIb55m7t3WHidWTtLnijs1oYa8bMV7U5ba6t5DTlqRZJqr0rN3d4elOlTszQq1yDYLyP0Po3FtrYuw8AK8ddKK522Z1eeNrgRPHS41jSy8va+y/K7l8eYtsDZVtm0/jaNl3KOZvLlaPjBmkBw3a/OazQYjpOgpc3qMNzRK88bQVai8xrqUUdIIyAvMiyRlb6aL64n5FdF6vBt4Yrq3mHjsgAmCO3wVZkYIXQYWYbNamQbDeExx6Inq9oH61CNvplv7PgNMsZOd0H9IlY8t42m5i5ZsuyU3DPhCzLpSznkM8AVs/WNSunsDMqcWbkyb26uobHS0tIl31txWsbe1k9WLx/h0IDM5Rpejsp6TeGWk56eGmFI03e/Uy1D8zIUnUeLijI0MezJoyiczle62ubj/hbulU2vvNhq6PO/kS8rnjtjk536+rWjIug02OBwJYDU1rVJbm6ar8T5ytYIOg3OsyW4c/9+63m7yal/ffZQRb98pU32/f2qrFo23KFrhJvaho1VEXQ9aa6A0Rn9La9Xy75/1MntY/rL3Zg8WZl95UJVixw4WCtt2I+/Oi1H9h+ok6mTc+RrswbLoJxUOfZpk5RsuSTNmHR/3DhW+pg1oLsh6WYdYvLwuLzTkJJfScVa7DR9ADIeNrKTb0eOQTeh01c3vFVHHp69Afd48LXmQYDVOSh1MayXgu4/ZT30Rm2CskkoJSgBlFYUngy8oDDuSuwI8rMERTyeqTheMEGSn07fdlgoi9eKB99MX8XhBAgP8FDQkyYedRFg1iEp0FqER4D1JEE1lsNQW5dZhzBG48k0Rjt50Ot4ajzkO7N7kuT6LHi6lzqVh7ClTuMkG7HV7dGI8tDLu8C5Vlmz9qzmM8/xd2SpkzwW3Qh0V1bDyxe4hTFoct4zT/2T5S3qopieboZZiR46XC8fH/1M0lJTZCNi6sxMl/7mjhrZuadGSjaMwcXTpcFgClu2dHcCCI6lM+fa5MkFIxBquALkY0zDo6q9IxhhjHTGOL95cbSKiYjbAOf6UqMTJfEMfHxevs3n1MtONCrPGWDxTXjBoIGpKsDyoC91XNj911p14HopYduRYw2GzrhH3++8+OmpB32uY/DA+/XqdPdSwLYT5Y1R6X5yVvudjsHa+g41PhaDU21u6YxKd5i9kWzH4JjRmYhbrnmzojVvSEZUuq9gN6HSMfjEo3kIkq52k8NqUx4YZOjhd9gwVhWBh7cB3+8YzB+apiIyhoBeMBCRWVtrl5D+J4T7DCn9gOG+B/0VGnzLFtq6aaxs331JKbXbdX3xdwoVfWRhhjiZBs2A5zM/Cqi7RTgd6/4QdxrGIY5LXbjxL3i6XNKRC5g2ZbAMz+8nnDCfYIc5eaoJMelA+du79ZKFneS7C4fJXeOyhBPuL3uuIs9QLzO+PFAWYnjCoAYGb9F7KVdwRAhddaldNmPnOXW6RQW60x7MkYcfGmT0xKIbxlAlCwZbtEEGQR1hDMlEj8MY497Q8QSEQeq6ZFqwdWljbFMeaiLGk2mKYo0n6ZkNg41al7MsQJgAwjFNTMJzlG3MVx88fR6lt+C8PV9jmgBrTP12J6XiN9+7cAV20lB4b4gGvHfciHSL9t99whg7xQvPn1FiXXrA4guUpQ7qSt7FyO1ubAzGObzM5/VkiCGWENAGbSXngubnHgxwm0/GYoGaXgH7kNiC83OK7VBWhHK0V126McLsU1G0vpPm+yYgzMTqByjJ3shpN5nAfX+y337tHBTaKpxjeoX5vpvdOXaZfWy43mfiDjgjCCYuZB6/NzLb5nQgychx6JuA0TQJNuMgnOOHhnKUiLDNrxMXq9vlo48bka9slpqadhUjkpc5TGZsixE38jv2sDzvHb+38j79uoD2sXBSfaZWDsI59qAKxUnOhitgYLz1DSZs60EKIkDuI6MKM+XWkZkyaGCauVExWGZa+uy5axKoaFHXAi53JnMJDJ5hU/r37yv3TRwg9949QIYXpKsXQzqDaaatD3/SJB8daZSmpk5+eFTyC+bneSV8KWZDDZB8yLRrB0vR8IjNYdfp2C82hD5k8sP0jK/kypBb0m2WqHXK79zTfU0ZXdRPfrpyZDwdNXqZOn/pt5VytbZdmEBZuWxELPlSOPgtnm33Q8uHRlNYJZSFOSepWJ2zZ+Yl5BhVXa5pk+27LkE+RcmzbdfeaunAKlm7ZqTvvYt8XkBHf/Zihcqd/PzHMeXvp4OvQNFiL2W8Eq14LqCm4mOP5Hsma7zkdFsdptqb26si5Hll3vZWlZq6/GTjt0a1nvAnP2otXR1QUzeG/Ks8JqaHK9A474MEXkS9MlGaz+958MNaRQqXp65pU0J3yz9sC9nw0+HVzhTbkoWh1GsM+el0sMBLCdt42SXwlt0TqL4c+veOl/zw/NDXYW0jUf3F4/orkRjyBXSQB7oncLsncFfsCTDPSPCS123aRqL6udMSYsg30EEejp7ANAWB+ZGewB1jQ5/RveR1m7aRqH7mZAgx5I/TQSfdrKSu/zAHwy2ZyR+mmhOFicXZUjAsI0KeuqiTuu08T7z6mdZmwikO+R3cRTmPeDCGhsvDiv4ayzNw7sNDnD9pebBHNB38Zy2SwY1OIOCTDYuQtRtq6zrkJy9UqLMwDnmOSK4+6OcA8R1JGuF/FV7eVKmy1jzTisdny8S7smPurjwSjvy7QY6WNaj/MlAXPzjMmjFYZmOGhH90IN0GHgm7kHnfux+fttu71Kgtfbog4oOELXO9PhcH/U47FuWXxbiSazz87b9keSh3mjiVHv3mEHOo91beUe6NqE8+ESRMV6YGPu+wyHbMjKBuhHf8VLtH45+zp/kkqfvNXdQBzFt+s2T7TodwcyPsK/9hxb47EDGCNhWjWQScgXie3X4T1RnnPQDHzvj1KWIEbUYKojDoy0a5mUaUfWGSfmg052xf4q5zjaL05u8YEO8R0Cb3h/8fwCD/5ML/YCbyRxewxwXUSd2hqLyHbkVdgz3RiQ4xMroX5UGUcSi3oxSicJqzEBjgs1SgnET5FOV9lH9hyvUssoewF/wPOe6sLfKonrkAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAArFJREFUWAnNmDFv00AUx+/czMHuGAp7PwAgtWSh6oBggSEj36BiQOJDVOqA+BYMsLRiaMRSyAfI0qUwFKmoQOuQplIruTn+/7N9cYzT2E1s7knR+Xzv7v1y7+783klRUHq9njccyidSDteFkHfRvaGUanAYKeURCvzUoVLOruOoHdd1fbblFZlX0ff9ZzC5Af0mAGp5+gEwgN4eAN96nvchV59pSv1+fzUIrjahtzJNd0p7p1ZbeF2v179cpzdxhjALC3DPllLi5XUDFG2TUryBG19h9q6y+mYCwT0u3PMOUFgn8xfA7MKNLbixlx79HyDCKCU76LCcVp5vXe5LqVbSUE7SCN3EmSkfhlb5h7UXYHMkY0DhminHTSOToycuCdocvQFiXIl20+e4XmWJ3fcw3n1mhqKtXSWHsZW0rWeIhx6293ujkePh4OCr6Ha7WvP20pJ4cP9ejl6TVXAcPOfhGc2QPoEna2e0XFxeiN8nJ/p31j/L0Cj6KmRw+G1C12bR7iXoN8ni4Mx5itWe69tUAoQZkgxkgcv41bZFhusAkndswSELF7WOZSyBamANhcGVDUBk4QwpG2AiBuUgFPhhCxBZOEOMg22RIwCpQ1toyIID0WnjLHoxC9TPX8ei3f6UOQS+UWJt7VFmW/olM5UaorZt7P9gltN6MDgXg8G39PimngcI6ycAy44T5U1IVf677JHlxuHHvPHj8MNEjKenPvOlWXOvm3J2Fhe9VXbmttfCJC5+rrpM2jZAjGmZxFUNQ5txPE3bxmWsYKchW/3zEWUlIQkTRte99RilyWLNDGk63aBa4NxnvVyhDdVKwtDeGBBfMJNkRkl61ssQjp2VtdLWmMuSxkP3WXLZkASz5jomCcVnay6s0mBMVZgdhMmBjsezrvS+Y3lynWwXvdL7CwNYHnILXNAbAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAqBJREFUWAnNmL1uE0EQx3cubnHuUlBYAocCS7yCA2UKRBoavwWiQOIhIlGgvAUNDYgidAG/QqRQEBspSBSxce14+P9vz+uzc+T2/HW3UrK7tzM7P+/s16yYgmk4HEaTibwQmRwaIw+h3lDVBrsRkStk+NO+anAaBPo5DMMB23yT+AoOBoOXMPkK8s8AUPPRA+AYcmcAPImi6KOXTp7QaDQ6GI9vjiHXzpPNae/Wajtv6/X697vk/jtCGIUduOedqnl9VwdF20TMe7jxDUbvJks3EwjuCeGeD4DCPFl/Aswp3NiBG4eLvd8CIoyqdKHwZFF4vXU5F9H2IlSQNkI3cWQ2D0Or/MGxF2BzluaA7JzZjJtmJmclTgnanH0B4rSSrKZv0/o2c6y+p9PV50YoWdrb5HC20rZjILvprbzPOANLFNoJg0lGKN6Bl+hnnSqWQXg2YfP7gwnmdRysEyHdF48ZbJr3A+w5R2XDEIwMZIHLeGpXJU0OASQPqoJDFs6b+C7jA3Vx8cNgNfiIOhkcDabVeuzqOYUG/GYvVzmCcXOv1zM/Ly99RJ3Mo/19byCycNmr0y6/oDUst98gu+fD0mw2DbZ4H1EnQ5f5JrJwDvEe3PJRKjAXfLrLkrmCy7Sf1VLON+0DKPhajvHbVhmpVO/oSOImhCqlpzOycNkj6YnNy/xvGdyN8fp6wHhp1dhr2V/U3duLDqicjJAxDOKW7W1VvbRtB8Q7LYO4VTsvqk+b0/s0dZ3LWMGOjWj17xfkW7mSMGAMw93nyF0U60YoposbtAPOc9Y3m2hDO2kY2psD4gdGkowoSc/6JhL7zopaaWvOZWnj1n0VeWxIg1XmOSYNxbKNmyrwYLUIZsMmObLBQXwfz3rS+4XpyXnyqeiT3j+1CxEFPKi1twAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAACqVJREFUaAXVWg1s1dUVP/1k/bKUCqVFoDVloAjoEFnABJagCzgGmxtE3dQNZXNfEDRmENiSBZhL5pQsm67OIWNocHWDQdBhsjECZIvODxAZAyktpYVCW7rSln7v97uv9757/+//f31972HwJPfde86555x7/v/7ce75PxEL+vv796NUWCQREM6jeKE0hb1IfWD5fx2BbRWfllTQ95NBhDBz+nBZ/vBY2f3XZkkFflxRB35Kx2ep1u235YYoVLvrjab+unNdpiZNcVGXErFhQJGRTgOz0yaa0dpEtlMAHK3SrV3RNekpmsne/zjUwUrBnFlZyhWNR9aUJHzz+yecGkht1AE5qtB7vhIP+HE6ExlMwKtHKQCRD01BU3O3bqr6kR+c7N93sN2UR1d8ZPh8me3UwGdWMDxdKdP415aWyOZttWHakmKBMoOr+UNV33vylNHIxv2PHjfWaJm4BvXkqIKEsKroLfWadRciBI371GdDPaL0gfFVKBdRqlBm+ChxSegUDY7avc3QKGEzgtrancBpFSRIOoXTYWi17rTxF7Vy9D/qtcr6tePllcoLDl42bpjuKmZ92MudXOKTJ+XK7M8WmM6nq1vloftGEW/hzFGg9wiNc5/o6XHdrj7Trdn5RlBT7HrWzLA10m3cCHZ09Nky0tXVJ9sq6xyajRvBZ55zO+0/1CgPLh1jBC9c7JIXN5VrvJJzNIvvUMPja6v6Nz5Tq9F+L06Gljarw/SO3thgBNmI3tdwDztCGgF7mekS2UjT/WKqIb86UkcghSsqdB7EpH2gE4R2BKocGmPgEApbN6uRJBpCtSjMTlorFetQvX0z3zjwq2SMo+6D+mVs+G4bbe19snzlSVm0oFCWLC5kPwNcQY89fkq6e/rktqnXyYzP5BseG1xRf9heJxMnZMmaVTc4PCCLuWusQuNpzeGWU35jVoQhm5+Zma4MVbx0RgUTmuetyfduKnyka+yO3N+8Xnn52qulXy6W7X+qt9lOm/wn1p12aDTY6lCGgDRf6pLc3PBh6hUlv7AwwyHT4BKbwp37G9+1TlubiTb5v9taK9y09v6tUe65e6SnRwgN8Ztk9crwRkeOnjQX0XZmx5ZXGmTv3y/JnFn58sUFI6QgP12OHGuTii3npR2Tat6cfHlz3yWZWJ4jt2LyZGelydn6Dtl3sFm6Ovtl6/MTJNWsgdAg8Jtp1iEmD4/Lmw0r+Y10rMVeMwYgk2EjL/l25Ah0E3oDdcNbdciiTgTc4yHQmg8DVhehXBrEeiX47pT00RUzCcpmoFSgVKF0ovBk4AWFcdfQjqAgq1DE45mKYwUTJAXpDKTDwtFYrfj0mx+o2MuAcK6PgnhIPOoiwKxDcqC1FFUV20mCBiyHIluXWYcwRuPJNEY7o6DX8dR4yGdmjyTJ7QXw9HXqVB7CljqNk2zEVrdHI8pDP++qajpl7fpq3c/Ukydlq5N8ML4RCDfWwMufcgtj0OQ8Z576Jz66Ir/++Y2SlWVesxJ9dUej7NzTKGlpKfJ1XCQzM13+W++0yLuH/ycVz5ZLTrbLg8EUUraEBwEEx1L9+W7Z/KvyCGPs19HRq46i3t7+CGPkMxp4ADdYxkRegHNpNOhEQTwDf/mzMm9fg5PPKzIDqN1vNBi63cjJTld8PikPrHB8ZmaFB24QkM8Dl0BP6s45CRJHjHx9/7MYix2D+w60qNPd6uA0yefpngDc7BhsbulRoUSQQvIZSiQAeY5BxqMfHAtdg/2Ukn+2/oofK1ZanWPwYVyNf7PlXKAw+fsONik+I+xoEMB/0zFYXJShIrKqav/JQD4jMoaADOe/tNDZlx375DOk9MALNPiaTfz9cxNk7YZqCTLK8O/Pu89LQUGGjCzMtEVNe9ur9epuYWciyMS6f4s7DeOQLtMbjT48rQcfOyHZ2Cm+9dBoueWmbOGE+cueJmT1WuSuucMRk7ZI5rAUmTt7hIwp/pS0Y0N4DzvM8ZNtcvfnhuvMha22EQav13spV6gbIoPAHecl7DwnT3Wo2Tv3znz5wufDSYrB+LY1tLNhsEMb5Fzv8XRIJvohjDHuDR1PQBikbkymBVuXNkaa8lAz8T6Zppii8STVeTB4WetylgUYU8E4oplJqMtsY4H64OkGlETBeXqBxjQD1pj6DSelYjefWLgCOxkovDdEA947GDl8PABjHBQvPH9EGezSgy6BQFnqoK7kXYyG+hhgnK+X+bx4XjHEhgS0QVsJncOD+ggD3OaTsVigJiHgGIa24KJ5B2WlKIcTGtLVEeaYSqONnbzAJwFhJlYPoSR7I6fdZAL3/VlB+7VzUGircI7pFeb7rnXnOGSOsXVgzMQdcN4gOnEh8/i9mtk2ZwBJRj6Evql4mybBZhyEc/zQcAIlImwLGsS5hm55+93LyGe2S2Njt4oh2Zc5TmZkpyCu5Hfs0aP8d/xE5QPGdRb0CXBSfZ5WDsI5joBJayc561XAwHjr9gYV/EJGcnLS5PZpuTL91lwZU5JpblwMlmvrOuWd99rk7fcvS1tbL6NtlcylTgbPyAYhgE6VsrFZMn5cFr4HZ5gbGYNppq2ra65I1ZkOXCt4f0lBYJ2P6/0ov4Qv1drQCKQYNru1g5Ug3Gv3sNt07KlnQx8yR+Aqseo7JVI2Pvzh0u7r16b8j5+qkVOnQze8kddn4lNIUSwDNep0ar2tvQffQrPlhytvGEy+Eg5+lWfbHdDyL6PJ02AWZt2GGslIT5EfPTl2SI5RVSiLUyPpWN0L549S2ne93iA9yH3wkhd07/IMw6B0NCTP7wrjxHsvMx1DjTvo4AtoP+JhKJRXoifWVampuGljmW+yxk9O07Q8p+L99xabZA6vxC+/Vq+mHj/Z5F8X/IVF67JrW/7p9WWBaxwyv+UxMc8Wttu8DxJ4EfWmvex+QW0tz4uqnRZje+7s0N3ywD+bg8QD6bb85pf9E1IDwvPoYEmQJl52CbxlxwNanrdwL4wpDn0dbrjgn7Pw9vfiWl7b8PIH8BI6yAPdF7jdE7grxgNanruiFzQt3lyWltc2vPoH8FY6yMPRF5imIDA/Eg9oeeZPvKBpkyZEfGr3dvXFtby24dsJvtFBJ91sd2QOhlsykz9MNQ8VtDyTQ0xFa2CbtJLRw2TalDxNjrnW8hybnSfyUbCDuyjDM44+MPOrv8byDPzJ6rHOn7R8lEaQtLyejpxe3v/1RAj5EHgG7th9QVgHZNNsKT7RQn3Q8/of+CYpxf8qbHq+TmWtMzNSZf5dBbIQb3iw3ZX/Y9iFzPievc3qvwzUxQ8OUyfnybRb8pzdlTwv8Eh4/4NWOXK0VZ2dfGsrvl0S8UHCKwd8MQ76nXYsyi+LMSXXeHjbf8nyUe6QOKj7vjLSHMqJyjvK/RH1ySeChenK1MAnHZbZjpk3qInwjp9q92j8E1abT5J63NxFHcC85TdL0nc6jGsb4Vj5DyuO3YGIN2hz8TZLgTMQD0XJNvPaaDNOmwnHTgcNJ+IN2h0piFIEGg+ra+mNcixM0hdFc872JeY21yhKIn/HgHhcQJvcHz4+gEH+yYX/wRzKH13QPSagTuoOReVxuhV1DcajEwNiZDQd5U6Um1AmooxF4TTXcRkDfJYzKMdRjqEcQPk3plxkZA5GvPB/32pwL9Y76z8AAAAASUVORK5CYII=";
},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAA9RJREFUWAnNWM1PE0EUf7OsUElot5RgKB/iARJvapADyMWAkchFD1yN3okHE/8IEw/G/8KDXPgwwRvKxS9MJeABDG3SJkT6ldR+UDq+t22nu9ttdxYKMknTN/N+773fzpuZnbcMXLZkMukvldgDxkozAGwIzYOc8yC5YYxF8Q9/PMy5sqYofFnTtATpZBuTBSYSiYcYcgHxU0hAlbFDgkXErSPBN36/f1HKxgmUTqcni8Xjl4ibcMI66DdUte2F1+v91AzXcIZwFtowPa84h2fNHLjVMQavMY3PcfaO7WxtCWF6NEzPWySF66T1DcmsYRrnMY1Jq/c6QkSGc7aBBtet4Nb22TZjfMJKSjEGoTTRzJw9GYpKD6xnAWPWmolQec2cTZpqIWsSLQmKWRtBitVOZTd9rPbP8x93353q7hMzVNna58lDxDLG1meIDj3c3u8EookQjoThy+evDRGdnZ3g0zS4OjQEwWBfQ5xVgcfBIzo8KycuncDcirHt53J5+HN4aKvTB0kXiUAoFIJbN2/A2NhYY6xJo78FFlV6N+HsTJl0kh2PxwN4yAn00VEBEokUlErlM+/b903o6wtCf7/+qhO4BsIUcVHxzJnjvCT1brI6CmKw6em7puFisQhLyytwcHCgj+/93pMihDsOOShzuKjprd26pqoqjI6MCIeZTEbIzkJpBgmxQWegO0Q2+1cY9PZeEbKzwAYpVVIJtnOWzWUhGo0JVYHWUDwOmz9C+lh7ewdcGx4WegkhiGuofLmSANdBYrEYrpflunEa8Hp9MHv/Hvh8Plu93SBxoYNRbr/beWgyVijkIZOppa4J1KjiKl4FYsisyzgqKw8M9MP4+G0Bz+cKsLu3Czs7vyCXy8HK6nt4+uQxKAo9t3MjLrSG6B486gyvR7Rf6oCeQI9JQafz/n4Ystmsfh7hWwACgYAJ06QTReo83ATgWoVPCV1dtQlPpdIufPAwElI+uLCQgipK7YpTPKZ7vlzTKxW8tS3hU8lbSfi+7OkQqEK+IORmAnGgskmp1E1YqrSu4d1GOPu5tSVkB2GduLi+fjg4PbG6ev3QCZGXeDxB9dJpa6+TEtro7vZPkrE4IKiIO6m309oZYwtCdKelIu60zt3aU8zqfZpsRcqogyc2VqupVfxv6ZWEfNs13FlrmuabxX9RxYoZIoOygs+jtG3noLVjFIPPG8mQfxMhGqBKkipKYk/9s2jk265qpVimlBmDl9N3QT42GIldmM8xRlIkU+2GE7qA4v/9YGUlVi6b2Fy5ONDv43af9CK4PGmdLFVeTVY3Dfv/AHCtc+iXL9rhAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAPYAAP///0RGSd/f4LCxsoqLjXJ0dnV3eZSVl7q7vOXl5by8vV5gYmFiZWdoa2ttb3FydZGSlMzMzVhaXJeYmvDw8fLy8tLS06mpq35/goiKi8/P0Nzc3W5wclRVWKqrrMDBwoeIip6foenp6qanqE5QUpCRk7a3uI6PkcnJynd4ektNUMTFxrGys1VXWkhKTe3u7vb29pucnqSlp/j4+KOkpb+/wPv7+/z8/NDR0dfY2Pn5+eDh4cPExPPz9N3e3urr6+bm59rb29TV1s3Ozujo6OLi4vX19ePj5J2en8fIycbGx3t9f4CBg4WHiYuMjnR1eG9xc9PT1JqbnWhqbO/v72JkZqusroSFh2RlaFlbXrm5u31+gFFTVaeoqY2OkGprbtbW19nZ2uzs7MrLzKChoq6vsbe4uYKEhq2ur3p7fXh6fFxeYb2+v09RVExOUcHCw0ZIS7S1tl9hZFJUV21ucJiam2VnaUlLTpaXmFtdX4GChJOUlaGipAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAHjYAAgoOEhYUbIykthoUIHCQqLoI2OjeFCgsdJSsvgjcwPTaDAgYSHoY2FBSWAAMLE4wAPT89ggQMEbEzQD+CBQ0UsQA7RYIGDhWxN0E+ggcPFrEUQjuCCAYXsT5DRIIJEBgfhjsrFkaDERkgJhswMwk4CDzdhBohJwcxNB4sPAmMIlCwkOGhRo5gwhIGAgAh+QQJCgAAACwAAAAAEAAQAAAHjIAAgoOEhYU7A1dYDFtdG4YAPBhVC1ktXCRfJoVKT1NIERRUSl4qXIRHBFCbhTKFCgYjkII3g0hLUbMAOjaCBEw9ukZGgidNxLMUFYIXTkGzOmLLAEkQCLNUQMEAPxdSGoYvAkS9gjkyNEkJOjovRWAb04NBJlYsWh9KQ2FUkFQ5SWqsEJIAhq6DAAIBACH5BAkKAAAALAAAAAAQABAAAAeJgACCg4SFhQkKE2kGXiwChgBDB0sGDw4NDGpshTheZ2hRFRVDUmsMCIMiZE48hmgtUBuCYxBmkAAQbV2CLBM+t0puaoIySDC3VC4tgh40M7eFNRdH0IRgZUO3NjqDFB9mv4U6Pc+DRzUfQVQ3NzAULxU2hUBDKENCQTtAL9yGRgkbcvggEq9atUAAIfkECQoAAAAsAAAAABAAEAAAB4+AAIKDhIWFPygeEE4hbEeGADkXBycZZ1tqTkqFQSNIbBtGPUJdD088g1QmMjiGZl9MO4I5ViiQAEgMA4JKLAm3EWtXgmxmOrcUElWCb2zHkFQdcoIWPGK3Sm1LgkcoPrdOKiOCRmA4IpBwDUGDL2A5IjCCN/QAcYUURQIJIlQ9MzZu6aAgRgwFGAFvKRwUCAAh+QQJCgAAACwAAAAAEAAQAAAHjIAAgoOEhYUUYW9lHiYRP4YACStxZRc0SBMyFoVEPAoWQDMzAgolEBqDRjg8O4ZKIBNAgkBjG5AAZVtsgj44VLdCanWCYUI3txUPS7xBx5AVDgazAjC3Q3ZeghUJv5B1cgOCNmI/1YUeWSkCgzNUFDODKydzCwqFNkYwOoIubnQIt244MzDC1q2DggIBACH5BAkKAAAALAAAAAAQABAAAAeJgACCg4SFhTBAOSgrEUEUhgBUQThjSh8IcQo+hRUbYEdUNjoiGlZWQYM2QD4vhkI0ZWKCPQmtkG9SEYJURDOQAD4HaLuyv0ZeB4IVj8ZNJ4IwRje/QkxkgjYz05BdamyDN9uFJg9OR4YEK1RUYzFTT0qGdnduXC1Zchg8kEEjaQsMzpTZ8avgoEAAIfkECQoAAAAsAAAAABAAEAAAB4iAAIKDhIWFNz0/Oz47IjCGADpURAkCQUI4USKFNhUvFTMANxU7KElAhDA9OoZHH0oVgjczrJBRZkGyNpCCRCw8vIUzHmXBhDM0HoIGLsCQAjEmgjIqXrxaBxGCGw5cF4Y8TnybglprLXhjFBUWVnpeOIUIT3lydg4PantDz2UZDwYOIEhgzFggACH5BAkKAAAALAAAAAAQABAAAAeLgACCg4SFhjc6RhUVRjaGgzYzRhRiREQ9hSaGOhRFOxSDQQ0uj1RBPjOCIypOjwAJFkSCSyQrrhRDOYILXFSuNkpjggwtvo86H7YAZ1korkRaEYJlC3WuESxBggJLWHGGFhcIxgBvUHQyUT1GQWwhFxuFKyBPakxNXgceYY9HCDEZTlxA8cOVwUGBAAA7AAAAAAAAAAAA"},function(e,t){e.exports="data:image/gif;base64,R0lGODlhJAAkAMQZAP//////zP//mf/MzP/Mmf/MZv/MM//MAP+Zmf9mZv9mM/8zM8z//8z/zMzM/8zMmczMZszMM5n//5nM/5nMzGbM/2bMzGaZzDOZzP///wAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAwAZACwAAAAAJAAkAAAFUGAmjmRpnmiqrmzrvnAsz3Rt33iu73zPAoEHw5cBFA6GYQ9wQAYAPsGhAPUxD1XrlChiFrhFJDhjOATAVwE4UIZklwLCe0yv2+/4vH7P78NCACH5BAkDABkALAAAAAAkACQAAAVbYCaOZGmeaKqubOu+cCzPdG3feK7vfN8GQF8GUDgcAj6A0SAA+AQHg1NoOEyFRqFIWdCKst6iwBswIrUBw0Ny7QEYk7Z3rgPI3fZ7Pa/f8/s2f4A3fHSGh4gxIQAh+QQJAwAZACwAAAAAJAAkAAAFdmAmjmRpnmiqrmzrvnAsz3Rt33iu73zfBoWALwMwHA7CXvFgCAB8AeZzaEwOj8MRFgeYloxeWrdrEiC55BIAQmHcxieGZCIJx8Z2EYAxycPgWV1OWUSAPniGO3gWGH2HDhiRGBcTSheSGBRDABMXFZWEoaKjOCEAIfkECQMAGQAsAAAAACQAJAAABY1gJo5kaZ5oqq5s675wLM90bd94ru834PMkwCAAOAECyJqvaAIUDoeAcsAMGg4FIu34Kz0FPWETWt1SxwXcEq0+lwCRh/p4klTKZnwGUJHoY2tNE31/LkKBQQyKNgEOGBNAIwAYlA6RIhOUGAyXGZmUkJcXmhcMhTYMmpqhOw6jmhSXABMXFayduLm6OiEAIfkECQMAGQAsAAAAACQAJAAABaFgJo5kaZ5oqq5s675wLM8ZQLtAYN8pAAyDHc/0CwqHJF8QifodmaNfAHpyVgOCJ6xYPXinNGspYDgUdDcxSXAA89QigFcrG6CTZiaQOJEgARQXEyUAFX5DDBiKJhIVdDGKGAyEho8vF4qDhI2ON4mKWgAMDJYsAJEWVCUOkZqqIpGSr3GxDqU0rLG3MwCYkYKTqrmRFLM1ExcVrsbMzc6zIQAh+QQJAwAZACwAAAAAJAAkAAAFrGAmjmRpnmiqrmzrvnBMAjQgs8Cg63ea7wNa7/QL2oZEXeCINP0CzdSOGZ3pqNXRlRggQHsUyoBoOBy+N4wamykcBMseQI0xBQ4GNsyhnpgoEGg9DH0lABUSUXwYDoaIUXMYfjMVE3p7ahcmEhUMUXRYhxKXLxNqnoYTiKQshGtODLFIdI1ZhrS2JRd0qLkZALt9rHJ0wr4ApsUYmrmLdJO+DBMXlb7W19jZKCEAIfkECQMAGQAsAAAAACQAJAAABa5gJo5kaZ5oqq5s675wXAIDILP0QAzDneY7ns1nogWHxNnkmERZMJhe8+SAYhjTovWSNVWhSFKgECA+MZWi4XAo3wDWcAYAORgC8hccamJQIHkwX1wlEhWBglCEIwAVElNfaSSNWE17iyKNj01fGCaGiDBWDjOOoS4VUBNFhhOVNwxxRQwSpyxbXV5Wq7kkF7u9jL+jwXNWo7YxAJ1WkrnMGBbFcxMXFaTT2drb2SEAIfkECQMAGQAsAAAAACQAJAAABbJgJo5kaZ5oqq5s675wTAJAAMgrMA1IP+ApBmZIGNCAp8lweEMmlxeG8+RYTppTknA4yZ4uw4vXVGWaaoUAUompnCmHgxq4xI4qEooNCFg6SgwTEnYyZRgmEhWEMltiMxVSU2xujxJZfRiOIwAVV1OGiJBZS5GbggyLMGxdgBOdqS6YGIsADLZOYBgWY2d+vCVsGKW/GcGexLJDDrBIALlLbcSGQxTEIoEXF6zW3N3e3xkhACH5BAkDABkALAAAAAAkACQAAAWmYCaOZGmeaKqubOu+cEwCEzXJK43t2IWnAB7P8TsxhBNA8eQYLlHBHfF5quwY1FPUlzXxlCUAIBAoRm9hScVQ/k124BGtMmnEZRdMxcSoSO44UiZqgIEYaHIVe1SCM2pZO4giAH6FMpGDFZYxbxgmlH9PTRiFc6E/W1oMq0udWF1hX7Alo6SzJEeYtyK1F5tPlDwVDq+ztRgUuxkADhYXksrR0tO3IQAh+QQJAwAZACwAAAAAJAAkAAAFqGAmjmRpnmiqrmzrvnA8AsyEWfIK2Fh/5SlAb4iZAE8OYsUBOJp4vabTxBhepFOSsGfMPn1e0xaDnQEkjGMV8yvtKpVy7NJLkxiSigQgh1V6DiUMFXZOQyYSE30xY256WUkYFY6FhmyOEl6HgnFZdBiBWnqLMJFdWhNwpC1jfTQMqy1/l2FuQ6e1IpGguSS7ir0iUKCxQGtElV4An1HBGTsXnc7T1NXTIQAh+QQJAwAZACwAAAAAJAAkAAAFoGAmjmRpnmiqrmzrvnBMAo7lyCxzYXyFp4AdD3O5/UyMIcbBOJ4cw4kTBRgapyZhE2uqYqTcLA/QZUi2OC94NqlM0DIohjyrSCoMOm7CQ9r1PztrIgBugD88V4R4XIklhRJcFRgWj3ZcOxcmEm9YSRhwGYUVh3E8g4R3EqUwk3NlTE5yqGEiFo61M0OhtV5frJ5RuTM7wGHGw8nKy8zNJiEAIfkECQMAGQAsAAAAACQAJAAABZdgJo5kaZ5oqq5s675wTDLTZckrMGE8VuEpR69HAZ4YQ5/DaBL2lkwTYMiISocAa/OpLU15EylDkgUieeURgFGZVIEXsElSYTDSsjgGOqK9mT14GXSCOD1eFRJWThheE4pWhyWJWoElbIV5ciQ6En9AOxgXJjSPmS5fe2J3THoYp1GpF7BMoa9dJjW0Vru4vr/AwcLDxFYhACH5BAkDABkALAAAAAAkACQAAAWWYCaOZGmeaKqubOu+IwDAL1BhON0yF57rKUDP9wOaGMSKY2Y0TXwVZtPk8E2mKCTOgUUNL91TFSclARhl2hNzLZ0rFUbTlwZIKhK0EeDjkiQTek1jGG5waTpjYCQMExJdaxUlDHFdWoVmeIg0hGl3clh9hhKbMEN+ZhMVDaUtfBiSJmcEAVNLYbi5uru8vb6/wMHCw1MhACH5BAkDABkALAAAAAAkACQAAAWOYCaOZGmeaKqubOu+JADALjBh+EyrzIX/jh3K9ivqhDHf7+JgIE2A4uX4LDl+FWp1xPhNtqgb5gI+RXNQgEQLu2Iq0Ekl+1Rq1ZU1+/UzSSoMey9dYyUAFROCL2dkMYBgbnAxExJgZxiGeWUXTFoSE05lZnmKlhMRBgGiUAIFpauwsbKztLW2t7i5ursqIQAh+QQJAwAZACwAAAAAJAAkAAAFimAmjmRpnmiqrmzrviMgwy4zYfhErwDuY7od6vLzOYQmgKXoOCJNRNzF+TTdpFUUwxfMQn0Ar8kBTjIkYeT1kpRMKmlhmQSQVBiMOK2HMzHgWWQYbHQVXU8AExeHGQB3YiiJEpAnjpOUJm4MmCWOEw2cdBAHBgGhIgABBXqnra6vsLGys7S1trcnIQAh+QQJAwAZACwAAAAAJAAkAAAFgmAmjmRpnmiqrmzrvnA8AsyF3bIKTHeP5SiGr3cBmni9icN4Qt4AzJOjV4mehLeJ9UTpbU3T54kGBYaLJYCkUmEYATY3aTeRMMpvvIhRkei/GWoVf4AAbIRfgoAmhhKLJmtyjyIAEAcCkyMBBgcFiFsAAgUBmaWmp6ipqqusra6vKyEAIfkECQMAGQAsAAAAACQAJAAABXpgJo5kaZ5oqq5s675wXAIOU8sqMGE8P+EnXa93YQBnl17FATiaAMOm85nE/KannRUb5FW4KMBFSgIwJGSwSFepGNUjyQSdBjPc8JKkUlcDKmh5I39Xghl/gYYZEhABiocHB46KAAaRk4IAAgWYj56foKGio6SlpqdwIQAh+QQJAwAZACwAAAAAJAAkAAAFc2AmjmRpnmiqrmzrvnA8Ak6F3beMAhPuVzqTw0d0BEk93MUBOAqVTacJYLkZpTvMFbvjxgCMCcNb4lUkY7IIIDlH1Zm2BD6bVN5wwJk+q6T5AAYQeHAGBwJ8awcHAYkZAYYFjYACko6XmJmam5ydnp+gfCEAIfkECQMAGQAsAAAAACQAJAAABYRgJo5kaZ5oqq5s675wPAITZt8WIJuAdf+Yy65UA/4Yw5lx4mgydEnRxTaBRk8063XL7a4ATy8JXJkgxSJJRSLRdhmVMzpdnYsAlYr9/mjsMwAHBn8ZBQcBf4EGbmKKBYh2AAIFjISWl5hbAAOVXQgLCwqccwQKoAsIewEICASZr7CxJSEAIfkECQMAGQAsAAAAACQAJAAABZFgJo5kaZ5oqq5s674jIMswC0xYrmMWUJu3nRDj+JVww52xBMhNHD6RgxFdxqrWrHbL7YoAkgnDSwJUJpUxOcOQVCTUdSaslpsrWDID0pDHDgV+IwcHeWQFBwGCGQEHBoqCAQaEkHYCBZVWNIIACgiLAAkLA6CiBKULCIZdAAQLqQObZA0Kr6mRBAini7y9vlshACH5BAkDABkALAAAAAAkACQAAAWbYCaOZGmeaKqubOu+IiDPALwyWK7rFGObgJ1Q9zNNhjtfkQS4OJ4k6HJKrVqvWBWAwc0yJ5WJ0guQVCSMmjfDqKTXI4pFDQccIPCR3YCVmQ4HdFMICwMmAgcBVgELCECAilQACwonAQaQVISRJQACBZxFDQsJeSOEhqYACoWmGautqgmkqXUEC6QBglkNhLiOeQADCASuxsfIVyEAIfkECQMAGQAsAAAAACQAJAAABaxgJo5kaZ5oqq5s675wTAIVZt+YA8gngP+Yy443cgB/Q6LIwWQymBfMRNlKUq/YrJYFYHi3s4rYGgsgyBmAZCIBoF+DxcDEqEiwiEXAZIi8Y3l7JQcHWQkLZAAHBVmBJYoGjXImBQeCVHEPJgAGln8uAAsKPZ2WVHlzmwIFny0BCwmtVwQLCGAmeba3IwCHZ7siZqIDskoDCgu1CJdbAA/ItcBpAQOp0tfY2VshACH5BAkDABkALAAAAAAkACQAAAW2YCaOZGmeaKqubOu+cFwCWG1bDiCjtO1jE92u9CsKhyJGyTHxHZEnwAXzZA1i1dVgcYWmAApF1jvadmcAyfilWGTTlYlyGFggTIBJRcJYt8wmDQ9qXghuJgYHfi+GASYHB2QZhlmQko2IimQPdiYCBwJkAAsKeJAEiyx1hyUBiQaOSIYEUQIFqSsNC6ySJoZivXhtd8Ezuwi4QwxtCgPJMgADzM7PMNG7ncUjAAEItNrg4eLjJyEAIfkECQMAGQAsAAAAACQAJAAABcRgJo5kaZ5oqq5s674kIM+wi934xQC1iv83Ry8DQPBGQODl6AIkFgiUw1H5LZsKKFNavV1agGzUNbltU4hForZrDRYKxrCVHZwADMkZBoDvARMVE3JzaWMxDRV6ey9pDSYCBxSMMAsLZwAHB5SVCyaZBnMllp8HBaIkWaUGnI2XJgUHAqgib3YlmQcBtAFqdwamu6JpwrgCBcVDDWqttARQtCtPt9F3WQTVKE7M2Z9pcAMDzcpPlofdIgAECNjo7u/w8SwhACH5BAkDABkALAAAAAAkACQAAAXUYCaOZGmeaKqubOu+cEwCwDBhOGY5gFwCiIWQkiteGD4AQbhQ2IpQS+8FSAgRDZPDUTFSFc3AinHJWVxBBLLlyE1Yg0Vi6mrj6ChrNja54E9xBCcADBJ/MVaHABMVE2s+AQsIJgAQFBIMhy9xAyYBBwKaMEF/AAYGPiZBYiSfAqklpCWfrLAiqz8HgrYiDwudJQYHojBxCZQHBrWpkQuHAcIFxC1Buz8C0rYNQtO8ad2wAWCTvCkAV+CpDVa/6TI1YAoINOWAYJL1KDXA+f3+/wBhhQAAIfkECQMAGQAsAAAAACQAJAAABd5gJo5kaZ5oqq5s675wTAIDQlQUPgGyCSCLIAJDLGJ2PQAhuFAgBsYoIwZICBsjhsOhjU5eAEUzsGJcilNWeJFIsxxFBwuo4L0qRTsKEMTGzkcqQAgnAAyHKAx5e0FkJQASFRMSKRMTDnolAU0nBhA7mTEDCw8mAgcFoTKjA48HB6oyQK0kAag9JkChtgW4JaOOIwAHBr4kS7QkBgfBvnyErgbNuGKqtsSxL0AEhQKpxnwL2cYjS3XkKT9s4+hACezGAUALA/C+S0IDyejCEEzQ/B4FGMAtoMGDCBMaCwEAIfkECQMAGQAsAAAAACQAJAAABdlgJo5kaZ5oqq5s675wTAIDMmA4ZjmAXAIIxWKRyBknPRlwOLQZn4wYIDF8BEwOx+T4CgwVVxXgkouyAEKFmcXIOViIhSLpIuPoJ8CwIbNPVHEIeQAMayVtdyh6CwMmAA0VFX8oWxiTJgNyJwQHFAx4JQ44FyiBJgIHBqAnOaWMPwcHYSsADoYkeyUBqT4mQ6C7Bb0lcY0kuwbDJMUmBgerMpmCP87QMAFCqwDOwspxBHkB3cMMv8orcQnnYkII1utoRO/nDEIL7ut5VPf5KA1z/QIKHEiwYMEQACH5BAkDABkALAAAAAAkACQAAAXZYCaOZGmeaKqubOu+cFwCw4DdmOUA8owsQARuOOHJAD9gguAYOhkxAHDxCJgcjgnxBVAsFMYU4IKDthKLhJnFwDlYg2+4Rb7NTd1FQ1afqAgLCCcADAwSdyJtdilAVjMRFBV+KFoYk3hpeAYHDwCII00YFChxDyabAi04KD93AQcHnyZ1rAuOI68FLhU3ta4Hui0OF5clP7ciALCyMA8LA6cHyD0ZcQl4sAHMLVILiK+w1CM/gngCBOIiDUDb6RmAYO5iaN7yKABo1/aDBO37/wADChxIsKDAEAAh+QQJAwAZACwAAAAAJAAkAAAF02AmjmRpnmiqrmzrvnBMAgQyYDhmOYBcDomFMJErTnoymtAGYBSfjBggqIiaHI6J8QVQLAjIFOCSs66mi8HLiXOwCAtEjIwLnwALhY8+USHSKAwMEnYjbBiFI3h6JgAFDxVHKFoYfSdwciYFBxEMAIkiDjgXKH8BJgIHBaAlOaULhQAHBqwldKBejQcCLhVtJ0EmAQenLbcnpiWyBr04ZiQPgCUGxC2ud1/Cs7UjWpYnXokB1Lw+IwPSygHcLV2w5u3F8PP09fb3+Pn6+/z9/v8ZQgAAIfkECQMAGQAsAAAAACQAJAAABdNgJo5kaZ5oqq5s675wTALDgGA4ZjmAXAKIhXCRK056MuCQEHAUn4wYILFQNE4Ox8T4AigWAxbgkouKv2EXI+dgBdMvMg6JAiwQPvlEFQycAAwTDGYla3N1VX8FBhIVdCVbGHsnA2AmAAYHET2PJE4YFygEC34lAgcFnSc5KEGdAAcGqidys30/qC4VOG0mrrgFLrUntzOxujiEJA+WJZmzJqx/iSUBsdAjADihKAOzpwfYGZHKXQTY2oc+K2MYvessDOLw9PX29/j5+vv8/f7/JEIAACH5BAkDABkALAAAAAAkACQAAAXTYCaOZGmeaKqubOu+cEwCA4JgOGY5gFwCiIVwkStOejJAYkgYOIpQRgygWCgeSJLDMTG+qItEFgW45KQspRXNYuQcLIJ1zDLj6D9hQ2afqOQIJwABDhJsJG53ZEJ4AAUHFBWHJF0YcCcBYSYABgcGAQB4Ik8YficDCw8mjwKiJTkoQXQABweuJXaxCwE/BwUuFTi6s74uuV+ewMIwnbckOBcxAZ68KgA4pjDTtiqVky6D1jnOPiKV2eUoiRjf6SPXiu4pT+jygvb4+fr7/P3+/yhCAAAh+QQJAwAZACwAAAAAJAAkAAAF0GAmjmRpnmiqrmzrvnBcAsOA3ZjlAPKMKIsgbjjh9QjBBWLwGDoZMQBikQicHI4J8QVIUI0pwAUHZUkXjxcD52AhEbHxDXwCLBR0l7ydmg5QAQ4SDGUkazdhdygCBxAVRSdaGIUlA0omAAYHBgCdKA43EyiWaSWMBXknNxcoNKkHB6kncjAABwUuFYhct3q7LrYGub8uBQdWLKsxAbDIYaEyAQYCK5KyZtciADg9LZJ83SmHGOEqoHPldZIY4OkkFGzudTft8iQ79vn6+/z9PSEAIfkECQMAGQAsAAAAACQAJAAABdBgJo5kaZ5oqq5s675wTAIDgmA4ZjmAXNKJhTBHnPR8A4VwkbgRiccXILhANEwAx4TokAYVgRWgkmO0pguFueXIRVME4ZtFxlzEwofsguvCmScAAgMSDGskDDh3KQMJYT8FBxETFYckWxiWgT8HBwZhAHMibRh+LwIHBaImijAAnasmfBiuqS51tQUuszGwLbgwqAItrbUHjykAOBUyAQaxI5iaPoFu1CuYE9cqiTjT26M5puAjAJgY2uTlpH3q0U/j6ucX0NfKE/Hu+vv8/SshACH5BAkDABkALAAAAAAkACQAAAXVYCaOZGmeaKqubOu+cFwCwHBhuOUA8jwki+ANR5zwegNFcIFADIlERgyACCoGjZLDMYFOYNXFYAV4SluDhSLbYhCPqkAQ3hpeWIBEQDY8ywACDRMMDHQZbhh3fwUHBhUSFYYZXRh+LgAHjXs0Jw44DjECBwWSJjiKl5mlJkMwmAUuFTiuoy6tL5gGsbMwBgd7LDgVU6pkOF8xAQIslJY9KABEoM8qlMjUKIgY09gmnp/dJgCUieEkAN/g4RYTFk/q4VBEF6s98hXc5ocODPn6/wADpggBACH5BAkDABkALAAAAAAkACQAAAXOYCaOZGmeaKqubOu+cFwCQ11nlAPIM6IsQCACgCnqeJnBb6F4EAYEwKRYvOxggISwYQIwptSrC8EcrACV8Iuw4LYcVTFLzkpjHMjWpUh/AQQNDhIMDHIMRQw8AAUHBhUSFRN0YDIAB40BAJp9cBh9KwIHBZ8lRliXpCV7iX6iLmkTpwUue3itBi5TsTCMAS2IMQAGs2d8MpksUxd5xXfMKmCpzIcYu88mnVbXM2AYrNsZAJ2m1xYTFntU3uDqVJLgGe3v8BkMDvb0+fr7JSEAIfkECQMAGQAsAAAAACQAJAAABb9gJo5kaZ5oqq5s675wTAIDYt8yCiBL7y+JnGnQUyACgQYSMAJMmDGiYrCyYC7Q1y6rm2CuXCGK8cWKV5Wv47y6fMNaQaNSYTC4ZMxaBigcDhUSdAwlXhh8fwYAiwB3JQ5vMQIHBXAmX4Raf5Ymbpw6lC5pEzAAoS1uey6mBi5epDCTAS2RpYosAJhsKYa7Ol+wvoW1wiN5wcUZkFfJIk5fGJnCAMvEZxYTFm7Q0cLc0Gbe3BWqwgwO583q6+wZIQAh+QQJAwAZACwAAAAAJAAkAAAFtGAmjmRpnmiqrmzrvnBMAgRiI8MAALIJLMCgMNArIYAKxGNAeNiKJQCCAa1ai7wrClC5aFMXjAMKCDQcEkZ2BMBg1jBA4XCoSCp2+ARDjQHoBjs7EhNwDBgWMgIHBXA7Jm5+dHBgb3GMLhV8lwUuYZQrfwYue2Mwi6AnkX6pPqtfJaWwUW59syJ7Fbcjh2K7GQ5uE7sAe26tWMFullcWExZhy8xX0sumX9UVyEUMDt2/4OGwIQAh+QQJAwAZACwAAAAAJAAkAAAFrWAmjmRpnmiqrmzrvnBMAgNi3wQAyCagLMCgkFcCABOIB2HwQCgCxGJ0Sq1ar9gWINCYMCQ7LKBwOFQklQrjCigbdDp0WAS4TGSCQ2GeAaxLGBgxbQd8KRWCMG0FLhYYhiuLLhePigcGLhMYfy8CkCiBWUUYF6IkmpyiAIGfVpp3phkMrLEOgQ6mAJoYsGK2gRetMRYTFpSBGBXCMcjNuFjNvMs8DgwO07HZ2jAhACH5BAkDABkALAAAAAAkACQAAAWcYCaOZGmeaKqubOu+cFwCdA3IKrDs/I4EN1xJgUAMCIOHYpcQtgBHp3RKrVqvIkAgMGFIglZA4WCoSCrd8IEMBHjTVMGhAM4AzFXDoZ7l4wBzWDOBLQwOMYAFLhQYMn4pGBWCJAAYE5MjExgMmHYYGI9VmoeYDJ+hUw6fnIIAmpatqp+XVRYTFhefn6RVuroTqDi+cFgOhp3IyVUhACH5BAkDABkALAAAAAAkACQAAAWXYCaOZGmeaKqubOu+cFwCBGLbAyCrS+/3icDuNBgEjoGHoocYtgKIRdPJQuio2Kx2uwIIGg4J47oFFA6GiqRSYZQP6ABgvnZnBYcCOQOYVPY7AHCAfBKEMYIFXCaJizOHjpGSWpBlGA6TGRMYlVgMGBeTDhickX2kmIsAo6R2WRYTFhekoK5ZtLQOnTK0F7qRDL+Zw8ROIQAh+QQJAwAZACwAAAAAJAAkAAAFkGAmjmRpnmiqrmzrvnB8AjQtt0uuI8OdJghEQqFbDAA+FSCAyCmQSVUjsUhAoyiAwopVXrvgWaDhkDC+XUDhcKhIKhV0EsA21ABvBlhwKHwBExJyMXQHcgwVelF0BSgMinMBAWGUlZaXmJmam5WDYYAYkJQADhgYF54yFhMWF6YYcZSvpheiYK8Ttpy7vL0nIQAh+QQJAwAZACwAAAAAJAAkAAAFiWAmjmRpnmiqrmzrvnB8AkM9AIC8DkvvEzndKTAgDB4KHyIoTAEQvkBz1YAumFNUYqHAZkuMJOLrREibgYZDwvBmAYXDoSKp0N06gOFgwOHqDGQCBwVYABMVeDAAcm4AFYFTcAIokGQpbZeam5ydnp+goaKjpCoWExYXE54Yra2KU60XmaW1trYhACH5BAkDABkALAAAAAAkACQAAAV9YCaOZGmeaKqubOu+cIwCNC23S54nA3CnCEQCoVv0fqsAcaHwIVUNxSLhfM4S06rVFDVuU4Bc4EcLMCYMhumxQNwAhYOhIqlUGFoAYhwDHOQBNRN0XwIHBXl1Wj8BiCZnal8od5IoExKVJzaZnJ2en6ChoqOkpaanqKmqMiEAIfkECQMAGQAsAAAAACQAJAAABYdgJo5kaZ5oqq5s675wjA70AMjtou/Ijc+EwUPB8/1SgIdOYTyiAsRE02kCRKdUEoM4yKYCusAPEGhMGAysEoEDFA6HiqRSYZQAOuwKADcA/gBzdiQJC10wAAYFTQATFU0DCwQyf1WPJIBeInWaKBMSnZaDoZh6pKeoqaqrrK2ur7CxsrO0JCEAIfkECQMAGQAsAAAAACQAJAAABY1gJo5kaZ5oqq5s675wjA70AMjtou/Ijc+EwUPB8/1SgIdOYTyiAsRE02kCRKdUEoM4yKYCusAxEGAAzCYlAgcoHAyVuIRRAuiwLMM7AOhXJnQkCQtdMQACTQASFU0DCwReGQyAJGBrkYwkdpdeFYEiAQiQXgCekSeTeJFnp62ur7CxsrO0tba3uLm6JiEAIfkECQMAGQAsAAAAACQAJAAABZRgJo5kaZ5oqq5s675wjA70AMjtou/Ijc+EwUPB8/1SgIdOYTyiAsRE02kCRKdUEoM4yKYCusAREGAwAFglAgcoHAyVSUUyBeiwrLYhgGbIpwkLXTJoJAASEyUDCwReGQAVTWBrjhUMhguUXhOXI5OOkE12CY4MkSQEgl5+nSMDCWJZAGeOtba3uLm6u7y9vr/AwV4hACH5BAkDABkALAAAAAAkACQAAAWcYCaOZGmeaKqubOu+cIwO9ADI7aLvyI3PhMFDwfP9UoCHTmE8ogLERNNpAkSnVBKDOMimArrAEQBgMMgmJeIHMBwqk4pkCtBhXYEAGRBnlBILXVkAEhVNAwsEXhl8fiNga4sVjiJ1kV6TJJCLAJkjdQmLDIYkBIGDo5QiCAtiVJ1zJHULdzJYrJeLJKy1i666wMHCw8TFxsfIySwhACH5BAkDABkALAAAAAAkACQAAAWcYCaOZGmeaKqubOu+cIwO9ADI7aLvyI3PhMFDwfP9UoCHTmE8ogLERNNpAkSnVBKDOMimArqAE0Amm5QIJ6FSkUymAB32VWZIKtPEopsFTCRNAwsEXhkAFQwkYGmFiCRxjF6OI4uFh01xCYUMeCQEe32ciSQIC2JjE22YclkSDFOlkYUjcQtzfXoQsyV6TLuKvr+PwsTFxsfIyb8hACH5BAkDABkALAAAAAAkACQAAAWlYCaOZGmeaKqubOu+cIwO9ADI7aLvyI3PhMFDwfP9UoCHTmE8ogLERNNpAkSnVBKDOMimAroAFcAAYJUIqmRSkUwBOizMDKhMpolFNwuQSEoDCwReGXVNYGmEFQwkcIleE4wjiISGjQsJhAwVTQR6fJuSIwgLYkd9bGWXC3IvdRKiowuPhCNwrLWNeRC5tnlMvYVECrGEgZitY7PFucnBz9DR0k4hACH5BAkDABkALAAAAAAkACQAAAWrYCaOZGmeaKqubOu+cIwO9ADI7aLvyI3PhMFDwfP9UoCHTmE8ogLERNNpAkSnVBKDOMimArpAFsDAKhFZxkQyBeiwMfKkMk0sumOJpDRYELwZAHQkYGiAFQwkboZeiIQLjFSCTW4JgAyDIwR3Y5iJJAgLYj9kEnNsim9HgmtlJaGRgCJuC3BjdhCyinZMurNECp+yAH0LUroACESQwoDFCaO+AAS2vtbX2LIhACH5BAkDABkALAAAAAAkACQAAAWvYCaOZGmeaKqubOu+cIwCQw3I7bDsO3LjM8LgoeD5gCvAY6f4IVOBYsL5PAGk1GqJURxoobvAF7VEfAGMLGCXxQEqk2xi4dUCJJKSjjB+UwMLZmMVVGuCX4QkgIdVfiRrCWMMeSQEdEBOaIkkCAtiOAUFEgxwDCVrC20tAAUQcBJtnYxjIqiqdnMQtI9zTbu1RQqmuzQ7U2cANJY9w1o8PAmfYwgICQgPt7/a29y0IQAh+QQJAwAZACwAAAAAJAAkAAAFq2AmjmRpnmiqrmzrvnDMAjIMLAtC12ug4LkdLwV44BTCIcq3SCSVJsDPCU0xfoNqKrBAalGIRfYb7X4Bkmdi8eQBJozSYBE4T0rcsbaSvOmrfCR5Z4EjNwRfDBJyYjUCdSIADBVxJGFtMwcHBRKTcCU3CTwBBhEVE50mYQ1DAK6uZV5khmuIs5FrVLdSXZVkAHNNmDKvAwRAEMMyQEC6XwgICQgPyrfW19hfIQAh+QQJAwAZACwAAAAAJAAkAAAFo2AmjmRpnmiqrmzrvnAsz3SdAghgr8iS6DsUQOEDBk2ARPF4ahAHzBNgsTBGR48F9EqaKrglpdXGYJQGiwATULEGqtF2d0GITsyj9zbItk73LwBqJQwSZ2kxAAcHgxkADBV4Iz1jLQKLEIUTkSVeNAAGEBUSDJU9D2AiU3BgSXSprgmwRAqSa2hLfAAAAwRUCxCVNL+/P1cICAkID8Kpzs/QNCEAIfkECQMAGQAsAAAAACQAJAAABZZgJo5kaZ5oqq5s675wLM90bd94rmfAfiIJnymwGAhLCEXvKAIUmaMEAioaLHzLETGLq3CdgZ2XtI0BwibAeASOGQ5oEmMtIlxjgcNBwJ5zM0AzAnoQDBMSFQwlTkYzAQUQFRITf4ALcUJOU0wACZecnpuZCgsJlTcAA6SmOQCuA3YLCwiKObK3pZg4CEAID6dUwcLDLCEAIfkECQMAGQAsAAAAACQAJAAABYxgJo5kaZ5oqq5s675wLM90bd94ru987//AEgERzAwWRQAyqAzAAIcCqgIgBRbVF9RwAlBJyuzLcHCWGAzhEhY4HAQjAONLQhBlAjeEMZFMxCJKAzRQEBUSaCYIWEBKBI0JCoA7AAkLgz4ACgsPmQQLCwiThAAAA5+gD6M0oK0LCas1dgkIqkW3uLkvIQAh+QQJAwAZACwAAAAAJAAkAAAFgWAmjmRpnmiqrmzrvnAsz3Rt33iu73zv/8DgDhAABAGHwjHpAgxiSMMJwCgBFjLDIWBiVEkEhCxwOAhG1ImRhBDLBGUIYyKpfNEL7gxQEEioa2wKgT1XTz8ACYOICQuHhQoLDz5OCwtuOACaAwSWCg07lqKXhDhtCQgPpUKsra4qIQAh+QQJAwAZACwAAAAAJAAkAAAFcWAmjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CcABAEHA7En7FQPDCBRkMwYzgETElc4CgYARiSneAIAU8m2RxAAKlMJGkRYlBcxHeABAKasCsVC1c9AAMLCnRqAIQECwsJdzWNkoeQNQgIegOVU5ydnichACH5BAkDABkALAAAAAAkACQAAAVoYCaOZGmeaKqubOu+cCzPdG3feK7vfO/HAMBPBDAIhhnBoTAEHA7Cn5PZXCKdBmTGcAhcn0diVBd4QhiSiaQHIAgmjKB2TjeNpYqBdKBI3G1BAAMECwsIfzaFiglePAgICQ+IdZSVlCEAIfkECQMAGQAsAAAAACQAJAAABVpgJo5kaZ5oqq5s675wLM90bd94ru98zwIA3whQEAgzgMPBcBQcCkFf8hCVPo/I6zHJxBoOAWxAaTyOnxKGEBAgSBxVrHxOr8uBgEF8t+j39zkIggGAdoaHcyEAIfkECQMAGQAsAAAAACQAJAAABVBgJo5kaZ5oqq5s675wLM90bd94ru98zwKBB8OXARQOhmEPcEAGAD7BoQD1MQ9V65QoYha4RSQ4YzgEwFcBOFCGZJcCwntMr9vv+Lx+z+/DQgA7"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAACjpJREFUaAXNWmuoVUUUnnvPuV69D+1FZnXzWlQUJJRYUAkV/UiJXlphZf2wB72IJCINoqe9i6igzKCiFErJ+pE/CgIrIaV+JFkWerWrvbAyvVp6r56+b+1Zs2fP2Xufffa9RQvWnjVr1nNm9uyZOccYD2q12irgIo9lDBi/AEPobaEUuSxXfjZkDDiszTiraqrgr2LDJ18Omq7RpGJoBbmB1e4xNTO205iXXu4TdCI029e/DzhYu+qGDawKiACoXlt3hdMkAW4FuNdnJqJNNLS0tDBaSYMNK1cjFeTy5msbJT1Ga+Y/3G9WfbHPdLbXkM4BsgSqfF45c7yBFUqbJ5/dbDo7RMe00Gzf1kEYE/em92iRp8623IAo4QBGptNSFjhBEGp1OugP/Ia7Hthqpp07QVgIFbEa8/abG81bi05g7NIFlVCJ0tMvOAJma5KcJilW8GBEzGiPMtasGxTLaDJdY6AnvcLWA0KrHEsNVTr+202D1EnAQ4/3SXgJJirSh4yZ7h96rC9sN12dzCQJlE9yUKOBDNhaJxwyoDgPuB3YB5wattfVIZQHX/sKLlZq+A1ZtOaX6FUVfnHxz6bnxMNlDMljV+zePWRmX9AuIlRuhaP5qqDl6jU7TVvrATOqWhNsQ8eO6072LodjoSr45Si2wBMziKZcnAl4O2T8qMDwJp92qOiKMLQoKrnwgcq0KW3Szkf0doFgeO3g05OUbTUzehTqwquZdtA+MCAHzImgE4Oe+fYq8M1QSCiObmdS2sSyJXWeomEZFTuA8oYwHMnJPsFPBUR0ucghpNrvO4bM7XdvqhP0w7ONC6F4rxOkcgH4yin4BBTn5ignZ4CvmEbD0PwcY2ET3yisHU0ClFaElkrWu0LX0aBZLh2BvDgU8uuc0ZyceXDwQVXz4IJjzCEoLbRiAGViOYfMQFuzyqtv/M7Mvva4qFnF7Wqn6jrJl74RLfmerevR9qqEUMSZKrZVoo+gGrbLvk5wiGXGvRh+tvOTO0+N+WVW18lqAsFoaYjN67Kuifu2PHoFM1zgMYRk1916c685dcohsBz1etxlVtpa1nxcxqGxoE6Hu4DRuuY1to+yjmwX6e7AE7GkToPIdYMM5bt4BTTXhIbcMuhSsBJat9VHn0r/4KYsNaJRRVesRXf9hloiy9E2Q2sXRZiJ1mOJAlQ0BeD0MDjl5/JkKvE92vv3kBk3Fj3uZoOaK+WIykxuf0IbTrkycExHEtbB0eRcg3As30qUw4FHcp3kNcLrxcAdDbwvQ3v8lc4zWKQNxqYCFwH7gHuB/DLwgMJ9V3OfoCyHMDQGSMNFoW6TlGW7jg8PXxf1kiLHPX0xgHJXioEyLH7q6iB8LXoh0VcnVZ7xK16J8b66c4gUSMcHMF/K0twx3bfwB/MHyjw48/Sx5tbrcbqJ4D04vUQrvsNglVSRuORX5MLLJpqODvmMSoNbiDztTz7+yUw6quo7nQGnK6kge1pkNzc2m09145BTwW6hAk0iv4tErbPtnPOOCLch7lCom+jF+W7i1greOMFWOqmZaqVFsBWOiNoea0QUkpJXhgeM3E1TqBhnAscYEDqNHGN1RjCt4BFTYCF5HIzXUxozWXRIQKBSYmwSdfcVE27yAZ0KHY5Lso3Jm40cI4LMaZR29+f2UtKY/bgjnm6eEA8L18zpwSm4GmdiQ9fJ6HpNCduAY75nqY68JNUhxcZ1R026R9Hpr6moWe1SZ1obHCNBnJzpUMcqFo8sqQMNRDeK9fxY06NsGh5HyUrFOqibBZqC9mWk4SYRJtWugSHZpqgtr/wxM8OqnY2uK62WZqb8J57Z7NmLyeefODauxNSH2Q71k6qJaGKqrHzUs7aEKuqVrzCP5R7DkbqCMFNBBMAX2/Ft3SkUIDDOa5nhbOC+UL7qctdUohRdl4YKjevc+8pecRADvg30Ub4Os0mCOk5ym6j1UFbzmAg68ZGrVq2DcOw8D3/uzJyNnpSQ69Gdf5FyYSNL7iPlJHXTnRvNwO79ItnowdnonXRTxeHM+XEEJeGU1xSnpGqVZ3bD34Cq27ctqqKBW/J12jgC5STfWaY9di9wuJDovUxn2gBvvC/fWsLrXLVRqoTDNiDPDXnAc0dTO4dSwagSnDEoHnjeATY69EAkE6hLG7Q1cgcjDbRoCeccXt7nlRliqDUF9EFfdUtf0XgLycEBz8Qj8bLAzLCAMTT3wuVlCGO9wK+GFdK/o8yYevNiZ1tmT0CZ1yergSO9kNPvSALX/TOz1uvUBJGc+yyWjYQnhXvu32J27yn2SS3qp7OjYh67f2La5zf5i4E1mEgQifFF5udXbtuKOk2Tuw0nEx7KL5qZPCunyYY87mcYmO5rlP5rz5B5f/kW2V6/kL7jXQ+1yRhN16u6e+K+gj80fA9MbNtQLwV649Dd5Vw4Ozxa8aZXj1hK6+1vmKCcnLAf0h8z1bYzGBMcmC3I5XgkKbs18Q4Gvzn9wMTlbKxXnmpt4Q2MjoGdMFJFGrZqapDhho4lQWi2WwHJGA+WjYED1I+cJiDJQd2sLQVzxJNjLBVcOMh9g5a8e+Alh5ZCQ0ZLXEQ4mjwiXhwtabMAMJcllOPPI6ejnMnKvwEMTG5PePbRWxTSOkriVIdGSzI9WkYcLB1x0Wn4mIXcpnKK3tBQFAJlV8XogoAJ0YsNmvNGEiYPQLYmkc5Au5ewyBR63MgEzy8iyqtKLvlzru0x3byzgZJ2aN2AuFZKqaSWVtGrJkQkGLWspQqzbArOZ4JHFlHRlSv640DSUbgKxqlHATZeNZtcVYsEHMkcyQR3AQsvMHpjk/ShCWuZbHXvm66K0qyjgwrVWFV1pVUkbBf9Qo9dTJAfx2mFxCHEFS2EcATDEYsjjzLA8s3vLvKOMkif4vRi5ZH9zoFB8+FHctVieGtfENYzQf6AUTjB+vuaIq6yh+TxpzcXMSC7l5NO6DDzbpmQtk3LsiE/aj+H1vuAdTfPaVpcFcMRiOR0PrGmtJY+z6fj9ibuA2mgCPwJoefkV1hMl+tQSf0pKrTUxgswxsUjmY0vnGLSDBHbHJr4r+rXYSD2y04GxHvwWvf3hLRI5IIUWq4Ezb9lcfFhSeR7qiVp3gpq6dNp73OazxK8BTYnd1XJafcoRvJXGMv9zYkB6gLBkgBdxxNG6sMfT6W1TFUoy5S/zKiyjKBWEOiroGdo3S915Xp9yU/ywecIcroSlZZRtSNImiMkI+eVKjOAf/DRFkFt+/5K0vxJkjk4SO1CjAz57wITV3Pcri1dtt18892ehj/AOg8ZBP/ZwVVx9qzDmlkVM6wZvmKXIrloSnlSqQlqOxLtBf058HDl/c9KvlJnILHNWXElpmgoREUgf2/vBrKX/i/AWHhJPz4vuVLBYlT5n+rh/B0D6qWAPov/laNUdoESHPJPLvwPZjN/dIF4IaBN2uZVSmnIfQfLWEVAWDPNFODZwJOAJwJ7gJzmRAI3+MR+4AbgN8BPgV9gyu1HOWLwD9V3OE7BRrznAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAACjtJREFUaAXNWnuMXFUZ/2Z3Zl/dbqVdLFsKnSWxhCaSGFM0RGOiEAN/0JJ2kaIBkpb+gxVEfHRNtJhYjSHBhmKTPrQI9IGLFknsH01MREIEY0wgtGmVzgKlpUvVlrZb2t3p+Pude78z55659+6du1Plm3z3nPOd73le95xzR8SBWq32InCzQxIB4TjQh3KBXKQy3feXCSkUCizLzZ8tSRGZF1nxwp+rsuupCrPy8INlk7bheZC5y3qrhsDHoz8ftXmj9uDhC7VDlQu1u+47SCsGDAdy5bBsk7oocqC2A8+7xIi3kQq4TW9NGKzY98okVcj2X1aMH/RWHn7kiLzwUlW2bzss/X2WV4qsvP22uXheZNaEMaPHyEiBag9V2DJGoywcLBkmPN5NdUi5TAolt1BTErjMqvUWEP/gVjCAL3xxQMRwoAYx7HrqTXlm80J2nGmCdl+IChhcTaqQC3rXKqAOAFtgnIwEDgNGSyO/2hb0OunrhgfZpBFQVw357wcgSHC4OCLong+mzekzzT/6WN2KMmr7a5kp+d2yyVNBAhxpYPYJEHwIeAJYAS726xvKYEqDN1wB6ysl3IqkvMYXaVVlfmLre3L1tZcHxVD1+NlJ+cqXOw2Nwm0wtFYFNH351Q+kq3RRujpq0l2qSVfxosyeFYxu5WF3rNeCm/ZAeQ3TImHknDT9SIGIeyj/YlPQp7peuEqRr9t33XOZensKQpzRbdvRVFuLLKl7y5YPyHMjxwzDuvX10eQOvahgF3kLMji/0y5pn1rUYRR4jxEK9gDNDJlhBM1YNHxJPYveGLL9+O+Tk7LmO4c9xRI3M9ZD8PuWMW2sOXWvWQE3A4aVDpOf5UqRHSC91teQUuaM6s6uPeSE0J4Upc1U9frGI6OIhsCwxGdyyxzRHJxpcNnHivKj4atlNtIQ2tCBZrZbg3Rba5PSr64+JF+795qgWrmthqjU09sP+yNnFYxuMy5kMabquBoYUENqWBmUruV6uhV2TvCV+1CdVs8lNd2WLRXLVCoVZGhoQPpnd3BhD+jpDbWHEQ5bDWFGm+6aRf3mjWjI0MdmcmFioiY7dhyVtd8etK8oa9hldPI0eBo4x6GZbFzT6Q7B5+3FCqaGphoKNHgH8FVfSXen3zkia+4vW8X60t2wcVTK881QiKhwV0K3ogjP/gqv/gViJEpdd3UMWPNhH2lErrIM+Q7jGoT7YZSvy0UU4jy6OFmVWX1FbkhCPYFpNVSnh9VTJwyuqgEYdijhysA+bSW8DkPXpyqEYbPXQTod+HGqkbRKWF0CPDmF9RHU2w1umr5MdVC2GLgZWAGeB/LNwAMK913NvYKSLEJRN5CKs0LDJilJdwMdFt7IaiWGj3v6bADh3hgFeUh81TWAPy3K4Kivzg3sTRPGMCV4pLJgDSIE5oOzlq2OZrhj+sH6t+U/SNPgxhv65P5VVyjL8zC6VAuuQV1StK4h5VvktmULpKcHC5SVDNkc6T/98ZgMXll0jd4Ko3vJafbUiG5lg/YEQl9vuxTbao3YDlqIX7r5Cn8bYg+FuonfmqC/gVxEcMQSZh4x1jgc8gFBmSnDA0bqpskXLCEKohpSwyU64Tjiy6FsziNgkSdjKhNJbDZCcH7liz6MJuxTpccpAG87Dc7yK9NG46ZNo5Z97twuufMOHNAJnuGA2PB8gAYbgIeFuNG469dvRniPH/9Qdu4+KnffFRplrT96IxKyNNYgeTgazQ4qXYGMjZ03fYdhb1Q3DhdD1seiRIMciQS1Z/sqIEeenR28uoiQkgozEw1yJBrIoKgD+1PrECI99cGk2abEWD2aaDBxNMZoGX4kul8ly+M/C48EUf59iQY5vwIIQmQfPbBm0BmNQWNveLzinyFUMC7dwpXmubgaNpNBuMS9nU54O8FJS3Q3TiPGA7akFFkBvOCzBBtIjtNw2ISjIuNo9NWxzL2vcK84gQ5/F/krSVBQ78PRDnJgOONoVDVuehUL2igLkI+85Drs/iswpIYzjkbXEPP7Edg5ZsL24liocR9pTlKrH/ynnB1PfRdT1gBHo3PSVXIkhTFrx2bIAaO8pvhkhHv6hZmwd0bV6PvQlFHBLfnrWtmCdNA1lqiPzQucLkRaL9GYVsAa78uP5LC6UnXkSmGwBOS5IQ147mhq55DLGRWCMTrFA89vgFMdesCSCJSlDuqyE1Pt/M9SGGf38j4vTxdDrCmgDdqyb5NLEigM8EzciskCNdMC+tDchEtrESgrA1+blkuXRpg+ldN8Z11iS0CY1ycvA1u9kNNuK4Hr/o1J63VsgAjOvhbzesKTwvfWvYVXav2raF5drtyMnnb56boFca/f6BeDUCgSIALjRObr19y2uYqbzX8dJxMeypcO4azcDbV83etWSPP1LUC6esqBd/zshOwZedtsrzfG73j3Q9H16E3bqrp74r6CHxr+AYxs29ItJ9fqjUNfr+4muDnS9tSDg5uyTsuaj/L3zQwWUtUdY50d8xZi+QSCNLs1EyAIfOe8A4xczsYoaJoUHBXU8SDlU0OgwiBvt9oIM8gzjas3xOQHO+gdxDSAICe0B3eC2PLg6AMD9AMiPQo+h4avPRjlzlBiLDuAQ/w8cgMyyzII5WIpFuG877+nCS3NKWK/E2ieqYFm52wgtRzyi9mD9wXl9GfeVXHjE6OpitvbC7Liznly+ZyUnVn+Dl3NAG9K9SCs5FUll/ysq+KOJ6P3OEk2qtWa7Hr2qHzrG2XTi+TzezSQzTVcb2KA8wIF6U9dubKviun63NpJfJjTQ7ZLb0F+HgM8Dcy8wGRdFZt1jof6QnBDjCnLVbTNpM3q8fhPM0C+HD/vVSQWs66Kvb1FOXMmcjGRqJMVnbwvwy8Ab9JhsTl1uiq//f37ppq39hlhPwPkB4zMAWZdFe+9e76MnTgve/e+bwLVBTHJse/+sPF+zuXlN8zrFvbgzm4gbpvmsrr5PTwCcXvAW6iGm2eXk58oCN/EYuAvAg3Lun2N68LgvSecZf+xDRWjN+kTsanM9zgFsTnmKywcvAeF2E9Rvm7eJwagKUuaD1I/YL9BGuUDSouf98BulUOUPfI8nOKlmvlykWaIqx3D0D4hr+aZfkRgmDHRFxMgMyD8BEGOIZv6zcksBuGugz1lwItYV8BLsCoG9tKfqxDLNmXRrX7gZ1Bxq1a6qa5cT+8+Juc+rEoJy3oHPk0QGbSmzJfw9xpNmeew1lSvzM+dq8ozu98zJlS3ay9nnp8kbXDUoZMnog89Q/rvgEvcCm7Xdo6ckAOHxqf8AOvKxeV1VVyxvL+ZVTFOFWkcjrcjuIZZEhugakGgZeRfAX5caR+xlFPqMwhsNMmvyBD1mSgI5Pf2mUAzaX2e/1OZvvCSfm5acLl8Q6/yP9XT+TsGxHMBbWb/K0eu6DwhGOSfXPgfzGb+6AL2TECd1M2rlNyQOgfzaIVD3Bl9Gvg54HXAa4FXATnMiQRu8Im8JjkIPAB8Cfg3DLkq0pbBfwGSv2UAWj0A7wAAAABJRU5ErkJggg=="},,function(e,t,i,n){"use strict";i(39),i(n)},function(e,t,i,n){"use strict";i(39),i(n),i(142)},function(e,t,i,n){"use strict";i(39),i(n),i(65)},,,,,,,,,,,function(e,t,i,n,r,a,o,s,l){var u=i(n),c=i(r),d=i(a),h=i(o),f=i(s),p=i(l),g={},v={},t=e.exports=function(e,t,i,n,r){var a,o,s,l,m=r?function(){return e}:p(e),b=u(i,n,t?2:1),y=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(d(m)){for(a=f(e.length);a>y;y++)if(l=t?b(h(o=e[y])[0],o[1]):b(e[y]),l===g||l===v)return l}else for(s=m.call(e);!(o=s.next()).done;)if(l=c(s,b,o.value,t),l===g||l===v)return l};t.BREAK=g,t.RETURN=v},,,,,,,,,,,,function(e,t,i,n,r,a){var o=i(n),s=i(r).set,l=o.MutationObserver||o.WebKitMutationObserver,u=o.process,c=o.Promise,d="process"==i(a)(u);e.exports=function(){var e,t,i,n=function(){var n,r;for(d&&(n=u.domain)&&n.exit();e;){r=e.fn,e=e.next;try{r()}catch(n){throw e?i():t=void 0,n}}t=void 0,n&&n.enter()};if(d)i=function(){u.nextTick(n)};else if(!l||o.navigator&&o.navigator.standalone)if(c&&c.resolve){var r=c.resolve();i=function(){r.then(n)}}else i=function(){s.call(o,n)};else{var a=!0,h=document.createTextNode("");new l(n).observe(h,{characterData:!0}),i=function(){h.data=a=!a}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},function(e,t,i,n){"use strict";function r(e){var t,i;this.promise=new e(function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n}),this.resolve=a(t),this.reject=a(i)}var a=i(n);e.exports.f=function(e){return new r(e)}},,,,,,,,,,,function(e,t,i,n,r,a){var o=i(n),s=i(r),l=i(a);e.exports=function(e,t){var i=(s.Object||{})[e]||Object[e],n={};n[e]=t(i),o(o.S+o.F*l(function(){i(1)}),"Object",n)}},function(e,t,i,n,r,a){var o=i(n),s=i(r),l=i(a).f;e.exports=function(e){return function(t){for(var i,n=s(t),r=o(n),a=r.length,u=0,c=[];a>u;)l.call(n,i=r[u++])&&c.push(e?[i,n[i]]:n[i]);return c}}},function(e,t,i,n,r,a){var o=i(n),s=i(r),l=i(a);e.exports=function(e,t){if(o(e),s(t)&&t.constructor===e)return t;var i=l.f(e),n=i.resolve;return n(t),i.promise}},,,,,function(e,t,i,n,r,a){var o=i(n),s=i(r),l=i(a)("species");e.exports=function(e,t){var i,n=o(e).constructor;return void 0===n||void 0==(i=o(n)[l])?t:s(i)}},,function(e,t,i,n,r,a,o,s,l){var u,c,d,h=i(n),f=i(r),p=i(a),g=i(o),v=i(s),m=v.process,b=v.setImmediate,y=v.clearImmediate,w=v.MessageChannel,x=v.Dispatch,E=0,_={},A="onreadystatechange",C=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){C.call(e.data)};b&&y||(b=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return _[++E]=function(){f("function"==typeof e?e:Function(e),t)},u(E),E},y=function(e){delete _[e]},"process"==i(l)(m)?u=function(e){m.nextTick(h(C,e,1))}:x&&x.now?u=function(e){x.now(h(C,e,1))}:w?(c=new w,d=c.port2,c.port1.onmessage=S,u=h(d.postMessage,d,1)):v.addEventListener&&"function"==typeof postMessage&&!v.importScripts?(u=function(e){v.postMessage(e+"","*")},v.addEventListener("message",S,!1)):u=A in g("script")?function(e){p.appendChild(g("script"))[A]=function(){p.removeChild(this),C.call(e)}}:function(e){setTimeout(h(C,e,1),0)}),e.exports={set:b,clear:y}},,,,,,,,,,,,function(e,t,i,n){var r=i(n);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i,n){var r=i(n);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},,,function(e,t,i,n,r,a){var o=i(n);o(o.S+o.F*!i(r),"Object",{defineProperties:i(a)})},,function(e,t,i,n,r,a){var o=i(n),s=i(r).f;i(a)("getOwnPropertyDescriptor",function(){return function(e,t){return s(o(e),t)}})},function(e,t,i,n,r){i(n)("getOwnPropertyNames",function(){return i(r).f})},function(e,t,i,n,r,a){var o=i(n),s=i(r);i(a)("getPrototypeOf",function(){return function(e){return s(o(e))}})},function(e,t,i,n,r){var a=i(n);i(r)("isExtensible",function(e){return function(t){return!!a(t)&&(!e||e(t))}})},function(e,t,i,n,r,a){var o=i(n),s=i(r);i(a)("keys",function(){return function(e){return s(o(e))}})},function(e,t,i,n,r,a){var o=i(n),s=i(r).onFreeze;i(a)("preventExtensions",function(e){return function(t){return e&&o(t)?e(s(t)):t}})},,function(e,t,i,n,r,a,o,s,l,u,c,d,h,f,p,g,v,m,b,y,w,x,E,_){"use strict";var A,C,S,T,I=i(n),D=i(r),O=i(a),M=i(o),k=i(s),N=i(l),P=i(u),L=i(c),R=i(d),F=i(h),j=i(f).set,B=i(p)(),H=i(g),V=i(v),U=i(m),W="Promise",z=D.TypeError,G=D.process,$=D[W],q="process"==M(G),Y=function(){},J=C=H.f,K=!!function(){try{var e=$.resolve(1),t=(e.constructor={})[i(b)("species")]=function(e){e(Y,Y)};return(q||"function"==typeof PromiseRejectionEvent)&&e.then(Y)instanceof t}catch(e){}}(),X=function(e){var t;return!(!N(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t){if(!e._n){e._n=!0;var i=e._c;B(function(){for(var n=e._v,r=1==e._s,a=0,o=function(t){var i,a,o=r?t.ok:t.fail,s=t.resolve,l=t.reject,u=t.domain;try{o?(r||(2==e._h&&te(e),e._h=1),o===!0?i=n:(u&&u.enter(),i=o(n),u&&u.exit()),i===t.promise?l(z("Promise-chain cycle")):(a=X(i))?a.call(i,s,l):s(i)):l(n)}catch(e){l(e)}};i.length>a;)o(i[a++]);e._c=[],e._n=!1,t&&!e._h&&Z(e)})}},Z=function(e){j.call(D,function(){var t,i,n,r=e._v,a=ee(e);if(a&&(t=V(function(){q?G.emit("unhandledRejection",r,e):(i=D.onunhandledrejection)?i({promise:e,reason:r}):(n=D.console)&&n.error&&n.error("Unhandled promise rejection",r)}),e._h=q||ee(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},ee=function(e){return 1!==e._h&&0===(e._a||e._c).length},te=function(e){j.call(D,function(){var t;q?G.emit("rejectionHandled",e):(t=D.onrejectionhandled)&&t({promise:e,reason:e._v})})},ie=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),Q(t,!0))},ne=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw z("Promise can't be resolved itself");(t=X(e))?B(function(){var n={_w:i,_d:!1};try{t.call(e,O(ne,n,1),O(ie,n,1))}catch(e){ie.call(n,e)}}):(i._v=e,i._s=1,Q(i,!1))}catch(e){ie.call({_w:i,_d:!1},e)}}};K||($=function(e){L(this,$,W,"_h"),P(e),A.call(this);try{e(O(ne,this,1),O(ie,this,1))}catch(e){ie.call(this,e)}},A=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},A.prototype=i(y)($.prototype,{then:function(e,t){var i=J(F(this,$));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=q?G.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&Q(this,!1),i.promise},catch:function(e){
return this.then(void 0,e)}}),S=function(){var e=new A;this.promise=e,this.resolve=O(ne,e,1),this.reject=O(ie,e,1)},H.f=J=function(e){return e===$||e===T?new S(e):C(e)}),k(k.G+k.W+k.F*!K,{Promise:$}),i(w)($,W),i(x)(W),T=i(E)[W],k(k.S+k.F*!K,W,{reject:function(e){var t=J(this),i=t.reject;return i(e),t.promise}}),k(k.S+k.F*(I||!K),W,{resolve:function(e){return U(I&&this===T?$:this,e)}}),k(k.S+k.F*!(K&&i(_)(function(e){$.all(e).catch(Y)})),W,{all:function(e){var t=this,i=J(t),n=i.resolve,r=i.reject,a=V(function(){var i=[],a=0,o=1;R(e,!1,function(e){var s=a++,l=!1;i.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,i[s]=e,--o||n(i))},r)}),--o||n(i)});return a.e&&r(a.v),i.promise},race:function(e){var t=this,i=J(t),n=i.reject,r=V(function(){R(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},,,function(e,t,i,n,r){var a=i(n),o=i(r)(!1);a(a.S,"Object",{values:function(e){return o(e)}})},function(e,t,i,n,r,a,o,s){"use strict";var l=i(n),u=i(r),c=i(a),d=i(o),h=i(s);l(l.P+l.R,"Promise",{finally:function(e){var t=d(this,u.Promise||c.Promise),i="function"==typeof e;return this.then(i?function(i){return h(t,e()).then(function(){return i})}:e,i?function(i){return h(t,e()).then(function(){throw i})}:e)}})},function(e,t,i,n,r,a){"use strict";var o=i(n),s=i(r),l=i(a);o(o.S,"Promise",{try:function(e){var t=s.f(this),i=l(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})}]);