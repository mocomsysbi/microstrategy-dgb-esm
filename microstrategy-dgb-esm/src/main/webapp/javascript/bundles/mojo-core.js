/* -- 
    Mojo JavaScript Library
    Copyright (C) 1996-2011 MicroStrategy Incorporated, All rights reserved. Confidential. 
-- */
var xmjd=mstrmojo&&mstrmojo.descriptors;var mstrmojo={helpPath:function(){return(mstrApp.helpUrl||"../help/")+"MSTRWeb/WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/";},helpPathMobileAdmin:function(){return(mstrApp.helpUrl||"../help/")+"MobileAdmin/WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/";},upgradeHelpPath:function(){return(mstrApp.upgradeHelpUrl||"../help/")+"WebHelp/Lang_"+(mstrApp.helpLocaleId||mstrApp.localeId)+"/Content/";},descriptors:xmjd||{},meta:{TP:"t",STP:"st"},emptyFn:function(){},tstid:function(B){var A;if(B){if(typeof (B)==="object"){A=B.tstid;}else{A=B;}}return A?'tstid="'+A+'"':"";},getMissingFn:function getMissingFn(){return function(){var C=this.scriptClass,A;try{for(A in this){if(this[A]===arguments.callee){C+="."+A;break;}}}catch(B){}throw new Error("Missing abstract method: "+C);};},now:function now(){return new Date().getTime();},usesFrames:false};(function(){mstrmojo.global=(function(){var F=function(){return this;};return F.call(null);}());mstrmojo.dbg=mstrmojo.emptyFn;mstrmojo.dbg_stack=mstrmojo.emptyFn;mstrmojo.dbg_xhr=mstrmojo.emptyFn;mstrmojo.dbg_profile=mstrmojo.emptyFn;mstrmojo.debugBundles=(function(){return(window.mstrConfig&&(mstrConfig.debugFlags!==undefined)&&((mstrConfig.debugFlags&4)>0));})();mstrmojo.platform={};mstrmojo.prompt={};mstrmojo.settings={};mstrmojo.models={datasets:{},template:{}};mstrmojo.ui={editors:{controls:{}},menus:{},pathbar:{}};mstrmojo.prefs={};mstrmojo.ACL={};mstrmojo.CMS={};mstrmojo.storage={};mstrmojo.maps={};mstrmojo.maps.androidmap={};mstrmojo.maps.jsmap={};mstrmojo.graph={};mstrmojo.IPA={};mstrmojo.IPA.Monitors={};mstrmojo.IPA.Alerts={};mstrmojo.IPA.Environment={};mstrmojo.IPA.Groups={};mstrmojo.IPA.Heartbeat={};mstrmojo.IPA.Managers={};mstrmojo.sm={};mstrmojo.sort={};mstrmojo.ME={};mstrmojo.architect={ui:{editors:{},panels:{},factories:{}},obj:{},menu:{},projectmanagement:{}};mstrmojo.warehouse={ui:{editors:{}},obj:{},dbroles:{},menu:{}};mstrmojo.plugins={};mstrmojo.AS={};mstrmojo.DI={controller:{},model:{},ui:{dialogs:{}}};mstrmojo.Refine={};mstrmojo.qb={bigquery:{},es:{},mdx:{},menu:{},thirdParty:{}};mstrmojo.WH={};mstrmojo.fe={};mstrmojo.txEditor={};mstrmojo.condTx={};mstrmojo.threshold={};mstrmojo.express={ui:{}};mstrmojo.rw={model:{},xtab:{}};mstrmojo.util={ui:{}};mstrmojo.android={controllers:{},factories:{},inputControls:{},large:{controllers:{},factories:{},ui:{}},medium:{controllers:{},factories:{},ui:{nativebar:{}}},selectors:{},ui:{},nativedialog:{}};mstrmojo.vi={controllers:{},factories:{},models:{editors:{}},enums:{},ui:{menus:{},editors:{fe:{},cm:{},nlp:{}},rw:{selectors:{},xtab:{}},tabs:{},toolbars:{},tutorial:{}},viz:{},util:{}};mstrmojo.onetier={controllers:{},vi:{acl:{},prefs:{model:{}},ui:{tutorial:{}}}};mstrmojo.config={vi:{},onetier:{}};mstrmojo.chart={common:{},enums:{},model:{enums:{}}};mstrmojo.nativeandroid={};mstrmojo.gm={};mstrmojo.ngm={};mstrmojo.heatmap={vi:{}};mstrmojo.netviz={};mstrmojo.imagelayout={};mstrmojo.kpicard={layout:{},editors:{}};mstrmojo.iphone={};mstrmojo.winphone={};mstrmojo.mstr={search:{}};mstrmojo.mstr.ui={};mstrmojo.gmaps={basemap:{},graphic:{},geometry:{},layer:{svg:{},canvas:{},mapbox:{}}};mstrmojo.esrimap={};mstrmojo.mapbox={ui:{selectors:{}}};mstrmojo.examples={};mstrmojo.home={controllers:{},models:{},views:{},ui:{}};mstrmojo.workstation={pages:{}};mstrmojo.err=function D(I,H){var G=I.name+': "'+I.message+'"';if(mstrmojo.debug){if(I.fileName){G+=" at\n    "+I.fileName;}if(I.hasOwnProperty("lineNumber")){G+=": "+I.lineNumber;}else{if(I.hasOwnProperty("line")&&I.sourceURL){var F=I.sourceURL.split("/");G+="("+F[F.length>1?F.length-1:0]+":"+I.line+")";}}}this.dbg(G);if(mstrmojo.Dialog){mstrmojo.error({longDesc:I.message,code:I.code},H,{title:I.name});}else{window.alert(G);}};mstrmojo.confirm=function B(F){return window.confirm(F);};mstrmojo.alert=function E(F){window.alert(F);};var C=!!(/return true/.test(String(function(){return true;})));mstrmojo.mixin=function A(J,H){if(J){H=H||{};var I=/this\.\_super/;var G=function(N,M){return function L(){var P=this._super;this._super=M;var O=N.apply(this,arguments||[]);this._super=P;return O;};};var F=J.__onmixin__;if(F){delete J.__onmixin__;}var K;for(K in J){if((typeof J[K]==="function")&&(!C||I.test(J[K]))){H[K]=G(J[K],H[K]);}else{H[K]=J[K];}}if(F){J.__onmixin__=F;}}return H;};}());(function(){var $XHR;var $MISSING={};var getApp=function(){return mstrmojo.global.mstrApp||{};},getJsRoot=function(){return getApp().jsRoot||"../javascript/";},getJsBundlesRoot=function(){return getJsRoot()+"bundles/";},getJsMojoRoot=function(){return getApp().jsMojoRoot||"../javascript/mojo/js/source/";},getPluginRoot=function(){return getApp().pluginRoot||"../plugins/";},getPluginMojoRoot=function(){return getApp().pluginMojoRoot||getJsMojoRoot();},isIE=!!document.all;function getXHR(){$XHR=self.XMLHttpRequest?new XMLHttpRequest():(self.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null);}function encodeParams(params){var x=-1,url=[],p;if(params){for(p in params){if(params.hasOwnProperty(p)){url[++x]=p+"="+encodeURIComponent(params[p]);}}}return url.join("&");}function appendUrlParams(method,baseUrl,params){if(method!=="GET"||!params){return baseUrl;}return baseUrl+"?"+encodeParams(params);}function syncXHR(method,baseUrl,params){var result=null;method=method.toUpperCase();if(!$XHR){getXHR();}if($XHR){try{var m=null,app=window.mstrApp;if(window.microstrategy!==undefined&&microstrategy){m=microstrategy;}params.taskContentType=params.taskContentType||"json";params.taskEnv="xhr";params.xts=mstrmojo.now();params=mstrmojo.addCSRFTokenToTaskParams(params);var ptp=(app&&app.persistTaskParams)||(m&&m.persistParams);if(ptp){mstrmojo.requiresCls("mstrmojo.hash");mstrmojo.hash.copy(ptp,params);}$XHR.open(method,appendUrlParams(method,baseUrl,params),false);$XHR.setRequestHeader("X-Requested-With","XMLHttpRequest");if(method!=="POST"){params=null;}else{params=encodeParams(params);$XHR.setRequestHeader("Content-type","application/x-www-form-urlencoded");}$XHR.send(params);result=$XHR.responseText||null;}catch(localerr){if(window.console){window.console.log(localerr);}}}return result;}function _jsGet(file,nullCheck){var js=mstrmojo.loadFileSync(file);if(js){try{eval(js);return nullCheck?!!verifyJsLoaded(nullCheck):true;}catch(localerr){window.alert("JavaScript compile error:\n\nFile: "+file+"\n\nError: "+localerr.message);}}return false;}mstrmojo.requiresBundle=function reqBundle(bundleName){return _jsGet(getJsBundlesRoot()+bundleName);};mstrmojo.requiresDepLib=function requiresDepLib(file,AMD){if(reqCache[file]){return true;}function isAMD(){return"function"===typeof define&&define.amd;}var AMDCache=window.define;if(!AMD&&isAMD()){delete window.define;}var value=_jsGet(file);reqCache[file]=true;window.define=AMDCache;return value;};mstrmojo.loadFileSync=function loadFileSync(file){var result=null;if(!$XHR){getXHR();}if($XHR){try{$XHR.open("GET",file+((window.mstrConfig&&mstrConfig.webVersion)?"?v="+mstrConfig.webVersion:""),false);$XHR.setRequestHeader("X-Requested-With","XMLHttpRequest");$XHR.send(null);result=$XHR.responseText||null;}catch(localerr){}if(!isIE&&$XHR.abort){$XHR.abort();}}return result;};mstrmojo.insertCSSLinks=function insertCSSLinks(files){var css,firsthead;if(files&&files.length>0){firsthead=document.getElementsByTagName("head")[0];files.forEach(function(file){css=document.createElement("link");css.setAttribute("id",file.replace(/[^a-zA-Z0-9]/g,""));css.setAttribute("rel","stylesheet");css.setAttribute("type","text/css");css.setAttribute("href",file);firsthead.appendChild(css);});}};mstrmojo.loader={loaded:{mstrmojo:true,"mstrmojo.loader":true},isLoaded:function isLd(fqcn){var isLoaded=!!verifyJsLoaded(fqcn);if(isLoaded){this.loaded[fqcn]=true;}return isLoaded;},load:function ld(fqcn){if($MISSING[fqcn]){return false;}if(this.loaded[fqcn]||this.isLoaded(fqcn)){return true;}if(_jsGet(this.fqcnToFile(fqcn),fqcn)){this.loaded[fqcn]=true;return true;}$MISSING[fqcn]=true;return false;},fqcnToFile:function fqcnToFile(fqcn){if(fqcn.match(/^mstrmojo\.plugins\./)){var pluginName=fqcn.substring(17,fqcn.indexOf(".",17)),pluginFile=pluginName+"/javascript/"+getPluginMojoRoot()+fqcn.replace("mstrmojo.plugins."+pluginName+".","").replace(/\./gm,"/");if(mstrApp&&mstrApp.supportFeature&&mstrApp.supportFeature(mstrmojo.vi.enums.EnumFeatures.SUPPORT_LIVEMODE)&&mstrApp.getWSLiveMode()&&mstrConfig.dossierServerPluginNames&&mstrConfig.dossierServerPluginNames.indexOf(pluginName)>-1){fqcn=mstrApp.dossierServerBaseUrl+"plugins/"+pluginFile;}else{fqcn=getPluginRoot()+pluginFile;}}else{if(fqcn.match(/^mstrmojo\./)){fqcn=getJsMojoRoot()+fqcn.replace("mstrmojo.","").replace(/\./gm,"/");}else{fqcn=getJsRoot()+fqcn.replace(/\./gm,"/");}}return fqcn+".js";}};var $LOADER=mstrmojo.loader,isLoaded=$LOADER.loaded;var reqCache={},addPackagesToReqCache=function addPkg(n,ns){var ps=n.split("."),klen=ps.length,k;for(k=1;k<klen;k++){var s=ps.slice(0,k).join(".");if(!reqCache[s]){ns.push(s);reqCache[s]=true;}}},loadInputScripts=function loadInputScripts(ns){var jlen=ns.length,j;for(j=0;j<jlen;j++){if(!$LOADER.load(ns[j])){window.alert("Warning: Javascript class not found:\n"+ns[j]);break;}}};mstrmojo.requiresCls=function reqCls(){var argLen=arguments.length,ns=[],i,len;for(i=0,len=argLen;i<len;i++){var n=arguments[i];if(!n||isLoaded[n]||$MISSING[n]){continue;}else{if(reqCache[n]){loadInputScripts([n]);reqCache[n]=false;continue;}}if(!n.match(/^mstrmojo\.plugins\./)){addPackagesToReqCache(n,ns);}ns.push(n);reqCache[n]=true;}loadInputScripts(ns);return true;};mstrmojo.requiresClsP=function reqClsP(){var argLen=arguments.length,ns=[],pkgName=arguments[0],i,len;addPackagesToReqCache(pkgName,ns);for(i=1,len=argLen;i<len;i++){var n=pkgName+"."+arguments[i];if(!n||isLoaded[n]||$MISSING[n]){continue;}else{if(reqCache[n]){loadInputScripts([n]);reqCache[n]=false;continue;}}if(!n.match(/^mstrmojo\.plugins\./)){ns.push(n);reqCache[n]=true;}}loadInputScripts(ns);return true;};var $DESCRIPTORS=mstrmojo.descriptors,descPrefix="mstrWeb.";function populateDescriptors(ds){if(ds){var dlen=ds.length,di;for(di=0;di<dlen;di++){var d=ds[di];$DESCRIPTORS[d.key]=d.v;}}}mstrmojo.populateDescriptors=populateDescriptors;if(window.mstrConfig!==undefined){populateDescriptors(mstrConfig.mstrDescs&&mstrConfig.mstrDescs.descriptors);mstrConfig.mstrDescs=null;}if(window.mstrApp!==undefined){populateDescriptors(mstrApp.mstrDescs&&mstrApp.mstrDescs.descriptors);}var requestDescriptor=function(prefix,ids){var ns=[],len=ids.length,i;for(i=0;i<len;i++){var k=ids[i];if(k&&!($DESCRIPTORS.hasOwnProperty(prefix+k))){ns.push(k);}}if(ns.length>0){var response=syncXHR("POST",(window.mstrConfig&&mstrConfig.taskURL)||"taskProc",{taskId:"getDescriptors",keys:ns.join(","),prefix:prefix});if(response){var r=JSON.parse(response.replace(/\\'/g,"'"));populateDescriptors(r&&r.descriptors);}}};mstrmojo.requiresDescsWPrefix=function reqDescP(prefix){var args=[].slice.call(arguments);args[0]=null;requestDescriptor(prefix,args);};mstrmojo.requiresDescs=function reqDesc(){if(window.mstrConfig!==undefined&&!mstrConfig.onMobileDevice){requestDescriptor(descPrefix,arguments);}};mstrmojo.desc=function desc(descID,defText){if(descID!==null&&descID!==undefined){mstrmojo.requiresDescs(descID);if($DESCRIPTORS.hasOwnProperty(descPrefix+descID)){return $DESCRIPTORS[descPrefix+descID];}defText=defText||"No string descriptor found for descID="+descID;}var decDefText="["+defText+"]";$DESCRIPTORS[descPrefix+descID]=decDefText;return decDefText;};mstrmojo.descP=function descP(prefix,descID,defText){mstrmojo.requiresDescsWPrefix(prefix,descID);if($DESCRIPTORS.hasOwnProperty(prefix+descID)){return $DESCRIPTORS[prefix+descID];}defText=defText||"No string descriptor found for descID="+descID;var decDefText="*"+defText+"*";$DESCRIPTORS[prefix+descID]=decDefText;return decDefText;};mstrmojo.provide=function prv(fqcn,cls){isLoaded[fqcn]=!!cls;return cls;};mstrmojo.invalidateCls=function rel(fqcn){reqCache[fqcn]=false;isLoaded[fqcn]=false;this.invalidateJsLoaded(fqcn);};var mx=mstrmojo.mixin;mstrmojo.declare=function declare(SuperCls,mixins,config){function Constr(props){if((!props||!props.dontInit)&&this.init){this.init(props);}}if(SuperCls){Constr.prototype=new SuperCls({dontInit:true});Constr.prototype.constructor=Constr;}var proto=Constr.prototype;var cnt=(mixins&&mixins.length)||0,i;for(i=0;i<cnt;i++){mx(mixins[i],proto);}if(config){mx(config,proto);if(config.scriptClass){isLoaded[config.scriptClass]=true;}}return Constr;};mstrmojo.findAncestor=function findAncestor(src,property,value,limitClass){var ancestor=src&&src.parent;while(ancestor&&(!limitClass||!(ancestor instanceof limitClass))){var targetProperty=ancestor[property];if(targetProperty!==undefined){if(value!==undefined&&value!==null){if(targetProperty===value){return ancestor;}}else{return ancestor;}}ancestor=ancestor.parent;}return null;};mstrmojo.isDescendant=function isDescendant(parent,child){var ancestor;if(!child||!parent){return false;}ancestor=child.parent;while(ancestor){if(ancestor===parent){return true;}ancestor=ancestor.parent;}return false;};mstrmojo.getCSRFToken=function getCSRFToken(url){var tkn=null;try{if(url){if(url.indexOf("validateRandNum=")>=0){return tkn;}if(this.isUrlExternal(url)){return tkn;}}if(window.mstrApp&&mstrApp.validateRandNum){tkn=mstrApp.validateRandNum;}else{if(window.mstrConfig&&mstrConfig.validateRandNum){tkn=mstrConfig.validateRandNum;}else{if(window.microstrategy!==undefined&&microstrategy&&microstrategy.validateRandNum){tkn=microstrategy.validateRandNum;}}}}catch(err){}return tkn;};mstrmojo.addCSRFTokenToURL=function addCSRFTknToURL(url){if(!url){return"";}var tkn=mstrmojo.getCSRFToken(url);if(tkn&&tkn.length>0){if(url.indexOf("?")>-1){url+="&";}else{url+="?";}url+="validateRandNum="+tkn;}return url;};mstrmojo.addCSRFTokenToTaskParams=function addCSRFTknToTaskParams(params){if(params){var tkn=mstrmojo.getCSRFToken();if(tkn&&tkn.length>0){params.validateRandNum=tkn;}}return params;};mstrmojo.getInstance=function getInstance(config){var Clazz=mstrmojo.hash.walk(config.scriptClass,window);if(Clazz){return new Clazz(config);}return null;};mstrmojo.isUrlExternal=function isUrlExternal(url){var curURL=window.location.href;var servletName=window.mstrApp&&mstrApp.name,taskProcName=window.mstrConfig.taskURL&&mstrConfig.taskURL,isSameWebApp=(url.indexOf("?")===0||url.indexOf(servletName)===0||url.indexOf("./"+servletName)===0||url.indexOf(taskProcName)===0||url.indexOf("./"+taskProcName)===0||url.indexOf(curURL)===0||((curURL.indexOf("?")>0)&&(url.indexOf(curURL.substring(0,curURL.indexOf("?")))===0)));return !isSameWebApp;};mstrmojo.resolveFeature=function resolveFeature(feature){var features=mstrApp.features;return features&&features[feature];};mstrmojo.getStyleRoot=function getStyleRoot(){var c=mstrConfig||{},styleRoot=c.styleRoot||"../style";return styleRoot;};mstrmojo.getJsRoot=getJsRoot;function verifyJsLoaded(name){name=name.trim();var path=name.split(".");var o=window;for(var i=0;i<path.length;i++){o=o[path[i]];if(!o){break;}}return o;}mstrmojo.invalidateJsLoaded=function invalidateJsLoaded(name){var path=name&&name.trim().split("."),len=(path&&path.length)||0,tmp=window,i;for(i=0;i<len-1;i++){if(!tmp){return ;}tmp=tmp[path[i]];}if(tmp&&path[i]){tmp[path[i]]=undefined;}};}());(function(){mstrmojo.hash=mstrmojo.provide("mstrmojo.hash",{copy:function B(S,R){if(S){R=R||{};var T;for(T in S){R[T]=S[T];}}return R;},copyProps:function C(T,V,R){R=R||{};if(V){var U=(T&&T.length)||0,S;for(S=0;S<U;S++){var W=T[S];if(V[W]!==undefined){R[W]=V[W];}}}return R;},forEach:function I(U,T,S){if(U){var R;for(R in U){if(S){if(T.call(S,U[R],R,U)===false){break;}}else{if(T(U[R],R,U)===false){break;}}}}return U;},walk:function P(V,S){if(!S){S=mstrmojo.global;}var U=V.split(".");if(U.length===1){return S[V];}var T=(U&&U.length)||0,R;for(R=0;R<T;R++){S=S[U[R]];if(!S){break;}}return S;},isEmpty:function F(S){if(!S){return true;}var R;for(R in S){if(S[R]!==null&&S[R]!==undefined){return false;}}return true;},clear:function G(S){if(S){var R;for(R in S){delete S[R];}}return S;},any:function J(U,V){var T;if(U){var S=this.keyarray(U);if(S.length>0){var R=S[0];T=V?R:U[R];}}return T;},clone:function M(V){if(!V){return null;}var X;if(V.constructor===Array){X=V.concat();var W=X[0];if(W&&typeof W==="object"){var R=X.length,U;for(U=0;U<R;U++){X[U]=this.clone(V[U]);}}}else{X={};var T;for(T in V){var S=V[T];if(S&&typeof S==="object"){X[T]=this.clone(S);}else{X[T]=S;}}}return X;},cloneArray:function E(S){var T=[],R=(S&&S.length)||0,U;for(U=0;U<R;U++){T[U]=this.clone(S[U]);}return T;},keyarray:function K(T,U){var R=[],S;if(T){if(Object.keys&&!U){R=Object.keys(T);}else{for(S in T){R.push(U?Number(S):S);}}}return R;},valarray:function L(T){var R=[];if(T){var S;for(S in T){R.push(T[S]);}}return R;},equals:function Q(Y,X){var S=mstrmojo.hash,W=(Y&&X)||(!Y&&!X&&(Y===X));if(W&&Y){W=(Y.constructor===X.constructor);if(W){if(Y.constructor===Array){var V=Y.length;W=(V===X.length);if(W&&V){var T;for(T=0;T<V;T++){W=W&&S.equals(Y[T],X[T]);}}}else{if(typeof Y==="object"){var Z=S.keyarray(Y),U=S.keyarray(X);W=Z.length===U.length;if(W){var R;for(R in Y){W=W&&(S.equals(Y[R],X[R]));}}}else{W=(Y===X);}}}}return W;},obj2array:function O(W){var X;for(X in W){var V=W[X];if(V&&typeof V==="object"){W[X]=this.obj2array(V);}}var S=W.isArray;if(S!==undefined&&S===true){var U=[],R=W.length,T;for(T=0;T<R;T++){U.push(W[T]);}return U;}return W;},min:function D(U,V,W){var R=null,T;if(U){for(T in U){var S=V?U[T]:T;if(W){S=Number(S);}if((R===null)||(S<R)){R=S;}}}return R;},max:function N(U,V,W){var R=null,T;if(U){for(T in U){var S=V?U[T]:T;if(W){S=Number(S);}if((R===null)||(S>R)){R=S;}}}return R;},make:function A(S,T,R){if(!S||!T){return null;}if(S.attachEventListener){return S;}if(T.makeObservable){S=T.makeObservable(S,R)||S;}else{this.copy(T.prototype,S);if(S.init){S=S.init(R)||S;}}return S;},mergeHashes:function H(R,S){R=this.clone(R)||{};if(S){mstrmojo.array.forEach(mstrmojo.array.distinct(this.keyarray(S).concat(this.keyarray(R))),function(T){var V=R[T],U=S[T];if(V===undefined){R[T]=U;}else{if(V&&U){if(typeof V==="object"){if(V.constructor===Array){R[T]=V.concat(U);}else{R[T]=this.mergeHashes(V,U);}}else{R[T]=U;}}}},this);}return R;},invert:function(S){var T={};if(S){var R;for(R in S){if(S.hasOwnProperty(R)){if(typeof R==="number"||typeof R==="string"){T[S[R].toString()]=R;}}}}return T;}});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash");var O=/\{\@(en@)?([^\}]+)\}/gm,K=/\</gm,S=/\>/gm,F=/\S/,R=["$","^","=","!",":","/",".","*","+","?","|","(",")","[","]","{","}","\\"],G=new RegExp("(\\"+R.join("|\\")+")","g"),T={"&":{k:"&(?!#?\\w+;)",v:"&amp;"},"<":"&lt;",">":"&gt;","\u0009":"&#x09;","\n":"&#x0A;","\r":"&#x0D;",'"':"&quot;"},W={"&amp;":"&","&lt;":"<","&gt;":">","&#x09;":"\u0009","&#x0A;":"\n","&#x0D;":"\r","&quot;":'"'},D={"&":{k:"&(?!#?\\w+;)",v:"&amp;"},"<":"&lt;",">":"&gt;"," ":"&nbsp;","\n":"<br/>","\r":"&nbsp;&nbsp;&nbsp;&nbsp;","'":"&#39;",'"':"&#34;"},N={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":" ","<br/>":"\n","&nbsp;&nbsp;&nbsp;&nbsp;":"\r","&#39;":"'","&#34;":'"'},E={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&#34;","\u20ac":"&#8364;"},L={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&#34;":'"',"&#8364;":"\u20ac"};var M=function(X){if(X===null){return"null";}var Y=typeof X;if(Y!=="object"){return Y;}if(X.length===undefined){return"object";}return"array";};var U={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};mstrmojo.string=mstrmojo.provide("mstrmojo.string",{multiReplace:function H(Y,b,a){var X;a=a||[];if(!Y){return"";}var Z=[];for(X in b){if(mstrmojo.array.indexOf(a,X)===-1){Z.push(X.k||X);}}return Y.replace(new RegExp(Z.join("|"),"g"),function(c){var d=b[c];return d.v||d;});},trim:function Q(X){return(X&&X.replace)?X.replace(/^\s+/,"").replace(/\s+$/,""):X;},startsWith:function V(Y,X){return Y.length>=X.length&&Y.substring(0,X.length)==X;},ellipsize:function A(Z,Y){var X=this.trim(Z.substr(0,(Y||1)-1));if(X!==Z){X+="&hellip;";}return X;},isEmpty:function J(X){return(X===null)||(X===undefined)||!(F.test(X));},regEscape:function P(X){return X.replace(G,"\\$1");},escapeIllegalXML:function C(X){if(!X||!X.replace){return X;}var Y=/\u001a/gm,Z="";return X.replace(Y,Z);},encodeXMLAttribute:function(X){return mstrmojo.string.multiReplace(X,T);},decodeXMLAttribute:function(X){return mstrmojo.string.multiReplace(X,W);},encodeHtmlString:function(Y,X,Z){if(!Y||!Y.replace){return Y;}if(Z){return mstrmojo.string.multiReplace(Y,E);}return mstrmojo.string.multiReplace(Y,D,X?[" "]:[]);},decodeHtmlString:function(Y,X){return X?mstrmojo.string.multiReplace(Y,L):mstrmojo.string.multiReplace(Y,N);},htmlAngles:function(X){if(!mstrmojo.string.isEmpty(X)){X=String(X);return X.replace(K,"&lt;").replace(S,"&gt;");}return X;},apply:function I(X,Z){if(!X){return"";}var Y=this;return X.replace(O,function a(d,e,f){var b;try{b=mstrmojo.hash.walk(f,Z);}catch(c){}b=(b===null||b===undefined)?"":b;return(!!e)?Y.encodeHtmlString(b,true):b;});},json2xml:function(X,m,o){if(!(m instanceof Array)){m=[m];}var Y=o&&o.isSerializable,l=(o.convertBoolean!==false),q=o&&o.skipFunctions,k,d;var f=[],b=[],e,a,c;for(k=0,d=m.length;k<d;k++){var j=m[k];for(e in j){if(q&&typeof j[e]==="function"){continue;}if(Y){var p=Y(e,m,k);if(p!==true){if(p===false){continue;}else{if(p.att){f.push(p.att);}if(p.child){b.push(p.child);}continue;}}}a=j[e];c=M(a);switch(c){case"array":var g,h;b.push("<"+e+">");for(g=0,h=a.length;g<h;g++){var Z=o.getArrItemName(e,a,g)||g;b.push(this.json2xml(Z,a[g],o));}b.push("</"+e+">");break;case"object":b.push(this.json2xml(e,a,o));break;case"string":f.push(e+'="'+mstrmojo.string.encodeXMLAttribute(a)+'"');break;case"boolean":f.push(e+'="'+(l?(a?"-1":"0"):a)+'"');break;case"null":if(!o.skipNull){f.push(e+'="'+o.nullValue+'"');}break;default:f.push(e+'="'+a+'"');break;}}}return"<"+X+" "+f.join(" ")+">"+b.join("")+"</"+X+">";},escape4HTMLText:function B(e){if(!e||!e.replace){return e;}var b=/"/gm;var Z="&quot;";var f=/&/gm;var d="&amp;";var c=/</gm;var X="&lt;";var a=/>/gm;var Y="&gt;";return e.replace(f,d).replace(b,Z).replace(c,X).replace(a,Y);},parseUri:function(b,Y){Y=Y||U;var X=Y.parser[((Y.strictMode)?"strict":"loose")].exec(b),a={},Z=14;while(Z--){a[Y.key[Z]]=X[Z]||"";}a[Y.q.name]={};a[Y.key[12]].replace(Y.q.parser,function(d,c,e){if(c){a[Y.q.name][c]=e;}});return a;},removeSpecialChars:function(X){return X.replace(/[^a-zA-Z0-9]/g,"");}});})();(function(){function Y(b){var c=[].slice.call(b),d=c[c.length-1],e=function(g,f){return g===f;};if(/function|string/.test(typeof d)){e=typeof d==="function"?d:function(g,f){return g[d]===f[d];};c=c.slice(0,c.length-1);}return{sets:c,compareFunc:e};}mstrmojo.array=mstrmojo.provide("mstrmojo.array",{indexOf:function D(c,e){var b=(c&&c.length)||0,d;for(d=0;d<b;d++){if(c[d]==e){return d;}}return -1;},indexOfMulti:function U(b,c){var g=[],f={},e=0,d=this;d.forEach(b,function(i,h){d.forEach(c,function(j,k){var l=(j===i);if(l){g[k]=f[k]=h;e++;}return !l;});});return{indices:g.length?g:null,map:f,count:e};},forEach:function S(c,h,e){var b=(c&&c.length)||0,d;for(d=0;d<b;d++){var g=d===(b-1);if(e){if(h.call(e,c[d],d,c,g)===false){break;}}else{if(h(c[d],d,c,g)===false){break;}}}return c;},map:function Z(c,g){var b=(c&&c.length)||0,d=[],e;for(e=0;e<b;e++){d[e]=g(c[e],e);}return d;},filter:function J(d,e,f){var j=[],h=0,c=(d&&d.length)||0,b=(f&&f.max)||0,g;for(g=0;g<c;g++){if(e(d[g],g,d)){j[h]=d[g];h++;if(b&&h>=b){break;}}}return j;},filterOne:function M(b,c){var d=this.filter(b,c,{max:1});if(d.length){return d[0];}return null;},ensureArray:function Q(b){return[].concat(b||[]);},find:function N(c,g,d){var b=(c&&c.length)||0,e;for(e=0;e<b;e++){var f=c[e];if(f&&f[g]==d){return e;}}return -1;},distinct:function B(c,g){if(c.reduce&&!g){return c.reduce(function(i,h){if(i.indexOf(h)<0){i.push(h);}return i;},[]);}var b=(c&&c.length)||0,d,f,e=[];for(d=0;d<b;d++){f=c[d];if((f!==undefined)&&((g&&this.find(e,g,f[g])<0)||(!g&&this.indexOf(e,f)<0))){e.push(f);}}return e;},findBin:function E(d,i,j,c){var g=(c||d.length)-1,e=0,b,f=i[j];while(g-e>1){if(d[b=g+e>>1][j]<f){e=b;}else{g=b;}}if(d[e][j]===f){return e;}return d[g][j]===f?g:-1;},search:function I(j,e,g){var f=j.length,d=-1,c,i=e.toUpperCase(),b=e.length;while(f-d>1){if(j[c=f+d>>1][g].substr(0,b).toUpperCase()<i){d=c;}else{f=c;}}return f;},findMulti:function R(h,d,m){if(!m){return{indices:null,map:{},count:0};}var l=m.length,q=[],b={},o=0,f=(h&&h.length)||0,g;for(g=0;g<f;g++){var p=h[g][d],e;for(e=0;e<l;e++){if(m[e][d]===p){q[e]=g;b[e]=g;o++;break;}}}return{indices:q,map:b,count:o};},removeItem:function X(b,d){var c=this.indexOf(b,d);if(c>-1){this.removeIndices(b,c,1);}return c;},removeItems:function O(b,g,c){var d=this.findMulti(b,g,c);if(d.count){var f=d.indices.concat().sort(this.numSorter).slice(0,d.count),e;for(e=f.length-1;e>-1;e--){b.splice(f[e],1);}}},numSorter:function a(d,c){return Number(d)-Number(c);},stringSorter:function K(e,d){var c=e.toLowerCase(),f=d.toLowerCase();if(c<f){return -1;}if(c>f){return 1;}return 0;},removeIndices:function P(b,d,c){b.splice(d,c);},insert:function F(c,b,d){if(!c){c=[];}if(b===null||b===undefined){b=c.length;}Array.prototype.splice.apply(c,[b,0].concat(d));return c;},hash:function C(c,e){e=e||{};var b=(c&&c.length)||0,d;for(d=0;d<b;d++){e[c[d]]=true;}return e;},get:function V(c,f){if(!f){return null;}var d=[],b=f.length,e;for(e=0;e<b;e++){d[e]=c[f[e]];}return d;},deepSortArr:function G(c,e,b,d){return c.sort(function(h,f){var i=h[b][e],g=f[b][e];if(!d){return(i<=g);}return(i>g)?-1:1;});},isArray:function(b){var c=Array.isArray;if(c){return c(b);}return Object.prototype.toString.call(b)==="[object Array]";},some:function L(c,d){if(!c){return false;}if(c.some){return c.some(d);}var b=false;this.forEach(c,function(f,e){b=d(f,e,c);return !b;});return b;},difference:function W(){if(arguments.length<2){throw new Error("difference should get at least 2 parameters");}var e=Y(arguments),c=e.sets,d=e.compareFunc,f=c[0],b=[].concat.apply([],c.slice(1));return f.filter(function(g){return !b.some(function(h){return d(g,h);});});},intersection:function T(){if(arguments.length<2){throw new Error("intersection should get at least 2 parameters");}var f=Y(arguments),d=f.sets,e=f.compareFunc,b=d[0],c=d.slice(1);c.forEach(function(g){b=b.filter(function(h){return g.some(function(i){return e(h,i);});});});return b;},fnReduceNumber:function A(b,c){return b+c;},applyLargeArray:function H(e,h,j,k){var f=e.length,i=1000,b,c,d,g=j;if(f){for(b=0,c=i;b<f;b=c,c+=i){d=h.apply(k,e.slice(b,c));g=h.apply(k,[g,d]);}}else{g=h.apply(k,e);}return g;}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.array");var B={};var E={};mstrmojo.publisher=mstrmojo.provide("mstrmojo.publisher",{publish:function F(H,Q,L){var M=B[H]&&B[H][Q],O;if(!M){return ;}for(O in M){var J=null;if(O){J=mstrmojo.all[O];if(!J){delete M[O];continue;}}var R=M[O].methods;if(R){var P=J||mstrmojo.global,I;for(I in R){if(P[I]){P[I](L);}}}var N=M[O]&&M[O].functions,S=(N&&N.length)||0;if(S){var K;if(J){for(K=S-1;K>-1;K--){if(N[K]){N[K].apply(J,[L]);}}}else{for(K=S-1;K>-1;K--){if(N[K]){N[K](L);}}}}}},subscribe:function D(I,N,R,J){var S=B[I];if(!S){S={};B[I]=S;}var M=S[N];if(!M){M={};S[N]=M;}var K=M[J||""];if(!K){K={};M[J||""]=K;}if(typeof R==="function"){var L=K.functions;if(!L){L=[];K.functions=L;}L.push(R);}else{var H=K.methods;if(!H){H={};K.methods=H;}H[R]=true;}var Q=E,P=Q[J||""];if(!P){P={};Q[J||""]=P;}var O=P[I];if(!O){O={};P[I]=O;}O[N]=true;return{id:I,type:N,callback:R,listener:J,clear:function(){mstrmojo.publisher.unsubscribe(this);}};},unsubscribe:function C(I){var R=B[I.id],O=R&&R[I.type],L=O&&O[I.listener||""];if(!L){return ;}var K=mstrmojo.array,Q=mstrmojo.hash,P=typeof I.callback,M=false;if(P==="function"){var N=L.functions;if(N){K.removeItem(N,I.callback);if(!N.length){delete L.functions;if(Q.isEmpty(L.methods)){M=true;}}}}else{var J=L.methods;if(J){delete J[I.callback];if(Q.isEmpty(J)){delete L.methods;if(!L.functions||!L.functions.length){M=true;}}}}if(M){delete O[I.listener||""];if(Q.isEmpty(O)){delete R[I.type];}}},hasSubs:function G(K,J){var I=B[K],H=I&&I[J];return !!H;},clearSubscriptions:function A(I){if(!I){I="";}var P=B,M=mstrmojo.hash,H;if(P[I]){delete P[I];}var O=E[I];if(O){for(H in O){var N=P[H],L=O[H],K;if(!N){continue;}for(K in L){var J=N[K];if(!J){continue;}delete J[I];if(M.isEmpty(J)){delete N[K];}}}}delete E[I];}});mstrmojo.publisher.NO_SRC="NO_SRC";mstrmojo.publisher.CONNECTIVITY_CHANGED_EVENT="CONNECTIVITY_CHANGED";mstrmojo.publisher.RECONCILE_END_EVENT="RECONCILE_END";}());(function(){function AJ(Au,Av){return Av||(Au||window).event;}function n(Au){var Av=parseInt(Au,10);return Av===null||isNaN(Av)?0:Av;}mstrmojo.PositionType=null;var Aq=!!document.all,AH=document.documentMode,t=navigator.userAgent,l=false,j=false,h=false,g=false,U=false,S=!Aq&&"ActiveXObject" in window,v=false;Aq=Aq||S;if(Aq){if(window.mstrConfig&&mstrConfig.isEdgeModeEnabled){l=!!t.match(/MSIE 6/);j=((!!t.match(/MSIE 7/)&&!AH)||AH===7);h=(AH===8);g=(AH===9);U=(AH===10);v=(!AH||AH<=9);}else{l=!!t.match(/MSIE 6/);j=!!t.match(/MSIE 7/);h=!!t.match(/MSIE 8/);g=!!t.match(/MSIE 9/);U=!!t.match(/MSIE 10/);v=!U;}}var f=!Aq&&!!t.match(/Firefox/),o=0,u=!!t.match(/Android/),Ag=!!t.match(/iPad/),AO=!!t.match(/iPhone/),AW=!!document.createTouch||u,s=!!t.match(/PlayBook/),Q=!!t.match(/Windows Phone/),Ar=!Aq&&!!t.match(/Trident.*rv/),e=f?"-moz-":(Aq||Ar)?"":"-webkit-",AI=f?"Moz":(U||Ar)?"":Aq?"ms":"webkit",AT=((U||Ar)?"t":"T"),AN=AI+AT+"ransition";function Al(){return AI+AT+"ransform";}function AF(){return AN+"Property";}function V(){return AN+"Duration";}function P(){return(U||f)?"transitionend":"webkitTransitionEnd";}function i(){return AI+"BoxShadow";}var Ao=Al(),Ac=AF(),AA=V(),A=P(),q=i();function AS(){if(!o&&f){var Au=t.match(/.*Firefox\/([\d|\.]*).*/);if(Au){o=parseFloat(Au[1]);}}return o;}function AY(){var Av=0,Az=0,Aw=window,Ax=document,Au=Ax.body,Ay=Ax.documentElement;if(typeof Aw.pageYOffset==="number"){Az=Aw.pageYOffset;Av=Aw.pageXOffset;}else{if(Au&&(Au.scrollLeft||Au.scrollTop)){Az=Au.scrollTop;Av=Au.scrollLeft;}else{if(Ay&&(Ay.scrollLeft||Ay.scrollTop)){Az=Ay.scrollTop;Av=Ay.scrollLeft;}}}return{x:Av,y:Az};}function AG(Au){Au=Au||0;Au=String(Au);return((Au.indexOf("%",0))!==-1)?Au:(Au+"px");}function AQ(Aw,A0,Az,Ay,Ax){if(!mstrmojo.dom.isWinPhone){Ay=(Ay||false||this.isHWAccelerated);}else{Ay=false;}var Av=Ax+(Ay?"3d":"")+"(",Au=Ay?(","+Az+")"):")";return Av+Aw+","+A0+Au;}var Ae=2,Y=3;function w(A0,Az,A3){var A2=A0.style,Aw=A2.display,Ay=this.windowDim(),Ax=AY();A2.display="block";var A1=Ay.w-A0.clientWidth,A4=Math.max(Ay.h-A0.clientHeight,0),Au={4:0,5:A1,3:A1/2},Av={1:0,3:A4/2,2:A4};A2.left=Au[Az]+Ax.x+"px";A2.top=Av[A3]+Ax.y+"px";A2.display=Aw;}function p(Ax,Aw,Ay,Au){if(Ax.addEventListener){return Ax.addEventListener(Aw,Ay,!!Au);}Ay._id=Ay._id||p.guid++;Ax.events=Ax.events||{};var Av=Ax.events[Aw];if(!Av){Av=Ax.events[Aw]={};if(Ax["on"+Aw]){Av[0]=Ax["on"+Aw];}}Av[Ay._id]=Ay;function Az(A2){A2=A2||window.event;var A1=this.events[A2.type],A0;for(A0 in A1){A1[A0].call(this,A2);}}Ax["on"+Aw]=Az;}p.guid=1;function k(Aw,Av,Ax,Au){if(!Aw){return ;}if(Aw.removeEventListener){Aw.removeEventListener(Av,Ax,!!Au);}else{if(Aw.events&&Aw.events[Av]){delete Aw.events[Av][Ax._id];}}}mstrmojo.Enum_Keys={BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46};mstrmojo.dom=mstrmojo.provide("mstrmojo.dom",{userAgent:t,isIE:Aq,isIE6:l,isIE7:j,isIE8:h,isIE9:g,isIE10:U,isIE11:S,isIEW3C:Ar,isNSIE:v,isDXIE:v,isFF:f,isWK:!!t.match(/AppleWebKit/),isSafari:!!t.match(/Safari/)&&!t.match(/Chrome/),isChrome:!!t.match(/AppleWebKit/)&&t.match(/Chrome/),isEdge:!!t.match(/Edge/),isHWAccelerated:!u,isAndroid:u,isIPad:Ag,isPlayBook:s,isWinPhone:Q,isMobile:Ag||AO||Q||u,isIOSTouch:(Ag||AO)&&!window.MSStream,supportsTouches:AW,TOUCHSTART:AW?"touchstart":"mousedown",TOUCHMOVE:AW?"touchmove":"mousemove",TOUCHEND:AW?"touchend":"mouseup",TOUCHCANCEL:AW?"touchcancel":"",RESIZE:AW?"orientationchange":"resize",CSS3_PREFIX:e,CSS3_BOXSHADOW:q,CSS3_TRANSFORM:Ao,CSS3_TRANSITION:AN,CSS3_TRANSITION_PROPERTY:Ac,CSS3_TRANSITION_DURATION:AA,CSS3_TRANSITION_END:A,cssFeatures:{GRADIENTS:"gd",ROUND_CORNERS:"rc",TEXT_ROTATION:"tr",DROP_SHADOW:"sh"},htmlFeatures:{FILE_READER:"fr"},MOUSE_BUTTON:{LEFT:1,RIGHT:2},supports:function B(Au){var Av=this.isFF&&AS();switch(Au){case this.cssFeatures.GRADIENTS:return(this.isIE||this.isIEW3C||this.isWK||Av>=3.6||this.isWinPhone);case this.cssFeatures.ROUND_CORNERS:return(this.isWK||this.isFF||this.isWinPhone||this.isIE10);case this.cssFeatures.TEXT_ROTATION:case this.cssFeatures.DROP_SHADOW:return(this.isIE||this.isWK||Av>=3.5||this.isWinPhone||this.isIE10||this.isIEW3C);case this.htmlFeatures.FILE_READER:return !!(window.FileReader);}return false;},getOSInfo:function AP(){var Az="Unknown",Av=navigator.appVersion,Ay=navigator.userAgent,Ax=Az;var Au=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];var Aw;for(Aw=0;Aw<Au.length;Aw++){var A1=Au[Aw];if(A1.r.test(Ay)){Ax=A1.s;break;}}var A0=Az;if(/Windows/.test(Ax)){A0=/Windows (.*)/.exec(Ax)[1];Ax="Windows";}switch(Ax){case"Mac OS X":A0=/Mac OS X (10[\.\_\d]+)/.exec(Ay)[1];break;case"Android":A0=/Android ([\.\_\d]+)/.exec(Ay)[1];break;case"iOS":A0=/OS (\d+)_(\d+)_?(\d+)?/.exec(Av);A0=A0[1]+"."+A0[2]+"."+(A0[3]|0);break;}return{name:Ax,version:A0};},transEndEvtNames:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},animationEndEvtNames:{WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",animation:"animationend"},replace:function r(Aw,Au){if(Aw&&Au){var Av=Aw.parentNode;if(Av){Av.replaceChild(Au,Aw);}}return Au;},attachEvent:function a(Aw,Av,Ax,Au){if(Aw.addEventListener){return Aw.addEventListener(Av,Ax,!!Au);}return Aw.attachEvent("on"+Av,Ax);},detachEvent:function Aa(Aw,Av,Ax,Au){if(!Aw){return ;}if(Aw.removeEventListener){Aw.removeEventListener(Av,Ax,!!Au);}else{Aw.detachEvent("on"+Av,Ax);}},attachMarkupEvent:function y(Ax,Aw,Au){var Av=function(Ay){mstrmojo.all[Ax].captureDomEvent(Au,window,Ay);};this.attachEvent(Aw,Au,Av);return Av;},attachOneTimeEvent:function Z(Ax,Av,Ay,Au){var Aw=function(Az){Ay(Az);if(Au){k(this,Av,Aw);}else{mstrmojo.dom.detachEvent(this,Av,Aw);}};if(Au){p(Ax,Av,Aw);}else{this.attachEvent(Ax,Av,Aw);}Ax=null;return Aw;},attachMouseMoveEvents:function D(Ax,Au){var Aw=this,Av=function(Ay){if(Au){Au(Ay);}Aw.detachEvent(document,"mousemove",Ax);Aw.detachEvent(document,"mouseup",Av);};Aw.attachEvent(document,"mousemove",Ax);Aw.attachEvent(document,"mouseup",Av);},captureDomEvent:function AM(Az,Ax,Av,Ay,Aw){var Au=mstrmojo.all[Az];if(Au){Au.captureDomEvent(Ax,Av,Ay,Aw);}},captureEventInfo:function AL(Ax){var Av=mstrmojo.hash.copy(Ax,{}),Aw=Av.hWin=Av.hWin||window,Au=Av.e=Av.e||Aw.event;Av.node=this.eventTarget(Aw,Au);Av.pos=this.getMousePosition(Au,Aw);return Av;},translate:function N(Aw,Av,Az,Ay,Au,Ax){Au=(Au&&" "+Au)||"";Aw.style[((mstrmojo.dom.isWinPhone||mstrmojo.dom.isIE9||mstrmojo.dom.isIE10)?"ms":"webkit")+"Transform"]=this.createTranslateString(Av,Az,Ay,Ax)+Au;},createTranslateString:function R(Au,Ax,Aw,Av){Au=AG(Au);Ax=AG(Ax);Aw=AG(Aw);return AQ(Au,Ax,Aw,Av,"translate");},createScaleString:function x(Au,Ax,Aw,Av){Au=Au||0;Ax=Ax||0;Aw=Aw||0;return AQ(Au,Ax,Aw,Av,"scale");},_bufferSize:200,_bufferConnects:{},attachBufferedEvent:function C(Aw,Au,Ax,Az){var Av=Aw.id+"-"+Au,Ay=this._bufferConnects[Av];if(!Ay){Ay=this._bufferConnects[Av]={elId:Aw.id,eventName:Au,timer:null,bufferSize:Az,listeners:[],callback:function(A0){mstrmojo.dom._callback(A0,mstrmojo.global,Av);return true;}};this.attachEvent(Aw,Au,Ay.callback);}Ay.listeners.push(Ax);},_callback:function Ak(Ay,Au,Aw){var Ax=this._bufferConnects[Aw],Az=Ax&&Ax.timer;if(Ax&&!Az){var Av=(Ax.bufferSize===null)?this._bufferSize:Ax.bufferSize;if(Ax.bufferSize){Ax.timer=Au.setTimeout(function(){mstrmojo.dom.updateBuffers(Aw);},Av);}else{mstrmojo.dom.updateBuffers(Aw);}}},updateBuffers:function J(Ax){var Ay=this._bufferConnects[Ax],Av=Ay&&Ay.listeners,Au=(Av&&Av.length)||0,Aw;for(Aw=0;Aw<Au;Aw++){Av[Aw]();}if(Ay&&Ay.timer){delete Ay.timer;}},detachBufferedEvent:function AD(Av,Az,A0){if(!Av){return ;}var A2=Av.id+"-"+Az,Aw=this._bufferConnects[A2],Ay=Aw&&Aw.listeners,A1=(Ay&&Ay.length)||0,Ax;if(A1){for(Ax=A1-1;Ax>-1;Ax--){if(Ay[Ax]===A0){Ay.splice(Ax,1);}}if(!Ay.length){this.detachEvent(Av,Az,Aw.callback);delete this._bufferConnects[A2];if(Aw.timer){var Au=mstrmojo.global;Au.clearTimeout(Aw.timer);}}}},eventTarget:function AB(Au,Av){Av=AJ(Au,Av);return Av.target||Av.srcElement;},isMac:function z(){return this.getOSInfo().name.toLowerCase().indexOf("mac")>=0;},isMetaKey:function L(Au,Ax){var Aw=this.getOSInfo().name.toLowerCase().indexOf("mac")>=0,Av=AJ(Au,Ax)||{};return(Av.ctrlKey&&!Aw)||(Av.metaKey&&Aw);},ctrlKey:function An(Au,Av){return(AJ(Au,Av)||{}).ctrlKey;},shiftKey:function AC(Au,Av){return(AJ(Au,Av)||{}).shiftKey;},metaKey:function c(Au,Av){return(AJ(Au,Av)||{}).metaKey;},getButton:function AU(Au,Av){return((Number(AJ(Au,Av).button))===2)?2:1;},isPrimaryMouseBtn:function Ah(Av,Au){return this.getButton(Au||window,Av)===1;},isRMC:function Ad(Av,Au){return Av&&(Av.button===2||Av.type==="contextmenu"||this.isMac()&&this.ctrlKey(Au,Av)&&Av.button===0);},getMousePosition:function m(Ax,Aw){Aw=Aw||window;var Av,A0;if(mstrmojo.dom.isIE){Ax=Ax||Aw.event;var Ay=document,Au=Ay.body,Az=Ay.documentElement;Av=Ax.clientX+Au.scrollLeft+(Az.scrollLeft||0);A0=Ax.clientY+Au.scrollTop+(Az.scrollTop||0);}else{Av=Ax.pageX;A0=Ax.pageY;}return{x:Av,y:A0};},position:function AV(Av,Aw){var Az={x:0,y:0,w:0,h:0};if(Av&&Av.getBoundingClientRect){try{Az=Av.getBoundingClientRect();}catch(Ay){Az={left:0,top:0,right:0,bottom:0,height:0,width:0};}Az={x:Az.left,y:Az.top,w:Az.right-Az.left,h:Az.bottom-Az.top};if(this.isIE6||this.isIE7){var Au=Av.ownerDocument;if(Au){var A1=Au.documentElement,A0=A1.getBoundingClientRect();Az.x-=A0.left;Az.y-=A0.top;}}}if(Aw){var Ax=AY();Az.x+=Ax.x;Az.y+=Ax.y;}return Az;},delta:function G(Aw,Au){Au=Au||document.body;var Av=this.position(Aw),Ax=this.position(Au);return{x:Math.round(Av.x-Ax.x),y:Math.round(Av.y-Ax.y)};},windowDim:function T(){var Au=0,Aw=0,Ax=window,Ay=document,Az=Ay.documentElement,Av=Ay.body;if(typeof (Ax.innerWidth)=="number"&&typeof (Ax.innerHeight)=="number"){Au=Ax.innerWidth;Aw=Ax.innerHeight;}else{if(Az&&(Az.clientWidth||Az.clientHeight)){Au=Az.clientWidth;Aw=Az.clientHeight;}else{if(Av&&(Av.clientWidth||Av.clientHeight)){Au=Av.clientWidth;Aw=Av.clientHeight;}}}return{w:Au,h:Aw};},center:function AK(Au){w.call(this,Au,Y,Y);},bottomCenter:function E(Au){w.call(this,Au,Y,Ae);},clearBrowserHighlights:function M(Au){Au=Au||self;if(!Au.getSelection){var A0=Au.document,Az=A0&&A0.selection,Ax=Az&&Az.empty;if(Ax){try{Az.empty();}catch(Aw){}}}else{var Av=Au.getSelection,Ay=Av&&Au.getSelection();if(Ay&&!Ay.isCollapsed){if(Ay.empty){Ay.empty();}else{if(Ay.removeAllRanges){Ay.removeAllRanges();}}}}},findAncestorByAttr:function AR(Ay,Aw,Av,Au){var Az=Av?Ay:Ay&&Ay.parentNode;while(Az&&(Az!==Au)){var Ax=Az.getAttribute&&Az.getAttribute(Aw);if(Ax!=null){return{node:Az,value:Ax};}Az=Az.parentNode;}return null;},findAncestorByName:function Am(Aw,Az,Av,Au){Az=Az&&Az.toLowerCase();var Ax=Av?Aw:Aw&&Aw.parentNode;while(Ax&&(Ax!==Au)){var Ay=Ax.nodeName;if(Ay&&(Ay.toLowerCase()===Az)){return Ax;}Ax=Ax.parentNode;}return null;},contains:function K(Ax,Ay,Av,Au){var Aw=Ay;if(!Av){Aw=Aw.parentNode;}while(Aw){if(Aw===Ax){return true;}if(Aw===Au){break;}Aw=Aw.parentNode;}return false;},toggleSelection:function As(Av,Au){Av.setAttribute("unselectable",Au?"off":"on");mstrmojo.css.toggleClass(Av,"unselectable",!Au);Av.onselectstart=function(){return Au;};if(!Au){this.clearBrowserHighlights();}},preventDefault:function X(Au,Av){Av=Av||Au.event;if(Av.preventDefault){Av.preventDefault();}else{Av.returnValue=false;}},stopPropogation:function O(Au,Av){Av=Av||Au.event;if(Av.stopPropagation){Av.stopPropagation();}else{Av.cancelBubble=true;}},firstTouch:function AX(Au,Av){return Av&&Av.touches&&Av.touches.length?Av.touches[0]:(Av||Au.event);},firstChangedTouch:function Af(Au,Av){return Av&&Av.changedTouches&&Av.changedTouches.length?Av.changedTouches[0]:(Av||Au.event);},isLandscape:function W(){return !this.supportsTouches||(Math.abs(window.orientation)===90);},findWidget:function AZ(Au){while(Au){var Av=Au.mstrmojoId;if(Av!==null&&Av!==undefined){return mstrmojo.all[Av];}Au=Au.parentNode;}return null;},setCaret:function H(Au,Aw){if(Au.setSelectionRange){Au.focus();Au.setSelectionRange(Aw,Aw);}else{if(Au.createTextRange){var Av=Au.createTextRange();Av.move("character",Aw);Av.select();}}},setInputSelection:function b(Au){if(Au.select){Au.focus();Au.select();}else{if(Au.createTextRange){Au.createTextRange().select();}}},setElementSelection:function d(Aw){if(window.getSelection){var Au=document.createRange(),Av=window.getSelection();Au.selectNodeContents(Aw);Av.removeAllRanges();Av.addRange(Au);}else{if(document.body.createTextRange){var Ax=document.body.createTextRange();Ax.moveToElementText(Aw);Ax.select();}}},getHorizontalScroll:function Ap(){return AY().x;},getVerticalScroll:function AE(){return AY().y;},getMaxScrollHeight:function I(){return mstrmojo.dom.windowDim().h-22;},getComputedScrollbarWidth:function Ai(Av){if(Av){var Au=mstrmojo.css.getComputedStyle(Av);if(Au){return(Av.offsetWidth-n(Au.borderLeftWidth)-n(Au.borderRightWidth)-Av.clientWidth);}}return null;},removeNode:function Aj(Aw){var Av=document.getElementById(Aw),Au=Av&&Av.parentNode;if(Au){return Au.removeChild(Av);}},redirectUrlToFormWrapper:function Ab(Ax){var Aw=function Aw(Az){Az.preventDefault();var A1=Az.target,A0=A1&&A1.href;if(A0&&window&&window.FormWrapper){window.FormWrapper.openPage(A0.replace(/ /g,"%20"));}};var Ay=Ax&&Ax.getElementsByTagName("a"),Av=Ay.length;for(var Au=0;Au<Av;Au++){if(!Ay[Au].openWithFormWrapper){Ay[Au].addEventListener("click",Aw,true);Ay[Au].openWithFormWrapper=true;}}},checkTagName:function At(Av,Au){return Av&&Av.tagName&&Av.tagName.toLowerCase()===Au;},getComputedMargin:function F(Av){var Au=mstrmojo.css.getComputedStyle(Av);return[parseInt(Au.marginTop,10)||0,parseInt(Au.marginRight,10)||0,parseInt(Au.marginBottom,10)||0,parseInt(Au.marginLeft,10)||0];}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.array","mstrmojo.string");var W=mstrmojo.dom,L=mstrmojo.string,a=mstrmojo.array;mstrmojo.css=mstrmojo.provide("mstrmojo.css",{DISPLAY_TABLE:W.isNSIE?"block":"table",DISPLAY_CELL:W.isNSIE?"block":"table-cell",MINHEIGHT:W.isIE6?"height":"minHeight",addClass:function M(h,g){if(h){if(g.constructor!==Array){g=[g];}var d=h.className||"",k=" "+d+" ",e=false,b=g.length,f;for(f=0;f<b;f++){var j=g[f];if(!k.match(new RegExp("\\s"+j+"\\s"))){d+=" "+j;e=true;}}if(e){h.className=L.trim(d);}}return h;},removeClass:function O(f,e){if(!f){return ;}if(e.constructor!==Array){e=[e];}var c=" "+(f.className||"")+" ",b=e.length,d;for(d=0;d<b;d++){c=c.replace(new RegExp("\\s"+e[d]+"\\s","g")," ");}f.className=L.trim(c);},addWidgetCssClass:function N(g,e){var c=g.cssClass,f=(c&&c.split(" "))||[],d;e=[].concat(e);for(d=0;d<e.length;d++){var b=e[d];if(a.indexOf(f,b)===-1){f.push(b);}}g.cssClass=f.join(" ");},removeWidgetCssClass:function G(h,f){var c=h.cssClass,g=(c&&c.split(" "))||[],e;f=[].concat(f);for(e=0;e<f.length;e++){var b=f[e];var d=a.indexOf(g,b);if(d!==-1){g.splice(d,1);}}h.cssClass=g.join(" ");},toggleClass:function V(e,d,c){if(c){this.addClass(e,d);}else{this.removeClass(e,d);}},hasClass:function A(d,e){if(d){var b=" "+(d.className||"")+" ";return !!b.match(new RegExp("\\s"+e+"\\s"));}return false;},applyShadow:function H(f,g,e,d,b){var c=f.style;if(W.isDXIE){c.filter+="progid:DXImageTransform.Microsoft.dropshadow(OffX="+g+"px, OffY="+e+"px, Color='"+b+"')";}else{if(W.isFF||W.isWK||W.isIE10){c[W.CSS3_BOXSHADOW]=g+"px "+e+"px "+d+"px "+b;}}},removeShadow:function C(c){var b=c.style;if(W.isFF||W.isWK||W.isIE10){b[W.CSS3_BOXSHADOW]="";}},setOpacity:function X(c,e){if(W.isDXIE&&!W.isIE9){var f=c.currentStyle.filter;var b=null;if(f.length>0){b=c.filters["DXImageTransform.Microsoft.Alpha"];}if(b){b.opacity=e;b.enabled=(e!==100);}else{if(e<100){var d="progid:DXImageTransform.Microsoft.Alpha(Opacity="+e+")";c.style.filter=(f||"")+" "+d;}}}else{c.style.opacity=e/100-(W.isIE9?0.00001:0);}},buildGradient:function P(c,e,b){if(W.supports(W.cssFeatures.GRADIENTS)){var d={};if(W.isDXIE){d.n="filter";d.v="progid:DXImageTransform.Microsoft.Gradient(GradientType="+c+",StartColorStr='"+e+"',EndColorStr='"+b+"')";}else{if(W.isFF){d.n="background-image";d.v="-moz-linear-gradient("+((c===0)?"top":"left")+","+e+","+b+")";}else{if(W.isWK){d.n="background";d.v="-webkit-gradient(linear,"+((c===0)?"left top, left bottom":"left top, right top")+",from("+e+"),to("+b+"))";}else{if(W.isIE10||W.isIEW3C){d.n="background";d.v="linear-gradient("+((c===0)?"to bottom":"to right")+","+e+","+b+")";}}}}return d;}return null;},buildRoundCorners:function R(g,f){if(W.supports(W.cssFeatures.ROUND_CORNERS)){var c=g+"px";var j=c+(f?" "+c+" 0 0":"")+";";if(W.isFF||W.isWinPhone||W.isIE10){return"border-radius:"+j;}if(W.isWK){if(!f){return"-webkit-border-radius:"+c+";";}var h=["left","right"],e=[],b=-1,d;for(d=0;d<2;d++){e[++b]="-webkit-border-top-"+h[d]+"-radius:"+c;e[++b]="-webkit-border-bottom-"+h[d]+"-radius:0";}return e.join(";");}}return"";},getBorderWidthsOrPaddings:function E(d,g){var h={t:0,r:0,b:0,l:0,h:0,w:0};if(!d){return h;}var e=d.split(" "),c=e.length,f;for(f=0;f<c;f++){e[f]=Math.round(g*parseFloat(e[f])/72);}if(c<4){if(c===1){e[1]=e[2]=e[3]=e[0];}else{e[3]=e[1];if(c===2){e[2]=e[0];}}}h.t=e[0];h.r=e[1];h.b=e[2];h.l=e[3];h.h=h.t+h.b;h.w=h.l+h.r;return h;},getBorderWidths:function I(c,b){return this.getBorderWidthsOrPaddings(c,b);},getPaddings:function D(c,b){return this.getBorderWidthsOrPaddings(c,b);},parkAfterFade:function B(b){var c=b.target.style;if(c.opacity===0){c.left="-10000px";window.setTimeout(function(){c.opacity=0.99;},0);return true;}return false;},getStyleValue:function J(b,f){var d=(f==="float"),e;if(b.currentStyle){f=d?"styleFloat":f;e=b.currentStyle[f];}else{if(document.defaultView&&document.defaultView.getComputedStyle){f=d?"cssFloat":f;var c=document.defaultView.getComputedStyle(b,null);e=c?c[f]:null;}}return e;},getComputedStyle:function U(b,d){var c=(window.getComputedStyle)?function(e,f){return window.getComputedStyle(e,f||null);}:function(e){return e.currentStyle||{};};mstrmojo.css.getComputedStyle=c;return c(b,d);},getCssTextFromObj:function F(d){var c="",b;for(b in d){c+=b+":"+d[b]+";";}return c;},onTransitionEnd:function Z(d,b){var c="transition",e=window.Modernizr;if(e.testProp(c)){W.attachOneTimeEvent(d,W.transEndEvtNames[e.prefixed(c)],b);}else{window.setTimeout(b,0);}},onAnimationEnd:function T(d,b){var c="animation",e=window.Modernizr;if(e.testProp(c)){W.attachEvent(d,W.animationEndEvtNames[e.prefixed(c)],b);}else{window.setTimeout(b,0);}},flashClass:function Q(c,b,e){this.toggleClass(c,b,true);var d=this;window.setTimeout(function(){d.toggleClass(c,b,false);},e);},convertCssToCamelCase:function K(b){return b.replace(/\-([a-z])/gi,function(c,d){return d.toUpperCase();});},printCSSInfo:function Y(f){var l=document.styleSheets,o=l.length,g,h;for(h=0;h<o;h++){var k=l[h],m=k.cssRules,d=m?m.length:0,n=0;for(g=0;g<d;g++){var b=m[g].selectorText;if(b){try{n+=b.split(",").length;}catch(e){}}}var c=k.href;if(!f||(c&&c.indexOf(f)>-1)){console.log("Stylesheet: "+c||"Inline CSS Block");console.log("Total rules: "+d);console.log("Total selectors: "+n);}}},cssEscape:function S(h){if(arguments.length===0){throw new TypeError("`CSS.escape` requires an argument.");}var e=String(h),g=e.length,d=-1,f,b="",c=e.charCodeAt(0);while(++d<g){f=e.charCodeAt(d);if(f==0){b+="\uFFFD";continue;}if((f>=1&&f<=31)||f==127||(d==0&&f>=48&&f<=57)||(d==1&&f>=48&&f<=57&&c==45)){b+="\\"+f.toString(16)+" ";continue;}if(d==0&&g==1&&f==45){b+="\\"+e.charAt(d);continue;}if(f>=128||f==45||f==95||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122){b+=e.charAt(d);continue;}b+="\\"+e.charAt(d);}return b;}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash");mstrmojo.requiresDescs(521,522,523,524,525,526,529,530,534,535,546,547,587,686,687,688,696,746,1101,1102,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,2171,2202,2203,2204,2219,2220,2784,2785,2786,2795,2796,3086,3344,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3945,3946,4406,4407,5282,5283,5924,5925,6076,6077,6078,6079,6080,6081,6082,7899,7900,7901,7902,7903,9379,9380,9381,9382,9383,9384,9385,12298,13889,13890,13896,13897);mstrmojo.locales=mstrmojo.provide("mstrmojo.locales",{load:function(C){var A=this;if(this.isLoaded){C();C=null;}else{var B={taskId:"getLocaleInfo"};if(mstrConfig&&mstrConfig.isAddSessionState&&mstrApp&&mstrApp.sessionState){B.sessionState=mstrApp.sessionState;}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(D){A.update(D);C();C=null;if(mstrmojo.expr){mstrmojo.expr.onLocaleUpdated();}mstrmojo.locales.isLoaded=true;},failure:function(D){alert(D.getResponseHeader("X-MSTR-TaskFailureMsg"));}},B);}},update:function(A){if(A){mstrmojo.hash.copy(mstrmojo.hash.obj2array(A),this);}},isLoaded:false,datetime:{MONTHNAME_SHORT:[mstrmojo.desc(3852,"Jan"),mstrmojo.desc(3853,"Feb"),mstrmojo.desc(3854,"Mar"),mstrmojo.desc(3855,"Apr"),mstrmojo.desc(3856,"May"),mstrmojo.desc(3857,"Jun"),mstrmojo.desc(3858,"Jul"),mstrmojo.desc(3859,"Aug"),mstrmojo.desc(3860,"Sep"),mstrmojo.desc(3861,"Oct"),mstrmojo.desc(3862,"Nov"),mstrmojo.desc(3863,"Dec")],MONTHNAME_FULL:[mstrmojo.desc(1956,"January"),mstrmojo.desc(1957,"February"),mstrmojo.desc(1958,"March"),mstrmojo.desc(1959,"April"),mstrmojo.desc(1960,"May"),mstrmojo.desc(1961,"June"),mstrmojo.desc(1962,"July"),mstrmojo.desc(1963,"August"),mstrmojo.desc(1964,"September"),mstrmojo.desc(1965,"October"),mstrmojo.desc(1966,"November"),mstrmojo.desc(1967,"December")],dayShortNames:["S","M","T","W","T","F","S"],dayNames:[mstrmojo.desc(9379,"Sunday"),mstrmojo.desc(9380,"Monday"),mstrmojo.desc(9381,"Tuesday"),mstrmojo.desc(9382,"Wednesday"),mstrmojo.desc(9383,"Thursday"),mstrmojo.desc(9384,"Friday"),mstrmojo.desc(9385,"Saturday")],DATEINPUTFORMATS:["M/d/yy","M/d/yyyy","MMM d, yy"],TIMEINPUTFORMATS:["h:mm a","H:mm","h:mm:ss a","H:mm:ss","h:mm:ss a z"],DATEOUTPUTFORMAT:"M/d/yyyy",TIMEOUTPUTFORMAT:"h:mm:ss a",DATEDISPLAYFORMAT:"M/d/yy",TIMEDISPLAYFORMAT:"h:mm:ss",AM_NAME:"AM",PM_NAME:"PM",TWODIGITYEARSTART:"2029"},number:{NUMBERINPUTFORMATS:{"0":"#,##0.###"},INTEGERINPUTFORMATS:{"0":"#,##0"},NUMBEROUTPUTFORMAT:"#0.##########",INTEGEROUTPUTFORMAT:"#0",DECIMALSEPARATOR:".",THOUSANDSEPARATOR:","},expression:{METRICVALIDATIONLEVEL:"0",PRESERVEWHITESPACE:false,Include:[{did:"1",n:mstrmojo.desc(3945,"Include")},{did:"2",n:mstrmojo.desc(3946,"Exclude")}],BranchQual:[{did:"19",n:mstrmojo.desc(5282,"AND")},{did:"20",n:mstrmojo.desc(5283,"OR")},{did:"21",n:mstrmojo.desc(12298,"NOT")},{did:"19_21",n:mstrmojo.desc(5924,"AND NOT")},{did:"20_21",n:mstrmojo.desc(5925,"OR NOT")}],RootOperator:[{did:"19",n:mstrmojo.desc(534,"All selections")},{did:"20",n:mstrmojo.desc(535,"Any selection")}],ExprType:[{did:"2",n:mstrmojo.desc(546,"Qualify")},{did:"5",n:mstrmojo.desc(547,"Select")}],DimtyLevels:[{did:"1",n:mstrmojo.desc(2171,"Default")},{did:"2",n:mstrmojo.desc(3086,"Metric")},{did:"3",n:mstrmojo.desc(3344,"Report")}],Attribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,76",n:mstrmojo.desc(686,"Contains"),t:1,tp:1},{did:"1,79",n:mstrmojo.desc(2784,"Does not contain"),t:1,tp:1},{did:"1,77",n:mstrmojo.desc(687,"Begins with"),t:1,tp:1},{did:"1,80",n:mstrmojo.desc(2785,"Does not begin with"),t:1,tp:1},{did:"1,78",n:mstrmojo.desc(688,"Ends with"),t:1,tp:1},{did:"1,81",n:mstrmojo.desc(2786,"Does not end with"),t:1,tp:1},{did:"1,18",n:mstrmojo.desc(525,"Like"),t:1,tp:1},{did:"1,43",n:mstrmojo.desc(526,"Not Like"),t:1,tp:1},{did:"1,54",n:mstrmojo.desc(2202,"Is Null"),t:1,tp:1},{did:"1,55",n:mstrmojo.desc(2203,"Is Not Null"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1}],Metric:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,54",n:mstrmojo.desc(2202,"Is Null"),t:1,tp:1},{did:"1,55",n:mstrmojo.desc(2203,"Is Not Null"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1},{did:"2,1",n:mstrmojo.desc(529,"Highest"),t:2,tp:2},{did:"2,2",n:mstrmojo.desc(530,"Lowest"),t:2,tp:2},{did:"3,1",n:mstrmojo.desc(4407,"Highest %"),t:3,tp:3},{did:"3,2",n:mstrmojo.desc(4406,"Lowest %"),t:3,tp:3}],MetricRP:[{did:"2,13",n:mstrmojo.desc(13897,"Rank between highest"),t:2,tp:2},{did:"2,4",n:mstrmojo.desc(1101,"Exclude highest"),t:2,tp:2},{did:"2,3",n:mstrmojo.desc(13896,"Rank between lowest"),t:2,tp:2},{did:"2,5",n:mstrmojo.desc(1102,"Exclude lowest"),t:2,tp:2},{did:"3,13",n:mstrmojo.desc(13890,"Between highest")+"%",t:3,tp:3},{did:"3,4",n:mstrmojo.desc(1101,"Exclude highest")+"%",t:3,tp:3},{did:"3,3",n:mstrmojo.desc(13889,"Between lowest")+"%",t:3,tp:3},{did:"3,5",n:mstrmojo.desc(1102,"Exclude lowest")+"%",t:3,tp:3}],MDXAttribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1},{did:"1,44",n:mstrmojo.desc(746,"Not between"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1}],MDXMetric:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1}],SAPAttribute:[{did:"1,6",n:mstrmojo.desc(2795,"Equals"),t:1,tp:1},{did:"1,7",n:mstrmojo.desc(2796,"Does not equal"),t:1,tp:1},{did:"1,22",n:mstrmojo.desc(587,"In"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2204,"Not In"),t:1,tp:1},{did:"1,8",n:mstrmojo.desc(521,"Greater than"),t:1,tp:1},{did:"1,10",n:mstrmojo.desc(522,"Greater than or equal to"),t:1,tp:1},{did:"1,9",n:mstrmojo.desc(523,"Less than"),t:1,tp:1},{did:"1,11",n:mstrmojo.desc(524,"Less than or equal to"),t:1,tp:1},{did:"1,17",n:mstrmojo.desc(696,"Between"),t:1,tp:1}],Element:[{did:"1,22",n:mstrmojo.desc(2219,"In List"),t:1,tp:1},{did:"1,57",n:mstrmojo.desc(2220,"Not In List"),t:1,tp:1}]},validation:{requiredFieldError:mstrmojo.desc(6078,"This field is required."),invalidCharError:mstrmojo.desc(7899,"This field contains invalid characters for #."),invalidDateStringError:mstrmojo.desc(7900,"This field contains invalid date/time string."),invalidNumericFormatError:mstrmojo.desc(7901,"This field contains numeric value with incorrect format."),outofRangeError:mstrmojo.desc(6079,"This field should be # between ## and ###."),noLessMinError:mstrmojo.desc(6081,"This field should be # greater than or equal to ##."),noGreaterMaxError:mstrmojo.desc(6080,"This field should be # less than or equal to ###."),failRegexTestError:mstrmojo.desc(6082,"This field failed regular expression validation."),invalidValueInListError:mstrmojo.desc(7902,"One of the value (#) in this list is not valid."),integerDataType:mstrmojo.desc(6076,"an Integer value"),numericDataType:mstrmojo.desc(6077,"a Number value"),dateDataType:mstrmojo.desc(7903,"a Date/Time value")},color:{colors:[{n:"Black",v:"#000000"},{n:"Brown",v:"#993300"},{n:"Olive Green",v:"#333300"},{n:"Dark Green",v:"#003300"},{n:"Dark Teal",v:"#003366"},{n:"Dark Blue",v:"#000080"},{n:"Indigo",v:"#333399"},{n:"Grey-80%",v:"#333333"},{n:"Dark Red",v:"#800000"},{n:"Orange",v:"#FF6600"},{n:"Dark Yellow",v:"#808000"},{n:"Green",v:"#008000"},{n:"Teal",v:"#008080"},{n:"Blue",v:"#0000FF"},{n:"Blue-Grey",v:"#666699"},{n:"Grey-50%",v:"#808080"},{n:"Red",v:"#FF0000"},{n:"Light Orange",v:"#FF9900"},{n:"Lime",v:"#99CC00"},{n:"Sea Green",v:"#339966"},{n:"Aqua",v:"#33CCCC"},{n:"Light Blue",v:"#3366FF"},{n:"Violet",v:"#800080"},{n:"Grey-40%",v:"#969696"},{n:"Pink",v:"#FF00FF"},{n:"Gold",v:"#FFCC00"},{n:"Yellow",v:"#FFFF00"},{n:"Bright Green",v:"#00FF00"},{n:"Turquoise",v:"#00FFFF"},{n:"Sky Blue",v:"#00CCFF"},{n:"Plum",v:"#993366"},{n:"Grey-25%",v:"#C0C0C0"},{n:"Rose",v:"#FF99CC"},{n:"Tan",v:"#FFCC99"},{n:"Light Yellow",v:"#FFFF99"},{n:"Light Green",v:"#CCFFCC"},{n:"Light Turquoise",v:"#CCFFFF"},{n:"Pale Blue",v:"#99CCFF"},{n:"Lavender",v:"#CC99FF"},{n:"White",v:"#ffffff"}],userPalette:[{n:"#F00E0E",v:"#F00E0E"},{n:"#080000",v:"#080000"},{n:"#E81A1A",v:"#E81A1A"},{n:"#6E0909",v:"#6E0909"},{n:"#4F2828",v:"#4F2828"},{n:"#141212",v:"#141212"},{n:"#D60202",v:"#D60202"},{n:"#C40404",v:"#C40404"}]}});}());(function(){mstrmojo.requiresCls("mstrmojo.locales");var X=function(){return mstrmojo.locales.datetime;},L=mstrmojo.string;mstrmojo.date=mstrmojo.provide("mstrmojo.date",{monthNumbers:{Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},REGEXPS:{DATES:{},TIMES:{}},CACHE:{PARSEDATE:{CONTAINS:{},EQUALS:{}},PARSETIME:{CONTAINS:{},EQUALS:{}}},now:Date.now||function D(){return new Date().getTime();},isDate:function Y(b,f,a){var d=this.parseDate(b,a);var e=!!(d&&this.doesDateExist(d.month,d.day,d.year));if(f){if(e){var c=this.formatDateInfo(d,X().DATEOUTPUTFORMAT);if(a){return{match:d.match,formatted:c};}return c;}return null;}return !!e;},formatDateInfo:function R(d,f){if(!f){return"";}var a=d.day,e=d.month,c=d.year;var b=f.replace(/dd/g,this.formatInteger(a,2)).replace(/d/g,Number(a)).replace(/yyyy/g,Number(c)).replace(/yy/g,this.formatInteger(Number(c)%100,2)).replace(/MMM/g,"~~~~").replace(/MM/g,"@@").replace(/M/g,"^").replace(/MMMM/g,X().MONTHNAME_FULL[Number(e)-1]).replace(/\~\~\~\~/g,X().MONTHNAME_SHORT[Number(e)-1]).replace(/\@\@/g,this.formatInteger(e,2)).replace(/\^/g,Number(d.month));return b;},parseDate:function Z(l,f,j){if(l==null){return false;}if(typeof l!=="string"){l=String(l);}l=L.trim(l);var a=this.CACHE.PARSEDATE[f?"CONTAINS":"EQUALS"],c=a[l];if(c||(c===null)){return c;}var b=null;var h;if(j){h=[j];}else{h=[].concat(X().DATEINPUTFORMATS);h.unshift(X().DATEOUTPUTFORMAT);}var d,e;for(d=0,e=h.length;d<e;d++){var g=this._buildRegExp4DateFormat(h[d]),k=g&&l.match(f?g.reContains:g.reEquals);if(k){b={match:k[0],year:g.yearIndex&&this.fourDigitYear(k[g.yearIndex]),day:g.dayIndex&&parseInt(Number(k[g.dayIndex]),10),month:g.monthIndex&&this.numericMonth(k[g.monthIndex])};break;}}a[l]=b;return b;},isTime:function I(b,e,a){var f=this.parseTime(b,a);var d=!!(f&&this.doesTimeExist(f.hour,f.min,f.sec));if(e){if(d){var c=this.formatTimeInfo(f,X().TIMEOUTPUTFORMAT);if(a){return{match:f.match,formatted:c};}return c;}return null;}return !!d;},parseTime:function J(m,f,k){if(m==null){return false;}if(typeof m!=="string"){m=String(m);}m=L.trim(m);var a=this.CACHE.PARSETIME[f?"CONTAINS":"EQUALS"],c=a[m];if(c||(c===null)){return c;}var b=null;var j;if(k){j=[k];}else{j=[].concat(X().TIMEINPUTFORMATS);j.unshift(X().TIMEOUTPUTFORMAT);}var d,e;for(d=0,e=j.length;d<e;d++){var h=this._buildRegExp4TimeFormat(j[d]),l=h&&m.match(f?h.reContains:h.reEquals);if(l){var g=h.ampmIndex&&l[h.ampmIndex];b={match:l[0],hour:h.hourIndex&&this.capitalHour(l[h.hourIndex],g),min:h.minIndex&&parseInt(Number(l[h.minIndex]),10),sec:h.secIndex&&parseInt(Number(l[h.secIndex]),10)};break;}}a[m]=b;return b;},formatTimeInfo:function S(d,b){if(!b){return"";}var c=!(Number(d.hour)%12)?12:(Number(d.hour)%12),a=b.replace(/HH/g,this.formatInteger(d.hour,2)).replace(/H/g,Number(d.hour)).replace(/hh/g,this.formatInteger(c,2)).replace(/h/g,c).replace(/mm/g,this.formatInteger(Number(d.min)||0,2)).replace(/m/g,Number(d.min)||0).replace(/ss/g,this.formatInteger(Number(d.sec)||0,2)).replace(/s/g,Number(d.sec)||0).replace(/a/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME).replace(/tt/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME).replace(/AM\/PM/g,(Number(d.hour)<12)?X().AM_NAME:X().PM_NAME);return a;},doesTimeExist:function G(f,b,e){var d=parseInt(f,10);if(d>=0&&d<=23){var a=parseInt(b,10);if(a>=0&&a<=59){if(!e){return true;}var c=parseInt(e,10);if(c>=0&&c<=59){return true;}}}return false;},capitalHour:function C(a,b){a=parseInt(Number(a),10);if(b&&(b.match(X().AM_NAME)||b.match(/AM/i))){return a%12;}if(b&&(b.match(X().PM_NAME)||b.match(/PM/i))){return 12+(a%12);}return a;},getTimeStamp:function O(){var b=new Date();var a=[b.getMonth()+1,b.getDate(),b.getFullYear()];var e=[b.getHours(),b.getMinutes(),b.getSeconds()];var d=(e[0]<12)?"AM":"PM";e[0]=(e[0]<12)?e[0]:e[0]-12;e[0]=e[0]||12;for(var c=1;c<3;c++){if(e[c]<10){e[c]="0"+e[c];}}return a.join("-")+" "+e.join("")+" "+d;},isDateAndOrTime:function V(a,b){return this.isDateTime(a,b)||this.isDate(a,b)||this.isTime(a,b);},isDateTime:function B(j,a){var e=this.parseDateAndOrTime(j),h=e&&e.date,d=e&&e.time,g=!!h&&!!d&&this.doesDateExist(h.month,h.day,h.year)&&this.doesTimeExist(d.hour,d.min,d.sec);if(a){if(g){var b=this.formatDateInfo(h,X().DATEOUTPUTFORMAT),c=this.formatTimeInfo(d,X().TIMEOUTPUTFORMAT),i=j.indexOf(h.match),f=j.indexOf(d.match);return(f<i)?c+" "+b:b+" "+c;}return null;}return !!g;},parseDateAndOrTime:function Q(b,a,f){var c=this.parseDate(b,true,a);var d=L.trim((c&&c.match)?b.replace(c.match,""):b),e=this.parseTime(d,false,f);if(!c&&!e){return null;}return{date:c,time:e};},inDateTimeRange:function P(c,e,h){var b=this.parseDateAndOrTime(c),f=b&&b.date,i=b&&b.time;if(!f&&!i){return 0;}if(e!=null){var d=this.parseDateAndOrTime(e);if(f&&d&&d.date){var j=this.compareDate(f,d.date);if(j<0){return -1;}if(j==0){if(i&&d.time&&(this.compareTime(i,d.time)<0)){return -1;}}}}if(h!=null){var a=this.parseDateAndOrTime(h);if(f&&a&&a.date){var g=this.compareDate(f,a.date);if(g>0){return 1;}if(g==0){if(i&&a.time&&(this.compareTime(i,a.time)>0)){return 1;}}}}return 0;},compareDate:function A(c,a){if(c===a){return 0;}var d=typeof c==="string"?this.parseDate(c):c,b=typeof a==="string"?this.parseDate(a):a;if(!d){return -1;}if(!b){return 1;}return(d.year-b.year)||(d.month-b.month)||(d.day-b.day)||0;},compareTime:function K(b,a){if(b===a){return 0;}var d=typeof b==="string"?this.parseTime(b):b,c=typeof a==="string"?this.parseTime(a):a;if(!d){return -1;}if(!c){return 1;}return(d.hour-c.hour)||(d.min-c.min)||(d.sec-c.sec)||0;},compareDateTime:function U(b,a){return this.compareDate(b,a)||this.compareTime(b,a);},compareDateAndOrTime:function E(h,f){if(h===f){return 0;}var b=typeof h==="string"?this.parseDateAndOrTime(h):h,a=typeof f==="string"?this.parseDateAndOrTime(f):f;if(!b){return -1;}if(!a){return 1;}var g=b.date,e=a.date,d=b.time,c=a.time;return this.compareDate(g,e)||this.compareTime(d,c);},_buildRegExp4DateFormat:function N(c){if(!c){return null;}var e=this.REGEXPS.DATES[c];if(!e){if(!this.REGEXPS.MONTHNAME_FULL){this.REGEXPS.MONTHNAME_FULL=X().MONTHNAME_FULL.join("|");this.REGEXPS.MONTHNAME_SHORT=X().MONTHNAME_SHORT.join("|");}e=this.REGEXPS.DATES[c]={};e.formatStr=c;var b=e.reStr=c.replace(/([^M|d|y|\s])/g,"\\$1").replace(/dd/g,"~~~~").replace(/d/g,"(\\d{1,2})").replace(/\~\~\~\~/g,"(\\d\\d)").replace(/yyyy/g,"(\\d\\d\\d\\d)").replace(/yy/g,"(\\d\\d)").replace(/MMMM/g,"@@@@").replace(/MMM/g,"@@@").replace(/MM/g,"(\\d\\d)").replace(/M/g,"(\\d{1,2})").replace("@@@@","("+this.REGEXPS.MONTHNAME_FULL+")").replace("@@@","("+this.REGEXPS.MONTHNAME_SHORT+")");e.reEquals=new RegExp("^"+b+"$");e.reContains=new RegExp("^"+b+"\\b");var f=[{key:"monthIndex",index:c.indexOf("M")},{key:"dayIndex",index:c.indexOf("d")},{key:"yearIndex",index:c.indexOf("y")}];f.sort(function(h,g){return h.index-g.index;});var a=1,d;for(d=0;d<3;d++){e[f[d].key]=f[d].index>-1?a++:null;}}return e;},_buildRegExp4TimeFormat:function F(d){if(!d){return null;}var f=this.REGEXPS.TIMES[d];if(!f){if(!this.REGEXPSTR_AMPM){this.REGEXPSTR_AMPM=[X().AM_NAME,X().PM_NAME,String(X().AM_NAME).toLowerCase(),String(X().PM_NAME).toLowerCase()].join("|");}f=this.REGEXPS.TIMES[d]={};f.formatStr=d;var c=d.replace(/\'\'/g,'"');var g=c.match(/\'(.+?)\'/g);c.replace(/\'(.+?)\'/g,"*");c=c.replace(/([^H|h|m|s|z|Z|a|t|\s|A|P|M|\/])/g,"\\$1").replace(/HH|hh/g,"(\\d\\d)").replace(/H|h/g,"(\\d{1,2})").replace(/mm/g,"(\\d\\d)").replace(/m/g,"(\\d{1,2})").replace(/ss/g,"(\\d\\d)").replace(/s/g,"(\\d{1,2})").replace(/a/g,"("+this.REGEXPSTR_AMPM+")").replace(/AM\/PM/,"("+this.REGEXPSTR_AMPM+")").replace(/tt/g,"("+this.REGEXPSTR_AMPM+")").replace(/z|Z/g,"(.+?)");var e,a;for(e=1,a=(g&&g.length)||0;e<a;e++){c=c.replace(/\*/,g[e]);}c=c.replace(/\"/g,"'");f.reEquals=new RegExp("^"+c+"$");f.reContains=new RegExp(c);var h=[{key:"hourIndex",index:d.search(/h|H/)},{key:"minIndex",index:d.indexOf("m")},{key:"secIndex",index:d.indexOf("s")},{key:"ampmIndex",index:d.search(/tt|a|AM\/PM/)},{key:"zoneIndex",index:d.search(/z|Z/)}];h.sort(function(j,i){return j.index-i.index;});var b=1;for(e=0;e<5;e++){f[h[e].key]=h[e].index>-1?b++:null;}}return f;},doesDateExist:function M(d,a,b){var c=new Date(b,d-1,a);return b==c.getFullYear()&&d==c.getMonth()+1&&a==c.getDate();},fourDigitYear:function T(b){b=parseInt(Number(b),10);if(!isNaN(b)){var a=(X().TWODIGITYEARSTART%100)||0;if(b>=0&&b<=a){b=2000+b;}else{if(b>a&&b<100){b=1900+b;}}}return b;},numericMonth:function W(e){var d=parseInt(Number(e),10),c=mstrmojo.array;if(!isNaN(d)){return d;}var a=(e&&e.length)||0,b=-1;if(a){if(a<=3){b=c.indexOf(X().MONTHNAME_SHORT,e);}if(b===-1){b=c.indexOf(X().MONTHNAME_FULL,e);}}return b+1;},formatInteger:function H(c,b){var f=String(c),e=Math.max(b-f.length,0);if(e>0){var a=[f],d;for(d=1;d<=e;d++){a.push("0");}f=a.reverse().join("");}return f;},getFirstDateOfMonth:function(b,a){return new Date(b,a-1,1);},getDateObject:function(g,a,f,c,e,b){g=g||0;a=a||1;f=f||1;c=c||0;e=e||0;b=b||0;return new Date(g,a-1,f,c,e,b);},getDateFromDateInfo:function(a){return this.getDateObject(a.date&&a.date.year,a.date&&a.date.month,a.date&&a.date.day,a.time&&a.time.hour,a.time&&a.time.min,a.time&&a.time.sec);},getDateJson:function(a){return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),min:a.getMinutes(),sec:a.getSeconds()};},isLeapYear:function(a){return !(a%400)||(!(a%4)&&!!(a%100));},getDaysOfMonth:function(c,a){var b=[31,28,31,30,31,30,31,31,30,31,30,31];if(a==2&&this.isLeapYear(c)){return 29;}return b[a-1];},getPreMonth:function(b,a){if(a===1){return{y:b-1,m:12};}return{y:b,m:a-1};},getNextMonth:function(b,a){if(a===12){return{y:b+1,m:1};}return{y:b,m:a+1};}});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash","mstrmojo.locales");var c=mstrmojo.array,P=mstrmojo.meta.TP,G=mstrmojo.meta.STP,O=mstrmojo.hash,F={ANDOR:14,MQ:10,MC:12,AQ:2,AL:6,AC:9,AE:5,F:13,R:21,B:20,XML:1,RLS:15},B={};var W;for(W in F){B[F[W]]=true;}var a={};a[F.AQ]="a";a[F.AL]="a";a[F.AC]="a";a[F.AE]="a";a[F.MQ]="m";a[F.MC]="m";a[F.F]="f";a[F.R]="r";a[F.XML]="p";a[F.ANDOR]="nds";var K={};K[F.MQ]=["not","m","fn","fnt","cs","dmy","idcsi"];K[F.MC]=["not","m","fn","fnt","m2","m3","p","dmy","idcsi"];K[F.AE]=["not","a","fn","es","a2","fm2","p"];K[F.AQ]=["not","a","fm","fn","cs"];K[F.AL]=["not","a","fm","fn","cs"];K[F.AC]=["not","a","fm","a2","fm2","a3","fm3","fn","cs"];K[F.R]=["not","r"];K[F.F]=["not","f"];K[F.XML]=["not","n","p"];K[F.ANDOR]=["not","node","nds","fn"];var M={};M[F.MQ]="METRIC_FNS";M[F.MC]="METRIC_FNS";M[F.AQ]="FORM_FNS";M[F.AL]="FORM_FNS";M[F.AC]="FORM_FNS";M[F.AE]="ELEM_FNS";var N={FILTER:1,REPORT:3,METRIC:4,FOLDER:8,PROMPT:10,FUNCTION:11,ATTR:12,FACT:13,DIM:14,FORM:21,ROLE:43,CONS:47},b={FILTER:256,CUSTOMGROUP:257,PROMPT:2560,PROMPT_BOOLEAN:2561,PROMPT_LONG:2562,PROMPT_STRING:2563,PROMPT_DOUBLE:2564,PROMPT_DATE:2565,PROMPT_OBJECTS:2566,PROMPT_ELEMENTS:2567,PROMPT_EXPRESSION:2568,PROMPT_EXPRESSION_DRAFT:2569,PROMPT_DIMTY:2570,PROMPT_BIGDECIMAL:2571,REPORT_GRID:768,REPORT_GRAPH:769,REPORT_ENGINE:770,REPORT_TEXT:771,REPORT_DATAMART:772,REPORT_BASE:773,REPORT_GRIDGRAPH:774,REPORT_NONINTERACTIVE:775,REPORT_CUBE:776,REPORT_EMMACUBE:779,CONS:12032,NDE:12033},T={a:N.ATTR,a2:N.ATTR,m:N.METRIC,m2:N.METRIC,r:N.REPORT,f:N.FILTER,p:N.PROMPT},U={f:b.FILTER};var V={};V[F.MQ]=N.METRIC;V[F.MC]=N.METRIC;V[F.AQ]=N.ATTR;V[F.AL]=N.ATTR;V[F.AC]=N.ATTR;V[F.AE]=N.ATTR;V[F.F]=N.FILTER;V[F.R]=N.REPORT;var J=function(d){var H=d.length,g={},e;for(e=0;e<H;e++){var h=d[e];g[h.did]=h.n;}return g;},E=function(e){var H=e.length,f;for(f=0;f<H;f++){var d=e[f];if("tp" in d){d.t=d.tp;}}return e;},X=function(e,g){var H=e.length,f;for(f=0;f<H;f++){var d=e[f];if("tp" in d){if(g){d.t=g;}else{delete d.t;}}}return e;},Z=function(d,f){if(!f){f=[];}f.length=0;var e,H;for(e=0,H=d.length;e<H;e++){f[e]=d[e];}return f;},L={0:[{did:"1,76"},{did:"1,79"},{did:"1,77"},{did:"1,80"},{did:"1,78"},{did:"1,81"},{did:"1,18"},{did:"1,43"}],1:[{did:"2,1"},{did:"2,2"},{did:"3,1"},{did:"3,2"}]};var R={0:[{did:"1,22"},{did:"1,57"}]};mstrmojo.expr=mstrmojo.provide("mstrmojo.expr",{ET:F,ETs:B,ET2TGT:a,ET2COND:K,ET2TP:V,FN:{EQUAL:6,NOT_EQUAL:7,GREATER:8,LESS:9,GREATER_EQUAL:10,LESS_EQUAL:11,IN_LIST:22,NOT_IN_LIST:57,BETWEEN:17,NOT_BETWEEN:44,IS_NULL:54,IS_NOT_NULL:55,AND:19,OR:20,NOT:21,SEARCH:158,DESCENDANT:187},FN_MRP:{BETWEEN:3,EXCLUDE_TOP:4,EXCLUDE_BOTTOM:5,BETWEEN_DESCENDING:13},FNT:{DEF:1,RANK:2,PER:3},FN_SEP:",",TP:N,STP:b,DMY_TP:{ATTR:-1,DIM:-2},DTP:{UNKNOWN:-1,INTEGER:1,UNSIGNED:2,NUMERIC:3,DECIMAL:4,REAL:5,DOUBLE:6,FLOAT:7,CHAR:8,VARCHAR:9,LONGVARCHAR:10,BINARY:11,VARBIN:12,LONGVARBIN:13,DATE:14,TIME:15,TIMESTAMP:16,SHORT:21,LONG:22,MBCHAR:23,BOOLEAN:24,PATTERN:25,BIGDECIMAL:30},BFTP:{RESERVED:0,HIDDEN:-1,DATETIME:1,NUMBER:2,TEXT:3,PICTURE:4,URL:5,EMAIL:6,TAG:7,DATE:8,TIME:9,SYMBOL:10,BIGDECIMAL:11,PHONENUMBER:12},METRIC_DTP:3,FN_DTP:{NUM:0,CHAR:1,DATE:2},DTP2PROMPT_STP:{"-1":b.PROMPT,1:b.PROMPT_LONG,2:b.PROMPT_LONG,3:b.PROMPT_LONG,4:b.PROMPT_DOUBLE,5:b.PROMPT_DOUBLE,6:b.PROMPT_DOUBLE,7:b.PROMPT_DOUBLE,8:b.PROMPT_STRING,9:b.PROMPT_STRING,10:b.PROMPT_STRING,14:b.PROMPT_DATE,15:b.PROMPT_DATE,16:b.PROMPT_DATE,21:b.PROMPT_LONG,22:b.PROMPT_LONG,23:b.PROMPT_STRING,24:b.PROMPT_BOOLEAN,30:b.PROMPT_BIGDECIMAL},DTP2FN_DTP:{"-1":0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:1,9:1,10:1,11:0,12:0,13:0,14:0,15:0,16:0,21:0,22:0,23:1,24:0,25:1,30:0,34:0},fnCstCount:function A(e,d){var g=this.FN,h=this.FN_MRP,H=this.FNT;if(d===H.DEF||d===undefined){switch(e){case g.BETWEEN:case g.NOT_BETWEEN:return 2;case g.IS_NULL:case g.IS_NOT_NULL:return 0;}}else{if(d===H.PER||d===H.RANK){switch(e){case h.BETWEEN:case h.BETWEEN_DESCENDING:return 2;}}}return 1;},fn_List:function S(d,H){var e=this.FN;return d==e.IN_LIST||d==e.NOT_IN_LIST;},fn_AC_MC:function Y(d,H){var e=this.FN;return(d==e.EQUAL)||(d==e.NOT_EQUAL)||(d==e.GREATER)||(d==e.LESS)||(d==e.GREATER_EQUAL)||(d==e.LESS_EQUAL);},fnName:function Q(h,g,d,f){var H=this[M[h]];if(H&&H.constructor===Object){H=H[this.DTP2FN_DTP[f]]||H["*"];}if(h===F.MQ){H=H.concat(mstrmojo.locales.expression.MetricRP);}var e=c.find(H,"did",(d||1)+this.FN_SEP+g);if(e>-1){return H[e].n;}return"";},findTargets:function I(n,f,p){if(!p){p={};}if(n){var m;for(m in T){var x=n[m];if(x){if(!x[P]){x[P]=T[m];}if(!x[G]&&U[m]){x[G]=U[m];}p[x[f]]=x;}}if(n.dmy){var j=this.TP.ATTR,q=this.DMY_TP.ATTR,e=n.dmy.uts,w,d;for(w=0,d=(e&&e.length)||0;w<d;w++){var l=e[w];if(l&&l.utp===q){var g=l.utgt;if(!g.t){g.t=j;}p[g[f]]=g;}}}var H=n.nds,o,s;for(o=0,s=(H&&H.length)||0;o<s;o++){this.findTargets(H[o],f,p);}var r=n.cs,v=r&&r.length;if(v){for(o=0;o<v;o++){this.findTargets(r[o],f,p);}}}return p;},onLocaleUpdated:function(){var d=mstrmojo.locales.expression,H=mstrmojo.expr;H.BRANCH_FNS=O.copy(J(d.BranchQual),H.BRANCH_FNS);H.ELEM_FNS=Z(X(d.Element,"fn"),H.ELEM_FNS);H.METRIC_FNS={"*":X(c.filter(d.Metric.concat(d.MetricRP),function(e){return e.did&&(c.find(R["0"],"did",e.did)<0);}))};H.FORM_FNS={0:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["0"],"did",e.did)<0);})),1:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["1"],"did",e.did)<0);})),2:X(c.filter(d.Attribute,function(e){return e.did&&(c.find(L["0"],"did",e.did)<0)&&(c.find(L["1"],"did",e.did)<0);}))};H.DIMTYLEVELS=Z(X(d.DimtyLevels),H.DIMTYLEVELS);},getSortedObjectsByTypeGroup:function D(g){var e=-1,H=0,d=1,f=2;function h(i){switch(i.t){case N.METRIC:return d;case N.ATTR:case N.DIM:case N.CONS:return H;case N.FILTER:return i.st===b.CUSTOMGROUP?H:f;case -1:return e;default:return f;}}g=c.map(g||[],function(i){return O.copy(i,{});});return g.sort(function(m,l){var n=h(m)-h(l);if(n){return n;}var k=m.n.toUpperCase(),j=l.n.toUpperCase(),i=k.localeCompare(j);if(i){return i;}return m.n.localeCompare(l.n);});},mapBaseFormTypeToDataType:function C(e){e=parseInt(e);if(e===NaN){return -1;}var d=this.BFTP,H=this.DTP;switch(e){case d.DATETIME:return H.TIMESTAMP;case d.DATE:return H.DATE;case d.TIME:return H.TIME;case d.NUMBER:return H.REAL;case d.TEXT:return H.CHAR;case d.BIGDECIMAL:return H.BIGDECIMAL;default:return H.CHAR;}}});mstrmojo.expr.onLocaleUpdated();}());(function(){mstrmojo.requiresCls("mstrmojo.hash");mstrmojo.all={};var E=mstrmojo.all,G=mstrmojo.hash;var A=0;function D(){var I;while(!I){var H="mstr"+(A++);if(!E[H]){I=H;}}return I;}mstrmojo.registry=mstrmojo.provide("mstrmojo.registry",{add:function F(H){if(!H){return ;}var I=H.id;if(!I){H.id=I=D();}else{if(E[I]){throw new Error("Tried to register 2 objects with same id: "+I);}}E[I]=H;},remove:function C(H){if(H&&H.id){delete E[H.id];}},dumpAll:function(){var H;for(H in E){var I=E[H].id;if(I){mstrmojo.dbg(I+"("+(E[H].scriptClass||"[unknown class]")+")");}}},ref:function B(I,H){H=H||{};if(I){var L=I;while(L){switch(typeof L){case"string":if(H.skipLoadChecks!==true){mstrmojo.requiresCls(L);}L=G.walk(L,window);break;case"function":return(H.dontInst!==true)?new L():L;case"object":if(L.constructor===Object){var K=L.scriptClass;if(K){if(H.skipLoadChecks!==true){mstrmojo.requiresCls(K);}var J=G.walk(K,window);if(J){return new J((H.clone===true)?G.clone(L):L);}return null;}return L;}return L;default:return null;}}}return null;}});mstrmojo.insert=mstrmojo.registry.ref;}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.string","mstrmojo.array");var M=mstrmojo.locales,I=mstrmojo.string,P=window.mstrConfig,F=mstrmojo.array,C=P.units,R={CM:1,IN:2,MM:3,PT:4,PC:5,PX:6},A={1:"cm",2:"in",3:"mm",4:"pt",5:"pc",6:"px"},E={DEFAULT:-2,FIXED:0,CURR:1,PERCENT:4,FRACTION:5,SCIENTIFIC:6,GENERAL:9};var G=96;String.prototype.reverse=function(){var U="",T;for(T=this.length;T>0;--T){U+=this.charAt(T-1);}return U;};function K(T,V){T=T||"";V=V||T.match(/\".+?\"/g)||[];for(var U=0;U<V.length;U++){T=T.replace(V[U],V[U].substring(1,V[U].length-1).replace(/\$/g,"$$$$"));}return T;}function S(Y){var T=86400000,X=new Date(1900,0,1,0,0,0,0),U=Math.floor(Y)-1,W=Y-U-1;if(Y>=59){U--;}var V=new Date(X.getTime()+(U*T));V.setTime(V.getTime()+W*T+500);return V;}function H(X,e,g){var Y={"d+":X.getDate(),"h+|H":X.getHours(),"s+":X.getSeconds()},T=M.datetime,Z;if(/(y+)/.test(e)){var W=X.getFullYear().toString(),d=RegExp.$1,V=d.length===2,U=W.length;e=e.replace(d,W.substr(V?U-2:0,V?2:U));}if(/(^\[h\])/.test(e)&&g){e=e.replace(RegExp.$1,""+(Math.floor(g*24)));}if(/(\"?:\"?mm)/.test(e)){var a=X.getMinutes();e=e.replace(RegExp.$1,":"+(RegExp.$1.length===1?a:("00"+a).substr(a.toString().length)));}if(/(AM\/PM)/.test(e)){var f=Y["h+"],b=f>11;Y["h+"]=f-(b?12:0);e=e.replace(RegExp.$1,b?"PM":"AM");}for(Z in Y){if(new RegExp("("+Z+")").test(e)){e=e.replace(RegExp.$1,RegExp.$1.length===1?Y[Z]:("00"+Y[Z]).substr((Y[Z].toString()).length));}}if(/(mmmm)/.test(e)){e=e.replace(RegExp.$1,T.MONTHNAME_FULL[X.getMonth()]);}else{if(/(mmm)/.test(e)){e=e.replace(RegExp.$1,T.MONTHNAME_SHORT[X.getMonth()].substr(0,3));}else{if(/((m|M)+)/.test(e)){var c=(X.getMonth()+1).toString();e=e.replace(RegExp.$1,RegExp.$1.length===1?c:("00"+c).substr(c.length));}}}return K(e);}function N(U,X){var V=0,T=X.length,W=0;for(;V<T;V++){if(X[V]==="0"){W++;}else{if(X[V]==="#"){if(W<U){W++;}}else{continue;}}}return W;}mstrmojo.num=mstrmojo.provide("mstrmojo.num",{isInt:function D(T){var W=this.getThousand(),V=new RegExp("^(-)?[0-9]{1,3}(\\"+W+"[0-9]{3})*$"),U=new RegExp("^(-)?[0-9]+$");return(String(T).indexOf(W)&&V.test(T))||U.test(T);},isNumeric:function O(X){var W=this.getDecimal(),Y=this.getThousand(),V=new RegExp("^(-)?[0-9]{1,3}(\\"+Y+"[0-9]{3})*(\\"+W+"[0-9]+)?$"),U=new RegExp("^(-)?[0-9]*(\\"+W+")?[0-9]+$"),T=new RegExp("^(-)?[0-9]{1}(\\"+W+")[1-9]+[eE]{1}[-]{0,1}[0-9]+$");return(String(X).indexOf(Y)&&V.test(X))||U.test(X)||T.test(X);},isBigDecimal:function(U){if(!U){return false;}var T=String(U).match(/^#([^#]+)#$/);if(!T||T.length<=1){return false;}var V=T[1];return this.isNumeric(V);},parseInteger:function L(T,U){if(!this.isInt(T)){return Number.NaN;}return parseInt(this.toString(T,true),U);},parseNumeric:function B(T){if(!this.isNumeric(T)){return Number.NaN;}return parseFloat(this.toString(T,true));},parseBigDecimal:function(T){return String(T).match(/^#(.+)#$/)[1];},inNumericRange:function Q(U,V,T){U=this.parseNumeric(U);T=(T!=null)?this.parseNumeric(this.toLocaleString(T)):Number.NaN;V=(V!=null)?this.parseNumeric(this.toLocaleString(V)):Number.NaN;if(T!=Number.NaN&&(U>T||isNaN(U))){return 1;}if(V!=Number.NaN&&(U<V||isNaN(U))){return -1;}return 0;},convertToUSUnits:function(W,V,U){var T=W;V=V||C;switch(parseInt(V,10)){case R.CM:T=parseFloat(this.toString(W))/2.54+"";break;case R.MM:T=parseFloat(this.toString(W))/25.4+"";break;case R.PT:T=parseFloat(this.toString(W))/72+"";break;case R.PC:T=parseFloat(this.toString(W))/6+"";break;case R.PX:T=parseFloat(this.toString(W))/G+"";break;}return U?T:this.toLocaleString(T);},convertToLocalUnits:function(W,V,U){var T;V=V||C;switch(parseInt(V,10)){case R.CM:T=(parseFloat(this.toString(W))*2.54).toFixed(4)+"";break;case R.MM:T=(parseFloat(this.toString(W))*25.4).toFixed(4)+"";break;case R.PT:T=(parseFloat(this.toString(W))*72).toFixed(4)+"";break;case R.PC:T=(parseFloat(this.toString(W))*6).toFixed(4)+"";break;case R.PX:T=(parseFloat(this.toString(W))*G)+"";break;default:T=parseFloat(this.toString(W)).toFixed(4)+"";}return U?T:this.toLocaleString(T);},convertUnits:function(U,V,T){return this.convertToLocalUnits(this.convertToUSUnits(T,U,true),V,true);},toLocaleString:function(T){return(T+"").replace(".",this.getDecimal());},toString:function(V,T){if(T===true){var U=this.getThousandSepRegex();if(U){V=String(V).replace(U,"");}}return String(V).replace(this.getDecimal(),".");},getThousandSepRegex:function(){if(this.thousandSeparatorRegex==null){this.thousandSeparatorRegex=new RegExp(this.getThousand().replace(/(\W){1}/g,"\\$1"),"g");}return this.thousandSeparatorRegex;},addSeparators:function(V,U){var T=U;if(U=="."||U=="*"||U=="\\"){T="\\"+U;}return V.reverse().replace(/(\d{3})/g,"$1"+U).reverse().replace(new RegExp("^(-)?"+T),"$1");},addSeparators2:function(W,V){var T=W,U=/(\d+)(\d{3})/;while(U.test(T)){T=T.replace(U,"$1"+V+"$2");}return T;},format:function(X,W,a,T){var Z="",Y=(W>0)?".":"",U=[];a=(a)?a:"";for(var V=0;V<W;V++){U.push("0");}U=U.join("");switch(X){case E.GENERAL:Z="0.00";break;case E.PERCENT:Z="0"+Y+U+"%";break;case E.SCIENTIFIC:Z="0"+Y+U+"E+00";break;default:Z='"'+a+'"#,##0'+Y+U;}return this.formatByMask(Z,T);},getDecimalLength:function J(V){var T=V.indexOf("."),W=0;if(T!==-1){var U=V.substr(T+1,V.length).match(/\d+/);if(U&&U.length>0){W=U[0].length;}}return W;},formatByMask:function(AE,AW){var y,l="",r,AZ=false;if(isNaN(AW)){y=new Date(AW);if(isNaN(y)){return AW;}r=true;}if(AE==="General"){var AJ=String(parseFloat(AW).toFixed(2));l=AJ.split(".");if(l.length===2){return l.join(this.getDecimal());}return AJ;}var q=String(AE).split(";"),W=q[0],g="\u00A4",AP=/"[^"]*"/g,k=(AE&&AE.replace(AP,g).replace(/\[.*\]/g,g))||"",AV=["m","y","d","h","s"],AK=false;F.forEach(AV,function(i){AK=AK||k.indexOf(i,0)!==-1;});if(AK){if(window.SSF&&!AZ){l=this.formatBySSF(AE,AW);AZ=true;}if(l!==""){return l;}else{return H(r?y:S(AW),AE,AW);}}var AI=W.indexOf("E+"),c=W.indexOf("%"),u=W.match(/\".+?\"/g),AB=W.match(/\[([=<>]*)(-?\d+\.?\d*)\]/),w=W.indexOf("?/?")>-1,AC=(AI!=-1)?E.SCIENTIFIC:((c!=-1)?E.PERCENT:((u&&!AB)?E.CURR:w?E.FRACTION:E.FIXED)),p="",AR="",n=false,U=new String(AW),b=parseFloat(AW)||this.parseNumeric(AW);if(u){if(W.match(/\[\$.+?\]/g)){for(var d=0;d<u.length;d++){W=W.replace(u[d],u[d].substring(1,u[d].length-1));if(u[d].match(/\[\$.+?\]/g)){u[d]=u[d].replace(/\[\$.+?\]/g,u[d][u[d].indexOf("[$")+2]);}}W=W.replace(/\[\$.+?\]/g,'"#"'.replace("#",W[W.indexOf("[$")+2]));}p=K(W,u);p=p.replace(W.replace(/\".+?\"/g,""),g);}if(b<0){U=U.substring(1,U.length);b=-b;n=true;if(q.length>1){var Z=q[1].replace(/\[.*\]/,"");AR=K(Z.replace(q[0],g));}}var h=this,a=function(m,i){var j=i&&i.replace(g,m);if(i&&(j===i)&&window.SSF){if(AZ){return m;}else{AZ=true;return h.formatBySSF(i,m);}}return(i)?j:"-"+m;};if(AC===E.FRACTION){var AN,AM,AU,o=10,x,t=0,AG,AQ,X,V=false,AD;if(AE.indexOf("# ")>-1){V=true;}for(AN=5;AN>0;AN--){AD="/";for(AM=0;AM<AN;AM++){AD+="?";}if(AE.indexOf(AD)>-1){for(AM=1;AM<AN;AM++){o*=10;}break;}}if(V){t=Math.floor(Number(b));b-=t;}AQ=o/2;AU=-1;AG=b*o;for(AN=o-1;AN>=2;AN--){X=(AG*AN)/o;X=X-Math.floor(X);X=X*o;if(Math.abs(X-o)<X){X=Math.abs(X-o);}X=X/AN;if(X<AQ){AQ=X;AU=AN;}else{if((X==AQ)&&(X==0)){AQ=X;AU=AN;}}}x=Math.round(AU*AG/o);for(AN=AU;AN>=2;AN--){if((x%AN==0)&&(AU%AN==0)){x=x/AN;AU=AU/AN;break;}}if(AU==o){AU=1;x=0;}if(x==0){AU=1;}if(x==AU){if(V){l=""+(t+1);}else{l="1";}}else{if(V&&t>0){if(x==0){l=t;}else{l=t+" "+x+"/"+AU;}}else{if(x==0){l="0";}else{l=x+"/"+AU;}}}if(n){l=a(l,AR);}}else{if(AC==E.SCIENTIFIC){if(b!=0){var AX=Math.floor(Math.log(b)/Math.LN10),AL=b/Math.pow(10,AX),AY=W.substring(0,AI),f=AY.indexOf("."),AF=W.length-W.indexOf("E+")-(""+Math.abs(AX)).length-2,AN,T=AX<0;AX=Math.abs(AX);for(AN=0;AN<AF;AN++){AX="0"+AX;}l+=Number(AL).toFixed((f!=-1)?AY.length-f-1:0);l=((n)?a(l,AR):l)+"E"+(T?"-":"+")+AX;}else{l="0";}}else{if(AC==E.PERCENT){W=W.substring(0,W.length-1);U=String(b*100);}var f=W.indexOf("."),Y=0,AT,s=f>=0?W.substring(0,f):W,z=f>=0?W.substring(f+1,W.length):"",e=false;if(s.match(/[#0\?],$/)){b/=1000;U=String(b);}else{if(z.match(/^[#0]*,/)){var AA=0;e=true;while(AA<z.length){if(z[AA]==="0"||z[AA]==="#"){AA++;}else{if(z[AA]===","){b/=1000;U=String(b);AA++;}else{break;}}}}}AT=this.getDecimalLength(U);if(f!=-1){Y=N(AT,W.substr(f+1,W.length));}l=String((+(Math.round(+(U.indexOf("e")>0?String(parseFloat(U).toFixed(Math.min(Y+2,20))):U+"e"+Math.min(Y,20)))+"e"+-Math.min(Y,20))).toFixed(Math.min(Y,20)));if(AC===E.FIXED){if(/[\[\]><=A-Za-z]|,{2}/.test(W)&&window.SSF){var AO=this.formatBySSF(AE,AW);l=AO!==""?AO:l;AZ=true;}}var AS=l.split(".");var AH=W.replace(/"[^"]*"/g,"").match(/[#\d]+[^\.\d#]+[#\d]+/);if(AH!==null){if(AC===E.CURR){AS[0]=(this.formatBySSF((e?AH[0]&&AH[0].trim():AH.input&&AH.input.trim()),parseFloat(AS[0]))||"").split(".")[0];AZ=true;}if(AS[0].indexOf(",")>=0){AS[0]=AS[0].replace(/,/g,this.getThousand());}else{if(!(this.getThousand()===","&&AS[0].search(this.getThousand())>0)){AS[0]=this.addSeparators2(AS[0],this.getThousand());}}}l=AS.join(this.getDecimal());if(AC==E.CURR){l=p.replace(g,l);if(l===p&&window.SSF){l=this.formatBySSF(AE,AW,l);AZ=true;}}if(AC==E.PERCENT){l+="%";}if(n){l=a(l,AR);}}}return l;},formatBySSF:function(V,U,W){var T=(W!==undefined&&W!==null)?W:"";if(typeof U==="string"){U=parseFloat(U);}try{T=window.SSF.format(V,U);}catch(X){if(window.mstr_profile){window.mstr_profile.log(X);}T=(W||U).toString();}return T;},validateFormat:function(T){var U=true,V=String(T).split(";");if(V[1]&&V[1].indexOf(V[0])<0){U=false;}return U;},generateUniqueID:function(T){var V="0123456789ABCDEF".split(""),W=[];for(var U=0;U<T;U++){W[U]=V[0|Math.random()*16];}return W.join("");},countOfDecimals:function(U,V){var T=String(U);return T.length-(T.indexOf(V!==undefined?V:this.getDecimal())+1);},getThousand:function(){return mstrmojo.locales.number.THOUSANDSEPARATOR;},getDecimal:function(){return mstrmojo.locales.number.DECIMALSEPARATOR;}});mstrmojo.num.UNIT=R;mstrmojo.num.UNIT_SYMBOL=A;})();(function(){mstrmojo.requiresCls("mstrmojo.array");var I="#000000",E=Math.round;function O(Y){return("0"+parseInt(Y,10).toString(16)).slice(-2);}mstrmojo.color=mstrmojo.provide("mstrmojo.color",{rgbStr2rgb:function W(Y){if(Y==="transparent"){return["0","0","0"];}else{return Y.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i).slice(1);}},rgbStr2hex:function G(Y){if(Y.indexOf("rgb")>=0){var Z=this.rgbStr2rgb(Y);return"#"+this.rgb2hex(Z[0],Z[1],Z[2]);}return Y;},rgb2hex:function B(a,Z,Y){return O(a)+O(Z)+O(Y);},rgb2hsv:function V(Y,f,j){var c=Math.min(Y,f,j),k=Math.max(Y,f,j),e=0,n,m;m=k/255;n=(k!==0)?(parseFloat(k)-parseFloat(c))/parseFloat(k):0;if(n===0){e=0;}else{var i=k-c,Z=(k-Y)/i,a=(k-f)/i,l=(k-j)/i;if(Y===k){e=l-a;}else{if(f===k){e=2+Z-l;}else{e=4+a-Z;}}e=e/6;if(e<0){e=e+1;}}return[E(e*360),E(n*100),E(m*100)];},rgb2hsl:function D(Y,d,e){Y/=255;d/=255;e/=255;var f=Math.max(Y,d,e),a=Math.min(Y,d,e),Z=(f+a)/2,c,j;if(f===a){c=j=0;}else{var i=f-a;j=Z>0.5?i/(2-f-a):i/(f+a);switch(f){case Y:c=(d-e)/i+(d<e?6:0);break;case d:c=(e-Y)/i+2;break;case e:c=(Y-d)/i+4;break;}c/=6;}return[c,j,Z];},hsl2rgb:function C(e,j,d){var c=function c(h,g,b){if(b<0){b+=1;}if(b>1){b-=1;}if(b<1/6){return h+(g-h)*6*b;}if(b<1/2){return g;}if(b<2/3){return h+(g-h)*(2/3-b)*6;}return h;},Y,f,i;if(j===0){Y=f=i=d;}else{var Z=d<0.5?d*(1+j):d+j-d*j,a=2*d-Z;Y=c(a,Z,e+1/3);f=c(a,Z,e);i=c(a,Z,e-1/3);}return[E(Y*255),E(f*255),E(i*255)];},hsl2hex:function J(a,Z,Y){return"#"+mstrmojo.array.map(this.hsl2rgb(a,Z,Y),function(b){return O(b);}).join("");},hex2rgb:function Q(b){var Y=this.fixFullHexValue("#"+b.replace("#","")),Z=[],a;Y=Y.replace("#","");for(a=0;a<3;a++){Z.push(parseInt(Y.substr(a*2,2),16));}return Z;},hex2bgr:function L(Y){return this.hex2rgb(Y).reverse();},hex2hsv:function T(Z){var Y=this.hex2rgb(Z);return this.rgb2hsv(Y[0],Y[1],Y[2]);},hex2hsl:function X(Y){return this.rgb2hsl.apply(this,this.hex2rgb(Y));},hsv2rgb:function H(j,u,n){j=j/360;u=u/100;n=n/100;var Y,k,m;if(u===0){Y=n*255;k=n*255;m=n*255;}else{var c=j*6;if(c===6){c=0;}var f=Math.floor(c);var a=n*(1-u);var Z=n*(1-u*(c-f));var o=n*(1-u*(1-(c-f)));var l,d,e;switch(f){case 0:l=n;d=o;e=a;break;case 1:l=Z;d=n;e=a;break;case 2:l=a;d=n;e=o;break;case 3:l=a;d=Z;e=n;break;case 4:l=o;d=a;e=n;break;default:l=n;d=a;e=Z;break;}Y=l*255;k=d*255;m=e*255;}return[E(Y),E(k),E(m)];},hsv2hex:function M(b,a,Y){var Z=this.hsv2rgb(b,a,Y);return this.rgb2hex(Z[0],Z[1],Z[2]);},getContrastingColor:function N(b,Z,Y){var a=this.hex2rgb(b);return(((a[0]*299)+(a[1]*587)+(a[2]*114))/1000<125)?Z:Y;},getLuminance:function F(Z){var Y=this.hex2rgb(Z);return 0.2126*Y[0]+0.7152*Y[1]+0.0722*Y[2];},getHighlightColor:function S(h,e){var Y,f,i,j,k=this.hex2rgb(!e?"#FFCE7F":"#EFE6D8"),d=parseInt(h[0],10),a=parseInt(h[1],10),m=parseInt(h[2],10),c=parseInt(k[0],10),Z=parseInt(k[1],10),l=parseInt(k[2],10);Y=(d*c)/255;f=(a*Z)/255;i=(m*l)/255;j=d*0.3+a*0.59+m*0.11;if(j<85){Y=Y+(63*(85-j)/85);Y=Y>255?255:Y;f=f+(63*(85-j)/85);f=f>255?255:f;i=i+(63*(85-j)/85);i=i>255?255:i;}return"#"+this.rgb2hex(E(Y),E(f),E(i));},get3DBorderColor:function R(a,e){var Z=parseInt(a[0],10)*0.3+parseInt(a[1],10)*0.59+parseInt(a[2],10)*0.11;var d=parseInt(a[0],10);var c=parseInt(a[1],10);var Y=parseInt(a[2],10);switch(e){case"light":if(Z>150){d=d*0.9;c=c*0.9;Y=Y*0.9;}else{d=d*0.6+102;c=c*0.6+102;Y=Y*0.6+102;}break;case"dark":if(Z>10){d=d*0.4;c=c*0.4;Y=Y*0.4;}else{d=d*0.8+30;c=c*0.8+30;Y=Y*0.8+30;}break;}return"#"+this.rgb2hex(E(d),E(c),E(Y));},encodeColor:function K(Y,Z){if(Z!==undefined&&(Y===null||Y.length===0||Y==="undefined")){Y=Z;}if(Y==="transparent"){return -1;}if(parseInt(Y,10)===-2){return -2;}if(Y.substring(0,1)==="#"){Y=Y.substring(1);}return parseInt(Y.substring(4)+Y.substring(2,4)+Y.substring(0,2),16);},decodeColor:function A(Y){Y=parseInt(Y,10);if(Y===0){return I;}var Z=16777216+(Y&255)*65536+(Y&65280)+(Y&16711680)/65536;return"#"+Z.toString(16).substring(1).toUpperCase();},fixFullHexValue:function U(Y){if(Y&&Y.length===4){return Y.replace(/([0-9a-f])/ig,"$1$1");}return Y;},findMidColorHex:function P(b,a){var c=this.hex2rgb(b),Y=this.hex2rgb(a),Z=[];c.forEach(function(d,e){Z.push(parseInt((d+Y[e])/2,10));});return("#"+this.rgb2hex(Z[0],Z[1],Z[2]));}});}());(function(){mstrmojo.boxmodel=mstrmojo.provide("mstrmojo.boxmodel",{rangeIntersect:function E(J,H,I,G){if(J<I){return I<=H;}if(J>I){return J<=G;}return true;},px2Inches:function C(H,G){G=parseInt(G,10);return mstrmojo.NumberFormat.getInstance(mstrConfig.decimalSep,mstrConfig.thousandsSep).format(parseFloat((G/H.zf/H.dpi).toFixed(4)));},offset:function F(I,H){var L=I,G=0,K=0;while(I){G+=I.offsetLeft;K+=I.offsetTop;I=I.offsetParent;if(I===H){break;}}var J;for(J=L&&L.parentNode;J&&J!==H;J=J.parentNode){if(J.scrollTop){K-=J.scrollTop;}if(J.scrollLeft){G-=J.scrollLeft;}}return{left:G,top:K};},convert2px:function D(K,I){if(!/px$/.test(I)){var H=document.createElement("img"),G=H.style,J;G.zIndex=-1;G.left=I;K.appendChild(H);J=G.pixelLeft;K.removeChild(H);return J+"px";}return I;},getEdgeQuadrantByPoint:function B(I,H){var G=H.x-I.x,M=H.y-I.y,J=I.w,L=I.h,K=[["Left","Bottom"],["Top","Right"]];if(M>L/J*G){K=K[0];}else{K=K[1];}return(M<-L/J*G+L)?K[0]:K[1];},isPtInPolygon:function A(I,K){var G=I.x,J=I.y,H=false;K.forEach(function(N,L){var M=K[L-1]||K[K.length-1];if((N.y>=J)!==(M.y>=J)){if((G<(M.x-N.x)*(J-N.y)/(M.y-N.y)+N.x)){H=!H;}}});return H;}});}());(function(){mstrmojo.func=mstrmojo.provide("mstrmojo.func",{composite:function D(E){if(!E||!E.length){return mstrmojo.emptyFn;}return function(){var F=E.length,G;for(G=0;G<F;G++){E[G].apply(this,arguments);}};},wrapMethods:function C(J,H){function I(L,K){K=K||{};mstrmojo.hash.forEach(L,function(M,N){K[N]=(K.hasOwnProperty(N)&&typeof M==="function")?mstrmojo.func.composite([M,K[N]]):M;});return K;}if(arguments.length<3){return I(J,H);}var F=arguments.length,G=[].slice.call(arguments,0,F-1).reverse(),E=arguments[F-1];mstrmojo.array.forEach(G,function(K){E=I(K,E);});return E;},override:function A(G,E){var F=function(J,I){return function H(){var L=this._super,K;this._super=I||mstrmojo.emptyFn;try{K=J.apply(this,arguments||[]);}finally{this._super=L;}return K;};};E=E||{};mstrmojo.hash.forEach(G,function(H,I){E[I]=F(H,E[I]);});return E;},throttle:function(G,I,E){var F,K,N,L=null,J=0,M=E||{};var H=function(){J=M.leading===false?0:mstrmojo.date.now();L=null;N=G.apply(F,K);F=K=null;};return function(){var O=mstrmojo.date.now();if(!J&&M.leading===false){J=O;}var P=I-(O-J);F=this;K=arguments;if(P<=0){clearTimeout(L);L=null;J=O;N=G.apply(F,K);F=K=null;}else{if(!L&&M.trailing!==false){L=setTimeout(H,P);}}return N;};},debounce:function(H,J,G){var M,L,F,K,N,E=mstrmojo.date.now;var I=function(){var O=E()-K;if(O<J){M=setTimeout(I,J-O);}else{M=null;if(!G){N=H.apply(F,L);F=L=null;}}};return function(){F=this;L=arguments;K=E();var O=G&&!M;if(!M){M=setTimeout(I,J);}if(O){N=H.apply(F,L);F=L=null;}return N;};},addMethods:function B(F,E){E=E||{};mstrmojo.hash.forEach(F,function(G,H){if(!E.hasOwnProperty(H)&&typeof G==="function"){E[H]=G;}});return E;}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom");mstrmojo.fx={enabled:true};var E=mstrmojo.dom;mstrmojo.fx._Effect=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.fx._Effect",duration:500,interval:50,delay:null,target:null,getTarget:null,widget:null,slot:null,preStart:null,postStart:null,onCancel:null,onEnd:null,revertOnCancel:true,isPlaying:false,started:false,init:function R(W){mstrmojo.hash.copy(W,this);},play:function C(){this.isPlaying=true;this.started=false;if(this.delay){var W=this;this.delayTimer=window.setTimeout(function(){W._start();W=null;},this.delay);}else{this._start();}},pause:function H(){if(this.delayTimer){window.clearTimeout(this.delayTimer);delete this.delayTimer;}if(this.timer){window.clearInterval(this.timer);delete this.timer;}this.isPlaying=false;},cancel:function U(){this.pause();if(this.started){if(this.revertOnCancel){this.counter=0;this.exec();}if(this.onCancel){this.onCancel();}this.started=false;}},_start:function F(){this.started=true;this._doTarget();this.steps=Math.max(Math.ceil(this.duration/this.interval),1);var W=this.ease;if(typeof W==="string"){this.ease=mstrmojo.registry.ref(W);}if(this._doPreStart()===false){this.started=false;this.isPlaying=false;return ;}this.counter=0;this.exec();this.counter++;this._doPostStart();if(this.counter>=this.steps){this._end();}else{var X=this;if(this.timer){window.clearInterval(this.timer);}this.timer=window.setInterval(function Y(){if(X){X.exec();X.counter++;if(X.counter>=X.steps){X._end();X=null;}}},this.interval);}},exec:null,_end:function D(){this.pause();this.started=false;if(this.onEnd){this.onEnd();}},_doTarget:function T(){if(this.getTarget){this.target=this.getTarget();}else{if(this.widget){this.target=this.widget[this.slot||"domNode"];}else{if(this.target){var X=this.target;if(X&&this.slot&&X.scriptClass){var Y=X[this.slot];if(Y){this.widget=X;this.target=Y;}}}}}if(!this.target){var W=this;while(W=W.parent){if(!W||W.domNode){break;}}if(W){this.widget=W;this.target=W[this.slot||"domNode"];}}},_doPreStart:function N(){if(this.preStart){return this.preStart();}},_doPostStart:function S(){if(this.postStart){this.postStart();}}});function M(Z,a){var X=Z.children,W=(X&&X.length)||0,Y;for(Y=0;Y<W;Y++){X[Y][a]();}}mstrmojo.fx.Parallel=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Parallel",init:function R(Z){this._super(Z);var Y=this.children;mstrmojo.registry.refArray(Y);var W=(Y&&Y.length)||0,X;for(X=0;X<W;X++){Y[X].parent=this;}},_start:function F(){this.started=true;if(this.preStart){this.preStart();}M(this,"play");if(this.postStart){this.postStart();}},pause:function H(){M(this,"pause");},cancel:function U(){M(this,"cancel");}});mstrmojo.fx.AnimateProp=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.AnimateProp",props:null,_start:function O(){var Y=this.props,Z;for(Z in Y){var X=Y[Z],W=X.ease;if(typeof W==="string"){X.ease=mstrmojo.registry.ref(W,{dontInst:true});}}this._super();},exec:function P(){var Z=this.props,a;for(a in Z){var X=Z[a],W=(X.ease||mstrmojo.ease.sin)(this.counter,X.start,X.stop-X.start,this.steps-1);if(X.fn){W=X.fn(W);}if(X.suffix){W+=X.suffix;}var Y=X.isStyle===false?this.target:this.target.style;Y[a]=W;}}});mstrmojo.fx.Typewriter=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Typewriter",charGroupSize:1,srcProp:"text",_doPreStart:function(){this._super();this._dynStop=false;if(this.stop==null){var a=this.srcProp,Y;if(a){var W=this.widget||this.parent;Y=W&&W[a];if((Y!=null)&&(typeof (Y)!=="string")){Y=String(Y);}}this.stop=Y;this._dynStop=true;}if(this.stop==null){this.stop="";}var Z=this.target,b=null,X=1;if(Z){Z.innerHTML="";b=document.createTextNode("");Z.appendChild(b);X=Math.max(Math.floor(this.stop.length/this.steps),1);}this.targetTextNode=b;this.charGroupSize=X;},exec:function(){var X=this.targetTextNode;if(!X){return ;}var W;if(this.counter>=this.steps-1){W=this.stop;}else{if(this.counter===0){W="";}else{W=this.stop.substring(0,this.charGroupSize*this.counter)+"_";}}X.nodeValue=W;},_end:function D(){this._super();if(this._dynStop){this.stop=null;delete this._dynStop;}},cancel:function U(){if(this._dynStop){this.stop=null;delete this._dynStop;}}});mstrmojo.requiresCls("mstrmojo.dom");mstrmojo.fx.Fade=mstrmojo.declare(mstrmojo.fx._Effect,null,{scriptClass:"mstrmojo.fx.Fade",start:null,stop:null,ease:null,suffix:null,exec:function P(W){if(W==null){W=(this.ease||mstrmojo.ease.sin)(this.counter,this.start,this.stop-this.start,this.steps-1);}if(E.isIE&&!E.isWinPhone){this.target.style.filter="alpha(opacity="+parseInt(W*100,10)+")";}else{this.target.style.opacity=W;}}});mstrmojo.fx.FadeOut=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeOut",start:1,stop:0,revertOnCancel:true,cssDisplay:"block",_end:function D(){if(this.cssDisplay){this.target.style.display="none";this.exec(this.start);}this._super();},cancel:function U(){if(this.started&&this.cssDisplay){this.target.style.display=this.cssDisplay;}this._super();}});mstrmojo.fx.FadeIn=mstrmojo.declare(mstrmojo.fx.Fade,null,{scriptClass:"mstrmojo.fx.FadeIn",start:0,stop:1,revertOnCancel:true,cssDisplay:"block",_doPostStart:function V(){if(this.cssDisplay){this.target.style.display=this.cssDisplay;}this._super();},cancel:function(){if(this.started&&this.revertOnCancel&&this.cssDisplay){this.target.style.display="none";}this._super();}});function I(Y,X,Z){var W=Math.pow(10,Z||2);if(X){return parseInt(W*Y/X,10)/W;}return parseInt(W*Y,10)/W;}mstrmojo.ease={linear:function L(X,W,Z,Y){if(X===Y){return W+Z;}if(X===0){return W;}return W+Z*I(X,Y);},sin:function A(X,W,Z,Y){return W+Z*Math.sin((Math.PI/2)*X/Y);},cos:function B(X,W,Z,Y){return W+Z*Math.cos((Math.PI/2)*(1-X/Y));},sincos:function K(X,W,Z,Y){if(X>Y/2){return W+Z*Math.cos((Math.PI/2)*(1-X/Y));}return W+Z*Math.sin((Math.PI/2)*X/Y);},cossin:function Q(X,W,Z,Y){if(X>Y/2){return W+Z*Math.sin((Math.PI/2)*X/Y);}return W+Z*Math.cos((Math.PI/2)*(1-X/Y));},bounce:function G(X,W,Z,Y){if((X/=Y)<(1/2.75)){return Z*(7.5625*X*X)+W;}if(X<(2/2.75)){return Z*(7.5625*(X-=(1.5/2.75))*X+0.75)+W;}if(X<(2.5/2.75)){return Z*(7.5625*(X-=(2.25/2.75))*X+0.9375)+W;}return Z*(7.5625*(X-=(2.625/2.75))*X+0.984375)+W;},shake:function J(X,W,Z,Y){if(X<Y/2){return W+Z*I(Math.sin(2*Math.PI*X/8),null,2)*2*X/Y;}return W+Z*I(Math.sin(2*Math.PI*X/8),null,2)*2*(1-X/Y);}};}());(function(){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G=String.fromCharCode;function D(H){H=H.replace(/\r\n/g,"\n");var I="";for(var K=0;K<H.length;K++){var J=H.charCodeAt(K);if(J<128){I+=G(J);}else{if((J>127)&&(J<2048)){I+=G((J>>6)|192);I+=G((J&63)|128);}else{I+=G((J>>12)|224);I+=G(((J>>6)&63)|128);I+=G((J&63)|128);}}}return I;}function F(L){var H="",J=0,M=0,K=0,I=0;while(J<L.length){M=L.charCodeAt(J);if(M<128){H+=G(M);J++;}else{if((M>191)&&(M<224)){K=L.charCodeAt(J+1);H+=G(((M&31)<<6)|(K&63));J+=2;}else{K=L.charCodeAt(J+1);I=L.charCodeAt(J+2);H+=G(((M&15)<<12)|((K&63)<<6)|(I&63));J+=3;}}}return H;}mstrmojo.base64=mstrmojo.provide("mstrmojo.base64",{decodeHttpHeader:function E(K){var I=/\=\?UTF-8\?B\?(.+?)\?\=/g;if(K&&K.indexOf("=?UTF-8?B?")===0){var J="",H;while((H=I.exec(K))!==null){J+=mstrmojo.base64.decode(H[1]);}return J;}return K;},encode:function B(J){var H="";var Q,O,M,P,N,L,K;var I=0;J=D(J);while(I<J.length){Q=J.charCodeAt(I++);O=J.charCodeAt(I++);M=J.charCodeAt(I++);P=Q>>2;N=((Q&3)<<4)|(O>>4);L=((O&15)<<2)|(M>>6);K=M&63;if(isNaN(O)){L=K=64;}else{if(isNaN(M)){K=64;}}H+=A.charAt(P)+A.charAt(N)+A.charAt(L)+A.charAt(K);}return H;},decode:function C(J){var H="",I=0;var Q,O,M,P,N,L,K;J=J.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(I<J.length){P=A.indexOf(J.charAt(I++));N=A.indexOf(J.charAt(I++));L=A.indexOf(J.charAt(I++));K=A.indexOf(J.charAt(I++));Q=(P<<2)|(N>>4);O=((N&15)<<4)|(L>>2);M=((L&3)<<6)|K;H+=G(Q);if(L!==64){H+=G(O);}if(K!==64){H+=G(M);}}H=F(H);return H;}});})();(function(){mstrmojo.requiresCls("mstrmojo.array");var E="*",A=".",C="-",J="_",H="<";var M=new RegExp("[\\"+E+"\\"+A+"\\"+C+"\\"+J+"\\"+H+"]","g"),G=E+"$&";mstrmojo.Serializer={scriptClass:"mstrmojo.Serializer",serializeValueGroup:function F(B){mstrmojo.array.forEach(B,function(D,K){B[K]=mstrmojo.Serializer.serializeValues(D);});return C+this.serializeValues(B)+J;},serializeValues:function I(D){var B=[];mstrmojo.array.forEach(D,function(K){if(typeof K==="Boolean"){K=K?"1":"0";}B.push(String(K).replace(M,G));});return B.join(A);}};}());(function(){mstrmojo.requiresCls("mstrmojo.base64","mstrmojo.func","mstrmojo.hash","mstrmojo.string","mstrmojo.dom");mstrmojo.XhrCallbackType=null;function decodeHeader(value){var rEncoded=/\=\?UTF-8\?B\?(.+?)\?\=/g;if(value&&value.indexOf("=?UTF-8?B?")===0){var decMsg="",result;while((result=rEncoded.exec(value))!==null){decMsg+=mstrmojo.base64.decode(result[1]);}return decMsg;}return value;}function encodeParams(params){var x=-1,url=[],p;if(params){for(p in params){url[++x]=p+"="+encodeURIComponent(params[p]);}}return url.join("&");}function appendUrlParams(method,baseUrl,params){if(method!=="GET"||!params){return baseUrl;}return baseUrl+"?"+encodeParams(params);}function sendXhr(xhr,method,baseUrl,params){method=method.toUpperCase();var app=mstrApp,m=window.microstrategy;if(this.isTask){params=mstrmojo.addCSRFTokenToTaskParams(params);params.taskContentType=params.taskContentType||"json";params.taskEnv=params.taskEnv||"xhr";params.xts=new Date().getTime();params[mstrApp.name]=mstrApp.servletState||mstrConfig.servletState||"";baseUrl=baseUrl||mstrConfig.taskURL;}var ptp=app.persistTaskParams||(m&&m.persistParams);if(ptp){mstrmojo.requiresCls("mstrmojo.hash");mstrmojo.hash.copy(ptp,params);}xhr.open(method,appendUrlParams(method,baseUrl,params),this.async);var headers=params.xhrHeaders;if(headers){for(var hdr in headers){xhr.setRequestHeader(hdr,headers[hdr]);}delete params.xhrHeaders;}if(method!=="POST"){xhr.send(null);}else{xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send(encodeParams(params));}if(this.async===false){xhr.onreadystatechange();}}function createXhr(){var methods=[function(){var res=new XMLHttpRequest();var foo=res.open;res.open=function(){foo.apply(res,arguments);};return res;},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");}],cnt=methods.length,i;for(i=0;i<cnt;i++){var xhr;try{xhr=methods[i]();}catch(e){continue;}createXhr=methods[i];return xhr;}throw new Error("mstrmojo.SimpleXHR: Could not create an XHR object.");}function evalResponse(rt){var rtn=null;try{try{rtn=JSON.parse(rt);}catch(ex){rtn=eval("("+rt+")");}}catch(ex){rtn=rt&&mstrmojo.string.trim(rt);}return rtn;}var MSI_SERVER_NAME_NOT_INITIALIZED=2147760371,MSI_INVALID_SESSION_ID=2147760372,E_MSI_USERMGR_USER_NOTFOUND=2147758245,E_MSI_CONNECT_FAILED=2147759877;function isSessionExpiredError(res){if(res.status===401){return true;}var c=res&&res.getResponseHeader("X-MSTR-TaskErrorCode");c=(c<0)?(4294967296+parseInt(c,10)):c;switch(c){case MSI_SERVER_NAME_NOT_INITIALIZED:case MSI_INVALID_SESSION_ID:case E_MSI_USERMGR_USER_NOTFOUND:case E_MSI_CONNECT_FAILED:return true;}return false;}function xhrSupportsProgress(xhr){return !mstrmojo.dom.isSafari&&!!(xhr&&xhr.upload&&xhr.upload.onprogress);}mstrmojo.SimpleXHR=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.SimpleXHR",isTask:true,async:true,init:function init(props){mstrmojo.hash.copy(props,this);},onreadystatechange:function onreadystatechange(xhr,callback,prevRequest){if(xhr.readyState!==4){return ;}if(typeof callback!=="object"){return ;}try{if((xhr.status===200)||(xhr.status===304)){this.response=callback.textResponse?xhr.responseText:evalResponse(xhr.responseText);if(typeof callback.success==="function"){callback.success(this.response,xhr);}}else{if(xhr.status!==0||(!xhr.isAborted&&prevRequest.params.displayNoResErr)){var app=mstrApp,sessionExp=app&&app.onSessionExpired;if(sessionExp&&isSessionExpiredError(xhr)){sessionExp.call(app,prevRequest);}else{var orig=xhr.getResponseHeader;xhr.getResponseHeader=function(name){return decodeHeader(orig.apply?orig.apply(xhr,[name]):orig(name));};if(typeof callback.failure==="function"){callback.failure(xhr);}}}}}catch(ex){mstrmojo.err(ex);throw ex;}finally{if(typeof callback.complete==="function"){callback.complete();}if(!isSessionExpiredError(xhr)&&!prevRequest.params.notRestartSessionManager){var sm=mstrApp.sessionManager;if(sm&&sm.restart){sm.restart();}}}},cancel:function(){var didCancel=false;var xhr=this.xhr;if(xhr){delete xhr.onreadystatechange;xhr.isAborted=true;if(xhr.readyState<4){xhr.abort();didCancel=true;}this.xhr=null;}return didCancel;},request:function request(method,baseUrl,callback,params,webSvrUrl,useResFeed,webSrvParams){if(webSvrUrl){if(useResFeed===true){if(!params){params={};}params.srcURL=appendUrlParams("POST",webSvrUrl,webSrvParams);this.request(method,baseUrl,callback,params);}else{mstrmojo.jsonp.request(webSvrUrl,params,callback);}}else{var xhr=createXhr();xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr);};}(this,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}));if(xhrSupportsProgress(xhr)&&callback.progress){xhr.onprogress=(function(me,x,c){return function(evt){c.progress.call(me,evt);};}(this,xhr,callback));}this.xhr=xhr;sendXhr.call(this,xhr,method,baseUrl,params);}}});mstrmojo.QueuedXHR=mstrmojo.declare(mstrmojo.SimpleXHR,null,{scriptClass:"mstrmojo.QueuedXHR",queue:null,requestCount:0,retryDelay:1,lookup:null,cancel:function cancel(){var didCancel=this._super();while(this.queue.length){var x=this.queue.pop();var cb=x.callback;if(cb&&cb.complete){cb.complete();}}this.queue=[];this.requestCount--;return didCancel;},init:function init(){this.queue=[];this.lookup=[];},request:function request(method,baseUrl,callback,params,override,webSvrUrl,useResFeed,webSrvParams,useCache){if(webSvrUrl){if(useResFeed===true){if(!params){params={};}params.srcURL=appendUrlParams("POST",webSvrUrl,webSrvParams);this.request(method,baseUrl,callback,params);}else{mstrmojo.jsonp.request(webSvrUrl,params,callback);}}else{if(this.requestCount>0&&!override){this.queue.push({method:method,baseUrl:baseUrl,callback:callback,params:params});}else{if(this.requestCount>0){this.cancel();}this.requestCount++;var lu=null,oriParams=null;if(useCache){lu=this._searchForCacheRequest(params);oriParams=mstrmojo.hash.copy(params);}if(lu){try{if(callback.success){window.setTimeout(function(){callback.success(lu.res);},10);}}catch(ex){mstrmojo.err(ex);throw ex;}finally{if(callback.complete){callback.complete();}this.advanceQueue();}}else{var xhr=this.xhr=createXhr();callback=mstrmojo.func.wrapMethods(callback,{complete:(function(ths){return function(){ths.advanceQueue();};}(this)),success:(function(ths){return function(){if(useCache){ths.lookup.push({params:oriParams,res:ths.response});}};}(this))});xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr);};}(this,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}));if(xhrSupportsProgress(xhr)&&callback.progress){xhr.onprogress=(function(me,x,c){return function(evt){c.progress.call(me,evt);};}(this,xhr,callback));}sendXhr.call(this,xhr,method,baseUrl,params);}}}},upload:function upload(method,baseUrl,callback,params,data,config,override,webSrvParams,useCache){if(this.isTask){params=mstrmojo.addCSRFTokenToTaskParams(params);}if(this.requestCount>0&&!override){this.queue.push({method:method,baseUrl:baseUrl,callback:callback,params:params,data:data,config:config});}else{if(this.requestCount>0){this.cancel();}this.requestCount++;var lu=null,oriParams=null;if(useCache){lu=this._searchForCacheRequest(params);oriParams=mstrmojo.hash.copy(params);}if(lu){try{if(callback.success){window.setTimeout(function(){callback.success(lu.res);},10);}}catch(ex){mstrmojo.err(ex);throw ex;}finally{if(callback.complete){callback.complete();}this.advanceQueue();}}else{var xhr=this.xhr=createXhr();var self=this;callback=mstrmojo.func.wrapMethods(callback,{complete:(function(ths){return function(){ths.advanceQueue.call(ths);};}(this)),success:(function(ths){return function(){if(useCache){ths.lookup.push({params:oriParams,res:ths.response});}};}(this))});var handleProgress=function(event){callback.progress(event,config);};var url=baseUrl;var async=!!(config&&config.async);xhr.open("POST",url,async);if(config&&config.authToken){xhr.setRequestHeader("X-MSTR-AuthToken",config.authToken);if("projectId" in params){xhr.setRequestHeader("X-MSTR-ProjectId",params.projectId);}}var formData=new FormData();var a;for(a in params){formData.append(a,params[a]);}if(data){if(params.fileName){formData.append(params.fileFieldName?params.fileFieldName:"myFile",data,params.fileName);}else{formData.append(params.fileFieldName?params.fileFieldName:"myFile",data);}}if(xhrSupportsProgress(xhr)&&callback.progress){xhr.upload.onprogress=handleProgress;}xhr.onreadystatechange=(function(me,x,c,pr){return function(){me.onreadystatechange(x,c,pr);};}(self,xhr,callback,{method:method,baseUrl:baseUrl,callback:callback,params:params}));xhr.send(formData);}}},advanceQueue:function advanceQueue(){this.requestCount--;if(this.queue.length===0){this.requestCount=0;return ;}var req=this.queue.shift();if(req.params.taskId==="importFile"||req.params.taskId==="arch.sparkFileUpload"){this.upload(req.method,req.baseUrl,req.callback,req.params,req.data,req.config);}else{this.request(req.method,req.baseUrl,req.callback,req.params,true);}},_searchForCacheRequest:function _searchForCacheRequest(params){var i;for(i in this.lookup){if(mstrmojo.hash.equals(params,this.lookup[i].params)){return this.lookup[i];}}return null;},hasRequests:function hasRequests(){return this.requestCount>0||mstrmojo.jsonp.hasRequests();}});mstrmojo.xhr=new mstrmojo.QueuedXHR();mstrmojo.jsonp={jsc:new Date().getTime(),timeToWait:20000,requestCount:0,request:function(url,params,callback){var head=document.getElementsByTagName("head")[0]||document.documentElement,jsonp="jsonp"+(this.jsc++),script=document.createElement("script");params.jsonp=jsonp+"(@R@);";params.taskContentType="jsonp";params.taskEnv="jsonp";params.xts=new Date().getTime();window[jsonp]=function(response){mstrmojo.jsonp.requestCount--;if(!response){if(callback.timeout){callback.timeout();}}else{if(response.status===200){callback.success(response.content);}else{var res={status:response.status,getResponseHeader:function(name){switch(name){case"X-MSTR-TaskFailureMsg":return response.errorMsg;case"X-MSTR-TaskErrorCode":return response.errorCode;}}};if(mstrApp.onSessionExpired&&isSessionExpiredError(res)){if(callback.onSessionExpired){callback.onSessionExpired();}else{mstrApp.onSessionExpired();}}else{callback.failure(res);}}}if(window[jsonp]){if(callback.complete){callback.complete();}window[jsonp]=undefined;try{delete window[jsonp];}catch(e){}head.removeChild(script);}};head.insertBefore(script,head.firstChild);this.requestCount++;script.src=appendUrlParams("GET",url,params);setTimeout(function(){var fn=window[jsonp];if(fn){fn();}},this.timeToWait);},hasRequests:function(){return this.requestCount>0;}};}());(function(){var A=/^mstrmojo./;mstrmojo.DynamicClassFactory={newComponent:function(C,B,F){var H=C.prototype.scriptClass.replace(A,"");for(var E=0,D=B&&B.length||0;E<D;E++){if(!B[E]._mixinName){throw new Error('Mixins must have a "_mixinName" property to be used with DynamicClassFactory');}H+="_"+B[E]._mixinName.replace(A,"");}var G=mstrmojo[H];if(!G){G=mstrmojo.declare(C,B,F);mstrmojo[H]=G;}return G;}};}());(function(){mstrmojo.requiresCls("mstrmojo.hash");mstrmojo.Event=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Event",init:function A(B){if(B&&!B.name){B.name=B.type;}mstrmojo.hash.copy(B,this);},name:"",src:null});}());(function(){mstrmojo.requiresCls("mstrmojo.hash");var E=mstrmojo.hash;var B=function(G){return(mstrmojo.now()-G.getTime());};mstrmojo.storage.DOMStorage=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.storage.DOMStorage",mIsSupported:false,mStorageObj:null,itemTimeToLive:3600,init:function F(G){E.copy(G,this);return this;},isSupported:function C(){return this.mIsSupported;},checkVersion:function A(G){var H=this.getItem("__version__");if(H&&H<G){mstrmojo.dbg("DOMStorage data is old - clearing, v="+H);this.clear();}this.setItem("__version__",G,-1);return this;},length:function(){return(this.mIsSupported?this.mStorageObj.length:0);},_keyExpired:function D(G){return(G&&(G.ts>0)&&(mstrmojo.now()>G.ts));},key:function(G){return(this.mIsSupported?this.mStorageObj.key(G):null);},getItemAsString:function(H){var G=this.getItem(H);if(G){if(typeof G=="object"){G=JSON.stringify(G);}else{G=G+"";}}return G;},getItem:function(H){var G=null;if(this.mIsSupported){var J=this.mStorageObj.getItem(H);if(J){try{J=JSON.parse(J);}catch(I){}if(this._keyExpired(J)){this.removeItem(H);}else{G=J.data;}}}return G;},setItem:function(H,J,G){G=G||this.itemTimeToLive;try{if(this.mIsSupported){this.mStorageObj.removeItem(H);var L=(G>0)?(mstrmojo.now()+(G*1000)):-1;var I={ts:L,data:J};this.mStorageObj.setItem(H,JSON.stringify(I));}}catch(K){if(K!==QUOTA_EXCEEDED_ERR){throw K;}}finally{}return this;},removeItem:function(G){if(this.mIsSupported){this.mStorageObj.removeItem(G);}return this;},clear:function(){if(this.mIsSupported){this.mStorageObj.clear();}return this;}});})();(function(){mstrmojo.requiresCls("mstrmojo.storage.DOMStorage");var A=4;mstrmojo.storage.DOMLocalStorage=mstrmojo.declare(mstrmojo.storage.DOMStorage,null,{scriptClass:"mstrmojo.storage.DOMLocalStorage",init:function(B){this._super(B);try{this.mIsSupported=("localStorage" in window)&&(window.localStorage!==null);this.mStorageObj=this.mIsSupported?window.localStorage:null;this.checkVersion(A);}catch(C){this.mIsSupported=false;}}});$LS=mstrmojo.global.localStore=new mstrmojo.storage.DOMLocalStorage({itemTimeToLive:(3600*24)});})();(function(){mstrmojo.requiresCls("mstrmojo.storage.DOMStorage");var A=4;mstrmojo.storage.DOMSessionStorage=mstrmojo.declare(mstrmojo.storage.DOMStorage,null,{scriptClass:"mstrmojo.storage.DOMSessionStorage",init:function(B){this._super(B);try{this.mIsSupported=("sessionStorage" in window)&&(window.sessionStorage!==null);this.mStorageObj=this.mIsSupported?window.sessionStorage:null;this.checkVersion(A);}catch(C){this.mIsSupported=false;}}});$SS=mstrmojo.global.sessionStore=new mstrmojo.storage.DOMSessionStorage();})();