(function(){mstrmojo._CanRenderChildrenOnShow=mstrmojo.provide("mstrmojo._CanRenderChildrenOnShow",{_subs_renderOnShow:null,childRenderCheck:function B(D){if(this.renderMode!=="onshow"){return this._super(D);}if(D.visible){return this._super(D);}var C=this._subs_renderOnShow;if(!C){C={};this._subs_renderOnShow=C;}if(!C[D.id]){C[D.id]=D.attachEventListener("visibleChange",this.id,"_on_child_visibleChange");}return false;},_on_child_visibleChange:function A(C){if(this.hasRendered){var E=C&&C.src;if(E&&this.childRenderCheck(E)){var D=this._subs_renderOnShow;if(D){E.detachEventListener(D[E.id]);delete D[E.id];}E.render();}}}});}());mstrmojo.chart.model.enums.EnumDSSObjectType={DssTypeUnknown:-1,DssTypeReserved:0,DssTypeGeneric:5,DssTypeFormatBAD:46,DssTypeFilter:1,DssTypeTemplate:2,DssTypeReportDefinition:3,DssTypeMetric:4,DssTypeStyle:6,DssTypeAggMetric:7,DssTypeFolder:8,DssTypeDevice:9,DssTypePrompt:10,DssTypeFunction:11,DssTypeAttribute:12,DssTypeFact:13,DssTypeDimension:14,DssTypeTable:15,DssTypeDatamartReport:16,DssTypeFactGroup:17,DssTypeShortcut:18,DssTypeResolution:19,DssTypeMonitor:20,DssTypeAttributeForm:21,DssTypeSchema:22,DssTypeFormat:23,DssTypeCatalog:24,DssTypeCatalogDefn:25,DssTypeColumn:26,DssTypePropertyGroup:27,DssTypePropertySet:28,DssTypeDBRole:29,DssTypeDBLogin:30,DssTypeDBConnection:31,DssTypeProject:32,DssTypeServerDef:33,DssTypeUser:34,DssTypeTransmitter:35,DssTypeConfiguration:36,DssTypeRequest:37,DssTypeScript:38,DssTypeSearch:39,DssTypeSearchFolder:40,DssTypeDatamart:41,DssTypeFunctionPackageDefinition:42,DssTypeRole:43,DssTypeSecurityRole:44,DssTypeLocale:45,DssTypeConsolidation:47,DssTypeConsolidationElement:48,DssTypeScheduleEvent:49,DssTypeScheduleObject:50,DssTypeScheduleTrigger:51,DssTypeLink:52,DssTypeDbTable:53,DssTypeTableSource:54,DssTypeDocumentDefinition:55,DssTypeDrillMap:56,DssTypeDBMS:57,DssTypeMDSecurityFilter:58,DssTypePromptAnswer:59,DssTypePromptAnswers:60,DssTypeGraphStyle:61,DssTypeChangeJournalSearch:62,DssTypeNCSObjects:255,DssTypeReservedLastOne:63};(function(){mstrmojo.vi.ui.theme=mstrmojo.provide("mstrmojo.vi.ui.theme",{getThemeClass:function A(){var D=this.parent||this.opener,C="",B;while(D){var E=D.themeClassName;if(E){C=E;break;}B=D.parent||D.opener;if(B===D){break;}D=B;}return C;}});}());(function(){mstrmojo.requiresDescs(9380,9381,9382,9383,9384,9385,9379,15106,15107,10639,10159,9705,9704);mstrmojo.DI.DIConstants=mstrmojo.provide("mstrmojo.DI.DIConstants",{invalidObjectNameChars:'\\"[]',invalidObjectNameCharsRegex:/[\\"\[\]]/,sourceItemLinkType:{dbList:0,oauthPara:1},setDefaultOAuthParamCMD:"MSTR_DEFAULT_OAUTH_PARAMS",actions:{none:0,importSource:1,editImport:2,transform:3,changeSheet:4,publish:5,changeMappings:6,refine:7,quickPreview:8,savePublish:9,getFlatPreview:10,refreshData:11,mergeCube:12},localStorageKey:{HGOSFileTypeTooltipPop:"HGOSFileTypeTooltipPop"},requestFlag:{mapping:1,preview:2,sourceInfo:4,refineSourceInfo:8,sheets:16,crb:32,transformations:64,transformedPreview:128,relationship:256,stateInfo:512,anyState:268435456,fullData:1024,refineInnerData:2048},formMappingFlag:{formMappingFlagReserved:0,formMappingFlagRemoveGeoRole:1,formMappingFlagRemoveTimeRole:2,formMappingFlagRemoveDeriveFlags:4},browseFlag:{reportBindingTable:1,dataPreview:4,publish:16,cubeConfig:68,reportLevelProperty:256},importBehaviorFlag:{reserved:0,newColumnsSilent:1,dataTypeSilent:2},saveAsFlags:{saveAsOverWrite:32,saveAsManaged:524288,saveAsDDA:33554432,saveAsInMemory:67108864,saveAsWithPrompts:4096,saveAsWithAnswers:4},connectLiveSupport:{connectLiveSupportUnknown:0,connectLiveSupportDDAOrInMemory:1,connectLiveSupportInMemoryOnly:2,connectLiveSupportDDAOnly:3},xdaType:{excel:272,text:288,refine:384,salesforce:337,querybuilder:352,ffsql:304,mdx:2,customFreeFormSQL:3,googleAnalytics:390,googleBigQuery:341,googleBigQueryFFSQL:342,googleBigQuerySingleTable:345,qbSingleTable:368,twitter:343,facebook:344,dataImport:256,projectsImport:400,sparkDataset:416,dataImportFileExcel:16|256,dataImportFileText:32|256,dataImportCustomSQL:48|256,dataImportTable:64|256,dataImportOAuth:80|256,dataImportBISource:144|256,dataImportOAuthSalesforce:1|336,dataImportOAuthGDocs:2|336,dataImportOAuthGDrive:2|336,dataImportOAuthDropbox:3|336,dataImportOAuthGAnalytics:4|336,dataImportOAuthGBigQuery:5|336,dataImportOAuthGBigQueryFFSQL:6|336,dataImportOAuthGBigQuerySingleTable:9|336,spark:160|256},fileTypes:[{n:"CSV/TXT",v:"CSV"},{n:"PARQUET",v:"PARQUET"},{n:"AVRO",v:"AVRO"},{n:"ORC",v:"ORC"},{n:"JSON",v:"JSON"},{n:"PARQ",v:"PARQUET",visible:false}],sourceInfoDesc:{json:"DB_FILE_TYPE_JSON"},sourceType:{file:1,salesforce:2,dropbox:3,googleDrive:4,googleAnalytics:5,googleBigQuery:6,querybuilder:7,mstrFile:8,mdx:9,hadoop:10,twitter:11,facebook:12,bisource:13,remoteProject:14,importfromcube:15,dataFromPushApi:16,newConnector:17,cloudElement:18},sourceSubtype:{localFile:1,url:2,salesforce:3,dropbox:4,googleDrive:5,googleAnalytics:6,googleBigQuery:7,querybuilder:8,samplefile:9,clipboard:10,googleBigQueryFFSQL:11,searchOnSource:12,mdx:13,hadoop:14,twitter:15,facebook:16,bisource:17,remoteProject:18,googleBigQuerySingleTable:19,hanaSingleTable:20,publicData:21,importfromcube:22,dataFromPushApi:23,cloudElement:24,},backendSourceSubtype:{localFile:65537,url:65539,samplefile:65540,clipboard:65538,newConnector:65544,cloudElement:65552,hadoopFileBrowser:65541,customSQL:131073,customSQLWizard:131074,singleTable:131075,bISources:131076,searchAsASource:131078,salesforce:196609,dropbox:196610,facebook:196611,twitter:196612,googleDrive:196613,googleAnalytics:196614,googleBigQuery:196615,googleBigQueryFFSQLModel:196616,googleBigQuerySingleTable:196617,OLAPSources:327681,publicData:65542,dataFromPushApi:65543,dataFromPushApiV2:65545,cloudElement:65552,},sourceItemType:{file:0,url:1,database:2,hadoop:3,olap:4,publicData:5,salesforce:6,googleAnalytics:7,googleBigQuery:8,googleDrive:9,dropbox:10,searchAsASource:11,clipboard:12,bISources:13,facebook:14,twitter:15,samplefile:16,importFromCube:17,addNewConnector:18,newConnector:19,cloudElement:20,unknow:-1},columnState:{reserved:0,unchanged:1,newColumn:2,missing:4,changed:8},operationMode:{create:0,edit:1,refresh:2,subscribe:3,enterCredentials:4,oauth:5,pickTable:6,hadoopPickTable:7,ffsql:8,hadoopFFsql:9},statusCode:{obtainSource:-2147071874,xformsError:-2147071872,mappingError:-2147071871,edit:1,republish:2,schedule:3,enterCredentials:4,pickTable:5,hadoopPickTable:6,ffsql:7,hadoopFFsql:8},pageType:{intro:0,file:1,database:2,emmaPreview:3,redirect:4,analytics:5,dataSelection:6,suggestNewSource:7,sourceIntro:8,sourceObjects:10,sampleFiles:11,dataset:12,externalPage:13,preview:14,clipboard:15,refine:16,parse:17,mstrFile:18,allProjectSource:19,hadoop:20,twitter:21,facebook:22,sourceObjectsDnD:23,schedule:24,publicData:25,republish:26,sourceAdmin:27,importFromCube:28,addNewConnector:29,newConnector:30,addConnectorList:31,cloudElement:32},backendError:{overwriteObject:-2147212339,noPermission:-2147214579,invalidObjectName:-2147213715,unexpectedDataType:-2147212539,noExternalSession:-2147071844,noPrivilege:-2147212082,salesforceUnsavedReport:-2147212081,salesforceObsoleteReport:-2147212080,maxSizeExceeded:-2147212076,maxSizeExceededURL:-2147212121,salesforceUnresolvedFilter:-2147212074,incrementalRefresh:-2147212287,invalidUrl:-2147212062,fileVersionError:-2147212064,emptySheet:-2147212144,refreshTokenUnavailable:-2147202875,cubeQuotaExceeded:-2147071825,notEnoughSpace:-2147071811,importedURLInvalid:-2147212122,unsupportedFileFormat:-2147212063,objectNameTooLong:-2147217407,noExternalSourceInfo:-2147215346,memoryConsumptionExceeded:-2147215346,cubeQuotaReached:-2147071870,switchingFileType:-2147212140,memoryGovernSizeExceeded:-2147181051,stringTooLong:-2147213718,missingColumn:-2147071871,dataDiscoveryError:-2147211998,refineApplyError:-2147202299,serverOutOfMemory:-2147212055,columnCountMatchError:-2147467259,incompatibleDataTypeError:-2147211983,reportTimeout:-2147212335,requestTimeout:-2147206497,databaseCredentialsNotAvailable:-2147212037,ddasupportIncompatible:-2147215326,mergeInvalidXdatype:-2147215325,notFullyControl:-2147214579,shouldBeIgnored:-2147212123,CECredentialNotAvailable:-2147215317,AuthenticationError:-2147215346,queryEngineGeneralError:-2147212544},transformation:{xtab:1,delimiter:2},application:{platform:"Platform",cloudPersonal:"Personal",cloudProfessional:"Professional"},refreshOptions:{replace:1,append:2,update:4},cubeRefreshType:{dummy:-1,reserved:0,add:1,remove:2,update:3,upsert:4,addNewTable:5,deleteTable:6,replaceTable:7,preserve:8},tableStatsExecutionAction:{reserved:0,forceExecution:1,ignore:4,requireFreshData:268435456},sourcesInfoFlags:{none:0,getReports:1,getUserName:2,getTokensInfo:4,revokeSession:8,getGAnalyticsAccount:64},queryBuilderType:{individualTable:1,multipleTables:2,queryScript:3},relationshipEditType:{create:1,changeERType:2,remove:3,flip:8001},ERType:{reserved:0,ERType11:1,ERType1M:2,ERTypeM1:3,ERTypeMM:4,ERTypeParallel:5,ERTypePerpendicular:6},RSType:{reserved:0,auto:1,geo:2,defined:3},tableStates:{newly:1,old:2},behaviorChangeFlag:{multiSheet:4,remapping:8,refreshData:16},menuItems:{SEPARATOR:-1,NONE:0,TABLE_RENAME:1,DO_NOT_IMPORT:2,FLIP_ORDER:3,DELETE:4,RELATIONSHIP_TYPE:5,ONE_TO_ONE:6,ONE_TO_MANY:7,MANY_TO_ONE:8,MANY_TO_MANY:9,REMOVE:10,REFRESH_DATA:11,REFINE:12,CANCEL_REFINE:13,UNLINK:14,CHANGE_DATA_TYPE:15,MARK_GEO_ROLES:16,CREATE_TIME_ATTRIBUTES:17,TO_METRIC:18,TO_ATTRIBUTE:19,MAP_TO_PROJECT_ATTRIBUTE:20,UNMAP:21,MODIFY_ATTRIBUTE_GROUP:22,CREATE_ATTRIBUTE_GROUP:23,HIDE_ALL_ATTRIBUTE_FORMS:24,DEFINE_RELATIONSHIPS:25,LINK:26,ITEM_RENAME:27,CREATE_MULTIFORM_ATTRIBUTE:28,EDIT_MULTIFORM_ATTRIBUTE:29,ADDTO_MULTIFORM_ATTRIBUTE:30,SHOW_ALL_ATTRIBUTE_FORMS:31,SHOW_ALL_COLUMNS:32,PARTITION:33,REFINE_RENAME:34,REFINE_DELETE:35,REFINE_DELETE_ALL:36,REFINE_RESET:37,REFINE_RESET_ALL:38,PARSE:39,IMPORT:40,UNLINK_ALL:41,CREATE_HIERARCHY_ATTRIBUTE:42,EDIT_HIERARCHY_ATTRIBUTE:43,RESET_HIERARCHY_ATTRIBUTE:44},dataTypeMenuItems:{DATE_TIME:"1",NUMBER:"2",TEXT:"3",URL:"5",EMAIL:"6",HTML_TAG:"7",DATE:"8",TIME:"9",SYMBOL:"10",BIG_DECIMAL:"11",PHONE_NUMBER:"12"},columnDataTypes:{reserved:0,integer:1,unsigned:2,numeric:3,decimal:4,real:5,dtdouble:6,dtfloat:7,dtchar:8,varChar:9,longVarChar:10,binary:11,varBin:12,longVarBin:13,date:14,dttime:15,timeStamp:16,nChar:17,nVarChar:18,nlong:22,bigDecimal:30,cellFormatData:31,utf8Char:33,int64:34},formsOptions:{CREATE_MULTIFORM_ATTRIBUTE:1,EDIT_MULTIFORM_ATTRIBUTE:2,ADDTO_MULTIFORM_ATTRIBUTE:3},hierarchyOptions:{CREATE_HIERARCHY_ATTRIBUTE:1,EDIT_HIERARCHY_ATTRIBUTE:2,RESET_HIERARCHY_ATTRIBUTE:3},rdcsFlag:{ID:1,JOIN_ID:2,FILTER_ID:3,DISTANCE:4},timeRoles:{NONE:0,DATE:1,DATE_TIME:2,TIME:3,SECOND:4,MINUTE:5,HOUR:6,DAY:7,WEEK:8,MONTH:9,QUARTER:10,YEAR:11},contextMenuType:{ITEM_MENU:0,TABLE_MENU:1,PREVIEW_ITEM_MENU:2,LINK_MENU:3},dialogType:{fixRefreshErrorDialog:1,allObjectsViewDialog:2,missingColumnsDialog:3,diPageDialog:4,refreshHistoryDialog:5,alternateSourceValidateDialog:6,ddaConfirmDialog:7,publishStatusDialog:8,saveAsDialog:9,cubesList:10,refinePage:11,multiFormEditor:12,sheetsSelectionDialog:13,partitionGroupDialog:14,parseDataDialog:15,errorDialog:16,warningDialog:17,relationDefineDialog:18,qbImportOptionDialog:19,previewRenameDialog:20,mapProjectsAttributeDialog:21,setOAuthParaDialog:22,objectPicker:23,refineClusteringPage:24,refineExtractDialog:25,refineImportDialog:26,twitterAdvOptDialog:27,credentialsDialog:28,mapProjectsAttributeDialog2:29,setWhiteListDialog:30,binaryUploadDialog:31,authenticationDialog:32,sharingDialog:33,hadoopGatewayManagerDialog:34,hadoopGatewayDialog:35,addConnectorDialog:36,hierarchyAttributeDialog:37,hierarchyAttributeResetDialog:38},dataEvents:{DATA_PREVIEW_EVENT:"dataReturned",NO_DATA_RETURNED_EVENT:"noDataReturned"},cubeSchedStatus:{unexecuted:1,successful:2,unscheduled:3,failed:4},privilegeType:{accessDatabase:1,accessFile:2,accessCloud:3},dbType:{MS_ACCESS:100,ORACLE:200,SQL_SERVER:300,INFORMIX:400,SYBASE:500,REDBRICK:600,DB2:700,TANDEM:800,TERADATA:900,UNKNOWN:1000,GENERIC:1100,SAP:1200,NETEZZA:1300,EXCEL:1400,MSFT_AS:1500,ESSBASE:1600,MYSQL:1700,POSTGRESQL:1800,HPNEOVIEW:1900,METAMATRIX:2000,DATALLEGRO:2100,COMPOSITE:2200,ASTER:2300,VERTICA:2400,OPENACCESS:2500,SYBASE_SQL_ANY:2600,SYBASE_IQ:2700,PARACCEL:2800,TM1:2900,XQUERY:3000,HIVE:3100,SAND:3200,SALESFORCE:3300,HIVETHRIFT:3400,VECTORWISE:3500,ENTERPRISEDB:3600,KOGNITIOWX2:3700,EXASOLUTION:3800,INFORMATICA:3900,SAPHANA:4000,IMPALA:4100,AMAZON_REDSHIFT:4200,DENODO:4300,GOOGLE_DRIVE:4400,DROPBOX:4500,GOOGLE_ANALYTICS:4600,GOOGLE_BIGQUERY:4700,CONNECTION_CLOUD:4800,GOOGLE_BIG_QUERY_FFSQL_MODEL:4900,PARSTREAM:5100,MONGODB:5200,MARKLOGIC:5300,BIG_DATA_ENGINE:5400,SEARCH_ENGINE_SOLR:5500,SPLUNK:5600,TWITTER:5700,FACEBOOK:5800,PIG:6400,URL:7700,newConnector:7900,LOACLFILE:8200},getCubeQuotaAndInfosOptions:{GetCubeQuotaAndInfosReserved:0,GetCubeQuotaAndInfosDefault:1,GetCubeQuotaAndInfosQuotaOnly:2,GetCubeQuotaAndInfosAll:3,GetCubeQuotaAndInfosVI:4},homepageViewMode:{GRID_VIEW:0,LIST_VIEW:1},datasetServeMode:{inMemory:1,dda:2,unknow:3},cubePollStatus:{msgID:0,result:1,prompt:2,error:3,xmlResult:21},ibmDb2Versions:[17,18,21,22,23,24,25,37,45,46,47,48,63,66,74,89,92,101,103,105,123,134,157,172,202,232],hadoopDbTypes:[3100,1100,700,4100,7300,6800,6400,8100],formCategory:{longitude:"2345134F4F5E261C3BB902A874467080",latitude:"B191051C48221A6AE44CA2B65B1B65E3"},urlAuthDBRoles:{anonymous:"CB1CB472A07E41D5AE038232839F2064",windows:"95A5ACC02FE94CBABCB65E4F2D2415B2",kerberos:"317D6F016D784836A724AD4D739E1E9C",integrated:"E966E1A0A4C949108287B2E5086B68EB"},urlAuthDBMSId:"497F2406FA154B86810C71EA3D401D6D",newConnectorDBMSId:"565D5DC3A1124726B85FE53EF992472A",hadoopGateWay:{HGoS_CONFIG_HAS_EXIT:1510,CONNOT_AUTHENTICATE:1511,SPACE_OVER:1512,FAIL_COPY_TO_HOST:1513,INSUFFICIENT:1514,DIRECTORY_NO_EXIST:1515,HGOS_DEPLOYED:1518,HGOS_DEPLOYING:1519,CONNOT_AUTHENTICATE2:1520,HGOS_RUNNING:1521,HGOS_STOPPED:1522,HGOS_NOT_DEPLOYING:1523,HGOST_TAR_NOT_EXIST:1524,HGOS_CONF_NOT_EXIST:1530},workstation:{filerBreakLine:new RegExp("[\r\n]","g"),utils:{shouldShowTitleBar:function(){var A=mstrApp.getRootController().rootView.inPageDialog;return !!mstrApp.isWorkstation&&(!!mstrApp.isPopup||!!A);},setNativeWindow:function(C,F){var B=1110,E=590,D=parseInt(C,10),A=parseInt(F,10);if(!window.FormWrapper||!window.FormWrapper.setWindowFrame){return ;}if(C.match(/%$/)&&F.match(/%$/)){window.FormWrapper.setWindowContentSize(1200,680);}else{D=D<B?B:D;A=A<E?E:A;window.FormWrapper.setWindowContentSize(D,A);}},lockResize:function(){if(!window.FormWrapper||!window.FormWrapper.lockResize){return ;}window.FormWrapper.lockResize();},unlockResize:function(){if(!window.FormWrapper||!window.FormWrapper.unlockResize){return ;}window.FormWrapper.unlockResize();}}},authMode:{ANONYMOUS:0,USERNAME:1,OAUTH:2},authModePrefix:{ANONYMOUS:"AuthMode=Anonymous;URL=",USERNAME:"AuthMode=Basic;URL=",OAUTH:"AuthMode=OAuth;URL="},sdkUrl:{MARKPLACE_URL:"https://community.microstrategy.com/s/gallery?tabset-89baf=202df",QUICK_START_URL:"https://lw.microstrategy.com/msdz/MSDL/GARelease_Current/docs/projects/DataConnectorSDK/Content/topics/Quick_Start_Guide.htm"},originalConnector:{elastic:"DE4A8E15405A36D80BF1E1A2BA6F9B66",tapClicks:"1E8ADD3975DA4609B8D00E6211ACAB6A"},googleAnalyticsUrl:{queryExplorer:"https://ga-dev-tools.appspot.com/query-explorer/"},weekDay:[{n:mstrmojo.desc(9380,"Monday"),v:0},{n:mstrmojo.desc(9381,"Tuesday"),v:1},{n:mstrmojo.desc(9382,"Wednesday"),v:2},{n:mstrmojo.desc(9383,"Thursday"),v:3},{n:mstrmojo.desc(9384,"Friday"),v:4},{n:mstrmojo.desc(9385,"Saturday"),v:5},{n:mstrmojo.desc(9379,"Sunday"),v:6}],dateMon:[{n:mstrmojo.desc(15106,"1st day"),v:"1"},{n:mstrmojo.desc(15107,"15th day"),v:"15"}],timeOfDay:[{n:"12:00AM",v:"12:00AM"},{n:"1:00AM",v:"1:00AM"},{n:"2:00AM",v:"2:00AM"},{n:"3:00AM",v:"3:00AM"},{n:"4:00AM",v:"4:00AM"},{n:"5:00AM",v:"5:00AM"},{n:"6:00AM",v:"6:00AM"},{n:"7:00AM",v:"7:00AM"},{n:"8:00AM",v:"8:00AM"},{n:"9:00AM",v:"9:00AM"},{n:"10:00AM",v:"10:00AM"},{n:"11:00AM",v:"11:00AM"},{n:"12:00PM",v:"12:00PM"},{n:"1:00PM",v:"1:00PM"},{n:"2:00PM",v:"2:00PM"},{n:"3:00PM",v:"3:00PM"},{n:"4:00PM",v:"4:00PM"},{n:"5:00PM",v:"5:00PM"},{n:"6:00PM",v:"6:00PM"},{n:"7:00PM",v:"7:00PM"},{n:"8:00PM",v:"8:00PM"},{n:"9:00PM",v:"9:00PM"},{n:"10:00PM",v:"10:00PM"},{n:"11:00PM",v:"11:00PM"}],schedule:{DAILY:"Daily",WEEKDAY:"Weekday",WEEKLY:"Weekly",MONTHLY:"Monthly"},mainPage:{GRID_MODE:0,LIST_MODE:1},sourceIconClsName:{0:"ds-Generic",1:"ds-DB2",2:"ds-DB2",3:"ds-DB2",4:"ds-InformixWire",5:"ds-InformixXPS",6:"ds-PostgreSQL",7:"ds-SAP",8:"ds-SAP",9:"ds-Oracle",10:"ds-MicroSoft",11:"ds-Teradata",12:"ds-MySQL",13:"ds-GreenPlum",14:"ds-Netezza",15:"ds-WebServices",17:"ds-Infobright",18:"ds-Salesforce",19:"ds-MicroSoft",20:"ds-Actian-n",21:"ds-Amazon-Redshift",22:"ds-Impala",23:"ds-Aster",25:"ds-Actian-n",26:"ds-EnterpriseDB",27:"ds-Vertica",28:"ds-Denodo",29:"ds-CiscoDataVirtualization",31:"ds-MicroSoft",32:"ds-GoogleBigQuery",33:"ds-SAP",35:"ds-IBMBigInsights",39:"ds-TM1",41:"ds-WebServices",43:"ds-Amazon-EMR",44:"ds-Apache-Hive",45:"ds-ClouderaHive",46:"ds-HortonworksHive",47:"ds-MapRHive",48:"ds-apache",49:"ds-SharkSpark",50:"ds-MongoDB",52:"ds-MariaDB",51:"ds-MarkLogic",54:"ds-Splunk",55:"ds-DataDirectCloud",56:"ds-ParStream",58:"ds-Phoenix",59:"ds-MicroSoft",60:"ds-DB2",61:"ds-Oracle",62:"ds-Teradata",63:"ds-SAP",65:"ds-PostgreSQL",66:"ds-MySQL",67:"ds-MariaDB",68:"ds-Amazon-EMR",69:"ds-Apache-Hive",70:"ds-ClouderaHive",71:"ds-HortonworksHive",72:"ds-MapRHive",73:"ds-SharkSpark",75:"ds-Amazon-Redshift",76:"ds-PIVOTALHAWQ",77:"ds-MemSQL",78:"ds-Arcadia-Platform",79:"ds-Altibase",80:"ds-MongoDB",81:"ds-Presto",82:"ds-DB2",83:"ds-DB2",84:"ds-InformixWire",85:"ds-SAP",86:"ds-MicroSoft",87:"ds-MicroSoft",88:"ds-MemSQL",90:"ds-GreenPlum",91:"ds-PIVOTALHAWQ",92:"ds-Netezza",93:"ds-Infobright",94:"ds-Actian-n",95:"ds-Impala",96:"ds-IBMBigInsights",97:"ds-Aster",99:"ds-Actian-n",100:"ds-EnterpriseDB",101:"ds-Vertica",102:"ds-Denodo",103:"ds-CiscoDataVirtualization",105:"ds-DataDirectCloud",106:"ds-ParStream",107:"ds-Arcadia-Platform",109:"ds-Presto",110:"ds-Phoenix",111:"ds-Kognitio",112:"ds-Kognitio",113:"ds-Informatica",114:"ds-Informatica",115:"ds-Apache-Cassandra-JDBC",116:"ds-SAP",117:"ds-Actian",118:"ds-Actian",119:"ds-InformixXPS",120:"ds-Apache-Cassandra-JDBC",121:"ds-MapRDrill",122:"ds-Cirro",123:"ds-EXASolution",124:"ds-EXASolution",125:"ds-Oracle",126:"ds-Oracle",127:"ds-Snowflake",128:"ds-Snowflake",129:"ds-Amazon-Aurora",130:"ds-Amazon-Aurora",131:"ds-Amazon-Athena",132:"ds-Amazon-Athena",133:"ds-MapRDrill",134:"ds-Druid",135:"ds-Druid",139:"ds-MongoBI",157:"ds-GoogleBigQuery",161:"ds-MapD",168:"ds-HortonworksSpark",169:"ds-HortonworksSpark",170:"ds-Yellowbrick",},dispTag:{1:"Database",2:"OLAP",4:"BigData",8:"Database",16:"BigData",32:"BigData"},searchTags:{100:["Database","ODBC"],200:["Database","ODBC"],300:["Database","ODBC"],400:["Database","ODBC"],500:["Database","ODBC"],600:["Database","ODBC"],700:["Database","ODBC"],900:["Database","ODBC"],1100:["Database","ODBC"],1200:["OLAP","Cube"],1300:["Database","ODBC"],1400:["Database"],1500:["OLAP","Cube"],1600:["OLAP","Cube"],1700:["Database","ODBC"],1800:["Database","ODBC"],2200:["Database","ODBC"],2300:["Database","ODBC"],2400:["Database","ODBC"],2800:["Database","ODBC"],2900:["OLAP","Cube"],3000:["Database"],3100:["Database","BigData","Hadoop"],3300:["Cloud"],3500:["Database","ODBC"],3600:["Database","ODBC","BigData"],3800:["Database"],3900:["Database"],4000:["Database","ODBC"],4100:["Database","BigData","Hadoop"],4200:["Database","ODBC"],4300:["Database","ODBC"],4700:["Database","Cloud","BigData"],4800:["Cloud"],5200:["Database","NoSQL"],5300:["Database","NoSQL"],5400:["Hadoop"],6400:["Database","BigData","Hadoop"],6600:["Database"],6700:["Database"],6800:["BigData"],6900:["BigData"],7100:["NoSQL"],7200:["Database"],7300:["BigData","Hadoop"],7500:["Database"],7600:["Database"],8000:["Database"],8100:["BigData"],},srcItemTypes:{ALL_SOURCES:"ALL_SOURCES",STATIC_SOURCE:"STATIC_SOURCE",DBTYPE_SOURCE:"DBTYPE_SOURCE",CUSTOM_CONNECTOR:"CUSTOM_CONNECTOR",CLOUDELEMENT_CONNECTOR:"CLOUDELEMENT_CONNECTOR"},combination:{BigData:["BigData","NoSQL","Search","Hadoop"],Apps:["Apps","oAuth","Cloud","Social","BI","PublicData","CE"]},GenericDBStr:"Generic",dataSourceType:{MONGODB:"mongodb",FILE_URL:"fileUrl",FILE_LOCAL:"fileLocal",ES:"elasticsearch",DROPBOX:"dropbox",GOOGLE_DRIVE:"googleDrive",GOOGLE_ANALYTICS:"googleAnalytics",GOOGLE_BIGQUERY:"googleBigQuery",SALESFORCE:"salesforce",FILE:"file",GENERIC_JDBC:"genericJdbc"},ERDF:{ENUM_LOAD_REPORT_BROWSE_TYPE_BINDINGTABLE:1,ENUM_LOAD_REPORT_BROWSE_TYPE_DATAPREVIEW:4,ENUM_LOAD_REPORT_BINDING_FLAG_ALL:15,ENUM_LOAD_REPORT_PREVIEW_FLAG_MappingInfo:1,ENUM_LOAD_REPORT_PREVIEW_FLAG_DataInfo:2,ENUM_LOAD_REPORT_PREVIEW_FLAG_SourceInfo:4,ENUM_LOAD_REPORT_PREVIEW_FLAG_InnerDataInfo:2048,},DSSSubType:{DSSSUBTYPEATTRIBUTE:3072,DSSSUBTYPEATTRIBUTEROLE:3073,DSSSUBTYPEATTRIBUTETRANSFORMATION:3074,DSSSUBTYPEATTRIBUTEABSTRACT:3075,DSSSUBTYPEATTRIBUTERECURSIVE:3076},DSSExType:{DSSEXDISPARK:416},URLMode:{NormalUrl:0,NewConnector:1,NewConnectorEdit:2,CloudElement:3},disableFeatures:{DISABLE_CUSTOM_CONNECTOR:"disableCustomerConnector",DISABLE_DDA:"disableDDA",DISABLE_QUOTA:"disableQuota",DISABLE_HADOOP:"disableHadoop",DISABLE_BI_TOOLS:"disableBITools",DISABLE_CLIP_BOARD:"disableClipboard",DISABLE_FACE_BOOK:"disableFacebook",DISABLE_TWITTER:"disableTwitter",DISABLE_SAMPLE_FILES:"disableSampleFiles",DISABLE_PUBLIC_DATA:"disablePublicData",DISABLE_MERGE_CUBE:"disableMergeCube",DISABLE_CE_SOURCE:"disableCESource",DISABLE_FLATTERN_DB_SOURCE:"disabledSources"},DssXmlPrivileges:{DssXmlPrivilegesUseDatabaseInstanceManager:57},Enum_SourceCategoryType:{File:1,BigData:2,Database:3,OLAP:4,Customized:5,Apps:6,}});}());(function(){mstrmojo.requiresCls("mstrmojo.array");var E=mstrmojo.array;mstrmojo._BindTargetChildren=mstrmojo.provide("mstrmojo._BindTargetChildren",{target:null,targetProps:null,addTabButtons:null,removeTabButtons:null,clearButtons:null,ontargetChange:function D(L){var M=L&&L.valueWas;if(M){var J=this._targetSubs;if(J){M.detachEventListener(J.add);M.detachEventListener(J.rem);M.detachEventListener(J.sel);}this.clearButtons();}var N=this.target;if(N){var I=this.targetProps,H=(I&&I.children)||"children",F=N[H];this.addTabButtons(F,0);this._onTargetSelChg();if(N.attachEventListener){var G=this.id,K="attachEventListener";this._targetSubs={add:N[K]("addChild",G,"_onTargetAddChild"),rem:N[K]("removeChild",G,"_onTargetRemoveChild"),sel:N[K]("selectedChange",G,"_onTargetSelChg")};}}this._ontargetChange();},_ontargetChange:mstrmojo.emptyFn,_onTargetAddChild:function A(F){var G=F&&F.value;if(G&&G.length){this.addTabButtons(G,F.index);}this._postTargetAddChild();},_postTargetAddChild:mstrmojo.emptyFn,_onTargetRemoveChild:function B(G){var F=G&&G.value,H;for(H=((F&&F.length)||0)-1;H>-1;H--){this.removeTabButton(F[H]);}this._postTargetRemoveChild();},_postTargetRemoveChild:mstrmojo.emptyFn,_onTargetSelChg:function C(L){var G=this.targetProps||{},F=this[G.names||"children"],J=function(O,P){if(O.set){O.set("selected",P);}else{O.selected=P;}};if(L){var H=L.valueWas,K=H?E.find(F,"target",H):-1;if(K>-1){J(F[K],false);}}var M=this.target,N=M&&M.selected,I=N?E.find(F,"target",N):-1;if(I>-1){J(F[I],true);}this._postTargetSelChg();},_postTargetSelChg:mstrmojo.emptyFn});}());(function(){mstrmojo.requiresCls("mstrmojo.array");function C(G,H,E){var F=G.createElement("input");F.name=H;F.type="hidden";F.value=E;return F;}function B(K,J){J=J.substring(J.indexOf("?")+1,J.length);var M=J.split("&"),L="",G="";var N=/\+/g,H,E;for(H=0,E=M.length;H<E;H++){var I=M[H].indexOf("=");if(I>=0){L=M[H].substring(0,I);G=M[H].substring(I+1);}else{L=M[H];G="";}if(G){G=decodeURIComponent(G.replace(N," "));}var F=document.createElement("INPUT");F.type="HIDDEN";F.name=L;F.value=G;K.appendChild(F);}return false;}mstrmojo.form={createDynamicForm:function A(E,H){var F=document.createElement("FORM"),G=E.indexOf("?")>0;F.name="dynamic_form";F.method=H||"POST";F.action=(G?E.substring(0,E.indexOf("?")):E);if(G){B(F,E);}document.body.appendChild(F);return F;},sendLinkAsForm:function(E,G,H){var F=this.createDynamicForm(E,H);this.send({},F.action,F.method,G,null,null,F);},sendLink:function(E,H,I){var G=mstrmojo.array.indexOf(["_new","_blank"],H)>-1,F=!mstrmojo.isUrlExternal(E);if(!G&&F){mstrApp.showWait&&mstrApp.showWait({showCancel:true,onCancel:mstrApp.hideWait});}if(!mstrmojo.isUrlExternal(E)){mstrmojo.form.sendLinkAsForm(E,H,I);}else{if(G){window.open(E);}else{window.location.href=E;}}},send:function D(L,M,F,O,J,H,G){var Q=((J&&J.hWin)||window).document,N=G||Q.createElement("form"),K=mstrApp;L=mstrmojo.addCSRFTokenToTaskParams(L);N.method=F||"POST";if(O){N.target=O;}N.action=M||K.name;H=(H!==undefined)?H:!(N.action&&N.action.indexOf("aspx")>0)&&mstrConfig.addTimeStampToPreventCaching;if(!!K.addJSessionIdToURL&&K.httpSessionId){N.action+=";jsessionid="+K.httpSessionId;}if(H){N.action+=";uxts"+mstrmojo.now();}N.appendChild(C(Q,"xts",String(mstrmojo.now())));var R,E=K.persistTaskParams||microstrategy.persistParams;for(R in E){L[R]=E[R];}if(K.servletState&&K.name){L[K.name]=K.servletState;}if(L){var I;for(I in L){if(L[I].constructor===Array){mstrmojo.array.forEach(L[I],function(S){N.appendChild(C(Q,I,S));});}else{N.appendChild(C(Q,I,L[I]));}}}Q.body.appendChild(N);try{N.submit();}catch(P){if(O&&P.result===2147500037&&!window.open("","","width=1,height=1,left=0,top=0,scrollbars=no")){mstrmojo.alert("*This action requires popups to be allowed in the browser.*");}else{mstrmojo.err("Form submission failed for an unknown reason.");}}Q.body.removeChild(N);},addURLAsHiddenInputsToForm:B};}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash");var K=mstrmojo.array,D=mstrmojo.hash;function E(V,T){var W=[],Q=V.selectedIndices,P=V.allIdx;var R,S,U=V.items;if(V.multiSelect&&(P>-1)&&(K.indexOf(T,V.allIdx)>-1)){for(R=0,S=U.length;R<S;R++){if(!Q[R]){W.push(R);Q[R]=true;V.selectedIndex=R;V.selectedItem=U[R];}}}else{for(R=0,S=T.length;R<S;R++){var X=T[R];if(!Q[X]){Q[X]=true;W.push(X);V.selectedIndex=X;V.selectedItem=U[X];}}}return W;}function J(R){var Q=[],S=R.selectedIndices,P;for(P in S){delete S[P];Q.push(parseInt(P,10));}R.selectedIndex=-1;R.selectedItem=null;return Q;}function H(V,U){var S=[],Q=V.selectedIndices,X=K.indexOf,P=V.allIdx;if(V.multiSelect&&(P>-1)&&(X(U,P)>-1)){return J(V);}if(U.length>0&&Q[P]){if(X(U,P)<0){U.push(P);}}var T=U.length,R;for(R=0;R<T;R++){var W=U[R];if(Q[W]){delete Q[W];S.push(W);if(V.selectedIndex===W){V.selectedIndex=-1;V.selectedItem=null;}}}return S;}function A(S,R){var P=S.selectedIndices;if(!P){P={};S.selectedIndices=P;}if(!R){R={};}var U=S.selectedIndex,T=[],V,Q;for(Q in P){if(!R[Q]){V=parseInt(Q,10);delete P[Q];T.push(V);if(U===V){S.selectedIndex=-1;S.selectedItem=null;}}}var X=[],W=S.items;for(Q in R){if(!P[Q]){V=parseInt(Q,10);P[Q]=true;X.push(V);S.selectedIndex=V;S.selectedItem=W&&W[V];}}return{add:X,rmv:T};}function G(Q,P,R){if(Q.raiseEvent&&((P&&P.length)||(R&&R.length))){Q.raiseEvent({name:"change",added:P,removed:R});}}mstrmojo._ListBase2Selections=mstrmojo.provide("mstrmojo._ListBase2Selections",{multiSelect:false,selectedIndices:null,selectedIndex:-1,selectedItem:null,selectedIndices_bindEvents:"change",selectedIndex_bindEvents:"change",selectedItem_bindEvents:"change",allowUnlistedValues:true,insertUnlistedValuesAt:-1,allIdx:-1,singleSelect:function F(P,Q){if(!this.selectedIndices[P]||(this.selectionPolicy==="reselect")||(P!==this.allIdx&&this.selectedIndices[this.allIdx])){var R=J(this),S=E(this,[P]);if(Q!==true){G(this,S,R);}}},toggleSelect:function O(P,Q){var S,R;if(this.selectedIndices[P]){R=H(this,[P]);}else{S=E(this,[P]);}if(Q!==true){G(this,S,R);}},rangeSelect:function N(P,Q){this.singleSelect(P,Q);},clearSelect:function I(P){var Q=J(this);if(P!==true){G(this,null,Q);}},select:function L(R,P){var Q=A(this,K.hash(R));if((P!==true)&&(Q.add.length||Q.rmv.length)){G(this,Q.add,Q.rmv);}},addSelect:function B(R,P){if(R===null||R===undefined){return null;}if(R.constructor!==Array){R=[R];}var Q=E(this,R);if(P!==true){G(this,Q,null);}return Q;},removeSelect:function M(R,P){if(R===null||R===undefined){return null;}if(R.constructor!==Array){R=[R];}var Q=H(this,R);if(P!==true){G(this,null,Q);}return Q;},_set_selectedIndices:function(S,Q,P){if(this.selectedIndices===Q){return false;}var R=A(this,Q);if(R.add.length||R.rmv.length){if(P!==true){G(this,R.add,R.rmv);}}return false;},_set_selectedIndex:function(S,Q,P){var R={};if(Q>-1){R[Q]=true;}return this._set_selectedIndices(null,R,P);},_set_selectedItem:function(W,T,S){var R=T&&(typeof T==="object"),V=this.itemIdField,Q=-1,U=this.items;if(R&&V!=null){Q=K.find(U,V,T[V]);}else{if(T!=null){Q=K.indexOf(U,T);}}if((Q===-1)&&(T!=null)&&this.allowUnlistedValues){var P=this.insertUnlistedValuesAt;if(P==null||P<0){P=(U&&U.length)||0;}Q=P;this.add([T],Q);}return this._set_selectedIndex(null,Q,S);},initSelections:function C(T,Q,P,S,R){if(!this.selectedIndices){this.selectedIndices={};this.selectedIndex=-1;}if(T){this._set_selectedIndices(null,T,R);}else{if(Q){this.select(Q,R);}else{if(S){this._set_selectedItem(null,S,R);}else{if(P!==null&&P!==undefined){this._set_selectedIndex(null,P,R);}}}}},sortSelectedIndices:function(){return D.keyarray(this.selectedIndices,true).sort(K.numSorter);},removeSelectedItems:function(){var R=this.sortSelectedIndices(),P=R.length,S=R[P-1],Q=this.remove(R);S=Math.min(S+1-P,this.items.length-1);if(S>=0){this.singleSelect(S);}return Q;},getSelectedItems:function(){return K.get(this.items,this.sortSelectedIndices())||[];},setSelectedItems:function(Q,d){if(!Q||!Q.length){return ;}var S=this.items||[],s=this.itemIdField!=null?K.findMulti(S,this.itemIdField,Q):K.indexOfMulti(S,Q),V=Q.length,T=V-s.count,q=this.allowUnlistedValues,b=this.insertUnlistedValuesAt,X=(q&&(b>-1))?T:0;if(b<0){b=S.length;}var R=[],U=[],f=s.map;if(T&&q){var p=0,e;for(e=0;e<V;e++){if(f[e]==null){R.push(Q[e]);U.push(b+p++);}}this.add(R,b);}var W=[],h;for(h in f){var o=f[h];if(o>=b){o+=X;}W.push(o);}var r=W.concat(U),Y=this.addSelect(r,!d);if(!d){var Z=K.hash(Y),g=this.selectedIndices,a=[],l;for(l in g){if(!Z[l]){a.push(parseInt(l,10));}}var P=this.removeSelect(a,true);G(this,Y,P);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");var E=mstrmojo.dom,M=mstrmojo.hash,B,I=mstrmojo.global.document,K="mousedown",O="mousemove",Q="mouseup";function G(X){if(E.isPrimaryMouseBtn(X)){B.startDragCheck(self,X);}}var U,P,A="mstrmojo-dnd-avatar",T;function F(Y,X){if(X!==undefined&&X!==null){P.innerHTML=X;}T.left=Y.x+"px";T.top=Y.y+"px";}function L(Y,X){if(!U){U=I.createElement("div");T=U.style;U.className=A;U.innerHTML='<div class="'+A+'-inner"></div>';P=U.firstChild;I.body.appendChild(U);}F(Y,X);T.display="block";}function R(){if(T){T.display="none";}}function H(X){var Y=++B.ctxt.moveCount;if(Y>=B.minMoves){B.stopDragCheck();if((X.buttons===1||X.buttons===undefined||E.isIE9)&&(X.which===1||X.button===0||E.isIE8)){B.startDrag(self,X);}}}function N(X){if(E.isPrimaryMouseBtn(X)){B.stopDragCheck();delete B.ctxt;}}function D(X){B.onDragMove(self,X);}function C(X){if(E.isPrimaryMouseBtn(X)){B.stopDrag(window,X);}}function J(Y){var X=E.findWidget(Y);while(X){if(X.draggable){return X;}X=X.parent;}return null;}function S(X){var Z=X.src,Y=J(Z.node);if(!Y){return null;}if(Y.getDragAction){X.action=Y.getDragAction(X);}Z.widget=Y;Z.data=Y.getDragData&&Y.getDragData(X);if(Y.isDragValid){if(!Y.isDragValid(X)){if(!mstrApp.isInVFInteractMode&&(!Y.shouldDragBubble||Y.shouldDragBubble(X)===true)){X.src.node=Y.domNode.parentNode;return S(X);}return null;}}if(Y.ondragstart){Y.ondragstart(X);}return Y;}function W(Z,Y){var X=E.findWidget(Z),a=Y.tgt&&Y.tgt.widget;while(X){if(X.dropZone){if(X===a){return X;}if(X.allowDrop&&X.allowDrop(Y)){return X;}}X=X.parent;}return null;}function V(){if(this.set){this.set("allowingDrop",false);}}mstrmojo.dnd=mstrmojo.dnd||mstrmojo.provide("mstrmojo.dnd",{minMoves:3,enable:function(){if(!mstrmojo.dndEnabled){E.attachEvent(I,K,G);mstrmojo.dndEnabled=true;}},disable:function(){mstrmojo.dndEnabled=false;E.detachEvent(I,K,G);},startDragCheck:function(X,Y){delete this.ctxt;var Z=E.captureEventInfo({hWin:X,e:Y});this.ctxt={src:Z,moveCount:0,last:M.copy(Z.pos),getDirection:function(a){return !!this.dir[a];},getCtxtDragData:function(){var a=this.src;return(a&&a.data)||{};},getCtxtDropData:function(){var a=this.tgt;return(a&&a.data)||{};}};if(this.minMoves){E.attachEvent(I,O,H);E.attachEvent(I,Q,N);}else{this.startDrag(X,Y);}},stopDragCheck:function(){E.detachEvent(I,O,H);E.detachEvent(I,Q,N);},startDrag:function(X,a){var Y=this.ctxt;Y.id=mstrmojo.now();var Z=S(Y);if(!Z){return ;}E.clearBrowserHighlights(X);E.preventDefault(self,a);E.attachEvent(I,O,D);E.attachEvent(I,Q,C);var c=window.mstrApp;if(c&&c.setInteractive){this._changeAppStatus=c.setInteractive(false);}if(!Z.ownAvatar){var b=Y.src;L(b.pos,b.data&&b.data.html);}},stopDrag:function(X,d){E.detachEvent(I,O,D);E.detachEvent(I,Q,C);var a=this.ctxt,Z=a.tgt||{},Y=E.captureEventInfo({hWin:X,e:d,data:Z.data}),c=W(Y.node,a);Y.widget=c;a.tgt=Y;if(c){if(c.ondrop){c.ondrop(a);}else{V.call(c);}}var b=a.src.widget;if(b&&b.ondragend){b.ondragend(a);}if(b&&!b.ownAvatar){R();}if(this._changeAppStatus){window.mstrApp.setInteractive(true);delete this._changeAppStatus;}},onDragMove:function(b,d){if(E.isSafari){E.clearBrowserHighlights();}var X=this.ctxt,a=X.tgt||{},Y=a.widget,c=E.captureEventInfo({hWin:b,e:d,data:a.data}),h=c.widget=W(c.node,X),g=X.last,Z=c.pos;X.dir={x:Z.x>g.x,y:Z.y>g.y};X.last=M.copy(c.pos);X.tgt=c;if(Y!==h){if(Y){if(Y.ondragleave){Y.ondragleave(X);}else{V.call(Y);}}if(h){X.tgt.data=(h.getDropData&&h.getDropData(X))||{};if(h.ondragenter){h.ondragenter(X);}else{if(h.set){h.set("allowingDrop",true);}}}}if(h){if(h.ondragover){h.ondragover(X);}}var f=X.src.widget;if(f&&f.ondragmove){f.ondragmove(X);}if(f&&!f.ownAvatar){F(c.pos);}}});B=mstrmojo.dnd;B.enable();}());(function(){mstrmojo.requiresCls("mstrmojo.dom");var C=mstrmojo.dom;function D(J,I){var G=[];if(J){var F;for(F in J){var H=Number(F);if(H>=I){G.push(H);}}}G.sort(mstrmojo.array.numSorter);return G;}mstrmojo.ListSelector=mstrmojo.provide("mstrmojo.ListSelector",{premousedown:function E(L,F,N){if(C.isPrimaryMouseBtn(N.e)){var I=N.hWin,J=N.e,G=C.eventTarget(I,J),M=L.listMapper.findIndex(L,F,G);if(M>-1){var H=L.multiSelect,K=C.ctrlKey(I,J),O=C.shiftKey(I,J);if(K||O){C.clearBrowserHighlights(I);}if(H&&(K||(L.selectionPolicy==="toggle"))){L.toggleSelect(M);}else{if(H&&O){L.rangeSelect(M);}else{L.singleSelect(M);}}}}},premouseup:function B(H,K,G){var F=G.hWin,J=G.e,L=C.ctrlKey(F,J),I=C.shiftKey(F,J);if(L||I){C.clearBrowserHighlights(F);}},onadd:function A(I,H){var M=H&&H.value&&H.value.length;if(M){var G=H.index,K=I.selectedIndices,L=D(K,G),J;for(J=L.length-1;J>-1;J--){var F=L[J];K[F+M]=true;delete K[F];}if(I.selectedIndex>=G){I.selectedIndex+=M;}}},onremove:function A(Q,S){var O=S&&S.value&&S.value.length;if(O){var R=S.index,I=R+O-1,M=Q.selectedIndices,L=Q.selectedIndex,G=[],T=[],P=false;if(M){var H;for(H in M){var K=Number(H);if(K>I){G.push(K);}else{if(K>=R){T.push(K);P=true;}}}}G.sort(mstrmojo.array.numSorter);var J,N;for(J=0,N=G.length;J<N;J++){var F=G[J];M[F-O]=true;delete M[F];}if(L>I){Q.selectedIndex-=O;}if(P){Q.removeSelect(T);}}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom");var E=mstrmojo.dom;mstrmojo.ui._IsIncFetchList=mstrmojo.provide("mstrmojo.ui._IsIncFetchList",{_mixinName:"mstrmojo.ui._IsIncFetchList",ifDataHelper:null,supportsIncFetch:false,isFetching:false,initScroll:function A(){var I=this.ifDataHelper,H=this,G=this.scrollNode||this.domNode;this.supportsIncFetch=I&&I.hasNext();if(I&&this.supportsIncFetch){this._scroll=function F(){var J=this.scrollNode||this.domNode||G;if(Math.ceil(J.offsetHeight+J.scrollTop)>=J.scrollHeight){H.raiseEvent({name:"incFetch",id:H.id});}};E.attachEvent(G,"scroll",this._scroll);this.attachEventListener("incFetch",this.id,function(J){if(!this.supportsIncFetch||this.isFetching){return ;}if(this.preNext){this.preNext();}this.set("isFetching",true);I.next({complete:function(K){if(H.postNext){H.postNext();}H.set("isFetching",false);},success:function(K){H.addItems(K.items||null);},failure:function(K){H.supportsIncFetch=false;mstrmojo.alert("Error in fetching next: "+K);}});});}},unrender:function D(F){var G=this.scrollNode||this.domNode;E.detachEvent(G,"scroll",this._scroll);this._super(F);},render:function C(){this._super();if(this.supportsIncFetch){var F=this.scrollNode||this.domNode;E.attachEvent(F,"scroll",this._scroll);}},addItems:function B(F){if(this._super){this._super(F);}if(!this.ifDataHelper.hasNext()){this.supportsIncFetch=false;var G=this.scrollNode||this.domNode;E.detachEvent(G,"scroll",this._scroll);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.hash");var D=mstrmojo.dom,L=mstrmojo.hash;var O=100;var F=D.supportsTouches?0.5:1;var G=1;var R=100;var P={onvscrollVisibleChange:function(){var U=this.vscrollNode,V=U&&U.style;if(!V){return ;}if(this.vscrollVisible){var T=this.maxPos,W=this.clientSize;V.height=Math.round(W.y*W.y/T.y)+"px";V.left=(W.x-5)+"px";V.display="block";V.opacity=0.5;}else{V.opacity=0;}},onhscrollVisibleChange:function(){var V=this.hscrollNode,U=V&&V.style;if(!U){return ;}if(this.hscrollVisible){var T=this.maxPos,W=this.clientSize;U.width=Math.round(W.x*W.x/T.x)+"px";U.top=(W.y-5)+"px";U.display="block";U.opacity=0.5;}else{U.opacity=0;}}};var M=L.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,W=0;if(this.scrollsVert){W=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style[D.CSS3_TRANSFORM]="translateY("+Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px)";}}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style[D.CSS3_TRANSFORM]="translateX("+Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px)";}}this.scrollChild.style[D.CSS3_TRANSFORM]="translate3d(-"+parseInt(T,10)+"px, -"+parseInt(W,10)+"px, 0px)";},ondeceleratingChange:function(){this.scrollChild.style[D.CSS3_TRANSITION]=this.decelerating?(D.CSS3_PREFIX+"transform 0.2s linear"):"";}},L.copy(P));var H=L.copy({onposChange:function(){var V=this.clientSize,U=this.maxPos,T=0,X=0,W=this.scrollboxNode;if(this.scrollsVert){X=this.pos.y;if(this.vscrollVisible){this.vscrollNode.style.top=Math.round((V.y-(V.y*V.y/U.y))*this.pos.y/U.y)+"px";}W.scrollTop=parseInt(X,10);}if(this.scrollsHoriz){T=this.pos.x;if(this.hscrollVisible){this.hscrollNode.style.left=Math.round((V.x-(V.y*V.x/U.x))*this.pos.x/U.x)+"px";}W.scrollLeft=parseInt(T,10);}}},L.copy(P));mstrmojo._TouchScrolling=mstrmojo.provide("mstrmojo._TouchScrolling",{FRICTION:0.65,BOUNCEFRICTION:0.5,usesTouches:false,bounces:true,scrollsHoriz:true,scrollsVert:true,pos:null,preBuildRendering:function N(){this.usesTouches=(mstrmojo.dom.supportsTouches&&this.usesTouches&&(this.scrollsHoriz||this.scrollsVert));if(this.usesTouches){this.pos={x:0,y:0};}if(this._super){this._super();}},postBuildRendering:function C(){if(this._super){this._super();}if(this.usesTouches){var W=this.scrollboxNode,V=this.itemsContainerNode||W.firstChild;if(W&&W!==V){this.scrollChild=V;var T=W.style;T.position="relative";T.overflow="hidden";var U=V.style;U.position="absolute";U.left=0;U.top=0;this.markupMethods=L.copy(D.isSafari?M:H,L.copy(this.markupMethods));this.attachTouchEvents();}}},unrender:function(T){if(this.usesTouches){this.detachTouchEvents();}this._super(T);},attachTouchEvents:function(){var U=this.touchNode||this.scrollboxNode;if(U){if(!this._tsCallback){var T=this;this._tsCallback=function(V){T.touchesBegin(self,V);};this._tmCallback=function(V){T.touchesMoved(self,V);};this._teCallback=function(V){T.touchesEnd(self,V);};}D.attachEvent(U,D.TOUCHSTART,this._tsCallback);this._tsNode=U;}},detachTouchEvents:function(){var T=this._tsNode;if(T){D.detachEvent(T,D.TOUCHSTART,this._tsCallback);delete this._tsNode;}},touchesBegin:function J(T,V){var U=V.target&&V.target.tagName;if(U&&(U==="SELECT"||U==="INPUT")){return ;}D.preventDefault(T,V);this.stopDeceleration();this.startTime=new Date();this.startTimePos={x:this.pos.x,y:this.pos.y};this.startTouchPos=D.getMousePosition(D.firstTouch(T,V),T);this.dragging=false;D.attachEvent(window,D.TOUCHMOVE,this._tmCallback);D.attachEvent(window,D.TOUCHEND,this._teCallback);},touchesMoved:function E(b,d){var Z=D.getMousePosition(D.firstTouch(b,d),b);D.preventDefault(b,d);if(!this.dragging){var T=5,h=Math.abs;if((this.scrollsHoriz&&h(Z.x-this.pos.x)>T)||(this.scrollsVert&&h(Z.y-this.pos.y)>T)){this.dragging=true;this.dragStartTime=new Date();this.startTouchPos=Z;var V=this.scrollboxNode,Y={x:V.clientWidth,y:V.clientHeight},f={x:V.scrollWidth,y:V.scrollHeight};this.clientSize=Y;this.scrollSize=f;this.maxPos={x:Math.max(f.x-Y.x,0),y:Math.max(f.y-Y.y,0)};this.showScroll();}}if(this.dragging){D.stopPropogation(b,d);var c=this.startTimePos,X=this.startTouchPos,a=this.maxPos;var W={x:this.scrollsHoriz?Math.max(Math.min(c.x-(Z.x-X.x),a.x),0):0,y:this.scrollsVert?Math.max(Math.min(c.y-(Z.y-X.y),a.y),0):0};this.set("pos",W);this.nextLastDragPos=this.lastDragPos;this.lastDragPos=Z;var U=new Date(),g=this.lastDragTime;this.nextLastDragTime=g;this.lastDragTime=U;if((U-g)>R){this.startTime=this.lastDragTime;this.dragStartTime=this.startTime;this.startTimePos={x:W.x,y:W.y};this.startTouchPos=Z;}}},touchesEnd:function I(T,U){D.preventDefault(T,U);D.detachEvent(window,D.TOUCHMOVE,this._tmCallback);D.detachEvent(window,D.TOUCHEND,this._teCallback);if(this.dragging){this.dragging=false;D.stopPropogation(T,U);if((new Date())-this.lastDragTime<=R){this.startDeceleration(T,U);}else{this.hideScroll();}}},startDeceleration:function B(Y,Z){var W=D.getMousePosition(D.firstChangedTouch(Y,Z),Y),c=((mstrmojo.dom.supportsTouches===null)?this.lastDragPos:this.nextLastDragPos)||W,b={x:W.x-c.x,y:W.y-c.y},T=((mstrmojo.dom.supportsTouches===null)?this.lastDragTime:this.nextLastDragTime),d=T?(new Date())-T:0,V={x:d?Number(b.x*O*F/d).toFixed(2):0,y:d?Number(b.y*O*F/d).toFixed(2):0};var a=this,U=function(e){return(a.scrollsHoriz&&Math.abs(e.x)>=G)||(a.scrollsVert&&Math.abs(e.y)>=G);};if(U(V)){this.velocity=V;this.friction={x:this.FRICTION,y:this.FRICTION};this.set("decelerating",true);var X=function(){a.decelerate();if(!U(a.velocity)){a.stopDeceleration();a=null;}};X();if(this.decelerating){this.decelerationTimer=window.setInterval(X,O);}}else{this.hideScroll();}},stopDeceleration:function A(){this.set("decelerating",false);delete this.velocity;if(this.decelerationTimer){window.clearTimeout(this.decelerationTimer);delete this.decelerationTimer;}this.hideScroll();},decelerate:function S(){var W=this.pos,V=this.velocity,U=this.friction,Z=this.maxPos,X={x:W.x-V.x,y:W.y-V.y},b=this.bounces,T=this.BOUNCEFRICTION;var a=X.x;if(a<0||a>Z.x){X.x=(a<0)?0:Z.x;V.x*=b?-T:0;U.x=T;}var Y=X.y;if(Y<0||Y>Z.y){X.y=(Y<0)?0:Z.y;V.y*=b?-T:0;U.y=T;}this.set("pos",X);this.velocity={x:U.x*V.x,y:U.y*V.y};},hideScroll:function K(){this.set("vscrollVisible",false);this.set("hscrollVisible",false);},showScroll:function Q(){var T=this.maxPos;if(this.scrollsVert&&T.y&&this.vscrollNode){this.set("vscrollVisible",true);}if(this.scrollsHoriz&&T.x&&this.hscrollNode){this.set("hscrollVisible",true);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash");var B=mstrmojo.hash;mstrmojo.Base=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.Base",init:function A(C){B.copy(C,this);if(this.postApplyProperties){this.postApplyProperties();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.registry");mstrmojo._PagingList=mstrmojo.provide("mstrmojo._PagingList",{usePaging:false,page:0,totalPages:1,_set_page:function(B,A){if(this.page!==A&&this.usePaging){if(A>=0&&A<this.totalPages){this.page=A;}return true;}return false;},_inScroll:false,_inPaging:false,onscroll:function(){if(this.usePaging&&!this._inPaging){this._inScroll=true;this.set("page",this.listMapper.whichPage(this));this._inScroll=false;}if(this._super){this._super();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.ListSelector");var C=mstrmojo.dom,B=C.isIE;mstrmojo.TreeNodeSelector=mstrmojo.provide("mstrmojo.TreeNodeSelector",mstrmojo.mixin({premousedown:function A(E,I,D){var G=(E&&E.tree)||E,H=D&&D.e;if(!H){return false;}var F=G.lastMouseDown;if(F){if((F.e===H)||(B&&((new Date())-F.dt<50))){return false;}}this._super(E,I,D);if(G){if(G.onnodemousedown){G.onnodemousedown(D);}G.lastMouseDown={e:H,dt:new Date()};}return true;}},mstrmojo.hash.copy(mstrmojo.ListSelector)));}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.dnd");var E=mstrmojo.dom;function B(I){return E.contains(this.getMovingHandle(),I.src.node,true,document.body);}mstrmojo._IsMovable=mstrmojo.provide("mstrmojo._IsMovable",{draggable:true,ownAvatar:true,getMovingHandle:function G(){return this.domNode;},getMovingTarget:function H(){return this.domNode;},isDragValid:function A(I){return B.call(this,I)||(this._super&&this._super(I))||false;},ondragstart:function C(J){if(B.call(this,J)){var K=this.getMovingHandle(),I=this.getMovingTarget().style;this._leftPos=parseInt(I.left,10);this._topPos=parseInt(I.top,10);this._hWidth=K.clientWidth;this._hHeight=K.clientHeight;}if(this._super){this._super();}},ondragmove:function F(L){if(B.call(this,L)){var M=L.tgt.pos,J=L.src.pos,K=this.getMovingTarget().style,I=E.windowDim();K.left=this.left=Math.min(Math.max(this._leftPos+M.x-J.x,-this._hWidth+40),I.w-40)+"px";K.top=this.top=Math.min(Math.max(this._topPos+M.y-J.y,-this._hHeight+20),I.h-20)+"px";}if(this._super){this._super();}},ondragend:function D(I){if(B.call(this,I)){delete this._leftPos;delete this._topPos;delete this._hWidth;delete this._hHeight;}if(this._super){this._super();}}});}());(function(){mstrmojo.requiresCls("mstrmojo.string");var D=mstrmojo.string,F=1;mstrmojo.ListBuilder=mstrmojo.provide("mstrmojo.ListBuilder",{newContext:function E(G){var I=G.itemMarkupFunction;if(!I){var H=G.itemMarkup||(G.itemField&&'<div class="mstrmojo-text">{@'+G.itemField+"}</div>");I=H?function(K,J,L){return D.apply(H,K);}:null;}return{itemStatus:[],itemFunc:I};},build:function A(I,H,J,G){H.itemStatus[G]=F;return H.itemFunc(J,G,I);},onadd:function B(I,G,H){if(G){mstrmojo.array.insert(G.itemStatus,H.index,new Array(H.value.length));}},onremove:function C(I,G,H){if(G){G.itemStatus.splice(H.index,H.value.length);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.QueuedXHR");var F=mstrmojo.hash;function J(K,L){return function(){if(K[L]){K[L]();}};}var B=[];function H(L){var K;switch(L.cacheLevel){case mstrmojo.AjaxCall.CACHELEVEL_LOCAL:if(L._cache==null){L._cache=[];}K=L._cache;break;default:if(B==null){B=[];}K=B;break;}return K;}function E(N){var M=H(N);var P={cache:M,idx:-1},O=N.params;if("xts" in O){delete O.xts;}for(var L=0,K=M.length;L<K;L++){var Q=M[L];if(Q&&F.equals(Q.url,N.url)&&F.equals(Q.params,O)){P.idx=L;break;}}return P;}function C(L){var K=H(L),M=F.copy(L.params);delete M.xts;K.push({url:L.url,params:M,res:F.copy(L.response)});}function D(K){var L=E(K);if(L&&L.idx>=0){K.response=L.cache[L.idx].res;return true;}return false;}mstrmojo.AjaxCall=mstrmojo.declare(mstrmojo.QueuedXHR,null,{scriptClass:"mstrmojo.AjaxCall",method:"POST",url:"",params:null,onsuccess:null,onerr:null,oncomplete:null,oncancel:null,readCache:false,writeCache:false,cacheLevel:"",_cache:null,useQueue:false,init:function I(K){this._super(K);F.copy(K,this);},send:function A(){var K=this;if(this.readCache&&D(this)){this.onsuccess();return ;}this.request(this.method,this.url,{success:function(L){K.response=L;if(K.writeCache){C(K);}if(K&&K.onsuccess){K.onsuccess();}},failure:J(K,"onerr"),complete:J(K,"oncomplete")},this.params,!this.useQueue);},cancel:function G(){this._super();if(this.oncancel){this.oncancel();}}});mstrmojo.AjaxCall.CACHELEVEL_GLOBAL="global";mstrmojo.AjaxCall.CACHELEVEL_LOCAL="local";})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.registry","mstrmojo.ListBuilder");var H=mstrmojo.hash,E=mstrmojo.registry,G=1;mstrmojo.WidgetListBuilder=mstrmojo.provide("mstrmojo.WidgetListBuilder",mstrmojo.mixin({newContext:function F(J){var K=J.itemFunction;if(!K){var I=J.itemConfig;K=I?function(M,L,N){var O=H.clone(I);O.data=M;O.parent=N;return E.ref(O);}:null;}return{itemStatus:[],itemWidgets:[],itemFunc:K};},build:function A(K,J,N,I){var L=J.itemFunc(N,I,K);if(L){J.itemStatus[I]=G;J.itemWidgets[I]=L;if(L.set){var M=K.selectedIndices;if(M&&M[I]){L.set("selected",true);}}}return L;},onadd:function C(K,I,J){if(I){mstrmojo.array.insert(I.itemWidgets,J.index,new Array(J.value.length));}this._super(K,I,J);},onremove:function D(L,J,K){if(J){var O=J.itemWidgets.splice(K.index,K.value.length),N,I;for(N=0,I=O.length;N<I;N++){var M=O[N];if(M&&M.destroy){delete M.parent;M.destroy();}}}this._super(L,J,K);},onchange:function B(S,J,P,T){if(T){var N=P.itemWidgets,L,O,I,R;for(O=0,I=T.removed,R=I&&I.length;O<R;O++){L=N[I[O]];if(L&&L.set){L.set("selected",false);}}var M,Q,K;for(M=0,Q=T.added,K=Q&&Q.length;M<K;M++){L=N[Q[M]];if(L&&L.set){L.set("selected",true);}}}}},H.copy(mstrmojo.ListBuilder)));}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.dom","mstrmojo.css");var A=1,K="mstrmojo-itemwrap",J="&nbsp;",I=mstrmojo.array;function B(V){if(!V.pageSize||V.pageSize<=0){var W=V.scrollboxNode;V.pageSize=W&&W.clientHeight||0;}return V.pageSize;}function T(V,W){if(V.usePaging){V.totalPages=1;var Y=V.itemsContainerNode,X=B(V);if(V.usePaging&&Y&&X){V.totalPages=Math.ceil((Y.clientHeight-parseInt(Y.style&&Y.style.paddingBottom||0,10))/X);}if(Y){V.itemsContainerNode.style.paddingBottom=X+"px";}}}mstrmojo.ListMapper=mstrmojo.provide("mstrmojo.ListMapper",{markupPrefix:"",markupSuffix:"",itemWrapperPrefix:function(V){return'<div class="'+this.getWrapperCss(V)+'">';},itemWrapperSuffix:"</div>",itemWrapperPrefill:"&nbsp",wrapperNodes:function C(V){return V.childNodes;},wrapperParentNode:function D(V){return V;},createWrapperNode:function G(V){var W=V.ownerDocument,X=W.createElement("div");return X;},findScrollRange:function N(k,Z,j,n,W,c,o,m){if(!Z){return{start:0,end:0};}var e=this.wrapperNodes(k),g=parseInt(Z/2,10),Y=parseInt(Math.log(Z)/Math.log(2),10),X=0,V=Z-1,f=j+n,d=e[0].offsetTop,b;for(var l=1;l<=Y;l++){b=e[g].offsetTop-d+m;if(b<j){X=g;}else{if(b>f){V=g;}}var a=Math.round(Z/Math.pow(2,l+1));g+=(b>j)?-a:a;g=Math.min(Math.max(0,g),Z-1);}return{start:X,end:V};},findWrapper:function L(X,V){var W=this.wrapperNodes(X);return W&&W[V];},findIndex:function F(V,Y,X){var W=this._nd2iw(V,Y,X);return W?this._iw2idx(V,Y,W):-1;},itemOffsetTop:function U(W,a,V,Y){if(!Y){var X=this.wrapperNodes(a);Y=X&&X[V];if(!Y){return 0;}}var Z=a.firstChild;if(!Z||(Z===Y)){return 0;}else{return Y.offsetTop-Z.offsetTop;}},whereDrop:function S(c,V,X,b,W){var Y=this._nd2iw(c,V,X),d,a,e;if(Y){a=this._iw2idx(c,V,Y);d=a;e=this.itemOffsetTop(c,V,null,Y);var Z=Y.offsetHeight;if(b.y>W.top+e+Z/2){d++;e+=Z;}}else{return c.dropCuePos;}return{left:0,top:e,idx:d,idxActual:a};},getWrapperCss:function(V){return K;},postBuildRendering:function(Z,Y,X,W,V){T(W,this);},buildItemWrappers:function P(e,b,h,d,a,i){var l=this.itemWrapperPrefix(h),g=this.itemWrapperSuffix,Z=l+this.itemWrapperPrefill+g,Y=[this.markupPrefix],W=1,V=h.selectedIndices||{},n=function m(k,j){for(var o=k;o<j;o++){Y[W++]=l;var p=b.build(h,d,e[o],o);if(V[o]){p=p.replace(/class\=\"([^\"]*)\"/,'class="$1 selected"');}Y[W++]=p;Y[W++]=g;}};var c=(e&&e.length)||0;a=a&&b?Math.min(a,c):0;if(a){n(0,a);}i=i&&b?Math.min(i,c-a):0;var f=c-i;for(var X=a;X<f;X++){Y[W++]=Z;}if(i){n(f,c);}Y.push(this.markupSuffix);return Y;},fillItemWrappers:function H(X,g,d,m,f,W,b,l){var e=(g&&g.length)||0,j=this.wrapperNodes(X),n=f.itemStatus,V=mstrmojo.css,Z=m.selectedIndices||{};for(var c=W,h=Math.min(b+1,e),a=0;c<h;c++){if(n[c]!==A){j[c].innerHTML=d.build(m,f,g[c],c);if(Z[c]){var Y=j[c].firstChild;if(Y){V.addClass(Y,["selected"]);}}a++;if(a===l){break;}}}return a;},onadd:function O(e,V,Z,f){if(V&&f){var a=f.value.length,b=this.wrapperNodes(V),d=b[f.index],Y=this.getWrapperCss(e);for(var X=0;X<a;X++){var W=this.createWrapperNode(V);W.className=Y;W.innerHTML=J;if(d){this.wrapperParentNode(V).insertBefore(W,d);}else{this.wrapperParentNode(V).appendChild(W);}}T(e,this);}},onremove:function Q(Y,b,V,X){if(b&&X){var a=this.wrapperNodes(b);if(a){var d=X.value.length;for(var Z=X.index+d-1,W=X.index;Z>=W;Z--){this.wrapperParentNode(b).removeChild(a[Z]);}}T(Y,this);}},onchange:function R(g,X,c,k){if(X&&k){var d=this.wrapperNodes(X);if(d){var W=mstrmojo.css,l=c.itemStatus,h;for(var b=0,V=k.removed,f=V&&V.length;b<f;b++){h=V[b];if(l[h]){W.removeClass(d[h].firstChild,["selected"]);}}for(var Z=0,e=k.added,Y=e&&e.length;Z<Y;Z++){h=e[Z];if(l[h]){W.addClass(d[h].firstChild,["selected"]);}}}}},_nd2iw:function E(W,Z,Y){Z=this.wrapperParentNode(Z);if(Z&&Y&&Z!==Y){var V=W.domNode,X=Y.parentNode;while(X){if(X===Z){return Y;}if(X===V){break;}Y=X;X=Y.parentNode;}}return null;},_iw2idx:function M(X,b,a){var W=X.items&&X.items.length,Y=this.wrapperNodes(b),V=I.findBin(Y,a,"offsetTop",W);for(var Z=V;Z<W;Z++){if(Y[Z].offsetHeight){return Z;}}return -1;},toPage:function(V,X){var W=V.scrollboxNode;if(V.usePaging&&W){W.scrollTop=X*B(V);}else{mstrmojo.alert("paging is not setup, can not perform paging.");}},whichPage:function(V){var W=V.scrollboxNode,X=B(V);return Math.round((W&&X&&W.scrollTop/X)||0);},toItem:function(Z,a){var X=Z&&Z.itemsContainerNode,e=Z.scrollboxNode,V=this.itemOffsetTop(Z,X,a),b=this.wrapperNodes(X)[a].clientHeight,W=e.clientHeight,d=e.scrollTop,Y=d;if(V<d){Y=V;}else{if(d+W-b<V){Y=Math.min(V,V-W+b);}}e.scrollTop=Y;}});})();(function(){mstrmojo.requiresCls("mstrmojo.css");var A=mstrmojo.css;mstrmojo.ui._HasUITheme=mstrmojo.provide("mstrmojo.ui._HasUITheme",{_mixinName:"mstrmojo.ui._HasUITheme",themeClassName:"",postBuildRendering:function B(){var D=this.themeClassName;if(D){this.onthemeClassNameChange({value:D});}return this._super();},onthemeClassNameChange:function C(D){var F=this.domNode;if(F){var G=D.value,E=D.valueWas;if(G){A.addClass(F,D.value);}if(E){A.removeClass(F,D.valueWas);}}}});mstrmojo.ui._HasUITheme.EnumThemeNames={LIGHT_THEME:"mojo-theme-light",DARK_THEME:"mojo-theme-dark"};}());(function(){mstrmojo.requiresCls("mstrmojo.string","mstrmojo.dom","mstrmojo.css","mstrmojo.array");var E=mstrmojo.dom,Q=mstrmojo.css,B=mstrmojo.string,I="selected",L="hidden";function P(V,W,X,U,Z){var Y=Z.listHooks[V];if(Y&&Y.call(Z,W,X,U)){return ;}Q.toggleClass(W,I,V==="select");}function G(X,W,V){var Y=this[X],U=Y?Y.split(W):[];this[X]=mstrmojo.array.distinct(U.concat(V.split(W))).join(W);}mstrmojo._IsList=mstrmojo.provide("mstrmojo._IsList",{_mixinName:"mstrmojo._IsList",listHooks:{},useListModKeys:false,init:function N(U){this._super(U);this._shiftStartIndex=-1;},getItemMarkup:function D(V,U){return'<{@tag} class="item {@cls}" idx="{@idx}" style="{@style}" title="{@title}">{@en@n}</{@tag}>';},getItemDisplayName:function M(U){return U.n||"";},getItemProps:function R(Y,U){var V=!!this.selectedIndices[U],Z={tag:"div",sel:V,cls:"",n:this.getItemDisplayName(Y),style:"",idx:U,addCls:function W(b){G.call(this,"cls"," ",b);},addStyle:function X(b){G.call(this,"style",";",b);},title:Y.title||""};if(Z.n&&B.isEmpty(Z.n)){Z.n=B.decodeHtmlString("<br/>");}if(V){Z.addCls(I);}var a=Y.cls;if(a){Z.addCls(a);}if(Y.hid){Z.addCls(L);}return Z;},itemRenderer:{render:function S(V,U,W){V._renderIdx=U;return mstrmojo.string.apply(W.getItemMarkup(V,U),W.getItemProps(V,U));},select:function K(V,W,U,X){P("select",V,W,U,X);},unselect:function H(V,W,U,X){P("unselect",V,W,U,X);}},onclick:function T(U){try{var W=this.getItemFromTarget(U.getTarget());if(W){U.cancel();this.doItemSelect(W,U||{});}}catch(V){mstrApp.onerror(V);}},doItemSelect:function C(j,i){var b=i.hWin,c=i.e,g=j._renderIdx,d=j._positionIdx,V=E.isMetaKey(b,c),a=E.shiftKey(b,c),W=this.multiSelect,Z=this.useListModKeys,h=this._shiftStartIndex,X=this.selectedIndices;if(W&&Z&&a&&h>-1){var U=[],Y=[];this.processContinuousSelection(U,Y,g);this.addSelect(U);this.removeSelect(Y);}else{if(W&&(!Z||V)){var f=(X[g])?"remove":"add";this[f+"Select"](g,false,d);}else{this.singleSelect(g,false,d);}this._shiftStartIndex=g;}},processContinuousSelection:function J(W,V,U){var b=this._shiftStartIndex,a=this.selectedIndices,Z=Math.min(b,U),Y=Math.max(b,U),X;for(X=0;X<this.items.length;X++){if(Z<=X&&X<=Y){if(!a[X]){W.push(X);}}else{if(a[X]){V.push(X);}}}},onclearSelection:function A(){this._shiftStartIndex=-1;},getItemNodeFromTarget:function F(V){var U=E.findAncestorByAttr(V,"idx",true,this.domNode);return(U&&U.node)||null;},getItemFromTarget:function O(W){var V=this.getItemNodeFromTarget(W),U=V&&parseInt(V.getAttribute("idx"),10);if(U!==null&&!isNaN(U)&&this.items){return this.items[U];}return undefined;}});mstrmojo._IsList.SELECTED_CLS=I;mstrmojo._IsList.HIDDEN_CLS=L;}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.fx");var d=mstrmojo.css,J=mstrmojo.dom,R=mstrmojo.array,N={v:{styleDim:"height",styleDir:"top",dimension:"h",position:"y",scroll:"scrollTop",scrollDimension:"scrollHeight",cls:"vertical",hostCls:"hasVertical",scrollNodeCls:"hasVertical"},h:{styleDim:"width",styleDir:"left",dimension:"w",position:"x",scroll:"scrollLeft",scrollDimension:"scrollWidth",cls:"horizontal",hostCls:"hasHorizontal",scrollNodeCls:"hasHorizontal"}},b="scrollingMode",U="scrolling",g=3;var O=J.getOSInfo().name.toLowerCase().indexOf("mac")>=0;function M(){return(this.scrollbarHostNode||(this.scrollNode&&this.scrollNode.parentNode));}function V(l,i){var k=this.scrollNode,h=M.call(this),j={v:l,h:i};R.forEach(["v","h"],function(n){var m=N[n];d.toggleClass(h,m.hostCls,j[n]);d.toggleClass(k,m.scrollNodeCls,j[n]);});}function S(i,h){var n=J.eventTarget(h,i),l=this.scrollNode,k=J.position(l),m=this.scrollTrackNodes,j=this.scrollBarNodes,o=function o(x){var u=n===m[x];if(u){var y=N[x],p=j[x],z=J.position(p),r=J.getMousePosition(i,h)[y.position],s=r-z[y.position],q=s>0?1:-1,w=l[y.scrollDimension],AA=Math.abs(s-(z.h/2))*(w/k[y.dimension]),t={};t[y.scroll]={isStyle:false,start:l[y.scroll],stop:l[y.scroll]+(q*Math.min(w/3,500,AA)),ease:mstrmojo.ease.linear};(new mstrmojo.fx.AnimateProp({props:t,duration:200,interval:10,target:l})).play();}};o.call(this,"h");o.call(this,"v");}function C(i,h){var l=this.scrollNode,k=i.type==="mousewheel",j=k?-1:1;mstrmojo.array.forEach(["h","v"],function(s){var q=N[s],n=k?"wheelDelta":"delta",p=i[n+{h:"X",v:"Y"}[s]]*j,o=Math.abs(p),m=p/o,r=o===3&&J.isFF&&!O;l[q.scroll]+=r?m*40:p;});J.stopPropogation(h,i);J.preventDefault(h,i);}function f(m){var l=N[m],k=this.scrollNode,j=J.position(k),i=j[l.dimension],n=k[l.scrollDimension],h=Math.ceil(i)/n;return A(h,i,n);}function A(i,h,j){return(!isNaN(i)&&i<1)&&(Math.abs(h-j)>g);}function D(AG){var z="px",r=N[AG],l=this.scrollNode,s=M.call(this),AI=J.position(l),t=AI[r.dimension],AB=l[r.scrollDimension],k=Math.ceil(t)/AB,AF=this.scrollBarNodes,p=AF[AG],x=this.scrollTrackNodes,y=x[AG],AD=A(k,t,AB),m=r.cls;if(!p){y=x[AG]=document.createElement("div");var n=this,w=function(AK){S.call(n,AK);},q=function(AK){C.call(n,AK);},AC=function(AM,AK,AL){J.attachEvent(AM,AK,AL);n.installedEventListeners.push({e:AM,evt:AK,fn:AL});};AC(y,"click",w);y.className="mstrmojo-scrolltrack "+m;p=AF[AG]=document.createElement("div");p.className="mstrmojo-scrollbar "+m;y.appendChild(p);s.appendChild(y);var AE=mstrApp.isSingleTier?"mousewheel":"wheel";AC(y,AE,q);AC(p,AE,q);}var AJ=p.style,o=(l[r.scroll]/l[r.scrollDimension]),i=J.delta(l,M.call(this))[r.position],AA=y.style;if(AD){AA[r.styleDir]=i+z;var j=k*t,u=35,AH=t*o,h=t-35;AJ[r.styleDim]=(j<u?u:j)+z;AJ[r.styleDir]=(AH>h?h:AH)+z;}return AD;}function I(){return !(mstrApp.isSingleTier&&O);}mstrmojo.ui._HasScroller=mstrmojo.provide("mstrmojo.ui._HasScroller",{_mixinName:"mstrmojo.ui._HasScroller",hasCustomScrollbar:null,draggable:true,ownAvatar:true,scrollNode:undefined,scrollbarHostNode:undefined,scrollBarNodes:undefined,setupScrollNodes:mstrmojo.emptyFn,installedEventListeners:null,init:function X(h){this._super(h);if(this.hasCustomScrollbar===null){this.hasCustomScrollbar=I();}this.installedEventListeners=[];},onRender:function L(){if(this._super){this._super();}this.updateScrollbars();this.addScrollNodeProperties();},addScrollNodeProperties:function G(){var i=this.scrollNode,j=J.isFF&&!O;if(i){var h=J.attachMarkupEvent(this.id,i,"scroll");this.installedEventListeners.push({e:i,evt:"scroll",fn:h});}if(j){d.addClass(i,"firefox-on-windows");}else{if(J.isEdge){d.addClass(i,"ms-edge");}}if(!this.hasCustomScrollbar){d.addClass(M.call(this),"mstrmojo-sb-host-show-default");d.addClass(i,"mstrmojo-sb-show-default");return ;}if(i){d.addClass(M.call(this),"mstrmojo-scrollbar-host");d.addClass(i,"mstrmojo-scrollNode");}},updateScrollbars:function e(){if(!this.hasRendered){return ;}this.setupScrollNodes();var h,j=false;if(!this.hasCustomScrollbar){if(this.scrollNode){h=this.scrollNode.style;h.overflowY=f.call(this,"v")?"scroll":"hidden";h.overflowX=f.call(this,"h")?"scroll":"hidden";}return ;}if(this.scrollNode){this.scrollBarNodes=this.scrollBarNodes||{};this.scrollTrackNodes=this.scrollTrackNodes||{};V.call(this,j,j);h=this.scrollNode.style;var k=D.call(this,"v"),i=D.call(this,"h");h.overflowY=k?"scroll":"hidden";h.overflowX=i?"scroll":"hidden";V.call(this,k,i);}},onscroll:function a(){var o=this.scrollNode;if(o&&this.hasCustomScrollbar){var l=function l(p){var q=parseInt(p);return q===null||isNaN(q)?0:q;},m=J.position(o),n=m.h-l(d.getStyleValue(o,"padding-bottom")),i=m.w-l(d.getStyleValue(o,"padding-right")),k=this.scrollBarNodes,j=k.v,h=k.h;if(o.scrollHeight-n>0){j.style.top=((n-J.position(j).h)*(o.scrollTop/(o.scrollHeight-n)))+"px";}if(o.scrollWidth-i>0){h.style.left=((i-J.position(h).w)*(o.scrollLeft/(o.scrollWidth-i)))+"px";}}if(this._super){this._super();}if(this.onScrollEnd){this.onScrollEnd();}},getDragData:function F(i){var l=this.scrollNode,k=J.position(l),j=i.src.node,h=this.scrollBarNodes;if(this.isDraggingScrollBar(i)){return{isScrollBar:true,direction:j===h.v?"v":"h",scrollTop:l.scrollTop,scrollLeft:l.scrollLeft,conversionRatio:{y:l.scrollHeight/k.h,x:l.scrollWidth/k.w}};}return(this._super&&this._super(i));},isDragValid:function E(h){return this.isDraggingScrollBar(h)||(this._super&&this._super(h))||false;},isDraggingScrollBar:function W(i){var j=i.src.node,h=this.scrollBarNodes;return !!h&&(j===h.v||j===h.h);},ondragstart:function c(h){if(this.isDraggingScrollBar(h)){d.addClass(h.src.node,U);d.addClass(M.call(this),b);}if(this._super){this._super(h);}},shouldDragBubble:function T(h){var i=h.src.node,j=this.scrollTrackNodes;return !(!!j&&(i===j.v||i===j.h));},ondragmove:function Q(i){if(this.isDraggingScrollBar(i)){var q=i.tgt,h=i.src,r=q.pos,j=h.pos,n=h.node,m=this.scrollNode,p=this.scrollBarNodes,o=h.data,l={y:(r.y-j.y),x:(r.x-j.x)},k=o.conversionRatio;if(n===p.v){m.scrollTop=o.scrollTop+(l.y*k.y);}else{m.scrollLeft=o.scrollLeft+(l.x*k.x);}}if(this._super){this._super(i);}},ondragend:function K(h){if(this.isDraggingScrollBar&&this.isDraggingScrollBar(h)){d.toggleClass(h.src.node,U,false);d.toggleClass(M.call(this),b,false);}if(this._super){this._super(h);}},widgetResized:function P(){if(this._super){this._super();}this.updateScrollbars();},unrender:function Y(h){R.forEach(this.installedEventListeners,function(i){J.detachEvent(i.e,i.evt,i.fn);});this.installedEventListeners=[];delete this.scrollNode;delete this.scrollbarHostNode;delete this.scrollBarNodes;delete this.scrollTrackNodes;this._super(h);},getDefaultScrollBarProps:function Z(h){return N[h];},disableScroll:function B(h,k){var j=this.scrollNode,i=M.call(this);R.forEach(["v","h"],function(m){var l=N[m];d.toggleClass(i,l.hostCls,false);d.toggleClass(j,l.scrollNodeCls,false);});if(j){if(k||k===undefined){j.style.overflowY="hidden";}else{if(j.style.overflowY==="hidden"){j.style.overflowY="auto";}}if(h||h===undefined){j.style.overflowX="hidden";}}},enableScroll:function H(){this.updateScrollbars();if(!this.hasCustomScrollbar&&this.scrollNode){this.scrollNode.style.overflowY=f.call(this,"v")?"scroll":"hidden";}},scrollIntoViewIfNeeded:function(k){var p=this.scrollNode,m=k.clientHeight,l=p.clientHeight,i=J.position(k).y,n=J.position(p).y,j=i-n,h=j<0,o=j+m>l;if(h||o){p.scrollTop+=j+m/2-l/2;}}});}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.expr","mstrmojo.date","mstrmojo.num","mstrmojo.string");mstrmojo.validation={STATUSCODE:{UNKNOWN:-1,VALID:0,INVALID:1,INVALID_EMPTY:2,INVALID_CHAR:3,INVALID_OUTOFRANGE:4,INVALID_REGEX:5,INVALID_VALIDATOR:6,INVALID_BAD_NUMERICFORMAT:7,INVALID_BAD_DATESTRING:8},TRIGGER:{NONE:0,ONBLUR:1,ONKEYUP:2,VALUESET:4,ALL:7},REGEXP:{US_ZIP:/^\d{5}([\- ]?\d{4})?$/,EMAIL_ADDRESS:/^([a-zA-Z0-9_\.\-])+@(([a-zA-Z0-9\-])+[\.])+([a-zA-Z0-9]{2,4})+$/,SOCIAL_SECURITY_NUMBER:/^((?!000)(?!666)\d{3})(\s|\-)?((?!00)\d{2})\2((?!0000)\d{4})$/,PHONE_NUMBER:/^(?!-)[ \d\-\(\)\.\+]+$/,FILE_NAME:new RegExp('^[^:*?"<>|/\\\\()]+$'),FOLDER_PATH_WIN:new RegExp('^([a-zA-Z]:|\\\\\\\\[^:*?"<>|/\\\\]+|[^:*?"<>|/\\\\]*)(\\\\[^:*?"<>|/\\\\]+)*(\\\\){0,1}$'),FOLDER_PATH_UNIX:new RegExp('^(/){0,1}([^:*?"<>|/\\\\]+/)*([^:*?"<>|/\\\\]+){0,1}$'),PRINTER_PATH_SINGLE:new RegExp('^[^$%:*?"<>|/\\\\]*$'),PRINTER_PATH_MULTIPLE:new RegExp('^((/|\\\\\\\\)[^$%:*?"<>|/\\\\]+)((/|\\\\)[^$%:*?"<>|/\\\\]+)*(/|\\\\){0,1}$')}};var H=mstrmojo.validation,B=H.TRIGGER,b=H.STATUSCODE,A={"-1":-1,1:1,2:1,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:4,12:4,13:4,14:6,15:6,16:6,17:3,18:3,21:2,22:2,23:3,24:4,25:3,30:5,34:5};H.VALIDATOR={DEMO:function N(e){var d=parseInt(e,10),f=mstrmojo.validation.STATUSCODE;if(d===0||d===1||d>10){return{code:f.VALID};}return{code:f.INVALID,msg:"This field must be either 0, 1 or greater than 10"};},VALIDATE_PHONENO:function I(d){var e=String(d).replace(/[^\d]/g,"");if(e.length<10){return{code:b.INVALID,msg:mstrmojo.desc(9203,"A telephone number must contain at least 10 digits.")};}if(!H.REGEXP.PHONE_NUMBER.test(d)){return{code:b.INVALID,msg:mstrmojo.desc(9204,"The telephone number contains invalid characters.")};}return{code:b.VALID};},VALIDATE_ZIPCODE:function G(d){var f="",e=this.dtp;if(!H.REGEXP.US_ZIP.test(d)){if(H.isNumeric(e)||H.isInt(e)){f=mstrmojo.desc(9208,"A zip code must be 5 digits or 5+4 digits.");}else{if(H.isString(e)){f=mstrmojo.desc(9206,"The zip code is invalid");}}return{code:b.INVALID,msg:f};}return{code:b.VALID};},VALIDATE_EMAIL:function T(d){var e=d.indexOf("@");if(e===-1){return{code:b.INVALID,msg:mstrmojo.desc(9197,"The email address is missing an at sign (@).")};}if(d.substring(e).indexOf(".")===-1){return{code:b.INVALID,msg:mstrmojo.desc(9198,"The email address is missing a period on the domain.")};}return H.REGEXP.EMAIL_ADDRESS.test(d)?{code:b.VALID}:{code:b.INVALID,msg:mstrmojo.desc(9207,"The email address is invalid.")};},VALIDATE_SSN:function Q(d){var f=this.dtp,e;if(H.isNumeric(f)||H.isInt(f)){e=String(d).replace(/[^\d]/g,"");if(e.length!==9){return{code:b.INVALID,msg:mstrmojo.desc(9209,"A Social Security Number must be 9 digits.")};}}if(!H.REGEXP.SOCIAL_SECURITY_NUMBER.test(d)){return{code:b.INVALID,msg:mstrmojo.desc(9210,"The Social Security Number is invalid.")};}return{code:b.VALID};}};H.isInt=function D(d){return A[d]===1;};H.isNumeric=function Y(d){return A[d]===2||A[d]===5;};H.isString=function J(d){return A[d]===3;};var C=window.mstrConfig,L=C.listSep,S=mstrmojo.expr,M=S.DTP,Z=mstrmojo.num,U=mstrmojo.string,F=mstrmojo.date;function P(k,l){var h=k.dtp,j=k.constraints,n=j.allowedFormatChars||"",g=(A[h]===1),d=H.isNumeric(h),e=(A[h]===6),m=mstrmojo.locales.number.THOUSANDSEPARATOR,f=mstrmojo.locales.number.DECIMALSEPARATOR,i;if(g){if(!k._intRegExp){n+="0-9-"+(k.isList?L:"")+m;k._intRegExp=new RegExp("[^"+n+"]");}i=k._intRegExp;}if(d){if(!k._numericRegExp){n+="0-9-#"+(k.isList?L:"")+f+m;k._numericRegExp=new RegExp("[^"+n+"]");}i=k._numericRegExp;}return !!i&&i.test(l);}function c(k,m){var h=k.dtp,j=k.constraints,g=(A[h]===1),d=H.isNumeric(h),e=(A[h]===6),f=j.min,l=j.max,i;if(f===undefined&&l===undefined){return false;}if(g||d){if(Z.isBigDecimal(m)){return Z.inNumericRange(Z.parseBigDecimal(m),f,l)!==0;}return Z.inNumericRange(m,f,l)!==0;}if(e){return F.inDateTimeRange(m,f,l)!==0;}return false;}function K(e,d){return !Z.isNumeric(d)&&!Z.isBigDecimal(d);}function R(g,e){var f=(g.dtp===M.DATE),d=(g.dtp===M.TIME);return(f?!F.isDate(e):(d?!F.isTime(e):!F.isDateAndOrTime(e)));}mstrmojo._CanValidate=mstrmojo.provide("mstrmojo._CanValidate",{constraints:null,required:false,dtp:M.INTEGER,isList:false,autoFormat:false,validationStatus:null,init:function W(d){this._super(d);if(!this.constraints){this.constraints={};}var e=this.constraints;if(!e.hasOwnProperty("trigger")){e.trigger=B.NONE;}},_set_value:function(i,f){var g=this.value,e=(g!==f);if(e){this.value=f;var h=this.constraints.trigger,d=(h&B.VALUESET)>0;if(d){this.validate(f);}}return e;},validate:function O(){var f=(this.value!==null&&this.value!==undefined)?this.value:"",j=this.isList?f.split(L):[f],h,e,k,d=j.length,g;for(g=0;g<d;g++){h=this.doValidation(j[g]);e=(h.code>b.VALID);if(e){if(d>1){h.msg=mstrmojo.locales.validation.invalidValueInListError.replace("#",j[g]||" ");}break;}}k=e?"onInvalid":"onValid";if(!e&&this.autoFormat){this.format();}this.set("validationStatus",h);if(this[k]){this[k](h);}},format:function X(){var j=this.dtp,f=(A[j]===6);if(!f){return ;}var l=mstrConfig.listSep,o=this.value||"",e=this.isList?o.split(l):[o],n=j===14,m=[],d,g=mstrmojo.locales.datetime,k=e.length,h;for(h=0;h<k;h++){o=e[h];d=F.parseDateAndOrTime(o);if(d){if(n&&d.date){m.push(F.formatDateInfo(d.date,g.DATEOUTPUTFORMAT));}else{m.push((d.date?F.formatDateInfo(d.date,g.DATEOUTPUTFORMAT):"")+" "+(d.time?F.formatTimeInfo(d.time,g.TIMEOUTPUTFORMAT):""));}}}this.set("value",m.join(l));},isValid:function V(){var d=this.validationStatus;if(!d){this.validate();}return this.validationStatus.code===b.VALID;},clearValidation:function a(){this.set("validationStatus",{code:b.VALID});if(this.onClearValidation){this.onClearValidation();}},doValidation:function E(p){var m=this.constraints,n=m.regExp,f=m.validator,d={id:this.id,code:b.VALID,msg:""},l=this.dtp,k=(A[l]===1),e=H.isNumeric(l),g=(A[l]===3),h=(A[l]===6),j=U.isEmpty(p),o=String(p).length,i="",s=mstrmojo.locales.validation;if(this.required&&j){d.code=b.INVALID_EMPTY;d.msg=s.requiredFieldError;return d;}p=U.trim(p);if(!j&&P(this,p)){if(k){i=s.integerDataType;}if(e){i=s.numericDataType;}if(h){i=s.dateDataType;}d.code=b.INVALID_CHAR;d.msg=s.invalidCharError.replace("#",i);return d;}if(!j&&h&&R(this,p)){d.code=b.INVALID_BAD_DATESTRING;d.msg=s.invalidDateStringError;return d;}if(!j&&(e||k)&&K(this,p)){d.code=b.INVALID_BAD_NUMERICFORMAT;d.msg=s.invalidNumericFormatError;return d;}if(!j&&(k||e||h)&&c(this,p)){d.code=b.INVALID_OUTOFRANGE;if(m.min!==null&&m.max!==null){i=s.outofRangeError.replace("# ","").replace("##",Z.toLocaleString(m.min)).replace("###",Z.toLocaleString(m.max));}else{if(m.min!==null){i=s.noLessMinError.replace("##",Z.toLocaleString(m.min)).replace("# ","");}else{if(m.max!==null){i=s.noGreaterMaxError.replace("###",Z.toLocaleString(m.max)).replace("# ","");}}}d.msg=i;return d;}if(g&&m.minLen!==null&&m.maxLen!==null){if(o<m.minLen||o>m.maxLen){d.code=b.INVALID;d.msg=mstrmojo.desc(9211).replace(/#/,m.minLen).replace(/##/,m.maxLen);return d;}}if(n&&!n.test(p)){d.code=b.INVALID_REGEX;d.msg=mstrmojo.desc(9205);return d;}var q=f&&f.apply(this,[p]);if(q){d.code=q.code;d.msg=q.msg;return d;}return d;}});}());(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var D=1,B="mstrmojo-itemwrap";mstrmojo.ListMapperHoriz=mstrmojo.provide("mstrmojo.ListMapperHoriz",mstrmojo.hash.copy({markupPrefix:'<table class="mstrmojo-itemwrap-table" cellspacing="0" cellpadding="0"><tbody><tr>',markupSuffix:"</tr></tbody></table>",itemWrapperPrefix:function(H){return'<td class="'+this.getWrapperCss(H)+'">';},getWrapperCss:function(H){return"mstrmojo-itemwrap-td";},itemWrapperPrefill:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",itemWrapperSuffix:"</td>",wrapperNodes:function G(H){return this.wrapperParentNode(H).cells;},wrapperParentNode:function F(H){return H.firstChild.rows[0];},createWrapperNode:function E(H){var I=H.ownerDocument,J=I.createElement("td");return J;},findScrollRange:function C(U,L,S,X,I,P,Y,W){var Q=this.wrapperNodes(U),R=parseInt(L/2,10),K=parseInt(Math.log(L)/Math.log(2),10),J=0,H=L-1,T=I+P,M=Q[0].offsetLeft,O;for(var V=1;V<=K;V++){O=Q[R].offsetLeft-M+Y;if(O<=I){J=R;}else{if(O>=T){H=R;}}var N=Math.round(L/Math.pow(2,V+1));R+=(O>I)?-N:N;R=Math.min(Math.max(0,R),L-1);}return{start:J,end:H};},findIndex:function A(I,M,K){if(M&&K){var H=I.domNode,L=this.wrapperParentNode(M),J=K.parentNode;while(J){if(J===L){return mstrmojo.array.findBin(this.wrapperNodes(M),K,"offsetLeft",I.items&&I.items.length);}else{if(J===H){break;}}K=J;J=K.parentNode;}}return -1;}},mstrmojo.hash.copy(mstrmojo.ListMapper)));})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.WidgetListBuilder");mstrmojo.WidgetTreeBuilder=mstrmojo.provide("mstrmojo.WidgetTreeBuilder",mstrmojo.mixin({newContext:function A(B){var D=this._super(B);if(!B.itemFunction&&D.itemFunc){var C=D.itemFunc;D.itemFunc=function(G,F,H){var E=C(G,F,H);if(E){E.tree=H.tree||H;}return E;};}return D;}},mstrmojo.hash.copy(mstrmojo.WidgetListBuilder)));})();(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.array");var C=mstrmojo.array;mstrmojo.ObjectBrowserDataProvider=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ObjectBrowserDataProvider",path:mstrConfig.taskURL,serverRequest:function(D,E){if(mstrApp&&mstrApp.serverRequest){mstrApp.serverRequest(D,E,{silent:true});}else{mstrmojo.xhr.request("POST",this.path,E,D,undefined,this.XServer,this.baseParams);}},fetchFolderContents:function(D,E,H){var F=D.blockCount,G={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockCount:F,includeAncestorInfo:"true",includeObjectDesc:D.includeObjectDesc,encodeObjectInfo:false};if(D.folderLinksContextId){G.folderLinksContextId=D.folderLinksContextId;}if(D.sId){G.sessionState=D.sId;}if(E.fid){G.rootFolderID=E.fid;}else{if(E.fty){G.rootFolderType=E.fty;}}if(D.browsableTypes){G.objectType=D.browsableTypes;}if(E.blockBegin){G.blockBegin=E.blockBegin;}if(E.searchPattern){if(D.enableQuickSearch){G.quickSearch=D.enableQuickSearch;}G.searchPattern=E.searchPattern;if(E.recursive){G.recursive=E.recursive;}}this.serverRequest(G,H);},newFolder:function(G,H,F,D){var E={taskId:"createFolder",taskContentType:"json",folderID:G,name:H,description:F};this.serverRequest(E,D);},loadObjects:function B(H,I,D,G){var E=[],F=[];C.forEach(H,function(J){E.push(J.did);F.push(J.t);});if(H.length>0&&G){this.serverRequest({taskId:"getObjectInfo",objectIDs:E.join(","),objectTypes:F.join(","),includeDetails:true},I,D);}else{I.success();}},loadRecentSaveAsFolders:function A(E){var D={taskId:"getRecentSaveAsFolders"};this.serverRequest(D,E);}});}());(function(){mstrmojo.requiresCls("mstrmojo.Obj");var M=mstrmojo.DI.DIConstants,H=mstrmojo.array,D=M.dbType,F=M.xdaType,I=M.sourceType,K=M.backendSourceSubtype;mstrmojo.DI.DIDatabaseHelper=mstrmojo.declare(mstrmojo.Obj,null,null);mstrmojo.DI.DIDatabaseHelper.getImportOptionByDBType=function A(N){switch(N){case D.SAP:case D.MSFT_AS:case D.ESSBASE:case D.TM1:case D.PIG:return false;default:return true;}};mstrmojo.DI.DIDatabaseHelper.getSourceTypeByDBType=function E(N){switch(N){case D.SAP:case D.MSFT_AS:case D.ESSBASE:case D.TM1:return F.mdx;case D.PIG:return F.ffsql;default:return -1;}};mstrmojo.DI.DIDatabaseHelper.getDescriptionIdByDBType=function(N){switch(N){case D.MS_ACCESS:return 9149;case D.ORACLE:return 8545;case D.SQL_SERVER:return 8552;case D.INFORMIX:return 12995;case D.SYBASE:return 12998;case D.REDBRICK:return 10059;case D.DB2:return 8516;case D.TERADATA:return 8553;case D.SAP:return 13107;case D.NETEZZA:return 8558;case D.EXCEL:return 3958;case D.MSFT_AS:return 13225;case D.ESSBASE:return 13224;case D.MYSQL:return 8556;case D.POSTGRESQL:return 8541;case D.COMPOSITE:return 12991;case D.ASTER:return 10058;case D.VERTICA:return 10062;case D.PARACCEL:return 10056;case D.TM1:return 13223;case D.XQUERY:return 8560;case D.HIVE:return 8561;case D.SALESFORCE:return 9213;case D.SAPHANA:return 12997;case D.GOOGLE_BIGQUERY:return 12450;default:return 4444;}};mstrmojo.DI.DIDatabaseHelper.getOASTFromBEST=function L(N){switch(N){case K.googleBigQuery:case K.googleBigQueryFFSQLModel:case K.googleBigQuerySingleTable:return I.googleBigQuery;case K.dropbox:return I.dropbox;case K.googleAnalytics:return I.googleAnalytics;case K.googleDrive:return I.googleDrive;case K.facebook:return I.facebook;case K.twitter:return I.twitter;case K.salesforce:return I.salesforce;default:return -1;}};mstrmojo.DI.DIDatabaseHelper.isOAuthSourceType=function C(N){var O=[I.googleBigQuery,I.dropbox,I.googleAnalytics,I.googleDrive,I.facebook,I.twitter,I.salesforce];return H.indexOf(O,N)!==-1;};mstrmojo.DI.DIDatabaseHelper.filterDBById=function B(P,N,O){return H.filter(P,function(S){var R=H.indexOf(N,S.id),Q;if(R>-1){Q=O;}else{Q=!O;}return Q;});};mstrmojo.DI.DIDatabaseHelper.filterDBByDispOption=function B(P,N,O){return H.filter(P,function(R){var Q=false;if((R.disp&N)===N){H.forEach(O,function(S){if(R.id===S){Q=true;return false;}});return !Q;}});};mstrmojo.DI.DIDatabaseHelper.getDBIds=function J(O){var N=[];H.forEach(O,function(P){N=N.concat(P.id);});return N;};mstrmojo.DI.DIDatabaseHelper.getUniqueDBTypes=function G(P){var O=[],N;H.forEach(P,function(Q){N=H.indexOf(O,Q.dbType);if(N<0){O.push(Q.dbType);}});return O;};mstrmojo.DI.DIDatabaseHelper.filterDBByAdminConfig=function(O,N){return H.filter(O,function(R){var P=H.indexOf(N,R.id),Q=true;if(P>=0){Q=false;}return Q;});};}());(function(){mstrmojo.requiresCls("mstrmojo.Obj");var D={TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4};var C={LEFT_TO_RIGHT:0,RIGHT_TO_LEFT:1};mstrmojo.ui.PopupConfig=mstrmojo.declare(mstrmojo.Obj,null,{scriptClass:"mstrmojo.ui.PopupConfig",ENUM_CORNERS:D,isHostedWithin:true,position:null,hostProxyCssClass:"",hostId:"",hostElement:null,anchorElement:null,popupHandlers:null,alignment:null,alignWithAnchor:false,useTooltip:false,useDarkTheme:false,init:function H(I){this.clear();this._super(I);},setAlignment:function E(I,J){this.alignment={host:I,popup:J};},addPopupHandlers:function F(I,K,J){this.popupHandlers[I]={open:K,close:J};},clear:function B(){this.popupHandlers={};var I=this.ENUM_CORNERS;this.alignment={host:I.BOTTOM_LEFT,popup:I.TOP_LEFT};},destroy:function(I){this.anchorElement=null;this.hostElement=null;if(this._super){this._super(I);}}});mstrmojo.ui.PopupConfig.ENUM_CORNERS=D;mstrmojo.ui.PopupConfig.directionCfg={menuDirection:C.LEFT_TO_RIGHT,isRightToLeft:function G(){return this.menuDirection===C.RIGHT_TO_LEFT;},setDirection:function A(I){this.menuDirection=I?C.RIGHT_TO_LEFT:C.LEFT_TO_RIGHT;}};}());(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.locales","mstrmojo.date","mstrmojo.DI.DIConstants","mstrmojo.DI.DIDatabaseHelper");mstrmojo.requiresDescs(2052,2170,2265,3434,3544,4530,4699,8002,8984,9614,9919,9920,9921,9922,12491,12492,12493,12494,12495,12509,12771,13031,13131,13132,13980,13981,8536);var T=mstrmojo.DI.DIConstants,O=T.dataTypeMenuItems,L=T.rdcsFlag,D=mstrmojo.dom,J=mstrmojo.array;mstrmojo.DI.DIHelpers=mstrmojo.declare(mstrmojo.Obj,null,null);mstrmojo.DI.DIHelpers.isIE7=function N(){return mstrmojo.dom.isIE7;};mstrmojo.DI.DIHelpers.isIE=function(){return D.isIE||!!D.userAgent.match(/Trident\/7\.0/);};mstrmojo.DI.DIHelpers.isIEOrEdge=function(){return mstrmojo.dom.isEdge||this.isIE();};mstrmojo.DI.DIHelpers.getURLCaption=function(){var U="";if(mstrApp.diParams&&mstrApp.diParams.EnableURLImport){if(mstrApp.diParams.EnableFileImport){if(mstrApp.isSingleTier){if(window.FormWrapper!==window.client){U+="File://";}}else{U+="File://";}}if(mstrApp.diParams.EnableHttpImport){if(U!==""){U+=", ";}U+="Http://, Https://";}if(mstrApp.diParams.EnableFTPImport){if(U!==""){U+=", ";}U+="Ftp://";}}return U;};mstrmojo.DI.DIHelpers.getUrlTooltip=function C(){var U="";if(!mstrApp.diParams){return U;}if(!mstrApp.diParams.EnableURLImport){U=mstrmojo.desc(12491,"URL file uploads are currently disabled. Please contact your administrator.");}else{U=mstrmojo.desc(12492,"Use one of the following URL formats to upload your file:")+" ";U+=mstrmojo.DI.DIHelpers.getURLCaption();if(mstrApp.enableFileImport){U+="\r\r";U+=mstrmojo.desc(12493,"'File://' format allows you to upload files in your local machine. For example: File://ComputerName/path/FileName.");}if(mstrApp.enableHttpImport||mstrApp.enableHttpsImport){U+="\r\r";if(mstrApp.enableFileImport){U+=mstrmojo.desc(12494,"Some other examples are:");}else{U+=mstrmojo.desc(12495,"Some examples are:");}}if(mstrApp.enableHttpImport){U+="\r";U+="http://host/path/FileName";U+="\r";U+="https://user:password@host/path/FileName";}if(mstrApp.enableFtpImport){U+="\r";U+="ftp://user:password@host/path/FileName";U+="\r";U+="ftp://user:password@host:port/path/FileName";}}return U;};mstrmojo.DI.DIHelpers.createMSTRObjects=function(W,Y){var U,X,V;if(W.constructor===Array){U=W;for(V=0;V<U.length;V++){U[V]=mstrmojo.DI.DIHelpers.createMSTRObjects(W[V],Y);}}else{if(typeof W==="object"){U=new mstrmojo.Obj(W);for(X in W){if(!Y||Y.indexOf(X)===-1){if(W.hasOwnProperty(X)){U.set(X,mstrmojo.DI.DIHelpers.createMSTRObjects(W[X],Y));}}}}else{U=W;}}return U;};mstrmojo.DI.DIHelpers.getURLParameters=function(U){var V;var Y;var X=[];if(U){if(U.indexOf("?")>0){U=U.substr(U.indexOf("?")+1);}Y=U.split("&");for(V=0;V<Y.length;V++){var W=Y[V].split("=");if(W.length===2){X[W[0]]=W[1];}}}return X;};mstrmojo.DI.DIHelpers.getBackendSourceType=function(U){var V=T.backendSourceSubtype.localFile;switch(U){case T.sourceSubtype.dropbox:V=T.backendSourceSubtype.dropbox;break;case T.sourceSubtype.bisource:V=T.backendSourceSubtype.bISources;break;case T.sourceSubtype.clipboard:V=T.backendSourceSubtype.clipboard;break;case T.sourceSubtype.facebook:V=T.backendSourceSubtype.facebook;break;case T.sourceSubtype.googleAnalytics:V=T.backendSourceSubtype.googleAnalytics;break;case T.sourceSubtype.googleBigQuery:V=T.backendSourceSubtype.googleBigQuery;break;case T.sourceSubtype.googleBigQueryFFSQL:V=T.backendSourceSubtype.googleBigQueryFFSQLModel;break;case T.sourceSubtype.googleBigQuerySingleTable:V=T.backendSourceSubtype.googleBigQuerySingleTable;break;case T.sourceSubtype.googleDrive:V=T.backendSourceSubtype.googleDrive;break;case T.sourceSubtype.hadoop:V=T.backendSourceSubtype.hadoopFileBrowser;break;case T.sourceSubtype.localFile:V=T.backendSourceSubtype.localFile;break;case T.sourceSubtype.mdx:V=T.backendSourceSubtype.OLAPSources;break;case T.sourceSubtype.salesforce:V=T.backendSourceSubtype.salesforce;break;case T.sourceSubtype.samplefile:V=T.backendSourceSubtype.samplefile;break;case T.sourceSubtype.searchOnSource:V=T.backendSourceSubtype.searchAsASource;break;case T.sourceSubtype.twitter:V=T.backendSourceSubtype.twitter;break;case T.sourceSubtype.url:V=T.backendSourceSubtype.url;break;case T.sourceSubtype.publicData:V=T.backendSourceSubtype.publicData;break;case T.sourceSubtype.cloudElement:V=T.backendSourceSubtype.cloudElement;break;}return V;};mstrmojo.DI.DIHelpers.getStateParameters=function(V){var U;var Y;var W=[];if(V.indexOf(":")>=0){Y=V.split(":");}else{Y=V.split("%3A");}for(U=0;U<Y.length;U++){var X=Y[U];if(X.substr(2,1)==="_"){W[X.substr(0,2)]=X.substr(3);}}return W;};mstrmojo.DI.DIHelpers.getExtensionType=function(W){var V=W.toLowerCase(),U;if(V===".xls"||V===".xlsx"||V===".xlsm"){U=T.xdaType.excel;}else{if(V===".txt"||V===".csv"||V===".tsv"||V===".prn"){U=T.xdaType.text;}else{U=0;}}return U;};mstrmojo.DI.DIHelpers.setTablesrc=function(U,W,V){if(W){if(!U.tablesSrc[W]){U.tablesSrc[W]=[];}U.tablesSrc[W].push(V);}};function S(U){var W={0:2,1:2,2:2,3:2,4:2,5:2,6:2,7:2,8:3,9:3,10:3,11:2,12:2,13:2,14:8,15:9,16:1,17:3,18:3,21:2,22:2,23:3,30:11,31:2,33:3,34:2},Z={1:T.columnDataTypes.integer,2:T.columnDataTypes.integer,6:T.columnDataTypes.dtdouble,7:T.columnDataTypes.dtfloat,21:T.columnDataTypes.integer,22:T.columnDataTypes.nlong,30:T.columnDataTypes.bigDecimal,34:T.columnDataTypes.int64},V=W[U],Y=Z[U],X="";switch(V.toString()){case T.dataTypeMenuItems.NUMBER:switch(Y){case T.columnDataTypes.integer:X=mstrmojo.desc(9614,"Integer");break;case T.columnDataTypes.nlong:X=mstrmojo.desc(13131,"Long");break;case T.columnDataTypes.int64:X=mstrmojo.desc(13132,"Big Integer");break;case T.columnDataTypes.dtfloat:X=mstrmojo.desc(8002,"Float");break;case T.columnDataTypes.dtdouble:X=mstrmojo.desc(2265,"Double");break;case T.columnDataTypes.bigDecimal:X=mstrmojo.desc(9920,"Big Decimal");break;default:X=mstrmojo.desc(3434,"Number");break;}break;case T.dataTypeMenuItems.DATE:X=mstrmojo.desc(2052,"Date");break;case T.dataTypeMenuItems.DATE_TIME:X=mstrmojo.desc(9919,"DateTime");break;case T.dataTypeMenuItems.TIME:X=mstrmojo.desc(2170,"Time");break;case T.dataTypeMenuItems.TEXT:X=mstrmojo.desc(3544,"Text");break;case T.dataTypeMenuItems.HTML_TAG:X=mstrmojo.desc(9921,"HTML Tag");break;case T.dataTypeMenuItems.PHONE_NUMBER:X=mstrmojo.desc(8984,"Phone Number");break;case T.dataTypeMenuItems.SYMBOL:X=mstrmojo.desc(4530,"Symbol");break;case T.dataTypeMenuItems.URL:X=mstrmojo.desc(9922,"URL");break;case T.dataTypeMenuItems.EMAIL:X=mstrmojo.desc(4699,"Email");break;}return X;}mstrmojo.DI.DIHelpers.getDataTypeString=S;mstrmojo.DI.DIHelpers.parseAlternateSourceValidationResults=function M(c){var a=[],Y,Z,b,d,U,W,X,V;J.forEach(c,function(e){Y=Z=b=d="";W=(e.vt===3)?1:0;switch(e.vt){case 0:case 1:case 2:case 3:Y=e.n;Z=S(e.ddt);U=e.src;b=U.n;d=S(U.ddt);break;case 4:Y=e.n;Z=S(e.ddt);break;case 8:U=e.src;b=U.n;d=S(U.ddt);break;}X=Z?Y+"("+Z+")":Y;V=d?b+"("+d+")":b;a.push([X,W,V]);});return a;};mstrmojo.DI.DIHelpers.getURLFileName=function(V){var U=V.lastIndexOf("/");return U>=0&&U+1!==V.length?V.substr(U+1):V;};mstrmojo.DI.DIHelpers.isOperationMode=function(U){return U!==undefined&&U!==null;};mstrmojo.DI.DIHelpers.isCtrlKey=function(U,W){var V=W||(U||window).event;return V.ctrlKey||V.metaKey;};mstrmojo.DI.DIHelpers.isRefreshable=function(V){var U,W=0;for(U in V.importSources){var X=V.importSources[U];if(X.type===T.sourceType.file&&(X.subtype===T.sourceSubtype.url||X.subtype===T.sourceSubtype.publicData)){if(!X.sourceInfo||X.sourceInfo.url.indexOf("http://mirror.microstrategy.com/datahub/samples")!==0){W++;}}}if(V.getAllTableID().length===W&&!mstrApp.diParams.EnableHttpImport&&!mstrApp.diParams.EnableFTPImport&&!mstrApp.diParams.EnableFileImport&&!mstrApp.diParams.EnableURLImport){return false;}return true;};mstrmojo.DI.DIHelpers.strStartsWith=function(V,U){return V.indexOf(U)===0;};mstrmojo.DI.DIHelpers.adjustDataIdx=function(X,W){var U=[],V;if(!X||X.length===0){return ;}J.forEach(X,function(Y){V=Y.subColumns;if(V&&V.length>1){U=U.concat(V);}else{U.push(Y);}});U.sort(function(Z,Y){return Z[W]-Y[W];});};mstrmojo.DI.DIHelpers.setDataIdx=function(W,V,U){if(!V||V.length===0){return ;}if(V[0].hasOwnProperty("clix")){J.forEach(W,function(Y){var X=Y.ix;Y[U]=J.find(V,"clix",X);if(Y.isMultiForm){J.forEach(Y.subColumns,function(Z){Z[U]=J.find(V,"clix",Z.ix);});}});}if(V[0].hasOwnProperty("did")){J.forEach(W,function(Z){var Y=Z.did;var X=J.find(V,"did",Y);if(X!==-1){Z[U]=X;}if(Z.isMultiForm){J.forEach(Z.subColumns,function(a){X=J.find(V,"did",a.did);if(X!==-1){a[U]=X;}});}});}};mstrmojo.DI.DIHelpers.encodeData=function(U){var V="";if(U!==undefined){if(typeof U==="number"){V=U;}else{V=mstrmojo.string.encodeHtmlString(U,false,true);}}return V;};var E={0:"Bytes",1:"KB",2:"MB",3:"GB",4:"TB",5:"PB"};function P(U){return E[U]||"unknown";}mstrmojo.DI.DIHelpers.getRoundSize=function I(V){var U;for(U=0;(V/1024)>1;U++){V=V/1024;}V=V.toPrecision(3);return V+P(U);};mstrmojo.DI.DIHelpers.findNewElements=function(W,X){var V=[],U;if(W&&W.length){J.forEach(X,function(Y){U=J.indexOf(W,Y);if(U===-1){V.push(Y);}});}else{if(X&&X.length){V=[].concat(X);}}return V;};mstrmojo.DI.DIHelpers.generateCubeName=function(V){var U,W,X=50;U=V.join(" ");if(U.length>X){U=U.slice(0,X)+"...";}W=V.length;if(W>1){U+=" ("+W+" tables)";}return U;};mstrmojo.DI.DIHelpers.parseValidateSourceResults=function(V){var U={isValidate:true,hasError:false,tbids:[],tableValidate:[],missingColumnTbids:[],mismatchedDatatypeTbids:[],missingTableTbids:[],errorTableTbids:[],missingColumns:{},mismatchedDatatypeColumns:{},missingTablesColumns:{},errorTableErrCode:{},errorTableErrMsg:{}},W=V&&V.vts;J.forEach(W,function(e){var X=e.tbid,f=e.vt,Z=e.emsg,c=e.cols||[],Y=true,d=false,b,g=[],a=[];if(f===1){Y=true;}else{switch(f){case T.backendError.switchingFileType:case T.backendError.noExternalSession:case T.backendError.databaseCredentialsNotAvailable:case T.backendError.CECredentialNotAvailable:case T.backendError.AuthenticationError:case T.backendError.shouldBeIgnored:d=true;break;}J.forEach(c,function(h){var i=h.vt;switch(i){case 1:a.push(h);break;case 4:g.push(h);break;}});}if(d){U.errorTableTbids.push(X);U.errorTableErrCode[X]=f;U.errorTableErrMsg[X]=Z;U.isValidate=false;U.hasError=true;}b=g.length>0&&g.length===c.length;if(g.length>0||a.length>0){Y=false;}else{Y=true;}if(Y===false){U.isValidate=false;}U.tbids.push(X);U.tableValidate.push(Y);if(g.length>0){if(b){U.missingTableTbids.push(X);U.missingTablesColumns[X]=g;}else{U.missingColumnTbids.push(X);U.missingColumns[X]=g;}}if(a.length>0){U.mismatchedDatatypeTbids.push(X);U.mismatchedDatatypeColumns[X]=a;}});return U;};mstrmojo.DI.DIHelpers.truncate=function(W,Y,U){if(W&&W.length>Y){var a=3,V=Y-a,Z=Math.ceil(V/2),X=Math.floor(V/2);if(U){return W.substr(0,V)+"...";}else{return W.substr(0,Z)+"..."+W.substr(W.length-X);}}else{return W;}};mstrmojo.DI.DIHelpers.getAbsoluteFileName=function(U){var V,W=U.lastIndexOf("\\");if(W===-1){W=U.lastIndexOf("/");}V=U.substring(W+1,U.length);return V;};mstrmojo.DI.DIHelpers.reevaluatePopupPosition=function(U){if(U){var V=U.style,Y=V.display,X=V.left,W=V.top;V.display="block";if(parseInt(X.substring(0,X.length-2))<0){V.left="0px";}if(parseInt(W.substring(0,W.length-2))<0){V.top="0px";}V.display=Y;}};mstrmojo.DI.DIHelpers.expandNode=function(V){var U=V.visible;V.set("visible",!U);return !U;};mstrmojo.DI.DIHelpers.normalizeTimestamp=function(W){var V=W.replace(/-/g,"/");var U=V.indexOf(".");if(U>0){V=V.substring(0,U);}return V;};mstrmojo.DI.DIHelpers.getBackendErrorStr=function(V,U){var W="";switch(V){case T.backendError.switchingFileType:W=mstrmojo.desc(12509,"Switching the file type is not allowed during republishing or editing the cube.");break;case T.backendError.noExternalSession:case T.backendError.databaseCredentialsNotAvailable:case T.backendError.CECredentialNotAvailable:case T.backendError.AuthenticationError:W=mstrmojo.desc(14392,"We do not have the credentials needed to get the data for this table. Please provide the credentials to proceed publishing this table.");break;}return W;};mstrmojo.DI.DIHelpers.getCommonElements=function(X,Z,Y){var V=[],W,U;for(W=0;X&&W<X.length;W++){for(U=0;Z&&U<Z.length;U++){if(Y(X[W],Z[U])){V.push(X[W]);break;}}}return V;};mstrmojo.DI.DIHelpers.formatDateAndTime=function(c,X){var b=mstrmojo.date;var V=mstrmojo.locales;var W,d,a,Z,U,Y;W=b.parseDateAndOrTime(c);d=W.date;a=W.time;if(X){Y=new Date(Date.UTC(d.year,d.month-1,d.day,a.hour,a.min,a.sec));W=b.getDateJson(Y);d=W;a=W;}Z=b.formatDateInfo(d,V.datetime.DATEDISPLAYFORMAT);U=b.formatTimeInfo(a,V.datetime.TIMEDISPLAYFORMAT);return Z+" "+U;};mstrmojo.DI.DIHelpers.isServerBasedWS=function(){return !!mstrApp.isWorkstation&&!mstrApp.isSingleTier;};mstrmojo.DI.DIHelpers.isLocalWS=function(){return !!mstrApp.isWorkstation&&!!mstrApp.isSingleTier;};mstrmojo.DI.DIHelpers.isDIinVI=function(){return !!mstrApp.isWorkstation&&!!mstrApp.isSingleTier&&!!mstrApp.isPopup;};mstrmojo.DI.DIHelpers.extractFileNameFromHadoopURL=function(V){if(!V){return"";}var U,W;U=V.lastIndexOf("/")+1;W=V.substring(U);return W;};mstrmojo.DI.DIHelpers.extractFileExtensionFromHadoopURL=function(V){if(!V){return"";}var U,W;U=V.lastIndexOf("/")+1;W=V.substring(U);return W.substring(W.lastIndexOf(".")+1);};mstrmojo.DI.DIHelpers.isWS=function(){return !!mstrApp.isWorkstation;};mstrmojo.DI.DIHelpers.getEnvObj=function(){var X=(navigator.platform.indexOf("Win")!==-1?"Win":"Mac"),U=!!mstrApp.isWorkstation?"WS":"Web",V=[];V.push(U,X);return{ENV:V.join("-"),isWSClient:function(){if(!window.FormWrapper||!window.FormWrapper.isDesktop){return false;}return !window.FormWrapper.isDesktop();},isDesktopClient:function(){if(!window.FormWrapper||!window.FormWrapper.isDesktop){return false;}return window.FormWrapper.isDesktop();},isWeb:function(){return U==="Web";},isWS:function(){return U==="WS";},isWin:function(){return X==="Win";},isMac:function(){return X==="Mac";},isDataSet:function(){return mstrApp.placeholder==="DIApp"||mstrApp.placeholder==="mainDIApp"||mstrApp.placeholder==="QBApp";},isDIinVI:function(){return !!mstrApp.isFromVI;},isInDI:function(){return mstrApp.placeholder==="DIApp"||mstrApp.placeholder==="mainDIApp";},isInQB:function(){return mstrApp.placeholder==="QBApp";},isAppSchema:function(){return !!window.mstrAppSchema;},isWebWin:function(){return this.isWeb()&&this.isWin();},isWebMac:function(){return this.isWeb()&&this.isMac();},isWebDataSet:function(){return this.isWeb()&&this.isDataSet();},isWebDossier:function(){return this.isWeb()&&this.isDIinVI();},isWSWin:function(){return this.isWS()&&this.isWin();},isWSMac:function(){return this.isWS()&&this.isMac();},isWSDataSet:function(){return this.isWS()&&this.isDataSet();},isServerBasedWS:mstrmojo.DI.DIHelpers.isServerBasedWS,isWSDossier:function(){return this.isWS()&&this.isDIinVI();},isWSLiveMode:function W(){return this.isWS()&&parseInt(window.FormWrapper.isWSLiveMode(),10)===1;},isWSDossierLocalMode:function(){return this.isWSDossier()&&!this.isWSLiveMode();},isWebWinDataSet:function(){return this.isWeb()&&this.isWin()&&this.isDataSet();},isWebMacDataSet:function(){return this.isWeb()&&this.isMac()&&this.isDataSet();},isWebWinDossier:function(){return this.isWeb()&&this.isWin()&&this.isDIinVI();},isWebMacDossier:function(){return this.isWeb()&&this.isMac()&&this.isDIinVI();},isWSWinDataSet:function(){return this.isWS()&&this.isWin()&&this.isDataSet();},isWSMacDataSet:function(){return this.isWS()&&this.isMac()&&this.isDataSet();},isWSWinDossier:function(){return this.isWS()&&this.isWin()&&this.isDIinVI();},isWSMacDossier:function(){return this.isWS()&&this.isMac()&&this.isDIinVI();},isStandaloneDataSet:function(){return !this.isDIinVI()&&this.isDataSet();}};};mstrmojo.DI.DIHelpers.isOnetier=function(){return !!mstrApp.isSingleTier;};mstrmojo.DI.DIHelpers.getHierarchyMappingXML=function(Z,a){var W="";var V=0,X=1,Y=12;if(a&&a[L.ID]){W+="<mpcs>";W+="<mpc ";W+='did="'+a[L.ID].did+'" drvflg="'+V+(a[L.ID].n?('" n="'+a[L.ID].n+'" ot="'):"")+Y+'" recurisve="'+X+'" ';if(!!Z&&Z!==""){W+='oid="'+Z+'" ';}W+=">";if(a[L.JOIN_ID]){W+="<rdcs>";}for(var U=L.JOIN_ID;U<=L.DISTANCE;U++){if(a[U]!==undefined){W+='<rdc did="'+a[U].did+'" fg="'+U+'"/>';}}if(a[L.JOIN_ID]){W+="</rdcs>";}W+="</mpc>";W+="</mpcs>";}return W;};mstrmojo.DI.DIHelpers.getOperationMode=function(){return mstrApp.getRootController().getModel().operationMode;};mstrmojo.DI.DIHelpers.standardizeDBRolesFormat=function Q(c){var W=["att","dbRole","tableMap"],d,f,Z,U,X,V,a,Y,e,g,b=(function(){var h="list",j="number",i="text";function k(l,q,p,o,n,m){if(l&&p){if(m){l.push({field:q,fieldV:p,IDS:o,options:m,tp:n});}else{l.push({field:q,fieldV:p,IDS:o,tp:n});}}}return{authenticationmethod:function(l,m){k(l,"auth",m,7776,h,[{IDS:13980,n:mstrmojo.desc(13980),v:"1"},{IDS:13981,n:mstrmojo.desc(13981),v:"4"}]);},databasename:function(l,m){k(l,"db",m,8519,i);},hostname:function(l,m){k(l,"host",m,8533,i);},port:function(l,m){k(l,"port",m,8534,j);},server:function(l,m){k(l,"svr",m,8536,i);}};}());c=Object.keys(c).map(function(h){return mstrmojo.DI.DIHelpers.createMSTRObjects(c[h],W);});J.forEach(c,function(h){J.forEach(h.tables,function(i){i.dbRole=(i.dbRole&&i.dbRole.oi)||i.dbRole;i.dbmsObj=i.dbmsObj&&i.dbmsObj.oi;f=i.dbRole;if(f){f.dbmsObj=i.dbmsObj;Z=f.dbmsObj;if(!f.dbms){f.dbms=f.def&&f.def.dbms&&f.def.dbms.did;}}if(!Z||Z.DBInfo){return ;}Z.DBInfo={};d=Z.DBInfo;U=f.efd;if(!U){return ;}U.forEach(function(j){X=j.oi&&j.oi.def;if(!X){return ;}g=X.dbtp;if(g){f.db_type=g;d.dbTypes={dbt:{v:g,n:mstrmojo.desc(mstrmojo.DI.DIDatabaseHelper.getDescriptionIdByDBType(g))}};}V=X.cnsr;if(!V){return ;}e=[];Y=null;f.connstr=V;V.split(";").forEach(function(k){a=k.split("=");a[0]=a[0].toLowerCase().trim();if(a[0]==="driver"){d.driverInstalled=true;}else{if(a[0]==="authenticationmethod"){Y=a;}else{if(b[a[0]]){b[a[0]](e,a[1]);}}}});if(Y){b[Y[0]](e,Y[1]);}});});});return c;};mstrmojo.DI.DIHelpers.filterDisableSources=function A(U){return J.indexOf(mstrApp.diParams.disabledSources,U)<0;};mstrmojo.DI.DIHelpers.getPopupWindowOptions=function R(){var Y={};var W=window.screenX||window.screenLeft||0,V=window.screenY||window.screenTop||0,X=800,U=600,Z;if(document.body&&document.body.offsetWidth){X=document.body.offsetWidth;U=document.body.offsetHeight;}if(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){X=document.documentElement.offsetWidth;U=document.documentElement.offsetHeight;}if(window.innerWidth&&window.innerHeight){X=window.innerWidth;U=window.innerHeight;}if(window.outerWidth){X=window.outerWidth;}if(window.outerHeight){U=window.outerHeight;}Y.height=U*0.5;Y.width=X*0.8;if(Y.height<600||isNaN(Y.height)){Y.height=600;}if(Y.width<800||isNaN(Y.width)){Y.width=800;}Y.left=W+(X-Y.width)/2;Y.top=V+(U-Y.height)/8;if(this.getEnvObj().isWSWin()&&this.getEnvObj().isDIinVI()){Y.left=(window.screen.width-Y.width)/2;Y.top=(window.screen.height-Y.height)/2;}Z="width="+Y.width+",height="+Y.height;Z+=",toolbar=0,scrollbars=1,status=1,resizable=1,location=1,menuBar=0";Z+=",left="+Y.left+",top="+Y.top;return Z;};mstrmojo.DI.DIHelpers.createPopupWindow=function G(V,U){var W,X;X=this.getPopupWindowOptions();if(!V){V="";}W=window.open(V,U,X);return{wnd:W};};mstrmojo.DI.DIHelpers.openPopupWindow=function H(X,V,U){var W;if(X&&!X.closed){X.location=U;X.focus();}else{W=this.createPopupWindow(U);X=W.wnd;if(X){X.focus();}}return X;};mstrmojo.DI.DIHelpers.sendResponse2Window=function B(V,U,Y){var X;if(Y){X=Y;}else{X=window.opener;}if(X){if(U===undefined){U=window.location.origin;if(!U){U=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");}}try{if(this.isIE()&&X.postMessagePassthrough){X.postMessagePassthrough(V,U);try{window.open("","_self","");window.close();}catch(Z){window.close();}}else{X.postMessage(V,U);}}catch(W){console.log("postMessage error: "+W);}}};mstrmojo.DI.DIHelpers.convertDataSourceType2SourceType=function F(U){switch(U){case T.dataSourceType.DROPBOX:return T.sourceType.dropbox;case T.dataSourceType.GOOGLE_DRIVE:return T.sourceType.googleDrive;case T.dataSourceType.GOOGLE_ANALYTICS:return T.sourceType.googleAnalytics;case T.dataSourceType.SALESFORCE:return T.sourceType.salesforce;case T.dataSourceType.GOOGLE_BIGQUERY:return T.sourceType.googleBigQuery;default:return -1;}};mstrmojo.DI.DIHelpers.highlightKeyWords=function K(c,d,U){var W="\\*.?+$^[](){}|/",e=c,a,X;if(c===""){return d;}for(X in W){if(W.hasOwnProperty(X)){a=W[X];e=e.replace(new RegExp("\\"+a,"g"),"\\"+a);}}var b=new RegExp("("+e+")","ig");var V="\u001E",Z=mstrmojo.string.encodeHtmlString,Y;if(b.test(d)){d=d.replace(b,function(f){return V+f+V;});Y=J.map((d||"").split(V),function(g,f){return(f%2===0)?Z(g):('<span class="'+U+'">'+Z(g)+"</span>");});return Y.join("");}};mstrmojo.DI.DIHelpers.detectCustomImg=function(X,W){if(!X||!(W.nodeType&&W.nodeType===window.Node.ELEMENT_NODE)){return ;}var U=X.replace?X.replace(/\s+/g,""):"";var Y=document.getElementsByTagName("head")[0];var V=document.createElement("img");V.src="../javascript/mojo/css/images/DI/connectors/"+U+".png";V.onload=function(){W.style.background="url(../javascript/mojo/css/images/DI/connectors/"+U+".png) no-repeat";Y.removeChild(V);};V.onerror=function(){W.style.background="url(../javascript/mojo/css/images/DI/connectors/default.png) no-repeat";Y.removeChild(V);};Y.appendChild(V);};mstrmojo.DI.DIHelpers.spliceUrlBySeparator=function(V){var U=V.split("#");return U.slice(U.length/2+1).join("#");};mstrmojo.DI.DIHelpers.isOriginalConnector=function(V){var U=T.originalConnector;if(U.elastic===V||U.tapClicks===V){return true;}return false;};mstrmojo.DI.DIHelpers.acceptEventFromAncestor=function(U){if(!U){return true;}if(!this.domNode||typeof U.contains!=="function"||!this.hasRendered){return false;}return U.contains(this.domNode);};mstrmojo.DI.DIHelpers.isdbRoleWritable=function(U){if(mstrmojo.DI.DIHelpers.isOnetier()){return true;}else{return U.writable==="1"&&mstrApp.rootController.hasPrivilege(T.DssXmlPrivileges.DssXmlPrivilegesUseDatabaseInstanceManager);}};mstrmojo.DI.DIHelpers.isdbRoleUsable=function(U){return mstrmojo.DI.DIHelpers.isOnetier()?true:U.usable==="1";};mstrmojo.DI.DIHelpers.applyDriverSuffix=function(W){if(!W||!W.Preferences){return ;}var U=JSON.stringify(W),V=W.Preferences.driverNameSuffix,Y=this.getEnvObj();var X="Platform";if(Y.isDesktopClient()){X=Y.isMac()?"DesktopMac":"DesktopWin";}else{if(Y.isWSClient()){X=Y.isMac()?"WorkstationMac":"WorkstationWin";}}var Z=V[J.find(V,"n",X)];return JSON.parse(U.replace(/!#DRIVERSUFFIX#!/g,Z?Z.value:""));};mstrmojo.DI.DIHelpers.isGeo=function(U){return U.georole&&U.georole>0;};mstrmojo.DI.DIHelpers.isTime=function(U){return U.dtp===parseInt(O.DATE,10)||U.dtp===parseInt(O.DATE_TIME,10)||U.dtp===parseInt(O.TIME,10);};}());(function(){mstrmojo.requiresCls("mstrmojo.Widget");mstrmojo.WaitIcon=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.WaitIcon",cssFloat:"left",visible:false,markupString:'<div id="{@id}" class="mstrmojo-WaitIcon {@cssClass}" style="float:{@cssFloat};{@cssText};"></div>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},markupSlots:{}});}());(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.css","mstrmojo.dom");var B=mstrmojo.css;var A=3,C=2,D=1;mstrmojo.ButtonPreview=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.ButtonPreview",caption:null,fillColor:"#EEEEEE",fontColor:"#000000",border:"#FFFFFF",style:A,markupString:'<div id="{@id}" class="mstrmojo-Mobile-button {@cssClass}" style="{@cssText}" mstrAttach:mouseover,mouseout,click><div class="mstrmojo-Mobile-button-highlight"><div class="mstrmojo-Mobile-button-border"></div><div class="mstrmojo-Mobile-button-radial"></div><div class="mstrmojo-Mobile-button-icon"><img src="{@icon}" style="position:absolute"></div><div class="mstrmojo-Mobile-button-caption-in"></div><div class="mstrmojo-Mobile-button-glass"></div></div><label class="mstrmojo-Mobile-button-caption-out">{@caption}</label></div>',markupSlots:{highlightNode:function(){return this.domNode.firstChild;},borderNode:function(){return this.domNode.firstChild.childNodes[0];},outerCaptionNode:function(){return this.domNode.lastChild;},innerCaptionNode:function(){return this.domNode.firstChild.childNodes[3];},iconNode:function(){return this.domNode.firstChild.childNodes[2].firstChild;},glassNode:function(){return this.domNode.firstChild.childNodes[4];}},onmouseover:function(){B.addClass(this.highlightNode,["hover"]);},onmouseout:function(){B.removeClass(this.highlightNode,["hover"]);},markupMethods:{onselectedChange:function(){B.toggleClass(this.highlightNode,["selected"],this.selected);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},oncaptionChange:function(){this.innerCaptionNode.innerHTML=this.outerCaptionNode.innerHTML=this.caption||"";},onfillColorChange:function(){this.borderNode.style.backgroundColor=this.fillColor;},onfontColorChange:function(){this.innerCaptionNode.style.color=this.outerCaptionNode.style.color=this.fontColor;},oniconChange:function(){if(this.icon){this.iconNode.src="";this.iconNode.style.display="none";var F=this;var E=new Image();E.onload=function(){var I=48,N=48;var H=this.width,L=this.height;var K=(H<I)?1:(H/I),G=(L<N)?1:(L/N);var M=(K>G)?K:G;var J=F.iconNode;if(J){J.width=(H/M);J.height=(L/M);J.src=F.icon;J.style.left=(48-H/M)/2+"px";J.style.top=(48-L/M)/2+"px";J.style.display="inline";}};E.src=F.icon;}else{this.iconNode.src="";this.iconNode.style.display="none";}},onborderChange:function(){this.borderNode.style.borderColor=this.border;},onstyleChange:function(){B.toggleClass(this.glassNode,["off"],(this.style!==A));B.toggleClass(this.borderNode,["off"],(this.style===D));}}});}());(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.hash");function A(H,E,G,F){var D=mstrmojo.hash.copy(F,{props:{left:{isStyle:true,start:H,stop:E,suffix:"px",ease:mstrmojo.ease.linear}},duration:G});(new mstrmojo.fx.AnimateProp(D)).play();}function B(K,N,G,L){var I=K.domNode,M=I.offsetWidth,D=K.scrollableIncFetch;var E=K.hasAnimation&&(!(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent))||Number(RegExp.$1)>3.5),J=L?1:-1,F=parseInt(M,10)*J,H=E?500:0;A(0,-F,H,{target:G,duration:H,preStart:function(){this.target.style.overflowY="hidden";},onEnd:function(){this.target.style.display="none";}});A(F,0,H,{target:N,preStart:function(){this.target.style.display="block";this.target.style.overflowY=(D?"visible":"auto");}});if(K.waiting){A(0,-F,H,{widget:K,slot:"loaderNode",onEnd:function(){this.widget.waiting=false;}});}}var C=function(D){var E=D.currentPage;if(E===D.p1Node){E=D.p2Node;}else{E=D.p1Node;}D.currentPage=E;};mstrmojo.Booklet=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.Booklet",pageClass:"mstrmojo-BookletPage",markupString:'<div id="{@id}" class="mstrmojo-Booklet {@cssClass}" style="{@cssText}"><div id="{@id}_p1" class="mstrmojo-BookletPage" ></div><div id="{@id}_p2" class="mstrmojo-BookletPage" style="left:-100%;"></div><div id="{@id}_ldr" class="mstrmojo-BookletLoader" ></div></div>',markupSlots:{containerNode:function(){return this.domNode;},p1Node:function(){return this.domNode.firstChild;},p2Node:function(){return this.domNode.childNodes[1];},loaderNode:function(){return this.domNode.childNodes[2];}},markupMethods:{onnextChange:function(){var G=this.next;if(!G){return ;}var D=this.currentPage,F=this.p1Node,E=this.currentPage=(D==F)?this.p2Node:F;if(!(G instanceof mstrmojo.Obj)){G=this.next=mstrmojo.insert(G);}if(!G.hasRendered){G.placeholder=E.appendChild(document.createElement("span"));G.render();}else{if(E.firstChild){E.replaceChild(G.domNode,E.firstChild);}else{E.appendChild(G.domNode);}}this.set("waiting",false);if(E&&D){B(this,E,D,this.turnDirFwd);}else{if(this.scrollableIncFetch){E.style.overflowY="visible";}}},onwaitingChange:function(D){this.loaderNode.style.left=(this.waiting)?0:"-100%";},onheightChange:function(D){if(this.height){this.domNode.style.height=this.height;}},onwidthChange:function(D){if(this.width){this.domNode.style.width=this.width;}}},enabled:true,waiting:false,next:null,currentPage:null,turnDirFwd:true,hasAnimation:true,scrollableIncFetch:false,FORWARD:true,REVERSE:false,turnFwd:function(D){this.turn(D,this.FORWARD);},turnBack:function(D){this.turn(D,this.REVERSE);},turn:function(D,E){this.set("turnDirFwd",E);this.set("next",D);}});})();(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.Widget");var A=mstrmojo.css;mstrmojo.TabButton=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.TabButton",markupString:'<span id="{@id}" class="mstrmojo-TabButton {@cssClass}" style="{@cssText}" mstrAttach:click></span>',markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},ontitleChange:function(){this.domNode.innerHTML=this.title||"";},onbackgroundColorChange:function(){this.domNode.style.backgroundColor=this.backgroundColor||"";},onselectedChange:function(){A.toggleClass(this.domNode,["selected"],!!this.selected);}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget");var C=mstrmojo.css,G=mstrmojo.array;function F(H,J){var I={searchMetadata:{taskId:"searchMetadata",styleName:this.searchStyleName,rootFolderID:this.rootID,searchPattern:this.searchPattern+"*",nameWildcards:(this.qse?16:1),quickSearch:this.qse,sortKey:(this.qse?-1:6),blockBegin:this.blockBegin||1,blockCount:this.blockCount,recursive:1,folderBrowserStyle:0,includeAncestorInfo:"true",includeObjectDesc:this.includeObjectDesc,searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseFolder:{taskId:"searchMetadata",rootFolderID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,recursive:this.hierarchical?0:(this.searchXML?"":1),folderBrowserStyle:this.hierarchical?1:0,includeAncestorInfo:String(!!this.hierarchical),searchXML:this.searchXML||"",dataSourcesXML:this.dataSources||"",objectType:this.objectTypes},browseElements:{taskId:"browseElements",styleName:"MojoAttributeStyle",attributeID:this.rootID,blockBegin:this.blockBegin,blockCount:this.blockCount,filterXML:this.filterXML||"",searchPattern:this.searchPattern||"",matchCase:!!this.matchCase,dataSourcesXML:this.dataSourcesXML||"",includeFormNames:!!this.collectForms,includeFormValues:!!this.bIncludeFormValues,displayedForms:this.displayedForms||1,dimensionID:this.dimensionId||""}}[H]||{};if(typeof J==="object"){mstrmojo.hash.copy(J,I);}return I;}var B="##searchPattern";mstrmojo.SearchBox2=mstrmojo.declare(mstrmojo.Widget,null,{scriptClass:"mstrmojo.SearchBox2",taskId:"searchMetadata",rootID:null,searchStyleName:"MojoFolderStyle",objectTypes:"3,14,256,257,1024,1027,2048,3072,10",token:{searchMetadata:/\//,browseElements:/(^-)|(,)|( OR )|( AND)|([<>]=?)|(&)|( )|(["\[\]\/])/},blockCount:50,blockBegin:1,minSearchLength:2,matchCase:false,enableMatchCase:true,supportIncFetch:true,quickSearch:false,searchAfterSearchPatternRestored:false,includeObjectDesc:true,forceResetCache:false,onUpdateSearchParams:mstrmojo.emptyFn,markupString:'<table id={@id} cellspacing=0 cellpadding=0 class="mstrmojo-SearchBox-Wrapper {@cssClass}" style="{@cssText};"><tr><td><div class="mstrmojo-SearchBox" mstrAttach:click ><input class="mstrmojo-SearchBox-input" type="text" mstrAttach:keyup,blur /></div></td><td><div class="mstrmojo-SearchBox-bg"><div class="mstrmojo-SearchBox-search" id="{@id}sbSearch" mstrAttach:click ></div></div></td><td><div class="mstrmojo-SearchBox-options" style="{@cssTextShowMC}"><input id="{@id}sbMatchCase" type="checkbox" mstrAttach:click /><label for="{@id}sbMatchCase">'+mstrmojo.desc(4326,"Case Sensitive")+"</label></div></td></tr></table>",markupSlots:{inputNode:function(){return this.domNode.rows[0].cells[0].firstChild.firstChild;},searchNode:function(){return this.domNode.rows[0].cells[1].firstChild.firstChild;},optionNode:function(){return this.domNode.rows[0].cells[2].firstChild.firstChild;}},preBuildRendering:function(){this.cssTextShowMC=this.enableMatchCase?"":"display: none";},postBuildRendering:function(){if(this._super){this._super();}this.matchCase=this.optionNode.checked;},onkeyup:function E(H){var J=this;var I=J.searchTimer;if(I){window.clearTimeout(I);}J.searchTimer=window.setTimeout(function(){J.onkeyupDelayed(H);delete J._searchTimer;},parseInt(H.e.keyCode||H.e.charCode,10)===13?0:J.searchDelay);},onkeyupDelayed:function A(I){var H=I.hWin,K=I.e||H.event;var J=mstrmojo.string.trim(this.inputNode.value);if(this.searchNode){C.toggleClass(this.searchNode,["clear"],J.length>0);}this.showTaskError=false;this.click2Search=false;if(J.length==0||this.autoSubmit||this.onEnter&&K.keyCode===13){this._onsearch();}},onEnter:function(){this._onsearch();},onclick:function(I){var H=I.hWin,K=I.e||H.event,M=K.target||K.srcElement,L=M&&M.id;switch(L.replace(this.id,"")){case"sbDown":if(this.enableMatchCase){var J=this.optionNode.parentNode.style;J.display=J.display=="block"?"none":"block";}break;case"sbSearch":if(this.inputNode.value.length>0){this.clearSearch();}break;case"sbMatchCase":this.set("matchCase",this.optionNode.checked);break;case"sbSpinner":break;}},clearSearch:function(){this.inputNode.value="";C.removeClass(this.searchNode,["clear"]);var I=this.searchCache,H=this.rootID;if(I&&I[H]){I[H][B]="";}this._onsearch(true);},onmatchCaseChange:function(){this.matchCaseChanged=true;this._onsearch();},onrootIDChange:function(){this.rootChanged=true;this._setupCache(this.forceResetCache);var I=this.searchCache[this.rootID];if(I){var H=I[B]||"";this.inputNode.value=H;if(H.length>0){if(H.length>=this.minSearchLength&&this.searchAfterSearchPatternRestored){this._onsearch();}}}},getRootID:function(){},contentWidget:null,_notifyContentWidget:function(I){var H=this.contentWidget||this;H.set("items",I[0]);if(this.supportIncFetch){var J=I[1],L=I[2],K=this.blockCount;H.set("ifs",{np:Math.floor(J/K)+((J%K>0)?1:0),cp:Math.floor(L/K)+((L%K>0)?1:0)});}},_onsearch:function(H){this.getRootID();this._setupCache();var K=mstrmojo.string.trim(this.inputNode.value);if(K.length===0){H=true;}var L=this.token[this.taskId];if(L.test(K)){}if(this.searchPattern==K&&!this.rootChanged&&!this.matchCaseChanged&&!this.click2Search){return ;}var M=this.rootID,J=this.searchCache[M];if((K.length<this.minSearchLength&&!this.click2Search)&&!H){if(this.searchPattern&&this.searchPattern.length>=this.minSearchLength){this._notifyContentWidget(J[M]);this.searchPattern=K;}}else{this.searchPattern=K;J[B]=this.searchPattern;var I=this.filterCache(K,J,H);if((this.click2Search||I===null)&&!H){this.blockBegin=1;this.fetch();return ;}else{this._notifyContentWidget(I);}}J[B]=K;},_setupCache:function(J){var K=this.searchCache,I=this.rootID;if(K&&(J||!K[I])){K[I]=K[I]||{};var H=this.contentWidget&&this.contentWidget.items||this.rootCacheItems||[];K[I][I]=[H,this.totalSize||0,this.blockBegin||1].concat();}},taskCallId:0,path:mstrConfig.taskURL,method:"POST",serverRequest:function D(H,I){if(mstrApp&&mstrApp.serverRequest){mstrApp.serverRequest(H,I);}else{mstrmojo.xhr.request("POST",this.path,I,H,undefined,this.XServer,this.baseParams);}},fetch:function(){this.rootChanged=false;this.matchCaseChanged=false;if(this.spinnerNode){this.spinnerNode.style.display="block";}if(this.preFetch){this.preFetch();}var H=this,I=F.apply(this,[this.taskId]);I.searchPattern=this.searchPattern;this.onUpdateSearchParams(I);var J={success:function(K){var L=K.items||K.es||[];L=[L,K.totalSize||K.sz||0,K.blockBegin||K.bb];mstrmojo.all[H.id].searchCache[H.rootID][(I.searchPattern.length==0?H.rootID:H.buildIndex(I.searchPattern))]=L;H._notifyContentWidget(L);},failure:function(K){if(H.showTaskError){mstrmojo.alert(mstrmojo.desc(8117,"Data request failed:")+" \n"+K.getResponseHeader("X-MSTR-TaskFailureMsg"));}},complete:function(){if(H.spinnerNode){H.spinnerNode.style.display="none";}if(H.postFetch){H.postFetch();}}};this.serverRequest(I,J);},fetchPage:function(H){this.blockBegin=H*this.blockCount+1;this.fetch();},filterCache:function(J,M,I){var H=M&&M[I?this.rootID:this.buildIndex(J)];if(H){return H;}var K=this.token[this.taskId];if(K.test(J)||this.totalSize>this.blockCount){return null;}var O=J.replace(/.$/,"");H=M&&M[this.buildIndex(O)];while(H===undefined&&(O=O.replace(/.$/,"")).length>0){H=M&&M[this.buildIndex(O)];}if(H!==undefined){if(H[1]>this.blockCount){return null;}var L=H[0],N=[];G.forEach(L,function(P){if(P.n.search(new RegExp(J,this.matchCase?"":"i"))>-1){N.push(P);}});this.totalSize=N.length;return(M[this.buildIndex(J)]=[N,N.length,this.blockBegin].concat());}return null;},buildIndex:function(H){if(H.replace(/^\s|\s$/g,"").length===0){return"";}return !this.matchCase?H.toUpperCase():H+"::0";},init:function(H){if(this._super){this._super(H);}this.qse=mstrApp.useQuickSearch&&mstrApp.useQuickSearch()||0;this.autoSubmit=this.quickSearch&&(mstrApp.searchAutoComplete&&mstrApp.searchAutoComplete()||false);this.searchDelay=mstrApp.searchAutoCompleteDelay&&mstrApp.searchAutoCompleteDelay()||0;this.xhr=new mstrmojo.SimpleXHR();this.searchCache=this.searchCache||{};},clear:function(){this.inputNode.value="";C.removeClass(this.searchNode,["clear"]);}});})();(function(){mstrmojo.requiresCls("mstrmojo.boxmodel","mstrmojo.array","mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.Widget","mstrmojo.Arr","mstrmojo._HasLayout","mstrmojo._ListBase2Selections","mstrmojo.ListSelector","mstrmojo._TouchScrolling","mstrmojo._PagingList");var a=mstrmojo.hash,f=mstrmojo.array,e=mstrmojo.boxmodel,c=mstrmojo.dom;function A(i,k,h){var j=i.listSelector;if(j){j[k](i,i.itemsContainerNode,h);}}function L(i,h){var j=i.lastPagePos;if(!j||j.dragId!==h){j=e.offset(i.itemsContainerNode);j.dragId=h;i.lastPagePos=j;var k=i.scrollboxNode;i.lastScrollPos={left:k.scrollLeft,top:k.scrollTop,width:k.clientWidth,height:k.clientHeight};}}function O(k,n,i){var j=n&&n.node;if(j===k.dropCueNode||j===k.dropCueNode.firstChild){return k.dropCuePos;}var l=k.listMapper;var h=l&&l.whereDrop(k,k.itemsContainerNode,j,n.pos,{left:k.lastPagePos.left-k.lastScrollPos.left,top:k.lastPagePos.top-k.lastScrollPos.top,width:k.lastScrollPos.width,height:k.lastScrollPos.height});var m=k.dropCuePos;return((i!==false)&&m&&h&&(m.idx===h.idx)&&(m.left===h.left)&&(m.top===h.top))?m:h;}var g="attachEventListener";function D(i,h){if(i.makeObservable){h=h||[];if(!h[g]){mstrmojo.hash.make(h,i.itemsScriptClass||mstrmojo.Arr);}}return h;}function H(i,h){if(h&&h[g]){i._sub_its=h;i._sub_add=h[g]("add",i.id,"preadd");i._sub_rmv=h[g]("remove",i.id,"preremove");}}function G(h){if(h._sub_its){var i=mstrmojo.publisher;i.unsubscribe(h._sub_add);i.unsubscribe(h._sub_rmv);delete h._sub_add;delete h._sub_rmv;delete h._sub_its;}}mstrmojo.ListBase2=mstrmojo.declare(mstrmojo.Widget,[mstrmojo._ListBase2Selections,mstrmojo._TouchScrolling,mstrmojo._PagingList,mstrmojo._HasLayout],{scriptClass:"mstrmojo.ListBase2",items:null,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative;{@cssText}" mstrAttach:keyup,keypress,mousedown,mouseup,dblclick><div class="mstrmojo-ListBase2-itemsContainer" style="position:relative;{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode;},itemsContainerNode:function(){return this.domNode.firstChild;},dropCueNode:function(){return this.domNode.lastChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?this.cssDisplay:"none";},ondropCuePosChange:function(){var i=this.dropCueNode,h=i&&i.style;if(!h){return ;}var k=this.dropCuePos,j=!!k;if(j){h.left=k.left+"px";h.top=k.top+"px";}h.display=j?"block":"none";},onpageChange:function(){if(this.usePaging&&!this._inScroll){this._inPaging=true;this.listMapper.toPage(this,this.page);this._inPaging=false;}},onwidthChange:function(){if(!isNaN(parseInt(this.width))){this.domNode.style.width=this.width;}},onheightChange:function(){if(!isNaN(parseInt(this.height))){this.domNode.style.height=this.height;}}},autoHide:false,renderOnScroll:false,firstRenderBlockSize:50,renderBlockSize:50,listMapper:null,listBuilder:null,listSelector:mstrmojo.ListSelector,animate:false,itemsEffect:null,containerResizable:true,init:function Z(m){this._super(m);this.items=this.initItems(this.items);var l=this.selectedIndices,j=this.selectedIndicesList,k=this.selectedIndex,n=this.selectedItem;this.selectedIndices={};this.selectedIndex=-1;delete this.selectedIndicesList;delete this.selectedItem;if(l||j||(k>-1)||n){this.initSelections(l,j,k,n);}if(this.postInitItems){this.postInitItems();}},initItems:function I(h){return D(this,h);},preBuildRendering:function W(){var l=this.listBuilder,o=l.newContext(this);this.ctxtBuilder=o;var i=this.markupSlots,k=!!(this.renderOnScroll&&this.renderBlockSize&&i&&i.scrollboxNode),j=this.items,h=(j&&j.length)||0,m=k?this.firstRenderBlockSize:h,n=k?this.firstRenderBlockSize:0;this._eros=k;this.paused=false;this.itemsHtml=this.listMapper.buildItemWrappers(j,l,this,o,m,n).join("");this.itemsContainerCssText="visibility: hidden";if(this._super){this._super();}},postBuildRendering:function E(){delete this.itemsHtml;var m=this.listMapper;if(m&&m.postBuildRendering){m.postBuildRendering(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder);}H(this,this.items);if(this._eros||this.usePaging){if(!this._cb_scroll){var p=this.id;this._cb_scroll=function(){var i=mstrmojo.all[p];i.onscroll();};}mstrmojo.dom.attachEvent(this.scrollboxNode,"scroll",this._cb_scroll);this.onscroll();}if(this.animate){for(var k=0,j=["itemsEffect","scrollEffect"],h=j.length;k<h;k++){var o=j[k],l=this[o];if(l&&l.constructor===Object){l=mstrmojo.insert(mstrmojo.hash.clone(l));l.widget=this;this[o]=l;}}if(this.itemsEffect){this.itemsEffect.play();}}this.itemsContainerNode.style.visibility="inherit";if(this.containerResizable&&this.itemsContainerNode.scrollWidth<this.domNode.scrollWidth){this.itemsContainerNode.style.width=this.domNode.scrollWidth+"px";}if(this._super){this._super();}},unrender:function X(l){G(this);if(this._eros){mstrmojo.dom.detachEvent(this.scrollboxNode,"scroll",this._cb_scroll);delete this._cb_scroll;}for(var j=0,k=["itemsEffect","scrollEffect"],h=k.length;j<h;j++){var m=this[k[j]];if(m&&m.isPlaying){m.cancel();}}this._super(l);},pauseScrollRendering:function P(j,h,i){if(j!==false){j=true;}if(this.paused===!!j){return ;}this.paused=!!j;if(j){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}}else{this.fill(h,i);}},onscroll:function K(){if(this.paused){return ;}if(this._eros){if(!this._fillTmr){var h=this;this._fillTmr=self.setTimeout(function(){h.fill();h=null;},50);}}if(this._super){this._super();}},fill:function b(h,l){if(this._fillTmr){window.clearTimeout(this._fillTmr);delete this._fillTmr;}var m=(this.items&&this.items.length)||0;if(!m){if(l){l();}}else{var j=this.scrollboxNode,n=this.itemsContainerNode,k=mstrmojo.boxmodel.offset(n,j),p=this.listMapper,o=p.findScrollRange(n,m,(this.usesTouches&&this.pos&&parseInt(this.pos.y,10))||j.scrollTop,j.clientHeight,(this.usesTouches&&this.pos&&parseInt(this.pos.x,10))||j.scrollLeft,j.clientWidth,k.left,k.top);if(this.fillAt(o.start,o.end)){if(h){h();}var i=this.id;this._fillTmr=window.setTimeout(function(){mstrmojo.all[i].fill(h,l);},100);}else{if(l){l();}}}},fillAt:function M(j,i){var h=this.listMapper;if(h){return h.fillItemWrappers(this.itemsContainerNode,this.items,this.listBuilder,this,this.ctxtBuilder,j,i,this.renderBlockSize);}else{return false;}},add:function R(i,h){if(!i||!i.length){return -1;}var j=this.items;if(h==null){h=a.min(this.selectedIndices,false,true);if(h!==null&&h!==undefined){h++;}}if(h==null||h===-1){h=(j&&j.length)||0;}if(j&&j.add){j.add(i,h);}else{this.set("items",j?f.insert(j.concat(),h,i):i);}return h;},preadd:function B(k){if(this.hasRendered){var n=this.listMapper;if(n){n.onadd(this,this.itemsContainerNode,this.ctxtBuilder,k);}var m=this.listBuilder;if(m){m.onadd(this,this.ctxtBuilder,k);}var j=this.listSelector;if(j){j.onadd(this,k);}if(this._eros){this.onscroll();}else{var l=k.index,h=k.value.length;this.fillAt(l,l+h-1);}}if(this.onadd){this.onadd(k);}if(this._super){this._super(k);}},remove:function U(h){if(h==null){return -1;}if(h.constructor!==Array){return this._remove(h);}var k=this.items;if(k){var j;if(k.remove){for(j=h.length-1;j>-1;j--){k.remove(h[j],1);}}else{k=k.concat();for(j=h.length-1;j>-1;j--){k.splice(h[j],1);}this.set("items",k);}return h[0];}return -1;},_remove:function U(j){var i=this.items;if(!i||(j==null)){return -1;}var h;if(!isNaN(j)){h=j;}else{h=this.itemIndex(j);}if(h>-1){if(i.remove){i.remove(h,1);}else{i=i.concat();i.splice(h,1);this.set("items",i);}}return h;},duplicate:function Y(m,i,j){var k=this.items,h=-1;if(!k||(m==null)){return -1;}if(!isNaN(m)){if(i===null||i===undefined){i=m+1;}m=k[m];}else{if(i===null||i===undefined){i=this.itemIndex(m)+1;}}if(m){var l;l=a.copy(j,a.clone(m));h=this.add([l],i);}return h;},preremove:function N(i){if(this.hasRendered){var k=this.listMapper;if(k){k.onremove(this,this.itemsContainerNode,this.ctxtBuilder,i);}var j=this.listBuilder;if(j){j.onremove(this,this.ctxtBuilder,i);}var h=this.listSelector;if(h){h.onremove(this,i);}if(this._eros){this.onscroll();}}if(this.onremove){this.onremove(i);}if(this._super){this._super(i);}},move:function S(l,q){function o(r,i){return q>=r&&q<=r+i;}var p=(this.items&&this.items.length)||0;if(q===-1||q==null||isNaN(q)){q=p;}else{q=Math.min(q,p);}var k,h,n,m;if(l.constructor===Array){h=l;n=l;m=(h&&h.length)||0;if(o(l[0],l.length)){return false;}k=f.get(this.items,l);}else{if(typeof (l)==="object"){k=[l];m=1;h=this.itemIndex(k[0]);n=[h];if(o(h,1)){return false;}}else{h=l;n=[l];m=1;if(o(h,1)){return false;}k=[this.items[h]];}}for(var j=0;j<m;j++){if(n[j]<=q){q--;}}if(k[0]!=null){this.remove(h);this.add(k,q);}return true;},itemIndex:function F(h){if(h==null){return -1;}var i=this.itemIdField;return i?f.find(this.items,i,h[i]):f.indexOf(this.items,h);},prechange:function T(k){if(this.hasRendered){var j=[this.listBuilder,this.listMapper];for(var l=0,h=j.length;l<h;l++){var m=j[l];if(m&&m.onchange){m.onchange(this,this.itemsContainerNode,this.ctxtBuilder,k);}}}},makeObservable:false,_set_items:function J(m,h){var l=this.items;h=this.initItems(h);this.items=h;if(l!==h){var k=this,j=function(){if(k.autoHide){k.set("visible",!!(h&&h.length));}k=null;},i=this.hasRendered;if(i){this.refresh(j);}else{j();}}return l!==h;},premousedown:function d(h){A(this,"premousedown",h);},premouseup:function Q(h){A(this,"premouseup",h);},scrollTo:function V(i){var h,j=this.listMapper;if(j&&j.toItem){if(!isNaN(i)){h=i;}else{h=this.itemIndex(i);}if(h>=0){j.toItem(this,h);}}},draggable:false,getDragData:function(l){L(this,l.id);var j=O(this,l.src),i=j&&j.idxActual;if((i>-1)&&this.selectedIndices[i]){var k=this.sortSelectedIndices(),h=f.get(this.items,k)||[];switch(h.length){case 1:return a.copy({html:h[0][this.itemDisplayField],index:k[0]},a.copy(h[0]));case 0:return null;default:return a.copy({html:h.length+" selections",indices:k},h);}}},dropZone:false,ondragenter:function(h){L(this,h.id);this.set("dropCuePos",O(this,h.tgt));},ondragover:function(h){this.set("dropCuePos",O(this,h.tgt));},ondragleave:function(h){this.set("dropCuePos",null);},isDragValid:function C(h){return h&&h.src&&h.src.data;},ondragstart:function(h){if(!(h&&h.src&&h.src.data)){return false;}},allowCopy:false,ondragend:function(k){var i=k&&k.tgt,h=i&&i.widget;if(h===this){}else{if(this.tree&&h&&h.tree===this.tree){if(!this.allowCopy||!c.ctrlKey(i.hWin,i.e)){var j=k.src&&k.src.data;if(j&&(j.indices||(j.index!==null))){this.remove(j.indices||j.index);}}}}},ondrop:function(q){var u=q&&q.src,p=u&&u.data;if(p){var k=O(this,q.tgt,false),r=k&&k.idx,l=(p&&p.constructor===Array),j=this.sortSelectedIndices();var n=this.items;r=Math.min(r,n&&n.length)||0;var t=true;if(u.widget===this){t=this.move(j,r);f.forEach(j,function(i){if(i<=r){r--;}});}else{this.add(l?p:[p],r);}if(t){var o=l?p.length:1,h={};for(var m=0;m<o;m++){h[r+m]=true;}this.set("selectedIndices",h);}}this.set("dropCuePos",null);}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper");var C=1;mstrmojo._hasWidgetListMapper={buildItemWrappers:function A(H,G,F,E,J,I){E.first=J;E.last=I;return this._super(H,G,F,E,0,0);},postBuildRendering:function B(K,I,H,G,F){var J=F.first;if(J){this.fillItemWrappers(K,I,H,G,F,0,J);}if(F.last){var E=I&&I.length||0,L=Math.max(Math.max(0,E-F.last),J);this.fillItemWrappers(K,I,H,G,F,L,E);}if(this._super){this._super(K,I,H,G,F);}},fillItemWrappers:function D(F,N,K,R,M,E,I,Q){var L=(N&&N.length)||0,P=this.wrapperNodes(F),S=M.itemStatus;for(var J=E,O=Math.min(I+1,L),H=0;J<O;J++){if(S[J]!==C){var G=K.build(R,M,N[J],J);if(G){G.placeholder=P[J].firstChild;G.render();}H++;if(H===Q){break;}}}return H;},onchange:null};mstrmojo.WidgetListMapper=mstrmojo.provide("mstrmojo.WidgetListMapper",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapper)));mstrmojo.WidgetListMapper.RENDERED=C;mstrmojo.requiresCls("mstrmojo.ListMapperHoriz");mstrmojo.WidgetListMapperHoriz=mstrmojo.provide("mstrmojo.WidgetListMapperHoriz",mstrmojo.mixin(mstrmojo._hasWidgetListMapper,mstrmojo.hash.copy(mstrmojo.ListMapperHoriz)));})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapper","mstrmojo.WidgetListMapper");var D=mstrmojo.array,B="mstrmojo-itemwrap",C={markupSuffix:'<div class="mstrmojo-clearMe"></div>',findIndex:function A(E,H,G){var F=this._nd2iw(E,H,G);return D.indexOf(H.childNodes,F);},getWrapperCss:function(F){var E=F.layout;return B+" lyt_"+E.row+"x"+E.col;}};mstrmojo.ListMapperTile=mstrmojo.provide("mstrmojo.ListMapperTile",mstrmojo.mixin(C,mstrmojo.hash.copy(mstrmojo.ListMapper)));mstrmojo.WidgetListMapperTile=mstrmojo.provide("mstrmojo.WidgetListMapperTile",mstrmojo.mixin(C,mstrmojo.hash.copy(mstrmojo.WidgetListMapper)));})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2");function B(E){var I=E.ctxtBuilder;if(I){var H=I.itemWidgets,G;for(G=H.length-1;G>-1;G--){var F=H[G];if(F){F.destroy(true);}}}}mstrmojo.WidgetListBase=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.WidgetListBase",unrender:function C(G){var I=this.ctxtBuilder;if(I){var H=I.itemWidgets,F;for(F=H.length-1;F>-1;F--){var E=H[F];if(E&&E.hasRendered){E.unrender(true);}}}this._super(G);},refresh:function A(E){B(this);if(this._super){this._super(E);}},destroy:function D(E){B(this);this._super(E);}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapperHoriz","mstrmojo.ListBuilder");mstrmojo.ListHoriz=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.ListHoriz",renderOnScroll:true,listMapper:mstrmojo.ListMapperHoriz,listBuilder:mstrmojo.ListBuilder,itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.ListBase2","mstrmojo.ListMapper","mstrmojo.ListBuilder","mstrmojo.ListSelector");mstrmojo.List=mstrmojo.declare(mstrmojo.ListBase2,null,{scriptClass:"mstrmojo.List",renderOnScroll:true,listMapper:mstrmojo.ListMapper,listBuilder:mstrmojo.ListBuilder,listSelector:mstrmojo.ListSelector,itemIdField:"dssid",itemField:"n",itemMarkup:null,itemMarkupFunction:null});})();(function(){mstrmojo.requiresCls("mstrmojo.Container");mstrmojo.TabStripBase=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.TabStripBase",target:null,targetProps:null,isStrip:true,ontargetChange:function A(I){var J=I&&I.valueWas;if(J){var G=this._targetSubs;if(G){J.detachEventListener(G.add);J.detachEventListener(G.rem);J.detachEventListener(G.sel);}this.removeChildren();}var K=this.target;if(K){var E=this.targetProps,D=(E&&E.children)||"children",B=K[D];this.addTabButtons(B,0);var H="attachEventListener",C=this.id,F;if(K[H]){this._targetSubs={add:K[H]("addChild",C,function(L){var M=L&&L.value;if(M&&M.length){this.addTabButtons(M,L.index);}}),rem:K[H]("removeChild",C,function(M){var L=M&&M.value;for(F=((L&&L.length)||0)-1;F>-1;F--){this.removeTabButton(L[F]);}}),sel:K[H]("selectedChange",C,function(L){this.selectionChange(L);})};}}},addTabButtons:mstrmojo.emptyFn,removeTabButton:mstrmojo.emptyFn,selectionChange:mstrmojo.emptyFn});}());(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var B=mstrmojo.css;mstrmojo.Panel=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Panel",state:1,showTitlebar:false,markupString:'<div id="{@id}" class="mstrmojo-Panel {@cssClass}" style="position: relative;{@cssText}"><div class="mstrmojo-Panel-titlebar {@cssClass}"><img class="mstrmojo-Panel-state" src="../images/1ptrans.gif" align="absmiddle" onclick="var w = mstrmojo.all[\'{@id}\']; w.set(\'state\', w.state === 0 ? 1 : 0)" /><span class="mstrmojo-Panel-text" style="{@ttlTxtCssText}"></span><input type="button" class="mstrmojo-Panel-del" value="{@delText}" onclick="mstrmojo.all[\'{@id}\'].del()"/><div class="mstrmojo-clearMe"></div></div><div class="mstrmojo-Panel-container"></div></div>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},titlebarNode:function(){return this.domNode.firstChild;},titleNode:function(){return this.domNode.firstChild.childNodes[1];},containerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){var C=this.titleNode;if(C){var D=this.title;C.innerHTML=(D!==null)?D:"";}},onstateChange:function(){var C=(this.state===0);for(var D in {stateNode:1,titleNode:1,containerNode:1}){if(this[D]){B.toggleClass(this[D],["closed"],C);}}},onshowTitlebarChange:function(){B.toggleClass(this.titlebarNode,["closed"],(this.showTitlebar===false));}},del:function A(){var C=this.parent;if(C&&C.remove){C.remove(this.item);}if(this.customDel){this.customDel();}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.css");var F="",B="row-",E=mstrmojo.css.DISPLAY_TABLE;mstrmojo.Table=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.Table",cellCssClass:"",rows:-1,cols:-1,_trows:-1,cellPadding:0,cellSpacing:0,layout:null,markupString:'<table id="{@id}" class="mstrmojo-Table {@cssClass}" style="{@cssText}" cellpadding="{@cellPadding}" cellspacing="{@cellSpacing}">{@tableHtml}</table>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?E:"none";}},preBuildRendering:function G(){var I=[],P=this.cellCssClass;if(this.layout){var Q=this._trows=this.layout.length;for(var K=0;K<Q;K++){var H=this.layout[K],R=H.cells,O=R.length,L=[];for(var J=0;J<O;J++){var N=R[J],M="";M+=((N.cssClass||P)?' class="'+(N.cssClass||P)+'"':"");M+=(N.cssText?' style="'+N.cssText+'"':"");M+=(N.rowSpan?' rowspan="'+N.rowSpan+'"':"");M+=(N.colSpan?' colspan="'+N.colSpan+'"':"");L[J]="<td"+M+"></td>";}var S="";S+=(H.cssClass?' class="'+H.cssClass+'"':"");S+=(H.cssText?' style="'+H.cssText+'"':"");I[K]="<tr"+S+">"+L.join("")+"</tr>";}}else{this._trows=this.rows;var M=(P?' class="'+P+'"':""),L=[];for(var K=0;K<this.rows;K++){for(var J=0;J<this.cols;J++){L[J]="<td"+M+"></td>";}I[K]="<tr>"+L.join("")+"</tr>";}}this.tableHtml=I.join("");if(this._super){this._super();}},postBuildRendering:function C(){if(this._trows){var M={},I=this.containerNode.rows,N=I.length;for(var L=0;L<N;L++){var K=I[L].cells,H=K.length;M[B+L]=I[L];for(var J=0;J<H;J++){M[F+L+","+J]=K[J];}}this.addSlots(M);}this._super();},childRenderCheck:function D(I){if(I&&!I.hasRendered){var H=I.slot||this.defaultChildSlot;return !!this[H]||H.match(/^([\d]+),([\d]+)$/);}return false;},on_child_change_rendering:function A(L){var H=(L&&L.src)||L,O=H&&H.domNode;if(O){var U=H.slot;if(!this[U]){var M=U&&U.match(/^([\d]+),([\d]+)$/);if(M){var R=parseInt(M[1],10),V=parseInt(M[2],10),Q=this.containerNode,T=this[(B+R)],N=[];if(!T){var J=Q.rows,S=J&&J.length||0;for(var K=S;K<=R;K++){N[B+K]=Q.insertRow();}T=N[B+R];}var P=T.cells&&T.cells.length||0;for(var K=P;K<=V;K++){var I=T.insertCell(K);N[F+R+","+K]=I;if(this.cellCssClass){I.className=this.cellCssClass;}}this.addSlots(N);}}}this._super(L);}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container");mstrmojo.FieldSet=mstrmojo.declare(mstrmojo.Container,null,{legend:null,scriptClass:"mstrmojo.FieldSet",markupString:'<fieldset id="{@id}" class="mstrmojo-FieldSet {@cssClass}" style="{@cssText}"><legend class="{@cssClass}-legend">{@legend}</legend></fieldset>',markupSlots:{legendNode:function(){return this.domNode.firstChild;},containerNode:function(){return this.domNode;}},markupMethods:{onlegendChange:function(){this.legendNode.innerHTML=mstrmojo.string.encodeHtmlString((this.legend!=null)?this.legend:"");},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}}});})();(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo._CanRenderChildrenOnShow");var A=mstrmojo.array;mstrmojo.StackContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._CanRenderChildrenOnShow],{scriptClass:"mstrmojo.StackContainer",isStack:true,markupString:'<div id="{@id}" class="mstrmojo-StackContainer {@cssClass}" style="{@cssText}"></div>',markupMethods:{onwidthChange:function(){if(!isNaN(parseInt(this.width))){this.domNode.style.width=this.width;}},onheightChange:function(){if(!isNaN(parseInt(this.height))){this.domNode.style.height=this.height;}},onborderChange:function(){this.domNode.style.border=this.border||"";},onbackgroundChange:function(){this.domNode.style.background=this.background||"";}},markupSlots:{containerNode:function(){return this.domNode;}},_set_selected:function D(H,F){var G=this.selected;if(G===F){return false;}if(G){G.set("visible",false);}this.selected=F;if(F){F.set("visible",true);}return true;},addChildren:function B(J,G,H){var K=this.selected,L;for(var I=0,F=(J&&J.length)||0;I<F;I++){L=J[I];if(L&&L.set){L.set("visible",L===K);}}return this._super(J,G,H);},removeChildren:function C(H,F){var G=this._super(H,F);if(!H||(H===this.selected)){this.set("selected",null);}return G;},destroy:function E(F){this._super(F);this.selected=null;},renderMode:"onshow"});})();(function(){mstrmojo.requiresCls("mstrmojo.func","mstrmojo.Container","mstrmojo._HasPopup");var E=function(){var G=this.opener;if(G.direction.toLowerCase()==="up"){this.domNode.style.top=-G.domNode.offsetHeight+"px";}};mstrmojo.DropDownButton=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DropDownButton",height:"",text:"",direction:"down",enabled:true,title:"",allowHTML:true,markupString:'<div id="{@id}" class="mstrmojo-DropDownButton {@cssClass} {@direction}" style="{@cssText}"><div class="mstrmojo-DropDownButton-boxNode {@cssClass}-boxNode" title="{@title}" mstrAttach:mousedown><div class="mstrmojo-DropDownButton-iconNode {@cssClass}-iconNode">{@text}</div></div><div class="mstrmojo-DropDownButton-popupNode {@cssClass}-popupNode"></div></div>',markupSlots:{boxNode:function(){return this.domNode.firstChild;},iconNode:function(){return this.domNode.firstChild.firstChild;},popupNode:function(){return this.domNode.lastChild;}},markupMethods:{onheightChange:function(){this.boxNode.style.height=this.height||"";},ontextChange:function(){this.iconNode.innerHTML=this.getTextInnerHTML();},ontitleChange:function(){this.boxNode.title=this.title;},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},preBuildRendering:function C(){if(this._super){this._super();}var G=this.popupRef;if(G){if(G.nudge){G.nudge=mstrmojo.func.composite([G.nudge,E]);}else{if(this.direction.toLowerCase()!=="down"){G.nudge=E;}}}},popupRef:null,popupOpenConfig:null,destroy:function D(G){var H=this.popupRef;if(H&&H.hasRendered){H.destroy(false);}if(this._super){this._super(G);}},togglePopup:function F(){var G=this._lastOpened;if(G&&G.visible){this.closePopup();}else{this.openPopup("popupRef",this.popupOpenConfig);}},premousedown:function A(G){this.togglePopup();},getTextInnerHTML:function B(){return this.allowHTML?this.text:mstrmojo.string.encodeHtmlString(this.text);}});}());(function(){mstrmojo.requiresCls("mstrmojo._CanValidate","mstrmojo.Label","mstrmojo.Obj","mstrmojo.string","mstrmojo.color","mstrmojo.css","mstrmojo.locales");mstrmojo.locales.validation.requiredFieldError=mstrmojo.desc(6078);mstrmojo.locales.validation.invalidCharError=mstrmojo.desc(7899);mstrmojo.locales.validation.integerDataType=mstrmojo.desc(6076);mstrApp.onSessionExpired=function(){S.lastProject=null;S.lastSession=null;O.lastProject=null;O.lastSession=null;R.set("mode",W);U.set("mode",W);};var P=mstrmojo.string,G=mstrmojo.color,T=mstrmojo.hash,V=mstrmojo.dom;function L(b){return(b!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_WIN)&&(b!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_TRUSTED)&&(b!=mstrmojo.mobileConfigUtil.PRJ_AUTHEN_INTEGRATED);}var J=0,W=1,C=2,X=3;function a(b){return T.copy(b||{},{scriptClass:"mstrmojo.Table",alias:"loginBox",cssClass:"mobileConfig-loginBox",cellPadding:2,cols:2,rows:5,onwaitChange:function(){this.waitIcon.set("visible",this.wait);mstrmojo.css.toggleClass(this.domNode,["disabled"],this.wait);},restoreSession:function(){var d=this.lastProject,e=this.selectedProject,c=d&&(d.v==e.v)&&(d.iServer==e.iServer)&&(d.authMode==e.authMode);if(c){this.sessionID=this.lastSession;}return c;},closeSession:function(){if(this.sessionID!=null){if(this.parent.opener.reuseSession){this.lastSession=this.sessionID;this.lastProject=this.selectedProject;}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(c){},failure:function(){}},{taskId:"closeSessions",sessionStates:this.sessionID},false,this.selectedProject.webServer);}this.sessionID=null;}},children:[{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(4446),slot:"0,0"},{scriptClass:"mstrmojo.SelectBox",alias:"projects",cssText:"width:230px; margin:0px",showItemTooltip:true,size:1,bindings:{visible:"!this.items || this.items.length != 1"},onitemsChange:function(){if(this.items&&this.items.length>0){this.set("selectedIndex",0);}},onchange:function(){if(this.selectedItem){var c=L(this.selectedItem.authMode);this.parent.set("selectedProject",this.selectedItem);this.parent.uid.set("enabled",c);this.parent.password.set("enabled",c);}},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssClass:"mobileConfig-loginBox-projectLabel",bindings:{visible:"!this.parent.projects.visible",text:"this.parent.projects.items[0].n"},slot:"0,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1161),slot:"1,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",alias:"uid",onkeyup:function(d){var c=d.hWin,f=d.e||c.event;if(f.keyCode===13){this.parent.loginButton.onclick();}},slot:"1,1"},{scriptClass:"mstrmojo.Label",cssText:"width: 80px; margin:0px",text:mstrmojo.desc(1162),slot:"2,0"},{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssText:"width:220px; margin:0px",type:"password",alias:"password",onkeyup:function(d){var c=d.hWin,f=d.e||c.event;if(f.keyCode===13){this.parent.loginButton.onclick();}}},{slot:"3,0",scriptClass:"mstrmojo.Label",bindings:{visible:"(this.parent.projects.selectedItem.authMode === mstrmojo.mobileConfigUtil.PRJ_AUTHEN_STD || this.parent.projects.selectedItem.authMode === mstrmojo.mobileConfigUtil.PRJ_AUTHEN_LDAP) && this.parent.selectedProject.tfa"},text:mstrmojo.desc(16216)},{slot:"3,1",scriptClass:"mstrmojo.TextBox",alias:"tsvCode",bindings:{visible:"(this.parent.projects.selectedItem.authMode === mstrmojo.mobileConfigUtil.PRJ_AUTHEN_STD || this.parent.projects.selectedItem.authMode === mstrmojo.mobileConfigUtil.PRJ_AUTHEN_LDAP) && this.parent.selectedProject.tfa"},onkeyup:function(d){var c=d.hWin,f=d.e||c.event;if(f.keyCode===13){this.parent.loginButton.onclick();}}},{slot:"4,1",scriptClass:"mstrmojo.HTMLButton",alias:"loginButton",text:mstrmojo.desc(4020),cssText:"margin-left: 20px;",cssClass:"mstrButton",bindings:{enabled:"this.parent.projects.items.length > 0"},onclick:function(){var c=L(this.parent.selectedProject.authMode),d=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(e){if(e!=null){d.parent.sessionID=e.sessionState;d.parent.parent.set("mode",d.parent.parent.targetMode);}},failure:function(e){mstrmojo.mobileConfigUtil.showErrorMsgBox(mstrmojo.desc(422));d.parent.parent.close();},complete:function(){d.parent.set("wait",false);}},{taskId:"login",server:d.parent.selectedProject.iServer,project:d.parent.selectedProject.project,userid:(c)?d.parent.uid.value:"",password:(c)?d.parent.password.value:"",authMode:d.parent.selectedProject.authMode,tsvCode:(c)?S.tsvCode.value:""},false,d.parent.selectedProject.webServer);d.parent.set("wait",true);}},{slot:"4,1",scriptClass:"mstrmojo.HTMLButton",cssText:"margin-left: 35px;",cssClass:"mstrButton",text:mstrmojo.desc(221),onclick:function(){this.parent.parent.close();}},{slot:"5,0",scriptClass:"mstrmojo.WaitIcon",alias:"waitIcon",cssClass:"mobileConfig-waitIcon"}]});}var F=mstrmojo.insert({id:"objectBrowserBox",alias:"objectBrowserBox",scriptClass:"mstrmojo.VBox",callbackOnSelect:function(f){var d=this.objectBrowser.currentFolder,g=d.anc.items[0],h=g.n,c=g.items&&g.items[0],e=this;while(c){h+="\\"+c.n;c=c.items&&c.items[0];}if(d!=f){h+="\\"+f.n;}var b={oi:{did:f.did,pt:h,pid:this.parent.loginBox.selectedProject.v,t:f.t,st:f.st,n:f.n,psu:e.parent.loginBox.selectedProject.webServer,fid:f.pf||d.did}};if(R.opener.allowCheckSubscription){b.csp=true;}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(j){if(j!==null){b.oi.ab=j.objects[0].ab;b.oi.dsc=j.objects[0].desc;b.oi.avm=j.objects[0].avm;}else{b.oi.dsc="";b.oi.avm=0;}var m=R.opener,l=m.target,k=m.targetType,i=l[k];if(!i){l.set(k,new mstrmojo.Obj(b));}else{i.set("oi",b.oi);i.set("csp",b.csp);}},failure:function(){b.oi.dsc="";b.oi.avm=0;},complete:function(){R.close();}},{taskId:"getObjectInfo",objectIDs:f.did,objectTypes:f.t,sessionState:e.parent.loginBox.sessionID},false,e.parent.loginBox.selectedProject.webServer);},onvisibleChange:function(){if(this.visible){var b=this.objectBrowser;objBrowserDP=b.dataProvider,objBrowserSearch=b.searchUpBar.obSearchBox,config={method:"POST",path:mstrConfig.taskURL,XServer:this.parent.loginBox.selectedProject.webServer};T.copy(config,objBrowserDP);T.copy(config,objBrowserSearch);T.copy({onSelectCB:[F,"callbackOnSelect"],onCloseCB:[R,"close"],browsableTypes:R.opener.browsableTypes},b);b.sId=objBrowserSearch.sessionState=this.parent.loginBox.sessionID;objBrowserSearch.searchCache={};objBrowserSearch.objectTypes=R.opener.browsableTypes;b.browse();}this.objectBrowser.set("visible",this.visible);this.choose.set("visible",this.visible&&(this.objectBrowser.browsableTypes=="8,17153"||this.objectBrowser.browsableTypes=="8"));this.switcher.set("visible",this.visible);},children:[{id:"objectBrowser",scriptClass:"mstrmojo.ObjectBrowser",alias:"objectBrowser",folderLinksContextId:14,upButtonVisible:true,closeOnSelect:false,useAnimate:false,closeable:false},{scriptClass:"mstrmojo.HTMLButton",alias:"choose",text:mstrmojo.desc(549),cssClass:"mstrButton",cssText:"width:100px",onclick:function(){this.parent.callbackOnSelect(this.parent.objectBrowser.currentFolder);}},{scriptClass:"mstrmojo.HTMLButton",alias:"switcher",text:mstrmojo.desc(221),cssClass:"mstrButton",cssText:"width:80px",onclick:function(){R.close();}}]});var I=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"triggerSelectorBox",alias:"triggerSelectorBox",cssClass:"triggerSelectorBox",rows:3,cols:1,onvisibleChange:function(){var b=this;if(this.visible){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(d){var e=I.triggerList;if(d.objList){var c=d.objList.length>0;e.set("items",c?d.objList:[]);e.set("selectedIndex",c?0:-1);}},failure:function(){}},{taskId:"getSchedules",sessionState:b.parent.loginBox.sessionID},false,b.parent.loginBox.selectedProject.webServer);}else{this.set("items",null);}},children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssClass:"triggerListTitle",text:mstrmojo.desc(1090,"Choose a schedule:")},{slot:"1,0",scriptClass:"mstrmojo.SelectBox",alias:"triggerList",cssClass:"triggerList",size:1,showItemTooltip:true,itemDisplayField:"n",itemIdField:"id"},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:60px;",text:mstrmojo.desc(1442,"OK"),onclick:function(){var b=this.parent.triggerList.selectedItem;if(b){var c=R.opener;c.target.set(c.targetType,{oi:{did:b.id,t:b.t,n:b.n}});}R.close();}},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"margin-left:10px; width:80px",text:mstrmojo.desc(221,"Cancel"),onclick:function(){R.close();}}]});var E=mstrmojo.insert({scriptClass:"mstrmojo.Table",cssClass:"mstrmojo-LwrDocumentBrowserBox",id:"lwrDocumentBrowserBox",alias:"lwrDocumentBrowserBox",visible:false,layout:[{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]}],onvisibleChange:function(){if(this.visible){var b=this;if(!this.parent.opener.lwr){this.parent.opener.set("lwr",{ois:[]});}this.set("selectedItems",this.parent.opener.lwr.ois);this.lwrSelect.set("items",[{n:this.parent.opener.folder.oi.n,v:0},{n:"Current Selections",v:1}]);mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(c){T.forEach(c.items,function(d){d.pid=b.parent.loginBox.selectedProject.v;d.fid=b.parent.opener.folder.oi.did;d.did=d.did||d.dssid;d.t=d.t||d.tp;d.st=d.st||d.stp;d.dsc=(d.desc==undefined)?"":d.desc;d.avm=(d.avm==undefined)?0:d.avm,d.psu=b.parent.loginBox.xServer;});b.list.set("selects",b.list.selectedItems);b.set("items",c.items);},failure:function(){mstrmojo.mobileConfigUtil.showErrorMsgBox(mstrmojo.desc(422));b.parent.onClose();}},{taskID:"searchMetadata",sessionState:b.parent.loginBox.sessionID,rootFolderID:b.parent.opener.folder.oi.did,objectType:"3,55",includeAncestorInfo:true,includeObjectDesc:true,showObjectTags:true},undefined,b.parent.loginBox.xServer);}},children:[{slot:"0,0",alias:"lwrSelect",scriptClass:"mstrmojo.SelectBox",cssClass:"mstrmojo-IphoneSettingAction-SelectBox",showItemTooltip:true,size:1,onselectionChange:function(){this.parent.list.set("selects",[]);for(var b in this.parent.list.selectedIndices){this.parent.list.selects.push(this.parent.list.items[b]);}if(this.selectedItem&&this.selectedItem.v==0){this.parent.list.set("items",this.parent.items);}else{if(this.selectedItem&&this.selectedItem.v==1){this.parent.list.set("items",this.parent.list.selects);}}}},{slot:"0,1",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"width:45px",text:"clear",onclick:function(){this.parent.list.clearSelect();}},{slot:"1,0",scriptClass:"mstrmojo.List",cssClass:"",alias:"list",id:"lwrList",selectionPolicy:"toggle",allowUnlistedValues:false,cssClass:"mstrmojo-IphoneSettingAction-List",multiSelect:true,itemIdField:"did",itemField:"n",selects:[],itemMarkupFunction:function(d,b,c){return'<div class="mstrmojo-IphoneSettingAction-ListItem"><div class="mstrmojo-checkBox-Container"><div class="mstrmojo-checkBox'+(d[c.itemCss]||"")+'"></div></div><div class="mstrmojo-text '+(d[c.itemCss]||"")+'" title="'+d[c.itemField]+'">'+(d[c.itemField]||"&nbsp;")+"</div></div>";},renderOnScroll:true,bindings:{selectedItems:"this.parent.selectedItems",items:"this.parent.items"},onitemsChange:function(){this.set("selectedIndices",[]);if(this.items&&this.selects){this.setSelectedItems(this.selects);}},onOK:function(){var b=this.items,d=this.parent.parent.opener;this.set("selects",[]);for(var c in this.selectedIndices){this.selects.push(b[c]);}this.selectedItems=this.selects;if(d){d.set("lwr",{ois:this.selectedItems});d.closePopup();}},onCancle:function(){var b=this.parent.parent;if(b){b.onClose();}}},{slot:"2,0",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"width: 80px",text:"OK",onclick:function(){this.parent.list.onOK();}},{slot:"2,1",scriptClass:"mstrmojo.HTMLButton",cssClass:"mstrButton",cssText:"width: 80px; margin-left: -30px",text:"Cancel",onclick:function(){this.parent.list.onCancle();}}]});var S=mstrmojo.insert(a({id:"loginBox"})),O=mstrmojo.insert(a({id:"lwrLoginBox"}));var U=mstrmojo.insert({scriptClass:"mstrmojo.Popup",id:"lwrPopup",cssClass:"mobileConfigPopup",slot:"popupNode",locksHover:true,mode:J,children:[O,E],onOpen:function(){this.lastOpener=this.lastOpener||this.opener;if(this.opener!==this.lastOpener){this.opener.popupNode.appendChild(this.lastOpener.popupRef.domNode);this.lastOpener=this.opener;}this.loginBox.projects.set("items",mstrmojo.all.mobileConfig.getProjects(this.opener.target.pid,this.opener.target.sn));this.targetMode=this.opener.mode;this.set("mode",(this.opener.reuseSession&&this.loginBox.restoreSession())?this.targetMode:W);},onmodeChange:function(){this.lwrDocumentBrowserBox.set("visible",this.mode===C);this.loginBox.set("visible",this.mode===W);},onClose:function(b){this.loginBox.closeSession();this.lwrDocumentBrowserBox.list.clearSelect();this.set("mode",J);},destroy:function(){document.body.appendChild(this.domNode);this.lastOpener={popupRef:{domNode:this.domNode}};},unrender:function(){}});var R=mstrmojo.insert({scriptClass:"mstrmojo.Popup",id:"mobileConfigPopup",cssClass:"mobileConfigPopup",slot:"popupNode",locksHover:true,mode:J,children:[S,F,I],onOpen:function(){this.lastOpener=this.lastOpener||this.opener;if(this.opener!==this.lastOpener){this.opener.popupNode.appendChild(this.lastOpener.popupRef.domNode);this.lastOpener=this.opener;}this.loginBox.projects.set("items",mstrmojo.all.mobileConfig.getProjects(this.opener.target.pid,this.opener.target.sn));this.targetMode=this.opener.mode;this.set("mode",(this.opener.reuseSession&&this.loginBox.restoreSession())?this.targetMode:W);},onmodeChange:function(){this.set("left",this.mode===W?"-305px":"-175px");this.set("top",(this.mode!==W&&mstrmojo.dom.isWK)?"-35px":"0px");this.objectBrowserBox.set("visible",this.mode===C);this.loginBox.set("visible",this.mode===W);this.triggerSelectorBox.set("visible",this.mode===X);},onClose:function(b){this.loginBox.closeSession();this.set("mode",J);},destroy:function(){document.body.appendChild(this.domNode);this.lastOpener={popupRef:{domNode:this.domNode}};},unrender:function(){}});var A=function(c,b){return T.copy(c,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mobileConfig-popupButton",text:"   ",title:"",mode:b,popupRef:R});};mstrmojo.mobileConfigUtil=mstrmojo.provide("mstrmojo.mobileConfigUtil",{DEVICE_IPHONE:1,DEVICE_IPAD:2,DEVICE_PHONE_UNIVERSAL:3,DEVICE_TABLET_UNIVERSAL:4,DEVICE_BLACKBERRY:5,DEVICE_IOS:6,DEVICE_ANDROID:7,DEVICE_ALL:8,DEFAULT_WEBSERVER:1,DEFAULT_PROJECT:2,DEFAULT_IPHONE_HOMESCREEN_BUTTON:3,DEFAULT_IPHONE_CUSTOM_HOMESCREEN:4,DEFAULT_IPAD_HOMESCREEN_BUTTON:5,DEFAULT_IPAD_CUSTOM_HOMESCREEN:6,DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN:7,DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN:8,DEFAULT_IPAD_PRECACHE_BUTTON:9999,HOMESCREEN_DEFAULT:1,HOMESCREEN_CUSTOM:2,HOMESCREEN_RD:3,HOMESCREEN_FOLDER:4,ACT_BROWSEFOLDER:1,ACT_RUNREPORT:2,ACT_FAVOURITES:3,ACT_SETTINGS:4,ACT_SHAREDLIBRARY:5,ACT_HELP:6,ACT_CLOUD:7,STYLE_GLASS:3,STYLE_FLAT:2,STYLE_NONE:1,FILL_SOLID:0,FILL_TRANSPARENT:1,FILL_GRADIENT:2,BACKGROUND_FILL:1,BACKGROUND_IMAGE:2,TITLEBAR_REGULAR:1,TITLEBAR_IMAGE:2,ICON_DEFAULT:1,ICON_IMAGE:2,ACT_HELP_DEFAULT:1,ACT_HELP_DOCUMENT:2,LOGGING_LEVEL_WARNING:12,LOGGING_LEVEL_ERROR:14,LOGGING_LEVEL_MESSAGES:10,LOGGING_LEVEL_ALL:0,LOGGING_LEVEL_OFF:16,MEM_UNIT_MB:1,MEM_UNIT_GB:2,TIME_UNIT_DAYS:1,TIME_UNIT_HOURS:2,TIME_UNIT_MINUTES:3,AUTHEN_ANONY:1,AUTHEN_BASIC:2,AUTHEN_WIN:3,AUTHEN_INTEGRATED:4,AUTHEN_USHER:5,PRJ_AUTHEN_STD:1,PRJ_AUTHEN_WIN:2,PRJ_AUTHEN_LDAP:16,PRJ_AUTHEN_DB:32,PRJ_AUTHEN_TRUSTED:64,PRJ_AUTHEN_INTEGRATED:128,SRV_ASP:1,SRV_J2EE:0,REQ_HTTP:0,REQ_HTTPS:1,CACHE_PRELOAD_AUTO:1,CACHE_PRELOAD_OFF:2,CACHE_CLEAR_AUTO:1,CACHE_CLEAR_ONCLOSE:2,PUSH_NOTIFICATION_ON:1,PUSH_NOTIFICATION_OFF:2,OUTPUT_TYPE_ALL:1,OUTPUT_TYPE_MOBILE_CLIENT:2,getLightWeightReconcilePopup:function(){return U;},createObjBrowserDropdown:function(b){return A(b,C);},createTriggerListDropdown:function(b){return A(b,X);},makeButtonHashable:function(b){this.makeHashable(b);this.makeHashable(b,["cap","dsc","act","icn"]);this.makeHashable(b.act,["hlp","rs","fd"]);this.makeHashable(b.act.rs,["pcf"]);this.makeHashable(b.icn,["img"]);return b;},makeCSTHomescreenHashable:function(d){this.makeHashable(d);this.makeHashable(d,["rs","fd"]);if(d.cst){var e=d.cst.fmt;this.makeHashable(e);this.makeHashable(e,["btn","bkg","ttl","vw"]);this.makeHashable(e.bkg,["fll","img"]);this.makeHashable(e.ttl,["cap","img"]);this.makeHashable(e.btn,["fnt","brd","fll"]);for(var c=0,b=d.cst.btns.length;c<b;c++){this.makeButtonHashable(d.cst.btns[c]);}}else{if(d.rs){if(d.rs.sobs){var f=d.rs.sobs;for(var c=0,b=f.length;c<b;c++){this.makeHashable(f[c]);this.makeHashable(f[c],["fd","rs"]);if(f[c].rs){this.makeHashable(f[c].rs,["pcf"]);}}}if(d.rs.pb){this.makeHashable(d.rs,["pb"]);}}}},makeHashable:function(f,d){if(!f){return ;}else{if(d===undefined){T.make(f,mstrmojo.Obj);}else{for(var c=0,b=d.length;c<b;c++){var e=d[c];if(e in f){T.make(f[e],mstrmojo.Obj);}}}}},transformGradient:function(d){if(typeof d==="object"){var c=mstrmojo.css.buildGradient(0,G.decodeColor(d.sclr),G.decodeColor(d.eclr));return c.n+":"+c.v;}else{if(typeof d=="string"){var b=d.match(/#\w{6}/g);if(b!==null&&b.length==2){return{sclr:G.encodeColor(b[0]),eclr:G.encodeColor(b[1])};}}}return"";},getTransferAuth:function Z(b){var c=(b.udc===true)?mstrmojo.all.mobileConfig.data.cty.wsdc.am:b.wsc.am;return(c===this.AUTHEN_BASIC)?{transferAuthHeader:"1"}:null;},showErrorMsgBox:function Y(c){if(!c){return ;}var b=mstrmojo.all.mobileConfigTaskError;if(b){var d=b.children[0].text;if(d!=c){b.children[0].set("text",d+c);}}else{mstrmojo.insert({scriptClass:"mstrmojo.Dialog",id:"mobileConfigTaskError",title:mstrmojo.desc(3610),width:"475px",btnAlignment:"right",cssText:"border:1px solid #AAAAAA;",buttons:[{scriptClass:"mstrmojo.HTMLButton",cssText:"margin-bottom:2px",text:mstrmojo.desc(1442),preBuildRendering:function(){this.cssClass="mobileconfig-Button";},postBuildRendering:function(){this.domNode.focus();},onkeyup:function(g){var f=g.hWin,h=g.e||f.event;if(h.keyCode===13){this.onclick();}},onclick:function(e){mstrmojo.all.mobileConfigTaskError.destroy();}}],children:[{scriptClass:"mstrmojo.Label",text:c}]}).render();}},isASP:function K(){return(window.location.pathname.indexOf("/asp/")>0)?true:false;},getWebSrvUrl:function B(b){return((parseInt(b.rt,10)===0)?"http":"https")+"://"+b.nm+":"+b.po+"/"+b.pt+((parseInt(b.ty,10)===0)?"/servlet/taskProc":"/asp/taskProc.aspx");},setValidValue:function Q(d,e,b,c){if(!d){return ;}b=(b!=null)?P.trim(b):"";if(c&&d.set){d.set(e,b);}else{d[e]=b;}},validatePort:function M(b){b=parseInt(b,10);if(b<0||b>65535){return false;}},generalValidator:function H(c,d,f,b){var e={id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};if(d===mstrmojo.expr.DTP.INTEGER){c=parseInt(c,10);}if(f&&f(c)===false){e.code=mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR;e.msg=b;}return e;},propertyName:function N(c,e,b,d){return{scriptClass:"mstrmojo.Label",text:c,cssText:b,slot:e,bindings:d};},obj2Xml:function D(j,i,h,e,f,c){var b=h?'<?xml version="1.0" encoding="UTF-8"?>':"",g=f?f:{_meta_usesSuper:false,_super:false,audibles:false,dead:false,defaultButton:false,defaultPrj:false,defaultSrv:false,disposables:false,id:false,pdn:false,scriptClass:false,validFlag:false},d={getArrItemName:c?c:function(m,k,l){return m.substr(0,m.length-1);},isSerializable:function(m,l,k){return(g[m]===false)?false:true;},skipNull:e,convertBoolean:false,skipFunctions:true};b+=P.json2xml(i,j,d);return b;}});})();(function(){mstrmojo.requiresCls("mstrmojo.Button");mstrmojo.HTMLButton=mstrmojo.declare(mstrmojo.Button,null,{scriptClass:"mstrmojo.HTMLButton",markupString:'<input id="{@id}" type="button" class="mstrmojo-text mstrmojo-HTMLButton mstrButton {@cssClass} {@iconClass}" title="{@title}" style="{@cssText}" mstrAttach:click />',markupSlots:{inputNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"inline":"none";},onenabledChange:function(){mstrmojo.css[this.enabled?"removeClass":"addClass"](this.domNode,["disabled"]);},onselectedChange:function(){mstrmojo.css[this.selected?"addClass":"removeClass"](this.domNode,["selected"]);},ontextChange:function(){this.inputNode.value=this.text!=null?this.text:"";},oniconClassChange:function(){this.domNode.className="mstrmojo-text mstrmojo-HTMLButton mstrButton "+this.cssClass+" "+this.iconClass+(this.enabled?"":" disabled");}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Widget","mstrmojo.ui._HasScroller","mstrmojo.css","mstrmojo.DI.DIHelpers");var F=mstrmojo.css,H=mstrmojo.string,A=mstrmojo.desc(14058,"Show Details"),E=mstrmojo.desc(14059,"Hide Details"),B=mstrmojo.DI.DIHelpers,D=mstrmojo.desc(14060,"We are sorry for the inconvenience. Please {contact} your administrator for help.").replace("{",'<span class="dyn-link">').replace("}","</span>");mstrmojo.ui.editors.ErrorDialogContent=mstrmojo.declare(mstrmojo.Widget,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",markupString:'<div class="mstrmojo-error-content {@cssClass}" mstrAttach:click><div class="scroll-container"><div>{@shortDesc}</div><div class="contact">'+D+'</div><div class="toggle-details-link" >'+A+'</div><div class="error-details">{@longDesc}</div></div></div>',markupSlots:{scrollNode:function(){return this.domNode.firstChild;},contactNode:function(){return this.domNode.firstChild.children[1].getElementsByClassName("dyn-link")[0];},toggleDetailsNode:function(){return this.domNode.firstChild.children[2];},errorDetailsNode:function(){return this.domNode.firstChild.children[3];}},markupMethods:{onshowDetailsChange:function(){var K=this.showDetails;this.toggleDetailsNode.innerHTML=K?E:A;F.toggleClass(this.domNode,"show-details",K);this.updateScrollbars();}},cssClass:undefined,shortDesc:undefined,longDesc:undefined,showDetails:false,showToggle:true,enableContactStr:true,allowHTML:false,init:function I(K){this._super(K);this.shortDesc=this.shortDesc||mstrmojo.desc(14061,"An error has occurred");},onclick:function J(K){var M=K.getTarget(),L,N=this.longDesc;if(M===this.contactNode){L="mailto:?subject="+encodeURI("Issue: "+this.shortDesc)+(N?("&body="+encodeURI("Detail:\r\n"+N)):"");mstrApp.openPage(L,"_self");}else{if(M===this.toggleDetailsNode){this.set("showDetails",!this.showDetails);this.parent.raiseEvent({name:"EditorResized"});this.parent.positionDialog();}}},setupScrollNodes:function C(){this.scrollNode=this.scrollNode;},preBuildRendering:function G(){this._super&&this._super();if(!this.allowHTML){this.longDesc=H.encodeHtmlString(H.decodeHtmlString(this.longDesc,true),true);}},postBuildRendering:function(){var K=this.domNode.firstChild.children[1];this._super&&this._super();!this.showToggle&&F.addClass(this.toggleDetailsNode,"hide");!this.enableContactStr&&F.addClass(K,"invisible");}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.Button","mstrmojo.DropDownButton","mstrmojo.Label","mstrmojo.WaitIcon");mstrmojo.IncFetch=mstrmojo.declare(mstrmojo.Container,null,{scriptClass:"mstrmojo.IncFetch",markupString:'<div id="{@id}" class="mstrmojo-IncFetch {@cssClass}" style="{@cssText}"><div class="mstrmojo-IncFetch-content"></div><div class="mstrmojo-clearMe"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;}},preBuildRendering:function A(){var J=[],F=this.ds,M=this.cp,P=this.np,C=this.ps,E=this.id,G=2;var L=function(){mstrmojo.all[E].set("cp",this.text);};var H={f:1,p:Math.max(M-1,1),n:Math.min(M+1,P),l:P};for(var O in H){J.push(new mstrmojo.Button({iconClass:"arrow "+O,title:F[O],enabled:(H[O]!==M),text:H[O],onclick:L}));}var D=Math.max(Math.min(M-2,P-4),1),I=Math.min(D+4,P);for(var K=D;K<=I;K++){var N;if(K===M){if(I-D===4&&P!==5){N=new mstrmojo.DropDownButton({height:"13px",title:F.a?F.a:"",text:K,direction:"up",popupRef:{scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"goto",autoCloses:false,locksHover:true,children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Label",cssText:"float:left;",text:F.gt},{scriptClass:"mstrmojo.TextBox",cssText:"float:left;",size:3,maxLength:String(P).length,onEnter:function(){var R=this.inputNode.value,T=this.parent.parent;if(R===""){T.close();return ;}var Q=parseInt(R,10),S=!(isNaN(Q)||Q<1||Q>P);if(S){mstrmojo.all[E].set("cp",Q);T.close();}else{this.setInvalidState(F.v.replace("###",P).replace("##",1).replace(" #",""));}}},{scriptClass:"mstrmojo.Button",cssText:"float:left",iconClass:"apply",title:F.ap?F.ap:"",onclick:function(){this.parent.children[1].onEnter();}}]}],onOpen:function(){mstrmojo.css.addClass(this.parent.domNode,["open"]);var Q=this.children[0].children[1].inputNode;window.setTimeout(function(){Q.focus();},0);},onClose:function(){mstrmojo.css.removeClass(this.parent.domNode,["open"]);this.children[0].children[1].cleanUp();}}});}else{N=new mstrmojo.Button({iconClass:"pg on",text:K});}}else{N=new mstrmojo.Button({iconClass:"pg",text:K,onclick:L});}J.splice(G++,0,N);}J.splice(G++,0,new mstrmojo.Label({text:F.pgs.replace("###",P).replace("##",""),cssText:"float:left;margin:1px 1px 1px 3px;"}));this._iWait=new mstrmojo.WaitIcon({cssText:"margin-top:-2px;"});J.push(this._iWait);this.addChildren(J);return this._super?this._super():true;},_set_cp:function B(D,C){if(parseInt(C,10)!==this.cp){this.raiseEvent({name:"fetch",v:C,iWait:this._iWait});}}});})();(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.StackContainer");mstrmojo.TabContainer=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout],{scriptClass:"mstrmojo.TabContainer",markupString:'<div id="{@id}" class="mstrmojo-tabcontainer {@cssClass}"><div class="mstrmojo-tabcontainer-tabs"></div><div class="mstrmojo-tabcontainer-stack"></div><div></div></div>',markupMethods:{onborderChange:function(){if(this.border){this.domNode.style.border=this.border;}},onbackgroundChange:function(){this.domNode.style.background=this.background||"";}},markupSlots:{top:function(){return this.domNode.childNodes[0];},stack:function(){return this.domNode.childNodes[1];},containerNode:function(){return this.domNode.childNodes[1];},bottom:function(){return this.domNode.childNodes[2];}},addChildren:function A(D,K,H){var G=this._super(D,K,H);var B=this.children,F=B.length;if(F>=2){var L,I,E;for(E=0;E<F;E++){var C=B[E],J=C&&C.slot;if(!L&&C.isStrip){L=C;}else{if(!I&&(!J||J==="stack")){I=C;}}if(L&&I){L.set("target",I);break;}}}return G;}});}());(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._ListSelections","mstrmojo.tooltip","mstrmojo.dom","mstrmojo.hash","mstrmojo.css");var Q=mstrmojo.dom,C=mstrmojo.css,R=mstrmojo.hash,K=mstrmojo.all,c=mstrmojo._HasMarkup,d="px";var D={},J=false,Z;function b(){var m={mousedown:["touchstart","mousedown"],mouseup:["touchend","mouseup"],mousemove:["touchmove","mousemove"]},l;for(l in m){D[l]=J?m[l][0]:m[l][1];}}function j(m){if(this.dragging){return ;}this._moveCnt++;if(this._moveCnt>this.mousemoveBuffer){var l=document.body;Q.detachEvent(l,"mousemove",this._mousemoveCallback);Q.detachEvent(l,"mouseup",this._cancelCallback);this.initDrag(m);}}function f(m){if(this.dragging){return ;}this._moveCnt++;if(this._moveCnt>this.mousemoveBuffer){var l=document.body;Q.detachEvent(l,"touchmove",this._touchmoveCallback);Q.detachEvent(l,"touchend",this._cancelCallback);if(Z){window.clearTimeout(Z);}this.initDrag(m);}}function H(o){var l=document.body,n=J?"_touchmoveCallback":"_mousemoveCallback";Q.detachEvent(l,D.mousemove,this[n]);Q.detachEvent(l,D.mouseup,this._cancelCallback);if(Z){window.clearTimeout(Z);}var m=this.afterDragCancel;if(m){m.call(this.target,o);}}function G(q){J=true;b();Q.preventDefault(window,q);if(this.dragging){return true;}var n=this.target.id,o=document.body,m=q&&q.touches&&q.touches[0]||q;if(!this._touchmoveCallback){this._touchmoveCallback=function(r){f.call(K[n].dnd,r&&r.touches&&r.touches[0]||r);return true;};}this._moveCnt=0;this.startE=R.copy(m);Q.attachEvent(o,"touchmove",this._touchmoveCallback);if(!this._cancelCallback){this._cancelCallback=function(r){H.call(K[n].dnd,m);return true;};}Q.attachEvent(o,"touchend",this._cancelCallback);var p=this,l=m;l.type=l.name="contextmenu";Z=window.setTimeout(function(){var s=p.target,u=s&&s.docSelector,r=u&&u.parent;Q.detachEvent(o,"touchmove",this._touchmoveCallback);Q.detachEvent(o,"touchend",this._cancelCallback);if(r){r.raiseEvent(c.newDomEvent("contextmenu",window,l));}},1000);return false;}function e(n){J=false;b();Q.preventDefault(window,n);if(this.dragging){return true;}var l=this.target.id,m=document.body;if(!this._mousemoveCallback){this._mousemoveCallback=function(o){j.call(K[l].dnd,o);return true;};}this._moveCnt=0;this.startE=R.copy(n);Q.attachEvent(m,"mousemove",this._mousemoveCallback);if(!this._cancelCallback){this._cancelCallback=function(o){H.call(K[l].dnd,o);return true;};}Q.attachEvent(m,"mouseup",this._cancelCallback);return false;}function E(m){var l=this.duringDrag;if(l){l.call(this.target,m);}return true;}function N(n){this.dragging=false;var l=document.body;Q.detachEvent(l,D.mousemove,this._dragCallback);Q.detachEvent(l,D.mouseup,this._dragEndCallback);var m=this.afterDragEnd;if(m){m.call(this.target,n);}return true;}function V(){if(this._mousemoveCallback){Q.detachEvent(document.body,"mousemove",this._mousemoveCallback);delete this._mousemoveCallback;}if(this._touchmoveCallback){Q.detachEvent(document.body,"touchmove",this._touchmoveCallback);delete this._touchmoveCallback;}if(this._cancelCallback){Q.detachEvent(document.body,"mouseup",this._cancelCallback);Q.detachEvent(document.body,"touchup",this._cancelCallback);delete this._cancelCallback;}if(this._dragCallback){Q.detachEvent(document.body,"mousemove",this._dragCallback);Q.detachEvent(document.body,"touchmove",this._dragCallback);delete this._dragCallback;}if(this._dragEndCallback){Q.detachEvent(document.body,"mouseup",this._dragEndCallback);Q.detachEvent(document.body,"touchmove",this._dragEndCallback);delete this._dragEndCallback;}}mstrmojo.DnDComponent=mstrmojo.declare(null,null,{scriptClass:"mstrmojo.DnDComponent",isDragging:false,initD:null,startE:null,afterDragStart:null,duringDrag:null,afterDragEnd:null,target:null,mousemoveBuffer:1,init:function U(l){R.copy(l,this);},initDrag:function i(p){this.dragging=true;var m=this.target.id,o=document.body;var q=this._dragCallback;if(!q){q=this._dragCallback=function(r){if(J){r=r&&r.touches&&r.touches[0]||r;}return E.call(K[m].dnd,r);};}Q.attachEvent(o,D.mousemove,q);var l=this._dragEndCallback;if(!l){l=this._dragEndCallback=function(r){if(J){r=r&&r.touches&&r.touches[0]||r;}return N.call(K[m].dnd,r);};}Q.attachEvent(o,D.mouseup,l);var n=this.afterDragStart;if(n){n.call(this.target,p);}this._dragCallback(p);}});function Y(l){this.getUnit=function m(){var n=l.items.length;return n>1?l._effLen/(n-1):1;};this.calcMinMax=function(o,n){var q=Math.round((o/l.unit+n/l.unit)/2);return{min:q,max:q};};this.preUpdateThumb=function(){l.start=Math.min(l.min*l.unit,l._effLen)+d;l.sdCssText=l.orCfg.posCssP+":"+l.start+";";};this.updateThumb=function(){l.containerNode.style[l.orCfg.posCssP]=l.start=Math.min(Math.round(l.min*l.unit),l._effLen)+d;};return this;}function h(l){this.getUnit=function(){return l._effLen/l.items.length;};this.calcMinMax=function(o,n){return{min:Math.floor(o/l.unit+0.5),max:Math.floor(n/l.unit-0.5)};};function m(){var n=l.min,p=l.unit;var q=l.start=(n*p)+d;var o=l.length=Math.max(Math.round((l.max-n+1)*p-l.gap),0)+d;return{st:q,len:o};}this.preUpdateThumb=function(){var o=l.orCfg,n=m();l.sdCssText=o.posCssP+":"+n.st+";"+o.lenCssP+":"+n.len+";";};this.updateThumb=function(){var o=l.orCfg,n=m(),p=l.containerNode.style;p[o.posCssP]=n.st;p[o.lenCssP]=n.len;};return this;}var F="<span>{@content}</span>";mstrmojo.Slider=mstrmojo.declare(mstrmojo.Container,[mstrmojo._ListSelections],{scriptClass:"mstrmojo.Slider",markupString:'<div id="{@id}" class="mstrmojo-Slider {@cssClass} {@clsType} {@clsOrientation}" style="{@cssText}" ><div class="cont"><div class="bk" style="{@bkCssText}"></div><div class="sdc" style="position:absolute;{@sdcCssText}" mstrAttach:mouseout><div class="sd" style="{@sdCssText}"><div class="t1"></div><div class="t2"></div><div class="t3"></div></div></div></div></div>',sdCssText:"",cssClass:"sc",clsType:"sc2",clsOrientation:"sc-v",orCfg:null,typeHelper:null,_tooltip_pos:"TL",useRichTooltip:true,init:function g(l){this._super(l);if(l.isHoriz){this.orCfg={posCssP:"left",marginCssP:"marginLeft",lenCssP:"width",lenP:"clientWidth",opPosCssP:"top",thickP:"clientHeight",offsetP:"x"};this.clsOrientation=" sc-h";this._tooltip_pos=mstrmojo.tooltip.POS_BOTTOMLEFT;}else{this.orCfg={posCssP:"top",marginCssP:"marginTop",lenCssP:"height",lenP:"clientHeight",opPosCssP:"left",thickP:"clientWidth",offsetP:"y"};this._tooltip_pos=mstrmojo.tooltip.POS_TOPRIGHT;this.titleHeight=(l.docSelector.fmts.ttl&&l.docSelector.fmts.ttl.height)?parseInt(l.docSelector.fmts.ttl.height,10):0;}this._exRoom=this.thumbWidth;if(this.multiSelect){this._exRoom*=2;}if(l.multiSelect){this.typeHelper=new h(this);}else{this.clsType="sc1";this.typeHelper=new Y(this);}},markupSlots:{dndNode:function(){return this.domNode.firstChild;},bgNode:function(){return this.domNode.firstChild.firstChild;},sdcNode:function(){return this.domNode.firstChild.lastChild;},containerNode:function(){return this.domNode.firstChild.lastChild.firstChild;},frontNode:function(){return this.domNode.firstChild.lastChild.firstChild.firstChild;},thumbNode:function(){return this.domNode.firstChild.lastChild.firstChild.childNodes[1];},endNode:function(){return this.domNode.firstChild.lastChild.firstChild.lastChild;},tooltipNode:function(){return this.domNode.firstChild.lastChild;}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onwidthChange:function(){this.synchronizeSlider();}},start:"50px",length:"30px",min:0,max:0,gap:1,ghost:null,thumbWidth:11,cssBkBW:1,dndNode:null,synchronizeSlider:function I(){var s=this.orCfg,r=s.lenCssP,n=this[r],l=parseInt(n,10),y=this.hasRendered,w=this.titleHeight||0;var o=this._effLen=isNaN(l)?0:(l-this._exRoom-w);if(n){var x={};x[r]=Math.max(parseInt(n,10)-(2*this.cssBkBW),0)-w+d;var p={};p[r]=o+d;p[s.posCssP]=Math.round(this._exRoom/2)+d;p[s.opPosCssP]="0"+d;if(y){R.copy(x,this.bgNode.style);R.copy(p,this.sdcNode.style);}else{this.bkCssText=C.getCssTextFromObj(x);this.sdcCssText=C.getCssTextFromObj(p);}}var AA=this.selectedIndices;if(!R.isEmpty(AA)){var u=this.items.length,q=-1,z=-1,t;for(t=0;t<u;t++){if(AA[t]){if(q<0){q=t;}z=t;}else{if(q>-1){break;}}}this.min=q;this.max=z;}var m=this.typeHelper;this.unit=m.getUnit();if(y){m.updateThumb();}else{m.preUpdateThumb();}},preBuildRendering:function A(){this.synchronizeSlider();},postBuildRendering:function T(){this._super();if(this.items.length>1){var l=this.dnd=new mstrmojo.DnDComponent({target:this});var m=this.id;this.__mouseDownEvt=function(n){Q.stopPropogation(window,n);e.call(K[m].dnd,n);return true;};Q.attachEvent(this.dndNode,"mousedown",this.__mouseDownEvt);if(Q.supportsTouches){this.__touchstartEvt=function(n){Q.stopPropogation(window,n);G.call(K[m].dnd,n);return true;};Q.attachEvent(this.dndNode,"touchstart",this.__touchstartEvt);}l.afterDragStart=this.initDrag;l.duringDrag=this.ondrag;l.afterDragEnd=this.ondrop;l.afterDragCancel=this.cancelDrag;}},initDrag:function i(q,l){l=l||window;var p=this.configureGhost(true),m=this.orCfg,o=this.dnd,n=o.startE;o.initD={tP:parseInt(this.start,10),sL:this._effLen,contL:p.containerNode[m.lenP],offset:Q.getMousePosition(n,l)[m.offsetP],td:Q.eventTarget(l,n)};},configureGhost:function a(m){var o=this.ghost;if(!o){var q=this.containerNode.cloneNode(true),p=q.childNodes;C.addClass(q,"gh");q.style.display="none";o=this.ghost={containerNode:q,frontNode:p[0],thumbNode:p[1],endNode:p[2]};this.sdcNode.appendChild(q);}var n=this.ghost.containerNode.style,l=this.orCfg;R.copyProps([l.posCssP,l.lenCssP],this.containerNode.style,n);if(m){n.display="block";}return o;},ondrag:function O(t,s){s=s||window;var u=this.dnd.initD,p=this.ghost.containerNode,z,n,l,r=this.min,w=this.max,q=this.orCfg,m=q.lenCssP,y=q.posCssP;var x=Q.getMousePosition(t,s)[q.offsetP]-u.offset;switch(u.td){case this.thumbNode:z=Math.max(Math.min(u.tP+x,u.sL-u.contL),0);n=z+u.contL;p.style[y]=z+d;var o=this.typeHelper.calcMinMax(z,n);r=o.min;w=o.max;break;case this.frontNode:z=Math.max(Math.min(u.tP+x,u.tP+u.contL),0);l=Math.max(Math.min(u.contL-x,u.tP+u.contL),0);p.style[y]=z+d;p.style[m]=l+d;r=Math.min(Math.floor(z/this.unit+0.5),this.max);break;case this.endNode:l=Math.max(Math.min(u.contL+x,u.sL-u.tP),0);n=u.tP+l;p.style[m]=l+d;w=Math.max(Math.floor(n/this.unit-0.5),this.min);break;default:return ;}if(r!==this.min||w!==this.max){this.min=r;this.max=w;this.typeHelper.updateThumb();}this._updateTooltip();},ondrop:function X(){this.typeHelper.updateThumb();var p=this.ghost;if(p){p.containerNode.style.display="none";}this.hideTooltip();var q=this.dnd&&this.dnd.initD;if(this.makeSelection&&q){this.makeSelection({selItem:q.td});}var l=this.items;if(l&&l.length){var n=[],m;for(m=this.min;m<=this.max;m++){var o=l[m];if(o){n.push(m);}}this.select(n);}this.dnd.initD=null;},cancelDrag:function M(m,l){if(this.makeSelection){this.makeSelection({selItem:Q.eventTarget(l||window,this.dnd.startE)});}},showTooltip:function k(m,l){this.configureGhost(false);this._updateTooltip(m,l);this._super(m,l);},hideTooltip:function P(m,l){if(this.dnd&&this.dnd.dragging){return ;}this._super(m,l);},_updateTooltip:function S(){var s=this.orCfg,t={contentNodeCssClass:"sc-tooltip",refNode:this.domNode,posType:this._tooltip_pos},m=(this.ghost)?this.ghost.containerNode:this.containerNode;t[s.opPosCssP]=0;t[s.posCssP]=m.style[s.posCssP];t.content="";var q=this.items,o=q.length;if(q&&o){var l=(q[this.min]||q[0]),n=this.getItemTooltip(l),p=n;if(this.min!==this.max){var r=(q[this.max]||q[o-1]);p=mstrmojo.desc(146,"From:")+" '"+n+"' "+mstrmojo.desc(2665,"To:")+" '"+this.getItemTooltip(r)+"'";}t.content=F.replace(/\{@content\}/g,p);}this.set("richTooltip",t);},getItemTooltip:function W(l){var m=l?l.n:"";return"'"+(m.length>20?m.slice(0,20)+"...":m)+"'";},unrender:function B(m){this.ghost=null;this.hideTooltip();this.min=0;this.max=(this.items&&this.items.length-1)||0;var n=this.dndNode,o=this.__mouseDownEvt,l=this.__touchstartEvt;if(o&&n){Q.detachEvent(n,"mousedown",o);}if(l&&n){Q.detachEvent(n,"touchstart",l);}V.call(this);this._super(m);},onselectionChange:function L(){var l=this.selectedIndices,m=R.isEmpty(l);if(l){this.set("max",m?this.items.length-1:R.max(l,false,true));this.set("min",m?0:R.min(l,false,true));if(this.typeHelper){this.typeHelper.updateThumb();}}if(this.onchange){this.onchange();}}});mstrmojo.Slider.SINGLE_HANDLE_WIDTH=11;mstrmojo.Slider.SCROLLHANDLEWIDTH=11;}());(function(){mstrmojo.requiresCls("mstrmojo.locales","mstrmojo.tooltip","mstrmojo.dom","mstrmojo.css","mstrmojo.array","mstrmojo.hash","mstrmojo.string");mstrmojo.requiresDescs(11038,11935,11936,11937,11856,11938,13138,13230,13260,14633,14636);var C=mstrmojo.hash.copy,P=mstrmojo.css,J=mstrmojo.dom,N=mstrmojo.array,E=mstrmojo.string,Q=function Q(V,T){if(!V){return ;}var S=T&&T.length||0,U;for(U=S;U>0;U--){V=V.replace(new Array(U+2).join("#"),T[U-1]);}return V;},L=function L(T){if(!T){return ;}var Z=this,V=J.position(T.refNode||Z.refNode),Y=J.position(Z.domNode),X=T.position||R.RIGHT,U=0,a=0,S=9+(T.margin!==undefined?T.margin:0),W=" ";switch(X){case R.TOP:a=-Y.h-S;W+="t";break;case R.BOTTOM:a=V.h+S;W+="b";break;case R.LEFT:U=-Y.w-S;W+="l";break;case R.RIGHT:U=V.w+S;W+="r";break;}mstrmojo.hash.forEach(C(T,{left:U,top:a,contentNodeCssClass:W,visible:false}),function(b,c){this[c]=b;},this);this.set("visible",T.invalid);},A=function A(S){var W=this,U,V=S.errorCode,X=S.errorMsg,T=S.args,Y=mstrmojo.vi.ui.rw.selectors.EnumWarningMessages;if(S.invalid){U={content:V!==null?(W.generateContentHTML(Q(Y[V],T))||Y["*"]):X};}return U;};mstrmojo.vi.ui.rw.selectors.EnumWarningMessages=C(mstrmojo.locales.validation,{"*":mstrmojo.desc(11038,"Invalid"),invalidValueVIWarning:mstrmojo.desc(11935,"Invalid characters"),emptyValueVIWarning:mstrmojo.desc(11936,"Please enter a number"),notIntegerVIWarning:mstrmojo.desc(11937,"Please enter an integer"),outOfRangeVIWarning:mstrmojo.desc(11856,"Please enter value between ## and ###."),noMultiSelectionVIWaring:mstrmojo.desc(11938,"This selector does not support multiple selections."),continuousSelectionVIWaring:mstrmojo.desc(13138,"This selector does not support non-continuous selections."),bigDecimalMetricSliderVIWaring:mstrmojo.desc(13230,"Cannot qualify on big decimal value. Please change qualification type to Rank"),unableDisplaySelectionVIWarning:mstrmojo.desc(13260,"Filter cannot display actual selections."),imageSizeExceedLimitVIWarning:mstrmojo.desc(14633,"Cannot embed an image larger than ##MB. Your image is still ###MB after compression. Enter a URL to the image instead."),imageFileTypeNotSupportedVIWarning:mstrmojo.desc(14636,"Invalid image format. Please use .png, .jpg, .jpeg, .gif or .bmp."),imageOverSizeNoCompessionVIWarning:mstrmojo.desc(14665,"Cannot embed an image larger than ##MB. Enter a URL to the image instead.")});mstrmojo.vi.ui.rw.selectors.EnumWarningPosition={TOP:1,BOTTOM:2,LEFT:3,RIGHT:4};var R=mstrmojo.vi.ui.rw.selectors.EnumWarningPosition;mstrmojo.vi.ui.rw.selectors._HasWarningMessage=mstrmojo.provide("mstrmojo.vi.ui.rw.selectors._HasWarningMessage",{_mixinName:"mstrmojo.vi.ui.rw.selectors._HasWarningMessage",warningSlotName:"warning",showWarning:function G(U){var Y=this,a=Y.warningSlotName,c=Y[a],S=U&&U.lasting||6000,X=U.refNode||this.domNode,T=U.highlight!==false,b=U.closeOnClick===false?false:true,Z;if(!c){c=new mstrmojo.Tooltip({refNode:X,highlight:T,closeOnClick:b,updatePopupConfig:null,cssClass:"vi-warning vi-tooltip-V"});Y.addDisposable(c);Y[a]=c;Z=Y.closeOnClick=Y.getCloseOnClickListener();J.attachEvent(document.body,"click",Z);}var W=U.position||R.TOP,V="vi-warning vi-tooltip-";switch(W){case R.TOP:c.cssClass=V+"V";break;case R.BOTTOM:c.cssClass=V+"A";break;case R.LEFT:c.cssClass=V+"D";break;case R.RIGHT:c.cssClass=V+"C";break;}c.open(Y,A.call(Y,U));this.adjustPosition(U);if(T){P.toggleClass(c.refNode,"mstrmojo-Warning",true);}window.clearTimeout(Y._warningTimeOut);Y._warningTimeOut=window.setTimeout(function(){Y.hideWarning();},S);},hideWarning:function H(){var T=this,S=T[T.warningSlotName];if(S&&S.visible&&S.close){if(S.highlight){P.toggleClass(S.refNode,"mstrmojo-Warning",false);}S.close();window.clearTimeout(T._warningTimeOut);delete T._warningTimeOut;}},getCloseOnClickListener:function I(){var S=this;return function(){var T=S[S.warningSlotName];if(T.closeOnClick){S.hideWarning();}};},adjustPosition:function M(S){var T=this;L.call(T[T.warningSlotName],S);},generateContentHTML:function D(S){return E.encodeHtmlString(S,true);},bindWarningHandler:function F(){N.forEach(arguments,function S(U){if(!U||!U.attachEventListener){return ;}var V=U._validationEventListener,T;if(V){U.detachEventListener(V);delete U._validationEventListener;}T=this.getValidationEvtListener();if(T){U._validationEventListener=U.attachEventListener("validationChange",this.id,T);}},this);},getValidationEvtListener:function B(){var T=this;return function S(U){var V=U.value;T[(V&&V.invalid?"show":"hide")+"Warning"](V);};},unrender:function K(S){var T=this[this.warningSlotName];if(T){T.unrender();}this._super(S);},destroy:function O(S){J.detachEvent(document.body,"click",this.closeOnClick);return this._super(S);}});}());(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.dom","mstrmojo.TextBox");var A=mstrmojo.css,C=mstrmojo.dom;mstrmojo.TextArea=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextArea",markupString:'<textarea id="{@id}" class="mstrmojo-TextArea {@cssClass}"  style="{@cssText}" title="{@tooltip}" placeholder="{@placeholderText}" rows="{@rows}" cols="{@cols}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keydown,keyup,blur></textarea>',maxLength:256,onkeydown:function B(K){var I=this.inputNode,J=this.value,E=this.maxLength,F=(J&&J.length)||0,M=K.e,L=M.keyCode;this.isDeleteKeys=L===8||L===46;this.isArrowKeys=L===37||L===38||L===39||L===40;if(E!==undefined&&E<=F){var G=I.selectionEnd,H=(G!==undefined)?(G-I.selectionStart)>0:document.selection.createRange().text.length>0;if(!this.isDeleteKeys&&!this.isArrowKeys&&!H){if(C.isIE7||C.isIE8||C.isIE9){I.blur();window.setTimeout(function(){I.focus();},1);}C.preventDefault(window,M);return false;}}}});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.TextArea,{oncssClassChange:function D(){A.addClass(this.domNode,this.cssClass||"");}});})();(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo.hash");var A="mstrmojo-TextBoxWithLabel";mstrmojo.TextBoxWithLabel=mstrmojo.declare(mstrmojo.TextBox,null,{scriptClass:"mstrmojo.TextBoxWithLabel",label:"",rightLabel:"",cssDisplay:"inline",type:"text",markupString:'<div class="'+A+' {@cssClass}" style="{@cssText}"><span class="mstrmojo-TextBox-label">{@label}</span><input id="{@id}" class="mstrmojo-TextBox {@inputNodeCssClass}"  style="{@inputNodeCssText}" title="{@tooltip}" type="{@type}" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keyup,blur/><span class="mstrmojo-TextBox-label-right">{@rightLabel}</span></div>',markupSlots:{inputNode:function(){return this.domNode.firstChild.nextSibling;},lblNode:function(){return this.domNode.firstChild;}}});mstrmojo.TextBoxWithLabel.prototype.markupMethods=mstrmojo.hash.copy({oncssClassChange:function(){var B=this.cssClass;this.domNode.className=A+(B?" "+B:"");},onlabelChange:function(){this.lblNode.innerText=this.label||"";}},mstrmojo.hash.copy(mstrmojo.TextBoxWithLabel.prototype.markupMethods));}());(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.string","mstrmojo.ListBase","mstrmojo._IsList");var G=",",F=mstrmojo.string;mstrmojo.TableLayoutList=mstrmojo.declare(mstrmojo.ListBase,[mstrmojo._IsList],{scriptClass:"mstrmojo.TableLayoutList",cssClass:"mstrmojo-TableLayoutList",styleCssClass:"",itemIdField:"v",allowUnlistedValues:false,tableLayoutCssStyle:"auto",multiSelect:false,titleItems:null,items:null,itemsPerRow:0,getLeftEndTitle:function E(H){return"";},getRightEndTitle:function D(H){return"";},getTitleRowMarkup:function A(){var L=this.titleItems;if(L){var K='<tr><td class="left_text">'+this.getLeftEndTitle(-1)+"</td>",H=L.length,J=0,I;for(J;J<H;J++){I=L[J];K+='<td class="item_title" title="'+I+'">'+I+"</td>";}K+='<td class="left_text">'+this.getRightEndTitle(-1)+"</td></tr>";return K;}return"";},_markupPrefix:function(){return'<table class="tableLayoutList" style="table-layout:'+this.tableLayoutCssStyle+'" cellspacing="0" cellpadding="0"><tbody>'+this.getTitleRowMarkup();},_markupSuffix:function(){return"</tbody></table>";},getItemMarkup:function(L,I){var K='<{@tag} class="item {@cls}" idx="{@idx}" title="{@en@n}" style="{@style}">{@en@n}</{@tag}>',H=this.getLeftEndTitle(I),J=this.getRightEndTitle(I),M=this.itemsPerRow;H='<td class="left_text" title="'+H+'">'+H+"</id>";J='<td class="right_text" title="'+J+'">'+J+"</id>";if(M>0){K=(I%M===0?"<tr>"+H:"")+"<td>"+K+"</td>"+((I+1)%M===0?J+"</tr>":"");}else{K='<td><div class="item_wrapper" idx="'+I+'">'+K+"</div></td>";if(!I){K="<tr>"+H+K;}else{if(I===this.items.length-1){K=K+J+"</tr>";}}}return K;},_getItemNode:function(H){var I=this.itemsNode,K=this.itemsPerRow,J=(this.titleItems?1:0)+((K>0)?parseInt(H/K,10):0),L=1+((K>0)?(H%K):H);return I.rows[J].cells[L].firstChild;},init:function(H){this._super(H);mstrmojo.css.addWidgetCssClass(this,this.styleCssClass);},onchange:function B(){var J,I=[];if(!this.multiSelect){J=this.selectedItem.v;}else{var H;for(H in this.selectedIndices){I.push(this.items[H].v);}J=I.join(this.delim||G);}this.set("value",J);},postBuildRendering:function C(){this._super();var H=[];if(this.multiSelect){var J=this.value.split(G),I;for(I=0;I<J.length;I++){H.push({v:J[I]});}}else{H.push({v:this.value});}this.setSelectedItems(H);}});}());(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Container","mstrmojo._BindTargetChildren","mstrmojo.TabButton","mstrmojo.TabStripBase");var E=mstrmojo.array;function D(G,F){if(G.autoHide){G.set("visible",F);}}mstrmojo.TabStrip=mstrmojo.declare(mstrmojo.TabStripBase,[mstrmojo._BindTargetChildren],{scriptClass:"mstrmojo.TabStrip",markupString:'<div id="{@id}" class="mstrmojo-TabStrip {@cssClass}" style="{@cssText}"></div>',markupSlots:{containerNode:function(){return this.domNode;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},autoHide:true,tabButtonClass:"TabButton",init:function C(F){if(F&&F.autoHide){F.visible=false;}this._super(F);},addTabButtons:function B(G,N){var J=this.targetProps||{},S=J.childTitle||"n",O=J.childColor||"tbc",R=this.tabButtonClass,K=[],Q=this.target,F=function(){Q.set("selected",this.target);};mstrmojo.requiresCls("mstrmojo."+R);for(var L=0,M=(G&&G.length)||0;L<M;L++){var P=G[L],I=P[S];if(I){var H=mstrmojo.insert({scriptClass:"mstrmojo."+R,title:I,backgroundColor:P[O],target:P,onclick:F});K.push(H);}}if(K.length){D(this,K.length);this.addChildren(K,N);}this.selectionChange();},removeTabButton:function A(G){var F=E.filter(this.children,function(H){return(H.target===G);},{max:1});if(F&&F[0]){D(this,F.length-1);this.removeChildren(F[0]);F[0].destroy();}},clearButtons:function(){var F=E.map(this.children,function(G){return G.id;});this.removeChildren();E.forEach(F,function(G){if(mstrmojo.all[G]){mstrmojo.all[G].destroy();}});}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListSelector","mstrmojo.List","mstrmojo.string");mstrmojo.OBList=mstrmojo.declare(mstrmojo.List,null,{scriptClass:"mstrmojo.OBList",cssClass:"mstrmojo-OBList",itemClass:"mstrmojo-OBListItem",iconClass:"mstrmojo-OBListItemIcon",textClass:"mstrmojo-OBListItemText",iconCssPrefx:"mstrmojo-OBIcon_",itemMarkupFunction:function(C,A,B){return'<div class="'+B.itemClass+(C[B.itemType]?" t_"+C[B.itemType]:"")+(C[B.itemSubType]?" st_"+C[B.itemSubType]:"")+(C[this.itemISC]?" isc":"")+(C[B.itemViewMedia]?" vm_"+C[B.itemViewMedia]:"")+'"><table cellspacing="0" cellpadding="0"><tbody><tr><td>'+B.getIcon(C)+'</td><td><div class="'+B.textClass+'" title="'+B.getTooltip(C)+'">'+mstrmojo.string.htmlAngles(C.n)+"</div></td></tr></tbody></table></div>";},getIcon:function(F){var E=F[this.itemType],D=F[this.itemSubType],B=" t"+E,C=(parseInt(E,10)===1||parseInt(E,10)===3||parseInt(D,10)===14082)?" st"+D:"",G=F[this.itemISC]?'class="mstrmojo-ListIcon isc"':"",A=(F[this.itemViewMedia]===2048||F[this.itemViewMedia]===8192)?" hvi":"";return'<span class="mstrmojo-ListIcon '+B+C+A+'"><span '+G+"></span></span>";},getTooltip:function(C){var D="",F=C.anc&&C.anc.items,A=F&&F.length,B;if(A>0){for(B=0;B<A-1;B++){D+=F[B].n+" > ";}D+=F[A-1].n;}var E=C.desc,G=128;if(E){D+="\r\n\r\n"+mstrmojo.string.encodeHtmlString(E.substring(0,G))+(E.length>G?"...":"");}return D;},listSelector:mstrmojo.ListSelector,selectionPolicy:"reselect",itemType:"t",itemSubType:"st",itemISC:"isc",itemViewMedia:"dvm",useDblSelect:false});}());(function(){mstrmojo.requiresCls("mstrmojo.ListHoriz","mstrmojo.fx");mstrmojo.FishEye=mstrmojo.declare(mstrmojo.ListHoriz,null,{scriptClass:"mstrmojo.FishEye",width:16,size:10,step:16,speed:2,cssClass:"mstrmojo-FishEye",cssClassItem:"mstrmojo-dot",itemMarkupFunction:function(B,A,C){return'<div class="mstrmojo-fisheye-item '+C.cssClassItem+'" title="'+B.n+'" idx="'+A+'" did="'+B.did+'">&nbsp;</div>';},onchange:function(){this.scroll2();this.parent.set("selectedIndex",this.selectedIndex);},as:new mstrmojo.fx.AnimateProp(),onitemsChange:function(){if(this._super){this._super();}this.last=this.items.length-1;this.first=Math.max(0,this.last-this.size);if(this.items.length>this.size){this.scroll("left",this.width);}},scroll2:function(){var A=this.selectedIndex-this.last;if(this.selectedIndex==this.first&&this.first>0){this.scroll("right",this.width);}else{if(this.selectedIndex==this.last&&this.last<this.items.length-1){this.scroll("left",this.width);}else{if(this.selectedIndex>this.last){A=this.selectedIndex-this.last;this.scroll("left",this.width*A,A);this.last=Math.min(this.items.length-1,this.last+A);}else{if(this.selectedIndex<this.first){A=this.first-this.selectedIndex;this.scroll("right",this.width*A,A);this.first=Math.max(0,this.first-A);}}}}},scroll:function(C,F,E){var B=this.itemsContainerNode,I=B&&B.style;var D=this.as,H=parseInt(mstrmojo.css.getStyleValue(B,{left:"right",right:"left"}[C]),10),H=isNaN(H)?0:H,A=parseInt(I.left,10)||0,G=A+(C=="left"?-1:1)*(F||(Math.min(this.step,(-1)*H)));D.target=B;D.props={left:{start:A,stop:G,duration:100,interval:10,suffix:"px"}};D.play();E=E===undefined?1:E;this.first+=(C=="left"?1:-1)*E;this.last=this.first+this.size-1;this.parent.set("scrollable",this.last<this.items.length-1);this.parent.set("rightScrollable",this.first>0);return G;},srcId:null,postBuildRendering:function(){if(this._super){this._super();}this.hasRendered=!!this.domNode;var E=this.itemsContainerNode,A=E&&E.firstChild,B=A&&A.rows&&A.rows[0],D=B&&B.cells&&B.cells[0];this.first=0;this.last=this.size-1;var C=this.srcId;if(C&&mstrmojo.all[C]&&mstrmojo.all[C].attachEventListener){mstrmojo.all[C].attachEventListener("change",this.id,function(F){if(this.items[this.items.length-1]!=F.src.selectedItem){this.items.add([mstrmojo.hash.copy(F.src.selectedItem)]);this.set("selectedIndex",this.items.length-1);}if(this.items.length>this.size){this.set("rightScrollable",this.items.length>this.size);this.scroll("left",this.width*(this.selectedIndex-this.last),(this.selectedIndex-this.last));}});}this.itemsContainerNode.style.left=Math.min(0,(this.size-this.items.length+1))*this.width+"px";}});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetListBase","mstrmojo.WidgetListMapper","mstrmojo.WidgetListBuilder");mstrmojo.WidgetList=mstrmojo.declare(mstrmojo.WidgetListBase,null,{scriptClass:"mstrmojo.WidgetList",renderOnScroll:true,listMapper:mstrmojo.WidgetListMapper,listBuilder:mstrmojo.WidgetListBuilder,itemConfig:null,itemFunction:null,initBindings:function(){this._super();var E=this.ctxtBuilder,D=E&&E.itemWidgets;if(D){for(var C=0,A=D.length;C<A;C++){var B=D[C];if(B&&B.initBindings){B.initBindings();}}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.ListMapperTile");})();(function(){mstrmojo.requiresCls("mstrmojo.List","mstrmojo.ListMapperTile","mstrmojo.WidgetList");mstrmojo._TileList=mstrmojo.provide("mstrmojo._TileList",{layout:{row:3,col:3},_set_layout:function(A,B){mstrmojo.hash.copy(B,this.layout);this.refresh();},preBuildRendering:function(){this.cssClass=this._cssClassPrefix+" "+this.cssClass;if(this._super){this._super();}},postBuildRendering:function(){var A=true;if(this._super){A=this._super();}this.cssClass=this.cssClass.replace(this._cssClassPrefix,"");return A;}});mstrmojo.TileList=mstrmojo.declare(mstrmojo.List,[mstrmojo._TileList],{scriptClass:"mstrmojo.TileList",listMapper:mstrmojo.ListMapperTile,_cssClassPrefix:"mstrmojo-TileList"});mstrmojo.WidgetTileList=mstrmojo.declare(mstrmojo.WidgetList,[mstrmojo._TileList],{scriptClass:"mstrmojo.WidgetTileList",listMapper:mstrmojo.WidgetListMapperTile,_cssClassPrefix:"mstrmojo-WidgetTileList"});})();(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.dom","mstrmojo.TreeNodeSelector");var B=mstrmojo.dom,A={0:"closed",1:"opened",2:"leaf"};mstrmojo.TreeNode=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.TreeNode",markupString:'<li id="{@id}" class="mstrmojo-TreeNode {@cssClass}" style="{@cssText}" mstrAttach:mousedown,mouseover><div class="mstrmojo-TreeNode-div"><img class="mstrmojo-TreeNode-state" src="../images/1ptrans.gif" /><span class="mstrmojo-TreeNode-text {@textCssClass}"></span></div><ul class="mstrmojo-TreeNode-itemsContainer">{@itemsHtml}</ul></li>',markupSlots:{stateNode:function(){return this.domNode.firstChild.firstChild;},textNode:function(){return this.domNode.firstChild.lastChild;},itemsContainerNode:function(){return this.domNode.lastChild;}},markupMethods:{ontextChange:function(){this.textNode.innerHTML=mstrmojo.string.encodeHtmlString(this.text);},onstateChange:function(){this.stateNode.className="mstrmojo-TreeNode-state "+(A[this.state]||"closed");this.itemsContainerNode.style.display=(this.state===1)?"block":"none";},onselectedChange:function(){var D=this.selected?"addClass":"removeClass";mstrmojo.css[D](this.domNode.firstChild,["selected"]);},ondropCuePosChange:mstrmojo.WidgetList.prototype.markupMethods.ondropCuePosChange},renderOnScroll:false,listSelector:mstrmojo.TreeNodeSelector,premousedown:function C(D){var E=this._super(D),F=B.eventTarget(D.hWin,D.e);if(F===this.stateNode){if(this.state!==2){this.set("state",this.state===1?0:1);}}return E;},preclick:function(D){mstrmojo.dom.stopPropogation(D.hWin,D.e);},prechange:function(D){var E=this._super(D);if(E!==false){var F=this.tree;if(F&&F.onnodechange){F.onnodechange(D);}}return E;}});}());(function(){mstrmojo.requiresCls("mstrmojo.Arr","mstrmojo.Button","mstrmojo.HBox","mstrmojo.FishEye");var A=function(B){return mstrmojo.hash.copy(B,{scriptClass:"mstrmojo.Button",text:"",enabled:false,dir:"left",cssClass:"mstrmojo-icon left",onclick:function(){var D=this.parent.fishEyeList,C=D&&D.scroll(this.dir,D.step);}});};mstrmojo.FishEyeContainer=mstrmojo.declare(mstrmojo.HBox,null,{scriptClass:"mstrmojo.FishEyeContainer",cssClass:"mstrmojo-FishEyeContainer",selectedIndex:-1,setItems:function(B){this.fishEyeList.set("items",B);},setSelectedIndex:function(B){this.fishEyeList.set("selectedIndex",B);},scrollable:false,rightScrollbale:false,children:[A({bindings:{enabled:"!!this.parent.scrollable"}}),({scriptClass:"mstrmojo.FishEye",alias:"fishEyeList",items:mstrmojo.Arr.makeObservable([]),srcId:"obList"}),A({alias:"feScrollRight",cssClass:"mstrmojo-icon right",dir:"right",bindings:{enabled:"!!this.parent.rightScrollable"}})]});mstrmojo.css=mstrmojo.hash.copy({getStyleValue:function(D,E){var B=null;if(D.currentStyle){E=(E==="float"?"styleFloat":E);B=D.currentStyle[E];}if(document.defaultView&&document.defaultView.getComputedStyle){E=(E==="float"?"cssFloat":E);var C=document.defaultView.getComputedStyle(D,null);B=C?C[E]:null;}return B;},setStyleValue:function(D,F,E){var B=function(G){return !!(G&&(typeof G==="object")&&(typeof G.length==="number"));};if(B(F)&&B(E)){var C;for(C in F){D.style[F[C]]=E[C];}}else{D.style[F]=E;}}},mstrmojo.css);}());(function(){mstrmojo.requiresCls("mstrmojo.OBList","mstrmojo.ui._IsIncFetchList","mstrmojo.ui._HasScroller");var F=mstrmojo.array,A=mstrmojo.chart.model.enums.EnumDSSObjectType;function D(G){return{browseConfig:null,parent:G,next:function(J){var I=this.browseConfig;if(!I){return ;}I.blockBegin+=I.blockCount;var H={taskId:"searchMetadata",styleName:"MojoFolderStyle",blockBegin:I.blockBegin,blockCount:I.blockCount,includeAncestorInfo:true};if(I.folderLinksContextId){H.folderLinksContextId=I.folderLinksContextId;}if(I.includeObjectDesc){H.includeObjectDesc=I.includeObjectDesc;}if(I.rootFolderID){H.rootFolderID=I.rootFolderID;}else{if(I.rootFolderType){H.rootFolderType=I.rootFolderType;}}if(I.browsableTypes){H.objectType=I.browsableTypes;}if(I.searchPattern){H.searchPattern=I.searchPattern;if(I.recursive){H.recursive=I.recursive;}}this.parent.set("waiting",true);if(I.dataProvider){I.dataProvider.serverRequest(H,J);}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,J,H);}},hasNext:function(){var H=this.browseConfig;return(H.blockBegin+H.blockCount-1)<H.totalSize;}};}mstrmojo.mstr.ui.IncFetchOBList=mstrmojo.declare(mstrmojo.OBList,[mstrmojo.ui._IsIncFetchList,mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.mstr.ui.IncFetchOBList",cssClass:"mstrmojo-OBList mstrmojo-IF-OBList",makeObservable:true,renderOnScroll:false,waiting:false,markupString:'<div id="{@id}" class="mstrmojo-ListBase2 {@cssClass}" style="position:relative;{@cssText}" mstrAttach:keypress,mousedown,mouseup,dblclick><div class="scroll-box" style="{@scrollBoxCssText}"><div class="mstrmojo-ListBase2-itemsContainer" style="{@itemsContainerCssText}">{@itemsHtml}</div><div class="mstrmojo-ListBase2-dropCue {@cssClass}"><div class="mstrmojo-ListBase2-dropCue-inner"></div></div></div></div>',markupSlots:{scrollboxNode:function(){return this.domNode.firstChild;},itemsContainerNode:function(){return this.domNode.firstChild.firstChild;},dropCueNode:function(){return this.domNode.firstChild.lastChild;}},markupMethods:{onwaitingChange:function(){this.onwaitingChange();}},init:function E(G){if(this._super){this._super(G);}this.ifDataHelper=D(this);if(G.browseConfig){this.ifDataHelper.browseConfig=G.browseConfig;}},onwaitingChange:mstrmojo.emptyFn,addItems:function B(G){var H=this.browseConfig.browsableViewMedias;if(G&&H){var I={};F.forEach(H.split(","),function(J){I[parseInt(J,10)]=true;});G=F.filter(G,function(J){return(J.t!==A.DssTypeDocumentDefinition)||I[J.dvm];});}this.add(G,-1);this.set("waiting",false);if(this._super){this._super(G);}if(this.scrollNode){this.updateScrollbars();}},setupScrollNodes:function C(){this.scrollNode=this.scrollboxNode;}});}());(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._CanValidate","mstrmojo.css","mstrmojo.validation","mstrmojo.vi.ui.rw.selectors._HasWarningMessage");var H=mstrmojo.css,E=mstrmojo.validation,G=E.TRIGGER,J=E.STATUSCODE;function F(L){if((this.constraints.trigger&L)>0){this.validate();}}mstrmojo.ValidationTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._CanValidate,mstrmojo.vi.ui.rw.selectors._HasWarningMessage],{scriptClass:"mstrmojo.ValidationTextBox",validationDelay:500,getInvalidMsg:function K(L){return(L&&L.msg?L.msg:"");},postBuildRendering:function A(){this._super();this._original_tooltip=this.inputNode.title;},prekeyup:function I(L){this._super(L);var P=(this.constraints.trigger&G.ONKEYUP)>0;if(P){var M=this.validationDelay;if(M){this.clearValDelayTimer();var O=this._validateHandler;if(!O){var N=this;this._validateHandler=O=function(){N.validate();if(N._valDelayTimer){window.clearTimeout(N._valDelayTimer);delete N._valDelayTimer;}};}this._valDelayTimer=window.setTimeout(O,M);}else{this.validate();}}},preinput:function D(L){this._super(L);F.call(this,G.ONKEYUP);},preblur:function B(L){this._super(L);F.call(this,G.ONBLUR);},clearValidation:function C(){this._super();var L=this.inputNode;H.removeClass(L,this.constraints.invalidCssClass||"mstrmojo-TextBox-ErrValidation");L.title=this._original_tooltip;},clearValDelayTimer:function(){var L=this._valDelayTimer;if(L){window.clearTimeout(L);}}});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.ValidationTextBox,{onvalidationStatusChange:function(){var P=this.validationStatus;if(!P){return ;}var N=this.inputNode,L=(P.code>J.VALID),M=this.constraints.invalidCssClass;H.toggleClass(N,M||"mstrmojo-TextBox-ErrValidation",L);var O=L?this.getInvalidMsg(P):this._original_tooltip;if(!this.useRichTooltip&&O!==undefined&&O!==null){N.setAttribute("title",O);}}});}());(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.css","mstrmojo.fx","mstrmojo.Dialog","mstrmojo.Label","mstrmojo._IsPopup","mstrmojo._HasPopup","mstrmojo._IsMovable","mstrmojo.ui._HasUITheme","mstrmojo.Button","mstrmojo.dom","mstrmojo.hash","mstrmojo.array","mstrmojo.tooltip","mstrmojo.ui.editors.ErrorDialogContent");var i=mstrmojo.func.composite,M=mstrmojo.dom,Z=mstrmojo.Button.newWebButton,C=mstrmojo.css,Y=mstrmojo.all,N=mstrmojo.hash,b=mstrmojo.DI.DIHelpers,W=mstrmojo.array;function V(p){if(!this.modal){return ;}var q=window.mstrApp;if(q&&q.modalEditorChange){q.modalEditorChange(this.id,p);}}mstrmojo.Editor=mstrmojo.declare(mstrmojo.Dialog,[mstrmojo._IsPopup,mstrmojo._HasPopup,mstrmojo._IsMovable,mstrmojo.ui._HasUITheme],{scriptClass:"mstrmojo.Editor",title:"",allowHTMLTitle:false,help:"",autoClose:false,showTitle:true,openEffect:null,themeClassName:"mojo-theme-light",useRichTooltip:true,closeEffect:null,onEditorResized:null,markupString:'<div id="{@id}" class="mstrmojo-Editor-wrapper"><div class="mstrmojo-Editor {@cssClass}" style="z-index:{@zIndex};{@cssText}" mstrAttach:mouseup,mousedown,click,contextmenu>{@titlebarHTML}<div class="mstrmojo-Editor-content"></div><div class="mstrmojo-Editor-buttons"></div></div><div class="mstrmojo-Editor-curtain"></div></div>',titleMarkupString:'<div class="mstrmojo-Editor-title-container"><div class="mstrmojo-Editor-title"></div><div class="edt-title-btn mstrmojo-Editor-help" tooltip="'+mstrmojo.desc(1143,"help")+'"></div><div class="edt-title-btn mstrmojo-Editor-close" tooltip="'+mstrmojo.desc(2102,"Close")+'"></div></div><div class="mstrmojo-Editor-titleSpacer"></div>',markupSlots:{editorNode:function X(){return this.domNode.firstChild;},titleContainerNode:function j(){return this.domNode.firstChild.firstChild;},titlebarNode:function l(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null;},titleNode:function R(){return this.showTitle?this.domNode.firstChild.firstChild.firstChild:null;},helpNode:function m(){return this.showTitle?this.domNode.firstChild.firstChild.children[1]:null;},closeNode:function E(){return this.showTitle?this.domNode.firstChild.firstChild.lastChild:null;},containerNode:function S(){return this.domNode.firstChild.childNodes[2];},buttonNode:function I(){return this.domNode.firstChild.childNodes[3];},curtainNode:function n(){return this.domNode.lastChild;}},markupMethods:{ontitleChange:function(){if(this.showTitle){this.titleNode.innerHTML=this.allowHTMLTitle?this.title:mstrmojo.string.encodeHtmlString(this.title);}},onzIndexChange:function(){var p=this.zIndex;this.editorNode.style.zIndex=p;this.curtainNode.style.zIndex=p-1;},onvisibleChange:function(s){if(s){return ;}var r=this.visible,q="closeEffect",p="none";if(r){q="openEffect";p="block";}if(this[q]){this.playEffect(q);}else{this.editorNode.style.display=p;if(this.modal){this.curtainNode.style.display=p;}}},onhelpChange:function e(){if(this.showTitle){var q=this.help,p=this.helpNode;if(!q){p.style.display="none";}else{p.style.display="block";}}},onleftChange:function F(){this.editorNode.style.left=this.left||"";},ontopChange:function H(){this.editorNode.style.top=this.top||"";}},open:function Q(q,p){this._super(q,p);V.call(this,true);},close:function g(p){this._super(p);V.call(this,false);},unrender:function B(p){this._super(p);V.call(this,false);},destroy:function h(p){this._super(p);V.call(this,false);},preBuildRendering:function A(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"));this._curtain_to_body=true;V.call(this,true);}this.titlebarHTML=(this.showTitle)?this.titleMarkupString:"<div></div><div></div>";return this._super();},getMovingHandle:function k(){return this.titlebarNode;},getMovingTarget:function U(){return this.editorNode;},onPreClose:function G(){this.hideTooltip();return true;},premousedown:function P(p){var q=p.getTarget();if(q===this.closeNode||q===this.helpNode){C.toggleClass(q,"active",true);}},premouseup:function O(p){var q=p.getTarget();if(q===this.closeNode||q===this.helpNode){C.toggleClass(q,"active",false);}if(p.getTarget()===this.closeNode&&this.onPreClose()){this.close();}},onclick:function d(p){if(p.getTarget()===this.helpNode){if(mstrApp.showHelpTopic){mstrApp.showHelpTopic(this.help);}else{window.open(mstrmojo.helpPath()+(this.help||""),"_blank");return false;}}},_set_visible:function c(u,r){var q=(this[u]!==r);if(q){this[u]=r;var t=this._close_handler;if(r){if(this._curtain_to_body){this.resizeDialog();this.positionDialog();}if(this.autoClose){var s=this;t=this._close_handler=t||function(w){var x=M.eventTarget(self,w);if(x&&x.parentNode&&!M.contains(s.editorNode,x,true,document.body)){s.close();}};M.attachEvent(document.body,"mousedown",t);}}else{var p=this._curtain_handler;if(p){M.detachEvent(window,"resize",p);}if(t){M.detachEvent(document.body,"mousedown",t);}}}return q;},showTooltip:function o(w,u){var s=this,q=M.findAncestorByAttr(M.eventTarget(u,w),"tooltip",true,this.domNode),r=q&&q.value;if(!s.hasOpenTooltip&&r){var p=M.position(q.node);s.richTooltip={cssClass:"vi-regular A-center vi-tooltip-A",content:r,top:Math.max(p.y+40,0),left:Math.max(p.x+4,0),posType:mstrmojo.tooltip.POS_TOPCENTER};this._super(w,u);}}});mstrmojo.Editor.openEffect_fadeIn={scriptClass:"mstrmojo.fx.AnimateProp",slot:"curtainNode",props:{backgroundColor:{start:255,stop:0,fn:function(p){p=Math.round(p);return["rgb(",p,",",p,",",p,")"].join("");}}},preStart:function(){var q=this.target,p=this.widget;p.editorNode.style.display="block";if(!p.modal){return false;}q.style.display="block";C.setOpacity(q,60);return true;}};mstrmojo.Editor.closeEffect_fadeOut={scriptClass:"mstrmojo.fx.FadeOut",slot:"curtainNode",start:0.6,stop:0,preStart:function(){var p=this.widget;p.editorNode.style.display="none";return !!p.modal;}};function D(p){return function(){Y[p].destroy();};}function J(q,y,z,AA){var p=y.id||"mojoAlertx9",u,x=y.buttons;W.forEach(x,function(AC){var AB=AC.onclick;AC.onclick=function(AD){var AE=Y[p];if(AB&&AB.call(AC,AD)===false){return ;}AE.destroy();AE=null;};});try{!!Y[p]&&Y[p].destroy();}catch(w){}var r=y.cssClass,s=[];if(r){s.push(r);delete y.cssClass;}if(AA){s.push(AA);}s.push("mstrmojo-alert");u={scriptClass:"mstrmojo.Editor",id:p,width:"475px",zIndex:1000,title:z||mstrmojo.desc(11812,"Notification"),cssClass:s.join(" "),children:[{scriptClass:"mstrmojo.Box",cssClass:"alert-content",children:[{scriptClass:"mstrmojo.Label",text:q,allowHTML:y.allowHTML}]}],visible:true};var t=new mstrmojo.Editor(N.copy(y,u));t.render();return t;}if(window.mstrConfig&&!window.mstrConfig.simpleDialog){mstrmojo.notify=function L(q,x,r){r=r||{};var y=r.forceClose,w=r.callback||mstrmojo.emptyFn,u=N.copy(x||{},{buttons:y?[mstrmojo.Button.newActionButton((r.buttonText||mstrmojo.desc(8607,"Dismiss")),w)]:null,showTitle:false,modal:false,top:"42px"}),s=r.duration||6000;var t=J(q,u,"",y?"ed-notify":"ed-toast"),p=t.id;if(!y){window.setTimeout(i([w,D(p)]),s);}else{window.setTimeout(function(){if(Y[p]){Y[p].editorNode.style.opacity=0.75;}},6000);}return t;};mstrmojo.confirm=function f(p,w,y){w=w||{};var r=w.confirmBtn||{},u=w.cancelBtn||{},x=r.hot!==false,q=!!u.hot,t=y&&y.title,s=[Z(r.t||mstrmojo.desc(219,"Yes"),r.fn,x,r.cfg),Z(u.t||mstrmojo.desc(218,"No"),u.fn,q,u.cfg)];return J(p,N.copy(y||{},{buttons:s,onPreClose:function(){if(u&&u.fn){u.fn();}return true;}}),t,b.getEnvObj().isStandaloneDataSet()?["error-dialogue-in-dataset"]:[]);};mstrmojo.warn=function K(r,p,q){q=q||{};q.cssClass=(q.cssClass||"")+" mstrmojo-warning";return mstrmojo.confirm(r,p,q);};mstrmojo.alert=function a(u,r,t,w,p,s){var q={title:t||mstrmojo.desc(12405,"Alert"),zIndex:w,cssClass:p,buttons:[Z(mstrmojo.desc(1442,"OK"),r,true)],onPreClose:function(){if(r){r();}return true;}};N.forEach(q,function(y,x){if(!y){delete q[x];}});return J(u,N.copy(s,q),t,b.getEnvObj().isStandaloneDataSet()?["error-dialogue-in-dataset"]:[]);};mstrmojo.error=function T(u,q,t){var r=u||{};var s=mstrmojo.desc(96,"Error");var p=!(b.getEnvObj().isInDI()||b.getEnvObj().isInQB());if(t){s=(t.title)?t.title:mstrmojo.desc(96,"Error");t.title=s;if(t.enableContactStr===false){p=false;}}J("",N.copy(t||{},{buttons:[Z(mstrmojo.desc(1442,"OK"),q,true)],children:[{scriptClass:"mstrmojo.ui.editors.ErrorDialogContent",shortDesc:r.shortDesc,longDesc:r.longDesc,showToggle:!!(r.longDesc),enableContactStr:p,allowHTML:!!(t&&t.allowHTML===true)}]}),s,b.getEnvObj().isStandaloneDataSet()?["error-dialogue-in-dataset"]:[]);};}mstrmojo.Editor.ButtonConfigType=null;}());(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.WidgetList","mstrmojo.ListSelector","mstrmojo.array","mstrmojo.AjaxCall","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet","mstrmojo.Panel","mstrmojo.Button","mstrmojo.HBox");var A=mstrmojo.mobileConfigUtil,G=mstrmojo.validation.TRIGGER,M=mstrmojo.expr.DTP,P=mstrmojo.dom,O=mstrmojo.hash,Q="!this.parent.parent.item.udc&&!(this.parent.parent.item.pc.am===2)&&!(this.parent.parent.item.pc.am===5)&&!(this.parent.parent.item.pc.am===64)&&!(this.parent.parent.item.pc.am===128)",H="!(this.parent.svrItem.pdc.am===2)&&!(this.parent.svrItem.pdc.am===5)&&!(this.parent.svrItem.pdc.am===64)&&!(this.parent.svrItem.pdc.am===128)",I="(mstrmojo.all.connect_tab.model.data.dt==5||!mstrmojo.all.connect_tab.model.data.gnl.npc.v)",D="!(this.parent.parent.parent.model.data.cty.wsdc.am===1)&&!(this.parent.parent.parent.model.data.cty.wsdc.am===4)";needDefSvrCredential="!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===1)&&!this.parent.parent.item.udc&&!(this.parent.parent.item.wsc.am===4)";var E=[{n:mstrmojo.desc(7778),v:A.AUTHEN_ANONY},{n:mstrmojo.desc(7227),v:A.AUTHEN_BASIC},{n:mstrmojo.desc(7779),v:A.AUTHEN_WIN}],B=O.cloneArray(E),J=[{n:mstrmojo.desc(3157),v:A.PRJ_AUTHEN_STD},{n:mstrmojo.desc(7779),v:A.PRJ_AUTHEN_WIN},{n:mstrmojo.desc(7790),v:A.PRJ_AUTHEN_LDAP},{n:mstrmojo.desc(1563),v:A.PRJ_AUTHEN_DB},{n:mstrmojo.desc(8027),v:A.PRJ_AUTHEN_TRUSTED},{n:mstrmojo.desc(16213),v:A.AUTHEN_USHER}],F=O.cloneArray(J),N=[{n:mstrmojo.desc(7787),v:A.SRV_ASP},{n:mstrmojo.desc(7788),v:A.SRV_J2EE}],L=[{n:mstrmojo.desc(7785),v:A.REQ_HTTP},{n:mstrmojo.desc(7786),v:A.REQ_HTTPS}];B.push({n:mstrmojo.desc(5595),v:A.AUTHEN_INTEGRATED});F.push({n:mstrmojo.desc(5595),v:A.PRJ_AUTHEN_INTEGRATED});mstrmojo.connect_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"connect_tab",n:mstrmojo.desc(7768),model:null,layout:[{cells:[{}]},{cells:[{}]},{cells:[{}]},{cells:[{}]},{cells:[{}]}],bindings:{isAndroid:"this.model.data.dt==3 || this.model.data.dt==4",isBlackberry:"this.model.data.dt==5"},children:[{slot:"0,0",alias:"npc",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9439),bindings:{visible:"this.parent.model.data.dt!=5",checked:"this.parent.model.data.gnl.npc.v"},onclick:function R(){if(this.parent.model){var S=mstrmojo.hash.copy(this.parent.model.data,{});S.gnl.npc.v=this.checked;this.parent.model.set("data",S);}}},{slot:"1,0",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(7775),cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin:8px 0px 0px 0px;width:500px",children:[{scriptClass:"mstrmojo.Table",rows:5,cols:2,children:[A.propertyName(mstrmojo.desc(7776),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,bindings:{items:function(){if(mstrmojo.all.connect_tab){if(mstrmojo.all.connect_tab.isAndroid){return E;}else{return B;}}},selectedItem:"{v:this.parent.parent.parent.model.data.cty.wsdc.am}"},onchange:function(){var S=this.parent.parent.parent.model.data.cty.wsdc;if(S){if(!S.set){O.make(S,mstrmojo.Obj);}S.set("am",this.selectedItem.v);}}},A.propertyName(mstrmojo.desc(2763),"1,0","",{visible:D}),{slot:"1,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:I,value:"this.parent.parent.parent.model.data.cty.wsdc.lo",visible:D},onvalueChange:function K(S){if(this.parent.parent.parent.model){A.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"lo",this.value);}},onenabledChange:function C(S){if(!this.enabled&&this.parent.parent.parent.model){A.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"lo","");}}},A.propertyName(mstrmojo.desc(1162),"2,0","",{visible:D}),{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:I,value:"this.parent.parent.parent.model.data.cty.wsdc.ps",visible:D},onvalueChange:function K(){if(this.parent.parent.parent.model){A.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"ps",this.value);}},onenabledChange:function C(S){if(!this.enabled&&this.parent.parent.parent.model){A.setValidValue(this.parent.parent.parent.model.data.cty.wsdc,"ps","");}}},{slot:"3,1",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7847),bindings:{visible:D}},{slot:"4,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.parent.model.data.cty.wsdc.ow&&"+I,visible:D+"&&"+I},oncheckedChange:function(){if(this.parent.parent.parent.model){this.parent.parent.parent.model.data.cty.wsdc.ow=this.checked;}}}]}]},{slot:"2,0",scriptClass:"mstrmojo.WidgetList",cssText:"margin:5px 20px 5px 0px;width: 540px",listSelector:mstrmojo.ListSelector,alias:"srvList",makeObservable:true,renderOnScroll:P.isIE?false:true,onadd:function(){this.parent.model.set("validFlag",false);},onremove:function(){this.parent.model.validate();},bindings:{items:"this.parent.model.data.cty.wsl"},itemFunction:function(X,S,T){var W;O.make(X,mstrmojo.Obj);if(X.pl){for(W=0;W<X.pl.length;W++){var U=X.pl[W];U.pdn=U.sn+U.pid;if(U.rtf){O.make(U.rtf,mstrmojo.Obj);}}}var V=new mstrmojo.Panel({item:X,parent:T,showTitlebar:true,state:1,delText:mstrmojo.desc(7791),ttlTxtCssText:"width:320px",bindings:{title:"(!this.item.nm)?'"+mstrmojo.desc(7904)+"':mstrmojo.string.encodeHtmlString(this.item.nm)"},postCreate:function(){this.getAvailablePrjs();},customDel:function(){delete this.item;this.destroy();},updatePrjList:function(g,e){if(g&&g.length===0){this.set("prjItems",[]);this.toggleNoPrjMsg(true);this.syncPrjList();}else{if(g){var f=[],c,b,d,h,Z;for(c=0,d=g.length;c<d;c++){for(b=0,h=g[c].projects,Z=h.length;b<Z;b++){var Y=h[b],a=g[c];f.push({n:Y.name,svr:a,pid:Y.id,tfa:Y.tfa,pdn:(a.name+Y.id),sv:a.version});}}this.set("prjItems",f);this.toggleNoPrjMsg(false);this.syncPrjList();if(e){this.newProject();}}else{delete this.prjItems;this.toggleNoPrjMsg(true);this.syncPrjList();}}},syncPrjList:function(){if(this.item){var c=this.item.pl,d=this.prjItems,b,a,Y,Z;if(!c||c.length===0){return ;}if(!d||d.length===0){for(b=0,Y=c.length;b<Y;b++){O.make(c[b],mstrmojo.Obj);c[b].set("dead",true);}}else{for(a=0,Z=c.length;a<Z;a++){O.make(c[a],mstrmojo.Obj);c[a].set("dead",(mstrmojo.array.find(d,"pdn",c[a].pdn)===-1));}}this.children[0].prjList.set("items",this.item.pl);}},toggleNoPrjMsg:function(Y){if(this.children&&this.children[0]){this.children[0].getPrj.noPrjMsg.set("visible",Y);}},newProject:function(){if(!this.parent.parent.model.defaultPrj){var Y=this;this.parent.parent.model.getDefaultConfig(A.DEFAULT_PROJECT,function(a){Y.parent.parent.model.defaultPrj=a;Y.newProject();});}else{if(this.children[0].prjList){var Z=O.clone(this.parent.parent.model.defaultPrj);O.make(Z,mstrmojo.Obj);Z.pid=this.prjItems[0].pid;Z.pn=this.prjItems[0].n;Z.sn=this.prjItems[0].svr.name;Z.pdn=Z.sn+Z.pid;Z.tfa=this.prjItems[0].tfa;this.children[0].prjList.add([Z],-1);}}},wait:false,getAvailablePrjs:function(Z){if(!X.po||!this.item.nm||!this.item.pt){return ;}delete this.prjItems;this.set("wait",true);var Y=this;mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(a){if(a){Y.updatePrjList(a.servers,Z);}else{Y.updatePrjList([]);}Y.set("wait",false);},failure:function(a){var b=a.getResponseHeader("X-MSTR-TaskFailureMsg");if(a.status===404){b=mstrmojo.desc(7992).replace(/##/,Y.item.nm);}A.showErrorMsgBox(b);Y.toggleNoPrjMsg(true);Y.syncPrjList();Y.set("wait",false);},timeout:function(){var a=mstrmojo.desc(973).replace(/:/,"");A.showErrorMsgBox(a);Y.toggleNoPrjMsg(true);Y.syncPrjList();Y.set("wait",false);}},{taskId:"getProjects",taskEnv:"xhr",localeID:mstrApp.displayLocaleId,dataFlag:6},null,A.getWebSrvUrl(this.item));},children:[{scriptClass:"mstrmojo.Table",cssText:"margin:5px 0px 0px 0px",layout:[{cells:[{cssText:"vertical-align:top;width:200px"},{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]},{cells:[{colSpan:2}]}],children:[A.propertyName(mstrmojo.desc(7780),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsNmVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:M.CHAR,constraints:{trigger:G.ALL},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},bindings:{value:"this.parent.parent.item.nm",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait"},onValid:function(){A.setValidValue(this.parent.parent.item,"nm",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},{slot:"0,1",scriptClass:"mstrmojo.CheckBox",cssDisplay:"block",alias:"wsExtNmCB",label:mstrmojo.desc(9298),bindings:{checked:"this.parent.parent.item.uea",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait"},oncheckedChange:function(){this.parent.parent.item.set("uea",this.checked);}},{slot:"0,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsExtNmVTB",cssClass:"mobileconfig-TextBox",dtp:M.CHAR,constraints:{trigger:G.ALL},bindings:{value:"this.parent.parent.item.enm",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0) &&!this.parent.parent.wait &&this.parent.parent.item.uea",required:function(){return this.enabled;}},onenabledChange:function(){this.required=this.enabled;this.validate();},onValid:function(){A.setValidValue(this.parent.parent.item,"enm",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},{slot:"0,2",scriptClass:"mstrmojo.Label",bindings:{show:"this.parent.parent.wait"},onshowChange:function(){this.set("cssText",this.show?"position:relative;right:200px;top:30px;z-idex:999;width:50px":"width:25px");this.set("cssClass",this.show?"waitIcon":"");this.refresh();}},A.propertyName(mstrmojo.desc(7781),"1,0"),{slot:"1,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsPoVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:M.INTEGER,constraints:{trigger:G.ALL,validator:function(Y){return A.generalValidator(Y,this.dtp,A.validatePort,mstrmojo.desc(7839).replace(/###/,65535).replace(/##/,0));}},bindings:{value:"this.parent.parent.item.po",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},onValid:function(){A.setValidValue(this.parent.parent.item,"po",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){this.parent.parent.set("prjItems",undefined);if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},A.propertyName(mstrmojo.desc(7782),"2,0"),{slot:"2,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"wsPtVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:M.CHAR,constraints:{trigger:G.ALL},bindings:{value:"this.parent.parent.item.pt",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},validationStatus:{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""},onValid:function(){A.setValidValue(this.parent.parent.item,"pt",this.value,true);this.parent.parent.parent.parent.model.validate();},onInvalid:function(){this.parent.parent.set("prjItems",undefined);if(this.parent.parent.parent.parent.model){this.parent.parent.parent.parent.model.set("validFlag",false);}}},A.propertyName(mstrmojo.desc(7783),"3,0"),{slot:"3,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:N,bindings:{selectedItem:"{v:this.parent.parent.item.ty}",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},onchange:function(){this.parent.parent.item.ty=this.selectedItem.v;}},A.propertyName(mstrmojo.desc(7784),"4,0"),{slot:"4,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:L,bindings:{selectedItem:"{v:this.parent.parent.item.rt}",enabled:"(!this.parent.parent.prjItems || this.parent.parent.prjItems.length === 0)&&!this.parent.parent.wait"},onchange:function(){this.parent.parent.item.rt=this.selectedItem.v;}},{slot:"5,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7789),bindings:{checked:"this.parent.parent.item.udc"},oncheckedChange:function(){this.parent.parent.item.set("udc",this.checked);}},A.propertyName(mstrmojo.desc(7776),"6,0"),{slot:"6,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,bindings:{items:function(){if(mstrmojo.all.connect_tab){if(mstrmojo.all.connect_tab.isAndroid){return E;}else{return B;}}},selectedItem:"{v:this.parent.parent.item.wsc.am}",enabled:"!this.parent.parent.item.udc"},onchange:function(){var Y=this.parent.parent.item.wsc;if(Y){if(!Y.set){O.make(Y,mstrmojo.Obj);}Y.set("am",this.selectedItem.v);}}},A.propertyName(mstrmojo.desc(2763),"7,0","",{visible:needDefSvrCredential}),{slot:"7,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:I,value:"this.parent.parent.item.wsc.lo",visible:needDefSvrCredential},onvalueChange:function(){A.setValidValue(this.parent.parent.item.wsc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.parent.item.wsc,"lo","");}}},A.propertyName(mstrmojo.desc(1162),"8,0","",{visible:needDefSvrCredential}),{slot:"8,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:I,value:"this.parent.parent.item.wsc.ps",visible:needDefSvrCredential},onvalueChange:function(){A.setValidValue(this.parent.parent.item.wsc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.parent.item.wsc,"ps","");}}},{slot:"9,1",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7847),bindings:{visible:needDefSvrCredential}},{slot:"10,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.item.wsc.ow&&"+I,visible:needDefSvrCredential+"&&"+I},oncheckedChange:function(){if(this.parent.parent.item){this.parent.parent.item.wsc.ow=this.checked;}}},{slot:"11,0",scriptClass:"mstrmojo.FieldSet",cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin:8px 0px 0px 0px;width:500px",legend:mstrmojo.desc(7796),children:[{scriptClass:"mstrmojo.Table",rows:5,cols:2,bindings:{svrItem:"this.parent.parent.parent.item"},children:[A.propertyName(mstrmojo.desc(7776),"0,0","width:200px"),{slot:"0,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,bindings:{selectedItem:"{v:this.parent.svrItem.pdc.am}"},items:mstrmojo.all.connect_tab.isAndroid?J:F,onchange:function(){var Y=this.parent.svrItem.pdc;if(Y){if(!Y.set){O.make(Y,mstrmojo.Obj);}Y.set("am",this.selectedItem.v);}}},A.propertyName(mstrmojo.desc(2763),"1,0","",{visible:H}),{slot:"1,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{enabled:I,value:"this.parent.svrItem.pdc.lo",visible:H},onvalueChange:function(){A.setValidValue(this.parent.svrItem.pdc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.svrItem.pdc,"lo","",true);}}},A.propertyName(mstrmojo.desc(1162),"2,0","",{visible:H}),{slot:"2,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:I,value:"this.parent.svrItem.pdc.ps",visible:H},onvalueChange:function(){A.setValidValue(this.parent.svrItem.pdc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.svrItem.pdc,"ps","",true);}}},{slot:"3,1",scriptClass:"mstrmojo.Label",cssText:"margin-bottom:5px",text:mstrmojo.desc(7847),bindings:{visible:H}},{slot:"4,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.svrItem.pdc.ow&&"+I,visible:H+"&&"+I},oncheckedChange:function(){if(this.parent.svrItem){this.parent.svrItem.pdc.ow=this.checked;}}}]}]},{slot:"12,0",scriptClass:"mstrmojo.WidgetList",alias:"prjList",cssText:"width:500px",listSelector:mstrmojo.ListSelector,makeObservable:true,renderOnScroll:false,bindings:{items:"this.parent.parent.item.pl"},itemFunction:function(b,Y,Z){O.make(b,mstrmojo.Obj);var c="this.parent.parent.parent.item",d="this.parent.parent.parent.parent.parent.parent.prjItems";var a=new mstrmojo.Panel({item:b,cssText:"margin-top:10px",parent:Z,showTitlebar:true,state:1,delText:mstrmojo.desc(7880),bindings:{title:"this.item.title"},customDel:function(){delete this.item;this.destroy();},children:[{scriptClass:"mstrmojo.Table",cssClass:"greyBorder project-config-table",cssText:"width:500px",layout:[{cssText:"margin-left:5px",cells:[{cssText:"width:200px"},{}]},{cells:[{colSpan:2}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{}]}],children:[A.propertyName(mstrmojo.desc(2930),"0,0","margin-left:15px;width:170px"),{slot:"0,1",scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,itemIdField:"pdn",showOptTitle:true,getItemName:function(f,e){return(f.svr)?f.n+" ("+f.svr.name+")":f.pn+" ("+f.sn+")";},bindings:{enabled:"!"+c+".dead",items:"("+c+".dead)? ["+c+"]:"+d,selectedItem:"{pdn:(("+c+".pid)? ("+c+".sn + "+c+".pid):"+d+"[0].pdn)}"},onchange:function(){var e=this.parent.parent.parent.item;if(e){if(this.selectedItem&&this.selectedItem.svr){e.pn=this.selectedItem.n;e.sn=this.selectedItem.svr.name;e.sp=this.selectedItem.svr.port;e.pid=this.selectedItem.pid;e.pdn=this.selectedItem.pdn;e.sv=this.selectedItem.sv;e.tfa=this.selectedItem.tfa;}e.set("title",e.pn+" ("+e.sn+")");}}},{slot:"0,1",scriptClass:"mstrmojo.Label",cssText:"color:red;margin-left:5px",bindings:{visible:c+".dead === true"},text:mstrmojo.desc(7853)}]},{slot:"1,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",cssText:"margin-left:11px",label:mstrmojo.desc(7789),bindings:{checked:"this.parent.parent.item.udc"},oncheckedChange:function(){this.parent.parent.item.set("udc",this.checked);}},{slot:"2,0",alias:"customRtf",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left: 11px",label:mstrmojo.desc(8074),bindings:{checked:"!!this.parent.parent.item.rtf.oi",visible:"mstrmojo.all.connect_tab.model.data.dt!=5"},onclick:function(){var e=this.parent.parent.item;if(this.checked){e.rtf=this.prevRtf;}else{this.prevRtf=e.rtf;e.rtf={};}}},{scriptClass:"mstrmojo.HBox",slot:"2,1",bindings:{visible:"mstrmojo.all.connect_tab.model.data.dt!=5"},children:[{scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",readOnly:true,bindings:{enabled:"this.parent.parent.customRtf.checked",value:"this.parent.parent.parent.item.rtf.oi.pt"}},A.createObjBrowserDropdown({reuseSession:true,targetType:"rtf",bindings:{enabled:"this.parent.parent.customRtf.checked",target:"this.parent.parent.parent.item",browsableTypes:function(){if(mstrmojo.all.ipadHomescreen_tab.model.data.dt==2||mstrmojo.all.iphoneHomescreen_tab.model.data.dt==1){return"8,17153";}else{return"8";}}}})]},A.propertyName(mstrmojo.desc(7776),"3,0","margin-left:15px"),{slot:"3,1",scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,cssClass:"mobileconfig-SelectBox",size:1,items:mstrmojo.all.connect_tab.isAndroid?J:F,bindings:{selectedItem:"{v:this.parent.parent.item.pc.am}",enabled:"!this.parent.parent.item.udc"},onchange:function(){var e=this.parent.parent.item.pc;if(e){if(!e.set){O.make(e,mstrmojo.Obj);}e.set("am",this.selectedItem.v);}}},A.propertyName(mstrmojo.desc(2763),"4,0","margin-left:15px",{visible:Q}),{slot:"4,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",bindings:{value:"this.parent.parent.item.pc.lo",enabled:I,visible:Q},onvalueChange:function(){A.setValidValue(this.parent.parent.item.pc,"lo",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.parent.item.pc,"lo","",true);}}},A.propertyName(mstrmojo.desc(1162),"5,0","margin-left:15px",{visible:Q}),{slot:"5,1",scriptClass:"mstrmojo.TextBox",cssClass:"mobileconfig-TextBox",tooltip:mstrmojo.desc(7847),type:"password",bindings:{enabled:I,value:"this.parent.parent.item.pc.ps",visible:Q},onvalueChange:function(){A.setValidValue(this.parent.parent.item.pc,"ps",this.value);},onenabledChange:function(){if(!this.enabled){A.setValidValue(this.parent.parent.item.pc,"ps","",true);}}},{slot:"6,1",scriptClass:"mstrmojo.Label",cssText:"margin-bottom:5px",text:mstrmojo.desc(7847),bindings:{visible:Q}},{slot:"7,1",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8269),bindings:{checked:"this.parent.parent.item.pc.ow&&"+I,visible:Q+"&&"+I},oncheckedChange:function(){if(this.parent.parent.item){this.parent.parent.item.pc.ow=this.checked;}}}]}]});return a;}},{slot:"13,0",scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7793),cssText:"text-decoration:underline;margin:8px 0px 15px 10px;color:#0000FF; font-weight: bold;",bindings:{visible:"this.parent.parent.prjItems && this.parent.parent.prjItems.length > 0"},onclick:function(Y){this.parent.parent.newProject();}},{slot:"14,0",scriptClass:"mstrmojo.HBox",alias:"getPrj",children:[{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7793),cssText:"text-decoration:underline;margin:4px 0px 8px 10px;color:#0000FF; font-weight: bold;",bindings:{visible:"!this.parent.parent.parent.prjItems || this.parent.parent.parent.prjItems.length === 0",enabled:"this.parent.parent.wsNmVTB.validationStatus.code== 0&&this.parent.parent.wsPoVTB.validationStatus.code== 0&&this.parent.parent.wsPtVTB.validationStatus.code== 0&& !this.parent.parent.parent.wait"},onclick:function(Y){this.parent.parent.parent.getAvailablePrjs(true);}},{alias:"noPrjMsg",scriptClass:"mstrmojo.Label",cssText:"margin-left:10px",visible:false,text:mstrmojo.desc(7792)}]}]}]});return V;}},{slot:"3,0",scriptClass:"mstrmojo.Button",text:mstrmojo.desc(7777),cssText:"text-decoration:underline;margin:8px 0px 8px 0px;color:#0000FF; font-weight: bold;",onclick:function(S){if(this.parent.srvList){if(!this.parent.model.defaultSrv){var T=this;this.parent.model.getDefaultConfig(A.DEFAULT_WEBSERVER,function(U){T.parent.model.defaultSrv=U;T.onclick();});}else{this.parent.srvList.add([O.clone(this.parent.model.defaultSrv)],-1);}}}},{slot:"4,0",scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(8447)+":",cssClass:"mstrmojo-trustedCert-setting",visible:false,children:[{scriptClass:"mstrmojo.WidgetList",alias:"cerList",cssClass:"cert-list",makeObservable:true,renderOnScroll:false,bindings:{items:"this.parent.parent.model.data.cty.tcs"},onremove:function(){this.parent.parent.model.validate();},itemFunction:function(U,S,T){return new mstrmojo.HBox({cssText:"height: 22px;",children:[{scriptClass:"mstrmojo.Button",cssClass:"cert-delete",text:"x",title:mstrmojo.desc(629),onclick:function(){T.remove(U);}},{scriptClass:"mstrmojo.ValidationTextBox",cssClass:"cert-edittext",value:U.url,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,regExp:/^http:\/\//i},dtp:M.CHAR,onValid:function(){U.url=this.value;T.parent.parent.model.validate();},onInvalid:function(){delete U.url;T.parent.parent.model.set("validFlag",false);}}]});}},{scriptClass:"mstrmojo.Button",text:mstrmojo.desc(8469),cssClass:"cert-add",onclick:function(){this.parent.cerList.add([{url:"http://"}]);}}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.css","mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet","mstrmojo.TableLayoutList");var C=mstrmojo.mobileConfigUtil,S=mstrmojo.css,I=mstrmojo.validation.TRIGGER,O=mstrmojo.expr.DTP,Q="this.parent.model.data.dt != 3 && this.parent.model.data.dt != 4",M="this.parent.model.data.dt == 4",D={visible:Q},K="this.parent.model.data.dt==3 || this.parent.model.data.dt==4",A={visible:K},J="this.parent.model.data.dt == 1||this.parent.model.data.dt == 2",N="this.parent.model.data.dt == 1",B="this.parent.model",L={model:B};var H=[{n:mstrmojo.desc(844),v:C.LOGGING_LEVEL_WARNING},{n:mstrmojo.desc(845),v:C.LOGGING_LEVEL_ERROR},{n:mstrmojo.desc(874),v:C.LOGGING_LEVEL_MESSAGES},{n:mstrmojo.desc(2461),v:C.LOGGING_LEVEL_ALL},{n:mstrmojo.desc(2411),v:C.LOGGING_LEVEL_OFF}],P=[{n:mstrmojo.desc(707),v:C.TIME_UNIT_DAYS},{n:mstrmojo.desc(708),v:C.TIME_UNIT_HOURS},{n:mstrmojo.desc(7895),v:C.TIME_UNIT_MINUTES}],E=[{n:mstrmojo.desc(8958),v:1},{n:mstrmojo.desc(8959),v:2}],R=[{n:"1",v:1},{n:"2",v:2},{n:"4",v:4},{n:"10",v:10},{n:"24",v:24}],G=[{n:"1",v:1},{n:"2",v:2},{n:"3",v:3},{n:"4",v:4},{n:"5",v:5},{n:"6",v:6},{n:"7",v:7},{n:"8",v:8},{n:"9",v:9},{n:"10",v:10},];hourValues=(function(){var V=[];for(var W=0;W<24;W++){V.push({n:""+W,v:W});}return V;})();minuteValues=(function(){var V=[];for(var W=0;W<60;W++){V.push({n:""+W,v:W});}return V;})();function F(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;}function U(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}if(V%60===0){return{t:V/60,u:C.TIME_UNIT_HOURS};}return{t:V,u:C.TIME_UNIT_MINUTES};}function F(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;}function U(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}if(V%60===0){return{t:V/60,u:C.TIME_UNIT_HOURS};}return{t:V,u:C.TIME_UNIT_MINUTES};}mstrmojo.iPhone_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",cssText:"margin 10px 0px 0px 10px",n:mstrmojo.desc(7767),id:"iPhone_tab",model:null,layout:[{cells:[{},{}]},{cells:[{cssText:"vertical-align:top"},{},{}]},{cells:[{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{}]},{cells:[{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{colSpan:2}]},{cells:[{},{}]},{cells:[{colSpan:3}]},{cells:[{},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.Label",cssText:"width:200px",text:mstrmojo.desc(11462)+":",bindings:{visible:J}},{slot:"0,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",showItemTooltip:true,size:1,items:E,bindings:{atcv:"this.parent.model.data.gnl.atc.v",visible:J},onatcvChange:function(){if(this.atcv!==undefined&&this.atcv!==null){if(this.atcv<=0){this.set("selectedIndex",0);this.domNode.selectedIndex=-1;}else{this.set("selectedIndex",this.atcv-1);}}},onchange:function(){if(this.selectedItem){this.parent.model.data.gnl.atc.v=this.selectedItem.v;}}},C.propertyName(mstrmojo.desc(11828),"1,0","",{visible:J}),{slot:"1,1",scriptClass:"mstrmojo.TableLayoutList",itemsPerRow:10,cssClass:"mobileconfig-TableLayoutList",items:[{v:"2bacfe"},{v:"14bad8"},{v:"19bd9b"},{v:"4edc8b"},{v:"e7b900"},{v:"e77e23"},{v:"eb6f65"},{v:"ff3636"},{v:"e64482"},{v:"9b58b5"},{v:"297fb8"},{v:"007c92"},{v:"17a086"},{v:"07bd54"},{v:"ea9d26"},{v:"d45300"},{v:"dd4e43"},{v:"cd2c2c"},{v:"cc2c69"},{v:"8d44af"}],bindings:{selectedItem:"{v: this.parent.model.data.gnl.ac.v}",visible:J},onvalueChange:function(){if(this.value){this.parent.model.data.gnl.ac.v=this.value;}},getItemProps:function T(X,V){var W=!!this.selectedIndices[V];return{tag:"div",sel:W,cls:(W)?clsSelected:"",n:X.n||"",style:"background-color:#"+X.v,idx:V,addCls:function(Y){addToCollection.call(this,"cls"," ",Y);},addStyle:function(Y){addToCollection.call(this,"style",";",Y);}};}},C.propertyName(mstrmojo.desc(7772),"3,0"),{slot:"3,1",alias:"ntIpt",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:O.INTEGER,constraints:{trigger:I.ALL,validator:function(V){var X=parseInt(this.parent.model.data.gnl.art.v,10),W=isNaN(X)?1:X;if(V<W||V>9999){return{code:mstrmojo.validation.STATUSCODE.INVALID_VALIDATOR,msg:mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,W)};}else{return{id:this.id,code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}}},bindings:{value:"this.parent.model.data.gnl.nt.v"},onValid:function(){var X=this.parent,W=X.artIpt,V=this.parent.model;C.setValidValue(V.data.gnl.nt,"v",this.value);V.validate();},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.nt.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7773),"3,2","margin-left:4px"),C.propertyName(mstrmojo.desc(7840)+":","5,0"),{slot:"5,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:O.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.mgc.v"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.mgc,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.mgc.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(1477),"6,0"),{slot:"6,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",showItemTooltip:true,size:1,items:H,bindings:{selectedItem:"{v:this.parent.model.data.gnl.ll.v}",},onchange:function(){this.parent.model.data.gnl.ll.v=this.selectedItem.v;}},C.propertyName(mstrmojo.desc(7828),"7,0","",D),{slot:"7,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",alias:"mlsVTB",required:true,dtp:O.INTEGER,validateInput:function(V){if(V<0||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,0));}},bindings:{value:"this.parent.model.data.gnl.mls.v",visible:Q},onValid:function(){C.setValidValue(this.parent.model.data.gnl.mls,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model){delete this.parent.model.data.gnl.mls.v;this.parent.model.set("validFlag",false);}}},C.propertyName(mstrmojo.desc(7939),"7,2","margin-left:4px",D),{alias:"sciCheck",slot:"8,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8025),bindings:{checked:"this.parent.model.data.gnl.sci.v > 0",visible:"!("+K+")"},onclick:function(){C.setValidValue(this.parent.model.data.gnl.sci,"v",this.checked?this.parent.sciInput.value:-1);this.parent.sciInput.set("enabled",this.checked);this.parent.model.validate();}},{slot:"8,1",alias:"sciInput",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:O.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.sci.v > 0?this.parent.model.data.gnl.sci.v:''",enabled:"this.parent.model.data.gnl.sci.v > 0",visible:"!("+K+")"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.sci,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.sciCheck.checked){delete this.parent.model.data.gnl.sci.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"8,2",cssText:"margin-left:4px",bindings:{visible:"!("+K+")"}},{alias:"cviCheck",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",slot:"9,0",bindings:{checked:"this.parent.model.data.gnl.cvi.v > 0",label:function(){return(this.parent.model.data.dt==3||this.parent.model.data.dt==4)?mstrmojo.desc(11169):mstrmojo.desc(8026);}},onclick:function(){C.setValidValue(this.parent.model.data.gnl.cvi,"v",this.checked?this.parent.cviInput.value:-1);this.parent.cviInput.set("enabled",this.checked);this.parent.model.validate();}},{alias:"cviInput",slot:"9,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:O.INTEGER,validateInput:function(V){if(V<1||V>9999){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,9999).replace(/##/,1));}},bindings:{value:"this.parent.model.data.gnl.cvi.v > 0? this.parent.model.data.gnl.cvi.v : ''",enabled:"this.parent.model.data.gnl.cvi.v > 0"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.cvi,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.cviCheck.checked){delete this.parent.model.data.gnl.cvi.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"9,2",cssText:"margin-left:4px"},{alias:"crdCheck",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8831),slot:"10,0",bindings:{checked:"this.parent.model.data.gnl.crd.v > 0"},onclick:function(){C.setValidValue(this.parent.model.data.gnl.crd,"v",this.checked?this.parent.crdInput.value:0);this.parent.crdInput.set("enabled",this.checked);this.parent.model.validate();}},{alias:"crdInput",slot:"10,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox",required:true,dtp:O.INTEGER,constraints:{min:1,trigger:I.ALL},bindings:{value:"this.parent.model.data.gnl.crd.v > 0? this.parent.model.data.gnl.crd.v : ''",enabled:"this.parent.model.data.gnl.crd.v > 0"},onValid:function(){C.setValidValue(this.parent.model.data.gnl.crd,"v",this.value);this.parent.model.validate();},onInvalid:function(){if(this.parent.model&&this.parent.crdCheck.checked){delete this.parent.model.data.gnl.crd.v;this.parent.model.set("validFlag",false);}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),slot:"10,2",cssText:"margin-left:4px"},{slot:"11,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",alias:"ebsCheck",label:mstrmojo.desc(9767),bindings:{checked:"this.parent.model.data.gnl.bss.ebs.v",visible:K},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.bss.ebs.v=this.checked;}}},C.propertyName(mstrmojo.desc(9768),"12,0","margin-left:20px",A),{slot:"12,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox",alias:"uiSelect",showItemTooltip:true,size:1,items:R,bindings:{selectedItem:"{v:this.parent.model.data.gnl.bss.ui.v}",visible:K,enabled:"this.parent.ebsCheck.checked"},onchange:function(){if(this.parent.model){this.parent.model.data.gnl.bss.ui.v=this.selectedItem.v;if(this.selectedItem.v==24){this.parent.hourSelect.set("enabled",true);this.parent.minuteSelect.set("enabled",true);}else{this.parent.hourSelect.set("enabled",false);this.parent.minuteSelect.set("enabled",false);}}}},C.propertyName(mstrmojo.desc(9770),"12,2","margin-left:4px",A),C.propertyName(mstrmojo.desc(9769),"13,0","margin-left:20px",A),{slot:"13,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox-time",cssText:"margin-left:100px",alias:"hourSelect",showItemTooltip:true,size:1,items:hourValues,bindings:{selectedItem:function(){if(this.parent.model){var W=this.parent.model.data.gnl.bss.tod.v;var V=(W-W%60)/60;return{n:""+V,v:V};}},visible:K,enabled:"this.parent.ebsCheck.checked && this.parent.model.data.gnl.bss.ui.v == 24"},onchange:function(){if(this.parent.minuteSelect.selectedItem){var V=this.parent.minuteSelect.selectedItem.v;this.parent.model.data.gnl.bss.tod.v=this.selectedItem.v*60+V;}}},{scriptClass:"mstrmojo.Label",text:":",slot:"13,1",cssDisplay:"inline",bindings:{visible:K}},{slot:"13,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox-time",alias:"minuteSelect",showItemTooltip:true,size:1,items:minuteValues,bindings:{selectedItem:function(){if(this.parent.model){var W=this.parent.model.data.gnl.bss.tod.v;var V=W%60;return{n:""+V,v:V};}},visible:K,enabled:"this.parent.ebsCheck.checked && this.parent.model.data.gnl.bss.ui.v == 24"},onchange:function(){if(this.parent.hourSelect.selectedItem){var V=this.parent.hourSelect.selectedItem.v;this.parent.model.data.gnl.bss.tod.v=V*60+this.selectedItem.v;}}},{slot:"14,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9471),bindings:{checked:"this.parent.model.data.gnl.mns.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.mns.v=this.checked;}}},{slot:"15,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(12664),bindings:{checked:"this.parent.model.data.gnl.uas.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.uas.v=this.checked;}}},{slot:"16,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9062),bindings:{checked:"this.parent.model.data.gnl.plc.v===1"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.plc.v=(this.checked)?C.CACHE_PRELOAD_AUTO:C.CACHE_PRELOAD_OFF;}}},{slot:"17,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7841),bindings:{checked:"this.parent.model.data.gnl.fc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.fc.v=this.checked;}}},{slot:"18,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(7843),bindings:{checked:"this.parent.model.data.gnl.cc.v===2"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.cc.v=(this.checked)?C.CACHE_CLEAR_ONCLOSE:C.CACHE_CLEAR_AUTO;}}},{slot:"19,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8356),bindings:{checked:"this.parent.model.data.gnl.usc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.usc.v=this.checked;}}},{slot:"20,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8357),bindings:{checked:"this.parent.model.data.gnl.usl.v",visible:Q},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.usl.v=this.checked;}}},{slot:"22,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(12421),bindings:{checked:"this.parent.model.data.gnl.es.v",visible:K},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.es.v=this.checked;}}},{slot:"23,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8036),bindings:{checked:"this.parent.model.data.gnl.pn.v===1"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.pn.v=(this.checked)?C.PUSH_NOTIFICATION_ON:C.PUSH_NOTIFICATION_OFF;}}},{slot:"24,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11829),bindings:{checked:"this.parent.model.data.gnl.bgd.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.bgd.v=this.checked;}}},{slot:"25,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11830),bindings:{visible:Q},onvisibleChange:function(){if(this.parent.model&&this.parent.model.data.gnl.es){this.set("checked",this.parent.model.data.gnl.es.v&&this.parent.model.data.gnl.eps.v);this.parent.model.data.gnl.eps.v=this.checked;}},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eps.v=this.checked;this.parent.model.data.gnl.es.v=this.parent.model.data.gnl.eps.v||this.parent.model.data.gnl.ea.v;}}},{slot:"26,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11831),bindings:{visible:Q},onvisibleChange:function(){if(this.parent.model&&this.parent.model.data.gnl.es){this.set("checked",this.parent.model.data.gnl.es.v&&this.parent.model.data.gnl.ea.v);this.onclick();}},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ea.v=this.checked;this.parent.model.data.gnl.es.v=this.parent.model.data.gnl.eps.v||this.parent.model.data.gnl.ea.v;}}},{slot:"27,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(15670),bindings:{checked:"this.parent.model.data.gnl.apt.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.apt.v=this.checked;}}},{slot:"28,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9063),bindings:{checked:"this.parent.model.data.gnl.dbpv.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.dbpv.v=this.checked;}}},{slot:"29,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9064),bindings:{checked:"this.parent.model.data.gnl.eopdf.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eopdf.v=this.checked;}}},{slot:"30,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(10610),bindings:{checked:"this.parent.model.data.gnl.eaok.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.eaok.v=this.checked;}}},{slot:"31,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8300),bindings:{checked:"this.parent.model.data.gnl.ipe.v",visible:Q},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ipe.v=this.checked;}}},{slot:"32,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(14766),visible:true,bindings:{checked:"this.parent.model.data.gnl.sae.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.sae.v=this.checked;}}},{slot:"32,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9439),visible:false,bindings:{checked:"this.parent.model.data.gnl.npc.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.npc.v=this.checked;}}},{slot:"33,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9484),bindings:{checked:"this.parent.model.data.gnl.scl.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.scl.v=this.checked;}}},{slot:"34,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11630),bindings:{checked:"this.parent.model.data.gnl.aul.v"},visible:true,onclick:function(){if(this.parent.model){this.parent.model.data.gnl.aul.v=this.checked;}}},{slot:"35,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11631),bindings:{checked:"this.parent.model.data.gnl.ccl.v"},visible:true,onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ccl.v=this.checked;}}},{slot:"36,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(14681),bindings:{checked:"this.parent.model.data.gnl.dmr.v",visible:J},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.dmr.v=this.checked;}}},{slot:"37,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(9472),alias:"slmlcheck",bindings:{checked:"this.parent.model.data.gnl.slml.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.slml.v=this.checked;}}},{slot:"38,0",scriptClass:"mstrmojo.Label",cssText:"margin-left:19px",text:mstrmojo.desc(9441)},{slot:"38,1",scriptClass:"mstrmojo.TextBox",cssText:"width:200px;margin-left:3px",bindings:{enabled:"this.parent.slmlcheck.checked",value:"this.parent.model.data.gnl.lml.v"},onvalueChange:function(){var V=this.parent.model;if(V){V.data.gnl.lml.v=this.value;}}},{slot:"39,0",scriptClass:"mstrmojo.Label",cssText:"width: 200px",text:mstrmojo.desc(9483)+":",bindings:{visible:Q}},{slot:"39,1",scriptClass:"mstrmojo.RadioButton",name:"nvr",alias:"nvr",label:mstrmojo.desc(63),bindings:{initValue:"this.parent.model.data.gnl.pe.v",visible:Q},oninitValueChange:function(){if(this.initValue==-1){this.set("checked",true);this.parent.aftrTm.aftr.set("checked",false);}else{this.set("checked",false);this.parent.aftrTm.aftr.set("checked",true);var V=U(this.initValue);this.parent.aftrTm.inputTm.set("value",V.t);this.parent.aftrTm.set("tmUnit",V.u);}},onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.aftrTm.aftr.set("checked",false);if(this.parent.model){C.setValidValue(this.parent.model.data.gnl.pe,"v",-1);this.parent.model.validate();}}}},{slot:"40,1",scriptClass:"mstrmojo.HBox",cssText:"margin-bottom:8px",alias:"aftrTm",tmUnit:C.TIME_UNIT_DAYS,bindings:{visible:Q},children:[{scriptClass:"mstrmojo.RadioButton",name:"aftr",alias:"aftr",label:mstrmojo.desc(7894),onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.parent.nvr.set("checked",false);}}},{scriptClass:"mstrmojo.ValidationTextBox",alias:"inputTm",cssText:"width:75px;margin-left:3px",bindings:{enabled:"this.parent.aftr.checked"},required:true,dtp:O.INTEGER,validateInput:function(V){if(V<0||V>99){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,99).replace(/##/,1));}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}},onValid:function(){if(this.parent.tmUnit){var V=F(this.value,this.parent.tmUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.pe,"v",V);this.parent.parent.model.validate();}}},onInvalid:function(){if(this.parent.parent.model){delete this.parent.parent.model.data.gnl.pe.v;this.parent.parent.model.set("validFlag",false);}}},{scriptClass:"mstrmojo.SelectBox",alias:"unt",cssText:"width:70px;margin-left:8px",showItemTooltip:true,items:P,size:1,bindings:{enabled:"this.parent.aftr.checked",selectedItem:"{v: this.parent.tmUnit}"},onchange:function(){this.parent.set("tmUnit",this.selectedItem.v);if(this.parent.tmUnit){var V=F(this.parent.inputTm.value,this.parent.tmUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.pe,"v",V);this.parent.inputTm.validate();}}}}]},{slot:"41,0",scriptClass:"mstrmojo.Label",cssText:"width: 200px",text:mstrmojo.desc(8299)+":"},{slot:"41,1",scriptClass:"mstrmojo.RadioButton",name:"upCfg",alias:"uptcNvr",label:mstrmojo.desc(63),bindings:{initValue:"this.parent.model.data.gnl.uptc.v"},calTime:function(V){if(V%(24*60)===0){return{t:V/(24*60),u:C.TIME_UNIT_DAYS};}return{t:V/60,u:C.TIME_UNIT_HOURS};},oninitValueChange:function(){if(this.initValue==-1){this.set("checked",true);this.parent.uptcTm.vry.set("checked",false);}else{this.set("checked",false);this.parent.uptcTm.vry.set("checked",true);var V=this.calTime(this.initValue);this.parent.uptcTm.inputTm.set("value",V.t);this.parent.uptcTm.set("uptcUnit",V.u);}},onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.uptcTm.vry.set("checked",false);if(this.parent.model){C.setValidValue(this.parent.model.data.gnl.uptc,"v",-1);this.parent.model.validate();}}}},{slot:"42,1",scriptClass:"mstrmojo.HBox",cssText:"margin-bottom:8px",alias:"uptcTm",uptcUnit:C.TIME_UNIT_DAYS,calculatePe:function(W,V){var X=-1;switch(V){case C.TIME_UNIT_DAYS:X=W*24*60;break;case C.TIME_UNIT_MINUTES:X=W;break;case C.TIME_UNIT_HOURS:X=W*60;break;default:break;}return X;},children:[{scriptClass:"mstrmojo.RadioButton",name:"upCfg",alias:"vry",label:mstrmojo.desc(1320),onclick:function(){if(this.isChecked()){this.set("checked",true);this.parent.parent.uptcNvr.set("checked",false);}}},{scriptClass:"mstrmojo.ValidationTextBox",alias:"inputTm",cssText:"width:75px;margin-left:3px",bindings:{enabled:"this.parent.vry.checked"},required:true,dtp:O.INTEGER,validateInput:function(V){if(V<1||V>99){return false;}},constraints:{trigger:I.ALL,validator:function(V){return C.generalValidator(V,this.dtp,this.validateInput,mstrmojo.desc(7839).replace(/###/,99).replace(/##/,1));}},onenabledChange:function(){if(this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}},onValid:function(){if(this.parent.uptcUnit){var V=this.parent.calculatePe(this.value,this.parent.uptcUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.uptc,"v",V);this.parent.parent.model.validate();}}},onInvalid:function(){if(this.parent.parent.model){delete this.parent.parent.model.data.gnl.uptc.v;this.parent.parent.model.set("validFlag",false);}}},{scriptClass:"mstrmojo.SelectBox",alias:"uptcUnt",cssText:"width:70px;margin-left:8px",showItemTooltip:true,items:[{n:mstrmojo.desc(707),v:C.TIME_UNIT_DAYS},{n:mstrmojo.desc(708),v:C.TIME_UNIT_HOURS}],size:1,bindings:{enabled:"this.parent.vry.checked",selectedItem:"{v: this.parent.uptcUnit}"},onchange:function(){this.parent.set("uptcUnit",this.selectedItem.v);if(this.parent.uptcUnit){var V=this.parent.calculatePe(this.parent.inputTm.value,this.parent.uptcUnit);if(this.parent.parent.model){C.setValidValue(this.parent.parent.model.data.gnl.uptc,"v",V);this.parent.inputTm.validate();}}}}]},{slot:"43,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-Checkbox",label:mstrmojo.desc(8061),alias:"ucsCheck",bindings:{checked:"this.parent.model.data.gnl.ucs.v"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.ucs.v=this.checked;}}},{slot:"43,1",scriptClass:"mstrmojo.ValidationTextBox",alias:"ucsInput",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,regExp:new RegExp("^https://","i")},cssText:"width:200px;margin-left:3px",bindings:{enabled:"this.parent.ucsCheck.checked",initValue:"this.parent.model.data.gnl.cs.v"},oninitValueChange:function(W,V){if(!!this.initValue){this.set("value",this.initValue);}},onenabledChange:function(){if(this.hasRendered){this.required=this.enabled;if(!this.enabled){var V=this.parent.model;if(!!this.value){V.data.gnl.cs.v="";}this.clearValidation();V.set("validFlag",true);}else{if(this.value!=null){this.validate();}}}},onValid:function(){var V=this.parent.model;if(V){V.data.gnl.cs.v=this.value;V.set("validFlag",true);}},onInvalid:function(){var V=this.parent.model;if(V){V.set("validFlag",false);}}},{slot:"44,0",scriptClass:"mstrmojo.CheckBox",cssText:"margin-left:11px",label:mstrmojo.desc(9065),alias:"dwCheck",bindings:{enabled:"this.parent.ucsCheck.checked",checked:"this.parent.model.data.gnl.dw.v",visible:"this.parent.model.data.dt === 1 || this.parent.model.data.dt === 2"},onclick:function(){if(this.parent.model){this.parent.model.data.gnl.dw.v=this.checked;}}},{scriptClass:"mstrmojo.FieldSet",slot:"47,0",cssClass:"greyBorder",cssText:"margin:8px 0px 0px 0px;width:100%",bindings:{legend:function(){return(this.parent.model.data.dt==3||this.parent.model.data.dt==4)?mstrmojo.desc(8415):mstrmojo.desc(11236);}},children:[{scriptClass:"mstrmojo.Table",cssText:"width: 100%",bindings:{m:"this.parent.parent.model"},layout:[{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]}],children:[{alias:"rpc",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",slot:"0,0",label:mstrmojo.desc(11237),bindings:{checked:"!this.parent.m.data.gnl.dtm.v"},onclick:function(){C.setValidValue(this.parent.m.data.gnl.dtm,"v",!this.checked);this.set("checked",this.checked);this.parent.m.set("rpcs",this.checked);if(!this.checked){C.setValidValue(this.parent.m.data.gnl.dbwt,"v",this.parent.dbwtInput.value>=0?this.parent.dbwtInput.value:300);C.setValidValue(this.parent.m.data.gnl.dcn,"v",this.parent.dcnInput.value>=4?this.parent.dcnInput.value:4);C.setValidValue(this.parent.m.data.gnl.dmatp,"v",this.parent.dmatpInput.value>=1?this.parent.dmatpInput.value:1);C.setValidValue(this.parent.m.data.gnl.dd,"v",(this.parent.ddInput.value>=0&&this.parent.ddInput.value<=10)?this.parent.ddInput.value:10);}else{var V=this.parent.parent.parent.rarTm.inputTm;C.setValidValue(this.parent.m.data.gnl.rar,"v",(V.value>=1&&V.value<=99)?V.value:5);}this.parent.m.validate();}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8507),slot:"1,0",bindings:{checked:"this.parent.m.data.gnl.drn.v",enabled:"this.parent.rpc.checked"},oncheckedChange:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drn,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8508)+"( $, @, % ...)",slot:"2,0",bindings:{checked:"this.parent.m.data.gnl.drsc.v",enabled:"this.parent.rpc.checked"},oncheckedChange:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drsc,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(8509),slot:"3,0",bindings:{checked:"this.parent.m.data.gnl.drcl.v",enabled:"this.parent.rpc.checked"},oncheckedChange:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drcl,"v",this.checked);}}},{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(11449),slot:"4,0",bindings:{checked:"this.parent.m.data.gnl.drld.v",enabled:"this.parent.rpc.checked"},oncheckedChange:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.drld,"v",this.checked);}}},{alias:"dbwc",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",slot:"5,0",label:mstrmojo.desc(11238),bindings:{checked:"this.parent.m.data.gnl.dbw.v",enabled:"this.parent.rpc.checked"},onclick:function(){C.setValidValue(this.parent.m.data.gnl.dbw,"v",this.checked);if(!this.checked){C.setValidValue(this.parent.m.data.gnl.dbwt,"v",this.parent.dbwtInput.value>=0?this.parent.dbwtInput.value:300);}this.parent.m.validate();}},{alias:"dbwtInput",slot:"5,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:O.INTEGER,enabled:false,constraints:{trigger:I.ALL,min:0},bindings:{value:"this.parent.m.data.gnl.dbwt.v",enabled:"this.parent.dbwc.enabled&&this.parent.dbwc.checked"},onValid:function(){if(this.enabled){C.setValidValue(this.parent.m.data.gnl.dbwt,"v",this.value);this.parent.m.validate();}},onInvalid:function(){if(this.parent.m&&this.enabled&&this.value!==undefined){delete this.parent.m.data.gnl.dbwt.v;this.parent.m.set("validFlag",false);}},onenabledChange:function(){if(this.parent.m&&this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},{slot:"5,2",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7773),cssText:"margin-left:4px"},C.propertyName(mstrmojo.desc(8420),"6,0"),{alias:"dcnInput",slot:"6,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:O.INTEGER,constraints:{trigger:I.ALL,min:4,max:Number.MAX_VALUE},bindings:{value:"this.parent.m.data.gnl.dcn.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dcn,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m&&this.enabled&&this.value!==undefined){delete this.parent.m.data.gnl.dcn.v;this.parent.m.set("validFlag",false);}},onenabledChange:function(){if(this.parent.m&&this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},C.propertyName(mstrmojo.desc(8423),"6,2","margin-left:4px"),C.propertyName(mstrmojo.desc(8421),"7,0"),{alias:"dmatpInput",slot:"7,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:O.INTEGER,constraints:{trigger:I.ALL,min:1},bindings:{value:"this.parent.m.data.gnl.dmatp.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dmatp,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m&&this.enabled&&this.value!==undefined){delete this.parent.m.data.gnl.dmatp.v;this.parent.m.set("validFlag",false);}},onenabledChange:function(){if(this.parent.m&&this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},C.propertyName(mstrmojo.desc(8422),"8,0"),{alias:"ddInput",slot:"8,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",required:true,dtp:O.INTEGER,constraints:{trigger:I.ALL,min:0,max:10},bindings:{value:"this.parent.m.data.gnl.dd.v",enabled:"this.parent.rpc.checked"},onValid:function(){C.setValidValue(this.parent.m.data.gnl.dd,"v",this.value);this.parent.m.validate();},onInvalid:function(){if(this.parent.m&&this.enabled&&this.value!==undefined){delete this.parent.m.data.gnl.dd.v;this.parent.m.set("validFlag",false);}},onenabledChange:function(){if(this.parent.m&&this.enabled){this.validate();}else{this.set("validationStatus",{code:mstrmojo.validation.STATUSCODE.VALID});}}},C.propertyName(mstrmojo.desc(7773),"8,2","margin-left:4px"),{scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(13370),slot:"9,0",bindings:{checked:"this.parent.m.data.gnl.daip.v",enabled:"this.parent.rpc.checked",visible:"this.parent.m.data.dt==1||this.parent.m.data.dt==2"},oncheckedChange:function(){if(this.parent.m){C.setValidValue(this.parent.m.data.gnl.daip,"v",this.checked);}}},{slot:"10,0",scriptClass:"mstrmojo.CheckBox",cssClass:"mobileconfig-CheckBox",label:mstrmojo.desc(14637),alias:"adx",bindings:{value:"this.parent.m.data.gnl.dx.v",visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",checked:"this.parent.m.data.gnl.dx.v"},onclick:function(){C.setValidValue(this.parent.m.data.gnl.dx,"v",this.checked);if(!this.checked){delete this.parent.m.data.gnl.dxd.v;}this.parent.m.validate();}},{slot:"10,1",scriptClass:"mstrmojo.ValidationTextBox",cssClass:"mobileconfig-TextBox passcode",constraints:{trigger:I.ALL,min:1,max:999},bindings:{value:"this.parent.m.data.gnl.dxd.v",visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",enabled:"this.parent.adx.checked"},onValid:function(){if(this.parent.m&&this.parent.m.data){C.setValidValue(this.parent.m.data.gnl.dxd,"v",this.value);this.parent.m.validate();}},onInvalid:function(){if(this.parent.m&&this.enabled&&this.value!==undefined){delete this.parent.m.data.gnl.dxd.v;}}},{slot:"10,2",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(707),bindings:{visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",}},{slot:"11,0",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(14638),bindings:{visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",}},{slot:"11,1",scriptClass:"mstrmojo.SelectBox",cssClass:"mobileconfig-SelectBox passwordReuse",items:G,size:1,bindings:{selectedItem:"{v:this.parent.m.data.gnl.drp.v}",visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",},onchange:function(){this.parent.m.data.gnl.drp.v=this.selectedItem.v;}},{slot:"11,2",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(14639),bindings:{visible:"this.parent.m.data.dt==3||this.parent.m.data.dt==4",}},{slot:"12,0",scriptClass:"mstrmojo.Label",cssText:"margin-left:15px",text:"("+mstrmojo.desc(15669)+")",bindings:{visible:"this.parent.m.data.dt==1||this.parent.m.data.dt==2",enabled:"this.parent.rpc.checked"},onenableChange:function(){$C.toggleClass(this.domNode,"disabled",!this.enabled);}}]}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.SelectBox","mstrmojo.CheckBox","mstrmojo.FieldSet");var D=mstrmojo.mobileConfigUtil,J=mstrmojo.hash,L=mstrmojo.validation.TRIGGER,C=mstrmojo.expr.DTP,K=mstrmojo.validation.STATUSCODE;var I=function(N,O){return J.copy(O,{scriptClass:"mstrmojo.Label",text:N,cssClass:"blackberry-category"});},M=function(O,N,P,R){var Q=J.copy(R,{selectedItem:"{v:mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v}"});return J.copy(P,{scriptClass:"mstrmojo.SelectBox",showItemTooltip:true,size:1,items:O,bindings:Q,onchange:function(){if(mstrmojo.all.BlackBerry_tab.model){mstrmojo.all.BlackBerry_tab.model.data.gnl[N].v=this.selectedItem.v;}}});},G=function(O,S,R,P){var Q=J.copy(S,{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+O+".v"}),N=J.copy(R,{trigger:L.ALL});return J.copy(P,{scriptClass:"mstrmojo.ValidationTextBox",required:true,dtp:C.INTEGER,constraints:N,bindings:Q,onValid:function(){var T=mstrmojo.all.BlackBerry_tab.model;if(T){D.setValidValue(T.data.gnl[O],"v",this.getRealModelValue?this.getRealModelValue(this.value):this.value);T.validate();}if(this.validHook){this.validHook();}},onInvalid:function(){var T=mstrmojo.all.BlackBerry_tab.model;if(T){delete T.data.gnl[O].v;T.validate();}if(this.InvalidHook){this.InvalidHook();}}});},E=function(N,O,R,P){var Q=J.copy(R,{checked:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v"});return J.copy(P,{scriptClass:"mstrmojo.CheckBox",label:O,bindings:Q,cssDisplay:"block",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl[N],"v",this.checked);}});},H=function(N,O,P,R){var Q=R!=null?R:-1;return J.copy(P,{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8794),bindings:{checked:"mstrmojo.all.BlackBerry_tab.model.data.gnl."+N+".v=="+Q},onclick:function(){var S=this.parent[O];if(this.checked){S.set("value",Q);}S.set("enabled",!this.checked);}});};var F=[{n:"1%",v:1},{n:"5%",v:5},{n:"10%",v:10},{n:"15%",v:15},{n:"25%",v:25},{n:"30%",v:30}],B=[{n:mstrmojo.desc(959),v:1},{n:mstrmojo.desc(8772),v:2},{n:mstrmojo.desc(8773),v:3}],A=[{n:mstrmojo.desc(959),v:1},{n:mstrmojo.desc(8774),v:2},{n:mstrmojo.desc(8775),v:3}];mstrmojo.BlackBerry_tab=mstrmojo.insert({scriptClass:"mstrmojo.Table",cssText:"width:600px",cssClass:"BlackBerry-general",n:mstrmojo.desc(8766),id:"BlackBerry_tab",model:null,layout:[{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{cssText:"width:150px"},{cssText:"width:180px"},{cssText:"width:270px"}]},{cells:[{cssText:"width:150px"},{colSpan:2}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[I(mstrmojo.desc(295),{slot:"0,0"}),E("ums",mstrmojo.desc(8767),null,{slot:"0,1"}),E("rtu",mstrmojo.desc(8768),null,{slot:"1,1"}),I(mstrmojo.desc(8769),{slot:"2,0"}),I(mstrmojo.desc(8770),{slot:"2,1",cssClass:"propName"}),M(F,"mff",{slot:"2,2"}),I(mstrmojo.desc(8771),{slot:"3,1",cssClass:""}),{scriptClass:"mstrmojo.Panel",slot:"4,0",title:mstrmojo.desc(8776),showTitlebar:true,state:0,onstateChange:function(){this.set("title",(this.state===0)?mstrmojo.desc(8776):mstrmojo.desc(8777));},children:[{scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{colSpan:3}]}],children:[I(mstrmojo.desc(8778),{slot:"0,0"}),I(mstrmojo.desc(8779),{slot:"0,1",cssClass:"propName"}),M(B,"tcp",{slot:"0,2"}),I(mstrmojo.desc(8780),{slot:"1,1",cssClass:"propName"}),M(A,"tls",{slot:"1,2"}),I(mstrmojo.desc(8781),{slot:"2,1",cssClass:"propName"}),G("nrt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.nrt.v/1000"},{validator:function(N){N=parseInt(N);return((N>0&&N<=9999)||N==-1)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,9999).replace(/##/,1)+mstrmojo.desc(8783,"# means use the device default value").replace(/#/,-1)};}},{slot:"2,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8784),{slot:"3,1",cssClass:"propName"}),G("plp",null,{min:0,max:65535},{slot:"3,2"}),I(mstrmojo.desc(8785),{slot:"4,1",cssClass:""}),]},{scriptClass:"mstrmojo.Table",layout:[{cells:[{cssText:"width:25%"},{colSpan:3}]},{cells:[{},{colSpan:3}]}],rows:2,cols:4,cssClass:"categoryTable",children:[I(mstrmojo.desc(8786),{slot:"0,0"}),E("wsc",mstrmojo.desc(8787)+' <span style="font-weight:bold">'+mstrmojo.desc(8788)+"</span>",{checked:'mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc.v=="1"'},{scriptClass:"mstrmojo.RadioButton",slot:"0,1",name:"wsc",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc,"v",this.checked?"1":"2");}}),E("wsc",mstrmojo.desc(8787)+' <span style="font-weight:bold">'+mstrmojo.desc(8789)+"</span>",{checked:'mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc.v=="2"'},{scriptClass:"mstrmojo.RadioButton",slot:"1,1",name:"wsc",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.wsc,"v",this.checked?"2":"1");}})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{colSpan:3}]},{cells:[{},{colSpan:3}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]}],children:[I(mstrmojo.desc(8790),{slot:"0,0"}),I(mstrmojo.desc(8791),{slot:"0,1",cssClass:"propName"}),G("rsl",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.rsl.v!=0"},{validator:function(N){N=parseInt(N);return((N>=0&&N<=100000))?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,100000).replace(/##/,0)+mstrmojo.desc(8792).replace(/#/,0)};}},{slot:"0,2",alias:"rsl"}),I(mstrmojo.desc(8793),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),H("rsl","rsl",{slot:"0,3"},0),E("slm",mstrmojo.desc(8795),null,{slot:"1,1"}),I(mstrmojo.desc(8796),{slot:"2,1",cssClass:""}),I(mstrmojo.desc(8797),{slot:"3,1",cssClass:"propName"}),G("rpc",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.rpc.v!=-1"},{validator:function(Q){var N=1000,P=this.parent.mrl,R=mstrmojo.all.BlackBerry_tab.model;if(P&&!isNaN(parseInt(P.value))){N=parseInt(P.value);}else{if(R&&R.data.gnl.mrl.v){N=R.data.gnl.mrl.v;}}N=Math.min(1000,N);Q=parseInt(Q);var O={id:this.id,code:K.VALID,msg:""};if((Q<2||Q>N)&&Q!=-1){O.code=K.INVALID_VALIDATOR;if(N>2){O.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,N).replace(/##/,2)+mstrmojo.desc(8792).replace(/#/,-1);}else{O.msg=mstrmojo.desc(8798).replace(/#/,mstrmojo.desc(8801))+mstrmojo.desc(8800).replace(/#/,2)+mstrmojo.desc(8792).replace(/#/,-1);}}return O;}},{slot:"3,2",alias:"rpc",validHook:function(){var N=this.parent.mrl;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),H("rpc","rpc",{slot:"3,3"}),I(mstrmojo.desc(8801),{slot:"4,1",cssClass:"propName"}),G("mrl",null,{validator:function(O){var Q=1,R=this.parent.rpc,P=mstrmojo.all.BlackBerry_tab.model;if(R&&!isNaN(parseInt(R.value))){Q=parseInt(R.value);}else{if(P&&P.data.gnl.rpc.v){Q=P.data.gnl.rpc.v;}}if(Q==-1){Q=1;}O=parseInt(O);var N={id:this.id,code:K.VALID,msg:""};if(O<Q||O>1000000){N.code=K.INVALID_VALIDATOR;if(Q<=1000000){N.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000000).replace(/##/,Q);}else{N.msg=mstrmojo.desc(8799).replace(/#/,mstrmojo.desc(8797))+mstrmojo.desc(8802).replace(/#/,1000000);}}return N;}},{slot:"4,2",alias:"mrl",validHook:function(){var N=this.parent.rpc;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8803),{slot:"5,1",cssClass:"propName"}),G("ctk",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.ctk.v!=-1"},{validator:function(N){N=parseInt(N);return(N>=-1&&N<=1000)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000).replace(/##/,-1)+mstrmojo.desc(8804).replace(/#/,0)+mstrmojo.desc(8792).replace(/#/,-1)};}},{slot:"5,2",alias:"ctk"}),H("ctk","ctk",{slot:"5,3"}),I(mstrmojo.desc(8805),{slot:"6,1",cssClass:"propName"}),G("tqs",{enabled:"mstrmojo.all.BlackBerry_tab.model.data.gnl.tqs.v!=-1"},{validator:function(N){N=parseInt(N);return((N>=1&&N<=1000)||N==-1)?{id:this.id,code:K.VALID,msg:""}:{code:K.INVALID_VALIDATOR,msg:mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,1000).replace(/##/,1)+mstrmojo.desc(8792).replace(/#/,-1)};}},{slot:"6,2",alias:"tqs"}),H("tqs","tqs",{slot:"6,3"})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]},{cells:[{},{colSpan:3}]}],children:[I(mstrmojo.desc(8806),{slot:"0,0"}),I(mstrmojo.desc(8807),{slot:"0,1",cssClass:"propName"}),G("chs",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.chs.v/1024"},{validator:function(Q){var O=1024,N=this.parent.mds,R=mstrmojo.all.BlackBerry_tab.model;if(N&&!isNaN(parseInt(N.value))){O=parseInt(N.value);}else{if(R&&R.data.gnl.mds.v){O=R.data.gnl.mds.v/1024;}}O=Math.min(1024,O);Q=parseInt(Q);var P={id:this.id,code:K.VALID,msg:""};if(Q<1||Q>O){P.code=K.INVALID_VALIDATOR;if(O>1){P.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,O).replace(/##/,1);}else{P.msg=mstrmojo.desc(8798).replace(/#/,mstrmojo.desc(8808))+mstrmojo.desc(8800).replace(/#/,1);}}return P;}},{slot:"0,2",alias:"chs",getRealModelValue:function(N){return N*1024;},validHook:function(){var N=this.parent.mds;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8793),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8808),{slot:"1,1",cssClass:"propName"}),G("mds",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.mds.v/1024"},{validator:function(O){var R=1,Q=this.parent.chs,P=mstrmojo.all.BlackBerry_tab.model;if(Q&&!isNaN(parseInt(Q.value))){R=parseInt(Q.value);}else{if(P&&P.data.gnl.chs.v){R=P.data.gnl.chs.v/1024;}}O=parseInt(O);var N={id:this.id,code:K.VALID,msg:""};if(O<R||O>102400){N.code=K.INVALID_VALIDATOR;if(R<=102400){N.msg=mstrmojo.desc(8782,"Please enter a number between ## and ###").replace(/###/,102400).replace(/##/,R);}else{N.msg=mstrmojo.desc(8799).replace(/#/,mstrmojo.desc(8807))+mstrmojo.desc(8802).replace(/#/,102400);}}return N;}},{slot:"1,2",alias:"mds",getRealModelValue:function(N){return N*1024;},validHook:function(){var N=this.parent.chs;if(N&&N.validationStatus.code!=K.VALID&&N.value!=null){N.validate();}}}),I(mstrmojo.desc(8793),{slot:"1,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8809),{slot:"2,1",cssClass:"propName"}),G("tgt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.tgt.v/1000"},{min:1,max:9999},{slot:"2,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8810),{slot:"3,1",cssClass:"propName"}),G("scf",null,{min:0,max:1},{slot:"3,2",dtp:C.DOUBLE}),I(mstrmojo.desc(8811),{slot:"4,1",cssClass:"propName"}),G("apf",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.apf.v/1000"},{min:0,max:9999},{slot:"4,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"4,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8812),{slot:"5,1",cssClass:"propName"}),G("rsel",null,{min:1,max:100},{slot:"5,2"}),E("svc",mstrmojo.desc(8813),{checked:"!mstrmojo.all.BlackBerry_tab.model.data.gnl.svc.v"},{slot:"6,1",onclick:function(){D.setValidValue(mstrmojo.all.BlackBerry_tab.model.data.gnl.svc,"v",!this.checked);}})]},{scriptClass:"mstrmojo.Table",cssClass:"categoryTable",layout:[{cells:[{cssText:"width:25%"},{cssText:"width:30%"},{cssText:"width:30%"},{cssText:"width:15%"}]},{cells:[{},{},{},{}]},{cells:[{},{},{},{}]}],children:[I(mstrmojo.desc(8814),{slot:"0,0"}),I(mstrmojo.desc(8815),{slot:"0,1",cssClass:"propName"}),G("cmt",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.cmt.v/1000"},{min:1,max:9999},{slot:"0,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"0,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8816),{slot:"1,1",cssClass:"propName"}),G("cmw",{value:"mstrmojo.all.BlackBerry_tab.model.data.gnl.cmw.v/1000"},{min:0,max:9999},{slot:"1,2",getRealModelValue:function(N){return N*1000;}}),I(mstrmojo.desc(7773),{slot:"1,2",cssClass:"unit",cssDisplay:"inline"}),I(mstrmojo.desc(8817),{slot:"2,1",cssClass:"propName"}),G("cmi",null,{min:0,max:9999},{slot:"2,2"}),I(mstrmojo.desc(7773),{slot:"2,2",cssClass:"unit",cssDisplay:"inline"})]}]}]}]});}());(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo.List","mstrmojo.Button","mstrmojo.color","mstrmojo.Model","mstrmojo.Table","mstrmojo._CanValidate","mstrmojo.ValidationTextBox");var L=mstrmojo.color,C=mstrmojo.hash;function H(V,R,N,O,U,M,Q,T){var S={target:R,onEnd:function(){if(M){M();}},props:{}};S.props[N]={ease:Q,start:parseInt(O,10),stop:parseInt(U,10),suffix:"px"};S=C.copy(T,S);var P=new mstrmojo.fx.AnimateProp(S);P.play();}var D=function(Q){if(Q===null){return ;}var P=mstrmojo.locales.color.userPalette,M=P.length;if(M===8){P.remove(M-1,1);}P.add([{n:Q,v:Q}],0);var N="",O;for(O=0;O<8;O++){if(P[O]&&P[O].v){N+=P[O].v+",";}}N=N.replace(/,$/,"");mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(R){},failure:function(R){mstrmojo.alert(R.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"setPreference",prefs:"userPalette\u001E"+N});};var I=function(M,N,O){return{scriptClass:"mstrmojo.Label",text:M+":",cssClass:N,slot:O};};var K=function(M,P,O,N){return C.copy(N||{},{scriptClass:"mstrmojo.ValidationTextBox",cssDisplay:"block",cssText:"padding: "+(mstrmojo.dom.isIE7?"0":"1px"),bindings:{value:function(){return this.parent.parent.colorModel[O]||"0";}},onValid:function(){this.parent.parent.colorModel.set(O,this.value);},min:0,max:255,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(R){var S=this.min,Q=this.max;R=parseInt(R,10);if(R>=S&&R<=Q){return{code:mstrmojo.validation.STATUSCODE.VALID};}return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7883,"Please enter an integer between ## and ###").replace("##",S).replace("###",Q)};}},slot:P});};var G=function(M){return C.copy({scriptClass:"mstrmojo.Slider",alias:M+"Slider",cssClass:"sc "+M,isHoriz:true,width:130,cssBkBW:0,items:[],getItemTooltip:function(){return this.items[this.min].n;},postCreate:function(){var N;for(N=0;N<{r:256,g:256,b:256,s:101,v:101,h:360}[M];N++){this.items.push({n:N,v:N});}},bindings:{selectedIndex:function(){return this.parent.parent.colorModel[M]||"0";}},onselectedIndexChange:function(){this.parent.parent.colorModel.set(M,this.selectedIndex);if(this.domNode){this.min=this.max=this.selectedIndex;this.typeHelper.updateThumb();}},select:function(N){this.set("selectedIndex",N);},slot:"1,3"});};var A=function(N,M,O){return'<div mstridx="'+M+'" class="mstrmojo-ColorPicker-item '+O.itemCssClas+'" style="background-color:'+N.v+';" type="button" title="'+N.n+'"></div>';};var F=C.copy({findIndex:function(M,O,N){return N.getAttribute("mstridx")||-1;}},C.copy(mstrmojo.ListMapper));var B=function(M,N){return C.copy(N,{scriptClass:"mstrmojo.List",cssClass:"mstrmojo-ColorPicker-list",itemMarkupFunction:A,listMapper:F,onchange:null,_onchange:function(){this.set("selectedColor",this.selectedItem.v);M.set("selectedColor",this.selectedItem.v);if((M.isSimple||!M.expanded)&&M.onChange){M.onChange();}},onselectedColorChange:function(){M.colorModel.set("hex",this.selectedColor);}});};mstrmojo.ColorPicker=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.ColorPicker",markupString:'<div id={@id} class="mstrmojo-ColorPicker {@cssClass} {@shadowCssClass}" style="height:{@height}; width:{@width};{@cssText}"><div class="mstrmojo-ColorPicker-box"></div></div>',markupSlots:{containerNode:function(){return this.domNode.firstChild;}},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";},onexpandedChange:function(){this.domNode.className=this.domNode.className.replace(/ expanded/,"")+(this.expanded?" expanded":"");}},useAnimate:true,useShadow:true,isSimple:false,showNoColor:true,showMoreColors:true,showGradients:false,showUserPalette:true,height:"168px",fullHeight:"326px",width:"158px",fullWidth:"366x",expanded:false,onexpandedChange:function(N){var Q=this.domNode,M=parseInt(this.height,10),P=parseInt(this.width,10),O=parseInt(this.fullHeight,10),R=Math.max(parseInt(this.fullWidth,10),Q.scrollWidth);if(this.useAnimate!==false){if(N.value){H(true,Q,"width",P,R);H(true,Q,"height",M,O);}else{H(true,Q,"width",R,P);H(true,Q,"height",O,M);}}else{if(N.value){Q.style.width=R+"px";Q.style.height=O+"px";}else{Q.style.width=P+"px";Q.style.height=M+"px";}}},selectedColor:null,onChange:null,_updateSelection:function(N){var O=(this.isSimple)?this:this.layout.cp;if(N){var M=mstrmojo.array.find(O.basicColors.items,"v",N);if(M>-1){O.basicColors.set("selectedIndex",M);}else{M=mstrmojo.array.find(O.userPalette.items,"v",N);if(M>-1){O.userPalette.set("selectedIndex",M);}}}},visible:false,onvisibleChange:function(){if(this.visible){this.selectedColor=(this.selectedColor&&this.selectedColor.replace(/transparent/,"#FFFFFF"))||"#FFFFFF";this.colorModel.set("hex",this.selectedColor);this._updateSelection(this.selectedColor);}},onselectedColorChange:function(){this._updateSelection(this.selectedColor);},init:function(M){var N=this;this.colorModel=new mstrmojo.Model({h:0,s:0,v:100,_hsvChange:function(){this.hex="#"+L.hsv2hex(this.h,this.s,this.v);var O=L.hsv2rgb(this.h,this.s,this.v);this.r=O[0];this.g=O[1];this.b=O[2];N.set("colorModel",C.copy(this,{}));},_rgbChange:function(){this.hex="#"+L.rgb2hex(this.r,this.g,this.b);var O=L.rgb2hsv(this.r,this.g,this.b);this.h=O[0];this.s=O[1];this.v=O[2];N.set("colorModel",C.copy(this,{}));},onhChange:function(){this._hsvChange();},onsChange:function(){this._hsvChange();},onvChange:function(){this._hsvChange();},onrChange:function(){this._rgbChange();},ongChange:function(){this._rgbChange();},onbChange:function(){this._rgbChange();},onhexChange:function(){var P=L.hex2rgb(this.hex);this.r=P[0];this.g=P[1];this.b=P[2];var O=L.hex2hsv(this.hex);this.h=O[0];this.s=O[1];this.v=O[2];N.set("colorModel",C.copy(this,{}));}});this._super(M);},postBuildRendering:function(){if(this._super){this._super();}this.colorModel.set("hex",this.selectedColor||"#FFFFFF");this.colorModel.set("s",50);},preBuildRendering:function(){if(this._super){this._super();}var P=this.isSimple?100:124;if(this.showNoColor){P+=20;}if(this.showUserPalette){P+=25;}this.height=P+"px";if(this.isSimple){this.width="155px";}this.shadowCssClass=this.useShadow?"shadow":"";var Q=this,M={scriptClass:"mstrmojo.Button",cssClass:"nocolor",text:mstrmojo.desc(959,"Default"),visible:this.showNoColor,onclick:function(){Q.set("selectedColor","transparent");if(Q.onChange){Q.onChange();}}},O=B(this,{alias:"basicColors",items:mstrmojo.locales.color.colors,onchange:function(){if(this.selectedIndex>-1){this.parent.userPalette.set("selectedIndex",-1);this._onchange();}}}),R=B(this,{alias:"userPalette",cssClass:"mstrmojo-ColorPicker-list userPalette",makeObservable:true,visible:this.showUserPalette,bindings:{items:function(){return Q.showUserPalette!==false?mstrmojo.locales.color.userPalette:[];}},onchange:function(){if(Q.visible){if(this.selectedIndex>-1){this.parent.basicColors.set("selectedIndex",-1);this._onchange();}}},onadd:function(){this.refresh();if(Q.visible){this.parent.basicColors.set("selectedIndex",-1);this.set("selectedIndex",0);}}});if(this.isSimple){if(this.showNoColor){this.addChildren(M,0);}this.addChildren(O);this.addChildren(R);return ;}var N={scriptClass:"mstrmojo.Table",alias:"layout",rows:2,cols:5,layout:[{cells:[{colSpan:2},{colSpan:2},{}]},{cells:[{},{},{},{},{}]}],children:[{scriptClass:"mstrmojo.VBox",cssClass:"mstrmojo-ColorPicker-palette shadow",alias:"cp",children:[M,O,R],slot:"0,0"},{scriptClass:"mstrmojo.Container",cssClass:"sbSlider",markupString:'<div class="{@cssClass}" style="position:relative; {@cssText}" mstrAttach:click,mouseover,mousemove,mousedown,mouseup,mouseout><div class="sbThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode;},thumbNode:function(){return this.domNode.firstChild;}},markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor;}},hex:null,bindings:{hex:"this.parent.parent.colorModel.hex",bgColor:function(){return"#"+L.hsv2hex(this.parent.parent.colorModel.h,100,100);}},onhexChange:function(){if(this.domNode){this.thumbNode.style.left=this.parent.parent.colorModel.s/100*160-3+"px";this.thumbNode.style.top=(1-this.parent.parent.colorModel.v/100)*160-3+"px";}},onmousedown:function(){var T=this.domNode.getBoundingClientRect();this.mouseX0=T.left;this.mouseY0=T.top;this.onmousemove=this._update;var S=this;this.onmouseup=function(){S.onmousemove=null;mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup);};mstrmojo.dom.attachEvent(document.body,"mouseup",this.onmouseup);},onclick:function(S){this._update(S);},_update:function(S){var V={x:S.e.clientX,y:S.e.clientY},U=Math.min(Math.max(0,V.x-this.mouseX0),160),T=Math.min(Math.max(0,V.y-this.mouseY0),160);this.thumbNode.style.left=(U-3)+"px";this.thumbNode.style.top=(T-3)+"px";this.parent.parent.colorModel.s=Math.floor(100*U/160);this.parent.parent.colorModel.set("v",Math.floor(100*(1-T/160)));},slot:"0,1"},{scriptClass:"mstrmojo.Container",cssClass:"hueSlider",markupString:'<div class="{@cssClass}" style="position:relative; {@cssText}" mstrAttach:click,mouseover,mousedown,mouseup,mousemove,mouseout><div class="hThumb"></div></div>',markupSlots:{containerNode:function(){return this.domNode;},thumbNode:function(){return this.domNode.firstChild;}},bindings:{hex:"this.parent.parent.colorModel.hex",h:"this.parent.parent.colorModel.h"},onhexChange:function(){this._moveThumb();},onhChange:function(){this._moveThumb();},_moveThumb:function(){if(this.thumbNode){this.thumbNode.style.top=(1-this.parent.parent.colorModel.h/360)*160-1+"px";}},onmousedown:function(){this.mouseY0=this.domNode.getBoundingClientRect().top;this.onmousemove=this._update;var S=this;this.onmouseup=function(){S.onmousemove=null;mstrmojo.dom.detachEvent(document.body,"mouseup",S.onmouseup);};mstrmojo.dom.attachEvent(document.body,"mouseup",S.onmouseup);},onclick:function(S){this._update(S);},_update:function(S){var U={x:S.e.clientX,y:S.e.clientY},T=Math.min(Math.max(0,U.y-this.mouseY0),160);this.thumbNode.style.top=(T-1)+"px";this.parent.parent.colorModel.set("h",Math.max(0,Math.floor(360*(1-T/160))));},slot:"0,2"},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-ColorPicker-preview",markupMethods:{onbgColorChange:function(){this.domNode.style.backgroundColor=this.bgColor;}},bindings:{bgColor:"this.parent.parent.colorModel.hex"},onclick:function(){if(Q.showUserPalette){D(this.bgColor);}},slot:"1,0"},I(mstrmojo.desc(7848,"Hex"),"Hex","1,0"),K(mstrmojo.desc(7848,"Hex"),"1,0","hex",{cssClass:"hex",cssDisplay:"block",inputNodeCssClass:"hex",dtp:25,constraints:{trigger:mstrmojo.validation.TRIGGER.ONKEYUP,validator:function(S){if(/^#[0-9a-fA-F]{6}$/.test(S)){return{code:mstrmojo.validation.STATUSCODE.VALID};}return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:mstrmojo.desc(7882,"Please enter a 6-digit HEX color value in format: #xxxxxx")};}}}),I(mstrmojo.desc(3604,"Red"),"Red","1,1"),I(mstrmojo.desc(3606,"Green"),"Green","1,1"),I(mstrmojo.desc(3608,"Blue"),"Blue","1,1"),I(mstrmojo.desc(3605,"Hue"),"Hue","1,1"),I(mstrmojo.desc(3607,"Saturation"),"Saturation","1,1"),I(mstrmojo.desc(3609,"Brightness"),"Brightness","1,1"),K(mstrmojo.desc(3604,"Red"),"1,2","r"),G("r"),K(mstrmojo.desc(3606,"Green"),"1,2","g"),G("g"),K(mstrmojo.desc(3608,"Blue"),"1,2","b"),G("b"),K(mstrmojo.desc(3695,"Hue"),"1,2","h",{cssClass:"h",max:360}),G("h"),K(mstrmojo.desc(3607,"Saturation"),"1,2","s",{max:100}),G("s"),K(mstrmojo.desc(3609,"Brightness"),"1,2","v",{max:100}),G("v")]};if(this.showMoreColors){N.children.push({scriptClass:"mstrmojo.Button",cssClass:"more",alias:"more",title:mstrmojo.desc(7833,"More >>>"),onclick:function(){var S=this.parent.parent;S.set("expanded",!S.expanded);this.domNode.setAttribute("title",S.expanded?mstrmojo.desc(7834,"Less Colors"):mstrmojo.desc(7833,"More Colors"));this.domNode.className=S.expanded?"less":"more";},slot:"0,0"});}if(this.showGradients){N.children.push({scriptClass:"mstrmojo.Button",alias:"showGradients",cssClass:"ge",text:mstrmojo.desc(4786,"Gradients..."),title:mstrmojo.desc(7970,"Open Graident Editor"),onclick:function(){var S=this.parent.parent;S.set("show",false);S.parent.ge.set("show",true);},slot:"0,0"});}this.addChildren(N);this.addChildren({scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-ColorPicker-buttonBar",children:[mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442,"Ok"),function(){var S=this.parent.parent;if(!S.useAnimate){S.set("visible",false);}var T=S.colorModel.hex;if(S.showUserPalette){D(T);}S.set("selectedColor",T);if(S.onOK){S.onOK();}},"#999",{alias:"ok",cssClass:"mstrmojo-Editor-button"}),mstrmojo.Button.newInteractiveButton(mstrmojo.desc(221,"Cancel"),function(){var S=this.parent.parent;if(!S.useAnimate){S.set("visible",false);}if(S.onCancel){S.onCancel();}},"#999",{alias:"cancel",cssClass:"mstrmojo-Editor-button"})]});}});var J={scriptClass:"mstrmojo.Popup",slot:"popupNode",contentNodeCssClass:"mstrmojo-ColorPicker-popup-content",autoCloses:false,locksHover:true,colorPicker:null,onOpen:function(){this.colorPicker.set("selectedColor",this.opener.fillColor);var N=this;var M=function(){N.lastOpener=N.lastOpener||N.opener;if(N.opener!==N.lastOpener){N.opener.popupNode.appendChild(N.lastOpener.popupRef.domNode);N.lastOpener=N.opener;}N.colorPicker.set("show",true);};window.setTimeout(function(){M();},100);},onClose:function(){this.colorPicker.set("show",false);if(this.ge){this.ge.set("show",false);}},postCreate:function(){this.markupMethods=C.copy(this.markupMethods);this.markupMethods.onvisibleChange=null;},preBuildRendering:function(){if(this.showGradients||this.colorPicker.showGradients){this.addChildren(this.gradientRef);}},gradientRef:{scriptClass:"mstrmojo.GradientEditor",alias:"ge",cssText:"height:0; display:none; position:absolute; z-index: 4;",left:"0px",top:"0px",visible:false,showTitle:false,height:245,_resizeHandler:function(){},onOK:function(){this.parent.opener.set("gradient",this.gradient);this.parent.opener.set("gradientCss",this.gradient.css);this.set("show",false);},onCancel:function(){this.set("show",false);},onshowChange:function(O){var N=O.value,M=parseInt(this.height,10);var R=this.domNode.firstChild;if(N){this.set("model",this.parent.opener.gradient);R.style.display="block";}if(this.useAnimate!==false){var S=N?0:M,P=M-S,Q=this;R.style.overflow="hidden";if(N){R.style.display="block";}H(N,R,"height",S,P,function(){if(!N){R.style.display="none";var T=Q.parent.opener;if(T){T.closePopup();}}else{R.style.overflow="visible";}});}else{R.style.height=N?M+"px":0;R.style.display=N?"block":"none";}},postCreate:function(){this.bindings={useAnimate:"this.parent.opener.useAnimate"};}},children:[{scriptClass:"mstrmojo.ColorPicker",alias:"colorPicker",onChange:function(){if(!this.parent.opener){return ;}this.parent.opener.set("fillColor",this.selectedColor);this.set("show",false);this.parent.opener.closePopup();},onOK:function(){this.onApply();this._closePopup();},onApply:function(){this.parent.opener.set("fillColor",this.selectedColor);},onCancel:function(){this._closePopup();},_closePopup:function(){this.set("show",false);if(!this.showGradients||!this.parent.ge||(this.parent.ge&&!this.parent.ge.show)){this.parent.opener.closePopup();}},show:false,onEnd:function(){this.set("visible",this.show);},onshowChange:function(){var M=parseInt(this.expanded?this.fullHeight:this.height,10);if(this.useAnimate!==false){var Q=this.show?0:M,O=M-Q,P=this,N=(!this.show?function(){P.onEnd();}:null);if(this.show){this.set("visible",true);}H(this.show,this.domNode,"height",Q,O,N);}else{this.set("visible",this.show);this.domNode.style.height=M+"px";}},postCreate:function(){this.showGradients=this.parent.showGradients;this.bindings={showUserPalette:function(){return this.parent.opener?this.parent.opener.showUserPalette:this.showUserPalette;},useAnimate:function(){return this.parent.opener?this.parent.opener.useAnimate:this.useAnimate;},isSimple:function(){return this.parent.opener?this.parent.opener.isSimple:this.isSimple;},showNoColor:function(){return this.parent.opener?this.parent.opener.showNoColor:this.showNoColor;}};}}]};mstrmojo.colorPickerPopupRef=mstrmojo.insert(J);mstrmojo.simpleColorPickerPopupRef=mstrmojo.insert(C.copy({isSimple:true},C.copy(J)));mstrmojo.gradientColorPickerPopupRef=mstrmojo.insert(C.copy({showGradients:false},C.copy(J)));mstrmojo.ColorPicker.createDropDown=function E(O,N){O=O||{};var M=mstrmojo.colorPickerPopupRef;if(N){if(N.isSimple){M=mstrmojo.simpleColorPickerPopupRef;O.isSimple=N.isSimple;}else{if(N.showGradients){M=mstrmojo.gradientColorPickerPopupRef;O.showGradients=N.showGradients;}}}else{if(O){if(O.isSimple){M=mstrmojo.simpleColorPickerPopupRef;}else{if(O.showGradients){M=mstrmojo.gradientColorPickerPopupRef;}}}}return C.copy(O,{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-ColorPicker-DropDownButton",markupMethods:{onfillColorChange:function(){if(this.boxNode&&this.fillColor){this.boxNode.style.cssText="background-color: "+this.fillColor;this.gradient=null;this.gradientCss=null;}},ongradientCssChange:function(){if(this.boxNode&&this.gradientCss){this.boxNode.style.cssText=this.gradientCss;this.fillColor=null;}}},popupRef:M,showUserPalette:true,useAnimate:true,showGradients:false,isSimple:false,fillColor:undefined});};}());(function(){mstrmojo.requiresCls("mstrmojo.WidgetList","mstrmojo.WidgetTreeBuilder","mstrmojo.TreeNodeSelector");var E=false;mstrmojo.WidgetTree=mstrmojo.declare(mstrmojo.WidgetList,null,{scriptClass:"mstrmojo.WidgetTree",listBuilder:mstrmojo.WidgetTreeBuilder,listSelector:mstrmojo.TreeNodeSelector,renderOnScroll:true,itemIdField:"dssid",itemDisplayField:"n",itemIconField:"tp",itemChildrenField:"items",itemFunction:function D(L,I,J){if(!E){mstrmojo.requiresCls("mstrmojo.TreeNode");E=true;}var H=J.tree||J,K=new mstrmojo.TreeNode({data:L,state:0,parent:J,tree:H,multiSelect:J.multiSelect,text:L[J.itemDisplayField],textCssClass:H.item2textCss(L),items:L[J.itemChildrenField],itemIdField:J.itemIdField,itemDisplayField:J.itemDisplayField,itemIconField:J.itemIconField,itemChildrenField:J.itemChildrenField,itemFunction:J.itemFunction,listSelector:J.listSelector});return K;},item2textCss:function B(H){return H[this.itemIconField];},selectionParentNode:null,init:function F(H){this._super(H);this.selectionParentNode=this;this.tree=this;},clearTreeSelect:function A(){(this.selectionParentNode||this).clearSelect();},prechange:function G(H){var I=this._super(H);this.onnodechange(H);return I;},onnodechange:function C(I){if(!I){return ;}var J=mstrmojo.hash,M=this.selectionParentNode,L=I.src;if(L===M){if(J.isEmpty(L.selectedIndices)){L=this;this.selectionParentNode=this;}this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:I.removed});}else{if(I.added&&I.added.length){var K=[];if(!J.isEmpty(M.selectedIndices)){K=mstrmojo.hash.keyarray(M.selectedIndices,true);M.clearSelect();}this.selectionParentNode=L;this.raiseEvent({name:"selectionChange",parentNode:L,parentNodeWas:M,added:I.added,removed:K});}else{}}}});})();(function(){mstrmojo.requiresCls("mstrmojo.TileList");})();(function(){mstrmojo.requiresCls("mstrmojo.Button","mstrmojo.hash","mstrmojo.func","mstrmojo.css","mstrmojo.string","mstrmojo.HBox","mstrmojo.Box","mstrmojo.DropDownButton","mstrmojo.Popup","mstrmojo.WidgetTree","mstrmojo.ObjectBrowserDataProvider","mstrmojo.OBList","mstrmojo.FishEyeContainer","mstrmojo.SearchBox2","mstrmojo.Booklet","mstrmojo.IncFetch","mstrmojo.chart.model.enums.EnumDSSObjectType","mstrmojo.mstr.ui.IncFetchOBList","mstrmojo.DI.DIConstants");var Q=mstrmojo.hash,Y=mstrmojo.func,A=mstrmojo.string,M=mstrmojo.meta.TP,G="5CECE58CC1D549F890EB61C4DB2156A3",V="E0CCB9CF22104A489CBE78D974AFD19E",S=mstrmojo.chart.model.enums.EnumDSSObjectType,L=mstrmojo.array,E=mstrmojo.dom,P=mstrmojo.DI.DIConstants,a=function(i,j,d){var g=i.scrollableIncFetch,f=g?"mstrmojo.mstr.ui.IncFetchOBList":"mstrmojo.OBList",h={scriptClass:f,items:j.items,multiSelect:d};if(g){h.browseConfig={blockBegin:j.bb,blockCount:j.bc,totalSize:j.sz,folderLinksContextId:i.folderLinksContextId,rootFolderID:j.did,browsableTypes:i.browsableTypes,browsableViewMedias:i.browsableViewMedias,dataProvider:i.dataProvider};h.onwaitingChange=function(){if(i.booklet){i.booklet.set("waiting",this.waiting);}};}var e=mstrmojo.insert(h);e.render();return e;},B=function(f,g,d){var e=mstrmojo.ObjectBrowser.widgetHandler||a;return e(f,g,d);},O={success:function(f){var g=this.ob,e=f.items,h=g.pageCache[g.currentPage],d=h._w;h.items=e;d.set("items",e);this.ob=null;this.item=null;window.clearTimeout(g._btm);g.booklet.set("waiting",false);if(g.scrollableIncFetch&&d.scrollNode){d.initScroll();d.updateScrollbars();}},failure:function(d){window.alert(d.getResponseHeader("X-MSTR-TaskFailureMsg"));this.ob.booklet.set("waiting",false);}},U=function(i,h,f){var g=f?-1:1,e=i.pageCache.length,j;for(j=i.currentPage+g;j<e&&j>=0;j+=g){var d=i.pageCache[j];if(d._k===h.k){return{steps:j-i.currentPage,cache:d};}}return null;},D=function(h,g,f,i){var j=h.currentPage+1,e=h.pageCache.length,d;for(d=j;d<e;d++){h.pageCache[d]._w.destroy();delete h.pageCache[d].items;}h.pageCache=h.pageCache.slice(0,j);i._w=f;i._k=g.k;h.pageCache[j]=i;h.cacheChange();},I=function(e){var d=mstrmojo.hash.walk("anc.items.0.items",e);this.set("canGoUp",!(!e.pf||!d));},J=function(h,g,i,f,e){delete h._btm;var d;if(!f){d=B(h,i,h.multiSelect);d.attachEventListener("change",h.id,"navigate");if(h.useDblSelect||h.useBothSglDblSelect){d.attachEventListener("dblclick",h.id,"dblselect");}}else{d=i._w;}h.obList=d;h.booklet.turn(d,e>0);window.setTimeout(function(){h.onBrowsing=false;},300);if(!f){D(h,g,d,i);}h.set("currentFolder",i);h.set("currentPage",h.currentPage+e);h.updateUpButton(i);if(h.scrollableIncFetch&&d.scrollNode){d.initScroll();d.updateScrollbars();}},R=function(f,e,d){var g=U(f,e,false);g=g||U(f,e,true);if(!g){window.clearTimeout(f._btm);f._btm=window.setTimeout(function(){f.booklet.set("waiting",true);},300);d.ob=f;d.item=e;f.getDataProvider().fetchFolderContents(f,e,d);}else{J(f,e,g.cache,true,g.steps);}},C=function(e,f,g,d){R(e,{fid:e.pageCache[e.currentPage].did,blockBegin:f,searchPattern:g,recursive:d},O);},K={success:function(e){var f=this.ob;if(f){window.clearTimeout(f._btm);if(!e.items){e.items=[{did:"empty",n:"("+mstrmojo.desc(2210)+")",t:"e"}];}var d=function h(j){var m=j.length,k;for(k=0;k<m;k++){var l=j[k];if(l.did===G||l.did===V){l.n=(l.did===G)?mstrmojo.desc(8112):mstrmojo.desc(9277);}if(l.items){d(l.items);}}};if(e.did===G||e.did===V){e.n=(e.did===G)?mstrmojo.desc(8112):mstrmojo.desc(9277);if(e.anc&&e.anc.items){d(e.anc.items);}}if(e&&e.items&&f.browsableViewMedias){var g={};L.forEach(f.browsableViewMedias.split(","),function(i){g[parseInt(i,10)]=true;});e.items=L.filter(e.items,function(i){return(i.t!==S.DssTypeDocumentDefinition)||g[i.dvm];});}if(e&&e.items&&mstrApp&&mstrApp.isSingleTier){e.items=L.filter(e.items,function(i){return(i.st!==772);});}if(f.isImportFromCube){e.items=L.filter(e.items,function(i){return(i.et!==P.DSSExType.DSSEXDISPARK);});}if(e.did&&this.item.k!==e.did){this.item.k=e.did;}J(f,this.item,e,false,1);this.ob=null;this.item=null;}},failure:function(d){this.ob.booklet.set("waiting",false);if(this.ob.onError){this.ob.onError(d);}else{if(d.getResponseHeader){mstrmojo.alert(d.getResponseHeader("X-MSTR-TaskFailureMsg"));}else{mstrmojo.alert(d.message);}}},complete:function(){if(this.ob){this.ob.onBrowsing=false;}}},c=function(f){var e=f.pageCache.length,d;for(d=0;d<e;d++){f.pageCache[d]._w.destroy();}f.pageCache=[];f.currentPage=-1;f.cacheChange();},N=function(g,f,h){var d=g.onBrowseFolder;if(d){d[0][d[1]](f);}if(f&&parseInt(f.acg,10)===33){return ;}var e={};if(f){e.k=f.did;e.fid=f.did;}else{if(g.rootFolderID){e.k=g.rootFolderID;e.fid=g.rootFolderID;}else{if(g.rootFolderType){e.k=g.rootFolderType;e.fty=g.rootFolderType;}else{if(g.folderLinksContextId){e.k=g.folderLinksContextId;}}}}R(g,e,Y.wrapMethods(h,Q.copy(K)));},X=function(i,d,f){if(!f){return d;}var g=i.showCompletePath,k=d[0],h,e;while(k){var j;for(j=f.length-1;j>=0;j--){if(k.did===f[j].did){f.splice(j,1);k._isSc=true;}}e=k;k._open=true;k=k.items;k=k&&k[0];if(!k){e.lastLeaf=true;}}if(!g){k=d[0];while(k){if(k._isSc){d[0]=k;break;}k=k.items;k=k&&k[0];}}return d.concat(f);},W=function(e,d,f){e._naviInfo=X(e,d,f);};mstrmojo.ObjectBrowser=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.ObjectBrowser",rootFolderType:null,rootFolderID:null,sId:null,closeOnSelect:true,browsableTypes:null,browsableViewMedias:null,includeObjectDesc:false,closeable:true,fishEyeVisible:false,searchVisible:true,upButtonVisible:false,currentFolder:null,pageCache:[],currentPage:-1,blockCount:50,canGoUp:true,folderLinksContextId:null,minSearchLength:2,showCompletePath:true,multiSelect:false,onCloseCB:null,onSelectCB:null,onBrowseFolder:null,scrollableIncFetch:false,useBothSglDblSelect:false,displaySaveLabel:false,useOldSearch:false,getDataProvider:function(){if(!this.dataProvider){this.dataProvider=mstrmojo.insert({scriptClass:"mstrmojo.ObjectBrowserDataProvider"});}return this.dataProvider;},markupMethods:{onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}},children:[{scriptClass:"mstrmojo.HBox",alias:"titleBar",cssClass:"mstrmojo-OB-titleTable",children:[{alias:"saveLabel",scriptClass:"mstrmojo.Label",cssClass:"msrmojo-save-label",text:mstrmojo.desc(3178,"Save in:"),bindings:{visible:"this.parent.parent.displaySaveLabel"}},{alias:"title",scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-FormatEditor-DropDownButton",cssText:"margin:0px;",popupRef:{scriptClass:"mstrmojo.Popup",alias:"popup",contentNodeCssClass:"mstrmojo-OBNavigatorPopup",cssText:"position:relative;",slot:"popupNode",locksHover:true,onOpen:function(){var d=this.opener.parent.parent,g=this.tree,f=d._naviInfo,e=this.parent.parent.parent.extraDDItems;if(g.items!==f){g._pup=this;this.ob=d;if(e){L.forEach(e,function(h){h.isExtra=true;});f=f.concat(e);}g.set("items",f);}if(d.getRecents&&!mstrApp.isSingleTier){d.getRecents(this);}},children:[{alias:"tree",scriptClass:"mstrmojo.WidgetTree",itemIdField:"did",itemFunction:function(h,d,e){var g=mstrmojo.WidgetTree.prototype.itemFunction(h,d,e);if(h.isExtra){if(h.cssClass){g.cssClass=h.cssClass;}g.onmousedown=h.onmousedown||mstrmojo.emptyFn;return g;}if(h._open){g.state=1;}g._ll=!!h.lastLeaf;g._pup=e._pup;g.onmousedown=function(i){var j=mstrmojo.dom.eventTarget(i.hWin,i.e),k=this._pup;if(j===this.domNode||j===this.textNode){if(!this._ll){N(k.ob,this.data);}k.close();}};g.markupMethods=Q.copy(g.markupMethods);g.markupMethods.onstateChange=function(){var i=this.data.items?this.state:0;this.stateNode.className="mstrmojo-TreeNode-state "+({0:"closed",1:"opened",2:"leaf"}[i]||"closed");this.itemsContainerNode.style.display=(i===1)?"block":"none";};g.useRichTooltip=true;var f=g.postBuildRendering;g.postBuildRendering=function(){if(f){f.call(g);}if(g.textNode.parentNode.clientWidth){g.textNode.style.width=(g.textNode.parentNode.clientWidth-20)+"px";}};g.premouseover=function(k){if(this.useRichTooltip){var j=this.textNode;if(j.clientWidth<j.scrollWidth){var i=E.position(j);this.richTooltip={areaId:this.id,cssClass:"vi-regular vi-tooltip-C",contentNodeCssClass:"regular-unitlist-tooltips",posType:mstrmojo.tooltip.POS_TOPLEFT,content:A.encodeHtmlString(this.data[this.itemDisplayField]),top:i.y-2,left:i.x+i.w+6};}else{this.richTooltip=null;}mstrmojo.dom.stopPropogation(k.hWin,k.e);}return true;};return g;}}]}},{alias:"upButton",scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-OBListItemIcon up",title:mstrmojo.desc(1152,"Up One Level"),onclick:function(){this.parent.parent.goUp();},bindings:{enabled:"this.parent.parent.canGoUp",visible:"this.parent.parent.upButtonVisible"}},{alias:"closebtn",scriptClass:"mstrmojo.Button",iconClass:"mstrmojo-OBCloseButton",title:mstrmojo.desc(2102,"Close"),bindings:{visible:"this.parent.parent.closeable"},onclick:function(){this.parent.parent.close();}}]},{alias:"fishEye",scriptClass:"mstrmojo.FishEyeContainer",cssText:"width:100%",bindings:{visible:"this.parent.fishEyeVisible"}},{alias:"searchUpBar",scriptClass:"mstrmojo.HBox",cssClass:"searchBox",children:[{alias:"obSearchBox",scriptClass:"mstrmojo.SearchBox2",cssClass:"mstrmojo-charcoalbox mstrmojo-dxsprite",cssText:"margin: 3px 0; ",contentWidget:mstrmojo.all.obList,taskId:"searchMetadata",searchIncFetch:true,enableMatchCase:false,forceResetCache:true,bindings:{minSearchLength:"this.parent.parent.minSearchLength",quickSearch:"this.parent.parent.quickSearch"},serverRequest:function(d,e){this.parent.parent.getDataProvider().serverRequest(d,e);},preFetch:function(){this.objectTypes=this.parent.parent.browsableTypes||this.objectTypes;this.parent.parent.booklet.set("waiting",true);},postFetch:function(){this.parent.parent.booklet.set("waiting",false);},postBuildRendering:function Z(){if(this._super){this._super();}this.inputNode.setAttribute("placeholder"," "+mstrmojo.desc(12666,"Search..."));},onUpdateSearchParams:function H(f){var e=this.parent.parent,d=e.sId;if(d){f.sessionState=d;}if(e.useOldSearch){f.quickSearch=0;f.nameWildcards=1;f.sortKey=6;}}}],bindings:{visible:"this.parent.searchVisible"}},{scriptClass:"mstrmojo.Booklet",cssClass:"mstrmojo-OB-booklet",alias:"booklet",hasAnimation:false,bindings:{scrollableIncFetch:"this.parent.scrollableIncFetch"}},{alias:"obIncFetch",scriptClass:"mstrmojo.IncFetch",height:"17px",cssText:"height:0px;overflow:hidden;",visible:false,np:0,cp:0,ds:{f:mstrmojo.desc(4046,"First"),p:mstrmojo.desc(1058,"Previous"),n:mstrmojo.desc(1059,"Next"),l:mstrmojo.desc(4049,"Last"),pgs:mstrmojo.desc(5972,"## of ### pages"),gt:mstrmojo.desc(5878,"Go to:"),v:mstrmojo.desc(6079,"This field should be # between ## and ###.")},onvisibleChange:function(e){var g=parseInt(this.height,10),d=this.np>1,f={target:this.domNode,props:{height:{start:(d?0:g),stop:(d?g:0),suffix:"px"}},onEnd:function(){if(d){this.target.style.overflow="visible";}}},i=new mstrmojo.fx.AnimateProp(f);this.domNode.style.overflow="hidden";mstrmojo.css.toggleClass(this.parent.domNode,"show-inc-fetch",this.visible);i.play();},onifsChange:function(d){var e=this.np;mstrmojo.hash.copy(d.value,this);if(this.np>1){this.children=null;this.refresh();}if((e<=1&&this.np>1)||(e>1&&this.np<=1)||(e===0&&this.np>0)){this.set("visible",this.np>1);}this.cssText="";}}],destroy:function b(){c(this);if(this._super){this._super();}},postBuildRendering:function(){if(this._super){this._super();}if(this.fishEye&&this.fishEyeVisible){this.fishEye.attachEventListener("selectedIndexChange",this.id,"onFishEyeChange");}var f=this.searchUpBar;if(f&&f.obSearchBox&&this.searchVisible){this.obSearchBox=this.searchUpBar.obSearchBox;this.obSearchBox.attachEventListener("itemsChange",this.id,"onSearchItemsChange");var d=this.obSearchBox.contentWidget||this.obSearchBox;if(!this.scrollableIncFetch){d.attachEventListener("ifsChange",this.id,function(g){if(!this.scrollableIncFetch){this.obIncFetch.set("ifs",g.value);}});}}if(!this.scrollableIncFetch&&this.obIncFetch){var e=this.obIncFetch;e.attachEventListener("fetch",this.id,function(g){e.cp=g.v;e.children=null;e.refresh();C(this,(g.v-1)*this.blockCount+1,this.searchVisible?this.obSearchBox.inputNode.value:"",1);});}mstrmojo.css.addClass(this.domNode,"mstrmojo-ObjectBrowser");},onSearchItemsChange:function(e){var f=e.value,d=this.pageCache[this.currentPage]._w;if(!f||f.length===0){f=[{did:"empty",n:"("+mstrmojo.desc(2210,"")+")",t:"e"}];}else{if(this.browsableViewMedias){var g={};L.forEach(this.browsableViewMedias.split(","),function(h){g[parseInt(h,10)]=true;});f=L.filter(f,function(h){return(h.t!==S.DssTypeDocumentDefinition)||g[h.dvm];});}}d.set("items",f);},navigate:function(k){var d=k.src,l=d.selectedItem,f=this.multiSelect,i=f&&d.getSelectedItems(),j=this,e=k.added&&k.added.length,h=k.removed&&k.removed.length,g=f?i.length===1&&(!h||e):!!l;if(g&&l.did==="empty"){return ;}if(g&&parseInt(l[M],10)===8){if(!this.onBrowsing){this.onBrowsing=true;N(this,l);}}else{if((l&&(!this.useDblSelect||this.useBothSglDblSelect))||i){this.select(f?i:l);}}},browseFolder:function(d,e){N(this,{did:d,n:e});},onFishEyeChange:function(d){this.goToPage(d.value);},goToPage:function(d){if(d<this.pageCache.length&&d!==this.currentPage){var f=d>this.currentPage,e=this.pageCache[d];this.set("currentPage",d);this.booklet.turn(e._w,f);this.set("currentFolder",e);I.call(this,e);}},oncurrentPageChange:function(d){if(this.fishEye){this.fishEye.setSelectedIndex(d.value);}var e=this.pageCache[this.currentPage];this.titleBar.title.set("text",mstrmojo.string.encodeHtmlString(e.n));if(this.searchVisible&&this.obSearchBox){this.obSearchBox.set("rootCacheItems",e.items||[]);this.obSearchBox.set("totalSize",e.sz);this.obSearchBox.set("rootID",e.did);this.obSearchBox.clearSearch();}if(!this.scrollableIncFetch&&this.obIncFetch){this.obIncFetch.set("ifs",{np:Math.floor(e.sz/e.bc)+((e.sz%e.bc>0)?1:0),cp:Math.floor(e.bb/e.bc)+((e.bb%e.bc>0)?1:0)});}},cacheChange:function(){if(this.fishEye&&this.fishEyeVisible){this.fishEye.setItems(this.pageCache);}},browse:function(e,d){Q.copy(e,this);if(this.searchVisible&&this.obSearchBox){this.obSearchBox.clear();}c(this);N(this,undefined,d);},close:function(){var e=this.ctx||this,d=e.onCloseCB;if(d){d[0][d[1]]();}e.set("visible",false);},select:function(e){var d=this.onSelectCB;if(d){d[0][d[1]](e);}if(this.closeOnSelect){this.close();}},dblselect:function T(e){var f=e&&e.src.selectedItem;if(!f||(f&&f.did==="empty")||f[M]===8){return ;}if(this.useBothSglDblSelect){var d=this.onDblSelectCB;if(d){d[0][d[1]](f);}if(this.closeOnSelect){this.close();}}else{this.select(f);}},goUp:function(){if(this.canGoUp){N(this,{did:this.currentFolder.pf});}},updateUpButton:function F(d){I.call(this,d);},oncurrentFolderChange:function(d){var e=d.value;W(this,e.anc.items,e.sc);},refreshContent:function(d){C(this,d);},onError:null,onheightChange:function(){var d=["titleBar","fishEye","searchUpBar","obIncFetch"],f=0,e;for(e in d){f+=parseInt(this[d[e]].domNode.offsetHeight,10);}this.booklet.set("height",parseInt(this.height,10)-f+"px");}});}());(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.mobileConfigUtil","mstrmojo.expr","mstrmojo.validation","mstrmojo.Widget","mstrmojo.ColorPicker","mstrmojo.css");var A=mstrmojo.mobileConfigUtil,O=mstrmojo.hash,H="mstrmojo.all.ipadHomescreen_tab.model.data.dt == 2 || mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 1";isAndroid="mstrmojo.all.ipadHomescreen_tab.model.data.dt == 3 || mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 4";var L={};L[A.ACT_RUNREPORT]="../images/icon_report.gif";L[A.ACT_BROWSEFOLDER]="../images/icon_folder.gif";L[A.ACT_SHAREDLIBRARY]="../javascript/mojo/css/images/shared_library.png";var Q=[{v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)},{v:A.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816)}],R=[{v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)},{v:A.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816)}],J=[{v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812)},{v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813)}];mstrmojo.ipadHomescreen_tab=mstrmojo.insert({id:"ipadHomescreen_tab",scriptClass:"mstrmojo.VBox",n:mstrmojo.desc(7769),model:null});var I=mstrmojo.ipadHomescreen_tab;function C(S,T,U){return{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",label:T,cssText:"margin: 5px 10px 5px 0",cssDisplay:"block",value:S,bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){I.model.data.hsc.set("tp",S);},slot:U};}function F(S){return O.copy(S,{scriptClass:"mstrmojo.ValidationTextBox",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},required:true,readOnly:true,onenabledChange:function(){this.required=this.enabled;this.validate();if(!this.required){this.onValid();}},onValid:function(){if(I.model){I.model.validate();}},onInvalid:function(){if(I){I.model.set("validFlag",false);}}});}function P(T,W,V,U){var S={scriptClass:"mstrmojo.CheckBox",name:"enables",label:T,cssText:"margin-left:10px;",bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.cst.fmt.vw."+W},onclick:function(){I.model.data.hsc.cst.fmt.vw[W]=this.checked;},slot:V};if(U===A.DEVICE_IOS){S.bindings.visible=H;}else{if(U===A.DEVICE_ANDROID){S.bindings.visible=isAndroid;}}return S;}var K=mstrmojo.insert({id:"ipadGeneralSettings",scriptClass:"mstrmojo.FieldSet",cssClass:"homescreen-fieldset",cssText:"height:150px;width:450px",legend:mstrmojo.desc(295),children:[{scriptClass:"mstrmojo.Table",cssText:"margin-left: 20px;",cellSpacing:8,rows:2,cols:1,children:[P(mstrmojo.desc(9015),"rpt","0,0",A.DEVICE_IOS),P(mstrmojo.desc(9756),"rpt","0,0",A.DEVICE_ANDROID),{scriptClass:"mstrmojo.FieldSet",cssClass:"mstrmojo-FieldSet-noborder",cssText:"margin-left:22px",legend:mstrmojo.desc(9016),children:[{scriptClass:"mstrmojo.Table",rows:2,cols:1,children:[P(mstrmojo.desc(7831),"stg","0,0"),P(mstrmojo.desc(1143),"hlp","1,0")]}],slot:"1,0"}]}]});function E(S){return{id:S.id,scriptClass:"mstrmojo.WidgetList",alias:"itemList",cssClass:"ipadItemList",cssText:"width:250px",makeObservable:true,renderOnScroll:false,bindings:{items:S.itemsBinding},itemFunction:function(V,T,X){var U=V.act||V;var W=new mstrmojo.Widget({markupString:"<div class='ipadItem'><img class='ipadItemIcon' src='{@icon}'><div class='ipadItemText'>{@text}</div></div>",markupSlots:{iconNode:function(){return this.domNode.firstChild;},textNode:function(){return this.domNode.lastChild;}},markupMethods:{oniconChange:function(){this.iconNode.src=this.icon;},ontextChange:function(){this.textNode.innerHTML=this.text;var f=this.domNode.parentNode;if(f&&f.parentNode&&f.parentNode.children){var Z=f.parentNode.children;var d=Z[0].lastChild.lastChild.clientWidth;var a=1;while(Z[a]){var Y=Z[a].lastChild.lastChild.clientWidth;if(Y>d){d=Y;}a++;}var c=d+30+10;var e=f.parentNode;var b=e.parentNode&&e.parentNode.clientWidth;e.style.width=c>b?c+"px":b+"px";}},onselectedChange:function(){mstrmojo.css.toggleClass(this.domNode,["selected"],this.selected);},ontitleChange:function(){this.textNode.title=this.title;}},postBuildRendering:function(){var Y=this.domNode.parentNode.parentNode;var Z=Y.parentNode.clientWidth;if(Z){var a=this.textNode.clientWidth+30+10;if(Y.maxWidth==undefined||a>Y.maxWidth){Y.maxWidth=a;}Y.style.width=Y.maxWidth>Z?Y.maxWidth+"px":Z+"px";}},update:function(){var Y;switch(U.tp){case A.ACT_BROWSEFOLDER:Y=U.fd&&U.fd.oi&&U.fd.oi.n;break;case A.ACT_RUNREPORT:Y=U.rs&&U.rs.oi&&U.rs.oi.n;break;case A.ACT_SHAREDLIBRARY:Y=mstrmojo.desc(7832);break;}this.set("icon",L[U.tp]);this.set("text",Y||"");this.set("title",Y||"");if(V.cap){V.cap.txt=Y;}}});W.update();U.attachEventListener("tpChange",W.id,"update");U.attachEventListener("rsChange",W.id,"update");U.attachEventListener("fdChange",W.id,"update");if(!U.rs){U.set("rs",new mstrmojo.Obj());}U.rs.attachEventListener("oiChange",W.id,"update");if(!U.fd){U.set("fd",new mstrmojo.Obj());}U.fd.attachEventListener("oiChange",W.id,"update");return W;}};}function M(W){var U=W.listTitle,S=W.defaultButtonType,V=W.itemList,T=V.id;return{cssClass:"homescreen-leftPanel",cssText:"height:400px;width:auto;",scriptClass:"mstrmojo.Table",cols:1,rows:3,children:[{scriptClass:"mstrmojo.Label",text:U,cssText:"height:20px;font-size:14px;width:260px;white-space:nowrap;",slot:"0,0"},O.copy({slot:"2,0"},V),{scriptClass:"mstrmojo.Button",text:"+",title:mstrmojo.desc(7822),cssClass:"ipadItemList-add",onclick:function(){var Y=mstrmojo.all[T];if(S==A.DEFAULT_IPAD_HOMESCREEN_BUTTON){if(I.model.defaultButton===undefined){var Z=this;I.model.getDefaultConfig(A.DEFAULT_IPAD_HOMESCREEN_BUTTON,function(a){I.model.defaultButton=a;Z.onclick();});}else{var X=Y.add([A.makeButtonHashable(O.clone(I.model.defaultButton))]);Y.set("selectedIndex",X);}}else{if(S==A.DEFAULT_IPAD_PRECACHE_BUTTON){var X=Y.add([new mstrmojo.Obj({tp:A.ACT_RUNREPORT,rs:new mstrmojo.Obj({pcc:true})})]);Y.set("selectedIndex",X);}}},slot:"1,0"},{scriptClass:"mstrmojo.Button",text:"x",title:mstrmojo.desc(7823),cssClass:"ipadItemList-remove",bindings:{enabled:"this.parent.itemList.selectedIndex > -1"},onclick:function(){var Y=this.parent.itemList,X=Y.selectedIndex;if(Y.selectedItem){Y.remove(Y.selectedItem);}if(X===Y.items.length){X--;}Y.set("selectedIndex",X);},slot:"1,0"},{scriptClass:"mstrmojo.Button",cssClass:"ipadItemList-movedown",title:mstrmojo.desc(139),bindings:{enabled:"this.parent.itemList.selectedIndex > -1 && this.parent.itemList.selectedIndex < this.parent.itemList.items.length-1"},onclick:function(){var Y=this.parent.itemList,X=Y.selectedIndex;if(X>-1&&X<Y.items.length-1){var Z=Y.selectedItem;Y.remove(Z);Y.add([Z],X+1);Y.set("selectedIndex",X+1);}},slot:"1,0"},{scriptClass:"mstrmojo.Button",cssClass:"ipadItemList-moveup",title:mstrmojo.desc(138),bindings:{enabled:"this.parent.itemList.selectedIndex > 0"},onclick:function(){var Y=this.parent.itemList,X=Y.selectedIndex;if(X>0&&X<Y.items.length){var Z=Y.selectedItem;Y.remove(Z);Y.add([Z],X-1);Y.set("selectedIndex",X-1);}},slot:"1,0"},{scriptClass:"mstrmojo.Label",cssText:"clear:both",slot:"1,0"}]};}function D(S){var U=S.forcePreCache;return{scriptClass:"mstrmojo.FieldSet",cssClass:"homescreen-fieldset",cssText:"height:230px; width: 465px",legend:mstrmojo.desc(4878),children:[{scriptClass:"mstrmojo.VBox",cssText:"margin: 15px 0 0 15px",bindings:{action:S.actionBinding,visible:"!!this.action"},children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(762)+":"},{scriptClass:"mstrmojo.SelectBox",size:1,bindings:{isIOS:H,items:S.actionItemsBinding,selectedItem:"{v:this.parent.parent.action.tp}"},onchange:function(){var V=this.parent.parent.action,W;if(V){W=this.selectedItem.v;V.set("tp",W);}}}]},{scriptClass:"mstrmojo.FieldSet",cssText:"width:430px;height:160px;margin-top:10px",alias:"stack",children:[{v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812),layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]}],scriptClass:"mstrmojo.Table",bindings:{act:"this.parent.parent.action",visible:"this.act && this.act.tp === this.v "},onvisibleChange:function(){if(this.visible){if(!this.act.rs){this.act.set("rs",new mstrmojo.Obj());}if(U){this.act.rs.set("pcc",true);}}},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3319),cssText:"width: 40px",slot:"0,0"},F({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"this.parent.visible",value:"this.parent.act.rs.oi.pt"},slot:"0,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{target:"this.parent.act"},slot:"0,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8487),bindings:{checked:"this.parent.act.rs.pcc",enabled:U?"false":"this.parent.act.rs != null"},onclick:function(){this.parent.act.rs.set("pcc",this.checked);this.parent.act.rs.set("pcf",undefined);},slot:"1,0"},{scriptClass:"mstrmojo.CheckBox",alias:"el",label:mstrmojo.desc(12422),bindings:{enabled:"this.parent.act.rs && this.parent.act.rs.pcc",checked:"this.parent.act.rs.el"},onclick:function(){this.parent.act.rs.set("el",this.checked);},slot:"2,0"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(8488),cssText:"margin: 2px 0 2px 5px",slot:"3,1"},{scriptClass:"mstrmojo.TextBox",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",value:"this.parent.act.rs.pcf.oi.pt"},slot:"4,1"},A.createObjBrowserDropdown({targetType:"pcf",bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",target:"this.parent.act.rs",isIOS:H,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"4,2"}),{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:H,folder:"this.parent.act.rs.pcf",enabled:"this.parent.act.rs && this.parent.act.rs.pcc && this.folder && !(this.folder.oi.t==67)",lwr:"this.parent.act.rs.lwr",target:function(){return this.parent.act.rs;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.parent.act.rs.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function T(){var V=this._lastOpened;if(V&&V.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"5,1"}]},{v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813),scriptClass:"mstrmojo.Table",layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],bindings:{act:"this.parent.parent.action",visible:"this.act && this.act.tp == this.v"},onvisibleChange:function(){if(this.visible){if(!this.act.fd){this.act.set("fd",new mstrmojo.Obj());}if(U){this.act.fd.set("pcc",true);}}},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7818),cssText:"width: 40px",slot:"0,0"},F({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"this.parent.visible",value:"this.parent.act.fd.oi.pt"},slot:"0,1"}),A.createObjBrowserDropdown({targetType:"fd",bindings:{target:"this.parent.act",isIOS:H,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"0,2",allowCheckSubscription:true}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),bindings:{enabled:"this.parent.act.fd != null && !(this.parent.act.fd.oi.t==67)",checked:"!(this.parent.act.fd.oi.t==67) && this.parent.act.fd.csp"},onclick:function(){this.parent.act.fd.csp=this.checked;},slot:"1,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),bindings:{enabled:U?"false":"this.parent.act.fd != null",checked:"this.parent.act.fd.pcc"},onclick:function(){this.parent.act.fd.set("pcc",this.checked);},slot:"2,0"},{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:H,folder:"this.parent.act.fd",enabled:"this.folder && this.folder.oi && this.folder.pcc && !(this.folder.oi.t==67)",lwr:"this.folder.lwr",target:function(){return this.parent.act.fd;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.folder.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function T(){var V=this._lastOpened;if(V&&V.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"3,0"}]},{v:A.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816),scriptClass:"mstrmojo.Label"}]}]}]};}function B(){var U=E({id:"ipadItemList",itemsBinding:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.cst.btns"}),T=M({listTitle:mstrmojo.desc(7891),defaultButtonType:A.DEFAULT_IPAD_HOMESCREEN_BUTTON,itemList:U}),S=D({actionBinding:"mstrmojo.all.ipadItemList.selectedItem.act",actionItemsBinding:function(){return this.isIOS?Q:R;}});return{id:"customIpadHomescreen",scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:auto",bindings:{visible:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM"},children:[T,{scriptClass:"mstrmojo.VBox",children:[K,S]}]};}I.createPreCacheHomescreen=function(T,W){var U=E({id:T,itemsBinding:"this.parent.parent.homescreen.model.data.hsc.rs.sobs"}),S=M({listTitle:mstrmojo.desc(8628),defaultButtonType:A.DEFAULT_IPAD_PRECACHE_BUTTON,itemList:U}),V=D({actionBinding:"mstrmojo.all."+T+".selectedItem",actionItemsBinding:function(){return J;},forcePreCache:true});return{scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:auto",bindings:{homescreen:W,visible:"this.homescreen.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},children:[S,V]};};I.createProgressBarHomescreen=function(S){return{scriptClass:"mstrmojo.Table",cssText:"width:auto;margin-left:25px",bindings:{homescreen:S,visible:"this.homescreen.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD && ("+H+")"},layout:[{cells:[{colSpan:2}]},{cells:[{cssText:"width:90px"},{}]}],children:[{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(9066),bindings:{checked:"this.parent.homescreen.model.data.hsc.rs.pb.iv"},onclick:function(){if(this.parent.homescreen.model.data.hsc.rs.pb){this.parent.homescreen.model.data.hsc.rs.pb.set("iv",this.checked);}},slot:"0,0"},{scriptClass:"mstrmojo.Label",cssText:"margin-left:30px",text:mstrmojo.desc(2060),slot:"1,0"},O.copy({slot:"1,1"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,showNoColor:false,bindings:{enabled:"this.parent.homescreen.model.data.hsc.rs.pb.iv",fillColor:function(){return mstrmojo.color.decodeColor(this.parent.homescreen.model.data.hsc.rs.pb.clr);}},onfillColorChange:function(T){if(this.fillColor){this.parent.homescreen.model.data.hsc.rs.pb.clr=mstrmojo.color.encodeColor(this.fillColor);}}}))]};};var N=mstrmojo.insert({scriptClass:"mstrmojo.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",label:mstrmojo.desc(7797),cssText:"margin: 5px 10px 5px 0",cssDisplay:"block",value:A.HOMESCREEN_DEFAULT,bindings:{checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){I.model.data.hsc.set("tp",v);},slot:"0,0",getDefaultHomeScreen:function(){var S=I.model.data.hsc,T=(mstrApp.device==A.DEVICE_IPAD)?A.DEFAULT_IPAD_CUSTOM_HOMESCREEN:A.DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN;I.model.getDefaultConfig(T,function(U){A.makeCSTHomescreenHashable({cst:U});S.set("tp",A.HOMESCREEN_DEFAULT);S.set("cst",U);});},onclick:function(){this.getDefaultHomeScreen();}},C(A.HOMESCREEN_FOLDER,mstrmojo.desc(7798),"1,0"),F({cssText:"margin-left:5px;width:300px;",bindings:{enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",value:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd.oi.pt"},slot:"1,1"}),A.createObjBrowserDropdown({targetType:"fd",bindings:{target:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",isIOS:H,browsableTypes:"this.isIOS ? '8,17153':'8'"},slot:"1,2",allowCheckSubscription:true}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER && !(this.folder.oi.t==67)",checked:"!(this.folder.oi.t==67) && this.folder.csp"},onclick:function(){if(this.folder!=null){this.folder.csp=this.checked;}},slot:"2,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.pcc"},onclick:function(){if(this.folder!=null){this.folder.set("pcc",this.checked);}},slot:"3,0"},{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",cssText:"margin-left: 21px",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:H,folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder && this.folder.oi && this.folder.pcc && !(this.folder.oi.t==67)",lwr:"this.folder.lwr",target:function(){return this.folder;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.folder.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function G(){var S=this._lastOpened;if(S&&S.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"4,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen_X",label:mstrmojo.desc(7800),cssDisplay:"block",bindings:{checked:function(){var S=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return S===A.HOMESCREEN_RD||S===A.HOMESCREEN_CUSTOM;}},onclick:function(){this.parent.rsHSTRadio.onclick();},slot:"5,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",alias:"rsHSTRadio",label:mstrmojo.desc(7799),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:A.HOMESCREEN_RD,bindings:{visible:function(){var S=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return S==A.HOMESCREEN_RD||S==A.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},oncheckedChange:function(){if(this.checked!==undefined){var S=I.model.data.hsc;if(this.checked){if(!S.rs){S.set("rs",new mstrmojo.Obj({sobs:[],pb:new mstrmojo.Obj({iv:false,clr:14540253,pos:1,opa:1})}));}}}},onclick:function(){var S=I.model.data.hsc;S.set("tp",A.HOMESCREEN_RD);},slot:"6,0"},F({cssText:"margin-left:5px;width:300px;",bindings:{visible:function(){var S=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return S==A.HOMESCREEN_RD||S==A.HOMESCREEN_CUSTOM;},enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD",value:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.rs.oi.pt"},slot:"6,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{visible:function(){var S=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return S==A.HOMESCREEN_RD||S==A.HOMESCREEN_CUSTOM;},target:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"6,2"}),O.copy({slot:"7,0"},I.createPreCacheHomescreen("ipadPreCacheItemList","mstrmojo.all.ipadHomescreen_tab")),O.copy({slot:"8,0"},I.createProgressBarHomescreen("mstrmojo.all.ipadHomescreen_tab")),{scriptClass:"mstrmojo.RadioButton",alias:"customHSTRadio",name:"ipadHomescreen",label:mstrmojo.desc(8629),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:A.HOMESCREEN_CUSTOM,bindings:{visible:function(){var S=mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp;return S==A.HOMESCREEN_RD||S==A.HOMESCREEN_CUSTOM;},checked:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){var S=I.model.data.hsc;if(S.cst===undefined){I.model.getDefaultConfig(A.DEFAULT_IPAD_CUSTOM_HOMESCREEN,function(T){A.makeCSTHomescreenHashable({cst:T});S.set("cst",T);S.set("tp",A.HOMESCREEN_CUSTOM);});}else{S.set("tp",A.HOMESCREEN_CUSTOM);}},slot:"9,0"},O.copy({slot:"10,0"},B())]});I.addChildren(N);})();(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.ColorPicker","mstrmojo.List","mstrmojo.Label","mstrmojo.css");var D={"0":[mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"100",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"0;"+mstrmojo.desc(4885,"X Offset:")+"50;"+mstrmojo.desc(4886,"Y Offset:")+"50;"+mstrmojo.desc(4875,"(Flash Only)")],"90":[mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"0;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"100;"+mstrmojo.desc(4886,"Y Offset:")+"0",mstrmojo.desc(4883,"Transition Type:")+mstrmojo.desc(4888,"Linear")+";"+mstrmojo.desc(4884,"Angle:")+"90;"+mstrmojo.desc(4885,"X Offset:")+"50;"+mstrmojo.desc(4886,"Y Offset:")+"50;"+mstrmojo.desc(4875,"(Flash Only)")]};var C={"0":[{x:0,y:0},{x:100,y:0},{x:50,y:0}],"90":[{x:0,y:0},{x:0,y:100},{x:0,y:50}]};function A(H,G){return mstrmojo.ColorPicker.createDropDown(mstrmojo.hash.copy(H,{onfillColorChange:function(){if(this.boxNode){this.boxNode.style.backgroundColor=this.fillColor;}this.parent.parent.parent.geModel.set((G===0?"FillColor":"GradientColor"),this.fillColor);},bindings:{fillColor:function(){return this.parent.parent.parent.geModel[["FillColor","GradientColor"][G]];}}}));}function F(H,J){var G={"20":" half t","21":" half l","30":" half b","31":" half r"};var I=H==3?H-1:H;return mstrmojo.hash.copy(J,{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-GradientEditor-preview p"+H,alias:"p"+H,bindings:{cssText:function(){var N=this.parent.parent.parent.geModel;if(N){var L=this.parent.parent.parent.geModel.FillColor,K=this.parent.parent.parent.geModel.GradientColor,P=this.parent.parent.parent.geModel.GradientAngle,M=P==90?0:1,O=(H==1||H==2)?mstrmojo.css.buildGradient(M,K,L):mstrmojo.css.buildGradient(M,L,K);if(H>=2){this.domNode.className=this.cssClass+G[H+""+M];}this.domNode.title=D[P][I];N.css=O.n+":"+O.v;return N.css;}}},onclick:function(){var K=this.parent.parent.parent.geModel,L=C[K.GradientAngle][I];K.set("GradientXOffset",L.x);K.set("GradientYOffset",L.y);}});}var E=function(G){var K=G.shade.preview.preview_bg.variantIndex;var L=["FillStyle","FillColor","GradientColor","GradientXOffset","GradientYOffset","GradientAngle"],J=G.geModel,I={};for(var H in L){if(typeof (J[L[H]])!="undefined"){I[L[H]]=J[L[H]];}}I.css=G.shade.preview["p"+(K==2?0:K)].cssText;G.set("gradient",I);};var B={GradientXOffset:0,GradientYOffset:0,GradientAngle:0,FillColor:"#FFFFFF",GradientColor:"#000000"};mstrmojo.GradientEditor=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.GradientEditor",useShadow:true,title:mstrmojo.desc(7971,"Gradient Editor"),model:null,onOK:null,onCancel:null,onmodelChange:function(){this.set("geModel",mstrmojo.hash.make(this.model||B,mstrmojo.Obj));},init:function(G){this._super(G);this.shadowCssClass=this.useShadow?"shadow":"";this.cssClass="mstrmojo-GradientEditor "+this.cssClass;},postBuildRendering:function(){if(this._super){this._super();}this.set("geModel",mstrmojo.hash.make(B,mstrmojo.Obj));},children:[{scriptClass:"mstrmojo.FieldSet",alias:"color",cssClass:"color",legend:mstrmojo.desc(4880,"Colors"),children:[{scriptClass:"mstrmojo.Table",rows:2,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4881,"Color 1"),slot:"0,0"},A({slot:"0,1"},0),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4882,"Color 2"),slot:"1,0"},A({slot:"1,1"},1)]}]},{scriptClass:"mstrmojo.FieldSet",alias:"shade",cssClass:"shade",legend:mstrmojo.desc(4948,"Shading Styles"),children:[{scriptClass:"mstrmojo.List",cssClass:"orientation mstrmojo-radio-list",alias:"angle",items:[{n:mstrmojo.desc(4957,"Horizontal"),v:0},{n:mstrmojo.desc(4949,"Vertical"),v:90}],onchange:function(G){var H=this.parent.parent.geModel,K=this.parent.preview.preview_bg.variantIndex;if(H&&typeof (K)!="undefined"&&K!=-1){var J=this.selectedItem.v,I=C[J][K];H.set("GradientAngle",J);H.set("GradientXOffset",I.x);H.set("GradientYOffset",I.y);}},bindings:{variantIndex:function(){return this.parent.preview.preview_bg.variantIndex;},selectedIndex:function(){var G=this.parent.parent.geModel;if(G){var H=G&&G.GradientAngle||0;return H==90?1:0;}return -1;}}},{scriptClass:"mstrmojo.Container",alias:"preview",cssClass:"mstrmojo-GradientEditor-previewbox",markupString:'<div class="{@cssClass}"></div>',markupSlots:{containerNode:function(){return this.domNode;}},children:[F(0),F(1),F(2),F(3),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(4875,"(Flash Only)"),cssClass:"mstrmojo-GradientEditor-preview p2 label"},{scriptClass:"mstrmojo.Label",alias:"preview_bg",cssClass:"mstrmojo-GradientEditor-preview bg",onvariantIndexChange:function(){var G=this.domNode;if(G){G.className=this.cssClass+" show p"+this.variantIndex;}},bindings:{variantIndex:function(){var G=this.parent.parent.parent.geModel;if(G){var H=this.parent.parent.parent.geModel.GradientAngle==90?this.parent.parent.parent.geModel.GradientYOffset:this.parent.parent.parent.geModel.GradientXOffset;return{"0":0,"100":1,"50":2}[H];}return -1;}}}]}]},{scriptClass:"mstrmojo.HBox",cssClass:"mstrmojo-Editor-buttonBar",slot:"buttonNode",children:[new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(1442,"OK"),function(){var G=this.parent.parent;G.close();E(G);if(G.onOK){G.onOK();}},"#999",{alias:"ok",cssClass:"mstrmojo-Editor-button"}),new mstrmojo.Button.newInteractiveButton(mstrmojo.desc(2140,"Cancel"),function(){var G=this.parent.parent;G.close();if(G.onCancel){G.onCancel();}},"#999",{alias:"cancel",cssClass:"mstrmojo-Editor-button"})]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.hash","mstrmojo.dom","mstrmojo.css","mstrmojo.color","mstrmojo.mobileConfigUtil","mstrmojo.WidgetTileList","mstrmojo.ColorPicker","mstrmojo.ButtonPreview","mstrmojo.ipadHomescreen_tab");var A=mstrmojo.mobileConfigUtil,Q=mstrmojo.hash,I="mstrmojo.all.iphoneHomescreen_tab.model.data.dt == 1";var P=function(W){return(W<=4)?{rc:4,cc:1}:((W<=6)?{rc:3,cc:2}:{rc:3,cc:3});};var V={};V[A.ACT_FAVOURITES]="../javascript/mojo/css/images/favorites.png";V[A.ACT_SETTINGS]="../javascript/mojo/css/images/settings.png";V[A.ACT_SHAREDLIBRARY]="../javascript/mojo/css/images/shared_library.png";V[A.ACT_HELP]="../javascript/mojo/css/images/help.png";V[A.ACT_BROWSEFOLDER]="../javascript/mojo/css/images/folder_hs.png";V[A.ACT_RUNREPORT]={graph:"../javascript/mojo/css/images/graph_hs.png",doc:"../javascript/mojo/css/images/document_hs.png","default":"../javascript/mojo/css/images/grid_hs.png"};mstrmojo.iphoneHomescreen_tab=mstrmojo.insert({scriptClass:"mstrmojo.VBox",id:"iphoneHomescreen_tab",n:mstrmojo.desc(7769),model:null});var S=mstrmojo.iphoneHomescreen_tab;var K=mstrmojo.insert({id:"buttonTileList",scriptClass:"mstrmojo.WidgetTileList",cssClass:"iphoneTileList",usePaging:true,makeObservable:true,listSelector:mstrmojo.ListSelector,renderOnScroll:false,bindings:{fillColor:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp===mstrmojo.mobileConfigUtil.BACKGROUND_FILL){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.tp===mstrmojo.mobileConfigUtil.FILL_SOLID){return mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.clr;}}},items:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.btns",layout:"{row: mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btnl.rc, col: mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btnl.cc}",selectedIndex:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp==1){return -1;}else{return this.selectedIndex;}}},markupMethods:Q.copy(mstrmojo.WidgetTileList.prototype.markupMethods,{onfillColorChange:function(){if(this.fillColor!==undefined){this.domNode.style.cssText="background-color:"+mstrmojo.color.decodeColor(this.fillColor);}else{this.domNode.style.cssText="background-Color: transparent";}}}),itemFunction:function(Y,X,Z){var W=new mstrmojo.ButtonPreview({bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fll.clr)",style:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.stl",border:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.brd.clr)",fontColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fnt.clr)"},updateCaption:function(a){var b=Y.cap.txt;this.set("caption",mstrmojo.string.encodeHtmlString(b));},updateIcon:function(a){var b;if(Y.icn.tp===mstrmojo.mobileConfigUtil.ICON_DEFAULT){if(Y.act.tp===mstrmojo.mobileConfigUtil.ACT_RUNREPORT){var c="default";if(Y.act.rs&&Y.act.rs.oi.t===55){c="doc";}else{if(Y.act.rs&&Y.act.rs.oi.t===3&&Y.act.rs.oi.st===769){c="graph";}}b=V[Y.act.tp][c];}else{b=V[Y.act.tp];}}else{if(Y.icn.tp===mstrmojo.mobileConfigUtil.ICON_IMAGE){b=Y.icn.img&&Y.icn.img.src;}}this.set("icon",b);},onactionChange:function(a){var b,d,c=Y.act.tp;switch(c){case A.ACT_FAVOURITES:if(mstrApp.device==A.DEVICE_IPHONE){b=mstrmojo.desc(7830);d=mstrmojo.desc(7860);}if(mstrApp.device==A.DEVICE_PHONE_UNIVERSAL){b=mstrmojo.desc(1089);d=mstrmojo.desc(7860);}break;case A.ACT_SETTINGS:b=mstrmojo.desc(7831);d=mstrmojo.desc(7861);break;case A.ACT_SHAREDLIBRARY:b=mstrmojo.desc(7832);d=mstrmojo.desc(7859);break;case A.ACT_HELP:b=mstrmojo.desc(1143);d=mstrmojo.desc(7862);break;case A.ACT_BROWSEFOLDER:d=mstrmojo.desc(7813);break;case A.ACT_RUNREPORT:d=mstrmojo.desc(7812);break;}if(c==A.ACT_BROWSEFOLDER){b=Y.act.fd&&Y.act.fd.oi&&Y.act.fd.oi.n;}else{if(c==A.ACT_RUNREPORT){b=Y.act.rs&&Y.act.rs.oi&&Y.act.rs.oi.n;}}Y.cap.set("txt",b);Y.dsc.set("txt",d);this.updateIcon();}});W.updateCaption();W.updateIcon();if(Y.icn.img===undefined){Y.icn.img=new mstrmojo.Obj({src:""});}Y.cap.attachEventListener("txtChange",W.id,"updateCaption");Y.icn.img.attachEventListener("srcChange",W.id,"updateIcon");Y.icn.attachEventListener("tpChange",W.id,"updateIcon");Y.act.attachEventListener("tpChange",W.id,"onactionChange");Y.act.attachEventListener("rsChange",W.id,"onactionChange");Y.act.attachEventListener("fdChange",W.id,"onactionChange");return W;},onadd:function(){this.updateLayout();},onremove:function(){this.updateLayout();},updateLayout:function(){var W=P(this.items.length);if(!Q.equals(S.model.data.hsc.cst.fmt.btnl,W)){S.model.data.hsc.cst.fmt.set("btnl",W);}},onchange:function(){F.children[0].selector.set("selectedIndex",1);S.model.validate();}});function B(W){return Q.copy(W,{scriptClass:"mstrmojo.ValidationTextBox",dtp:mstrmojo.expr.DTP.VARCHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},required:true,onenabledChange:function(){this.required=this.enabled;this.validate();},onValid:function(){if(S.model){if(this.enabled&&this.value!=null){this.updateModel();}S.model.validate();}},onInvalid:function(){if(S.model){this.invalidateModel();S.model.set("validFlag",false);}},updateModel:function(X){},invalidateModel:function(X){}});}var U=mstrmojo.insert({id:"background",n:mstrmojo.desc(3905),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(7993),name:"bgType",value:A.BACKGROUND_FILL,cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === this.value"},onclick:function(){var W=S.model.data.hsc.cst.fmt.bkg;W.set("tp",this.value);if(W.fll===undefined){W.set("fll",new mstrmojo.Obj());}}},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_FILL",fillColor:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.tp===mstrmojo.mobileConfigUtil.FILL_SOLID){return mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.fll.clr);}}},cssText:"margin-left:10px",onfillColorChange:function(W){if(this.fillColor){S.model.data.hsc.cst.fmt.bkg.fll.set("clr",mstrmojo.color.encodeColor(this.fillColor));S.model.data.hsc.cst.fmt.bkg.fll.set("tp",A.FILL_SOLID);}}})]},{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(2922),name:"bgType",value:2,cssClass:"iphoneSetting-radioButton",cssDisplay:"block",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE"},onclick:function(){var W=S.model.data.hsc.cst.fmt.bkg;if(W.img===undefined){W.set("img",new mstrmojo.Obj({src:""}));}W.set("tp",A.BACKGROUND_IMAGE);}},{scriptClass:"mstrmojo.HBox",cssText:"margin-left: 30px",children:[{scriptClass:"mstrmojo.Label",cssText:"width: 70px",text:mstrmojo.desc(7801)},B({cssText:"margin-left: 5px; width:250px",bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp === mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(W){if(this.required&&!(/^(https|http)\:\/\//i.test(W))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(S.model){S.model.data.hsc.cst.fmt.bkg.img.set("src",this.value);}},invalidateModel:function(){if(S.model){delete S.model.data.hsc.cst.fmt.bkg.img.src;}}}),{scriptClass:"mstrmojo.Label",cssText:"margin-left:5px",text:mstrmojo.desc(7881)}]}]});var D=mstrmojo.insert({id:"titleBarSetting",n:mstrmojo.desc(7806),cssText:"margin-left:-15px",scriptClass:"mstrmojo.Table",cellSpacing:10,rows:2,cols:3,children:[{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(6462)+":",name:"titleType",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR"},onclick:function(){var W=S.model.data.hsc.cst.fmt.ttl;W.set("tp",A.TITLEBAR_REGULAR);if(W.cap===undefined){W.set("cap",new mstrmojo.Obj());}},slot:"0,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width:250px;",bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.cap.txt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR"},onkeyup:function(W){S.model.data.hsc.cst.fmt.ttl.cap.set("txt",this.value);},slot:"0,1"},{scriptClass:"mstrmojo.RadioButton",label:mstrmojo.desc(7801),name:"titleType",bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE",visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3"},onclick:function(){var W=S.model.data.hsc.cst.fmt.ttl;if(W.img===undefined){W.set("img",new mstrmojo.Obj({src:""}));}W.set("tp",A.TITLEBAR_IMAGE);},slot:"1,0"},B({cssText:"width:250px;",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3",value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(W){if(this.required&&!(/^(https|http)\:\/\//i.test(W))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(S.model){S.model.data.hsc.cst.fmt.ttl.img.set("src",this.value);}},invalidateModel:function(){if(S.model){delete S.model.data.hsc.cst.fmt.ttl.img.src;}},slot:"1,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7824),slot:"1,2",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.dt!=3"}}]});var G=mstrmojo.insert({id:"buttonStyle",n:mstrmojo.desc(7802),scriptClass:"mstrmojo.Table",cellSpacing:8,rows:4,cols:2,children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7819),slot:"0,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.brd.clr)"},onfillColorChange:function(W){S.model.data.hsc.cst.fmt.btn.brd.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"0,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7993),slot:"1,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fll.clr)"},onfillColorChange:function(W){S.model.data.hsc.cst.fmt.btn.fll.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"1,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7807)+":",slot:"2,0"},mstrmojo.ColorPicker.createDropDown({showUserPalette:false,useAnimate:false,bindings:{fillColor:"mstrmojo.color.decodeColor(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.fnt.clr)"},onfillColorChange:function(W){S.model.data.hsc.cst.fmt.btn.fnt.set("clr",mstrmojo.color.encodeColor(this.fillColor));},slot:"2,1"}),{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3059),slot:"3,0"},{scriptClass:"mstrmojo.SelectBox",cssText:"width: 105px;",size:1,items:[{n:mstrmojo.desc(7804),v:A.STYLE_GLASS},{n:mstrmojo.desc(7805),v:A.STYLE_FLAT},{n:mstrmojo.desc(2258),v:A.STYLE_NONE}],bindings:{selectedItem:"{v:mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.btn.stl}"},onchange:function(W){S.model.data.hsc.cst.fmt.btn.set("stl",this.selectedItem.v);},slot:"3,1"}]});var O=mstrmojo.insert({id:"caption",n:mstrmojo.desc(6462),scriptClass:"mstrmojo.Table",cellSpacing:15,rows:3,cols:2,layout:[{cells:[{},{}]},{cssText:"vertical-align:top;",cells:[{},{}]},{cells:[{},{}]}],children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(6462)+":",slot:"0,0"},{scriptClass:"mstrmojo.TextBox",cssText:"width: 300px; ",bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.cap.txt"},onkeyup:function(){if(K.selectedItem){K.selectedItem.cap.set("txt",this.value);}},slot:"0,1"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(1154),slot:"1,0"},{scriptClass:"mstrmojo.TextArea",cssText:"width: 300px; height:85px; border: 2px inset #D4D0C8",rows:5,bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.dsc.txt"},onkeyup:function(){if(K.selectedItem){K.selectedItem.dsc.set("txt",this.value);}},slot:"1,1"},{scriptClass:"mstrmojo.Box",cssText:"width:300px; margin-left:5px;",children:[{scriptClass:"mstrmojo.Label",cssText:"font-weight:bold;margin-right:5px;width:100%;",text:mstrmojo.desc(7829)},{scriptClass:"mstrmojo.Label",cssText:"width:100%;word-break:break-word",text:mstrmojo.desc(7808)}],slot:"2,1"}]});var H=mstrmojo.insert({scriptClass:"mstrmojo.StackContainer",cssText:"margin:15px 0 0 15px",children:[mstrmojo.insert({v:A.ACT_RUNREPORT,n:mstrmojo.desc(7812),layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{},{},{}]},{cells:[{},{},{}]}],scriptClass:"mstrmojo.Table",bindings:{act:"mstrmojo.all.buttonTileList.selectedItem.act"},children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(3319),cssText:"width: 40px",slot:"0,0"},B({cssText:"margin-left:5px;width:300px; ",readOnly:true,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && this.parent.act.tp === this.parent.v",value:"this.parent.act.rs.oi.pt"},slot:"0,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{target:"this.parent.act"},slot:"0,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8487),bindings:{checked:"this.parent.act.rs.pcc",enabled:"this.parent.act.rs != null"},onclick:function(){this.parent.act.rs.set("pcc",this.checked);this.parent.act.rs.set("pcf",null);},slot:"1,0"},{scriptClass:"mstrmojo.CheckBox",alias:"el",label:mstrmojo.desc(12422),bindings:{enabled:"this.parent.act.rs && this.parent.act.rs.pcc",checked:"this.parent.act.rs.el"},onclick:function(){this.parent.act.rs.set("el",this.checked);},slot:"2,0"},{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(8488),cssText:"margin: 2px 0 2px 5px",slot:"3,1"},{scriptClass:"mstrmojo.TextBox",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",value:"this.parent.act.rs.pcf.oi.pt"},slot:"4,1"},A.createObjBrowserDropdown({targetType:"pcf",bindings:{enabled:"this.parent.act.rs != null && this.parent.act.rs.pcc",target:"this.parent.act.rs",isIphone:I,browsableTypes:"this.isIphone ? '8,17153':'8'"},slot:"4,2"}),{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:I,folder:"this.parent.act.rs.pcf",enabled:"this.parent.act.rs && this.parent.act.rs.pcc && this.folder && !(this.folder.oi.t==67)",lwr:"this.parent.act.rs.lwr",target:function(){return this.parent.act.rs;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.parent.act.rs.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function C(){var W=this._lastOpened;if(W&&W.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"5,1"}]}),mstrmojo.insert({v:A.ACT_BROWSEFOLDER,n:mstrmojo.desc(7813),scriptClass:"mstrmojo.Table",layout:[{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],bindings:{act:"mstrmojo.all.buttonTileList.selectedItem.act"},children:[{slot:"0,0",scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7818),cssText:"width: 40px"},B({slot:"0,1",cssText:"margin-left:5px;width:300px;",readOnly:true,bindings:{enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && this.parent.act.tp == this.parent.v",value:"this.parent.act.fd.oi.pt"}}),A.createObjBrowserDropdown({slot:"0,2",targetType:"fd",bindings:{target:"this.parent.act",isIphone:I,browsableTypes:"this.isIphone ? '8,17153':'8'"},allowCheckSubscription:true}),{slot:"1,0",scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),bindings:{enabled:"this.parent.act.fd != null && !(this.parent.act.fd.oi.t==67)",checked:"!(this.parent.act.fd.oi.t==67) && this.parent.act.fd.csp"},onclick:function(){this.parent.act.fd.csp=this.checked;}},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),bindings:{enabled:"this.parent.act.fd != null",checked:"this.parent.act.fd.pcc"},onclick:function(){this.parent.act.fd.set("pcc",this.checked);},slot:"2,0"},{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:I,folder:"this.parent.act.fd",enabled:"this.folder && this.folder.oi && this.folder.pcc && !(this.folder.oi.t==67)",lwr:"this.folder.lwr",target:function(){return this.parent.act.fd;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.folder.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function C(){var W=this._lastOpened;if(W&&W.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"3,0"}]}),mstrmojo.insert({v:A.ACT_SETTINGS,n:mstrmojo.desc(7814),scriptClass:"mstrmojo.Label"}),mstrmojo.insert({v:A.ACT_SHAREDLIBRARY,n:mstrmojo.desc(7816),scriptClass:"mstrmojo.Label"}),mstrmojo.insert({v:A.ACT_HELP,n:mstrmojo.desc(7817),scriptClass:"mstrmojo.Label"})]});if(mstrApp.device==A.DEVICE_IPHONE){H.addChildren(mstrmojo.insert({v:A.ACT_FAVOURITES,n:mstrmojo.desc(7815),scriptClass:"mstrmojo.Label"}),2);}if(mstrApp.device==A.DEVICE_PHONE_UNIVERSAL){H.addChildren(mstrmojo.insert({v:A.ACT_FAVOURITES,n:mstrmojo.desc(9279),scriptClass:"mstrmojo.Label"}),2);}var T=mstrmojo.insert({id:"action",n:mstrmojo.desc(762),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.HBox",children:[{scriptClass:"mstrmojo.Label",text:mstrmojo.desc(7820)},{scriptClass:"mstrmojo.SelectBox",size:1,alias:"selector",cssText:"margin-left: 5px; width:200px;",bindings:{selectedItem:"{v:mstrmojo.all.buttonTileList.selectedItem.act.tp}"},ontargetChange:function(){var X=this.target.children;this.items=[];for(var W=0;W<X.length;W++){this.items.push({n:X[W].n,v:X[W].v});}this.set("selectedIndex",0);},onchange:function(){if(this.target){this.target.set("selected",this.target.children[this.selectedIndex]);}if(K.selectedItem&&K.selectedItem.set){K.selectedItem.act.set("tp",this.selectedItem.v);}},postCreate:function(){this.set("target",H);}}]},{scriptClass:"mstrmojo.FieldSet",cssText:"width:430px;height:160px;margin-top:10px",alias:"stack",children:[H]}]});var L=mstrmojo.insert({id:"icon",n:mstrmojo.desc(7809),scriptClass:"mstrmojo.VBox",children:[{scriptClass:"mstrmojo.RadioButton",name:"iconType",label:mstrmojo.desc(7810),value:1,cssDisplay:"block",cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_DEFAULT"},onclick:function(){K.selectedItem.icn.set("tp",A.ICON_DEFAULT);}},{scriptClass:"mstrmojo.RadioButton",name:"iconType",label:mstrmojo.desc(7811),value:2,cssDisplay:"block",cssClass:"iphoneSetting-radioButton",bindings:{checked:"mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_IMAGE"},onclick:function(){var W=K.selectedItem.icn;W.set("tp",A.ICON_IMAGE);}},{scriptClass:"mstrmojo.HBox",cssText:"margin-left: 40px",children:[{scriptClass:"mstrmojo.Label",cssText:"width:70px;",text:mstrmojo.desc(7801)},B({cssText:"width: 300px;margin-left:5px;",bindings:{value:"mstrmojo.all.buttonTileList.selectedItem.icn.img.src",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM && mstrmojo.all.buttonTileList.selectedItem.icn.tp === mstrmojo.mobileConfigUtil.ICON_IMAGE"},constraints:{trigger:mstrmojo.validation.TRIGGER.ALL,validator:function(W){if(this.required&&!(/^(https|http)\:\/\//i.test(W))){return{code:mstrmojo.validation.STATUSCODE.INVALID,msg:""};}return{code:mstrmojo.validation.STATUSCODE.VALID,msg:""};}},updateModel:function(){if(K.selectedItem){K.selectedItem.icn.img.set("src",this.value);}},invalidateModel:function(){if(K.selectedItem){delete K.selectedItem.icn.img.src;}}})]}]});var M=mstrmojo.insert({scriptClass:"mstrmojo.FieldSet",id:"formatSettings",legend:mstrmojo.desc(1918),cssClass:"homescreen-fieldset",cssText:"width: 500px;height: 200px;",children:[{scriptClass:"mstrmojo.SelectBox",cssText:"width: 185px;",alias:"selector",size:1,onchange:function(){this.target.set("selected",this.target.children[this.selectedIndex]);},ontargetChange:function(W){var Y=this.target.children;this.items=[];for(var X=0;X<Y.length;X++){this.items.push({n:Y[X].n,v:Y[X].id});}this.set("selectedIndex",0);}},{alias:"stack",scriptClass:"mstrmojo.StackContainer",cssText:"margin: 10px 0 0 35px;",renderMode:null,children:[U,D,G],postCreate:function(){this.parent.selector.set("target",this);}}]});var F=mstrmojo.insert({scriptClass:"mstrmojo.FieldSet",legend:mstrmojo.desc(7821),cssClass:"homescreen-fieldset",cssText:"height:300px;width: 500px;",children:[{scriptClass:"mstrmojo.VBox",bindings:{visible:"!!mstrmojo.all.buttonTileList.selectedItem"},children:[{scriptClass:"mstrmojo.SelectBox",alias:"selector",cssText:"margin:5px 10px 0 0; width:185px;",size:1,onchange:function(){this.target.set("selected",this.target.children[this.selectedIndex]);},ontargetChange:function(W){var Y=this.target.children;this.items=[];for(var X=0;X<Y.length;X++){this.items.push({n:Y[X].n,v:Y[X].id});}this.set("selectedIndex",1);}},{alias:"stack",scriptClass:"mstrmojo.StackContainer",cssText:"margin: 10px 0 0 35px;",children:[O,T,L],postCreate:function(){this.parent.selector.set("target",this);}}]}]});var E=mstrmojo.insert({scriptClass:"mstrmojo.HBox",id:"iphoneTileList-controlPanel",bindings:{totalPages:"(mstrmojo.all.buttonTileList.items.length>0)?Math.ceil(mstrmojo.all.buttonTileList.items.length/9):1",currentPage:"mstrmojo.all.buttonTileList.page+1"},children:[{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-addBtn",title:mstrmojo.desc(7822),onclick:function(){if(S.model.defaultButton===undefined){var X=this;S.model.getDefaultConfig(A.DEFAULT_IPHONE_HOMESCREEN_BUTTON,function(Y){S.model.defaultButton=Y;X.onclick();});}else{var W=K.add([A.makeButtonHashable(Q.clone(S.model.defaultButton))]);K.set("selectedIndex",W);if(Math.floor(W/9)+1!==this.parent.currentPage){K.set("page",Math.floor(W/9));}S.model.validate();}}},{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-delBtn",title:mstrmojo.desc(7823),bindings:{enabled:"mstrmojo.all.buttonTileList.selectedIndex > -1"},onclick:function(){var W=K.selectedIndex;if(W>-1){K.remove(K.selectedItem);if(W==K.items.length){W--;}K.set("selectedIndex",W);if(Math.floor(W/9)+1!==this.parent.currentPage){K.set("page",Math.floor(W/9));}S.model.validate();}}},{scriptClass:"mstrmojo.Button",cssText:"margin-left: 25px",iconClass:"iphoneTileList-prevPage",alias:"prevPage",bindings:{enabled:"this.parent.currentPage > 1"},onclick:function(){K.set("page",K.page-1);}},{scriptClass:"mstrmojo.Label",alias:"pageIndicator",bindings:{text:"'"+mstrmojo.desc(7827).replace(/###/,"'+this.parent.totalPages+'").replace(/##/,"'+this.parent.currentPage+'")+"'"}},{scriptClass:"mstrmojo.Button",iconClass:"iphoneTileList-nextPage",alias:"nextPage",bindings:{enabled:"this.parent.currentPage < this.parent.totalPages"},enabled:false,onclick:function(){K.set("page",K.page+1);}}]});var N=mstrmojo.insert({scriptClass:"mstrmojo.HBox",cssClass:"homescreen-custom",cssText:"width:870px",id:"customHomescreen",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_CUSTOM"},children:[{scriptClass:"mstrmojo.Container",markupString:"<div class='{@cssClass}'></div>",markupSlots:{containerNode:function(){return this.domNode;}},cssClass:"homescreen-leftPanel",cssText:"height:520px;width:325px;",children:[E,{scriptClass:"mstrmojo.Label",id:"textTitle",cssClass:"iphoneTextTitlebar",cssText:"font: bold 20px Arial;",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_REGULAR",text:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.cap.txt;if(W&&W.length>20){W=W.substring(0,20)+"...";}return W;}}},{scriptClass:"mstrmojo.Widget",id:"imgTitle",markupString:"<div class='{@cssClass}'><img src=''></div>",markupSlots:{imgNode:function(){return this.domNode.firstChild;}},cssClass:"iphoneImageTitlebar",bindings:{visible:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.tp === mstrmojo.mobileConfigUtil.TITLEBAR_IMAGE",bgImg:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.ttl.img.src"},markupMethods:{onbgImgChange:function(){if(this.bgImg){this.imgNode.src=this.bgImg;this.imgNode.style.display="none";var X=this;var W=new Image();W.onload=function(){var a=232,e=44;var Z=this.width,c=this.height;var b=(Z<a)?1:(Z/a),Y=(c<e)?1:(c/e);var d=(b>Y)?b:Y;var f=X.imgNode;if(f){f.width=(Z/d);f.height=(c/d);f.src=X.bgImg;if(c/d<=e){f.style.paddingTop=(e-c/d)/2+"px";}f.style.display="inline";}};W.src=X.bgImg;}else{this.imgNode.src="";this.imgNode.style.display="none";}},onvisibleChange:function(){this.domNode.style.display=this.visible?"block":"none";}}},K,{scriptClass:"mstrmojo.Widget",markupString:"<img src='' class='{@cssClass}'></img>",cssClass:"iphoneTileList-background",bindings:{bgImg:function(){if(mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.tp===mstrmojo.mobileConfigUtil.BACKGROUND_IMAGE){return mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.cst.fmt.bkg.img.src;}}},markupMethods:{onbgImgChange:function(){if(!this.bgImg){this.domNode.style.display="none";}else{this.domNode.style.display="block";this.domNode.src=this.bgImg;}}}}]},{scriptClass:"mstrmojo.VBox",cssText:"width:500px;height:520px;",children:[M,F]}]});function R(Z,X,Y){var W={scriptClass:"mstrmojo.RadioButton",name:"homescreen",label:X,cssText:"margin: 5px 10px 5px 0px;",cssDisplay:"block",value:Z,bindings:{checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){S.model.data.hsc.set("tp",Z);}};if(Y){W.slot=Y;}return W;}var J=mstrmojo.insert({scriptClass:"mstrmojo.Table",layout:[{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{},{},{}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]},{cells:[{colSpan:3}]}],children:[{scriptClass:"mstrmojo.RadioButton",name:"homescreen",label:mstrmojo.desc(7797),cssText:"margin: 5px 10px 5px 0px;",cssDisplay:"block",value:A.HOMESCREEN_DEFAULT,bindings:{checked:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return W===A.HOMESCREEN_DEFAULT||W===A.HOMESCREEN_CUSTOM;}},getDefaultHomeScreen:function(){var W=S.model.data.hsc,X=(mstrApp.device==A.DEVICE_IPHONE)?A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN:A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;S.model.getDefaultConfig(X,function(Y){A.makeCSTHomescreenHashable({cst:Y});W.set("tp",A.HOMESCREEN_DEFAULT);W.set("cst",Y);});},onclick:function(){this.getDefaultHomeScreen();},slot:"0,0"},R(A.HOMESCREEN_FOLDER,mstrmojo.desc(7798),"1,0"),B({cssText:"width: 335px;",readOnly:true,bindings:{value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd.oi.pt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER"},slot:"1,1"}),A.createObjBrowserDropdown({targetType:"fd",bindings:{target:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",isIphone:I,browsableTypes:"this.isIphone ? '8,17153':'8'"},allowCheckSubscription:true,slot:"1,2"}),{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8333),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER && !(this.folder.oi.t==67)",checked:"!(this.folder.oi.t==67) && this.folder.csp"},onclick:function(){if(this.folder!=null){this.folder.csp=this.checked;}},slot:"2,0"},{scriptClass:"mstrmojo.CheckBox",label:mstrmojo.desc(8485),cssText:"margin-left: 16px",bindings:{folder:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.fd",enabled:"this.folder != null && mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_FOLDER",checked:"this.folder.pcc"},onclick:function(){if(this.folder!=null){this.folder.set("pcc",this.checked);}},slot:"3,0"},{scriptClass:"mstrmojo.DropDownButton",cssClass:"mstrmojo-IphoneSettingAction-DropDownButton",cssText:"margin-left: 21px",selectedObjNum:0,text:mstrmojo.desc(12423),bindings:{visible:I,folder:"mstrmojo.all.ipadHomescreen_tab.model.data.hsc.fd",enabled:"this.folder && this.folder.oi && this.folder.pcc && !(this.folder.oi.t==67)",lwr:"this.folder.lwr",target:function(){return this.folder;}},onlwrChange:function(){if(!!this.lwr){this.selectedObjNum=this.lwr.ois.length;this.folder.lwr=this.lwr;this.set("text",mstrmojo.desc(12423)+", "+this.selectedObjNum+" "+mstrmojo.desc(12424)+".");}},mode:2,popupRef:A.getLightWeightReconcilePopup(),togglePopup:function C(){var W=this._lastOpened;if(W&&W.visible&&this.enabled){this.closePopup();}else{if(this.enabled){this.openPopup("popupRef",this.popupOpenConfig);}}},slot:"4,0"},{scriptClass:"mstrmojo.RadioButton",name:"homescreen_X",label:mstrmojo.desc(7800),cssDisplay:"block",bindings:{checked:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return W===A.HOMESCREEN_RD;}},onclick:function(){this.parent.rsHSTRadio.onclick();},slot:"5,0"},{scriptClass:"mstrmojo.RadioButton",name:"ipadHomescreen",alias:"rsHSTRadio",label:mstrmojo.desc(7799),cssText:"margin: 5px 10px 5px 20px",cssDisplay:"block",value:A.HOMESCREEN_RD,bindings:{visible:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return W==A.HOMESCREEN_RD;},checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},oncheckedChange:function(){if(this.checked!==undefined){var W=S.model.data.hsc;if(this.checked){if(!W.rs){W.set("rs",new mstrmojo.Obj({sobs:[],pb:new mstrmojo.Obj({iv:false,clr:14540253,pos:1,opa:1})}));}}}},onclick:function(){var W=S.model.data.hsc;W.set("tp",A.HOMESCREEN_RD);},slot:"6,0"},B({cssText:"width: 335px;",readOnly:true,bindings:{visible:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return W==A.HOMESCREEN_RD;},value:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.rs.oi.pt",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"6,1"}),A.createObjBrowserDropdown({browsableTypes:"3,8,55",targetType:"rs",bindings:{visible:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return W==A.HOMESCREEN_RD;},target:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc",enabled:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === mstrmojo.mobileConfigUtil.HOMESCREEN_RD"},slot:"6,2"}),Q.copy({slot:"7,0"},mstrmojo.all.ipadHomescreen_tab.createPreCacheHomescreen("iphonePreCacheItemList","mstrmojo.all.iphoneHomescreen_tab")),Q.copy({slot:"8,0"},mstrmojo.all.ipadHomescreen_tab.createProgressBarHomescreen("mstrmojo.all.iphoneHomescreen_tab")),{scriptClass:"mstrmojo.RadioButton",name:"homescreen",alias:"customHSTRadio",label:mstrmojo.desc(8629),cssText:"margin: 5px 10px 5px 20px;",cssDisplay:"block",value:A.HOMESCREEN_CUSTOM,bindings:{visible:function(){var W=mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp;return(mstrmojo.all.iphoneHomescreen_tab.model.data.dt===A.DEVICE_PHONE_UNIVERSAL&&(W===A.HOMESCREEN_RD||W===A.HOMESCREEN_CUSTOM));},checked:"mstrmojo.all.iphoneHomescreen_tab.model.data.hsc.tp === this.value"},onclick:function(){var W=S.model.data.hsc,X=(mstrApp.device==A.DEVICE_IPHONE)?A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN:A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;if(W.cst===undefined){S.model.getDefaultConfig(X,function(Y){A.makeCSTHomescreenHashable({cst:Y});W.set("cst",Y);W.set("tp",A.HOMESCREEN_CUSTOM);});}else{W.set("tp",A.HOMESCREEN_CUSTOM);}},slot:"9,0"},Q.copy({slot:"10,0"},N)]});S.addChildren(J);})();(function(){mstrmojo.requiresCls("mstrmojo.mobileConfigUtil","mstrmojo.Table","mstrmojo.ValidationTextBox","mstrmojo.TabContainer","mstrmojo.TabStrip","mstrmojo.StackContainer","mstrmojo.HBox","mstrmojo.HTMLButton","mstrmojo.string","mstrmojo.BlackBerry_tab","mstrmojo.iPhone_tab","mstrmojo.connect_tab","mstrmojo.ipadHomescreen_tab","mstrmojo.iphoneHomescreen_tab");mstrmojo.requiresDescs(118,221,7765,7896,8453,8454);var A=mstrmojo.mobileConfigUtil;mstrmojo.editConfig=mstrmojo.insert({scriptClass:"mstrmojo.VBox",id:"editConfig",model:null,_set_model:function(C,B){this.model=B;mstrmojo.all.BlackBerry_tab.set("model",B);mstrmojo.all.iPhone_tab.set("model",B);mstrmojo.all.connect_tab.set("model",B);mstrmojo.all.iphoneHomescreen_tab.set("model",B);mstrmojo.all.ipadHomescreen_tab.set("model",B);return true;},toConfList:function(){mstrmojo.form.send({evt:3004,target:"mobileList"});},children:[{scriptClass:"mstrmojo.HBox",cssText:"margin-top:5px",children:[A.propertyName(mstrmojo.desc(7765)+":",null,"padding-left:30px;margin: 5px 0px 0px 5px;width:178px"),{scriptClass:"mstrmojo.ValidationTextBox",alias:"cnVTB",cssClass:"mobileconfig-TextBox",required:true,dtp:mstrmojo.expr.DTP.CHAR,constraints:{trigger:mstrmojo.validation.TRIGGER.ALL},bindings:{value:"this.parent.parent.model.data.n"},onValid:function(){var B=this.parent.parent.model;A.setValidValue(B.data,"n",this.value);B.validate();},onInvalid:function(){var B=this.parent.parent.model;if(B){delete B.data.n;B.set("validFlag",false);}}}]},{scriptClass:"mstrmojo.TabContainer",alias:"tabCtnr",cssClass:"mobileconfig-tabContainer",children:[{scriptClass:"mstrmojo.TabStrip",slot:"top",autoHide:true,target:this.parent.tabsstack},{scriptClass:"mstrmojo.StackContainer",slot:"stack",alias:"tabsstack",cssClass:"mstrmojo-StackContainer-Border",border:"1px solid #AAAAAA",postCreate:function(){var B=(mstrApp.device)?mstrApp.device:undefined;switch(B){case"3":mstrmojo.all.iPhone_tab.set("n",mstrmojo.desc(8453,"Phone Settings"));case"1":this.set("children",[mstrmojo.all.iPhone_tab,mstrmojo.all.connect_tab,mstrmojo.all.iphoneHomescreen_tab]);break;case"4":case"2":mstrmojo.all.iPhone_tab.set("n",B=="2"?mstrmojo.desc(7896):mstrmojo.desc(8454,"Tablet Settings"));this.set("children",[mstrmojo.all.iPhone_tab,mstrmojo.all.connect_tab,mstrmojo.all.ipadHomescreen_tab]);break;case"5":this.set("children",[mstrmojo.all.BlackBerry_tab,mstrmojo.all.connect_tab]);break;default:break;}this.set("selected",this.children[0]);}}]},{scriptClass:"mstrmojo.HBox",cssText:"margin-left:150px;margin-bottom:8px;height:25px",save:function(B){var E=function(H,F,G){if(H=="pl"){return"prj";}else{if(H=="tcs"){return"cer";}else{return H.substr(0,H.length-1);}}},D=A.obj2Xml(this.parent.model.data,"cnf",true,false,null,E);var C=this;if(this.parent.model.data.cid){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(F){if(B){C.parent.toConfList();}},failure:function(F){A.showErrorMsgBox(F.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"updateMobileConfiguration",taskEnv:"xhr",configurationID:this.parent.model.data.cid,configurationXML:D},null,null);}else{mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(F){if(B){C.parent.toConfList();}},failure:function(F){A.showErrorMsgBox(F.getResponseHeader("X-MSTR-TaskFailureMsg"));}},{taskId:"createMobileConfiguration",taskEnv:"xhr",configurationXML:D},null,null);return ;}},children:[{scriptClass:"mstrmojo.Button",cssClass:"mobileconfig-Button",cssText:"margin-right:30px;font-weight:bold",text:mstrmojo.desc(118),bindings:{enabled:"this.parent.parent.model.validFlag"},onclick:function(B){this.parent.save(true);}},{scriptClass:"mstrmojo.Button",cssText:"margin-left:30px;font-weight:bold",cssClass:"mobileconfig-Button",text:mstrmojo.desc(221),onclick:function(B){this.parent.parent.toConfList();}}]}]});})();(function(){mstrmojo.requiresCls("mstrmojo.Table","mstrmojo.HBox","mstrmojo.Label","mstrmojo.Button","mstrmojo.HBox","mstrmojo.editConfig");mstrmojo.mobileConfigView=mstrmojo.insert({scriptClass:"mstrmojo.Table",id:"mobileConfigView",placeholder:"mobileConfigView",cssText:"border: 1px solid #808080;width:100%;border-collapse: collapse;padding-left:5px",layout:[{cssClass:"mstrPanelTitleBar",cells:[{}]},{cells:[{}]}],children:[{slot:"0,0",scriptClass:"mstrmojo.HBox",cssText:"width:100%",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrPanelTitle",text:mstrmojo.desc(7764)},{scriptClass:"mstrmojo.Widget",markupString:'<a href="{@helpRef}" style="float:right" target="_new"><img class="mstrIcon-btn mstrIcon-btnHelp" src="../images/1ptrans.gif"></img></a>',title:mstrmojo.desc(1143),helpRef:mstrmojo.helpPathMobileAdmin()+"mobileserver.htm#Deploying_and_configuring_the_MicroStrategy_Mobile.htm"}]},{slot:"1,0",scriptClass:"mstrmojo.HBox",children:[mstrmojo.all.editConfig]}]}).render();})();(function(){mstrmojo.requiresCls("mstrmojo.Obj","mstrmojo.mobileConfigView","mstrmojo.mobileConfigUtil");var A=mstrmojo.mobileConfigUtil,C=[];C[A.DEVICE_IPHONE]=A.DEFAULT_IPHONE_CUSTOM_HOMESCREEN;C[A.DEVICE_IPAD]=A.DEFAULT_IPAD_CUSTOM_HOMESCREEN;C[A.DEVICE_PHONE_UNIVERSAL]=A.DEFAULT_PHONE_UNIVERSAL_CUSTOM_HOMESCREEN;C[A.DEVICE_TABLET_UNIVERSAL]=A.DEFAULT_TABLET_UNIVERSAL_CUSTOM_HOMESCREEN;function B(F,E){if(E){if(F===undefined||F.oi===undefined||F.oi.did===undefined){return false;}}return true;}function D(L){if(L.gnl){var G=L.dt,M=L.gnl,P=[];if(G!="5"){P=["nt","mls","mgc","sci","cvi","art","dmatp","dcn","dd","dbwt","crd"];if(isNaN(parseInt(M.pe.v,10))){return false;}if(M.ucs.v&&!M.cs.v){return false;}}else{P=["apf","chs","cmi","cmt","cmw","ctk","mds","mff","mrl","nrt","plp","rpc","rsel","rsl","rtu","scf","slm","svc","tcp","tgt","tls","tqs","ums","wsc"];}for(var N=0;N<P.length;N++){if(M[P[N]].v===undefined){return false;}}}if(L.cty){var S=L.cty.tcs,F=L.cty.wsl;for(var N=0,Q=S.length;N<Q;N++){if(S[N].url===undefined){return false;}}for(var N=0,Q=F.length;N<Q;N++){var R=F[N];if(R.po===undefined||R.pt===undefined||R.nm===undefined){return false;}for(var K=0,J=R.pl,I=J.length;K<I;K++){if(J[K].asd===true&&(!J[K].sc||!J[K].sc.oi)){return false;}}}}if(L.hsc&&L.hsc.tp===A.HOMESCREEN_CUSTOM){var O=L.hsc.cst;if(O.fmt.bkg.tp===A.BACKGROUND_IMAGE){if(!O.fmt.bkg.img.src){return false;}}if(O.fmt.ttl.tp===A.TITLEBAR_IMAGE){if(!O.fmt.ttl.img.src){return false;}}for(var N=0,H=O.btns.length;N<H;N++){var E=O.btns[N];if(E.icn.tp===A.ICON_IMAGE){if(!E.icn.img.src){return false;}}}}if(L.n===undefined){return false;}return true;}mstrmojo.insert({scriptClass:"mstrmojo.Obj",id:"mobileConfig",validFlag:false,clearConfigData:function(){delete this.data;},refreshConfigData:function(H,F){var E=this,G={taskEnv:"xhr",blockVersion:1};if(H){G.taskId="getMobileConfiguration";G.configurationID=H;G.outputType=A.OUTPUT_TYPE_ALL;}else{G.taskId="getNewMobileConfiguration";G.deviceType=F;}mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:function(J){if(J){A.makeHashable(J.cty);if(J.hsc){A.makeCSTHomescreenHashable(J.hsc);}mstrmojo.all.mobileConfig.set("data",J);if(J.hsc&&J.hsc.tp==A.HOMESCREEN_DEFAULT){var I=J.hsc,K=C[mstrApp.device];E.getDefaultConfig(K,function(L){A.makeCSTHomescreenHashable({cst:L});I.set("cst",L);});}}},failure:function(I){A.showErrorMsgBox(I.getResponseHeader("X-MSTR-TaskFailureMsg"));}},G,false,null);},getDefaultConfig:function(F,E){mstrmojo.xhr.request("POST",mstrConfig.taskURL,{success:E,failure:function(G){if(G){A.showErrorMsgBox(G.getResponseHeader("X-MSTR-TaskFailureMsg"));}}},{taskId:"getMobileConfigurationBlock",configBlockType:F,taskEnv:"xhr",blockVersion:1},false,null);},getProjects:function(J,E){var F={};var K=[];if(this.data){for(var M=this.data.cty.wsl,I=0;I<M.length;I++){for(var G=M[I].pl,H=0;H<G.length;H++){var L=G[H].pid+"_"+G[H].sn;if(!F[L]){F[L]=1;var N={n:(G[H].pn+"("+G[H].sn+")"),v:G[H].pid,webServer:A.getWebSrvUrl(M[I]),iServer:G[H].sn,project:G[H].pn,authMode:(G[H].udc===true)?M[I].pdc.am:G[H].pc.am,tfa:G[H].tfa,transferAuthHeader:A.getTransferAuth(M[I])};if(J===N.v&&E===N.iServer){return[N];}K.push(N);}}}}return K;},validate:function(){var H=D(this.data);var F=this.data.hsc;if(F){H&=B(F.fd,F.tp===A.HOMESCREEN_FOLDER);H&=B(F.rs,F.tp===A.HOMESCREEN_RD);if(F.tp===A.HOMESCREEN_RD&&F.rs){var K=F.rs.sobs;for(var I=0,E=K.length;I<E;I++){var G=K[I];H&=B(G.rs,G.tp===A.ACT_RUNREPORT);H&=B(G.fd,G.tp===A.ACT_BROWSEFOLDER);}}if(F.tp===A.HOMESCREEN_CUSTOM&&F.cst){var J=F.cst.btns;for(var I=0,E=J.length;I<E;I++){var G=J[I].act;H&=B(G.rs,G.tp===A.ACT_RUNREPORT);H&=B(G.fd,G.tp===A.ACT_BROWSEFOLDER);}}}this.set("validFlag",!!H);},postCreate:function(){this.refreshConfigData((mstrApp.configId==="")?undefined:mstrmojo.string.decodeHtmlString(mstrApp.configId),(mstrApp.device==="")?undefined:mstrApp.device);}});mstrmojo.all.editConfig.set("model",mstrmojo.all.mobileConfig);})();