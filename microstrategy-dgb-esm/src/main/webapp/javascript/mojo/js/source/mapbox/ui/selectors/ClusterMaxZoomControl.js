(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.mapbox.ui.selectors.OveralZoomSlider","mstrmojo.mapbox.ui.selectors.ClusterMaxZoomSlider","mstrmojo.mapbox.ui.selectors._SliderCommon","mstrmojo.dom","mstrmojo.tooltip");var $D=mstrmojo.dom,getIndexByValue=mstrmojo.mapbox.ui.selectors._SliderCommon.getIndexByValue;mstrmojo.mapbox.ui.selectors.ClusterMaxZoomControl=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo.mapbox.ui.selectors._SliderCommon],{scriptClass:"mstrmojo.mapbox.ui.selectors.ClusterMaxZoomControl",cssClass:"mapbox-control-container mapbox-cluster-maxzoom-container",layoutConfig:{w:{containerNode:"100%",leftPadding:"7px",rightPadding:"7px"},xt:true},markupString:'<div class="{@cssClass}" style="{@cssText}" ></div>',markupSlots:{containerNode:function(){return this.domNode;},tooltipNode:function(){return[];}},markupMethods:{onvisibleChange:mstrmojo.Widget.visibleMarkupMethod,onenabledChange:mstrmojo.mapbox.ui.selectors._SliderCommon.enabledMarkupMethod},init:function init(p){if(!p.host){throw new Error(this.scriptClass+"must be initialized with a host which is a mapbox");}var host=p.host,mapViewer=host.mapViewer,baseLayer=mapViewer&&mapViewer.baseLayer,children,minZoom=baseLayer.minZoom,maxZoom=baseLayer.maxZoom;children=[{scriptClass:"mstrmojo.mapbox.ui.selectors.OveralZoomSlider",alias:"overalSlider",baseLayer:baseLayer,items:this.generateItems(minZoom,maxZoom),getIndexByValue:getIndexByValue,onselectionChange:function(){var zoomLevel=this.cs2Vl;baseLayer.setZoom(zoomLevel);},multiSelect:false,disableDnD:true,thumbWidth:14,_updateTooltip:function _updateTooltip(e,win){var tgt=$D.eventTarget(win,e),txt,descTxt,posType,tooltipClass,left=null,top=null,txtMarkup='<div class="name">{@content}</div>',descMarkup='<div class="dsc">{@description}</div>',tooltip,showTooltip=false;switch(tgt){case this.handle2Node:txt=mstrmojo.desc(15724,"Current zoom level of map:")+" "+Number(this.currentZoomLevel).toFixed(1);descTxt=mstrmojo.desc(15725,"The value will update when you zoom.");posType=mstrmojo.tooltip.POS_TOPLEFT;tooltipClass="vi-tooltip-C ";top=-8;left=this.handle2Node.offsetWidth+16;showTooltip=true;break;default:break;}if(showTooltip&&this.enabled){tooltip={cssClass:"mstrmojo-VISlider vi-regular "+tooltipClass+mstrApp.getThemeClassName(),content:txtMarkup.replace(/\{@content\}/g,txt)+(descTxt&&descTxt.length>0?descMarkup.replace(/\{@description\}/g,descTxt):""),contentNodeCssClass:"scm-tooltip",refNode:tgt,posType:posType,left:left,top:top};this.set("richTooltip",tooltip);}},},{scriptClass:"mstrmojo.mapbox.ui.selectors.ClusterMaxZoomSlider",host:host,cssClass:"sc mapbox-cluster-maxzoom",items:this.generateItems(minZoom,maxZoom,1),getIndexByValue:getIndexByValue}];this.children=children;this._super(p);}});}());