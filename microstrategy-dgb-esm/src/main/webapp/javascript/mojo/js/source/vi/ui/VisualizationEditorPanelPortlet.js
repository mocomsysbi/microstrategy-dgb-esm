(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.PanelPortlet","mstrmojo.vi.ui._IsDropTarget");var $CSS=mstrmojo.css,BORDER_CLS="dragIn";function hijackContext(context){var target=context.tgt,tgt=this.dropzoneTgt;if(tgt&&target){target.node=tgt.domNode.firstChild;target.widget=tgt;}}mstrmojo.vi.ui.VisualizationEditorPanelPortlet=mstrmojo.declare(mstrmojo.vi.ui.PanelPortlet,[mstrmojo.vi.ui._IsDropTarget],{scriptClass:"mstrmojo.vi.ui.VisualizationEditorPanelPortlet",dropzoneTgt:null,allowDrop:function allowDrop(context){hijackContext.call(this,context);return this.dropzoneTgt.allowDrop(context);},ondragover:function ondragover(context){this.addBorder();hijackContext.call(this,context);this.dropzoneTgt.ondragover(context);},ondrop:function ondrop(context){hijackContext.call(this,context);this.dropzoneTgt.ondrop(context);},addBorder:function addBorder(){$CSS.addClass(this.domNode,BORDER_CLS);},clearBorder:function clearBorder(){$CSS.removeClass(this.domNode,BORDER_CLS);},postBuildRendering:function postBuildRendering(){if(this._super){this._super();this.dropzoneTgt=this.children[0];}},getLayoutOffsets:function(){return(!!mstrApp.isWSStyling)?{h:0,w:26}:this._super();}});}());