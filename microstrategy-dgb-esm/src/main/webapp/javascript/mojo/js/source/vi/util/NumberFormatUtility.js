(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.num","mstrmojo.locales");var $ARR=mstrmojo.array,$NUM=mstrmojo.num,$LC=mstrmojo.locales;mstrmojo.vi.util.NumberFormatUtility=mstrmojo.provide("mstrmojo.vi.util.NumberFormatUtility",{applyFormatToNumber:function applyFormatToNumber(format,numStr,isDateOrTimeArg){var ph="\u00A4",qt=/"[^"]*"/g,strInQuote=format.match(qt),pf=format.replace(qt,ph),dateOrTimeStr=["m","y","d","h","s"],isDateOrTime=isDateOrTimeArg||false,date=new Date(),year=date.getFullYear(),month=date.getMonth(),weekDay=date.getDay(),lcDateTime=$LC.datetime,result;$ARR.forEach(dateOrTimeStr,function(str){isDateOrTime=isDateOrTime||pf.indexOf(str,0)!==-1;});if(isDateOrTime){pf=pf.replace(/y{3,}/g,year).replace(/y{1,2}/g,year.toString().slice(2,4));pf=pf.replace(/m{4,}/g,lcDateTime.MONTHNAME_FULL[month-1]).replace(/m{3}/g,lcDateTime.MONTHNAME_SHORT[month-1]).replace(/mm/g,"07").replace(/m/g,"7").replace(/7ber/g,"mber");pf=pf.replace(/d{4,}/g,lcDateTime.dayNames[weekDay-1]).replace(/d{3}/g,"Mon").replace(/dd/g,"10").replace(/d/g,"1").replace(/1ay/g,"day");pf=pf.replace(/hh/g,"08").replace(/h/g,"8");pf=pf.replace(/ss/g,"04").replace(/s/g,"4");pf=pf.split(ph);result=pf[0];$ARR.forEach(strInQuote,function(str,idx){result+=str+pf[idx+1];});return result;}if($NUM.isNumeric(numStr)){return $NUM.formatByMask(format,$NUM.parseNumeric(numStr));}return numStr;}});}());