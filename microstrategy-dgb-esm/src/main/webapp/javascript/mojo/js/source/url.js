(function(){mstrmojo.url=mstrmojo.provide("mstrmojo.url",{isAbsoluteURL:function(url){return(/^(http|https|ftp|file):\/\//i.test(url));},getAbsoluteURL:function(url,baseUrl){if(this.isAbsoluteURL(url)){return url;}if(baseUrl){return baseUrl+(/\/$/.test(baseUrl)?"":"/")+url;}return"http://"+url;},getWebServerUrl:function(isTablet){var webServerUrl=null;if(isTablet){if(mstrApp!==undefined&&mstrApp.getConfiguration){webServerUrl=mstrApp.getConfiguration().getCurrentProjectWebServerUrl();}}else{var href=document.location&&document.location.href;if(href){var hrefLowerCase=href.toLowerCase();var appReg="/app/",servletReg="/servlet/",aspReg="/asp/";var appIndex=hrefLowerCase.indexOf(appReg),servletIndex=hrefLowerCase.indexOf(servletReg),aspIndex=hrefLowerCase.indexOf(aspReg);if(appIndex>=0){webServerUrl=href.substr(0,appIndex+1);}else{if(servletIndex>=0){if(aspIndex<0){webServerUrl=href.substr(0,servletIndex+1);}else{if(aspIndex>=0){var index=(servletIndex>aspIndex)?aspIndex:servletIndex;webServerUrl=href.substr(0,index+1);}}}else{if(servletIndex<0){if(aspIndex>=0){webServerUrl=href.substr(0,aspIndex+1);}}}}}}return webServerUrl;},getFullPath:function getFullPath(path){var fullPath=path,reg=/^[A-z]:\/\//,baseUrl,baseUrlIdx;if(!(mstrApp&&mstrApp.isDossier)||!path||path.indexOf("data:image")===0){return path;}if(reg.test(path)){fullPath=path;}else{var tempReg1=/^(\.\.\/|\.\.\\)/;var tempReg2=/^(\.\/|\.\\)/;var tempReg3=/^(\/|\\)/;path=path.replace(tempReg1,"");path=path.replace(tempReg2,"");path=path.replace(tempReg3,"");if(mstrApp&&mstrApp.getConfiguration){var serverUrl=this.getWebServerUrl(this.isTablet);if(!serverUrl){fullPath=path;}else{fullPath=this.getAbsoluteURL(path,serverUrl);}}}return fullPath;}});}());