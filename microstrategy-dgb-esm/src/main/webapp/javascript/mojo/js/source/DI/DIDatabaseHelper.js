(function(){mstrmojo.requiresCls("mstrmojo.Obj");var constants=mstrmojo.DI.DIConstants,$ARR=mstrmojo.array,$DI_DB_TYPE=constants.dbType,$DI_XDA_TYPE=constants.xdaType,$DI_SOURCE=constants.sourceType,$DI_BE_SOURCE=constants.backendSourceSubtype;mstrmojo.DI.DIDatabaseHelper=mstrmojo.declare(mstrmojo.Obj,null,null);mstrmojo.DI.DIDatabaseHelper.getImportOptionByDBType=function getImportOption(dbType){switch(dbType){case $DI_DB_TYPE.SAP:case $DI_DB_TYPE.MSFT_AS:case $DI_DB_TYPE.ESSBASE:case $DI_DB_TYPE.TM1:case $DI_DB_TYPE.PIG:return false;default:return true;}};mstrmojo.DI.DIDatabaseHelper.getSourceTypeByDBType=function getSrcType(dbType){switch(dbType){case $DI_DB_TYPE.SAP:case $DI_DB_TYPE.MSFT_AS:case $DI_DB_TYPE.ESSBASE:case $DI_DB_TYPE.TM1:return $DI_XDA_TYPE.mdx;case $DI_DB_TYPE.PIG:return $DI_XDA_TYPE.ffsql;default:return -1;}};mstrmojo.DI.DIDatabaseHelper.getDescriptionIdByDBType=function(dbType){switch(dbType){case $DI_DB_TYPE.MS_ACCESS:return 9149;case $DI_DB_TYPE.ORACLE:return 8545;case $DI_DB_TYPE.SQL_SERVER:return 8552;case $DI_DB_TYPE.INFORMIX:return 12995;case $DI_DB_TYPE.SYBASE:return 12998;case $DI_DB_TYPE.REDBRICK:return 10059;case $DI_DB_TYPE.DB2:return 8516;case $DI_DB_TYPE.TERADATA:return 8553;case $DI_DB_TYPE.SAP:return 13107;case $DI_DB_TYPE.NETEZZA:return 8558;case $DI_DB_TYPE.EXCEL:return 3958;case $DI_DB_TYPE.MSFT_AS:return 13225;case $DI_DB_TYPE.ESSBASE:return 13224;case $DI_DB_TYPE.MYSQL:return 8556;case $DI_DB_TYPE.POSTGRESQL:return 8541;case $DI_DB_TYPE.COMPOSITE:return 12991;case $DI_DB_TYPE.ASTER:return 10058;case $DI_DB_TYPE.VERTICA:return 10062;case $DI_DB_TYPE.PARACCEL:return 10056;case $DI_DB_TYPE.TM1:return 13223;case $DI_DB_TYPE.XQUERY:return 8560;case $DI_DB_TYPE.HIVE:return 8561;case $DI_DB_TYPE.SALESFORCE:return 9213;case $DI_DB_TYPE.SAPHANA:return 12997;case $DI_DB_TYPE.GOOGLE_BIGQUERY:return 12450;default:return 4444;}};mstrmojo.DI.DIDatabaseHelper.getOASTFromBEST=function getOAuthSourceTypeFromBackendSourceType(beType){switch(beType){case $DI_BE_SOURCE.googleBigQuery:case $DI_BE_SOURCE.googleBigQueryFFSQLModel:case $DI_BE_SOURCE.googleBigQuerySingleTable:return $DI_SOURCE.googleBigQuery;case $DI_BE_SOURCE.dropbox:return $DI_SOURCE.dropbox;case $DI_BE_SOURCE.googleAnalytics:return $DI_SOURCE.googleAnalytics;case $DI_BE_SOURCE.googleDrive:return $DI_SOURCE.googleDrive;case $DI_BE_SOURCE.facebook:return $DI_SOURCE.facebook;case $DI_BE_SOURCE.twitter:return $DI_SOURCE.twitter;case $DI_BE_SOURCE.salesforce:return $DI_SOURCE.salesforce;default:return -1;}};mstrmojo.DI.DIDatabaseHelper.isOAuthSourceType=function isOAuthSourceType(sourceType){var oAuthSrcType=[$DI_SOURCE.googleBigQuery,$DI_SOURCE.dropbox,$DI_SOURCE.googleAnalytics,$DI_SOURCE.googleDrive,$DI_SOURCE.facebook,$DI_SOURCE.twitter,$DI_SOURCE.salesforce];return $ARR.indexOf(oAuthSrcType,sourceType)!==-1;};mstrmojo.DI.DIDatabaseHelper.filterDBById=function filterDBById(dbs,ids,mode){return $ARR.filter(dbs,function(db){var idx=$ARR.indexOf(ids,db.id),result;if(idx>-1){result=mode;}else{result=!mode;}return result;});};mstrmojo.DI.DIDatabaseHelper.filterDBByDispOption=function filterDBById(dbs,disp,dbIdExcludeFilter){return $ARR.filter(dbs,function(db){var isExcluded=false;if((db.disp&disp)===disp){$ARR.forEach(dbIdExcludeFilter,function(excludedDbId){if(db.id===excludedDbId){isExcluded=true;return false;}});return !isExcluded;}});};mstrmojo.DI.DIDatabaseHelper.getDBIds=function getDBIds(dbs){var res=[];$ARR.forEach(dbs,function(db){res=res.concat(db.id);});return res;};mstrmojo.DI.DIDatabaseHelper.getUniqueDBTypes=function getUniqueDBTypes(dbs){var res=[],idx;$ARR.forEach(dbs,function(db){idx=$ARR.indexOf(res,db.dbType);if(idx<0){res.push(db.dbType);}});return res;};mstrmojo.DI.DIDatabaseHelper.filterDBByAdminConfig=function(dbTypes,adminConfig){return $ARR.filter(dbTypes,function(dbType){var idx=$ARR.indexOf(adminConfig,dbType.id),ret=true;if(idx>=0){ret=false;}return ret;});};}());