(function(){mstrmojo.requiresCls("mstrmojo.Editor","mstrmojo.TextBox","mstrmojo.vi.ui._IsValidURL");mstrmojo.vi.ui.TextBoxURLEditor=mstrmojo.declare(mstrmojo.Editor,[mstrmojo.vi.ui._IsValidURL],{scriptClass:"mstrmojo.vi.ui.TextBoxURLEditor",showTitle:false,autoClose:true,cssClass:"textBoxURLEditor",model:null,docControl:null,children:[{scriptClass:"mstrmojo.TextBox",width:"400px",height:"43px",alias:"text",layoutConfig:{h:{inputNode:"43px",searchNode:"20px"},w:{inputNode:"100%",searchNode:"0px"},xt:true},onkeyup:mstrmojo.emptyFn()}],onOpen:function onOpen(){var me=this;window.setTimeout(function(){me.text.inputNode.focus();},10);},onClose:function onClose(){var quill=this.quill,quillInstance=quill&&quill.quillInstance,sbox=this.text,text=sbox.inputNode.value,hlText=quill.hlText,startIdx=hlText.index,len=hlText.length;if(quill&&sbox&&text&&hlText){quill.renderRVText();quill.parent.hideControlOverlay();if(this.isValidURL(text)){quillInstance.formatText(startIdx,len,"link",text);}quill.updatedirCachDel();quill.onUnselected();}if(this._super){this._super();this.destroy();}}});}());