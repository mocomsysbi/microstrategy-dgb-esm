(function(){mstrmojo.requiresClsP("mstrmojo","dom","css","desc","string");mstrmojo.requiresCls("mstrmojo.Dialog","mstrmojo._IsPopup","mstrmojo._IsMovable");var $DOM=mstrmojo.dom,$CSS=mstrmojo.css;mstrmojo.vi.ui.rw.CustomSortAvatar=mstrmojo.declare(mstrmojo.Dialog,[mstrmojo._IsPopup,mstrmojo._IsMovable],{scriptClass:"mstrmojo.vi.ui.rw.CustomSortAvatar",modal:false,title:mstrmojo.desc(15760,"Selected Element"),markupString:'<div id="{@id}" class="mstrmojo-CustomSortAvatar-wrapper"><div class="mstrmojo-CustomSortAvatar {@cssClass}" style="z-index:{@zIndex};{@cssText}" mstrAttach:mouseover,mouseout,click><div class="mstrmojo-CustomSortAvatar-titlebar"></div><div class="mstrmojo-CustomSortAvatar-content"></div></div></div>',markupSlots:{editorNode:function editorNode(){return this.domNode.firstChild;},titlebarNode:function titlebarNode(){return this.domNode.firstChild.firstChild;},containerNode:function containerNode(){return this.domNode.firstChild.childNodes[1];}},markupMethods:{ontitleChange:function(){this.titlebarNode.innerText=this.title;},onzIndexChange:function(){this.editorNode.style.zIndex=this.zIndex;},onvisibleChange:function(init){this.domNode.style.display=this.visible?"block":"none";},onleftChange:function onleftChange(){this.editorNode.style.left=this.left||"";},ontopChange:function ontopChange(){this.editorNode.style.top=this.top||"";}},children:[{scriptClass:"mstrmojo.HBox",slot:"containerNode",alias:"containerBox",children:[{scriptClass:"mstrmojo.Label",alias:"label",useRichTooltip:true,updateTooltipConfig:function(){var target=this.domNode,position;if(target.scrollWidth>target.clientWidth){position=$DOM.position(this.parent.domNode);this.richTooltip={cssClass:"vi-regular vi-tooltip-V",posType:mstrmojo.tooltip.POS_BOTTOMLEFT,content:target.textContent,top:position.y,left:position.x};}else{delete this.richTooltip;}}},{scriptClass:"mstrmojo.Widget",markupString:'<div class="icon close"></div>'}]}],updatePopupConfig:function updatePopupConfig(config,opener){var me=this;mstrmojo.hash.forEach(config,function(v,k){if(v!==undefined){me[k]=v;}});},onOpen:function onOpen(){this.containerBox.label.set("text",this.text);this.editorNode.style.top=this.top;this.editorNode.style.left=this.left;},preBuildRendering:function preBuildRendering(){if(!this.slot&&!this.placeholder){this.placeholder=document.body.appendChild(document.createElement("div"));}return this._super();},getMovingHandle:function getMovingHandle(){return this.titlebarNode;},getMovingTarget:function getMovingTarget(){return this.editorNode;}});}());