(function(){mstrmojo.requiresCls("mstrmojo.qb.bigquery.ESController");var constants=mstrmojo.DI.DIConstants;mstrmojo.AS.ASGBQController=mstrmojo.declare(mstrmojo.qb.bigquery.ESController,null,{onFinishButtonClick:function onFinishButtonClick(){var result={},params={};model=mstrApp.rootController.model,dbrId=model.dbrid,tables=model.tables,sourceAccountID=model.said;params.tables=new Array();tables.forEach(function(tbl){params.tables.push({id:tbl.dbr,ns:tbl.ns,account_id:sourceAccountID,n:tbl.n,dbtn:tbl.n,name:tbl.n});});params.name="Google Bigquery";params.id=dbrId;params.type=constants.dbType.GOOGLE_BIGQUERY;result[dbrId]=params;window.mstrAppSchema&&window.mstrAppSchema.callbacks.fetchTablesCallback(result);mstrApp.getRootController().exitApplication();}});}());