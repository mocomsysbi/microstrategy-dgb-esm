(function(){mstrmojo.requiresCls("mstrmojo.TextBox","mstrmojo._HasPopup","mstrmojo.Popup","mstrmojo.Label","mstrmojo.css");var $CSS=mstrmojo.css;mstrmojo.DI.DNTextBox=mstrmojo.declare(mstrmojo.TextBox,[mstrmojo._HasPopup],{scriptClass:"mstrmojo.DI.DNTextBox",sugName:"",maxInput:256,valid:false,defaultName:{scriptClass:"mstrmojo.Popup",cssClass:"mstrmojo-DI-DNTextBox-popup",locksHover:true,slot:"popupNode",content:"",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-DI-DNTextBox-defaultName",bindings:{text:function(){return this.parent.content;}},onclick:function(evt){var op=this.parent&&this.parent.opener;if(op){op.set("value",evt.src.text);op.closePopup();}}}]},markupString:'<div id="{@id}" class="mstrmojo-DI-DNTextBox {@cssClass}" style="{@cssText}"><input class="mstrmojo-DI-DNTextBox-input" type="text" title="{@tooltip}"value="{@value}" size="{@size}" maxlength="{@maxLength}" index="{@tabIndex}" mstrAttach:focus,keyup,blur,click /><div class="mstrmojo-DI-DNTextBox-wordCount"></div><div class="mstrmojo-DI-DNTextBox-popup"></div></div>',markupSlots:{inputNode:function(){return this.domNode.childNodes[0];},wordCountNode:function(){return this.domNode.childNodes[1];},popupNode:function(){return this.domNode.childNodes[2];}},onclick:function(evt){var c={content:this.sugName};this.openPopup("defaultName",c);},postvalueChange:function postvalueChange(){var inputNode=this.inputNode,wordCountNode=this.wordCountNode,value=this.value,vLength=value.length,maxInput=this.maxInput,valid=maxInput>=vLength&&vLength!==0;this.set("valid",valid);wordCountNode.innerHTML=vLength+"/"+maxInput;$CSS.toggleClass(wordCountNode,"invalid",!valid);$CSS.toggleClass(inputNode,"invalid",!valid);}});}());