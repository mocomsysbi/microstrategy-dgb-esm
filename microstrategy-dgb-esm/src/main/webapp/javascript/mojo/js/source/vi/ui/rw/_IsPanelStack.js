(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.hash");var $ARR=mstrmojo.array,$HASH=mstrmojo.hash;mstrmojo.vi.ui.rw._IsPanelStack=mstrmojo.provide("mstrmojo.vi.ui.rw._IsPanelStack",{_mixinName:"mstrmojo.vi.ui.rw._IsPanelStack",getFormats:function getFormats(){return{};},selectPanel:function selectPanel(key,hasLoader,skipServerCall,update,callback){var useCmdMgr=false,oldSelKey=this.selectedKey;if(!update){update=this.model.getDataService().newUpdateWithoutCmd({callback:callback});useCmdMgr=true;}this.selectPanelDeferred(update,key,hasLoader,skipServerCall);this.model.getDataService().addSuppressData(update.extras);$ARR.forEach(this.children,function(panel){if(panel.visible&&panel.hasRendered&&panel.children&&panel.children.length===0){panel.refresh();}});if(!skipServerCall&&update.actions&&update.actions.length>0){if(useCmdMgr){this.controller.cmdMgr.execute({execute:function(){var urInfo=this.urInfo,fnPreUndoRedoSelectPanel=function(){urInfo.extras.params.suppressData=false;}.bind(this);urInfo=$HASH.copy({undo:function(){urInfo.puKeys=[oldSelKey];fnPreUndoRedoSelectPanel();},redo:function(){urInfo.puKeys=[key];fnPreUndoRedoSelectPanel();},},urInfo);update.cmd=this;update.submit();},urInfo:{extras:{style:{params:{treesToRender:3}},params:{suppressData:true}}},isUntracked:mstrApp.isAppStateSelection()});}else{update.submit();}}}});}());