(function(){mstrmojo.requiresCls("mstrmojo.dom","mstrmojo.gmaps.MapUtils","mstrmojo.gmaps.geometry.Point");var $MUTIL=mstrmojo.gmaps.MapUtils,$FONT_FORMAT={fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style",textDecoration:"text-decoration"};mstrmojo.gmaps.geometry.Text=mstrmojo.declare(mstrmojo.gmaps.geometry.Point,null,{scriptClass:"mstrmojo.gmaps.geometry.Text",nodeTag:"text",text:"",fontSize:10,fontFamily:"Arial",defaultFillColor:"#ffffff",isCenterAlign:false,skipStrokeProperty:true,initNodeStyles:function initNodeStyles(){this._super();this.applyTextContent(this.text);this.applyFontFormat(this);this.applyAlignment();},applyTextContent:function applyTextContent(content){var node=this.node;if(node){if(node.textContent!==undefined){node.textContent=content;}else{node.innerText=content;}}this.text=content;},applyFontFormat:function applyFontFormat(props){if(!props){return ;}var attributes={},key;for(key in $FONT_FORMAT){if(props[key]){attributes[$FONT_FORMAT[key]]=this[key]=props[key];if(key==="fontFamily"){attributes[$FONT_FORMAT[key]]="'"+props[key]+"'";}}}$MUTIL.setNodeAttributes(this.node,attributes);},applyAlignment:function applyAlignment(){if(this.isCenterAlign){$MUTIL.setNodeAttributes(this.node,{"text-anchor":"middle",dy:".35em"});}},setPosition:function setPosition(props){this._super(props);if($MUTIL.checkVal(this.x)&&$MUTIL.checkVal(this.y)){$MUTIL.setNodeAttributes(this.node,{x:this.x,y:this.y});}},update:function update(props){if(!props){return ;}this._super(props);var text=props.text;if($MUTIL.checkDefined(text)){this.applyTextContent(text);}}});}());