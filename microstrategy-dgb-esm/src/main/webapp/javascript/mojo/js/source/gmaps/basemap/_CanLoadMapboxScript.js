(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo._LoadsScript","mstrmojo.gmaps.MapUtils","mstrmojo.PerformanceLogOutput");var $ARR=mstrmojo.array,$GMAPS=mstrmojo.gmaps,$PerfLog=mstrmojo.PerformanceLogOutput,$MUTLS=$GMAPS.MapUtils;function getRequestList(URLs){var me=this;return $ARR.map(URLs,function(url){return{url:url,forceReload:true,onError:{callback:me.loadMap,params:mstrmojo.mapbox}};});}mstrmojo.gmaps.basemap._CanLoadMapboxScript=mstrmojo.provide("mstrmojo.gmaps.basemap._CanLoadMapboxScript",{_mixinName:"mstrmojo.gmaps.basemap._CanLoadMapboxScript",callback:null,loadExternalScript:function loadScript(callBackFunc){this.callback=callBackFunc;this.loadMainModule();},loadMainModule:function loadMainModule(){var me=this,intervalId;if(mstrmojo._LoadsScript.esScritsContext===this){mstrmojo._LoadsScript.esScritsContext=null;}$PerfLog.endTimer("timerid_callback_LoadMainModule");$PerfLog.visPrint("load Mapbox external script end");intervalId=window.setInterval(function(){window.clearInterval(intervalId);me.loadMap(mstrmojo.mapbox);},50);}});}());