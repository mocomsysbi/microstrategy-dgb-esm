(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.rw.selectors.Slider","mstrmojo.vi.ui.rw.selectors.SliderHelper","mstrmojo.hash","mstrmojo.dom","mstrmojo.tooltip","mstrmojo.gmaps.MapEnums");var $HASH=mstrmojo.hash,$D=mstrmojo.dom,$GMAPS=mstrmojo.gmaps,$EnumPropertyType=$GMAPS.EnumPropertyType;mstrmojo.mapbox.ui.selectors.ClusterMaxZoomSlider=mstrmojo.declare(mstrmojo.vi.ui.rw.selectors.Slider,null,{scriptClass:" mstrmojo.mapbox.ui.selectors.ClusterMaxZoomSlider",sliderDefaultWidth:140,multiSelect:false,init:function init(p){p=$HASH.copy(p,{isHoriz:true,multiSelect:false,min:0,max:22});if(!p.host){throw new Error(this.scriptClass+"must be initialized with a host which is a mapbox");}var host=p.host,props=host.getEditingGridProps(),currentMaxZoom=parseInt(props[$EnumPropertyType.clusterMaxZoom],10);p.selectedIndex=isNaN(currentMaxZoom)?22:currentMaxZoom;this._super(p);},onselectionChange:function(){var host=this.host;host.writeProperties($EnumPropertyType.clusterMaxZoom,this.cs2Idx);},initDrag:function initDrag(e,hWin){if(this.enabled){this._super(e,hWin);}},_updateTooltip:function _updateTooltip(e,win){var tgt=$D.eventTarget(win,e),txt,descTxt,posType,tooltipClass,left=null,top=null,txtMarkup='<div class="name">{@content}</div>',descMarkup='<div class="dsc">{@description}</div>',tooltip,showTooltip=false;switch(tgt){case this.handle2Node:txt=String(this.cs2Nm).replace("$","$$$$");posType=mstrmojo.tooltip.POS_TOPLEFT;tooltipClass="vi-tooltip-A ";top=this.handle2Node.offsetHeight+18;left=-4;showTooltip=true;break;case this.lowNode:txt=mstrmojo.desc(15726,"This is the zoom level where you can see the whole world.");posType=mstrmojo.tooltip.POS_TOPLEFT;tooltipClass="vi-tooltip-C ";top=-8;left=this.lowNode.offsetWidth+16;showTooltip=true;break;case this.highNode:txt=mstrmojo.desc(15727,"This is the zoom level where you can see streets and buildings.");posType=mstrmojo.tooltip.POS_TOPLEFT;tooltipClass="vi-tooltip-C ";top=-8;left=this.highNode.offsetWidth+16;showTooltip=true;break;default:break;}if(showTooltip&&this.enabled){tooltip={cssClass:"mstrmojo-VISlider vi-regular "+tooltipClass+mstrApp.getThemeClassName(),content:txtMarkup.replace(/\{@content\}/g,txt)+(descTxt&&descTxt.length>0?descMarkup.replace(/\{@description\}/g,descTxt):""),contentNodeCssClass:"scm-tooltip",refNode:tgt,posType:posType,left:left,top:top};this.set("richTooltip",tooltip);}},destroy:function dst(skipCleanup){if(this.baseLayer){delete this.baseLayer;}this._super(skipCleanup);}});}());