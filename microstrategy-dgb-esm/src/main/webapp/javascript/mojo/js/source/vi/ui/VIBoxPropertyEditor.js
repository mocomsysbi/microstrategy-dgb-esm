(function(){mstrmojo.requiresCls("mstrmojo.vi.ui.BoxPanel","mstrmojo.vi.ui.toolbars._HasToolbar","mstrmojo.vi.ui._IsUnitDependentPanel","mstrmojo.vi._MonitorsAppState","mstrmojo.css");mstrmojo.vi.ui.VIBoxPropertyEditor=mstrmojo.declare(mstrmojo.vi.ui.BoxPanel,[mstrmojo.vi.ui._IsUnitDependentPanel,mstrmojo.vi.ui.toolbars._HasToolbar,mstrmojo.vi._MonitorsAppState],{scriptClass:"mstrmojo.vi.ui.VIBoxPropertyEditor",layoutConfig:{h:{controlNode:"25px",containerNode:"100%"},w:{controlNode:"all",containerNode:"all"},xt:true},init:function init(props){this._super(props);mstrmojo.css.addWidgetCssClass(this,"mstrmojo-vi-PropEditor");},onAppStateChange:function onAppStateChange(evt){var appStates=mstrmojo.vi.VisualInsightApp.APP_STATES,pauseMode=appStates.PAUSE,isPauseMode=mstrApp.isAppStatePause&&mstrApp.isAppStatePause();var wasPauseMode=!!(evt.valueWas&pauseMode);if(isPauseMode!==wasPauseMode&&!(mstrApp.enableUpdate&&wasPauseMode)){var targetUnit=this.targetUnit,targetUnitId=targetUnit&&targetUnit.id,selectUnitId=this.model&&this.model._selectedUnitId;if(targetUnitId!==selectUnitId){return ;}var contents=this.contents,children=(contents.children||[]).slice(),vis=targetUnit&&targetUnit.boxContent;if(vis){vis.excludeData=isPauseMode;}contents.removeChildren();children.forEach(function(child){child.destroy();});this.onVIUnitSelected(targetUnit);}},onVIUnitSelected:function onVIUnitSelected(targetUnit){var editorModel=targetUnit&&targetUnit.getEditorModel(),postUpdateFn=function(){this.updateScrollbars();},contents=editorModel&&editorModel.getEditorContents(postUpdateFn.bind(this));if(contents){contents.forEach(function(child){child.slot="containerNode";});this.contents.addChildren(contents);this.generateToolbar();this.doLayout();}else{if(editorModel&&editorModel.getDelayedEditorContents){editorModel.getDelayedEditorContents(this,targetUnit);}}},onvisibleChange:function onvisibleChange(evt){if(this.viPanelType===mstrmojo.vi.ui.BoxPanel.PANEL_TYPES.PROPS&&evt.value){this.refresh();}},updateToolbar:function updateToolbar(cfg){var targetUnit=this.targetUnit,editorModel=targetUnit&&targetUnit.getEditorModel();this.addRenameTargetMenuItem(cfg);this.addHelpTopicMenuItem(cfg,mstrmojo.desc(1143,"Help"),editorModel&&editorModel.help);return this._super(cfg);}});}());