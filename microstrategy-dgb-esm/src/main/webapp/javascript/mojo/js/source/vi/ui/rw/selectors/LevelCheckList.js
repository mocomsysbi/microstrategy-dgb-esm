(function(){mstrmojo.requiresCls("mstrmojo.Container","mstrmojo._HasLayout","mstrmojo.vi.ui.rw.selectors._IsLevelList","mstrmojo.ui.Pulldown","mstrmojo.vi.ui.rw.selectors.SearchableCheckList","mstrmojo.Box","mstrmojo.Widget","mstrmojo.Button.newWebButton","mstrmojo.css");var $WIDGET=mstrmojo.Widget,$NWB=mstrmojo.Button.newWebButton,$CSS=mstrmojo.css;var ALL_ITEMS="all";mstrmojo.vi.ui.rw.selectors.LevelCheckList=mstrmojo.declare(mstrmojo.Container,[mstrmojo._HasLayout,mstrmojo.vi.ui.rw.selectors._IsLevelList],{scriptClass:"mstrmojo.vi.ui.rw.selectors.LevelCheckList",markupString:'<div id="{@id}" style="{@cssText}" class="mstrmojo-vi-sel-LevelCheckList {@cssClass}"><div class="level-control"></div><div class="level-container"></div><div class="level-buttonBar"></div></div>',markupSlots:{controlNode:function controlNode(){return this.domNode.firstChild;},containerNode:function containerNode(){return this.domNode.children[1];},buttonBarNode:function buttonBarNode(){return this.domNode.lastChild;}},markupMethods:{onvisibleChange:$WIDGET.visibleMarkupMethod,onheightChange:$WIDGET.heightMarkupMethod,onwidthChange:$WIDGET.widthMarkupMethod,onapplyEnabledChange:function(){var showApply=this.applyEnabled;$CSS.toggleClass(this.domNode,"noApply",!showApply);this.layoutConfig.h.buttonBarNode=showApply?"36px":"0px";this.doLayout();}},layoutConfig:{h:{controlNode:"30px",containerNode:"100%"},w:{controlNode:"100%",containerNode:"100%",buttonBarNode:"100%"},xt:true},children:[{scriptClass:"mstrmojo.ui.Pulldown",slot:"controlNode",alias:"levelPulldown",cssClass:"level",isHostedWithin:false,bindings:{levels:"this.parent.levels",level:"this.parent.level"},onlevelsChange:function(evt){var level=this.level,isLevelNumber=parseInt(level,10)>=0,levels=evt.value;this.set("items",this.parent.getLevels(levels));this.selectItemByField("v",(isLevelNumber&&!levels[level])?ALL_ITEMS:level);},onlevelChange:function(evt){this.selectItemByField("v",evt.value);},onitemSelected:function(item){this.parent.set("level",item.v);}},{scriptClass:"mstrmojo.vi.ui.rw.selectors.SearchableCheckList",slot:"containerNode",alias:"checklist",bindings:{level:"this.parent.level"}},{scriptClass:"mstrmojo.Box",slot:"buttonBarNode",alias:"buttons",children:[$NWB(mstrmojo.desc(134,"Apply"),function(){var widget=this.parent.parent;if(widget.applyEnabled){widget.handleSelectionSubmit(true);}},true),$NWB(mstrmojo.desc(221,"Cancel"),function(){this.parent.parent.handleSelectionSubmit(false);},false)]}],getCheckList:function getCheckList(){return this.checklist;}});}());