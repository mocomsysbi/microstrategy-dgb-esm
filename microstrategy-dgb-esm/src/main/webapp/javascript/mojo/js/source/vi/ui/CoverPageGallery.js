(function(){mstrmojo.requiresCls("mstrmojo.array","mstrmojo.Box","mstrmojo.css","mstrmojo.Image","mstrmojo.ui._HasScroller");var ARR=mstrmojo.array,CSS=mstrmojo.css;mstrmojo.vi.ui.CoverPageGallery=mstrmojo.declare(mstrmojo.Box,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.vi.ui.CoverPageGallery",markupString:'<div id="{@id}" class="mstrmojo-Box mstrmojo-vi-ui-CoverPageGallery {@cssClass}" style="{@cssText}"><div style="height: 100%"></div></div>',cssText:"overflow: hidden",markupSlots:{containerNode:function(){return this.domNode.firstChild;}},imageList:[],selectedImgNode:null,selectedImgURL:"",onselectedImgURLChange:function onselectedImgURLChange(){var children=this.children,idx=ARR.find(children,"src",this.selectedImgURL),childImg=idx>-1?children[idx]:null;this.changeSelectedImg(childImg);},changeSelectedImg:function changeSelectedImg(img){if(this.selectedImgNode){CSS.toggleClass(this.selectedImgNode,"selected",false);}CSS.toggleClass(img&&img.imgNode||null,"selected",true);this.selectedImgNode=img&&img.imgNode||null;},onimageSelected:mstrmojo.emptyFn,onimageListChange:function onImagelistChange(){this.removeChildren();var me=this;var imgList=this.imageList=this.imageList||[],children=[];ARR.forEach(imgList,function(img){children.push({scriptClass:"mstrmojo.Image",src:img.src,cssDisplay:"inline-block",imgCssClass:"coverPageItem",onclick:function(){if(me.selectedImgURL!==this.src){me.set("selectedImgURL",this.src);me.onimageSelected(this.src);}}});});this.addChildren(children);this.onselectedImgURLChange();this.updateScrollbars();},setupScrollNodes:function setupScrollNodes(){this.scrollNode=this.containerNode;}});}());