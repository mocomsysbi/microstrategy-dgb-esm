(function(){mstrmojo.requiresCls("mstrmojo.Box","mstrmojo.HBox","mstrmojo.TextBox","mstrmojo.Button","mstrmojo.css","mstrmojo.vi.ui.ElementsBrowser","mstrmojo.vi.ui.IncHierarchyCheckList","mstrmojo.mstr.EnumDSSXMLObjectTypes");var $CSS=mstrmojo.css,$OBJECT_TYPE=mstrmojo.mstr.EnumDSSXMLObjectTypes;var BUTTON_PANEL_HEIGHT="36px";mstrmojo.vi.ui.HierarchyElementsCheckListBrowser=mstrmojo.declare(mstrmojo.vi.ui.ElementsBrowser,null,{scriptClass:"mstrmojo.vi.ui.HierarchyElementsCheckListBrowser",children:[{scriptClass:"mstrmojo.HBox",slot:"searchBoxNode",alias:"util",cssClass:"elemsBrowser-utils-bar",children:[{scriptClass:"mstrmojo.Box",cssClass:"eb-box-search",alias:"box",children:[{scriptClass:"mstrmojo.TextBox",alias:"searchBox",hint:"Search",cssClass:"eb-searchBox",onEnter:function onEnter(){var text=this.value,eleBrowser=this.parent.parent.parent,isSamePattern=!eleBrowser.searchPattern&&!text;if(!isSamePattern){eleBrowser.set("searchPattern",text);}this.blur();}},{scriptClass:"mstrmojo.Button",cssClass:"eb-searchBox-clear",text:"",onclick:function(){var searchBox=this.parent.searchBox;searchBox.set("value","");searchBox.cleanUp();searchBox.focus();searchBox.onEnter();},bindings:{visible:"(this.parent.searchBox.value || '').length > 0"}},{scriptClass:"mstrmojo.Button",cssClass:"eb-searchBox-search",text:"",onclick:function(){var searchBox=this.parent.searchBox;searchBox.focus();searchBox.onEnter();}}]}]},{scriptClass:"mstrmojo.HBox",slot:"buttonPanelNode",alias:"buttonPanel",cssClass:"elemsBrowser-button-panel"},{scriptClass:"mstrmojo.vi.ui.IncHierarchyCheckList",alias:"elementList",slot:"elementListNode",allowUnlistedValues:false,bindings:{disableLevel:"this.parent.disableLevel"},getDataHelper:function(){return this.parent.ifDataHelper;},getAttribute:function(){return this.parent.attribute;},isHiearachyDisplay:function isHiearachyDisplay(){var eleBrowser=this.parent;return !eleBrowser.searchPattern||eleBrowser.searchPattern==="";},setSelectedItems:function setSelectedItems(exprJSON){if(typeof exprJSON==="object"){this.setSelectionByExprJSON(exprJSON);}},postSelectionChange:function postSelectionChange(){var attribute=this.getAttribute();if(attribute){this.parent.onItemsSelectionChange(this.buildSelectionExprJSON(attribute));}}}],init:function init(props){this._super(props);$CSS.addWidgetCssClass(this,"hierarchy");if(this.disableLevel){$CSS.addWidgetCssClass(this,"disable-level");}},postCreateChildren:function postCreateChildren(){var eleList=this.elementList;this.util.addChildren(eleList.getLevelPopupConfig());this.buttonPanel.addChildren([eleList.getAllButtonConfig(true),eleList.getAllButtonConfig(false)]);},onattributeChange:function onattributeChange(evt){var eleList=this.elementList;eleList.clearItems();this._super(evt);},onsearchPatternChange:function onsearchPatternChange(){var eleList=this.elementList,isHiearachy=eleList.isHiearachyDisplay();this._super();this.buttonPanel.set("visible",isHiearachy);this.layoutConfig.h.buttonPanelNode=isHiearachy?BUTTON_PANEL_HEIGHT:"0px";this.doLayout();},isObjSearchable:function isObjSearchable(obj){return true;},onElementsListchange:mstrmojo.emptyFn,updateClearAllBtnState:mstrmojo.emptyFn,_set_selectedItems:null});}());