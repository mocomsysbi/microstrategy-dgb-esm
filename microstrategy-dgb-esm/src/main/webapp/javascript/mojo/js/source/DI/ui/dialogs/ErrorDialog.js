(function(){mstrmojo.requiresCls("mstrmojo.DI.DIHelpers","mstrmojo.Editor","mstrmojo.Label","mstrmojo.VBox","mstrmojo.ui.Checkbox");mstrmojo.requiresDescs(14058,14059);var $HELPer=mstrmojo.DI.DIHelpers;function shutDownServerBasedWS(params){var controller=mstrApp.getRootController();if($HELPer.isServerBasedWS()){controller.shutDownServerBased(params);}}mstrmojo.DI.ui.dialogs.ErrorDialog=mstrmojo.declare(mstrmojo.Editor,null,{scriptClass:"mstrmojo.DI.ui.dialogs.ErrorDialog",cssClass:"mstrmojo-di-ui-dialogs-ErrorDialog",showTitle:true,summary:"",errorMessage:"",detailErrorMessage:"",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-errorDialog-icon"},{scriptClass:"mstrmojo.VBox",alias:"errorSection",cssClass:"mstrmojo-errorDialog-errorSection",children:[{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-errorDialog-summary",alias:"summary",bindings:{text:"this.parent.parent.summary"}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-errorDialog-description",bindings:{text:"this.parent.parent.errorMessage",visible:function(){var des=this.parent.parent.errorMessage;return des!==null&&des!=="";}}},{scriptClass:"mstrmojo.ui.Checkbox",cssClass:"mstrmojo-errorDialog-details-toggle",alias:"detailsToggler",oncheckedChange:function(){this.parent.details.set("visible",this.checked);this.parent.detailsHeader.set("text",this.checked?mstrmojo.desc(14059,"Hide Details"):mstrmojo.desc(14058,"Show Details"));this.parent.parent.positionDialog();}},{scriptClass:"mstrmojo.Label",alias:"detailsHeader",cssClass:"mstrmojo-errorDialog-details-header",text:mstrmojo.desc(14058,"Show Details"),onclick:function(){var toggle=this.parent.detailsToggler;toggle.set("checked",!toggle.checked);}},{scriptClass:"mstrmojo.Label",cssClass:"mstrmojo-errorDialog-details",alias:"details",visible:false}]}],buttons:[{scriptClass:"mstrmojo.Button",cssClass:"mstrmojo-di-button mstrmojo-WebButton hot",text:mstrmojo.desc(1442,"OK"),alias:"okButton",onclick:function(){var editor=this.parent.parent;editor.close();if(editor.showTitle===false){shutDownServerBasedWS("{}");}if(editor.onOK){editor.onOK();}}}],onOpen:function onOpen(){if(this.showTitle===false){window.FormWrapper.setTitle("");}var hasDetails=!!this.detailErrorMessage,errorSec=this.errorSection;errorSec.detailsToggler.set("visible",hasDetails);errorSec.detailsHeader.set("visible",hasDetails);if(hasDetails){errorSec.detailsToggler.set("checked",false);errorSec.details.domNode.innerHTML=this.detailErrorMessage;}}});}());