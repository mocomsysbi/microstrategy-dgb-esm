(function(){mstrmojo.requiresCls("mstrmojo.gmaps.geometry.Polygon");function getTangentPoints(pointInfo){var rA=pointInfo.rA,rB=pointInfo.rB,xA=pointInfo.xA,yA=pointInfo.yA,xB=pointInfo.xB,yB=pointInfo.yB;var cosT=((xA-xB)*(rA-rB)+(yA-yB)*Math.sqrt((xA-xB)*(xA-xB)+(yA-yB)*(yA-yB)-(rA-rB)*(rA-rB)))/((xA-xB)*(xA-xB)+(yA-yB)*(yA-yB));var sinT=((yA-yB)*(rA-rB)-(xA-xB)*Math.sqrt((xA-xB)*(xA-xB)+(yA-yB)*(yA-yB)-(rA-rB)*(rA-rB)))/((xA-xB)*(xA-xB)+(yA-yB)*(yA-yB));return[{x:(xB-rB*cosT),y:(yB-rB*sinT)},{x:(xA-rA*cosT),y:(yA-rA*sinT)}];}mstrmojo.gmaps.geometry.TangentPath=mstrmojo.declare(mstrmojo.gmaps.geometry.Polygon,null,{scriptClass:"mstrmojo.gmaps.geometry.TangentPath",radiusA:1,radiusB:1,update:function update(props){var pathStr;this.loadProps(props);if(this.screenPolylineArr){var screenPolyline=this.screenPolylineArr[0],line0=screenPolyline[0],line1=screenPolyline[1];if(line0&&line1){var pointInfo={rA:this.radiusA,rB:this.radiusB,xA:line0.x,yA:line0.y,xB:line1.x,yB:line1.y};var points1=getTangentPoints(pointInfo);pointInfo.rA*=-1;pointInfo.rB*=-1;var points2=getTangentPoints(pointInfo);pathStr=this.generatePath([[points1[0],points1[1],points2[1],points2[0]]]);}}this.setPath(pathStr);}});}());