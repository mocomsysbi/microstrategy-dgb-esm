(function(){mstrmojo.requiresClsP("mstrmojo","Box","Label","css");mstrmojo.requiresCls("mstrmojo.vi.ui.editors.PassThroughExpressionInputBox");mstrmojo.requiresDescs(15596,2827);var $DESC=mstrmojo.desc,$CSS=mstrmojo.css;mstrmojo.vi.ui.editors.cm.MDXExpressionPanel=mstrmojo.declare(mstrmojo.Box,null,{scriptClass:"mstrmojo.vi.ui.editors.cm.MDXExpressionPanel",cssClass:"mstrmojo-MDXExpressionPanel",children:[{scriptClass:"mstrmojo.Box",alias:"labelBox",children:[{scriptClass:"mstrmojo.Label",cssDisplay:"inline-block",text:$DESC(15596,"MDX Expression:")},{scriptClass:"mstrmojo.Label",cssClass:"clearBtn",cssDisplay:"inline-block",alias:"clearBtn",text:$DESC(2827,"Clear"),enabled:false,onenabledChange:function(){$CSS.toggleClass(this.domNode,"enabled",this.enabled);},onclick:function(){if(this.enabled){this.parent.parent.inputBox.setValue("");}}}]},{scriptClass:"mstrmojo.vi.ui.editors.PassThroughExpressionInputBox",alias:"inputBox",onvalueChange:function(){this.parent.toggleClearBtn(!!(this.value||this.exprNodeHasChildren));this.parent.set("value",this.value);this.set("invalid",this.isExpressionInvalid());},onexprNodeHasChildrenChange:function(){this.parent.toggleClearBtn(!!(this.value||this.exprNodeHasChildren));}}],toggleClearBtn:function(enabled){this.clearBtn().set("enabled",enabled);},getExpression:function(){return this.inputBox.value;},clearBtn:function(){return this.labelBox.clearBtn;},resetDisplay:function(expressionValue){this.inputBox.setValue(expressionValue);}});}());