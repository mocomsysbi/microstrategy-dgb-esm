(function(){mstrmojo.requiresCls("mstrmojo.Label","mstrmojo._HasEditableText","mstrmojo.css","mstrmojo._CanHandleTwoClicks","mstrmojo.Label","mstrmojo.Widget");var $CSS=mstrmojo.css,$LBL_MM=mstrmojo.Label.prototype.markupMethods;mstrmojo.EditableLabel=mstrmojo.declare(mstrmojo.Label,[mstrmojo._CanHandleTwoClicks,mstrmojo._HasEditableText],{scriptClass:"mstrmojo.EditableLabel",autoApplyDelay:-1,markupString:'<div id="{@id}" class="mstrmojo-EditableLabel {@cssClass}" title="{@title}" contenteditable="{@isEditing}" style="{@cssText}" mstrAttach:click,mousedown,blur,keydown,keyup></div>',markupMethods:mstrmojo.hash.copy({onwidthChange:function(){mstrmojo.Widget.widthMarkupMethod.call(this);},ontextChange:function(){if($LBL_MM.ontextChange){$LBL_MM.ontextChange.call(this);}this.widgetResized();},onvisibleChange:function(){if($LBL_MM.onvisibleChange){$LBL_MM.onvisibleChange.call(this);}if(this.visible){this.widgetResized();}}},mstrmojo.hash.copy($LBL_MM)),onkeyup:function onkeyup(evt){this._super(evt);if(this._autoApplyTimer){window.clearTimeout(this._autoApplyTimer);}if(this.autoApplyDelay!==-1){var me=this;this._autoApplyTimer=window.setTimeout(function(){me.set("isEditing",false);},this.autoApplyDelay);}},postBuildRendering:function postBuildRendering(){if(this._super){this._super();}this.widgetResized();},selectable:true});mstrmojo._HasMarkup.addMarkupMethods(mstrmojo.EditableLabel,{onselectableChange:function onselectableChange(){var editableDomNode=this[this.editableSlot],isSelectable=!!this.selectable;editableDomNode.selectable=isSelectable;editableDomNode.setAttribute("unselectable",!isSelectable?"on":"off");$CSS.toggleClass(editableDomNode,"unselectable",!isSelectable);}});}());