(function(){mstrmojo.requiresCls("mstrmojo.gmaps.layer.AbstractMarkerLayer","mstrmojo.gmaps.MapUtils","mstrmojo.gmaps.MapEnums");var $GMAPS=mstrmojo.gmaps,$MUTIL=$GMAPS.MapUtils,$EnumRenderMethod=$GMAPS.EnumRenderMethod;mstrmojo.gmaps.layer.DensityLayer=mstrmojo.declare(mstrmojo.gmaps.layer.AbstractMarkerLayer,null,{scriptClass:"mstrmojo.gmaps.layer.DensityLayer",renderMethod:$EnumRenderMethod.canvas,refresh:function refresh(data){this._super(data);var _viewer=this._viewer;if(_viewer){_viewer.refresh();}},getPropsForViewerUpdate:function getPropsForViewerUpdate(){return{themeId:this.getThemeId()};},getThemeId:function getThemeId(){var layerProps=this.layerProps;if(layerProps&&$MUTIL.checkDefined(layerProps.dms)){return parseInt(layerProps.dms,10);}},getGraphicsFromPoint:function getGraphicsFromPoint(evt){var _viewer=this._viewer;if(_viewer){return _viewer.getGraphicsFromPoint(evt);}},panBy:function panBy(cssTransform){if(!cssTransform||!$MUTIL.checkVal(cssTransform.x)||!$MUTIL.checkVal(cssTransform.y)){return ;}this._super(cssTransform);var preCssTransform=this.preCssTransform,top=cssTransform.y,left=cssTransform.x,_viewer=this._viewer;if(this.isGeoDataLayer()&&preCssTransform&&$MUTIL.checkVal(preCssTransform.x)&&$MUTIL.checkVal(preCssTransform.y)){top-=preCssTransform.y;left-=preCssTransform.x;}if(_viewer){_viewer.setTransform({x:left,y:top});}},clean:function clean(){this._super();var _viewer=this._viewer;if(_viewer){_viewer.clean();}},supportDataLabel:function(){return false;}});}());